var BA=e=>{throw TypeError(e)};var Ew=(e,t,n)=>t.has(e)||BA("Cannot "+n);var re=(e,t,n)=>(Ew(e,t,"read from private field"),n?n.call(e):t.get(e)),Ge=(e,t,n)=>t.has(e)?BA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),$e=(e,t,n,a)=>(Ew(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),xt=(e,t,n)=>(Ew(e,t,"access private method"),n);var qg=(e,t,n,a)=>({set _(s){$e(e,t,s,n)},get _(){return re(e,t,a)}});function a7(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var SI={exports:{}},Eb={},_I={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=Symbol.for("react.element"),s7=Symbol.for("react.portal"),i7=Symbol.for("react.fragment"),o7=Symbol.for("react.strict_mode"),l7=Symbol.for("react.profiler"),c7=Symbol.for("react.provider"),d7=Symbol.for("react.context"),u7=Symbol.for("react.forward_ref"),m7=Symbol.for("react.suspense"),h7=Symbol.for("react.memo"),f7=Symbol.for("react.lazy"),UA=Symbol.iterator;function p7(e){return e===null||typeof e!="object"?null:(e=UA&&e[UA]||e["@@iterator"],typeof e=="function"?e:null)}var CI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AI=Object.assign,TI={};function Em(e,t,n){this.props=e,this.context=t,this.refs=TI,this.updater=n||CI}Em.prototype.isReactComponent={};Em.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Em.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function OI(){}OI.prototype=Em.prototype;function kS(e,t,n){this.props=e,this.context=t,this.refs=TI,this.updater=n||CI}var PS=kS.prototype=new OI;PS.constructor=kS;AI(PS,Em.prototype);PS.isPureReactComponent=!0;var VA=Array.isArray,EI=Object.prototype.hasOwnProperty,SS={current:null},RI={key:!0,ref:!0,__self:!0,__source:!0};function MI(e,t,n){var a,s={},i=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)EI.call(t,a)&&!RI.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)s[a]===void 0&&(s[a]=l[a]);return{$$typeof:eg,type:e,key:i,ref:o,props:s,_owner:SS.current}}function g7(e,t){return{$$typeof:eg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _S(e){return typeof e=="object"&&e!==null&&e.$$typeof===eg}function x7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var qA=/\/+/g;function Rw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x7(""+e.key):t.toString(36)}function Hx(e,t,n,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case eg:case s7:o=!0}}if(o)return o=e,s=s(o),e=a===""?"."+Rw(o,0):a,VA(s)?(n="",e!=null&&(n=e.replace(qA,"$&/")+"/"),Hx(s,t,n,"",function(d){return d})):s!=null&&(_S(s)&&(s=g7(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(qA,"$&/")+"/")+e)),t.push(s)),1;if(o=0,a=a===""?".":a+":",VA(e))for(var l=0;l<e.length;l++){i=e[l];var c=a+Rw(i,l);o+=Hx(i,t,n,c,s)}else if(c=p7(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=a+Rw(i,l++),o+=Hx(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Kg(e,t,n){if(e==null)return e;var a=[],s=0;return Hx(e,a,"","",function(i){return t.call(n,i,s++)}),a}function y7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ea={current:null},Gx={transition:null},v7={ReactCurrentDispatcher:ea,ReactCurrentBatchConfig:Gx,ReactCurrentOwner:SS};function DI(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:Kg,forEach:function(e,t,n){Kg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kg(e,function(){t++}),t},toArray:function(e){return Kg(e,function(t){return t})||[]},only:function(e){if(!_S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pt.Component=Em;Pt.Fragment=i7;Pt.Profiler=l7;Pt.PureComponent=kS;Pt.StrictMode=o7;Pt.Suspense=m7;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v7;Pt.act=DI;Pt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=AI({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=SS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)EI.call(t,c)&&!RI.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:eg,type:e.type,key:s,ref:i,props:a,_owner:o}};Pt.createContext=function(e){return e={$$typeof:d7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c7,_context:e},e.Consumer=e};Pt.createElement=MI;Pt.createFactory=function(e){var t=MI.bind(null,e);return t.type=e,t};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(e){return{$$typeof:u7,render:e}};Pt.isValidElement=_S;Pt.lazy=function(e){return{$$typeof:f7,_payload:{_status:-1,_result:e},_init:y7}};Pt.memo=function(e,t){return{$$typeof:h7,type:e,compare:t===void 0?null:t}};Pt.startTransition=function(e){var t=Gx.transition;Gx.transition={};try{e()}finally{Gx.transition=t}};Pt.unstable_act=DI;Pt.useCallback=function(e,t){return ea.current.useCallback(e,t)};Pt.useContext=function(e){return ea.current.useContext(e)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(e){return ea.current.useDeferredValue(e)};Pt.useEffect=function(e,t){return ea.current.useEffect(e,t)};Pt.useId=function(){return ea.current.useId()};Pt.useImperativeHandle=function(e,t,n){return ea.current.useImperativeHandle(e,t,n)};Pt.useInsertionEffect=function(e,t){return ea.current.useInsertionEffect(e,t)};Pt.useLayoutEffect=function(e,t){return ea.current.useLayoutEffect(e,t)};Pt.useMemo=function(e,t){return ea.current.useMemo(e,t)};Pt.useReducer=function(e,t,n){return ea.current.useReducer(e,t,n)};Pt.useRef=function(e){return ea.current.useRef(e)};Pt.useState=function(e){return ea.current.useState(e)};Pt.useSyncExternalStore=function(e,t,n){return ea.current.useSyncExternalStore(e,t,n)};Pt.useTransition=function(){return ea.current.useTransition()};Pt.version="18.3.1";_I.exports=Pt;var j=_I.exports;const U=Vt(j),II=a7({__proto__:null,default:U},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b7=j,w7=Symbol.for("react.element"),j7=Symbol.for("react.fragment"),N7=Object.prototype.hasOwnProperty,k7=b7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P7={key:!0,ref:!0,__self:!0,__source:!0};function LI(e,t,n){var a,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)N7.call(t,a)&&!P7.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:w7,type:e,key:i,ref:o,props:s,_owner:k7.current}}Eb.Fragment=j7;Eb.jsx=LI;Eb.jsxs=LI;SI.exports=Eb;var r=SI.exports,$I={exports:{}},Va={},FI={exports:{}},BI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,D){var G=S.length;S.push(D);e:for(;0<G;){var q=G-1>>>1,C=S[q];if(0<s(C,D))S[q]=D,S[G]=C,G=q;else break e}}function n(S){return S.length===0?null:S[0]}function a(S){if(S.length===0)return null;var D=S[0],G=S.pop();if(G!==D){S[0]=G;e:for(var q=0,C=S.length,X=C>>>1;q<X;){var Q=2*(q+1)-1,xe=S[Q],Pe=Q+1,ee=S[Pe];if(0>s(xe,G))Pe<C&&0>s(ee,xe)?(S[q]=ee,S[Pe]=G,q=Pe):(S[q]=xe,S[Q]=G,q=Q);else if(Pe<C&&0>s(ee,G))S[q]=ee,S[Pe]=G,q=Pe;else break e}}return D}function s(S,D){var G=S.sortIndex-D.sortIndex;return G!==0?G:S.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,f=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(S){for(var D=n(d);D!==null;){if(D.callback===null)a(d);else if(D.startTime<=S)a(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(d)}}function N(S){if(p=!1,b(S),!g)if(n(c)!==null)g=!0,B(w);else{var D=n(d);D!==null&&K(N,D.startTime-S)}}function w(S,D){g=!1,p&&(p=!1,y(_),_=-1),f=!0;var G=h;try{for(b(D),m=n(c);m!==null&&(!(m.expirationTime>D)||S&&!A());){var q=m.callback;if(typeof q=="function"){m.callback=null,h=m.priorityLevel;var C=q(m.expirationTime<=D);D=e.unstable_now(),typeof C=="function"?m.callback=C:m===n(c)&&a(c),b(D)}else a(c);m=n(c)}if(m!==null)var X=!0;else{var Q=n(d);Q!==null&&K(N,Q.startTime-D),X=!1}return X}finally{m=null,h=G,f=!1}}var k=!1,P=null,_=-1,T=5,I=-1;function A(){return!(e.unstable_now()-I<T)}function R(){if(P!==null){var S=e.unstable_now();I=S;var D=!0;try{D=P(!0,S)}finally{D?E():(k=!1,P=null)}}else k=!1}var E;if(typeof v=="function")E=function(){v(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=R,E=function(){$.postMessage(null)}}else E=function(){x(R,0)};function B(S){P=S,k||(k=!0,E())}function K(S,D){_=x(function(){S(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,B(w))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(S){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var G=h;h=D;try{return S()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,D){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var G=h;h=S;try{return D()}finally{h=G}},e.unstable_scheduleCallback=function(S,D,G){var q=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?q+G:q):G=q,S){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=G+C,S={id:u++,callback:D,priorityLevel:S,startTime:G,expirationTime:C,sortIndex:-1},G>q?(S.sortIndex=G,t(d,S),n(c)===null&&S===n(d)&&(p?(y(_),_=-1):p=!0,K(N,G-q))):(S.sortIndex=C,t(c,S),g||f||(g=!0,B(w))),S},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(S){var D=h;return function(){var G=h;h=D;try{return S.apply(this,arguments)}finally{h=G}}}})(BI);FI.exports=BI;var S7=FI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _7=j,Fa=S7;function we(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UI=new Set,wf={};function ad(e,t){$u(e,t),$u(e+"Capture",t)}function $u(e,t){for(wf[e]=t,e=0;e<t.length;e++)UI.add(t[e])}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ON=Object.prototype.hasOwnProperty,C7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zA={},KA={};function A7(e){return ON.call(KA,e)?!0:ON.call(zA,e)?!1:C7.test(e)?KA[e]=!0:(zA[e]=!0,!1)}function T7(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O7(e,t,n,a){if(t===null||typeof t>"u"||T7(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ta(e,t,n,a,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pr[e]=new ta(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pr[t]=new ta(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pr[e]=new ta(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pr[e]=new ta(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pr[e]=new ta(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pr[e]=new ta(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pr[e]=new ta(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pr[e]=new ta(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pr[e]=new ta(e,5,!1,e.toLowerCase(),null,!1,!1)});var CS=/[\-:]([a-z])/g;function AS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(CS,AS);Pr[t]=new ta(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(CS,AS);Pr[t]=new ta(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(CS,AS);Pr[t]=new ta(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pr[e]=new ta(e,1,!1,e.toLowerCase(),null,!1,!1)});Pr.xlinkHref=new ta("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pr[e]=new ta(e,1,!1,e.toLowerCase(),null,!0,!0)});function TS(e,t,n,a){var s=Pr.hasOwnProperty(t)?Pr[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O7(t,n,s,a)&&(n=null),a||s===null?A7(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,a=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var co=_7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wg=Symbol.for("react.element"),Dd=Symbol.for("react.portal"),Id=Symbol.for("react.fragment"),OS=Symbol.for("react.strict_mode"),EN=Symbol.for("react.profiler"),VI=Symbol.for("react.provider"),qI=Symbol.for("react.context"),ES=Symbol.for("react.forward_ref"),RN=Symbol.for("react.suspense"),MN=Symbol.for("react.suspense_list"),RS=Symbol.for("react.memo"),Co=Symbol.for("react.lazy"),zI=Symbol.for("react.offscreen"),WA=Symbol.iterator;function uh(e){return e===null||typeof e!="object"?null:(e=WA&&e[WA]||e["@@iterator"],typeof e=="function"?e:null)}var kn=Object.assign,Mw;function Dh(e){if(Mw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mw=t&&t[1]||""}return`
`+Mw+e}var Dw=!1;function Iw(e,t){if(!e||Dw)return"";Dw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=a.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Dw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Dh(e):""}function E7(e){switch(e.tag){case 5:return Dh(e.type);case 16:return Dh("Lazy");case 13:return Dh("Suspense");case 19:return Dh("SuspenseList");case 0:case 2:case 15:return e=Iw(e.type,!1),e;case 11:return e=Iw(e.type.render,!1),e;case 1:return e=Iw(e.type,!0),e;default:return""}}function DN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Id:return"Fragment";case Dd:return"Portal";case EN:return"Profiler";case OS:return"StrictMode";case RN:return"Suspense";case MN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qI:return(e.displayName||"Context")+".Consumer";case VI:return(e._context.displayName||"Context")+".Provider";case ES:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case RS:return t=e.displayName||null,t!==null?t:DN(e.type)||"Memo";case Co:t=e._payload,e=e._init;try{return DN(e(t))}catch{}}return null}function R7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return DN(t);case 8:return t===OS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function KI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function M7(e){var t=KI(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hg(e){e._valueTracker||(e._valueTracker=M7(e))}function WI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=KI(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function vy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function IN(e,t){var n=t.checked;return kn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function HA(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=hl(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function HI(e,t){t=t.checked,t!=null&&TS(e,"checked",t,!1)}function LN(e,t){HI(e,t);var n=hl(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$N(e,t.type,n):t.hasOwnProperty("defaultValue")&&$N(e,t.type,hl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function GA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $N(e,t,n){(t!=="number"||vy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ih=Array.isArray;function iu(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+hl(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function FN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(we(91));return kn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function YA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(we(92));if(Ih(n)){if(1<n.length)throw Error(we(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hl(n)}}function GI(e,t){var n=hl(t.value),a=hl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function JA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function YI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function BN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?YI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gg,JI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gg=Gg||document.createElement("div"),Gg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Jh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D7=["Webkit","ms","Moz","O"];Object.keys(Jh).forEach(function(e){D7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jh[t]=Jh[e]})});function QI(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Jh.hasOwnProperty(e)&&Jh[e]?(""+t).trim():t+"px"}function XI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,s=QI(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,s):e[n]=s}}var I7=kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function UN(e,t){if(t){if(I7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(we(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(we(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(we(61))}if(t.style!=null&&typeof t.style!="object")throw Error(we(62))}}function VN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qN=null;function MS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zN=null,ou=null,lu=null;function QA(e){if(e=rg(e)){if(typeof zN!="function")throw Error(we(280));var t=e.stateNode;t&&(t=Lb(t),zN(e.stateNode,e.type,t))}}function ZI(e){ou?lu?lu.push(e):lu=[e]:ou=e}function e3(){if(ou){var e=ou,t=lu;if(lu=ou=null,QA(e),t)for(e=0;e<t.length;e++)QA(t[e])}}function t3(e,t){return e(t)}function n3(){}var Lw=!1;function r3(e,t,n){if(Lw)return e(t,n);Lw=!0;try{return t3(e,t,n)}finally{Lw=!1,(ou!==null||lu!==null)&&(n3(),e3())}}function Nf(e,t){var n=e.stateNode;if(n===null)return null;var a=Lb(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(we(231,t,typeof n));return n}var KN=!1;if(Qi)try{var mh={};Object.defineProperty(mh,"passive",{get:function(){KN=!0}}),window.addEventListener("test",mh,mh),window.removeEventListener("test",mh,mh)}catch{KN=!1}function L7(e,t,n,a,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Qh=!1,by=null,wy=!1,WN=null,$7={onError:function(e){Qh=!0,by=e}};function F7(e,t,n,a,s,i,o,l,c){Qh=!1,by=null,L7.apply($7,arguments)}function B7(e,t,n,a,s,i,o,l,c){if(F7.apply(this,arguments),Qh){if(Qh){var d=by;Qh=!1,by=null}else throw Error(we(198));wy||(wy=!0,WN=d)}}function sd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function a3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function XA(e){if(sd(e)!==e)throw Error(we(188))}function U7(e){var t=e.alternate;if(!t){if(t=sd(e),t===null)throw Error(we(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return XA(s),e;if(i===a)return XA(s),t;i=i.sibling}throw Error(we(188))}if(n.return!==a.return)n=s,a=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,a=i;break}if(l===a){o=!0,a=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,a=s;break}if(l===a){o=!0,a=i,n=s;break}l=l.sibling}if(!o)throw Error(we(189))}}if(n.alternate!==a)throw Error(we(190))}if(n.tag!==3)throw Error(we(188));return n.stateNode.current===n?e:t}function s3(e){return e=U7(e),e!==null?i3(e):null}function i3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=i3(e);if(t!==null)return t;e=e.sibling}return null}var o3=Fa.unstable_scheduleCallback,ZA=Fa.unstable_cancelCallback,V7=Fa.unstable_shouldYield,q7=Fa.unstable_requestPaint,Ln=Fa.unstable_now,z7=Fa.unstable_getCurrentPriorityLevel,DS=Fa.unstable_ImmediatePriority,l3=Fa.unstable_UserBlockingPriority,jy=Fa.unstable_NormalPriority,K7=Fa.unstable_LowPriority,c3=Fa.unstable_IdlePriority,Rb=null,li=null;function W7(e){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(Rb,e,void 0,(e.current.flags&128)===128)}catch{}}var $s=Math.clz32?Math.clz32:Y7,H7=Math.log,G7=Math.LN2;function Y7(e){return e>>>=0,e===0?32:31-(H7(e)/G7|0)|0}var Yg=64,Jg=4194304;function Lh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ny(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?a=Lh(l):(i&=o,i!==0&&(a=Lh(i)))}else o=n&~s,o!==0?a=Lh(o):i!==0&&(a=Lh(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&s)&&(s=a&-a,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(a&4&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-$s(t),s=1<<n,a|=e[n],t&=~s;return a}function J7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q7(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-$s(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&a)&&(s[o]=J7(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function HN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function d3(){var e=Yg;return Yg<<=1,!(Yg&4194240)&&(Yg=64),e}function $w(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tg(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$s(t),e[t]=n}function X7(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$s(n),i=1<<s;t[s]=0,a[s]=-1,e[s]=-1,n&=~i}}function IS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-$s(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}var zt=0;function u3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m3,LS,h3,f3,p3,GN=!1,Qg=[],Zo=null,el=null,tl=null,kf=new Map,Pf=new Map,Ro=[],Z7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eT(e,t){switch(e){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":el=null;break;case"mouseover":case"mouseout":tl=null;break;case"pointerover":case"pointerout":kf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pf.delete(t.pointerId)}}function hh(e,t,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=rg(t),t!==null&&LS(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function eH(e,t,n,a,s){switch(t){case"focusin":return Zo=hh(Zo,e,t,n,a,s),!0;case"dragenter":return el=hh(el,e,t,n,a,s),!0;case"mouseover":return tl=hh(tl,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return kf.set(i,hh(kf.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Pf.set(i,hh(Pf.get(i)||null,e,t,n,a,s)),!0}return!1}function g3(e){var t=cc(e.target);if(t!==null){var n=sd(t);if(n!==null){if(t=n.tag,t===13){if(t=a3(n),t!==null){e.blockedOn=t,p3(e.priority,function(){h3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=YN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);qN=a,n.target.dispatchEvent(a),qN=null}else return t=rg(n),t!==null&&LS(t),e.blockedOn=n,!1;t.shift()}return!0}function tT(e,t,n){Yx(e)&&n.delete(t)}function tH(){GN=!1,Zo!==null&&Yx(Zo)&&(Zo=null),el!==null&&Yx(el)&&(el=null),tl!==null&&Yx(tl)&&(tl=null),kf.forEach(tT),Pf.forEach(tT)}function fh(e,t){e.blockedOn===t&&(e.blockedOn=null,GN||(GN=!0,Fa.unstable_scheduleCallback(Fa.unstable_NormalPriority,tH)))}function Sf(e){function t(s){return fh(s,e)}if(0<Qg.length){fh(Qg[0],e);for(var n=1;n<Qg.length;n++){var a=Qg[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Zo!==null&&fh(Zo,e),el!==null&&fh(el,e),tl!==null&&fh(tl,e),kf.forEach(t),Pf.forEach(t),n=0;n<Ro.length;n++)a=Ro[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Ro.length&&(n=Ro[0],n.blockedOn===null);)g3(n),n.blockedOn===null&&Ro.shift()}var cu=co.ReactCurrentBatchConfig,ky=!0;function nH(e,t,n,a){var s=zt,i=cu.transition;cu.transition=null;try{zt=1,$S(e,t,n,a)}finally{zt=s,cu.transition=i}}function rH(e,t,n,a){var s=zt,i=cu.transition;cu.transition=null;try{zt=4,$S(e,t,n,a)}finally{zt=s,cu.transition=i}}function $S(e,t,n,a){if(ky){var s=YN(e,t,n,a);if(s===null)Gw(e,t,a,Py,n),eT(e,a);else if(eH(s,e,t,n,a))a.stopPropagation();else if(eT(e,a),t&4&&-1<Z7.indexOf(e)){for(;s!==null;){var i=rg(s);if(i!==null&&m3(i),i=YN(e,t,n,a),i===null&&Gw(e,t,a,Py,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else Gw(e,t,a,null,n)}}var Py=null;function YN(e,t,n,a){if(Py=null,e=MS(a),e=cc(e),e!==null)if(t=sd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=a3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Py=e,null}function x3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z7()){case DS:return 1;case l3:return 4;case jy:case K7:return 16;case c3:return 536870912;default:return 16}default:return 16}}var Go=null,FS=null,Jx=null;function y3(){if(Jx)return Jx;var e,t=FS,n=t.length,a,s="value"in Go?Go.value:Go.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(a=1;a<=o&&t[n-a]===s[i-a];a++);return Jx=s.slice(e,1<a?1-a:void 0)}function Qx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xg(){return!0}function nT(){return!1}function qa(e){function t(n,a,s,i,o){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xg:nT,this.isPropagationStopped=nT,this}return kn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xg)},persist:function(){},isPersistent:Xg}),t}var Rm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BS=qa(Rm),ng=kn({},Rm,{view:0,detail:0}),aH=qa(ng),Fw,Bw,ph,Mb=kn({},ng,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:US,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ph&&(ph&&e.type==="mousemove"?(Fw=e.screenX-ph.screenX,Bw=e.screenY-ph.screenY):Bw=Fw=0,ph=e),Fw)},movementY:function(e){return"movementY"in e?e.movementY:Bw}}),rT=qa(Mb),sH=kn({},Mb,{dataTransfer:0}),iH=qa(sH),oH=kn({},ng,{relatedTarget:0}),Uw=qa(oH),lH=kn({},Rm,{animationName:0,elapsedTime:0,pseudoElement:0}),cH=qa(lH),dH=kn({},Rm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uH=qa(dH),mH=kn({},Rm,{data:0}),aT=qa(mH),hH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pH[e])?!!t[e]:!1}function US(){return gH}var xH=kn({},ng,{key:function(e){if(e.key){var t=hH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:US,charCode:function(e){return e.type==="keypress"?Qx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yH=qa(xH),vH=kn({},Mb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sT=qa(vH),bH=kn({},ng,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:US}),wH=qa(bH),jH=kn({},Rm,{propertyName:0,elapsedTime:0,pseudoElement:0}),NH=qa(jH),kH=kn({},Mb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PH=qa(kH),SH=[9,13,27,32],VS=Qi&&"CompositionEvent"in window,Xh=null;Qi&&"documentMode"in document&&(Xh=document.documentMode);var _H=Qi&&"TextEvent"in window&&!Xh,v3=Qi&&(!VS||Xh&&8<Xh&&11>=Xh),iT=" ",oT=!1;function b3(e,t){switch(e){case"keyup":return SH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ld=!1;function CH(e,t){switch(e){case"compositionend":return w3(t);case"keypress":return t.which!==32?null:(oT=!0,iT);case"textInput":return e=t.data,e===iT&&oT?null:e;default:return null}}function AH(e,t){if(Ld)return e==="compositionend"||!VS&&b3(e,t)?(e=y3(),Jx=FS=Go=null,Ld=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return v3&&t.locale!=="ko"?null:t.data;default:return null}}var TH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TH[e.type]:t==="textarea"}function j3(e,t,n,a){ZI(a),t=Sy(t,"onChange"),0<t.length&&(n=new BS("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Zh=null,_f=null;function OH(e){R3(e,0)}function Db(e){var t=Bd(e);if(WI(t))return e}function EH(e,t){if(e==="change")return t}var N3=!1;if(Qi){var Vw;if(Qi){var qw="oninput"in document;if(!qw){var cT=document.createElement("div");cT.setAttribute("oninput","return;"),qw=typeof cT.oninput=="function"}Vw=qw}else Vw=!1;N3=Vw&&(!document.documentMode||9<document.documentMode)}function dT(){Zh&&(Zh.detachEvent("onpropertychange",k3),_f=Zh=null)}function k3(e){if(e.propertyName==="value"&&Db(_f)){var t=[];j3(t,_f,e,MS(e)),r3(OH,t)}}function RH(e,t,n){e==="focusin"?(dT(),Zh=t,_f=n,Zh.attachEvent("onpropertychange",k3)):e==="focusout"&&dT()}function MH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Db(_f)}function DH(e,t){if(e==="click")return Db(t)}function IH(e,t){if(e==="input"||e==="change")return Db(t)}function LH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qs=typeof Object.is=="function"?Object.is:LH;function Cf(e,t){if(qs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!ON.call(t,s)||!qs(e[s],t[s]))return!1}return!0}function uT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mT(e,t){var n=uT(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uT(n)}}function P3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function S3(){for(var e=window,t=vy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vy(e.document)}return t}function qS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $H(e){var t=S3(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&P3(n.ownerDocument.documentElement,n)){if(a!==null&&qS(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=mT(n,i);var o=mT(n,a);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FH=Qi&&"documentMode"in document&&11>=document.documentMode,$d=null,JN=null,ef=null,QN=!1;function hT(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;QN||$d==null||$d!==vy(a)||(a=$d,"selectionStart"in a&&qS(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ef&&Cf(ef,a)||(ef=a,a=Sy(JN,"onSelect"),0<a.length&&(t=new BS("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=$d)))}function Zg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fd={animationend:Zg("Animation","AnimationEnd"),animationiteration:Zg("Animation","AnimationIteration"),animationstart:Zg("Animation","AnimationStart"),transitionend:Zg("Transition","TransitionEnd")},zw={},_3={};Qi&&(_3=document.createElement("div").style,"AnimationEvent"in window||(delete Fd.animationend.animation,delete Fd.animationiteration.animation,delete Fd.animationstart.animation),"TransitionEvent"in window||delete Fd.transitionend.transition);function Ib(e){if(zw[e])return zw[e];if(!Fd[e])return e;var t=Fd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _3)return zw[e]=t[n];return e}var C3=Ib("animationend"),A3=Ib("animationiteration"),T3=Ib("animationstart"),O3=Ib("transitionend"),E3=new Map,fT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rl(e,t){E3.set(e,t),ad(t,[e])}for(var Kw=0;Kw<fT.length;Kw++){var Ww=fT[Kw],BH=Ww.toLowerCase(),UH=Ww[0].toUpperCase()+Ww.slice(1);Rl(BH,"on"+UH)}Rl(C3,"onAnimationEnd");Rl(A3,"onAnimationIteration");Rl(T3,"onAnimationStart");Rl("dblclick","onDoubleClick");Rl("focusin","onFocus");Rl("focusout","onBlur");Rl(O3,"onTransitionEnd");$u("onMouseEnter",["mouseout","mouseover"]);$u("onMouseLeave",["mouseout","mouseover"]);$u("onPointerEnter",["pointerout","pointerover"]);$u("onPointerLeave",["pointerout","pointerover"]);ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VH=new Set("cancel close invalid load scroll toggle".split(" ").concat($h));function pT(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,B7(a,t,void 0,e),e.currentTarget=null}function R3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;pT(s,l,d),i=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;pT(s,l,d),i=c}}}if(wy)throw e=WN,wy=!1,WN=null,e}function on(e,t){var n=t[n1];n===void 0&&(n=t[n1]=new Set);var a=e+"__bubble";n.has(a)||(M3(t,e,2,!1),n.add(a))}function Hw(e,t,n){var a=0;t&&(a|=4),M3(n,e,a,t)}var ex="_reactListening"+Math.random().toString(36).slice(2);function Af(e){if(!e[ex]){e[ex]=!0,UI.forEach(function(n){n!=="selectionchange"&&(VH.has(n)||Hw(n,!1,e),Hw(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ex]||(t[ex]=!0,Hw("selectionchange",!1,t))}}function M3(e,t,n,a){switch(x3(t)){case 1:var s=nH;break;case 4:s=rH;break;default:s=$S}n=s.bind(null,t,n,e),s=void 0,!KN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Gw(e,t,n,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=cc(l),o===null)return;if(c=o.tag,c===5||c===6){a=i=o;continue e}l=l.parentNode}}a=a.return}r3(function(){var d=i,u=MS(n),m=[];e:{var h=E3.get(e);if(h!==void 0){var f=BS,g=e;switch(e){case"keypress":if(Qx(n)===0)break e;case"keydown":case"keyup":f=yH;break;case"focusin":g="focus",f=Uw;break;case"focusout":g="blur",f=Uw;break;case"beforeblur":case"afterblur":f=Uw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=rT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=iH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=wH;break;case C3:case A3:case T3:f=cH;break;case O3:f=NH;break;case"scroll":f=aH;break;case"wheel":f=PH;break;case"copy":case"cut":case"paste":f=uH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=sT}var p=(t&4)!==0,x=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var v=d,b;v!==null;){b=v;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,y!==null&&(N=Nf(v,y),N!=null&&p.push(Tf(v,N,b)))),x)break;v=v.return}0<p.length&&(h=new f(h,g,null,n,u),m.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==qN&&(g=n.relatedTarget||n.fromElement)&&(cc(g)||g[Xi]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=d,g=g?cc(g):null,g!==null&&(x=sd(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=d),f!==g)){if(p=rT,N="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=sT,N="onPointerLeave",y="onPointerEnter",v="pointer"),x=f==null?h:Bd(f),b=g==null?h:Bd(g),h=new p(N,v+"leave",f,n,u),h.target=x,h.relatedTarget=b,N=null,cc(u)===d&&(p=new p(y,v+"enter",g,n,u),p.target=b,p.relatedTarget=x,N=p),x=N,f&&g)t:{for(p=f,y=g,v=0,b=p;b;b=gd(b))v++;for(b=0,N=y;N;N=gd(N))b++;for(;0<v-b;)p=gd(p),v--;for(;0<b-v;)y=gd(y),b--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=gd(p),y=gd(y)}p=null}else p=null;f!==null&&gT(m,h,f,p,!1),g!==null&&x!==null&&gT(m,x,g,p,!0)}}e:{if(h=d?Bd(d):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var w=EH;else if(lT(h))if(N3)w=IH;else{w=MH;var k=RH}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=DH);if(w&&(w=w(e,d))){j3(m,w,n,u);break e}k&&k(e,h,d),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&$N(h,"number",h.value)}switch(k=d?Bd(d):window,e){case"focusin":(lT(k)||k.contentEditable==="true")&&($d=k,JN=d,ef=null);break;case"focusout":ef=JN=$d=null;break;case"mousedown":QN=!0;break;case"contextmenu":case"mouseup":case"dragend":QN=!1,hT(m,n,u);break;case"selectionchange":if(FH)break;case"keydown":case"keyup":hT(m,n,u)}var P;if(VS)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ld?b3(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(v3&&n.locale!=="ko"&&(Ld||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ld&&(P=y3()):(Go=u,FS="value"in Go?Go.value:Go.textContent,Ld=!0)),k=Sy(d,_),0<k.length&&(_=new aT(_,e,null,n,u),m.push({event:_,listeners:k}),P?_.data=P:(P=w3(n),P!==null&&(_.data=P)))),(P=_H?CH(e,n):AH(e,n))&&(d=Sy(d,"onBeforeInput"),0<d.length&&(u=new aT("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:d}),u.data=P))}R3(m,t)})}function Tf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sy(e,t){for(var n=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nf(e,n),i!=null&&a.unshift(Tf(e,i,s)),i=Nf(e,t),i!=null&&a.push(Tf(e,i,s))),e=e.return}return a}function gd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gT(e,t,n,a,s){for(var i=t._reactName,o=[];n!==null&&n!==a;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&d!==null&&(l=d,s?(c=Nf(n,i),c!=null&&o.unshift(Tf(n,c,l))):s||(c=Nf(n,i),c!=null&&o.push(Tf(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var qH=/\r\n?/g,zH=/\u0000|\uFFFD/g;function xT(e){return(typeof e=="string"?e:""+e).replace(qH,`
`).replace(zH,"")}function tx(e,t,n){if(t=xT(t),xT(e)!==t&&n)throw Error(we(425))}function _y(){}var XN=null,ZN=null;function e1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var t1=typeof setTimeout=="function"?setTimeout:void 0,KH=typeof clearTimeout=="function"?clearTimeout:void 0,yT=typeof Promise=="function"?Promise:void 0,WH=typeof queueMicrotask=="function"?queueMicrotask:typeof yT<"u"?function(e){return yT.resolve(null).then(e).catch(HH)}:t1;function HH(e){setTimeout(function(){throw e})}function Yw(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(a===0){e.removeChild(s),Sf(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=s}while(n);Sf(t)}function nl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mm=Math.random().toString(36).slice(2),ai="__reactFiber$"+Mm,Of="__reactProps$"+Mm,Xi="__reactContainer$"+Mm,n1="__reactEvents$"+Mm,GH="__reactListeners$"+Mm,YH="__reactHandles$"+Mm;function cc(e){var t=e[ai];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xi]||n[ai]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vT(e);e!==null;){if(n=e[ai])return n;e=vT(e)}return t}e=n,n=e.parentNode}return null}function rg(e){return e=e[ai]||e[Xi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(we(33))}function Lb(e){return e[Of]||null}var r1=[],Ud=-1;function Ml(e){return{current:e}}function un(e){0>Ud||(e.current=r1[Ud],r1[Ud]=null,Ud--)}function tn(e,t){Ud++,r1[Ud]=e.current,e.current=t}var fl={},$r=Ml(fl),ua=Ml(!1),Lc=fl;function Fu(e,t){var n=e.type.contextTypes;if(!n)return fl;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ma(e){return e=e.childContextTypes,e!=null}function Cy(){un(ua),un($r)}function bT(e,t,n){if($r.current!==fl)throw Error(we(168));tn($r,t),tn(ua,n)}function D3(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(we(108,R7(e)||"Unknown",s));return kn({},n,a)}function Ay(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fl,Lc=$r.current,tn($r,e),tn(ua,ua.current),!0}function wT(e,t,n){var a=e.stateNode;if(!a)throw Error(we(169));n?(e=D3(e,t,Lc),a.__reactInternalMemoizedMergedChildContext=e,un(ua),un($r),tn($r,e)):un(ua),tn(ua,n)}var Ri=null,$b=!1,Jw=!1;function I3(e){Ri===null?Ri=[e]:Ri.push(e)}function JH(e){$b=!0,I3(e)}function Dl(){if(!Jw&&Ri!==null){Jw=!0;var e=0,t=zt;try{var n=Ri;for(zt=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Ri=null,$b=!1}catch(s){throw Ri!==null&&(Ri=Ri.slice(e+1)),o3(DS,Dl),s}finally{zt=t,Jw=!1}}return null}var Vd=[],qd=0,Ty=null,Oy=0,Za=[],es=0,$c=null,Ii=1,Li="";function Xl(e,t){Vd[qd++]=Oy,Vd[qd++]=Ty,Ty=e,Oy=t}function L3(e,t,n){Za[es++]=Ii,Za[es++]=Li,Za[es++]=$c,$c=e;var a=Ii;e=Li;var s=32-$s(a)-1;a&=~(1<<s),n+=1;var i=32-$s(t)+s;if(30<i){var o=s-s%5;i=(a&(1<<o)-1).toString(32),a>>=o,s-=o,Ii=1<<32-$s(t)+s|n<<s|a,Li=i+e}else Ii=1<<i|n<<s|a,Li=e}function zS(e){e.return!==null&&(Xl(e,1),L3(e,1,0))}function KS(e){for(;e===Ty;)Ty=Vd[--qd],Vd[qd]=null,Oy=Vd[--qd],Vd[qd]=null;for(;e===$c;)$c=Za[--es],Za[es]=null,Li=Za[--es],Za[es]=null,Ii=Za[--es],Za[es]=null}var Ea=null,Ta=null,gn=!1,Ts=null;function $3(e,t){var n=rs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function jT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ea=e,Ta=nl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ea=e,Ta=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$c!==null?{id:Ii,overflow:Li}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ea=e,Ta=null,!0):!1;default:return!1}}function a1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function s1(e){if(gn){var t=Ta;if(t){var n=t;if(!jT(e,t)){if(a1(e))throw Error(we(418));t=nl(n.nextSibling);var a=Ea;t&&jT(e,t)?$3(a,n):(e.flags=e.flags&-4097|2,gn=!1,Ea=e)}}else{if(a1(e))throw Error(we(418));e.flags=e.flags&-4097|2,gn=!1,Ea=e}}}function NT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ea=e}function nx(e){if(e!==Ea)return!1;if(!gn)return NT(e),gn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!e1(e.type,e.memoizedProps)),t&&(t=Ta)){if(a1(e))throw F3(),Error(we(418));for(;t;)$3(e,t),t=nl(t.nextSibling)}if(NT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(we(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ta=nl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ta=null}}else Ta=Ea?nl(e.stateNode.nextSibling):null;return!0}function F3(){for(var e=Ta;e;)e=nl(e.nextSibling)}function Bu(){Ta=Ea=null,gn=!1}function WS(e){Ts===null?Ts=[e]:Ts.push(e)}var QH=co.ReactCurrentBatchConfig;function gh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(we(309));var a=n.stateNode}if(!a)throw Error(we(147,e));var s=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(we(284));if(!n._owner)throw Error(we(290,e))}return e}function rx(e,t){throw e=Object.prototype.toString.call(t),Error(we(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kT(e){var t=e._init;return t(e._payload)}function B3(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function a(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=il(y,v),y.index=0,y.sibling=null,y}function i(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,N){return v===null||v.tag!==6?(v=rj(b,y.mode,N),v.return=y,v):(v=s(v,b),v.return=y,v)}function c(y,v,b,N){var w=b.type;return w===Id?u(y,v,b.props.children,N,b.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Co&&kT(w)===v.type)?(N=s(v,b.props),N.ref=gh(y,v,b),N.return=y,N):(N=ay(b.type,b.key,b.props,null,y.mode,N),N.ref=gh(y,v,b),N.return=y,N)}function d(y,v,b,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=aj(b,y.mode,N),v.return=y,v):(v=s(v,b.children||[]),v.return=y,v)}function u(y,v,b,N,w){return v===null||v.tag!==7?(v=Ac(b,y.mode,N,w),v.return=y,v):(v=s(v,b),v.return=y,v)}function m(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=rj(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wg:return b=ay(v.type,v.key,v.props,null,y.mode,b),b.ref=gh(y,null,v),b.return=y,b;case Dd:return v=aj(v,y.mode,b),v.return=y,v;case Co:var N=v._init;return m(y,N(v._payload),b)}if(Ih(v)||uh(v))return v=Ac(v,y.mode,b,null),v.return=y,v;rx(y,v)}return null}function h(y,v,b,N){var w=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:l(y,v,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wg:return b.key===w?c(y,v,b,N):null;case Dd:return b.key===w?d(y,v,b,N):null;case Co:return w=b._init,h(y,v,w(b._payload),N)}if(Ih(b)||uh(b))return w!==null?null:u(y,v,b,N,null);rx(y,b)}return null}function f(y,v,b,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(b)||null,l(v,y,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Wg:return y=y.get(N.key===null?b:N.key)||null,c(v,y,N,w);case Dd:return y=y.get(N.key===null?b:N.key)||null,d(v,y,N,w);case Co:var k=N._init;return f(y,v,b,k(N._payload),w)}if(Ih(N)||uh(N))return y=y.get(b)||null,u(v,y,N,w,null);rx(v,N)}return null}function g(y,v,b,N){for(var w=null,k=null,P=v,_=v=0,T=null;P!==null&&_<b.length;_++){P.index>_?(T=P,P=null):T=P.sibling;var I=h(y,P,b[_],N);if(I===null){P===null&&(P=T);break}e&&P&&I.alternate===null&&t(y,P),v=i(I,v,_),k===null?w=I:k.sibling=I,k=I,P=T}if(_===b.length)return n(y,P),gn&&Xl(y,_),w;if(P===null){for(;_<b.length;_++)P=m(y,b[_],N),P!==null&&(v=i(P,v,_),k===null?w=P:k.sibling=P,k=P);return gn&&Xl(y,_),w}for(P=a(y,P);_<b.length;_++)T=f(P,y,_,b[_],N),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?_:T.key),v=i(T,v,_),k===null?w=T:k.sibling=T,k=T);return e&&P.forEach(function(A){return t(y,A)}),gn&&Xl(y,_),w}function p(y,v,b,N){var w=uh(b);if(typeof w!="function")throw Error(we(150));if(b=w.call(b),b==null)throw Error(we(151));for(var k=w=null,P=v,_=v=0,T=null,I=b.next();P!==null&&!I.done;_++,I=b.next()){P.index>_?(T=P,P=null):T=P.sibling;var A=h(y,P,I.value,N);if(A===null){P===null&&(P=T);break}e&&P&&A.alternate===null&&t(y,P),v=i(A,v,_),k===null?w=A:k.sibling=A,k=A,P=T}if(I.done)return n(y,P),gn&&Xl(y,_),w;if(P===null){for(;!I.done;_++,I=b.next())I=m(y,I.value,N),I!==null&&(v=i(I,v,_),k===null?w=I:k.sibling=I,k=I);return gn&&Xl(y,_),w}for(P=a(y,P);!I.done;_++,I=b.next())I=f(P,y,_,I.value,N),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?_:I.key),v=i(I,v,_),k===null?w=I:k.sibling=I,k=I);return e&&P.forEach(function(R){return t(y,R)}),gn&&Xl(y,_),w}function x(y,v,b,N){if(typeof b=="object"&&b!==null&&b.type===Id&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Wg:e:{for(var w=b.key,k=v;k!==null;){if(k.key===w){if(w=b.type,w===Id){if(k.tag===7){n(y,k.sibling),v=s(k,b.props.children),v.return=y,y=v;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Co&&kT(w)===k.type){n(y,k.sibling),v=s(k,b.props),v.ref=gh(y,k,b),v.return=y,y=v;break e}n(y,k);break}else t(y,k);k=k.sibling}b.type===Id?(v=Ac(b.props.children,y.mode,N,b.key),v.return=y,y=v):(N=ay(b.type,b.key,b.props,null,y.mode,N),N.ref=gh(y,v,b),N.return=y,y=N)}return o(y);case Dd:e:{for(k=b.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=s(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=aj(b,y.mode,N),v.return=y,y=v}return o(y);case Co:return k=b._init,x(y,v,k(b._payload),N)}if(Ih(b))return g(y,v,b,N);if(uh(b))return p(y,v,b,N);rx(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,b),v.return=y,y=v):(n(y,v),v=rj(b,y.mode,N),v.return=y,y=v),o(y)):n(y,v)}return x}var Uu=B3(!0),U3=B3(!1),Ey=Ml(null),Ry=null,zd=null,HS=null;function GS(){HS=zd=Ry=null}function YS(e){var t=Ey.current;un(Ey),e._currentValue=t}function i1(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function du(e,t){Ry=e,HS=zd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ia=!0),e.firstContext=null)}function ds(e){var t=e._currentValue;if(HS!==e)if(e={context:e,memoizedValue:t,next:null},zd===null){if(Ry===null)throw Error(we(308));zd=e,Ry.dependencies={lanes:0,firstContext:e}}else zd=zd.next=e;return t}var dc=null;function JS(e){dc===null?dc=[e]:dc.push(e)}function V3(e,t,n,a){var s=t.interleaved;return s===null?(n.next=n,JS(t)):(n.next=s.next,s.next=n),t.interleaved=n,Zi(e,a)}function Zi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ao=!1;function QS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rl(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Dt&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,Zi(e,n)}return s=a.interleaved,s===null?(t.next=t,JS(a)):(t.next=s.next,s.next=t),a.interleaved=t,Zi(e,n)}function Xx(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,IS(e,n)}}function PT(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function My(e,t,n,a){var s=e.updateQueue;Ao=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,f=l.eventTime;if((a&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,f=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){m=g.call(f,m,h);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(f,m,h):g,h==null)break e;m=kn({},m,h);break e;case 2:Ao=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=m):u=u.next=f,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Bc|=o,e.lanes=o,e.memoizedState=m}}function ST(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=n,typeof s!="function")throw Error(we(191,s));s.call(a)}}}var ag={},ci=Ml(ag),Ef=Ml(ag),Rf=Ml(ag);function uc(e){if(e===ag)throw Error(we(174));return e}function XS(e,t){switch(tn(Rf,t),tn(Ef,e),tn(ci,ag),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:BN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=BN(t,e)}un(ci),tn(ci,t)}function Vu(){un(ci),un(Ef),un(Rf)}function z3(e){uc(Rf.current);var t=uc(ci.current),n=BN(t,e.type);t!==n&&(tn(Ef,e),tn(ci,n))}function ZS(e){Ef.current===e&&(un(ci),un(Ef))}var wn=Ml(0);function Dy(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qw=[];function e_(){for(var e=0;e<Qw.length;e++)Qw[e]._workInProgressVersionPrimary=null;Qw.length=0}var Zx=co.ReactCurrentDispatcher,Xw=co.ReactCurrentBatchConfig,Fc=0,Nn=null,er=null,dr=null,Iy=!1,tf=!1,Mf=0,XH=0;function _r(){throw Error(we(321))}function t_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qs(e[n],t[n]))return!1;return!0}function n_(e,t,n,a,s,i){if(Fc=i,Nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zx.current=e===null||e.memoizedState===null?nG:rG,e=n(a,s),tf){i=0;do{if(tf=!1,Mf=0,25<=i)throw Error(we(301));i+=1,dr=er=null,t.updateQueue=null,Zx.current=aG,e=n(a,s)}while(tf)}if(Zx.current=Ly,t=er!==null&&er.next!==null,Fc=0,dr=er=Nn=null,Iy=!1,t)throw Error(we(300));return e}function r_(){var e=Mf!==0;return Mf=0,e}function Xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Nn.memoizedState=dr=e:dr=dr.next=e,dr}function us(){if(er===null){var e=Nn.alternate;e=e!==null?e.memoizedState:null}else e=er.next;var t=dr===null?Nn.memoizedState:dr.next;if(t!==null)dr=t,er=e;else{if(e===null)throw Error(we(310));er=e,e={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},dr===null?Nn.memoizedState=dr=e:dr=dr.next=e}return dr}function Df(e,t){return typeof t=="function"?t(e):t}function Zw(e){var t=us(),n=t.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=e;var a=er,s=a.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}a.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,a=a.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Fc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=a):c=c.next=m,Nn.lanes|=u,Bc|=u}d=d.next}while(d!==null&&d!==i);c===null?o=a:c.next=l,qs(a,t.memoizedState)||(ia=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,n.lastRenderedState=a}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Nn.lanes|=i,Bc|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ej(e){var t=us(),n=t.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);qs(i,t.memoizedState)||(ia=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function K3(){}function W3(e,t){var n=Nn,a=us(),s=t(),i=!qs(a.memoizedState,s);if(i&&(a.memoizedState=s,ia=!0),a=a.queue,a_(Y3.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||dr!==null&&dr.memoizedState.tag&1){if(n.flags|=2048,If(9,G3.bind(null,n,a,s,t),void 0,null),fr===null)throw Error(we(349));Fc&30||H3(n,t,s)}return s}function H3(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Nn.updateQueue,t===null?(t={lastEffect:null,stores:null},Nn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function G3(e,t,n,a){t.value=n,t.getSnapshot=a,J3(t)&&Q3(e)}function Y3(e,t,n){return n(function(){J3(t)&&Q3(e)})}function J3(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qs(e,n)}catch{return!0}}function Q3(e){var t=Zi(e,1);t!==null&&Fs(t,e,1,-1)}function _T(e){var t=Xs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:e},t.queue=e,e=e.dispatch=tG.bind(null,Nn,e),[t.memoizedState,e]}function If(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Nn.updateQueue,t===null?(t={lastEffect:null,stores:null},Nn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function X3(){return us().memoizedState}function ey(e,t,n,a){var s=Xs();Nn.flags|=e,s.memoizedState=If(1|t,n,void 0,a===void 0?null:a)}function Fb(e,t,n,a){var s=us();a=a===void 0?null:a;var i=void 0;if(er!==null){var o=er.memoizedState;if(i=o.destroy,a!==null&&t_(a,o.deps)){s.memoizedState=If(t,n,i,a);return}}Nn.flags|=e,s.memoizedState=If(1|t,n,i,a)}function CT(e,t){return ey(8390656,8,e,t)}function a_(e,t){return Fb(2048,8,e,t)}function Z3(e,t){return Fb(4,2,e,t)}function eL(e,t){return Fb(4,4,e,t)}function tL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nL(e,t,n){return n=n!=null?n.concat([e]):null,Fb(4,4,tL.bind(null,t,e),n)}function s_(){}function rL(e,t){var n=us();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&t_(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function aL(e,t){var n=us();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&t_(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function sL(e,t,n){return Fc&21?(qs(n,t)||(n=d3(),Nn.lanes|=n,Bc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ia=!0),e.memoizedState=n)}function ZH(e,t){var n=zt;zt=n!==0&&4>n?n:4,e(!0);var a=Xw.transition;Xw.transition={};try{e(!1),t()}finally{zt=n,Xw.transition=a}}function iL(){return us().memoizedState}function eG(e,t,n){var a=sl(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},oL(e))lL(t,n);else if(n=V3(e,t,n,a),n!==null){var s=Yr();Fs(n,e,a,s),cL(n,t,a)}}function tG(e,t,n){var a=sl(e),s={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(oL(e))lL(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,qs(l,o)){var c=t.interleaved;c===null?(s.next=s,JS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=V3(e,t,s,a),n!==null&&(s=Yr(),Fs(n,e,a,s),cL(n,t,a))}}function oL(e){var t=e.alternate;return e===Nn||t!==null&&t===Nn}function lL(e,t){tf=Iy=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cL(e,t,n){if(n&4194240){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,IS(e,n)}}var Ly={readContext:ds,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},nG={readContext:ds,useCallback:function(e,t){return Xs().memoizedState=[e,t===void 0?null:t],e},useContext:ds,useEffect:CT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ey(4194308,4,tL.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ey(4194308,4,e,t)},useInsertionEffect:function(e,t){return ey(4,2,e,t)},useMemo:function(e,t){var n=Xs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Xs();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=eG.bind(null,Nn,e),[a.memoizedState,e]},useRef:function(e){var t=Xs();return e={current:e},t.memoizedState=e},useState:_T,useDebugValue:s_,useDeferredValue:function(e){return Xs().memoizedState=e},useTransition:function(){var e=_T(!1),t=e[0];return e=ZH.bind(null,e[1]),Xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Nn,s=Xs();if(gn){if(n===void 0)throw Error(we(407));n=n()}else{if(n=t(),fr===null)throw Error(we(349));Fc&30||H3(a,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,CT(Y3.bind(null,a,i,e),[e]),a.flags|=2048,If(9,G3.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=Xs(),t=fr.identifierPrefix;if(gn){var n=Li,a=Ii;n=(a&~(1<<32-$s(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=XH++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rG={readContext:ds,useCallback:rL,useContext:ds,useEffect:a_,useImperativeHandle:nL,useInsertionEffect:Z3,useLayoutEffect:eL,useMemo:aL,useReducer:Zw,useRef:X3,useState:function(){return Zw(Df)},useDebugValue:s_,useDeferredValue:function(e){var t=us();return sL(t,er.memoizedState,e)},useTransition:function(){var e=Zw(Df)[0],t=us().memoizedState;return[e,t]},useMutableSource:K3,useSyncExternalStore:W3,useId:iL,unstable_isNewReconciler:!1},aG={readContext:ds,useCallback:rL,useContext:ds,useEffect:a_,useImperativeHandle:nL,useInsertionEffect:Z3,useLayoutEffect:eL,useMemo:aL,useReducer:ej,useRef:X3,useState:function(){return ej(Df)},useDebugValue:s_,useDeferredValue:function(e){var t=us();return er===null?t.memoizedState=e:sL(t,er.memoizedState,e)},useTransition:function(){var e=ej(Df)[0],t=us().memoizedState;return[e,t]},useMutableSource:K3,useSyncExternalStore:W3,useId:iL,unstable_isNewReconciler:!1};function ks(e,t){if(e&&e.defaultProps){t=kn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function o1(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:kn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bb={isMounted:function(e){return(e=e._reactInternals)?sd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Yr(),s=sl(e),i=Ui(a,s);i.payload=t,n!=null&&(i.callback=n),t=rl(e,i,s),t!==null&&(Fs(t,e,s,a),Xx(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Yr(),s=sl(e),i=Ui(a,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=rl(e,i,s),t!==null&&(Fs(t,e,s,a),Xx(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yr(),a=sl(e),s=Ui(n,a);s.tag=2,t!=null&&(s.callback=t),t=rl(e,s,a),t!==null&&(Fs(t,e,a,n),Xx(t,e,a))}};function AT(e,t,n,a,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!Cf(n,a)||!Cf(s,i):!0}function dL(e,t,n){var a=!1,s=fl,i=t.contextType;return typeof i=="object"&&i!==null?i=ds(i):(s=ma(t)?Lc:$r.current,a=t.contextTypes,i=(a=a!=null)?Fu(e,s):fl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bb,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function TT(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Bb.enqueueReplaceState(t,t.state,null)}function l1(e,t,n,a){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},QS(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ds(i):(i=ma(t)?Lc:$r.current,s.context=Fu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(o1(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bb.enqueueReplaceState(s,s.state,null),My(e,n,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qu(e,t){try{var n="",a=t;do n+=E7(a),a=a.return;while(a);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function tj(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function c1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sG=typeof WeakMap=="function"?WeakMap:Map;function uL(e,t,n){n=Ui(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Fy||(Fy=!0,v1=a),c1(e,t)},n}function mL(e,t,n){n=Ui(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;n.payload=function(){return a(s)},n.callback=function(){c1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){c1(e,t),typeof a!="function"&&(al===null?al=new Set([this]):al.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function OT(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new sG;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(n)||(s.add(n),e=vG.bind(null,e,t,n),t.then(e,e))}function ET(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function RT(e,t,n,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ui(-1,1),t.tag=2,rl(n,t,1))),n.lanes|=1),e)}var iG=co.ReactCurrentOwner,ia=!1;function qr(e,t,n,a){t.child=e===null?U3(t,null,n,a):Uu(t,e.child,n,a)}function MT(e,t,n,a,s){n=n.render;var i=t.ref;return du(t,s),a=n_(e,t,n,a,i,s),n=r_(),e!==null&&!ia?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,eo(e,t,s)):(gn&&n&&zS(t),t.flags|=1,qr(e,t,a,s),t.child)}function DT(e,t,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!h_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,hL(e,t,i,a,s)):(e=ay(n.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Cf,n(o,a)&&e.ref===t.ref)return eo(e,t,s)}return t.flags|=1,e=il(i,a),e.ref=t.ref,e.return=t,t.child=e}function hL(e,t,n,a,s){if(e!==null){var i=e.memoizedProps;if(Cf(i,a)&&e.ref===t.ref)if(ia=!1,t.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(ia=!0);else return t.lanes=e.lanes,eo(e,t,s)}return d1(e,t,n,a,s)}function fL(e,t,n){var a=t.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn(Wd,ja),ja|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tn(Wd,ja),ja|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:n,tn(Wd,ja),ja|=a}else i!==null?(a=i.baseLanes|n,t.memoizedState=null):a=n,tn(Wd,ja),ja|=a;return qr(e,t,s,n),t.child}function pL(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function d1(e,t,n,a,s){var i=ma(n)?Lc:$r.current;return i=Fu(t,i),du(t,s),n=n_(e,t,n,a,i,s),a=r_(),e!==null&&!ia?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,eo(e,t,s)):(gn&&a&&zS(t),t.flags|=1,qr(e,t,n,s),t.child)}function IT(e,t,n,a,s){if(ma(n)){var i=!0;Ay(t)}else i=!1;if(du(t,s),t.stateNode===null)ty(e,t),dL(t,n,a),l1(t,n,a,s),a=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=ds(d):(d=ma(n)?Lc:$r.current,d=Fu(t,d));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||c!==d)&&TT(t,o,a,d),Ao=!1;var h=t.memoizedState;o.state=h,My(t,a,o,s),c=t.memoizedState,l!==a||h!==c||ua.current||Ao?(typeof u=="function"&&(o1(t,n,u,a),c=t.memoizedState),(l=Ao||AT(t,n,l,a,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),o.props=a,o.state=c,o.context=d,a=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,q3(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:ks(t.type,l),o.props=d,m=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ds(c):(c=ma(n)?Lc:$r.current,c=Fu(t,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&TT(t,o,a,c),Ao=!1,h=t.memoizedState,o.state=h,My(t,a,o,s);var g=t.memoizedState;l!==m||h!==g||ua.current||Ao?(typeof f=="function"&&(o1(t,n,f,a),g=t.memoizedState),(d=Ao||AT(t,n,d,a,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),o.props=a,o.state=g,o.context=c,a=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return u1(e,t,n,a,i,s)}function u1(e,t,n,a,s,i){pL(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return s&&wT(t,n,!1),eo(e,t,i);a=t.stateNode,iG.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=Uu(t,e.child,null,i),t.child=Uu(t,null,l,i)):qr(e,t,l,i),t.memoizedState=a.state,s&&wT(t,n,!0),t.child}function gL(e){var t=e.stateNode;t.pendingContext?bT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bT(e,t.context,!1),XS(e,t.containerInfo)}function LT(e,t,n,a,s){return Bu(),WS(s),t.flags|=256,qr(e,t,n,a),t.child}var m1={dehydrated:null,treeContext:null,retryLane:0};function h1(e){return{baseLanes:e,cachePool:null,transitions:null}}function xL(e,t,n){var a=t.pendingProps,s=wn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),tn(wn,s&1),e===null)return s1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qb(o,a,0,null),e=Ac(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=h1(n),t.memoizedState=m1,e):i_(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return oG(e,t,o,a,l,s,n);if(i){i=a.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=il(s,c),a.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=il(l,i):(i=Ac(i,o,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=e.child.memoizedState,o=o===null?h1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=m1,a}return i=e.child,e=i.sibling,a=il(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function i_(e,t){return t=qb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ax(e,t,n,a){return a!==null&&WS(a),Uu(t,e.child,null,n),e=i_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oG(e,t,n,a,s,i,o){if(n)return t.flags&256?(t.flags&=-257,a=tj(Error(we(422))),ax(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,s=t.mode,a=qb({mode:"visible",children:a.children},s,0,null),i=Ac(i,s,o,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&Uu(t,e.child,null,o),t.child.memoizedState=h1(o),t.memoizedState=m1,i);if(!(t.mode&1))return ax(e,t,o,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(we(419)),a=tj(i,a,void 0),ax(e,t,o,a)}if(l=(o&e.childLanes)!==0,ia||l){if(a=fr,a!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zi(e,s),Fs(a,e,s,-1))}return m_(),a=tj(Error(we(421))),ax(e,t,o,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=bG.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ta=nl(s.nextSibling),Ea=t,gn=!0,Ts=null,e!==null&&(Za[es++]=Ii,Za[es++]=Li,Za[es++]=$c,Ii=e.id,Li=e.overflow,$c=t),t=i_(t,a.children),t.flags|=4096,t)}function $T(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),i1(e.return,t,n)}function nj(e,t,n,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=s)}function yL(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;if(qr(e,t,a.children,n),a=wn.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$T(e,n,t);else if(e.tag===19)$T(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(tn(wn,a),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Dy(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),nj(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Dy(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}nj(t,!0,n,null,i);break;case"together":nj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ty(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function eo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(we(153));if(t.child!==null){for(e=t.child,n=il(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=il(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lG(e,t,n){switch(t.tag){case 3:gL(t),Bu();break;case 5:z3(t);break;case 1:ma(t.type)&&Ay(t);break;case 4:XS(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;tn(Ey,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(tn(wn,wn.current&1),t.flags|=128,null):n&t.child.childLanes?xL(e,t,n):(tn(wn,wn.current&1),e=eo(e,t,n),e!==null?e.sibling:null);tn(wn,wn.current&1);break;case 19:if(a=(n&t.childLanes)!==0,e.flags&128){if(a)return yL(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tn(wn,wn.current),a)break;return null;case 22:case 23:return t.lanes=0,fL(e,t,n)}return eo(e,t,n)}var vL,f1,bL,wL;vL=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};f1=function(){};bL=function(e,t,n,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,uc(ci.current);var i=null;switch(n){case"input":s=IN(e,s),a=IN(e,a),i=[];break;case"select":s=kn({},s,{value:void 0}),a=kn({},a,{value:void 0}),i=[];break;case"textarea":s=FN(e,s),a=FN(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=_y)}UN(n,a);var o;n=null;for(d in s)if(!a.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(wf.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(l=s!=null?s[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(wf.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&on("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};wL=function(e,t,n,a){n!==a&&(t.flags|=4)};function xh(e,t){if(!gn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Cr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function cG(e,t,n){var a=t.pendingProps;switch(KS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(t),null;case 1:return ma(t.type)&&Cy(),Cr(t),null;case 3:return a=t.stateNode,Vu(),un(ua),un($r),e_(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(nx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ts!==null&&(j1(Ts),Ts=null))),f1(e,t),Cr(t),null;case 5:ZS(t);var s=uc(Rf.current);if(n=t.type,e!==null&&t.stateNode!=null)bL(e,t,n,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(we(166));return Cr(t),null}if(e=uc(ci.current),nx(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[ai]=t,a[Of]=i,e=(t.mode&1)!==0,n){case"dialog":on("cancel",a),on("close",a);break;case"iframe":case"object":case"embed":on("load",a);break;case"video":case"audio":for(s=0;s<$h.length;s++)on($h[s],a);break;case"source":on("error",a);break;case"img":case"image":case"link":on("error",a),on("load",a);break;case"details":on("toggle",a);break;case"input":HA(a,i),on("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},on("invalid",a);break;case"textarea":YA(a,i),on("invalid",a)}UN(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&tx(a.textContent,l,e),s=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&tx(a.textContent,l,e),s=["children",""+l]):wf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&on("scroll",a)}switch(n){case"input":Hg(a),GA(a,i,!0);break;case"textarea":Hg(a),JA(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=_y)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=YI(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),n==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[ai]=t,e[Of]=a,vL(e,t,!1,!1),t.stateNode=e;e:{switch(o=VN(n,a),n){case"dialog":on("cancel",e),on("close",e),s=a;break;case"iframe":case"object":case"embed":on("load",e),s=a;break;case"video":case"audio":for(s=0;s<$h.length;s++)on($h[s],e);s=a;break;case"source":on("error",e),s=a;break;case"img":case"image":case"link":on("error",e),on("load",e),s=a;break;case"details":on("toggle",e),s=a;break;case"input":HA(e,a),s=IN(e,a),on("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=kn({},a,{value:void 0}),on("invalid",e);break;case"textarea":YA(e,a),s=FN(e,a),on("invalid",e);break;default:s=a}UN(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?XI(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&JI(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&jf(e,c):typeof c=="number"&&jf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&on("scroll",e):c!=null&&TS(e,i,c,o))}switch(n){case"input":Hg(e),GA(e,a,!1);break;case"textarea":Hg(e),JA(e);break;case"option":a.value!=null&&e.setAttribute("value",""+hl(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?iu(e,!!a.multiple,i,!1):a.defaultValue!=null&&iu(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_y)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Cr(t),null;case 6:if(e&&t.stateNode!=null)wL(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(we(166));if(n=uc(Rf.current),uc(ci.current),nx(t)){if(a=t.stateNode,n=t.memoizedProps,a[ai]=t,(i=a.nodeValue!==n)&&(e=Ea,e!==null))switch(e.tag){case 3:tx(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tx(a.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[ai]=t,t.stateNode=a}return Cr(t),null;case 13:if(un(wn),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gn&&Ta!==null&&t.mode&1&&!(t.flags&128))F3(),Bu(),t.flags|=98560,i=!1;else if(i=nx(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(we(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(we(317));i[ai]=t}else Bu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Cr(t),i=!1}else Ts!==null&&(j1(Ts),Ts=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||wn.current&1?sr===0&&(sr=3):m_())),t.updateQueue!==null&&(t.flags|=4),Cr(t),null);case 4:return Vu(),f1(e,t),e===null&&Af(t.stateNode.containerInfo),Cr(t),null;case 10:return YS(t.type._context),Cr(t),null;case 17:return ma(t.type)&&Cy(),Cr(t),null;case 19:if(un(wn),i=t.memoizedState,i===null)return Cr(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)xh(i,!1);else{if(sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dy(e),o!==null){for(t.flags|=128,xh(i,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)i=n,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tn(wn,wn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ln()>zu&&(t.flags|=128,a=!0,xh(i,!1),t.lanes=4194304)}else{if(!a)if(e=Dy(o),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!gn)return Cr(t),null}else 2*Ln()-i.renderingStartTime>zu&&n!==1073741824&&(t.flags|=128,a=!0,xh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ln(),t.sibling=null,n=wn.current,tn(wn,a?n&1|2:n&1),t):(Cr(t),null);case 22:case 23:return u_(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?ja&1073741824&&(Cr(t),t.subtreeFlags&6&&(t.flags|=8192)):Cr(t),null;case 24:return null;case 25:return null}throw Error(we(156,t.tag))}function dG(e,t){switch(KS(t),t.tag){case 1:return ma(t.type)&&Cy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vu(),un(ua),un($r),e_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ZS(t),null;case 13:if(un(wn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(we(340));Bu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return un(wn),null;case 4:return Vu(),null;case 10:return YS(t.type._context),null;case 22:case 23:return u_(),null;case 24:return null;default:return null}}var sx=!1,Mr=!1,uG=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Kd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Tn(e,t,a)}else n.current=null}function p1(e,t,n){try{n()}catch(a){Tn(e,t,a)}}var FT=!1;function mG(e,t){if(XN=ky,e=S3(),qS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var f;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==i||a!==0&&m.nodeType!==3||(c=o+a),m.nodeType===3&&(o+=m.nodeValue.length),(f=m.firstChild)!==null;)h=m,m=f;for(;;){if(m===e)break t;if(h===n&&++d===s&&(l=o),h===i&&++u===a&&(c=o),(f=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ZN={focusedElem:e,selectionRange:n},ky=!1,Ve=t;Ve!==null;)if(t=Ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ve=e;else for(;Ve!==null;){t=Ve;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:ks(t.type,p),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(N){Tn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ve=e;break}Ve=t.return}return g=FT,FT=!1,g}function nf(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&p1(t,n,i)}s=s.next}while(s!==a)}}function Ub(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function g1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jL(e){var t=e.alternate;t!==null&&(e.alternate=null,jL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ai],delete t[Of],delete t[n1],delete t[GH],delete t[YH])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function NL(e){return e.tag===5||e.tag===3||e.tag===4}function BT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function x1(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_y));else if(a!==4&&(e=e.child,e!==null))for(x1(e,t,n),e=e.sibling;e!==null;)x1(e,t,n),e=e.sibling}function y1(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(y1(e,t,n),e=e.sibling;e!==null;)y1(e,t,n),e=e.sibling}var wr=null,Ss=!1;function vo(e,t,n){for(n=n.child;n!==null;)kL(e,t,n),n=n.sibling}function kL(e,t,n){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(Rb,n)}catch{}switch(n.tag){case 5:Mr||Kd(n,t);case 6:var a=wr,s=Ss;wr=null,vo(e,t,n),wr=a,Ss=s,wr!==null&&(Ss?(e=wr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):wr.removeChild(n.stateNode));break;case 18:wr!==null&&(Ss?(e=wr,n=n.stateNode,e.nodeType===8?Yw(e.parentNode,n):e.nodeType===1&&Yw(e,n),Sf(e)):Yw(wr,n.stateNode));break;case 4:a=wr,s=Ss,wr=n.stateNode.containerInfo,Ss=!0,vo(e,t,n),wr=a,Ss=s;break;case 0:case 11:case 14:case 15:if(!Mr&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&p1(n,t,o),s=s.next}while(s!==a)}vo(e,t,n);break;case 1:if(!Mr&&(Kd(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(l){Tn(n,t,l)}vo(e,t,n);break;case 21:vo(e,t,n);break;case 22:n.mode&1?(Mr=(a=Mr)||n.memoizedState!==null,vo(e,t,n),Mr=a):vo(e,t,n);break;default:vo(e,t,n)}}function UT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uG),t.forEach(function(a){var s=wG.bind(null,e,a);n.has(a)||(n.add(a),a.then(s,s))})}}function ys(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:wr=l.stateNode,Ss=!1;break e;case 3:wr=l.stateNode.containerInfo,Ss=!0;break e;case 4:wr=l.stateNode.containerInfo,Ss=!0;break e}l=l.return}if(wr===null)throw Error(we(160));kL(i,o,s),wr=null,Ss=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Tn(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PL(t,e),t=t.sibling}function PL(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ys(t,e),Js(e),a&4){try{nf(3,e,e.return),Ub(3,e)}catch(p){Tn(e,e.return,p)}try{nf(5,e,e.return)}catch(p){Tn(e,e.return,p)}}break;case 1:ys(t,e),Js(e),a&512&&n!==null&&Kd(n,n.return);break;case 5:if(ys(t,e),Js(e),a&512&&n!==null&&Kd(n,n.return),e.flags&32){var s=e.stateNode;try{jf(s,"")}catch(p){Tn(e,e.return,p)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&HI(s,i),VN(l,o);var d=VN(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?XI(s,m):u==="dangerouslySetInnerHTML"?JI(s,m):u==="children"?jf(s,m):TS(s,u,m,d)}switch(l){case"input":LN(s,i);break;case"textarea":GI(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?iu(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?iu(s,!!i.multiple,i.defaultValue,!0):iu(s,!!i.multiple,i.multiple?[]:"",!1))}s[Of]=i}catch(p){Tn(e,e.return,p)}}break;case 6:if(ys(t,e),Js(e),a&4){if(e.stateNode===null)throw Error(we(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){Tn(e,e.return,p)}}break;case 3:if(ys(t,e),Js(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Sf(t.containerInfo)}catch(p){Tn(e,e.return,p)}break;case 4:ys(t,e),Js(e);break;case 13:ys(t,e),Js(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(c_=Ln())),a&4&&UT(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Mr=(d=Mr)||u,ys(t,e),Mr=d):ys(t,e),Js(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Ve=e,u=e.child;u!==null;){for(m=Ve=u;Ve!==null;){switch(h=Ve,f=h.child,h.tag){case 0:case 11:case 14:case 15:nf(4,h,h.return);break;case 1:Kd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){a=h,n=h.return;try{t=a,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Tn(a,n,p)}}break;case 5:Kd(h,h.return);break;case 22:if(h.memoizedState!==null){qT(m);continue}}f!==null?(f.return=h,Ve=f):qT(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=QI("display",o))}catch(p){Tn(e,e.return,p)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(p){Tn(e,e.return,p)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ys(t,e),Js(e),a&4&&UT(e);break;case 21:break;default:ys(t,e),Js(e)}}function Js(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(NL(n)){var a=n;break e}n=n.return}throw Error(we(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(jf(s,""),a.flags&=-33);var i=BT(e);y1(e,i,s);break;case 3:case 4:var o=a.stateNode.containerInfo,l=BT(e);x1(e,l,o);break;default:throw Error(we(161))}}catch(c){Tn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hG(e,t,n){Ve=e,SL(e)}function SL(e,t,n){for(var a=(e.mode&1)!==0;Ve!==null;){var s=Ve,i=s.child;if(s.tag===22&&a){var o=s.memoizedState!==null||sx;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Mr;l=sx;var d=Mr;if(sx=o,(Mr=c)&&!d)for(Ve=s;Ve!==null;)o=Ve,c=o.child,o.tag===22&&o.memoizedState!==null?zT(s):c!==null?(c.return=o,Ve=c):zT(s);for(;i!==null;)Ve=i,SL(i),i=i.sibling;Ve=s,sx=l,Mr=d}VT(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ve=i):VT(e)}}function VT(e){for(;Ve!==null;){var t=Ve;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mr||Ub(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Mr)if(n===null)a.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ks(t.type,n.memoizedProps);a.componentDidUpdate(s,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ST(t,i,a);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ST(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Sf(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Mr||t.flags&512&&g1(t)}catch(h){Tn(t,t.return,h)}}if(t===e){Ve=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ve=n;break}Ve=t.return}}function qT(e){for(;Ve!==null;){var t=Ve;if(t===e){Ve=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ve=n;break}Ve=t.return}}function zT(e){for(;Ve!==null;){var t=Ve;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ub(4,t)}catch(c){Tn(t,n,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(c){Tn(t,s,c)}}var i=t.return;try{g1(t)}catch(c){Tn(t,i,c)}break;case 5:var o=t.return;try{g1(t)}catch(c){Tn(t,o,c)}}}catch(c){Tn(t,t.return,c)}if(t===e){Ve=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ve=l;break}Ve=t.return}}var fG=Math.ceil,$y=co.ReactCurrentDispatcher,o_=co.ReactCurrentOwner,is=co.ReactCurrentBatchConfig,Dt=0,fr=null,Wn=null,kr=0,ja=0,Wd=Ml(0),sr=0,Lf=null,Bc=0,Vb=0,l_=0,rf=null,sa=null,c_=0,zu=1/0,Ti=null,Fy=!1,v1=null,al=null,ix=!1,Yo=null,By=0,af=0,b1=null,ny=-1,ry=0;function Yr(){return Dt&6?Ln():ny!==-1?ny:ny=Ln()}function sl(e){return e.mode&1?Dt&2&&kr!==0?kr&-kr:QH.transition!==null?(ry===0&&(ry=d3()),ry):(e=zt,e!==0||(e=window.event,e=e===void 0?16:x3(e.type)),e):1}function Fs(e,t,n,a){if(50<af)throw af=0,b1=null,Error(we(185));tg(e,n,a),(!(Dt&2)||e!==fr)&&(e===fr&&(!(Dt&2)&&(Vb|=n),sr===4&&Mo(e,kr)),ha(e,a),n===1&&Dt===0&&!(t.mode&1)&&(zu=Ln()+500,$b&&Dl()))}function ha(e,t){var n=e.callbackNode;Q7(e,t);var a=Ny(e,e===fr?kr:0);if(a===0)n!==null&&ZA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&ZA(n),t===1)e.tag===0?JH(KT.bind(null,e)):I3(KT.bind(null,e)),WH(function(){!(Dt&6)&&Dl()}),n=null;else{switch(u3(a)){case 1:n=DS;break;case 4:n=l3;break;case 16:n=jy;break;case 536870912:n=c3;break;default:n=jy}n=ML(n,_L.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _L(e,t){if(ny=-1,ry=0,Dt&6)throw Error(we(327));var n=e.callbackNode;if(uu()&&e.callbackNode!==n)return null;var a=Ny(e,e===fr?kr:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Uy(e,a);else{t=a;var s=Dt;Dt|=2;var i=AL();(fr!==e||kr!==t)&&(Ti=null,zu=Ln()+500,Cc(e,t));do try{xG();break}catch(l){CL(e,l)}while(!0);GS(),$y.current=i,Dt=s,Wn!==null?t=0:(fr=null,kr=0,t=sr)}if(t!==0){if(t===2&&(s=HN(e),s!==0&&(a=s,t=w1(e,s))),t===1)throw n=Lf,Cc(e,0),Mo(e,a),ha(e,Ln()),n;if(t===6)Mo(e,a);else{if(s=e.current.alternate,!(a&30)&&!pG(s)&&(t=Uy(e,a),t===2&&(i=HN(e),i!==0&&(a=i,t=w1(e,i))),t===1))throw n=Lf,Cc(e,0),Mo(e,a),ha(e,Ln()),n;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(we(345));case 2:Zl(e,sa,Ti);break;case 3:if(Mo(e,a),(a&130023424)===a&&(t=c_+500-Ln(),10<t)){if(Ny(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){Yr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=t1(Zl.bind(null,e,sa,Ti),t);break}Zl(e,sa,Ti);break;case 4:if(Mo(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var o=31-$s(a);i=1<<o,o=t[o],o>s&&(s=o),a&=~i}if(a=s,a=Ln()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*fG(a/1960))-a,10<a){e.timeoutHandle=t1(Zl.bind(null,e,sa,Ti),a);break}Zl(e,sa,Ti);break;case 5:Zl(e,sa,Ti);break;default:throw Error(we(329))}}}return ha(e,Ln()),e.callbackNode===n?_L.bind(null,e):null}function w1(e,t){var n=rf;return e.current.memoizedState.isDehydrated&&(Cc(e,t).flags|=256),e=Uy(e,t),e!==2&&(t=sa,sa=n,t!==null&&j1(t)),e}function j1(e){sa===null?sa=e:sa.push.apply(sa,e)}function pG(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!qs(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mo(e,t){for(t&=~l_,t&=~Vb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$s(t),a=1<<n;e[n]=-1,t&=~a}}function KT(e){if(Dt&6)throw Error(we(327));uu();var t=Ny(e,0);if(!(t&1))return ha(e,Ln()),null;var n=Uy(e,t);if(e.tag!==0&&n===2){var a=HN(e);a!==0&&(t=a,n=w1(e,a))}if(n===1)throw n=Lf,Cc(e,0),Mo(e,t),ha(e,Ln()),n;if(n===6)throw Error(we(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zl(e,sa,Ti),ha(e,Ln()),null}function d_(e,t){var n=Dt;Dt|=1;try{return e(t)}finally{Dt=n,Dt===0&&(zu=Ln()+500,$b&&Dl())}}function Uc(e){Yo!==null&&Yo.tag===0&&!(Dt&6)&&uu();var t=Dt;Dt|=1;var n=is.transition,a=zt;try{if(is.transition=null,zt=1,e)return e()}finally{zt=a,is.transition=n,Dt=t,!(Dt&6)&&Dl()}}function u_(){ja=Wd.current,un(Wd)}function Cc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KH(n)),Wn!==null)for(n=Wn.return;n!==null;){var a=n;switch(KS(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Cy();break;case 3:Vu(),un(ua),un($r),e_();break;case 5:ZS(a);break;case 4:Vu();break;case 13:un(wn);break;case 19:un(wn);break;case 10:YS(a.type._context);break;case 22:case 23:u_()}n=n.return}if(fr=e,Wn=e=il(e.current,null),kr=ja=t,sr=0,Lf=null,l_=Vb=Bc=0,sa=rf=null,dc!==null){for(t=0;t<dc.length;t++)if(n=dc[t],a=n.interleaved,a!==null){n.interleaved=null;var s=a.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,a.next=o}n.pending=a}dc=null}return e}function CL(e,t){do{var n=Wn;try{if(GS(),Zx.current=Ly,Iy){for(var a=Nn.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Iy=!1}if(Fc=0,dr=er=Nn=null,tf=!1,Mf=0,o_.current=null,n===null||n.return===null){sr=1,Lf=t,Wn=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=kr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ET(o);if(f!==null){f.flags&=-257,RT(f,o,l,i,t),f.mode&1&&OT(i,d,t),t=f,c=d;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){OT(i,d,t),m_();break e}c=Error(we(426))}}else if(gn&&l.mode&1){var x=ET(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),RT(x,o,l,i,t),WS(qu(c,l));break e}}i=c=qu(c,l),sr!==4&&(sr=2),rf===null?rf=[i]:rf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=uL(i,c,t);PT(i,y);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(al===null||!al.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=mL(i,l,t);PT(i,N);break e}}i=i.return}while(i!==null)}OL(n)}catch(w){t=w,Wn===n&&n!==null&&(Wn=n=n.return);continue}break}while(!0)}function AL(){var e=$y.current;return $y.current=Ly,e===null?Ly:e}function m_(){(sr===0||sr===3||sr===2)&&(sr=4),fr===null||!(Bc&268435455)&&!(Vb&268435455)||Mo(fr,kr)}function Uy(e,t){var n=Dt;Dt|=2;var a=AL();(fr!==e||kr!==t)&&(Ti=null,Cc(e,t));do try{gG();break}catch(s){CL(e,s)}while(!0);if(GS(),Dt=n,$y.current=a,Wn!==null)throw Error(we(261));return fr=null,kr=0,sr}function gG(){for(;Wn!==null;)TL(Wn)}function xG(){for(;Wn!==null&&!V7();)TL(Wn)}function TL(e){var t=RL(e.alternate,e,ja);e.memoizedProps=e.pendingProps,t===null?OL(e):Wn=t,o_.current=null}function OL(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dG(n,t),n!==null){n.flags&=32767,Wn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sr=6,Wn=null;return}}else if(n=cG(n,t,ja),n!==null){Wn=n;return}if(t=t.sibling,t!==null){Wn=t;return}Wn=t=e}while(t!==null);sr===0&&(sr=5)}function Zl(e,t,n){var a=zt,s=is.transition;try{is.transition=null,zt=1,yG(e,t,n,a)}finally{is.transition=s,zt=a}return null}function yG(e,t,n,a){do uu();while(Yo!==null);if(Dt&6)throw Error(we(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(we(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(X7(e,i),e===fr&&(Wn=fr=null,kr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ix||(ix=!0,ML(jy,function(){return uu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=is.transition,is.transition=null;var o=zt;zt=1;var l=Dt;Dt|=4,o_.current=null,mG(e,n),PL(n,e),$H(ZN),ky=!!XN,ZN=XN=null,e.current=n,hG(n),q7(),Dt=l,zt=o,is.transition=i}else e.current=n;if(ix&&(ix=!1,Yo=e,By=s),i=e.pendingLanes,i===0&&(al=null),W7(n.stateNode),ha(e,Ln()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],a(s.value,{componentStack:s.stack,digest:s.digest});if(Fy)throw Fy=!1,e=v1,v1=null,e;return By&1&&e.tag!==0&&uu(),i=e.pendingLanes,i&1?e===b1?af++:(af=0,b1=e):af=0,Dl(),null}function uu(){if(Yo!==null){var e=u3(By),t=is.transition,n=zt;try{if(is.transition=null,zt=16>e?16:e,Yo===null)var a=!1;else{if(e=Yo,Yo=null,By=0,Dt&6)throw Error(we(331));var s=Dt;for(Dt|=4,Ve=e.current;Ve!==null;){var i=Ve,o=i.child;if(Ve.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ve=d;Ve!==null;){var u=Ve;switch(u.tag){case 0:case 11:case 15:nf(8,u,i)}var m=u.child;if(m!==null)m.return=u,Ve=m;else for(;Ve!==null;){u=Ve;var h=u.sibling,f=u.return;if(jL(u),u===d){Ve=null;break}if(h!==null){h.return=f,Ve=h;break}Ve=f}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Ve=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ve=o;else e:for(;Ve!==null;){if(i=Ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ve=y;break e}Ve=i.return}}var v=e.current;for(Ve=v;Ve!==null;){o=Ve;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ve=b;else e:for(o=v;Ve!==null;){if(l=Ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ub(9,l)}}catch(w){Tn(l,l.return,w)}if(l===o){Ve=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ve=N;break e}Ve=l.return}}if(Dt=s,Dl(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(Rb,e)}catch{}a=!0}return a}finally{zt=n,is.transition=t}}return!1}function WT(e,t,n){t=qu(n,t),t=uL(e,t,1),e=rl(e,t,1),t=Yr(),e!==null&&(tg(e,1,t),ha(e,t))}function Tn(e,t,n){if(e.tag===3)WT(e,e,n);else for(;t!==null;){if(t.tag===3){WT(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(al===null||!al.has(a))){e=qu(n,e),e=mL(t,e,1),t=rl(t,e,1),e=Yr(),t!==null&&(tg(t,1,e),ha(t,e));break}}t=t.return}}function vG(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=Yr(),e.pingedLanes|=e.suspendedLanes&n,fr===e&&(kr&n)===n&&(sr===4||sr===3&&(kr&130023424)===kr&&500>Ln()-c_?Cc(e,0):l_|=n),ha(e,t)}function EL(e,t){t===0&&(e.mode&1?(t=Jg,Jg<<=1,!(Jg&130023424)&&(Jg=4194304)):t=1);var n=Yr();e=Zi(e,t),e!==null&&(tg(e,t,n),ha(e,n))}function bG(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),EL(e,n)}function wG(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(we(314))}a!==null&&a.delete(t),EL(e,n)}var RL;RL=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ua.current)ia=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ia=!1,lG(e,t,n);ia=!!(e.flags&131072)}else ia=!1,gn&&t.flags&1048576&&L3(t,Oy,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ty(e,t),e=t.pendingProps;var s=Fu(t,$r.current);du(t,n),s=n_(null,t,a,e,s,n);var i=r_();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ma(a)?(i=!0,Ay(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,QS(t),s.updater=Bb,t.stateNode=s,s._reactInternals=t,l1(t,a,e,n),t=u1(null,t,a,!0,i,n)):(t.tag=0,gn&&i&&zS(t),qr(null,t,s,n),t=t.child),t;case 16:a=t.elementType;e:{switch(ty(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=NG(a),e=ks(a,e),s){case 0:t=d1(null,t,a,e,n);break e;case 1:t=IT(null,t,a,e,n);break e;case 11:t=MT(null,t,a,e,n);break e;case 14:t=DT(null,t,a,ks(a.type,e),n);break e}throw Error(we(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:ks(a,s),d1(e,t,a,s,n);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:ks(a,s),IT(e,t,a,s,n);case 3:e:{if(gL(t),e===null)throw Error(we(387));a=t.pendingProps,i=t.memoizedState,s=i.element,q3(e,t),My(t,a,null,n);var o=t.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=qu(Error(we(423)),t),t=LT(e,t,a,n,s);break e}else if(a!==s){s=qu(Error(we(424)),t),t=LT(e,t,a,n,s);break e}else for(Ta=nl(t.stateNode.containerInfo.firstChild),Ea=t,gn=!0,Ts=null,n=U3(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bu(),a===s){t=eo(e,t,n);break e}qr(e,t,a,n)}t=t.child}return t;case 5:return z3(t),e===null&&s1(t),a=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,e1(a,s)?o=null:i!==null&&e1(a,i)&&(t.flags|=32),pL(e,t),qr(e,t,o,n),t.child;case 6:return e===null&&s1(t),null;case 13:return xL(e,t,n);case 4:return XS(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Uu(t,null,a,n):qr(e,t,a,n),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:ks(a,s),MT(e,t,a,s,n);case 7:return qr(e,t,t.pendingProps,n),t.child;case 8:return qr(e,t,t.pendingProps.children,n),t.child;case 12:return qr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,tn(Ey,a._currentValue),a._currentValue=o,i!==null)if(qs(i.value,o)){if(i.children===s.children&&!ua.current){t=eo(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=Ui(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),i1(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(we(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),i1(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qr(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,du(t,n),s=ds(s),a=a(s),t.flags|=1,qr(e,t,a,n),t.child;case 14:return a=t.type,s=ks(a,t.pendingProps),s=ks(a.type,s),DT(e,t,a,s,n);case 15:return hL(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:ks(a,s),ty(e,t),t.tag=1,ma(a)?(e=!0,Ay(t)):e=!1,du(t,n),dL(t,a,s),l1(t,a,s,n),u1(null,t,a,!0,e,n);case 19:return yL(e,t,n);case 22:return fL(e,t,n)}throw Error(we(156,t.tag))};function ML(e,t){return o3(e,t)}function jG(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(e,t,n,a){return new jG(e,t,n,a)}function h_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NG(e){if(typeof e=="function")return h_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ES)return 11;if(e===RS)return 14}return 2}function il(e,t){var n=e.alternate;return n===null?(n=rs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ay(e,t,n,a,s,i){var o=2;if(a=e,typeof e=="function")h_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Id:return Ac(n.children,s,i,t);case OS:o=8,s|=8;break;case EN:return e=rs(12,n,t,s|2),e.elementType=EN,e.lanes=i,e;case RN:return e=rs(13,n,t,s),e.elementType=RN,e.lanes=i,e;case MN:return e=rs(19,n,t,s),e.elementType=MN,e.lanes=i,e;case zI:return qb(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VI:o=10;break e;case qI:o=9;break e;case ES:o=11;break e;case RS:o=14;break e;case Co:o=16,a=null;break e}throw Error(we(130,e==null?e:typeof e,""))}return t=rs(o,n,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Ac(e,t,n,a){return e=rs(7,e,a,t),e.lanes=n,e}function qb(e,t,n,a){return e=rs(22,e,a,t),e.elementType=zI,e.lanes=n,e.stateNode={isHidden:!1},e}function rj(e,t,n){return e=rs(6,e,null,t),e.lanes=n,e}function aj(e,t,n){return t=rs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kG(e,t,n,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$w(0),this.expirationTimes=$w(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$w(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function f_(e,t,n,a,s,i,o,l,c){return e=new kG(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=rs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},QS(i),e}function PG(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dd,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function DL(e){if(!e)return fl;e=e._reactInternals;e:{if(sd(e)!==e||e.tag!==1)throw Error(we(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(we(171))}if(e.tag===1){var n=e.type;if(ma(n))return D3(e,n,t)}return t}function IL(e,t,n,a,s,i,o,l,c){return e=f_(n,a,!0,e,s,i,o,l,c),e.context=DL(null),n=e.current,a=Yr(),s=sl(n),i=Ui(a,s),i.callback=t??null,rl(n,i,s),e.current.lanes=s,tg(e,s,a),ha(e,a),e}function zb(e,t,n,a){var s=t.current,i=Yr(),o=sl(s);return n=DL(n),t.context===null?t.context=n:t.pendingContext=n,t=Ui(i,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=rl(s,t,o),e!==null&&(Fs(e,s,o,i),Xx(e,s,o)),o}function Vy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function HT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function p_(e,t){HT(e,t),(e=e.alternate)&&HT(e,t)}function SG(){return null}var LL=typeof reportError=="function"?reportError:function(e){console.error(e)};function g_(e){this._internalRoot=e}Kb.prototype.render=g_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(we(409));zb(e,t,null,null)};Kb.prototype.unmount=g_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uc(function(){zb(null,e,null,null)}),t[Xi]=null}};function Kb(e){this._internalRoot=e}Kb.prototype.unstable_scheduleHydration=function(e){if(e){var t=f3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ro.length&&t!==0&&t<Ro[n].priority;n++);Ro.splice(n,0,e),n===0&&g3(e)}};function x_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function GT(){}function _G(e,t,n,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var d=Vy(o);i.call(d)}}var o=IL(t,a,e,0,null,!1,!1,"",GT);return e._reactRootContainer=o,e[Xi]=o.current,Af(e.nodeType===8?e.parentNode:e),Uc(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var l=a;a=function(){var d=Vy(c);l.call(d)}}var c=f_(e,0,!1,null,null,!1,!1,"",GT);return e._reactRootContainer=c,e[Xi]=c.current,Af(e.nodeType===8?e.parentNode:e),Uc(function(){zb(t,c,n,a)}),c}function Hb(e,t,n,a,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Vy(o);l.call(c)}}zb(t,o,e,s)}else o=_G(n,t,e,s,a);return Vy(o)}m3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Lh(t.pendingLanes);n!==0&&(IS(t,n|1),ha(t,Ln()),!(Dt&6)&&(zu=Ln()+500,Dl()))}break;case 13:Uc(function(){var a=Zi(e,1);if(a!==null){var s=Yr();Fs(a,e,1,s)}}),p_(e,1)}};LS=function(e){if(e.tag===13){var t=Zi(e,134217728);if(t!==null){var n=Yr();Fs(t,e,134217728,n)}p_(e,134217728)}};h3=function(e){if(e.tag===13){var t=sl(e),n=Zi(e,t);if(n!==null){var a=Yr();Fs(n,e,t,a)}p_(e,t)}};f3=function(){return zt};p3=function(e,t){var n=zt;try{return zt=e,t()}finally{zt=n}};zN=function(e,t,n){switch(t){case"input":if(LN(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=Lb(a);if(!s)throw Error(we(90));WI(a),LN(a,s)}}}break;case"textarea":GI(e,n);break;case"select":t=n.value,t!=null&&iu(e,!!n.multiple,t,!1)}};t3=d_;n3=Uc;var CG={usingClientEntryPoint:!1,Events:[rg,Bd,Lb,ZI,e3,d_]},yh={findFiberByHostInstance:cc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AG={bundleType:yh.bundleType,version:yh.version,rendererPackageName:yh.rendererPackageName,rendererConfig:yh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:co.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=s3(e),e===null?null:e.stateNode},findFiberByHostInstance:yh.findFiberByHostInstance||SG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ox=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ox.isDisabled&&ox.supportsFiber)try{Rb=ox.inject(AG),li=ox}catch{}}Va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CG;Va.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x_(t))throw Error(we(200));return PG(e,t,null,n)};Va.createRoot=function(e,t){if(!x_(e))throw Error(we(299));var n=!1,a="",s=LL;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=f_(e,1,!1,null,null,n,!1,a,s),e[Xi]=t.current,Af(e.nodeType===8?e.parentNode:e),new g_(t)};Va.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(we(188)):(e=Object.keys(e).join(","),Error(we(268,e)));return e=s3(t),e=e===null?null:e.stateNode,e};Va.flushSync=function(e){return Uc(e)};Va.hydrate=function(e,t,n){if(!Wb(t))throw Error(we(200));return Hb(null,e,t,!0,n)};Va.hydrateRoot=function(e,t,n){if(!x_(e))throw Error(we(405));var a=n!=null&&n.hydratedSources||null,s=!1,i="",o=LL;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=IL(t,null,e,1,n??null,s,!1,i,o),e[Xi]=t.current,Af(e),a)for(e=0;e<a.length;e++)n=a[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Kb(t)};Va.render=function(e,t,n){if(!Wb(t))throw Error(we(200));return Hb(null,e,t,!1,n)};Va.unmountComponentAtNode=function(e){if(!Wb(e))throw Error(we(40));return e._reactRootContainer?(Uc(function(){Hb(null,null,e,!1,function(){e._reactRootContainer=null,e[Xi]=null})}),!0):!1};Va.unstable_batchedUpdates=d_;Va.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Wb(n))throw Error(we(200));if(e==null||e._reactInternals===void 0)throw Error(we(38));return Hb(e,t,n,!1,a)};Va.version="18.3.1-next-f1338f8080-20240426";function $L(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($L)}catch(e){console.error(e)}}$L(),$I.exports=Va;var id=$I.exports;const TG=Vt(id);var FL,YT=id;FL=YT.createRoot,YT.hydrateRoot;function OG(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,a,s,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(a=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~a?a:~i?i:s.length)),l+=~a&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~a?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var BL={exports:{}},UL={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku=j;function EG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RG=typeof Object.is=="function"?Object.is:EG,MG=Ku.useState,DG=Ku.useEffect,IG=Ku.useLayoutEffect,LG=Ku.useDebugValue;function $G(e,t){var n=t(),a=MG({inst:{value:n,getSnapshot:t}}),s=a[0].inst,i=a[1];return IG(function(){s.value=n,s.getSnapshot=t,sj(s)&&i({inst:s})},[e,n,t]),DG(function(){return sj(s)&&i({inst:s}),e(function(){sj(s)&&i({inst:s})})},[e]),LG(n),n}function sj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!RG(e,n)}catch{return!0}}function FG(e,t){return t()}var BG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?FG:$G;UL.useSyncExternalStore=Ku.useSyncExternalStore!==void 0?Ku.useSyncExternalStore:BG;BL.exports=UL;var UG=BL.exports;const VG=II.useInsertionEffect,qG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VL=qG?j.useLayoutEffect:j.useEffect,zG=VG||VL,y_=e=>{const t=j.useRef([e,(...n)=>t[0](...n)]).current;return zG(()=>{t[0]=e}),t[1]},KG="popstate",v_="pushState",b_="replaceState",WG="hashchange",JT=[KG,v_,b_,WG],HG=e=>{for(const t of JT)addEventListener(t,e);return()=>{for(const t of JT)removeEventListener(t,e)}},qL=(e,t)=>UG.useSyncExternalStore(HG,e,t),GG=()=>location.search,YG=({ssrSearch:e=""}={})=>qL(GG,()=>e),QT=()=>location.pathname,JG=({ssrPath:e}={})=>qL(QT,e?()=>e:QT),QG=(e,{replace:t=!1,state:n=null}={})=>history[t?b_:v_](n,"",e),XG=(e={})=>[JG(e),QG],XT=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[XT]>"u"){for(const e of[v_,b_]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),n}}Object.defineProperty(window,XT,{value:!0})}const ZG=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",zL=(e="")=>e==="/"?"":e,eY=(e,t)=>e[0]==="~"?e.slice(1):zL(t)+e,tY=(e="",t)=>ZG(N1(zL(e)),N1(t)),nY=e=>e[0]==="?"?e.slice(1):e,N1=e=>{try{return decodeURI(e)}catch{return e}},rY=e=>N1(nY(e)),KL={hook:XG,searchHook:YG,parser:OG,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},WL=j.createContext(KL),Dm=()=>j.useContext(WL),HL={},GL=j.createContext(HL),aY=()=>j.useContext(GL),Gb=e=>{const[t,n]=e.hook(e);return[tY(e.base,t),y_((a,s)=>n(eY(a,e.base),s))]},za=()=>Gb(Dm()),sY=()=>{const e=Dm();return rY(e.searchHook(e))},YL=(e,t,n,a)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((m,h)=>[m,c[h]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...a?[l]:[]]:[!1,null]},iY=({children:e,...t})=>{var u,m;const n=Dm(),a=t.hook?KL:n;let s=a;const[i,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs);let l=j.useRef({}),c=l.current,d=c;for(let h in a){const f=h==="base"?a[h]+(t[h]||""):t[h]||a[h];c===d&&f!==d[h]&&(l.current=d={...d}),d[h]=f,f!==a[h]&&(s=d)}return j.createElement(WL.Provider,{value:s,children:e})},ZT=({children:e,component:t},n)=>t?j.createElement(t,{params:n}):typeof e=="function"?e(n):e,oY=e=>{let t=j.useRef(HL),n=t.current;for(const a in e)e[a]!==n[a]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},We=({path:e,nest:t,match:n,...a})=>{const s=Dm(),[i]=Gb(s),[o,l,c]=n??YL(s.parser,e,i,t),d=oY({...aY(),...l});if(!o)return null;const u=c?j.createElement(iY,{base:c},ZT(a,d)):ZT(a,d);return j.createElement(GL.Provider,{value:d,children:u})},En=j.forwardRef((e,t)=>{const n=Dm(),[a,s]=Gb(n),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:m,state:h,...f}=e,g=y_(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),s(o,e)))}),p=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&j.isValidElement(d)?j.cloneElement(d,{onClick:g,href:p}):j.createElement("a",{...f,onClick:g,href:p,className:u!=null&&u.call?u(a===o):u,children:d,ref:t})}),JL=e=>Array.isArray(e)?e.flatMap(t=>JL(t&&t.type===j.Fragment?t.props.children:t)):[e],lY=({children:e,location:t})=>{const n=Dm(),[a]=Gb(n);for(const s of JL(e)){let i=0;if(j.isValidElement(s)&&(i=YL(n.parser,s.props.path,t||a,s.props.nest))[0])return j.cloneElement(s,{match:i})}return null},lx=e=>{const{to:t,href:n=t}=e,[,a]=za(),s=y_(()=>a(t||n,e));return VL(()=>{s()},[]),null};var Im=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vc=typeof window>"u"||"Deno"in globalThis;function Qa(){}function cY(e,t){return typeof e=="function"?e(t):e}function k1(e){return typeof e=="number"&&e>=0&&e!==1/0}function QL(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mu(e,t){return typeof e=="function"?e(t):e}function Os(e,t){return typeof e=="function"?e(t):e}function eO(e,t){const{type:n="all",exact:a,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(a){if(t.queryHash!==w_(o,t.options))return!1}else if(!$f(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function tO(e,t){const{exact:n,status:a,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(qc(t.options.mutationKey)!==qc(i))return!1}else if(!$f(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function w_(e,t){return((t==null?void 0:t.queryKeyHashFn)||qc)(e)}function qc(e){return JSON.stringify(e,(t,n)=>P1(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function $f(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!$f(e[n],t[n])):!1}function XL(e,t){if(e===t)return e;const n=nO(e)&&nO(t);if(n||P1(e)&&P1(t)){const a=n?e:Object.keys(e),s=a.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const u=n?d:i[d];(!n&&a.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=XL(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function qy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function nO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function P1(e){if(!rO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!rO(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rO(e){return Object.prototype.toString.call(e)==="[object Object]"}function dY(e){return new Promise(t=>{setTimeout(t,e)})}function S1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?XL(e,t):t}function uY(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}function mY(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}var j_=Symbol();function ZL(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===j_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var wc,Fo,Pu,gI,hY=(gI=class extends Im{constructor(){super();Ge(this,wc);Ge(this,Fo);Ge(this,Pu);$e(this,Pu,t=>{if(!Vc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){re(this,Fo)||this.setEventListener(re(this,Pu))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,Fo))==null||t.call(this),$e(this,Fo,void 0))}setEventListener(t){var n;$e(this,Pu,t),(n=re(this,Fo))==null||n.call(this),$e(this,Fo,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){re(this,wc)!==t&&($e(this,wc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof re(this,wc)=="boolean"?re(this,wc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wc=new WeakMap,Fo=new WeakMap,Pu=new WeakMap,gI),N_=new hY,Su,Bo,_u,xI,fY=(xI=class extends Im{constructor(){super();Ge(this,Su,!0);Ge(this,Bo);Ge(this,_u);$e(this,_u,t=>{if(!Vc&&window.addEventListener){const n=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){re(this,Bo)||this.setEventListener(re(this,_u))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,Bo))==null||t.call(this),$e(this,Bo,void 0))}setEventListener(t){var n;$e(this,_u,t),(n=re(this,Bo))==null||n.call(this),$e(this,Bo,t(this.setOnline.bind(this)))}setOnline(t){re(this,Su)!==t&&($e(this,Su,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return re(this,Su)}},Su=new WeakMap,Bo=new WeakMap,_u=new WeakMap,xI),zy=new fY;function _1(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function a(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},n.reject=s=>{a({status:"rejected",reason:s}),t(s)},n}function pY(e){return Math.min(1e3*2**e,3e4)}function e$(e){return(e??"online")==="online"?zy.isOnline():!0}var t$=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ij(e){return e instanceof t$}function n$(e){let t=!1,n=0,a=!1,s;const i=_1(),o=p=>{var x;a||(h(new t$(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>N_.isFocused()&&(e.networkMode==="always"||zy.isOnline())&&e.canRun(),u=()=>e$(e.networkMode)&&e.canRun(),m=p=>{var x;a||(a=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),i.resolve(p))},h=p=>{var x;a||(a=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),i.reject(p))},f=()=>new Promise(p=>{var x;s=y=>{(a||d())&&p(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,a||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(a)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(m).catch(y=>{var k;if(a)return;const v=e.retry??(Vc?0:3),b=e.retryDelay??pY,N=typeof b=="function"?b(n,y):b,w=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!w){h(y);return}n++,(k=e.onFail)==null||k.call(e,n,y),dY(N).then(()=>d()?void 0:f()).then(()=>{t?h(y):g()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():f().then(g),i)}}function gY(){let e=[],t=0,n=l=>{l()},a=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{a(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{s=l}}}var tr=gY(),jc,yI,r$=(yI=class{constructor(){Ge(this,jc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k1(this.gcTime)&&$e(this,jc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vc?1/0:5*60*1e3))}clearGcTimeout(){re(this,jc)&&(clearTimeout(re(this,jc)),$e(this,jc,void 0))}},jc=new WeakMap,yI),Cu,Au,Ja,Ar,Jp,Nc,Ps,Ci,vI,xY=(vI=class extends r${constructor(t){super();Ge(this,Ps);Ge(this,Cu);Ge(this,Au);Ge(this,Ja);Ge(this,Ar);Ge(this,Jp);Ge(this,Nc);$e(this,Nc,!1),$e(this,Jp,t.defaultOptions),this.setOptions(t.options),this.observers=[],$e(this,Ja,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$e(this,Cu,yY(this.options)),this.state=t.state??re(this,Cu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=re(this,Ar))==null?void 0:t.promise}setOptions(t){this.options={...re(this,Jp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,Ja).remove(this)}setData(t,n){const a=S1(this.state.data,t,this.options);return xt(this,Ps,Ci).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(t,n){xt(this,Ps,Ci).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var a,s;const n=(a=re(this,Ar))==null?void 0:a.promise;return(s=re(this,Ar))==null||s.cancel(t),n?n.then(Qa).catch(Qa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,Cu))}isActive(){return this.observers.some(t=>Os(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===j_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!QL(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=re(this,Ar))==null||n.continue()}onOnline(){var n;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=re(this,Ar))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),re(this,Ja).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(re(this,Ar)&&(re(this,Nc)?re(this,Ar).cancel({revert:!0}):re(this,Ar).cancelRetry()),this.scheduleGc()),re(this,Ja).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xt(this,Ps,Ci).call(this,{type:"invalidate"})}fetch(t,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(re(this,Ar))return re(this,Ar).continueRetry(),re(this,Ar).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const a=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>($e(this,Nc,!0),a.signal)})},i=()=>{const m=ZL(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),$e(this,Nc,!1),this.options.persister?this.options.persister(m,h,this):m(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),$e(this,Au,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&xt(this,Ps,Ci).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=m=>{var h,f,g,p;ij(m)&&m.silent||xt(this,Ps,Ci).call(this,{type:"error",error:m}),ij(m)||((f=(h=re(this,Ja).config).onError)==null||f.call(h,m,this),(p=(g=re(this,Ja).config).onSettled)==null||p.call(g,this.state.data,m,this)),this.scheduleGc()};return $e(this,Ar,n$({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:a.abort.bind(a),onSuccess:m=>{var h,f,g,p;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){l(x);return}(f=(h=re(this,Ja).config).onSuccess)==null||f.call(h,m,this),(p=(g=re(this,Ja).config).onSettled)==null||p.call(g,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,h)=>{xt(this,Ps,Ci).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{xt(this,Ps,Ci).call(this,{type:"pause"})},onContinue:()=>{xt(this,Ps,Ci).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),re(this,Ar).start()}},Cu=new WeakMap,Au=new WeakMap,Ja=new WeakMap,Ar=new WeakMap,Jp=new WeakMap,Nc=new WeakMap,Ps=new WeakSet,Ci=function(t){const n=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...a$(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return ij(s)&&s.revert&&re(this,Au)?{...re(this,Au),fetchStatus:"idle"}:{...a,error:s,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=n(this.state),tr.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),re(this,Ja).notify({query:this,type:"updated",action:t})})},vI);function a$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:e$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function yY(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zs,bI,vY=(bI=class extends Im{constructor(t={}){super();Ge(this,Zs);this.config=t,$e(this,Zs,new Map)}build(t,n,a){const s=n.queryKey,i=n.queryHash??w_(s,n);let o=this.get(i);return o||(o=new xY({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:a,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){re(this,Zs).has(t.queryHash)||(re(this,Zs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=re(this,Zs).get(t.queryHash);n&&(t.destroy(),n===t&&re(this,Zs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return re(this,Zs).get(t)}getAll(){return[...re(this,Zs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(a=>eO(n,a))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(a=>eO(t,a)):n}notify(t){tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zs=new WeakMap,bI),ei,Ur,kc,ti,Po,wI,bY=(wI=class extends r${constructor(t){super();Ge(this,ti);Ge(this,ei);Ge(this,Ur);Ge(this,kc);this.mutationId=t.mutationId,$e(this,Ur,t.mutationCache),$e(this,ei,[]),this.state=t.state||s$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){re(this,ei).includes(t)||(re(this,ei).push(t),this.clearGcTimeout(),re(this,Ur).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$e(this,ei,re(this,ei).filter(n=>n!==t)),this.scheduleGc(),re(this,Ur).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){re(this,ei).length||(this.state.status==="pending"?this.scheduleGc():re(this,Ur).remove(this))}continue(){var t;return((t=re(this,kc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,l,c,d,u,m,h,f,g,p,x,y,v,b,N,w,k,P;$e(this,kc,n$({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(_,T)=>{xt(this,ti,Po).call(this,{type:"failed",failureCount:_,error:T})},onPause:()=>{xt(this,ti,Po).call(this,{type:"pause"})},onContinue:()=>{xt(this,ti,Po).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,Ur).canRun(this)}));const n=this.state.status==="pending",a=!re(this,kc).canStart();try{if(!n){xt(this,ti,Po).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(s=re(this,Ur).config).onMutate)==null?void 0:i.call(s,t,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));T!==this.state.context&&xt(this,ti,Po).call(this,{type:"pending",context:T,variables:t,isPaused:a})}const _=await re(this,kc).start();return await((d=(c=re(this,Ur).config).onSuccess)==null?void 0:d.call(c,_,t,this.state.context,this)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,_,t,this.state.context)),await((f=(h=re(this,Ur).config).onSettled)==null?void 0:f.call(h,_,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,_,null,t,this.state.context)),xt(this,ti,Po).call(this,{type:"success",data:_}),_}catch(_){try{throw await((y=(x=re(this,Ur).config).onError)==null?void 0:y.call(x,_,t,this.state.context,this)),await((b=(v=this.options).onError)==null?void 0:b.call(v,_,t,this.state.context)),await((w=(N=re(this,Ur).config).onSettled)==null?void 0:w.call(N,void 0,_,this.state.variables,this.state.context,this)),await((P=(k=this.options).onSettled)==null?void 0:P.call(k,void 0,_,t,this.state.context)),_}finally{xt(this,ti,Po).call(this,{type:"error",error:_})}}finally{re(this,Ur).runNext(this)}}},ei=new WeakMap,Ur=new WeakMap,kc=new WeakMap,ti=new WeakSet,Po=function(t){const n=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),tr.batch(()=>{re(this,ei).forEach(a=>{a.onMutationUpdate(t)}),re(this,Ur).notify({mutation:this,type:"updated",action:t})})},wI);function s$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wa,Qp,jI,wY=(jI=class extends Im{constructor(t={}){super();Ge(this,wa);Ge(this,Qp);this.config=t,$e(this,wa,new Map),$e(this,Qp,Date.now())}build(t,n,a){const s=new bY({mutationCache:this,mutationId:++qg(this,Qp)._,options:t.defaultMutationOptions(n),state:a});return this.add(s),s}add(t){const n=cx(t),a=re(this,wa).get(n)??[];a.push(t),re(this,wa).set(n,a),this.notify({type:"added",mutation:t})}remove(t){var a;const n=cx(t);if(re(this,wa).has(n)){const s=(a=re(this,wa).get(n))==null?void 0:a.filter(i=>i!==t);s&&(s.length===0?re(this,wa).delete(n):re(this,wa).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var a;const n=(a=re(this,wa).get(cx(t)))==null?void 0:a.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var a;const n=(a=re(this,wa).get(cx(t)))==null?void 0:a.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...re(this,wa).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(a=>tO(n,a))}findAll(t={}){return this.getAll().filter(n=>tO(t,n))}notify(t){tr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return tr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Qa))))}},wa=new WeakMap,Qp=new WeakMap,jI);function cx(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function aO(e){return{onFetch:(t,n)=>{var u,m,h,f,g;const a=t.options,s=(h=(m=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=ZL(t.options,t.fetchOptions),v=async(b,N,w)=>{if(p)return Promise.reject();if(N==null&&b.pages.length)return Promise.resolve(b);const k={queryKey:t.queryKey,pageParam:N,direction:w?"backward":"forward",meta:t.options.meta};x(k);const P=await y(k),{maxPages:_}=t.options,T=w?mY:uY;return{pages:T(b.pages,P,_),pageParams:T(b.pageParams,N,_)}};if(s&&i.length){const b=s==="backward",N=b?jY:sO,w={pages:i,pageParams:o},k=N(a,w);l=await v(w,k,b)}else{const b=e??i.length;do{const N=c===0?o[0]??a.initialPageParam:sO(a,l);if(c>0&&N==null)break;l=await v(l,N),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function sO(e,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,n[a],n):void 0}function jY(e,{pages:t,pageParams:n}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,n[0],n):void 0}var _n,Uo,Vo,Tu,Ou,qo,Eu,Ru,NI,NY=(NI=class{constructor(e={}){Ge(this,_n);Ge(this,Uo);Ge(this,Vo);Ge(this,Tu);Ge(this,Ou);Ge(this,qo);Ge(this,Eu);Ge(this,Ru);$e(this,_n,e.queryCache||new vY),$e(this,Uo,e.mutationCache||new wY),$e(this,Vo,e.defaultOptions||{}),$e(this,Tu,new Map),$e(this,Ou,new Map),$e(this,qo,0)}mount(){qg(this,qo)._++,re(this,qo)===1&&($e(this,Eu,N_.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,_n).onFocus())})),$e(this,Ru,zy.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,_n).onOnline())})))}unmount(){var e,t;qg(this,qo)._--,re(this,qo)===0&&((e=re(this,Eu))==null||e.call(this),$e(this,Eu,void 0),(t=re(this,Ru))==null||t.call(this),$e(this,Ru,void 0))}isFetching(e){return re(this,_n).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return re(this,Uo).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=re(this,_n).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),a=re(this,_n).build(this,n);return e.revalidateIfStale&&a.isStaleByTime(mu(n.staleTime,a))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return re(this,_n).findAll(e).map(({queryKey:t,state:n})=>{const a=n.data;return[t,a]})}setQueryData(e,t,n){const a=this.defaultQueryOptions({queryKey:e}),s=re(this,_n).get(a.queryHash),i=s==null?void 0:s.state.data,o=cY(t,i);if(o!==void 0)return re(this,_n).build(this,a).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return tr.batch(()=>re(this,_n).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=re(this,_n).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=re(this,_n);tr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=re(this,_n),a={type:"active",...e};return tr.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(a,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},a=tr.batch(()=>re(this,_n).findAll(e).map(s=>s.cancel(n)));return Promise.all(a).then(Qa).catch(Qa)}invalidateQueries(e={},t={}){return tr.batch(()=>{if(re(this,_n).findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},a=tr.batch(()=>re(this,_n).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Qa)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(Qa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=re(this,_n).build(this,t);return n.isStaleByTime(mu(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Qa).catch(Qa)}fetchInfiniteQuery(e){return e.behavior=aO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Qa).catch(Qa)}ensureInfiniteQueryData(e){return e.behavior=aO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zy.isOnline()?re(this,Uo).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,_n)}getMutationCache(){return re(this,Uo)}getDefaultOptions(){return re(this,Vo)}setDefaultOptions(e){$e(this,Vo,e)}setQueryDefaults(e,t){re(this,Tu).set(qc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...re(this,Tu).values()];let n={};return t.forEach(a=>{$f(e,a.queryKey)&&(n={...n,...a.defaultOptions})}),n}setMutationDefaults(e,t){re(this,Ou).set(qc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...re(this,Ou).values()];let n={};return t.forEach(a=>{$f(e,a.mutationKey)&&(n={...n,...a.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...re(this,Vo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=w_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===j_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...re(this,Vo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){re(this,_n).clear(),re(this,Uo).clear()}},_n=new WeakMap,Uo=new WeakMap,Vo=new WeakMap,Tu=new WeakMap,Ou=new WeakMap,qo=new WeakMap,Eu=new WeakMap,Ru=new WeakMap,NI),ra,St,Xp,Vr,Pc,Mu,zo,ni,Zp,Du,Iu,Sc,_c,Ko,Lu,Ut,Fh,C1,A1,T1,O1,E1,R1,M1,i$,kI,kY=(kI=class extends Im{constructor(t,n){super();Ge(this,Ut);Ge(this,ra);Ge(this,St);Ge(this,Xp);Ge(this,Vr);Ge(this,Pc);Ge(this,Mu);Ge(this,zo);Ge(this,ni);Ge(this,Zp);Ge(this,Du);Ge(this,Iu);Ge(this,Sc);Ge(this,_c);Ge(this,Ko);Ge(this,Lu,new Set);this.options=n,$e(this,ra,t),$e(this,ni,null),$e(this,zo,_1()),this.options.experimental_prefetchInRender||re(this,zo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(re(this,St).addObserver(this),iO(re(this,St),this.options)?xt(this,Ut,Fh).call(this):this.updateResult(),xt(this,Ut,O1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return D1(re(this,St),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return D1(re(this,St),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xt(this,Ut,E1).call(this),xt(this,Ut,R1).call(this),re(this,St).removeObserver(this)}setOptions(t,n){const a=this.options,s=re(this,St);if(this.options=re(this,ra).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Os(this.options.enabled,re(this,St))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xt(this,Ut,M1).call(this),re(this,St).setOptions(this.options),a._defaulted&&!qy(this.options,a)&&re(this,ra).getQueryCache().notify({type:"observerOptionsUpdated",query:re(this,St),observer:this});const i=this.hasListeners();i&&oO(re(this,St),s,this.options,a)&&xt(this,Ut,Fh).call(this),this.updateResult(n),i&&(re(this,St)!==s||Os(this.options.enabled,re(this,St))!==Os(a.enabled,re(this,St))||mu(this.options.staleTime,re(this,St))!==mu(a.staleTime,re(this,St)))&&xt(this,Ut,C1).call(this);const o=xt(this,Ut,A1).call(this);i&&(re(this,St)!==s||Os(this.options.enabled,re(this,St))!==Os(a.enabled,re(this,St))||o!==re(this,Ko))&&xt(this,Ut,T1).call(this,o)}getOptimisticResult(t){const n=re(this,ra).getQueryCache().build(re(this,ra),t),a=this.createResult(n,t);return SY(this,a)&&($e(this,Vr,a),$e(this,Mu,this.options),$e(this,Pc,re(this,St).state)),a}getCurrentResult(){return re(this,Vr)}trackResult(t,n){const a={};return Object.keys(t).forEach(s=>{Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),a}trackProp(t){re(this,Lu).add(t)}getCurrentQuery(){return re(this,St)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=re(this,ra).defaultQueryOptions(t),a=re(this,ra).getQueryCache().build(re(this,ra),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(t){return xt(this,Ut,Fh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),re(this,Vr)))}createResult(t,n){var _;const a=re(this,St),s=this.options,i=re(this,Vr),o=re(this,Pc),l=re(this,Mu),d=t!==a?t.state:re(this,Xp),{state:u}=t;let m={...u},h=!1,f;if(n._optimisticResults){const T=this.hasListeners(),I=!T&&iO(t,n),A=T&&oO(t,a,n,s);(I||A)&&(m={...m,...a$(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:x}=m;if(n.select&&m.data!==void 0)if(i&&m.data===(o==null?void 0:o.data)&&n.select===re(this,Zp))f=re(this,Du);else try{$e(this,Zp,n.select),f=n.select(m.data),f=S1(i==null?void 0:i.data,f,n),$e(this,Du,f),$e(this,ni,null)}catch(T){$e(this,ni,T)}else f=m.data;if(n.placeholderData!==void 0&&f===void 0&&x==="pending"){let T;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))T=i.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((_=re(this,Iu))==null?void 0:_.state.data,re(this,Iu)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),$e(this,ni,null)}catch(I){$e(this,ni,I)}T!==void 0&&(x="success",f=S1(i==null?void 0:i.data,T,n),h=!0)}re(this,ni)&&(g=re(this,ni),f=re(this,Du),p=Date.now(),x="error");const y=m.fetchStatus==="fetching",v=x==="pending",b=x==="error",N=v&&y,w=f!==void 0,P={status:x,fetchStatus:m.fetchStatus,isPending:v,isSuccess:x==="success",isError:b,isInitialLoading:N,isLoading:N,data:f,dataUpdatedAt:m.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:b&&!w,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&w,isStale:k_(t,n),refetch:this.refetch,promise:re(this,zo)};if(this.options.experimental_prefetchInRender){const T=R=>{P.status==="error"?R.reject(P.error):P.data!==void 0&&R.resolve(P.data)},I=()=>{const R=$e(this,zo,P.promise=_1());T(R)},A=re(this,zo);switch(A.status){case"pending":t.queryHash===a.queryHash&&T(A);break;case"fulfilled":(P.status==="error"||P.data!==A.value)&&I();break;case"rejected":(P.status!=="error"||P.error!==A.reason)&&I();break}}return P}updateResult(t){const n=re(this,Vr),a=this.createResult(re(this,St),this.options);if($e(this,Pc,re(this,St).state),$e(this,Mu,this.options),re(this,Pc).data!==void 0&&$e(this,Iu,re(this,St)),qy(a,n))return;$e(this,Vr,a);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!re(this,Lu).size)return!0;const c=new Set(l??re(this,Lu));return this.options.throwOnError&&c.add("error"),Object.keys(re(this,Vr)).some(d=>{const u=d;return re(this,Vr)[u]!==n[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),xt(this,Ut,i$).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xt(this,Ut,O1).call(this)}},ra=new WeakMap,St=new WeakMap,Xp=new WeakMap,Vr=new WeakMap,Pc=new WeakMap,Mu=new WeakMap,zo=new WeakMap,ni=new WeakMap,Zp=new WeakMap,Du=new WeakMap,Iu=new WeakMap,Sc=new WeakMap,_c=new WeakMap,Ko=new WeakMap,Lu=new WeakMap,Ut=new WeakSet,Fh=function(t){xt(this,Ut,M1).call(this);let n=re(this,St).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Qa)),n},C1=function(){xt(this,Ut,E1).call(this);const t=mu(this.options.staleTime,re(this,St));if(Vc||re(this,Vr).isStale||!k1(t))return;const a=QL(re(this,Vr).dataUpdatedAt,t)+1;$e(this,Sc,setTimeout(()=>{re(this,Vr).isStale||this.updateResult()},a))},A1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(re(this,St)):this.options.refetchInterval)??!1},T1=function(t){xt(this,Ut,R1).call(this),$e(this,Ko,t),!(Vc||Os(this.options.enabled,re(this,St))===!1||!k1(re(this,Ko))||re(this,Ko)===0)&&$e(this,_c,setInterval(()=>{(this.options.refetchIntervalInBackground||N_.isFocused())&&xt(this,Ut,Fh).call(this)},re(this,Ko)))},O1=function(){xt(this,Ut,C1).call(this),xt(this,Ut,T1).call(this,xt(this,Ut,A1).call(this))},E1=function(){re(this,Sc)&&(clearTimeout(re(this,Sc)),$e(this,Sc,void 0))},R1=function(){re(this,_c)&&(clearInterval(re(this,_c)),$e(this,_c,void 0))},M1=function(){const t=re(this,ra).getQueryCache().build(re(this,ra),this.options);if(t===re(this,St))return;const n=re(this,St);$e(this,St,t),$e(this,Xp,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},i$=function(t){tr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(re(this,Vr))}),re(this,ra).getQueryCache().notify({query:re(this,St),type:"observerResultsUpdated"})})},kI);function PY(e,t){return Os(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function iO(e,t){return PY(e,t)||e.state.data!==void 0&&D1(e,t,t.refetchOnMount)}function D1(e,t,n){if(Os(t.enabled,e)!==!1){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&k_(e,t)}return!1}function oO(e,t,n,a){return(e!==t||Os(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&k_(e,n)}function k_(e,t){return Os(t.enabled,e)!==!1&&e.isStaleByTime(mu(t.staleTime,e))}function SY(e,t){return!qy(e.getCurrentResult(),t)}var Wo,Ho,aa,Di,Ji,sy,I1,PI,_Y=(PI=class extends Im{constructor(n,a){super();Ge(this,Ji);Ge(this,Wo);Ge(this,Ho);Ge(this,aa);Ge(this,Di);$e(this,Wo,n),this.setOptions(a),this.bindMethods(),xt(this,Ji,sy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const a=this.options;this.options=re(this,Wo).defaultMutationOptions(n),qy(this.options,a)||re(this,Wo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:re(this,aa),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&qc(a.mutationKey)!==qc(this.options.mutationKey)?this.reset():((s=re(this,aa))==null?void 0:s.state.status)==="pending"&&re(this,aa).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=re(this,aa))==null||n.removeObserver(this)}onMutationUpdate(n){xt(this,Ji,sy).call(this),xt(this,Ji,I1).call(this,n)}getCurrentResult(){return re(this,Ho)}reset(){var n;(n=re(this,aa))==null||n.removeObserver(this),$e(this,aa,void 0),xt(this,Ji,sy).call(this),xt(this,Ji,I1).call(this)}mutate(n,a){var s;return $e(this,Di,a),(s=re(this,aa))==null||s.removeObserver(this),$e(this,aa,re(this,Wo).getMutationCache().build(re(this,Wo),this.options)),re(this,aa).addObserver(this),re(this,aa).execute(n)}},Wo=new WeakMap,Ho=new WeakMap,aa=new WeakMap,Di=new WeakMap,Ji=new WeakSet,sy=function(){var a;const n=((a=re(this,aa))==null?void 0:a.state)??s$();$e(this,Ho,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},I1=function(n){tr.batch(()=>{var a,s,i,o,l,c,d,u;if(re(this,Di)&&this.hasListeners()){const m=re(this,Ho).variables,h=re(this,Ho).context;(n==null?void 0:n.type)==="success"?((s=(a=re(this,Di)).onSuccess)==null||s.call(a,n.data,m,h),(o=(i=re(this,Di)).onSettled)==null||o.call(i,n.data,null,m,h)):(n==null?void 0:n.type)==="error"&&((c=(l=re(this,Di)).onError)==null||c.call(l,n.error,m,h),(u=(d=re(this,Di)).onSettled)==null||u.call(d,void 0,n.error,m,h))}this.listeners.forEach(m=>{m(re(this,Ho))})})},PI),o$=j.createContext(void 0),Sn=e=>{const t=j.useContext(o$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},CY=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(o$.Provider,{value:e,children:t})),l$=j.createContext(!1),AY=()=>j.useContext(l$);l$.Provider;function TY(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var OY=j.createContext(TY()),EY=()=>j.useContext(OY);function c$(e,t){return typeof e=="function"?e(...t):!!e}function L1(){}var RY=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},MY=e=>{j.useEffect(()=>{e.clearReset()},[e])},DY=({result:e,errorResetBoundary:t,throwOnError:n,query:a})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&c$(n,[e.error,a]),IY=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},LY=(e,t)=>e.isLoading&&e.isFetching&&!t,$Y=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,lO=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function FY(e,t,n){var u,m,h,f,g;const a=Sn(),s=AY(),i=EY(),o=a.defaultQueryOptions(e);(m=(u=a.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||m.call(u,o),o._optimisticResults=s?"isRestoring":"optimistic",IY(o),RY(o,i),MY(i);const l=!a.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(a,o)),d=c.getOptimisticResult(o);if(j.useSyncExternalStore(j.useCallback(p=>{const x=s?L1:c.subscribe(tr.batchCalls(p));return c.updateResult(),x},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),$Y(o,d))throw lO(o,c,i);if(DY({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash)}))throw d.error;if((f=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||f.call(h,o,d),o.experimental_prefetchInRender&&!Vc&&LY(d,s)){const p=l?lO(o,c,i):(g=a.getQueryCache().get(o.queryHash))==null?void 0:g.promise;p==null||p.catch(L1).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Le(e,t){return FY(e,kY)}function Ie(e,t){const n=Sn(),[a]=j.useState(()=>new _Y(n,e));j.useEffect(()=>{a.setOptions(e)},[a,e]);const s=j.useSyncExternalStore(j.useCallback(o=>a.subscribe(tr.batchCalls(o)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=j.useCallback((o,l)=>{a.mutate(o,l).catch(L1)},[a]);if(s.error&&c$(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var si=function(){return si=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},si.apply(this,arguments)};function Lm(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function BY(e,t,n,a){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(m){o(m)}}function c(u){try{d(a.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((a=a.apply(e,t||[])).next())})}function UY(e,t,n){if(n||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}const VY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class P_ extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class qY extends P_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cO extends P_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dO extends P_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($1||($1={}));class zY{constructor(t,{headers:n={},customFetch:a,region:s=$1.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=VY(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return BY(this,arguments,void 0,function*(n,a={}){var s;let i,o;try{const{headers:l,method:c,body:d,signal:u,timeout:m}=a;let h={},{region:f}=a;f||(f=this.region);const g=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let p;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=d):typeof d=="string"?(h["Content-Type"]="text/plain",p=d):typeof FormData<"u"&&d instanceof FormData?p=d:(h["Content-Type"]="application/json",p=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?p=JSON.stringify(d):p=d;let x=u;m&&(o=new AbortController,i=setTimeout(()=>o.abort(),m),u?(x=o.signal,u.addEventListener("abort",()=>o.abort())):x=o.signal);const y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:x}).catch(w=>{throw new qY(w)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new cO(y);if(!y.ok)throw new dO(y);let b=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),N;return b==="application/json"?N=yield y.json():b==="application/octet-stream"||b==="application/pdf"?N=yield y.blob():b==="text/event-stream"?N=y:b==="multipart/form-data"?N=yield y.formData():N=yield y.text(),{data:N,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof dO||l instanceof cO?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var KY=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},WY=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let s=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,d=i.status,u=i.statusText;if(i.ok){var m,h;if(n.method!=="HEAD"){var f;const y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const p=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),x=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,d=406,u="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,d=200,u="OK")}catch{i.status===404&&p===""?(d=204,u="No Content"):o={message:p}}if(o&&n.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,d=200,u="OK"),o&&n.shouldThrowOnError)throw new KY(o)}return{error:o,data:l,count:c,status:d,statusText:u}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var d,u,m,h;const g=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",p=(u=c==null?void 0:c.code)!==null&&u!==void 0?u:"";l=`${(m=i==null?void 0:i.name)!==null&&m!==void 0?m:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var f;l=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},HY=class extends WY{select(e){let t=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const uO=new RegExp("[,()]");var Od=class extends HY{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&uO.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&uO.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},GY=class{constructor(e,{headers:t={},schema:n,fetch:a}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:a}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(d=>/\s/.test(d)&&!i?"":(d==='"'&&(i=!i),d)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),a&&c.append("Prefer",`count=${a}`),new Od({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var a;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);i.searchParams.set("columns",c.join(","))}}return new Od({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),a&&c.append("Prefer",`count=${a}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((u,m)=>u.concat(Object.keys(m)),[]);if(d.length>0){const u=[...new Set(d)].map(m=>`"${m}"`);l.searchParams.set("columns",u.join(","))}}return new Od({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const a="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Od({method:a,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:a,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Od({method:n,url:a,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},YY=class d${constructor(t,{headers:n={},schema:a,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=a,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new GY(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new d$(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:a=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;const u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),m=a&&Object.values(n).some(u);m?(l="POST",d=n):a||s?(l=a?"HEAD":"GET",Object.entries(n).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{c.searchParams.append(f,g)})):(l="POST",d=n);const h=new Headers(this.headers);return m?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Od({method:l,url:c,headers:h,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class JY{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const s=a.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const QY="2.93.2",XY=`realtime-js/${QY}`,ZY="1.0.0",u$="2.0.0",mO=u$,F1=1e4,eJ=1e3,tJ=100;var To;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(To||(To={}));var Zn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Zn||(Zn={}));var _s;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_s||(_s={}));var B1;(function(e){e.websocket="websocket"})(B1||(B1={}));var ic;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ic||(ic={}));class nJ{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a;const s=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,a;const s=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,a){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",d=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+m.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(f),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,d.length),g.setUint8(p++,m.length),g.setUint8(p++,n),Array.from(c,y=>g.setUint8(p++,y.charCodeAt(0))),Array.from(l,y=>g.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>g.setUint8(p++,y.charCodeAt(0))),Array.from(d,y=>g.setUint8(p++,y.charCodeAt(0))),Array.from(m,y=>g.setUint8(p++,y.charCodeAt(0)));var x=new Uint8Array(f.byteLength+a.byteLength);return x.set(new Uint8Array(f),0),x.set(new Uint8Array(a),f.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[s,i,o,l,c]=a;return n({join_ref:s,ref:i,topic:o,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),s=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,a){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const d=a.decode(t.slice(c,c+s));c=c+s;const u=a.decode(t.slice(c,c+i));c=c+i;const m=a.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(a.decode(h)):h,g={type:this.BROADCAST_EVENT,event:u,payload:f};return o>0&&(g.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>n.includes(a)))}}class m${constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xt||(Xt={}));const hO=(e,t,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=rJ(o,e,t,s),i),{}):{}},rJ=(e,t,n,a)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!a.includes(i)?h$(i,o):U1(o)},h$=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return oJ(t,n)}switch(e){case Xt.bool:return aJ(t);case Xt.float4:case Xt.float8:case Xt.int2:case Xt.int4:case Xt.int8:case Xt.numeric:case Xt.oid:return sJ(t);case Xt.json:case Xt.jsonb:return iJ(t);case Xt.timestamp:return lJ(t);case Xt.abstime:case Xt.date:case Xt.daterange:case Xt.int4range:case Xt.int8range:case Xt.money:case Xt.reltime:case Xt.text:case Xt.time:case Xt.timestamptz:case Xt.timetz:case Xt.tsrange:case Xt.tstzrange:return U1(t);default:return U1(t)}},U1=e=>e,aJ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sJ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},iJ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},oJ=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>h$(t,l))}return e},lJ=e=>typeof e=="string"?e.replace(" ","T"):e,f$=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class oj{constructor(t,n,a={},s=F1){this.channel=t,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fO;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fO||(fO={}));class sf{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sf.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=sf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=sf.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const m=i[d];if(m){const h=u.map(x=>x.presence_ref),f=m.map(x=>x.presence_ref),g=u.filter(x=>f.indexOf(x.presence_ref)<0),p=m.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(l[d]=g),p.length>0&&(c[d]=p)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},a,s)}static syncDiff(t,n,a,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const m=t[l].map(f=>f.presence_ref),h=u.filter(f=>m.indexOf(f.presence_ref)<0);t[l].unshift(...h)}a(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const s=t[a];return"metas"in s?n[a]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pO;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pO||(pO={}));var of;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(of||(of={}));var Oi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Oi||(Oi={}));class Hd{constructor(t,n={config:{}},a){var s,i;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=Zn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new oj(this,_s.join,this.params,this.timeout),this.rejoinTimer=new m$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Zn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Zn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_s.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new sf(this),this.broadcastEndpointURL=f$(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Zn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[of.PRESENCE]&&this.bindings[of.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Oi.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Oi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(Oi.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,y=[];for(let v=0;v<x;v++){const b=p[v],{filter:{event:N,schema:w,table:k,filter:P}}=b,_=f&&f[v];if(_&&_.event===N&&Hd.isFilterValueEqual(_.schema,w)&&Hd.isFilterValueEqual(_.table,k)&&Hd.isFilterValueEqual(_.filter,P))y.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=Zn.errored,t==null||t(Oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Oi.SUBSCRIBED);return}}).receive("error",f=>{this.state=Zn.errored,t==null||t(Oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===Zn.joined&&t===of.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var a,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Zn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_s.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new oj(this,_s.leave,{},t),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zn.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const s=new AbortController,i=setTimeout(()=>s.abort(),a),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new oj(this,t,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>tJ){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=_s;if(a&&[l,c,d,u].indexOf(o)>=0&&a!==this._joinRef())return;let h=this._onMessage(o,n,a);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var g,p,x;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(p=f.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(f=>f.callback(h,a)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,p,x,y,v,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const N=f.id,w=(g=f.filter)===null||g===void 0?void 0:g.event;return N&&((p=n.ids)===null||p===void 0?void 0:p.includes(N))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const N=(v=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return N==="*"||N===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:x,commit_timestamp:y,type:v,errors:b}=g;h=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:y,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(g))}f.callback(h,a)})}_isClosed(){return this.state===Zn.closed}_isJoined(){return this.state===Zn.joined}_isJoining(){return this.state===Zn.joining}_isLeaving(){return this.state===Zn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&Hd.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_s.close,{},t)}_onError(t){this._on(_s.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=hO(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=hO(t.columns,t.old_record)),n}}const lj=()=>{},dx={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cJ=[1e3,2e3,5e3,1e4],dJ=1e4,uJ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mJ{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=F1,this.transport=null,this.heartbeatIntervalMs=dx.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lj,this.ref=0,this.reconnectTimer=null,this.vsn=mO,this.logger=lj,this.conn=null,this.sendBuffer=[],this.serializer=new nJ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${B1.websocket}`,this.httpEndpoint=f$(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JY.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case To.connecting:return ic.Connecting;case To.open:return ic.Open;case To.closing:return ic.Closing;default:return ic.Closed}}isConnected(){return this.connectionState()===ic.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===a);if(s)return s;{const i=new Hd(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:a,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${a} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(eJ,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},dx.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",d)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${s} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===To.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===To.open||this.conn.readyState===To.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(_s.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${a}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([uJ],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,a=!1;if(t)n=t,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:XY};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(_s.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new m$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dx.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,s,i,o,l,c,d,u,m,h,f;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:F1,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:dx.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:lj,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:mO,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:g=>cJ[g-1]||dJ,this.vsn){case ZY:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(g,p)=>p(JSON.stringify(g)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(g,p)=>p(JSON.parse(g));break;case u$:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ff=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function hJ(e,t,n){const a=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&a.searchParams.set(s,i);return a.toString()}async function fJ(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function pJ(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:s,body:i,headers:o}){const l=hJ(e.baseUrl,a,s),c=await fJ(e.auth),d=await t(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),u=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),h=m&&u?JSON.parse(u):u;if(!d.ok){const f=m?h:void 0,g=f==null?void 0:f.error;throw new Ff((g==null?void 0:g.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:f})}return{status:d.status,headers:d.headers,data:h}}}}function ux(e){return e.join("")}var gJ=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ux(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ux(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ux(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ux(e.namespace)}`}),!0}catch(t){if(t instanceof Ff&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Ff&&n.status===409)return;throw n}}};function xd(e){return e.join("")}var xJ=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xd(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xd(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xd(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xd(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xd(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xd(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Ff&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Ff&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},yJ=class{constructor(e){var a;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=pJ({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(a=e.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new gJ(this.client,t),this.tableOps=new xJ(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Yb=class extends Error{constructor(e,t="storage",n,a){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=a}};function Jb(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var mx=class extends Yb{constructor(e,t,n,a="storage"){super(e,a,t,n),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},p$=class extends Yb{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const vJ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bJ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},V1=e=>{if(Array.isArray(e))return e.map(n=>V1(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=V1(a)}),t},wJ=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function jJ(e,t){if(Bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Bf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NJ(e){var t=jJ(e,"string");return Bf(t)=="symbol"?t:t+""}function kJ(e,t,n){return(t=NJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(n),!0).forEach(function(a){kJ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}const xO=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},PJ=async(e,t,n,a)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new mx(xO(o),i,l,a))}).catch(()=>{if(a==="vectors"){const o=i+"";t(new mx(s.statusText||`HTTP ${i} error`,i,o,a))}else{const o=i+"";t(new mx(s.statusText||`HTTP ${i} error`,i,o,a))}});else{const o=i+"";t(new mx(s.statusText||`HTTP ${i} error`,i,o,a))}}else t(new p$(xO(e),e,a))},SJ=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!a?Xe(Xe({},s),n):(bJ(a)?(s.headers=Xe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(a)):s.body=a,t!=null&&t.duplex&&(s.duplex=t.duplex),Xe(Xe({},s),n))};async function vh(e,t,n,a,s,i,o){return new Promise((l,c)=>{e(n,SJ(t,a,s,i)).then(d=>{if(!d.ok)throw d;if(a!=null&&a.noResolveJson)return d;if(o==="vectors"){const u=d.headers.get("content-type");if(!u||!u.includes("application/json"))return{}}return d.json()}).then(d=>l(d)).catch(d=>PJ(d,c,a,o))})}function _J(e="storage"){return{get:async(t,n,a,s)=>vh(t,"GET",n,a,s,void 0,e),post:async(t,n,a,s,i)=>vh(t,"POST",n,s,i,a,e),put:async(t,n,a,s,i)=>vh(t,"PUT",n,s,i,a,e),head:async(t,n,a,s)=>vh(t,"HEAD",n,Xe(Xe({},a),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,a,s,i)=>vh(t,"DELETE",n,s,i,a,e)}}const CJ=_J("storage"),{get:Uf,post:pn,put:q1,head:AJ,remove:S_}=CJ;var $m=class{constructor(e,t={},n,a="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=vJ(n),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jb(n))return{data:null,error:n};throw n}}},TJ=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Jb(t))return{data:null,error:t};throw t}}};let g$;g$=Symbol.toStringTag;var OJ=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[g$]="BlobDownloadBuilder",this.promise=null}asStream(){return new TJ(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Jb(t))return{data:null,error:t};throw t}}};const EJ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var RJ=class extends $m{constructor(e,t={},n,a){super(e,t,a,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,a){var s=this;return s.handleOperation(async()=>{let i;const o=Xe(Xe({},yO),a);let l=Xe(Xe({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(l=Xe(Xe({},l),a.headers));const d=s._removeEmptyFolders(t),u=s._getFinalPath(d),m=await(e=="PUT"?q1:pn)(s.fetch,`${s.url}/object/${u}`,i,Xe({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:d,id:m.Id,fullPath:m.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,a){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const d=Xe({upsert:yO.upsert},a),u=Xe(Xe({},s.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType),{path:i,fullPath:(await q1(s.fetch,l.toString(),c,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e);const s=Xe({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await pn(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:s}),o=new URL(n.url+i.url),l=o.searchParams.get("token");if(!l)throw new Yb("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var a=this;return a.handleOperation(async()=>await pn(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers}))}async copy(e,t,n){var a=this;return a.handleOperation(async()=>({path:(await pn(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(e,t,n){var a=this;return a.handleOperation(async()=>{let s=a._getFinalPath(e),i=await pn(a.fetch,`${a.url}/object/sign/${s}`,Xe({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:a.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${a.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var a=this;return a.handleOperation(async()=>{const s=await pn(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:e},{headers:a.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(o=>Xe(Xe({},o),{},{signedUrl:o.signedURL?encodeURI(`${a.url}${o.signedURL}${i}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=a?`?${a}`:"",i=this._getFinalPath(e),o=()=>Uf(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new OJ(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>V1(await Uf(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await AJ(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Jb(a)&&a instanceof p$){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&a.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&a.push(o);let l=a.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await S_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var a=this;return a.handleOperation(async()=>{const s=Xe(Xe(Xe({},EJ),t),{},{prefix:e||""});return await pn(a.fetch,`${a.url}/object/list/${a.bucketId}`,s,{headers:a.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const a=Xe({},e);return await pn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const MJ="2.93.2",sg={"X-Client-Info":`storage-js/${MJ}`};var DJ=class extends $m{constructor(e,t={},n,a){const s=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=Xe(Xe({},sg),t);super(i,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Uf(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Uf(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await pn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await q1(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await S_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},IJ=class extends $m{constructor(e,t={},n){const a=e.replace(/\/$/,""),s=Xe(Xe({},sg),t);super(a,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const a=n.toString(),s=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return await Uf(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await S_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!wJ(e))throw new Yb("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new yJ({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(a)throw c;return{data:null,error:c}}}}})}},LJ=class extends $m{constructor(e,t={},n){const a=e.replace(/\/$/,""),s=Xe(Xe({},sg),{},{"Content-Type":"application/json"},t);super(a,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await pn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await pn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},$J=class extends $m{constructor(e,t={},n){const a=e.replace(/\/$/,""),s=Xe(Xe({},sg),{},{"Content-Type":"application/json"},t);super(a,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},FJ=class extends $m{constructor(e,t={},n){const a=e.replace(/\/$/,""),s=Xe(Xe({},sg),{},{"Content-Type":"application/json"},t);super(a,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await pn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},BJ=class extends FJ{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new UJ(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},UJ=class extends LJ{constructor(e,t,n,a){super(e,t,a),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Xe(Xe({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Xe(Xe({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new VJ(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},VJ=class extends $J{constructor(e,t,n,a,s){super(e,t,s),this.vectorBucketName=n,this.indexName=a}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Xe(Xe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Xe(Xe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Xe(Xe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Xe(Xe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Xe(Xe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},qJ=class extends DJ{constructor(e,t={},n,a){super(e,t,n,a)}from(e){return new RJ(this.url,this.headers,e,this.fetch)}get vectors(){return new BJ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new IJ(this.url+"/iceberg",this.headers,this.fetch)}};const x$="2.93.2",Ed=30*1e3,z1=3,cj=z1*Ed,zJ="http://localhost:9999",KJ="supabase.auth.token",WJ={"X-Client-Info":`gotrue-js/${x$}`},K1="X-Supabase-Api-Version",y$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HJ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GJ=10*60*1e3;class Vf extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class YJ extends Vf{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function JJ(e){return Ke(e)&&e.name==="AuthApiError"}class oc extends Vf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class uo extends Vf{constructor(t,n,a,s){super(t,a,s),this.name=n,this.status=a}}class ya extends uo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dj(e){return Ke(e)&&e.name==="AuthSessionMissingError"}class yd extends uo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hx extends uo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fx extends uo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QJ(e){return Ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class vO extends uo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class XJ extends uo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class W1 extends uo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function uj(e){return Ke(e)&&e.name==="AuthRetryableFetchError"}class bO extends uo{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class H1 extends uo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ky="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wO=` 	
\r=`.split(""),ZJ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wO.length;t+=1)e[wO[t].charCodeAt(0)]=-2;for(let t=0;t<Ky.length;t+=1)e[Ky[t].charCodeAt(0)]=t;return e})();function jO(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Ky[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Ky[a]),t.queuedBits-=6}}function v$(e,t,n){const a=ZJ[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function NO(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{nQ(o,a,n)};for(let o=0;o<e.length;o+=1)v$(e.charCodeAt(o),s,i);return t.join("")}function eQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tQ(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}eQ(a,t)}}function nQ(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function hu(e){const t=[],n={queue:0,queuedBits:0},a=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)v$(e.charCodeAt(s),n,a);return new Uint8Array(t)}function rQ(e){const t=[];return tQ(e,n=>t.push(n)),new Uint8Array(t)}function mc(e){const t=[],n={queue:0,queuedBits:0},a=s=>{t.push(s)};return e.forEach(s=>jO(s,n,a)),jO(null,n,a),t.join("")}function aQ(e){return Math.round(Date.now()/1e3)+e}function sQ(){return Symbol("auth-callback")}const vr=()=>typeof window<"u"&&typeof document<"u",Kl={tested:!1,writable:!1},b$=()=>{if(!vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kl.tested)return Kl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Kl.tested=!0,Kl.writable=!0}catch{Kl.tested=!0,Kl.writable=!1}return Kl.writable};function iQ(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((a,s)=>{t[s]=a}),t}const w$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oQ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Wl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},xr=async(e,t)=>{await e.removeItem(t)};class Qb{constructor(){this.promise=new Qb.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Qb.promiseConstructor=Promise;function px(e){const t=e.split(".");if(t.length!==3)throw new H1("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!HJ.test(t[a]))throw new H1("JWT not in base64url format");return{header:JSON.parse(NO(t[0])),payload:JSON.parse(NO(t[1])),signature:hu(t[2]),raw:{header:t[0],payload:t[1]}}}async function lQ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cQ(e,t){return new Promise((a,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){a(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function dQ(e){return("0"+e.toString(16)).substr(-2)}function uQ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(t),Array.from(t,dQ).join("")}async function mQ(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function hQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await mQ(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vd(e,t,n=!1){const a=uQ();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await Rd(e,`${t}-code-verifier`,s);const i=await hQ(a);return[i,a===i?"plain":"s256"]}const fQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pQ(e){const t=e.headers.get(K1);if(!t||!t.match(fQ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gQ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xQ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bd(e){if(!yQ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mj(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vQ(e,t){return new Proxy(e,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,s)}})}function kO(e){return JSON.parse(JSON.stringify(e))}const ec=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bQ=[502,503,504];async function PO(e){var t;if(!oQ(e))throw new W1(ec(e),0);if(bQ.includes(e.status))throw new W1(ec(e),e.status);let n;try{n=await e.json()}catch(i){throw new oc(ec(i),i)}let a;const s=pQ(e);if(s&&s.getTime()>=y$["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new bO(ec(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new ya}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bO(ec(n),e.status,n.weak_password.reasons);throw new YJ(ec(n),e.status||500,a)}const wQ=(e,t,n,a)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function Je(e,t,n,a){var s;const i=Object.assign({},a==null?void 0:a.headers);i[K1]||(i[K1]=y$["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await jQ(e,t,n+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function jQ(e,t,n,a,s,i){const o=wQ(t,a,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new W1(ec(c),0)}if(l.ok||await PO(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(c){await PO(c)}}function ws(e){var t;let n=null;PQ(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=aQ(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function SO(e){const t=ws(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Do(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function NQ(e){return{data:e,error:null}}function kQ(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i}=e,o=Lm(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function _O(e){return e}function PQ(e){return e.access_token&&e.refresh_token&&e.expires_in}const hj=["global","local","others"];class SQ{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=w$(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=hj[0]){if(hj.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hj.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Do})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=Lm(t,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:kQ,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Do})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:_O});if(u.error)throw u.error;const m=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=p}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Ke(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){bd(t);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Do})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){bd(t);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Do})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){bd(t);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Do})}catch(a){if(Ke(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){bd(t.userId);try{const{data:n,error:a}=await Je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){bd(t.userId),bd(t.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:_O});if(u.error)throw u.error;const m=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=p}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Ke(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ke(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await Je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}function CO(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const wd={debug:!!(globalThis&&b$()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class j$ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _Q extends j${}async function CQ(e,t,n){wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),wd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _Q(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wd.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function AQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function N$(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function TQ(e){return parseInt(e,16)}function OQ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function EQ(e){var t;const{chainId:n,domain:a,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:m,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=N$(e.address),g=u?`${u}://${a}`:a,p=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${f}

${p}`;let y=`URI: ${m}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),d){let v=`
Resources:`;for(const b of d){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);v+=`
- ${b}`}y+=v}return`${x}
${y}`}class qn extends Error{constructor({message:t,code:n,cause:a,name:s}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=s??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Wy extends qn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function RQ({error:e,options:t}){var n,a,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new qn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new qn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new qn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new qn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new qn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new qn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(k$(o)){if(i.rp.id!==o)return new qn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new qn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new qn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function MQ({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new qn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(k$(a)){if(n.rpId!==a)return new qn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new qn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class DQ{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const IQ=new DQ;function LQ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,s=Lm(e,["challenge","user","excludeCredentials"]),i=hu(t).buffer,o=Object.assign(Object.assign({},n),{id:hu(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const d=a[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:hu(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function $Q(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=Lm(e,["challenge","allowCredentials"]),s=hu(t).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:hu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function FQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:mc(new Uint8Array(e.response.attestationObject)),clientDataJSON:mc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:mc(new Uint8Array(s.authenticatorData)),clientDataJSON:mc(new Uint8Array(s.clientDataJSON)),signature:mc(new Uint8Array(s.signature)),userHandle:s.userHandle?mc(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function k$(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function AO(){var e,t;return!!(vr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UQ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wy("Browser returned unexpected credential type",t)}:{data:null,error:new Wy("Empty credential response",t)}}catch(t){return{data:null,error:RQ({error:t,options:e})}}}async function VQ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wy("Browser returned unexpected credential type",t)}:{data:null,error:new Wy("Empty credential response",t)}}catch(t){return{data:null,error:MQ({error:t,options:e})}}}const qQ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zQ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hy(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))a[i]=o;else if(n(o))a[i]=o;else if(t(o)){const l=a[i];t(l)?a[i]=Hy(l,o):a[i]=Hy(o)}else a[i]=o}return a}function KQ(e,t){return Hy(qQ,e,t||{})}function WQ(e,t){return Hy(zQ,e,t||{})}class HQ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const c=s??IQ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${a}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=KQ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:m}=await UQ({publicKey:d,signal:c});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}case"request":{const d=WQ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:m}=await VQ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}}}catch(o){return Ke(o)?{data:null,error:o}:{data:null,error:new oc("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Vf("rpId is required for WebAuthn authentication")};try{if(!AO())return{data:null,error:new oc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:a,credential_response:c.credential_response}})}catch(o){return Ke(o)?{data:null,error:o}:{data:null,error:new oc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Vf("rpId is required for WebAuthn registration")};try{if(!AO())return{data:null,error:new oc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var m;return(m=u.data)===null||m===void 0?void 0:m.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Ke(o)?{data:null,error:o}:{data:null,error:new oc("Unexpected error in register",o)}}}}AQ();const GQ={url:zJ,storageKey:KJ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WJ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function TO(e,t,n){return await n()}const jd={};class qf{get jwks(){var t,n;return(n=(t=jd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){jd[this.storageKey]=Object.assign(Object.assign({},jd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=jd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){jd[this.storageKey]=Object.assign(Object.assign({},jd[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},GQ),t);if(this.storageKey=i.storageKey,this.instanceID=(n=qf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,qf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&vr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new SQ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=w$(i.fetch),this.lock=i.lock||TO,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&vr()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=CQ:this.lock=TO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new HQ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:b$()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=CO(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=CO(this.memoryStorage)),vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${x$}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(vr()&&(n=iQ(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),vr()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),QJ(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ke(n)?this._returnResult({error:n}):this._returnResult({error:new oc("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,s;try{const i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ws}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(Ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,a,s;try{let i;if("email"in t){const{email:u,password:m,options:h}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await vd(this.storage,this.storageKey)),i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:m,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:ws})}else if("phone"in t){const{phone:u,password:m,options:h}=t;i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ws})}else throw new hx("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await xr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(await xr(this.storage,`${this.storageKey}-code-verifier`),Ke(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:SO})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:SO})}else throw new hx("You must provide either an email or phone number and a password");const{data:a,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!a||!a.session||!a.user){const i=new yd;return this._returnResult({data:{user:null,session:null},error:i})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,s,i,o,l,c,d,u,m,h;let f,g;if("message"in t)f=t.message,g=t.signature;else{const{chain:p,wallet:x,statement:y,options:v}=t;let b;if(vr())if(typeof x=="object")b=x;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")b=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const N=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),w=await b.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=N$(w[0]);let P=(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!P){const T=await b.request({method:"eth_chainId"});P=TQ(T)}const _={domain:N.host,address:k,statement:y,uri:N.href,version:"1",chainId:P,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=EQ(_),g=await b.request({method:"personal_sign",params:[OQ(f),k]})}try{const{data:p,error:x}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ws});if(x)throw x;if(!p||!p.session||!p.user){const y=new yd;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(Ke(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,a,s,i,o,l,c,d,u,m,h,f;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:x,wallet:y,statement:v,options:b}=t;let N;if(vr())if(typeof y=="object")N=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))N=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=y}const w=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const k=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),v?{statement:v}:null));let P;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")P=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)P=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)g=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),p=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${w.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(s=(a=b==null?void 0:b.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((m=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const k=await N.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=k}}try{const{data:x,error:y}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:mc(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ws});if(y)throw y;if(!x||!x.session||!x.user){const v=new yd;return this._returnResult({data:{user:null,session:null},error:v})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(Ke(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Wl(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new XJ;const{data:i,error:o}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:ws});if(await xr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new yd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await xr(this.storage,`${this.storageKey}-code-verifier`),Ke(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:a,token:s,access_token:i,nonce:o}=t,l=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ws}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new yd;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await vd(this.storage,this.storageKey));const{error:m}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new hx("You must provide either an email or phone number.")}catch(l){if(await xr(this.storage,`${this.storageKey}-code-verifier`),Ke(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,a;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ws});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(Ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,a,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await vd(this.storage,this.storageKey));const d=await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:NQ});return!((i=d.data)===null||i===void 0)&&i.url&&vr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await xr(this.storage,`${this.storageKey}-code-verifier`),Ke(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new ya;const{error:s}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:s,options:i}=t,{error:o}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:a,type:s,options:i}=t,{data:o,error:l}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new hx("You must provide either an email or phone number and a type")}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Wl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<cj:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const o=await Wl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=mj()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=vQ(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Do}):await this._useSession(async n=>{var a,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ya}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Do})})}catch(n){if(Ke(n))return dj(n)&&(await this._removeSession(),await xr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:s,error:i}=a;if(i)throw i;if(!s.session)throw new ya;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await vd(this.storage,this.storageKey));const{data:d,error:u}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Do});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(a){if(await xr(this.storage,`${this.storageKey}-code-verifier`),Ke(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ya;const n=Date.now()/1e3;let a=n,s=!0,i=null;const{payload:o}=px(t.access_token);if(o.exp&&(a=o.exp,s=a<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new ya;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ke(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!vr())throw new fx("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fx(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fx("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vO("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new fx("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(l);let h=u+m;c&&(h=parseInt(c));const f=h-u;f*1e3<=Ed&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${m}s`);const g=h-m;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:a,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:h,refresh_token:o,token_type:d,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(a){if(Ke(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Wl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i&&!dj(i))return this._returnResult({error:i});const o=(a=s.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(JJ(l)&&(l.status===404||l.status===401||l.status===403)||dj(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await xr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=sQ(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await vd(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await xr(this.storage,`${this.storageKey}-code-verifier`),Ke(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:s}=await this._useSession(async i=>{var o,l,c,d,u;const{data:m,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return vr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(Ke(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:l,token:c,access_token:d,nonce:u}=t,m=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ws}),{data:h,error:f}=m;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new yd}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(s){if(await xr(this.storage,`${this.storageKey}-code-verifier`),Ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,s;const{data:i,error:o}=n;if(o)throw o;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await cQ(async s=>(s>0&&await lQ(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ws})),(s,i)=>{const o=200*Math.pow(2,s);return i&&uj(i)&&Date.now()+o-a<Ed})}catch(a){if(this._debug(n,"error",a),Ke(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),vr()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await Wl(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Wl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Rd(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:mj()}else if(s&&!s.user&&!s.user){const o=await Wl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await xr(this.storage,this.storageKey+"-user"),await Rd(this.storage,this.storageKey,s)):s.user=mj()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cj;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${cj}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),uj(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new ya;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Qb;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ya;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Ke(i)){const o={data:null,error:i};return uj(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,a=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await xr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Rd(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=kO(s);await Rd(this.storage,this.storageKey,i)}else{const s=kO(n);await Rd(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xr(this.storage,this.storageKey),await xr(this.storage,this.storageKey+"-code-verifier"),await xr(this.storage,this.storageKey+"-user"),this.userStorage&&await xr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ed);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-t)/Ed);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ed}ms, refresh threshold is ${z1} ticks`),s<=z1&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof j$)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await vd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);s.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?FQ(t.webauthn.credential_response):BQ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:LQ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$Q(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,a,s,i;if(t)try{const{payload:f}=px(t);let g=null;f.aal&&(g=f.aal);let p=g;const{data:{user:x},error:y}=await this.getUser(t);if(y)return this._returnResult({data:null,error:y});((a=(n=x==null?void 0:x.factors)===null||n===void 0?void 0:n.filter(N=>N.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const b=f.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:b},error:null}}catch(f){if(Ke(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=px(o.access_token);let d=null;c.aal&&(d=c.aal);let u=d;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const h=c.amr||[];return{data:{currentLevel:d,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?this._returnResult({data:null,error:s}):a?await Je(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ya})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ya});const o=await Je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&vr()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(Ke(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ya});const o=await Je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&vr()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(Ke(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await Je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ya})})}catch(t){if(Ke(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?this._returnResult({data:null,error:s}):a?(await Je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ya})})}catch(n){if(Ke(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+GJ>s)return a;const{data:i,error:o}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,a=i.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:f,error:g}=await this.getSession();if(g||!f.session)return this._returnResult({data:null,error:g});a=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=px(a);n!=null&&n.allowExpired||gQ(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:f}=await this.getUser(a);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const u=xQ(s.alg),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,o,rQ(`${l}.${c}`)))throw new H1("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(a){if(Ke(a))return this._returnResult({data:null,error:a});throw a}}}qf.nextInstanceID={};const YQ=qf,JQ="2.93.2";let Bh="";typeof Deno<"u"?Bh="deno":typeof document<"u"?Bh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bh="react-native":Bh="node";const QQ={"X-Client-Info":`supabase-js-${Bh}/${JQ}`},XQ={headers:QQ},ZQ={schema:"public"},eX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tX={};function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function nX(e,t){if(zf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(zf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rX(e){var t=nX(e,"string");return zf(t)=="symbol"?t:t+""}function aX(e,t,n){return(t=rX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(n),!0).forEach(function(a){aX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}const sX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iX=()=>Headers,oX=(e,t,n)=>{const a=sX(n),s=iX();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),a(i,Cn(Cn({},o),{},{headers:d}))}};function lX(e){return e.endsWith("/")?e:e+"/"}function cX(e,t){var n,a;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:m}=t,h={db:Cn(Cn({},c),s),auth:Cn(Cn({},d),i),realtime:Cn(Cn({},u),o),storage:{},global:Cn(Cn(Cn({},m),l),{},{headers:Cn(Cn({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function dX(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lX(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var uX=class extends YQ{constructor(e){super(e)}},mX=class{constructor(e,t,n){var a,s;this.supabaseUrl=e,this.supabaseKey=t;const i=dX(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:ZQ,realtime:tX,auth:Cn(Cn({},eX),{},{storageKey:o}),global:XQ},c=cX(n??{},l);if(this.storageKey=(a=c.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=oX(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Cn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new YY(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new qJ(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new zY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:a}=await e.auth.getSession();return(t=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:d},u,m){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uX({url:this.authUrl.href,headers:Cn(Cn({},h),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new mJ(this.realtimeUrl.href,Cn(Cn({},e),{},{params:Cn(Cn({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const hX=(e,t,n)=>new mX(e,t,n);function fX(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}fX()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pX="https://vpzmhglfwomgrashheol.supabase.co",zc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwem1oZ2xmd29tZ3Jhc2hoZW9sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NjE1NjQsImV4cCI6MjA4NTAzNzU2NH0.anMz844nf2-sscp4yX5ctLGMMaRjKy24YKjPWAEDUN4",Y=hX(pX,zc,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,lock:async(e,t,n)=>n()}});async function P$(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function S$(){const{data:{session:e}}=await Y.auth.getSession();return e!=null&&e.access_token?{Authorization:`Bearer ${e.access_token}`}:{}}async function gX(e,t,n){const a=await S$(),s=await fetch(t,{method:e,headers:{...a,...n?{"Content-Type":"application/json"}:{}},body:n?JSON.stringify(n):void 0,credentials:"include"});return await P$(s),s}const xX=({on401:e})=>async({queryKey:t})=>{const n=await S$(),a=await fetch(t.join("/"),{credentials:"include",headers:n});return e==="returnNull"&&a.status===401?null:(await P$(a),await a.json())},zs=new NY({defaultOptions:{queries:{queryFn:xX({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),yX=1,vX=1e6;let fj=0;function bX(){return fj=(fj+1)%Number.MAX_SAFE_INTEGER,fj.toString()}const pj=new Map,EO=e=>{if(pj.has(e))return;const t=setTimeout(()=>{pj.delete(e),lf({type:"REMOVE_TOAST",toastId:e})},vX);pj.set(e,t)},wX=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,yX)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?EO(n):e.toasts.forEach(a=>{EO(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},iy=[];let oy={toasts:[]};function lf(e){oy=wX(oy,e),iy.forEach(t=>{t(oy)})}function jX({...e}){const t=bX(),n=s=>lf({type:"UPDATE_TOAST",toast:{...s,id:t}}),a=()=>lf({type:"DISMISS_TOAST",toastId:t});return lf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||a()}}}),{id:t,dismiss:a,update:n}}function Wt(){const[e,t]=j.useState(oy);return j.useEffect(()=>(iy.push(t),()=>{const n=iy.indexOf(t);n>-1&&iy.splice(n,1)}),[e]),{...e,toast:jX,dismiss:n=>lf({type:"DISMISS_TOAST",toastId:n})}}function Ne(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function RO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xb(...e){return t=>{let n=!1;const a=e.map(s=>{const i=RO(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():RO(e[s],null)}}}}function dt(...e){return j.useCallback(Xb(...e),e)}function NX(e,t){const n=j.createContext(t),a=i=>{const{children:o,...l}=i,c=j.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};a.displayName=e+"Provider";function s(i){const o=j.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function Jn(e,t=[]){let n=[];function a(i,o){const l=j.createContext(o),c=n.length;n=[...n,o];const d=m=>{var y;const{scope:h,children:f,...g}=m,p=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,x=j.useMemo(()=>g,Object.values(g));return r.jsx(p.Provider,{value:x,children:f})};d.displayName=i+"Provider";function u(m,h){var p;const f=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=j.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=n.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,kX(s,...t)]}function kX(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Kc(e){const t=PX(e),n=j.forwardRef((a,s)=>{const{children:i,...o}=a,l=j.Children.toArray(i),c=l.find(SX);if(c){const d=c.props.children,u=l.map(m=>m===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:m);return r.jsx(t,{...o,ref:s,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var _$=Kc("Slot");function PX(e){const t=j.forwardRef((n,a)=>{const{children:s,...i}=n;if(j.isValidElement(s)){const o=CX(s),l=_X(i,s.props);return s.type!==j.Fragment&&(l.ref=a?Xb(a,o):o),j.cloneElement(s,l)}return j.Children.count(s)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var C$=Symbol("radix.slottable");function A$(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=C$,t}function SX(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===C$}function _X(e,t){const n={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{i(...l),s(...l)}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function CX(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Fm(e){const t=e+"CollectionProvider",[n,a]=Jn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:y}=p,v=U.useRef(null),b=U.useRef(new Map).current;return r.jsx(s,{scope:x,itemMap:b,collectionRef:v,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Kc(l),d=U.forwardRef((p,x)=>{const{scope:y,children:v}=p,b=i(l,y),N=dt(x,b.collectionRef);return r.jsx(c,{ref:N,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",m="data-radix-collection-item",h=Kc(u),f=U.forwardRef((p,x)=>{const{scope:y,children:v,...b}=p,N=U.useRef(null),w=dt(x,N),k=i(u,y);return U.useEffect(()=>(k.itemMap.set(N,{ref:N,...b}),()=>void k.itemMap.delete(N))),r.jsx(h,{[m]:"",ref:w,children:v})});f.displayName=u;function g(p){const x=i(e+"CollectionConsumer",p);return U.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${m}]`));return Array.from(x.itemMap.values()).sort((k,P)=>b.indexOf(k.ref.current)-b.indexOf(P.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:f},g,a]}var AX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ue=AX.reduce((e,t)=>{const n=Kc(`Primitive.${t}`),a=j.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function __(e,t){e&&id.flushSync(()=>e.dispatchEvent(t))}function Sr(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>{var a;return(a=t.current)==null?void 0:a.call(t,...n)},[])}function TX(e,t=globalThis==null?void 0:globalThis.document){const n=Sr(e);j.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var OX="DismissableLayer",G1="dismissableLayer.update",EX="dismissableLayer.pointerDownOutside",RX="dismissableLayer.focusOutside",MO,T$=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bm=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=j.useContext(T$),[u,m]=j.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=j.useState({}),g=dt(t,P=>m(P)),p=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),v=u?p.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,N=v>=y,w=DX(P=>{const _=P.target,T=[...d.branches].some(I=>I.contains(_));!N||T||(s==null||s(P),o==null||o(P),P.defaultPrevented||l==null||l())},h),k=IX(P=>{const _=P.target;[...d.branches].some(I=>I.contains(_))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},h);return TX(P=>{v===d.layers.size-1&&(a==null||a(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},h),j.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(MO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),DO(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=MO)}},[u,h,n,d]),j.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),DO())},[u,d]),j.useEffect(()=>{const P=()=>f({});return document.addEventListener(G1,P),()=>document.removeEventListener(G1,P)},[]),r.jsx(Ue.div,{...c,ref:g,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:Ne(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ne(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ne(e.onPointerDownCapture,w.onPointerDownCapture)})});Bm.displayName=OX;var MX="DismissableLayerBranch",O$=j.forwardRef((e,t)=>{const n=j.useContext(T$),a=j.useRef(null),s=dt(t,a);return j.useEffect(()=>{const i=a.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(Ue.div,{...e,ref:s})});O$.displayName=MX;function DX(e,t=globalThis==null?void 0:globalThis.document){const n=Sr(e),a=j.useRef(!1),s=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let c=function(){E$(EX,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function IX(e,t=globalThis==null?void 0:globalThis.document){const n=Sr(e),a=j.useRef(!1);return j.useEffect(()=>{const s=i=>{i.target&&!a.current&&E$(RX,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function DO(){const e=new CustomEvent(G1);document.dispatchEvent(e)}function E$(e,t,n,{discrete:a}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?__(s,i):s.dispatchEvent(i)}var LX=Bm,$X=O$,Yn=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},FX="Portal",ig=j.forwardRef((e,t)=>{var l;const{container:n,...a}=e,[s,i]=j.useState(!1);Yn(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?TG.createPortal(r.jsx(Ue.div,{...a,ref:t}),o):null});ig.displayName=FX;function BX(e,t){return j.useReducer((n,a)=>t[n][a]??n,e)}var ga=e=>{const{present:t,children:n}=e,a=UX(t),s=typeof n=="function"?n({present:a.isPresent}):j.Children.only(n),i=dt(a.ref,VX(s));return typeof n=="function"||a.isPresent?j.cloneElement(s,{ref:i}):null};ga.displayName="Presence";function UX(e){const[t,n]=j.useState(),a=j.useRef({}),s=j.useRef(e),i=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=BX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=gx(a.current);i.current=l==="mounted"?d:"none"},[l]),Yn(()=>{const d=a.current,u=s.current;if(u!==e){const h=i.current,f=gx(d);e?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Yn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=f=>{const p=gx(a.current).includes(f.animationName);if(f.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=f=>{f.target===t&&(i.current=gx(a.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(d=>{d&&(a.current=getComputedStyle(d)),n(d)},[])}}function gx(e){return(e==null?void 0:e.animationName)||"none"}function VX(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function fa({prop:e,defaultProp:t,onChange:n=()=>{}}){const[a,s]=qX({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:a,l=Sr(n),c=j.useCallback(d=>{if(i){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else s(d)},[i,e,s,l]);return[o,c]}function qX({defaultProp:e,onChange:t}){const n=j.useState(e),[a]=n,s=j.useRef(a),i=Sr(t);return j.useEffect(()=>{s.current!==a&&(i(a),s.current=a)},[a,s,i]),n}var zX="VisuallyHidden",og=j.forwardRef((e,t)=>r.jsx(Ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));og.displayName=zX;var KX=og,C_="ToastProvider",[A_,WX,HX]=Fm("Toast"),[R$,VFe]=Jn("Toast",[HX]),[GX,Zb]=R$(C_),M$=e=>{const{__scopeToast:t,label:n="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=j.useState(null),[d,u]=j.useState(0),m=j.useRef(!1),h=j.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${C_}\`. Expected non-empty \`string\`.`),r.jsx(A_.Provider,{scope:t,children:r.jsx(GX,{scope:t,label:n,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>u(f=>f+1),[]),onToastRemove:j.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};M$.displayName=C_;var D$="ToastViewport",YX=["F8"],Y1="toast.viewportPause",J1="toast.viewportResume",I$=j.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:a=YX,label:s="Notifications ({hotkey})",...i}=e,o=Zb(D$,n),l=WX(n),c=j.useRef(null),d=j.useRef(null),u=j.useRef(null),m=j.useRef(null),h=dt(t,m,o.onViewportChange),f=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;j.useEffect(()=>{const x=y=>{var b;a.length!==0&&a.every(N=>y[N]||y.code===N)&&((b=m.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[a]),j.useEffect(()=>{const x=c.current,y=m.current;if(g&&x&&y){const v=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(Y1);y.dispatchEvent(k),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(J1);y.dispatchEvent(k),o.isClosePausedRef.current=!1}},N=k=>{!x.contains(k.relatedTarget)&&b()},w=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",v),x.addEventListener("focusout",N),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",w),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",w),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const p=j.useCallback(({tabbingDirection:x})=>{const v=l().map(b=>{const N=b.ref.current,w=[N,...lZ(N)];return x==="forwards"?w:w.reverse()});return(x==="forwards"?v.reverse():v).flat()},[l]);return j.useEffect(()=>{const x=m.current;if(x){const y=v=>{var w,k,P;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const _=document.activeElement,T=v.shiftKey;if(v.target===x&&T){(w=d.current)==null||w.focus();return}const R=p({tabbingDirection:T?"backwards":"forwards"}),E=R.findIndex(L=>L===_);gj(R.slice(E+1))?v.preventDefault():T?(k=d.current)==null||k.focus():(P=u.current)==null||P.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,p]),r.jsxs($X,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&r.jsx(Q1,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});gj(x)}}),r.jsx(A_.Slot,{scope:n,children:r.jsx(Ue.ol,{tabIndex:-1,...i,ref:h})}),g&&r.jsx(Q1,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});gj(x)}})]})});I$.displayName=D$;var L$="ToastFocusProxy",Q1=j.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...s}=e,i=Zb(L$,n);return r.jsx(og,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&a()}})});Q1.displayName=L$;var e0="Toast",JX="toast.swipeStart",QX="toast.swipeMove",XX="toast.swipeCancel",ZX="toast.swipeEnd",$$=j.forwardRef((e,t)=>{const{forceMount:n,open:a,defaultOpen:s,onOpenChange:i,...o}=e,[l=!0,c]=fa({prop:a,defaultProp:s,onChange:i});return r.jsx(ga,{present:n||l,children:r.jsx(nZ,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Sr(e.onPause),onResume:Sr(e.onResume),onSwipeStart:Ne(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ne(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});$$.displayName=e0;var[eZ,tZ]=R$(e0,{onClose(){}}),nZ=j.forwardRef((e,t)=>{const{__scopeToast:n,type:a="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:f,...g}=e,p=Zb(e0,n),[x,y]=j.useState(null),v=dt(t,L=>y(L)),b=j.useRef(null),N=j.useRef(null),w=s||p.duration,k=j.useRef(0),P=j.useRef(w),_=j.useRef(0),{onToastAdd:T,onToastRemove:I}=p,A=Sr(()=>{var $;(x==null?void 0:x.contains(document.activeElement))&&(($=p.viewport)==null||$.focus()),o()}),R=j.useCallback(L=>{!L||L===1/0||(window.clearTimeout(_.current),k.current=new Date().getTime(),_.current=window.setTimeout(A,L))},[A]);j.useEffect(()=>{const L=p.viewport;if(L){const $=()=>{R(P.current),d==null||d()},B=()=>{const K=new Date().getTime()-k.current;P.current=P.current-K,window.clearTimeout(_.current),c==null||c()};return L.addEventListener(Y1,B),L.addEventListener(J1,$),()=>{L.removeEventListener(Y1,B),L.removeEventListener(J1,$)}}},[p.viewport,w,c,d,R]),j.useEffect(()=>{i&&!p.isClosePausedRef.current&&R(w)},[i,w,p.isClosePausedRef,R]),j.useEffect(()=>(T(),()=>I()),[T,I]);const E=j.useMemo(()=>x?K$(x):null,[x]);return p.viewport?r.jsxs(r.Fragment,{children:[E&&r.jsx(rZ,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:E}),r.jsx(eZ,{scope:n,onClose:A,children:id.createPortal(r.jsx(A_.ItemSlot,{scope:n,children:r.jsx(LX,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||A(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ne(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:Ne(e.onPointerDown,L=>{L.button===0&&(b.current={x:L.clientX,y:L.clientY})}),onPointerMove:Ne(e.onPointerMove,L=>{if(!b.current)return;const $=L.clientX-b.current.x,B=L.clientY-b.current.y,K=!!N.current,S=["left","right"].includes(p.swipeDirection),D=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,G=S?D(0,$):0,q=S?0:D(0,B),C=L.pointerType==="touch"?10:2,X={x:G,y:q},Q={originalEvent:L,delta:X};K?(N.current=X,xx(QX,m,Q,{discrete:!1})):IO(X,p.swipeDirection,C)?(N.current=X,xx(JX,u,Q,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs($)>C||Math.abs(B)>C)&&(b.current=null)}),onPointerUp:Ne(e.onPointerUp,L=>{const $=N.current,B=L.target;if(B.hasPointerCapture(L.pointerId)&&B.releasePointerCapture(L.pointerId),N.current=null,b.current=null,$){const K=L.currentTarget,S={originalEvent:L,delta:$};IO($,p.swipeDirection,p.swipeThreshold)?xx(ZX,f,S,{discrete:!0}):xx(XX,h,S,{discrete:!0}),K.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),rZ=e=>{const{__scopeToast:t,children:n,...a}=e,s=Zb(e0,t),[i,o]=j.useState(!1),[l,c]=j.useState(!1);return iZ(()=>o(!0)),j.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(ig,{asChild:!0,children:r.jsx(og,{...a,children:i&&r.jsxs(r.Fragment,{children:[s.label," ",n]})})})},aZ="ToastTitle",F$=j.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e;return r.jsx(Ue.div,{...a,ref:t})});F$.displayName=aZ;var sZ="ToastDescription",B$=j.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e;return r.jsx(Ue.div,{...a,ref:t})});B$.displayName=sZ;var U$="ToastAction",V$=j.forwardRef((e,t)=>{const{altText:n,...a}=e;return n.trim()?r.jsx(z$,{altText:n,asChild:!0,children:r.jsx(T_,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${U$}\`. Expected non-empty \`string\`.`),null)});V$.displayName=U$;var q$="ToastClose",T_=j.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e,s=tZ(q$,n);return r.jsx(z$,{asChild:!0,children:r.jsx(Ue.button,{type:"button",...a,ref:t,onClick:Ne(e.onClick,s.onClose)})})});T_.displayName=q$;var z$=j.forwardRef((e,t)=>{const{__scopeToast:n,altText:a,...s}=e;return r.jsx(Ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:t})});function K$(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),oZ(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...K$(a))}}),t}function xx(e,t,n,{discrete:a}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?__(s,i):s.dispatchEvent(i)}var IO=(e,t,n=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return t==="left"||t==="right"?i&&a>n:!i&&s>n};function iZ(e=()=>{}){const t=Sr(e);Yn(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[t])}function oZ(e){return e.nodeType===e.ELEMENT_NODE}function lZ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function gj(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var cZ=M$,W$=I$,H$=$$,G$=F$,Y$=B$,J$=V$,Q$=T_;function X$(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=X$(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function ft(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=X$(e))&&(a&&(a+=" "),a+=t);return a}const LO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$O=ft,lg=(e,t)=>n=>{var a;if((t==null?void 0:t.variants)==null)return $O(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(d=>{const u=n==null?void 0:n[d],m=i==null?void 0:i[d];if(u===null)return null;const h=LO(u)||LO(m);return s[d][h]}),l=n&&Object.entries(n).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((d,u)=>{let{class:m,className:h,...f}=u;return Object.entries(f).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...d,m,h]:d},[]);return $O(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z$=(...e)=>e.filter((t,n,a)=>!!t&&a.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...uZ,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:Z$("lucide",s),...l},[...o.map(([d,u])=>j.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const n=j.forwardRef(({className:a,...s},i)=>j.createElement(mZ,{ref:i,iconNode:t,className:Z$(`lucide-${dZ(e)}`,a),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=de("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=de("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=de("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=de("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=de("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=de("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=de("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=de("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=de("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=de("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=de("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=de("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=de("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=de("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=de("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=de("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=de("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=de("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=de("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=de("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=de("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=de("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=de("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=de("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=de("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=de("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=de("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=de("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=de("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=de("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=de("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=de("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=de("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=de("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=de("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=de("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=de("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=de("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=de("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=de("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=de("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=de("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=de("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=de("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=de("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=de("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=de("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=de("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=de("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=de("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=de("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=de("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=de("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=de("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=de("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=de("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=de("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=de("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=de("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=de("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=de("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=de("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=de("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=de("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=de("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=de("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=de("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=de("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=de("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=de("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=de("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=de("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=de("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),E_="-",KZ=e=>{const t=HZ(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(E_);return l[0]===""&&l.length!==1&&l.shift(),uF(l,t)||WZ(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&a[o]?[...c,...a[o]]:c}}},uF=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],a=t.nextPart.get(n),s=a?uF(e.slice(1),a):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(E_);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},KO=/^\[(.+)\]$/,WZ=e=>{if(KO.test(e)){const t=KO.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},HZ=e=>{const{theme:t,prefix:n}=e,a={nextPart:new Map,validators:[]};return YZ(Object.entries(e.classGroups),n).forEach(([i,o])=>{rk(o,a,i,t)}),a},rk=(e,t,n,a)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:WO(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(GZ(s)){rk(s(a),t,n,a);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{rk(o,WO(t,i),n,a)})})},WO=(e,t)=>{let n=e;return t.split(E_).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},GZ=e=>e.isThemeGetter,YZ=(e,t)=>t?e.map(([n,a])=>{const s=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,s]}):e,JZ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,a=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,a=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},mF="!",QZ=e=>{const{separator:t,experimentalParseClassName:n}=e,a=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,m;for(let x=0;x<l.length;x++){let y=l[x];if(d===0){if(y===s&&(a||l.slice(x,x+i)===t)){c.push(l.slice(u,x)),u=x+i;continue}if(y==="/"){m=x;continue}}y==="["?d++:y==="]"&&d--}const h=c.length===0?l:l.substring(u),f=h.startsWith(mF),g=f?h.substring(1):h,p=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},XZ=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(a=>{a[0]==="["?(t.push(...n.sort(),a),n=[]):n.push(a)}),t.push(...n.sort()),t},ZZ=e=>({cache:JZ(e.cacheSize),parseClassName:QZ(e),...KZ(e)}),eee=/\s+/,tee=(e,t)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(eee);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:f}=n(d);let g=!!f,p=a(g?h.substring(0,f):h);if(!p){if(!g){l=d+(l.length>0?" "+l:l);continue}if(p=a(h),!p){l=d+(l.length>0?" "+l:l);continue}g=!1}const x=XZ(u).join(":"),y=m?x+mF:x,v=y+p;if(i.includes(v))continue;i.push(v);const b=s(p,g);for(let N=0;N<b.length;++N){const w=b[N];i.push(y+w)}l=d+(l.length>0?" "+l:l)}return l};function nee(){let e=0,t,n,a="";for(;e<arguments.length;)(t=arguments[e++])&&(n=hF(t))&&(a&&(a+=" "),a+=n);return a}const hF=e=>{if(typeof e=="string")return e;let t,n="";for(let a=0;a<e.length;a++)e[a]&&(t=hF(e[a]))&&(n&&(n+=" "),n+=t);return n};function ree(e,...t){let n,a,s,i=o;function o(c){const d=t.reduce((u,m)=>m(u),e());return n=ZZ(d),a=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=a(c);if(d)return d;const u=tee(c,n);return s(c,u),u}return function(){return i(nee.apply(null,arguments))}}const an=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},fF=/^\[(?:([a-z-]+):)?(.+)\]$/i,aee=/^\d+\/\d+$/,see=new Set(["px","full","screen"]),iee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pi=e=>gu(e)||see.has(e)||aee.test(e),bo=e=>Um(e,"length",yee),gu=e=>!!e&&!Number.isNaN(Number(e)),yj=e=>Um(e,"number",gu),bh=e=>!!e&&Number.isInteger(Number(e)),uee=e=>e.endsWith("%")&&gu(e.slice(0,-1)),pt=e=>fF.test(e),wo=e=>iee.test(e),mee=new Set(["length","size","percentage"]),hee=e=>Um(e,mee,pF),fee=e=>Um(e,"position",pF),pee=new Set(["image","url"]),gee=e=>Um(e,pee,bee),xee=e=>Um(e,"",vee),wh=()=>!0,Um=(e,t,n)=>{const a=fF.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):n(a[2]):!1},yee=e=>oee.test(e)&&!lee.test(e),pF=()=>!1,vee=e=>cee.test(e),bee=e=>dee.test(e),wee=()=>{const e=an("colors"),t=an("spacing"),n=an("blur"),a=an("brightness"),s=an("borderColor"),i=an("borderRadius"),o=an("borderSpacing"),l=an("borderWidth"),c=an("contrast"),d=an("grayscale"),u=an("hueRotate"),m=an("invert"),h=an("gap"),f=an("gradientColorStops"),g=an("gradientColorStopPositions"),p=an("inset"),x=an("margin"),y=an("opacity"),v=an("padding"),b=an("saturate"),N=an("scale"),w=an("sepia"),k=an("skew"),P=an("space"),_=an("translate"),T=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",pt,t],R=()=>[pt,t],E=()=>["",Pi,bo],L=()=>["auto",gu,pt],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",pt],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[gu,pt];return{cacheSize:500,separator:":",theme:{colors:[wh],spacing:[Pi,bo],blur:["none","",wo,pt],brightness:q(),borderColor:[e],borderRadius:["none","","full",wo,pt],borderSpacing:R(),borderWidth:E(),contrast:q(),grayscale:D(),hueRotate:q(),invert:D(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[uee,bo],inset:A(),margin:A(),opacity:q(),padding:R(),saturate:q(),scale:q(),sepia:D(),skew:q(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",pt]}],container:["container"],columns:[{columns:[wo]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),pt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bh,pt]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",bh,pt]}],"grid-cols":[{"grid-cols":[wh]}],"col-start-end":[{col:["auto",{span:["full",bh,pt]},pt]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[wh]}],"row-start-end":[{row:["auto",{span:[bh,pt]},pt]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pt,t]}],"min-w":[{"min-w":[pt,t,"min","max","fit"]}],"max-w":[{"max-w":[pt,t,"none","full","min","max","fit","prose",{screen:[wo]},wo]}],h:[{h:[pt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",wo,bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yj]}],"font-family":[{font:[wh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pt]}],"line-clamp":[{"line-clamp":["none",gu,yj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pi,pt]}],"list-image":[{"list-image":["none",pt]}],"list-style-type":[{list:["none","disc","decimal",pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pi,bo]}],"underline-offset":[{"underline-offset":["auto",Pi,pt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),fee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gee]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Pi,pt]}],"outline-w":[{outline:[Pi,bo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Pi,bo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",wo,xee]}],"shadow-color":[{shadow:[wh]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",wo,pt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pt]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",pt]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[bh,pt]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pi,bo,yj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jee=ree(wee);function Ce(...e){return jee(ft(e))}const Nee=cZ,gF=j.forwardRef(({className:e,...t},n)=>r.jsx(W$,{ref:n,className:Ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));gF.displayName=W$.displayName;const kee=lg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xF=j.forwardRef(({className:e,variant:t,...n},a)=>r.jsx(H$,{ref:a,className:Ce(kee({variant:t}),e),...n}));xF.displayName=H$.displayName;const Pee=j.forwardRef(({className:e,...t},n)=>r.jsx(J$,{ref:n,className:Ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Pee.displayName=J$.displayName;const yF=j.forwardRef(({className:e,...t},n)=>r.jsx(Q$,{ref:n,className:Ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(vl,{className:"h-4 w-4"})}));yF.displayName=Q$.displayName;const vF=j.forwardRef(({className:e,...t},n)=>r.jsx(G$,{ref:n,className:Ce("text-sm font-semibold",e),...t}));vF.displayName=G$.displayName;const bF=j.forwardRef(({className:e,...t},n)=>r.jsx(Y$,{ref:n,className:Ce("text-sm opacity-90",e),...t}));bF.displayName=Y$.displayName;function See(){const{toasts:e}=Wt();return r.jsxs(Nee,{children:[e.map(function({id:t,title:n,description:a,action:s,...i}){return r.jsxs(xF,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(vF,{children:n}),a&&r.jsx(bF,{children:a})]}),s,r.jsx(yF,{})]},t)}),r.jsx(gF,{})]})}var _ee=II[" useId ".trim().toString()]||(()=>{}),Cee=0;function ls(e){const[t,n]=j.useState(_ee());return Yn(()=>{e||n(a=>a??String(Cee++))},[e]),e||(t?`radix-${t}`:"")}const Aee=["top","right","bottom","left"],bl=Math.min,Sa=Math.max,Jy=Math.round,yx=Math.floor,di=e=>({x:e,y:e}),Tee={left:"right",right:"left",bottom:"top",top:"bottom"},Oee={start:"end",end:"start"};function ak(e,t,n){return Sa(e,bl(t,n))}function no(e,t){return typeof e=="function"?e(t):e}function ro(e){return e.split("-")[0]}function Vm(e){return e.split("-")[1]}function R_(e){return e==="x"?"y":"x"}function M_(e){return e==="y"?"height":"width"}function wl(e){return["top","bottom"].includes(ro(e))?"y":"x"}function D_(e){return R_(wl(e))}function Eee(e,t,n){n===void 0&&(n=!1);const a=Vm(e),s=D_(e),i=M_(s);let o=s==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Qy(o)),[o,Qy(o)]}function Ree(e){const t=Qy(e);return[sk(e),t,sk(t)]}function sk(e){return e.replace(/start|end/g,t=>Oee[t])}function Mee(e,t,n){const a=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:a:t?a:s;case"left":case"right":return t?i:o;default:return[]}}function Dee(e,t,n,a){const s=Vm(e);let i=Mee(ro(e),n==="start",a);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(sk)))),i}function Qy(e){return e.replace(/left|right|bottom|top/g,t=>Tee[t])}function Iee(e){return{top:0,right:0,bottom:0,left:0,...e}}function wF(e){return typeof e!="number"?Iee(e):{top:e,right:e,bottom:e,left:e}}function Xy(e){const{x:t,y:n,width:a,height:s}=e;return{width:a,height:s,top:n,left:t,right:t+a,bottom:n+s,x:t,y:n}}function HO(e,t,n){let{reference:a,floating:s}=e;const i=wl(t),o=D_(t),l=M_(o),c=ro(t),d=i==="y",u=a.x+a.width/2-s.width/2,m=a.y+a.height/2-s.height/2,h=a[l]/2-s[l]/2;let f;switch(c){case"top":f={x:u,y:a.y-s.height};break;case"bottom":f={x:u,y:a.y+a.height};break;case"right":f={x:a.x+a.width,y:m};break;case"left":f={x:a.x-s.width,y:m};break;default:f={x:a.x,y:a.y}}switch(Vm(t)){case"start":f[o]-=h*(n&&d?-1:1);break;case"end":f[o]+=h*(n&&d?-1:1);break}return f}const Lee=async(e,t,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:m}=HO(d,a,c),h=a,f={},g=0;for(let p=0;p<l.length;p++){const{name:x,fn:y}=l[p],{x:v,y:b,data:N,reset:w}=await y({x:u,y:m,initialPlacement:a,placement:h,strategy:s,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,m=b??m,f={...f,[x]:{...f[x],...N}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:u,y:m}=HO(d,h,c)),p=-1)}return{x:u,y:m,placement:h,strategy:s,middlewareData:f}};async function Hf(e,t){var n;t===void 0&&(t={});const{x:a,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:f=0}=no(t,e),g=wF(f),x=l[h?m==="floating"?"reference":"floating":m],y=Xy(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=m==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},w=Xy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-w.top+g.top)/N.y,bottom:(w.bottom-y.bottom+g.bottom)/N.y,left:(y.left-w.left+g.left)/N.x,right:(w.right-y.right+g.right)/N.x}}const $ee=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=no(e,t)||{};if(d==null)return{};const m=wF(u),h={x:n,y:a},f=D_(s),g=M_(f),p=await o.getDimensions(d),x=f==="y",y=x?"top":"left",v=x?"bottom":"right",b=x?"clientHeight":"clientWidth",N=i.reference[g]+i.reference[f]-h[f]-i.floating[g],w=h[f]-i.reference[f],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=k?k[b]:0;(!P||!await(o.isElement==null?void 0:o.isElement(k)))&&(P=l.floating[b]||i.floating[g]);const _=N/2-w/2,T=P/2-p[g]/2-1,I=bl(m[y],T),A=bl(m[v],T),R=I,E=P-p[g]-A,L=P/2-p[g]/2+_,$=ak(R,L,E),B=!c.arrow&&Vm(s)!=null&&L!==$&&i.reference[g]/2-(L<R?I:A)-p[g]/2<0,K=B?L<R?L-R:L-E:0;return{[f]:h[f]+K,data:{[f]:$,centerOffset:L-$-K,...B&&{alignmentOffset:K}},reset:B}}}),Fee=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=no(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ro(s),v=wl(l),b=ro(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=h||(b||!p?[Qy(l)]:Ree(l)),k=g!=="none";!h&&k&&w.push(...Dee(l,p,g,N));const P=[l,...w],_=await Hf(t,x),T=[];let I=((a=i.flip)==null?void 0:a.overflows)||[];if(u&&T.push(_[y]),m){const L=Eee(s,o,N);T.push(_[L[0]],_[L[1]])}if(I=[...I,{placement:s,overflows:T}],!T.every(L=>L<=0)){var A,R;const L=(((A=i.flip)==null?void 0:A.index)||0)+1,$=P[L];if($)return{data:{index:L,overflows:I},reset:{placement:$}};let B=(R=I.filter(K=>K.overflows[0]<=0).sort((K,S)=>K.overflows[1]-S.overflows[1])[0])==null?void 0:R.placement;if(!B)switch(f){case"bestFit":{var E;const K=(E=I.filter(S=>{if(k){const D=wl(S.placement);return D===v||D==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(D=>D>0).reduce((D,G)=>D+G,0)]).sort((S,D)=>S[1]-D[1])[0])==null?void 0:E[0];K&&(B=K);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function GO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function YO(e){return Aee.some(t=>e[t]>=0)}const Bee=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:a="referenceHidden",...s}=no(e,t);switch(a){case"referenceHidden":{const i=await Hf(t,{...s,elementContext:"reference"}),o=GO(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YO(o)}}}case"escaped":{const i=await Hf(t,{...s,altBoundary:!0}),o=GO(i,n.floating);return{data:{escapedOffsets:o,escaped:YO(o)}}}default:return{}}}}};async function Uee(e,t){const{placement:n,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=ro(n),l=Vm(n),c=wl(n)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,m=no(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof g=="number"&&(f=l==="end"?g*-1:g),c?{x:f*u,y:h*d}:{x:h*d,y:f*u}}const Vee=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await Uee(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},qee=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...c}=no(e,t),d={x:n,y:a},u=await Hf(t,c),m=wl(ro(s)),h=R_(m);let f=d[h],g=d[m];if(i){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=f+u[x],b=f-u[y];f=ak(v,f,b)}if(o){const x=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=g+u[x],b=g-u[y];g=ak(v,g,b)}const p=l.fn({...t,[h]:f,[m]:g});return{...p,data:{x:p.x-n,y:p.y-a,enabled:{[h]:i,[m]:o}}}}}},zee=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:a,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=no(e,t),u={x:n,y:a},m=wl(s),h=R_(m);let f=u[h],g=u[m];const p=no(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",N=i.reference[h]-i.floating[b]+x.mainAxis,w=i.reference[h]+i.reference[b]-x.mainAxis;f<N?f=N:f>w&&(f=w)}if(d){var y,v;const b=h==="y"?"width":"height",N=["top","left"].includes(ro(s)),w=i.reference[m]-i.floating[b]+(N&&((y=o.offset)==null?void 0:y[m])||0)+(N?0:x.crossAxis),k=i.reference[m]+i.reference[b]+(N?0:((v=o.offset)==null?void 0:v[m])||0)-(N?x.crossAxis:0);g<w?g=w:g>k&&(g=k)}return{[h]:f,[m]:g}}}},Kee=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,a;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=no(e,t),u=await Hf(t,d),m=ro(s),h=Vm(s),f=wl(s)==="y",{width:g,height:p}=i.floating;let x,y;m==="top"||m==="bottom"?(x=m,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=m,x=h==="end"?"top":"bottom");const v=p-u.top-u.bottom,b=g-u.left-u.right,N=bl(p-u[x],v),w=bl(g-u[y],b),k=!t.middlewareData.shift;let P=N,_=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=b),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(P=v),k&&!h){const I=Sa(u.left,0),A=Sa(u.right,0),R=Sa(u.top,0),E=Sa(u.bottom,0);f?_=g-2*(I!==0||A!==0?I+A:Sa(u.left,u.right)):P=p-2*(R!==0||E!==0?R+E:Sa(u.top,u.bottom))}await c({...t,availableWidth:_,availableHeight:P});const T=await o.getDimensions(l.floating);return g!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function o0(){return typeof window<"u"}function qm(e){return jF(e)?(e.nodeName||"").toLowerCase():"#document"}function Ma(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ji(e){var t;return(t=(jF(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jF(e){return o0()?e instanceof Node||e instanceof Ma(e).Node:!1}function Ks(e){return o0()?e instanceof Element||e instanceof Ma(e).Element:!1}function xi(e){return o0()?e instanceof HTMLElement||e instanceof Ma(e).HTMLElement:!1}function JO(e){return!o0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ma(e).ShadowRoot}function ug(e){const{overflow:t,overflowX:n,overflowY:a,display:s}=Ws(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!["inline","contents"].includes(s)}function Wee(e){return["table","td","th"].includes(qm(e))}function l0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function I_(e){const t=L_(),n=Ks(e)?Ws(e):e;return["transform","translate","scale","rotate","perspective"].some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function Hee(e){let t=jl(e);for(;xi(t)&&!Hu(t);){if(I_(t))return t;if(l0(t))return null;t=jl(t)}return null}function L_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hu(e){return["html","body","#document"].includes(qm(e))}function Ws(e){return Ma(e).getComputedStyle(e)}function c0(e){return Ks(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function jl(e){if(qm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||JO(e)&&e.host||ji(e);return JO(t)?t.host:t}function NF(e){const t=jl(e);return Hu(t)?e.ownerDocument?e.ownerDocument.body:e.body:xi(t)&&ug(t)?t:NF(t)}function Gf(e,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=NF(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=Ma(s);if(i){const l=ik(o);return t.concat(o,o.visualViewport||[],ug(s)?s:[],l&&n?Gf(l):[])}return t.concat(s,Gf(s,[],n))}function ik(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kF(e){const t=Ws(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=xi(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:a,l=Jy(n)!==i||Jy(a)!==o;return l&&(n=i,a=o),{width:n,height:a,$:l}}function $_(e){return Ks(e)?e:e.contextElement}function xu(e){const t=$_(e);if(!xi(t))return di(1);const n=t.getBoundingClientRect(),{width:a,height:s,$:i}=kF(t);let o=(i?Jy(n.width):n.width)/a,l=(i?Jy(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Gee=di(0);function PF(e){const t=Ma(e);return!L_()||!t.visualViewport?Gee:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Yee(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ma(e)?!1:t}function Hc(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=$_(e);let o=di(1);t&&(a?Ks(a)&&(o=xu(a)):o=xu(e));const l=Yee(i,n,a)?PF(i):di(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,m=s.height/o.y;if(i){const h=Ma(i),f=a&&Ks(a)?Ma(a):a;let g=h,p=ik(g);for(;p&&a&&f!==g;){const x=xu(p),y=p.getBoundingClientRect(),v=Ws(p),b=y.left+(p.clientLeft+parseFloat(v.paddingLeft))*x.x,N=y.top+(p.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,d*=x.y,u*=x.x,m*=x.y,c+=b,d+=N,g=Ma(p),p=ik(g)}}return Xy({width:u,height:m,x:c,y:d})}function F_(e,t){const n=c0(e).scrollLeft;return t?t.left+n:Hc(ji(e)).left+n}function SF(e,t,n){n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=a.left+t.scrollLeft-(n?0:F_(e,a)),i=a.top+t.scrollTop;return{x:s,y:i}}function Jee(e){let{elements:t,rect:n,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=ji(a),l=t?l0(t.floating):!1;if(a===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=di(1);const u=di(0),m=xi(a);if((m||!m&&!i)&&((qm(a)!=="body"||ug(o))&&(c=c0(a)),xi(a))){const f=Hc(a);d=xu(a),u.x=f.x+a.clientLeft,u.y=f.y+a.clientTop}const h=o&&!m&&!i?SF(o,c,!0):di(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:n.y*d.y-c.scrollTop*d.y+u.y+h.y}}function Qee(e){return Array.from(e.getClientRects())}function Xee(e){const t=ji(e),n=c0(e),a=e.ownerDocument.body,s=Sa(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=Sa(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-n.scrollLeft+F_(e);const l=-n.scrollTop;return Ws(a).direction==="rtl"&&(o+=Sa(t.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:l}}function Zee(e,t){const n=Ma(e),a=ji(e),s=n.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=L_();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function ete(e,t){const n=Hc(e,!0,t==="fixed"),a=n.top+e.clientTop,s=n.left+e.clientLeft,i=xi(e)?xu(e):di(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,d=a*i.y;return{width:o,height:l,x:c,y:d}}function QO(e,t,n){let a;if(t==="viewport")a=Zee(e,n);else if(t==="document")a=Xee(ji(e));else if(Ks(t))a=ete(t,n);else{const s=PF(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Xy(a)}function _F(e,t){const n=jl(e);return n===t||!Ks(n)||Hu(n)?!1:Ws(n).position==="fixed"||_F(n,t)}function tte(e,t){const n=t.get(e);if(n)return n;let a=Gf(e,[],!1).filter(l=>Ks(l)&&qm(l)!=="body"),s=null;const i=Ws(e).position==="fixed";let o=i?jl(e):e;for(;Ks(o)&&!Hu(o);){const l=Ws(o),c=I_(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ug(o)&&!c&&_F(e,o))?a=a.filter(u=>u!==o):s=l,o=jl(o)}return t.set(e,a),a}function nte(e){let{element:t,boundary:n,rootBoundary:a,strategy:s}=e;const o=[...n==="clippingAncestors"?l0(t)?[]:tte(t,this._c):[].concat(n),a],l=o[0],c=o.reduce((d,u)=>{const m=QO(t,u,s);return d.top=Sa(m.top,d.top),d.right=bl(m.right,d.right),d.bottom=bl(m.bottom,d.bottom),d.left=Sa(m.left,d.left),d},QO(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function rte(e){const{width:t,height:n}=kF(e);return{width:t,height:n}}function ate(e,t,n){const a=xi(t),s=ji(t),i=n==="fixed",o=Hc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=di(0);if(a||!a&&!i)if((qm(t)!=="body"||ug(s))&&(l=c0(t)),a){const h=Hc(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=F_(s));const d=s&&!a&&!i?SF(s,l):di(0),u=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:u,y:m,width:o.width,height:o.height}}function vj(e){return Ws(e).position==="static"}function XO(e,t){if(!xi(e)||Ws(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ji(e)===n&&(n=n.ownerDocument.body),n}function CF(e,t){const n=Ma(e);if(l0(e))return n;if(!xi(e)){let s=jl(e);for(;s&&!Hu(s);){if(Ks(s)&&!vj(s))return s;s=jl(s)}return n}let a=XO(e,t);for(;a&&Wee(a)&&vj(a);)a=XO(a,t);return a&&Hu(a)&&vj(a)&&!I_(a)?n:a||Hee(e)||n}const ste=async function(e){const t=this.getOffsetParent||CF,n=this.getDimensions,a=await n(e.floating);return{reference:ate(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function ite(e){return Ws(e).direction==="rtl"}const ote={convertOffsetParentRelativeRectToViewportRelativeRect:Jee,getDocumentElement:ji,getClippingRect:nte,getOffsetParent:CF,getElementRects:ste,getClientRects:Qee,getDimensions:rte,getScale:xu,isElement:Ks,isRTL:ite};function AF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function lte(e,t){let n=null,a;const s=ji(e);function i(){var l;clearTimeout(a),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:m,width:h,height:f}=d;if(l||t(),!h||!f)return;const g=yx(m),p=yx(s.clientWidth-(u+h)),x=yx(s.clientHeight-(m+f)),y=yx(u),b={rootMargin:-g+"px "+-p+"px "+-x+"px "+-y+"px",threshold:Sa(0,bl(1,c))||1};let N=!0;function w(k){const P=k[0].intersectionRatio;if(P!==c){if(!N)return o();P?o(!1,P):a=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!AF(d,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(w,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,b)}n.observe(e)}return o(!0),i}function cte(e,t,n,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=$_(e),u=s||i?[...d?Gf(d):[],...Gf(t)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const m=d&&l?lte(d,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),n()}),d&&!c&&f.observe(d),f.observe(t));let g,p=c?Hc(e):null;c&&x();function x(){const y=Hc(e);p&&!AF(p,y)&&n(),p=y,g=requestAnimationFrame(x)}return n(),()=>{var y;u.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),m==null||m(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(g)}}const dte=Vee,ute=qee,mte=Fee,hte=Kee,fte=Bee,ZO=$ee,pte=zee,gte=(e,t,n)=>{const a=new Map,s={platform:ote,...n},i={...s.platform,_c:a};return Lee(e,t,{...s,platform:i})};var uy=typeof document<"u"?j.useLayoutEffect:j.useEffect;function Zy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!Zy(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=n;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!Zy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function TF(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function eE(e,t){const n=TF(e);return Math.round(t*n)/n}function bj(e){const t=j.useRef(e);return uy(()=>{t.current=e}),t}function xte(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=j.useState(a);Zy(h,a)||f(a);const[g,p]=j.useState(null),[x,y]=j.useState(null),v=j.useCallback(S=>{S!==k.current&&(k.current=S,p(S))},[]),b=j.useCallback(S=>{S!==P.current&&(P.current=S,y(S))},[]),N=i||g,w=o||x,k=j.useRef(null),P=j.useRef(null),_=j.useRef(u),T=c!=null,I=bj(c),A=bj(s),R=bj(d),E=j.useCallback(()=>{if(!k.current||!P.current)return;const S={placement:t,strategy:n,middleware:h};A.current&&(S.platform=A.current),gte(k.current,P.current,S).then(D=>{const G={...D,isPositioned:R.current!==!1};L.current&&!Zy(_.current,G)&&(_.current=G,id.flushSync(()=>{m(G)}))})},[h,t,n,A,R]);uy(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,m(S=>({...S,isPositioned:!1})))},[d]);const L=j.useRef(!1);uy(()=>(L.current=!0,()=>{L.current=!1}),[]),uy(()=>{if(N&&(k.current=N),w&&(P.current=w),N&&w){if(I.current)return I.current(N,w,E);E()}},[N,w,E,I,T]);const $=j.useMemo(()=>({reference:k,floating:P,setReference:v,setFloating:b}),[v,b]),B=j.useMemo(()=>({reference:N,floating:w}),[N,w]),K=j.useMemo(()=>{const S={position:n,left:0,top:0};if(!B.floating)return S;const D=eE(B.floating,u.x),G=eE(B.floating,u.y);return l?{...S,transform:"translate("+D+"px, "+G+"px)",...TF(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:G}},[n,l,B.floating,u.x,u.y]);return j.useMemo(()=>({...u,update:E,refs:$,elements:B,floatingStyles:K}),[u,E,$,B,K])}const yte=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:s}=typeof e=="function"?e(n):e;return a&&t(a)?a.current!=null?ZO({element:a.current,padding:s}).fn(n):{}:a?ZO({element:a,padding:s}).fn(n):{}}}},vte=(e,t)=>({...dte(e),options:[e,t]}),bte=(e,t)=>({...ute(e),options:[e,t]}),wte=(e,t)=>({...pte(e),options:[e,t]}),jte=(e,t)=>({...mte(e),options:[e,t]}),Nte=(e,t)=>({...hte(e),options:[e,t]}),kte=(e,t)=>({...fte(e),options:[e,t]}),Pte=(e,t)=>({...yte(e),options:[e,t]});var Ste="Arrow",OF=j.forwardRef((e,t)=>{const{children:n,width:a=10,height:s=5,...i}=e;return r.jsx(Ue.svg,{...i,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});OF.displayName=Ste;var _te=OF;function mg(e){const[t,n]=j.useState(void 0);return Yn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),t}var B_="Popper",[EF,zm]=Jn(B_),[Cte,RF]=EF(B_),MF=e=>{const{__scopePopper:t,children:n}=e,[a,s]=j.useState(null);return r.jsx(Cte,{scope:t,anchor:a,onAnchorChange:s,children:n})};MF.displayName=B_;var DF="PopperAnchor",IF=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:a,...s}=e,i=RF(DF,n),o=j.useRef(null),l=dt(t,o);return j.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:r.jsx(Ue.div,{...s,ref:l})});IF.displayName=DF;var U_="PopperContent",[Ate,Tte]=EF(U_),LF=j.forwardRef((e,t)=>{var ee,pe,W,H,ie,ae;const{__scopePopper:n,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:g,...p}=e,x=RF(U_,n),[y,v]=j.useState(null),b=dt(t,le=>v(le)),[N,w]=j.useState(null),k=mg(N),P=(k==null?void 0:k.width)??0,_=(k==null?void 0:k.height)??0,T=a+(i!=="center"?"-"+i:""),I=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(d)?d:[d],R=A.length>0,E={padding:I,boundary:A.filter(Ete),altBoundary:R},{refs:L,floatingStyles:$,placement:B,isPositioned:K,middlewareData:S}=xte({strategy:"fixed",placement:T,whileElementsMounted:(...le)=>cte(...le,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[vte({mainAxis:s+_,alignmentAxis:o}),c&&bte({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?wte():void 0,...E}),c&&jte({...E}),Nte({...E,apply:({elements:le,rects:ve,availableWidth:ne,availableHeight:F})=>{const{width:me,height:je}=ve.reference,oe=le.floating.style;oe.setProperty("--radix-popper-available-width",`${ne}px`),oe.setProperty("--radix-popper-available-height",`${F}px`),oe.setProperty("--radix-popper-anchor-width",`${me}px`),oe.setProperty("--radix-popper-anchor-height",`${je}px`)}}),N&&Pte({element:N,padding:l}),Rte({arrowWidth:P,arrowHeight:_}),h&&kte({strategy:"referenceHidden",...E})]}),[D,G]=BF(B),q=Sr(g);Yn(()=>{K&&(q==null||q())},[K,q]);const C=(ee=S.arrow)==null?void 0:ee.x,X=(pe=S.arrow)==null?void 0:pe.y,Q=((W=S.arrow)==null?void 0:W.centerOffset)!==0,[xe,Pe]=j.useState();return Yn(()=>{y&&Pe(window.getComputedStyle(y).zIndex)},[y]),r.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:K?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(H=S.transformOrigin)==null?void 0:H.x,(ie=S.transformOrigin)==null?void 0:ie.y].join(" "),...((ae=S.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Ate,{scope:n,placedSide:D,onArrowChange:w,arrowX:C,arrowY:X,shouldHideArrow:Q,children:r.jsx(Ue.div,{"data-side":D,"data-align":G,...p,ref:b,style:{...p.style,animation:K?void 0:"none"}})})})});LF.displayName=U_;var $F="PopperArrow",Ote={top:"bottom",right:"left",bottom:"top",left:"right"},FF=j.forwardRef(function(t,n){const{__scopePopper:a,...s}=t,i=Tte($F,a),o=Ote[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(_te,{...s,ref:n,style:{...s.style,display:"block"}})})});FF.displayName=$F;function Ete(e){return e!==null}var Rte=e=>({name:"transformOrigin",options:e,fn(t){var x,y,v;const{placement:n,rects:a,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=BF(n),m={start:"0%",center:"50%",end:"100%"}[u],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,f=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let g="",p="";return d==="bottom"?(g=o?m:`${h}px`,p=`${-c}px`):d==="top"?(g=o?m:`${h}px`,p=`${a.floating.height+c}px`):d==="right"?(g=`${-c}px`,p=o?m:`${f}px`):d==="left"&&(g=`${a.floating.width+c}px`,p=o?m:`${f}px`),{data:{x:g,y:p}}}});function BF(e){const[t,n="center"]=e.split("-");return[t,n]}var UF=MF,V_=IF,q_=LF,z_=FF,[d0,qFe]=Jn("Tooltip",[zm]),K_=zm(),VF="TooltipProvider",Mte=700,tE="tooltip.open",[Dte,qF]=d0(VF),zF=e=>{const{__scopeTooltip:t,delayDuration:n=Mte,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(Dte,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};zF.displayName=VF;var KF="Tooltip",[zFe,u0]=d0(KF),ok="TooltipTrigger",Ite=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...a}=e,s=u0(ok,n),i=qF(ok,n),o=K_(n),l=j.useRef(null),c=dt(t,l,s.onTriggerChange),d=j.useRef(!1),u=j.useRef(!1),m=j.useCallback(()=>d.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),r.jsx(V_,{asChild:!0,...o,children:r.jsx(Ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:c,onPointerMove:Ne(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ne(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Ne(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ne(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ne(e.onBlur,s.onClose),onClick:Ne(e.onClick,s.onClose)})})});Ite.displayName=ok;var Lte="TooltipPortal",[KFe,$te]=d0(Lte,{forceMount:void 0}),Gu="TooltipContent",WF=j.forwardRef((e,t)=>{const n=$te(Gu,e.__scopeTooltip),{forceMount:a=n.forceMount,side:s="top",...i}=e,o=u0(Gu,e.__scopeTooltip);return r.jsx(ga,{present:a||o.open,children:o.disableHoverableContent?r.jsx(HF,{side:s,...i,ref:t}):r.jsx(Fte,{side:s,...i,ref:t})})}),Fte=j.forwardRef((e,t)=>{const n=u0(Gu,e.__scopeTooltip),a=qF(Gu,e.__scopeTooltip),s=j.useRef(null),i=dt(t,s),[o,l]=j.useState(null),{trigger:c,onClose:d}=n,u=s.current,{onPointerInTransitChange:m}=a,h=j.useCallback(()=>{l(null),m(!1)},[m]),f=j.useCallback((g,p)=>{const x=g.currentTarget,y={x:g.clientX,y:g.clientY},v=zte(y,x.getBoundingClientRect()),b=Kte(y,v),N=Wte(p.getBoundingClientRect()),w=Gte([...b,...N]);l(w),m(!0)},[m]);return j.useEffect(()=>()=>h(),[h]),j.useEffect(()=>{if(c&&u){const g=x=>f(x,u),p=x=>f(x,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",p)}}},[c,u,f,h]),j.useEffect(()=>{if(o){const g=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},v=(c==null?void 0:c.contains(x))||(u==null?void 0:u.contains(x)),b=!Hte(y,o);v?h():b&&(h(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,h]),r.jsx(HF,{...e,ref:i})}),[Bte,Ute]=d0(KF,{isInside:!1}),Vte=A$("TooltipContent"),HF=j.forwardRef((e,t)=>{const{__scopeTooltip:n,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=u0(Gu,n),d=K_(n),{onClose:u}=c;return j.useEffect(()=>(document.addEventListener(tE,u),()=>document.removeEventListener(tE,u)),[u]),j.useEffect(()=>{if(c.trigger){const m=h=>{const f=h.target;f!=null&&f.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),r.jsx(Bm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:r.jsxs(q_,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Vte,{children:a}),r.jsx(Bte,{scope:n,isInside:!0,children:r.jsx(KX,{id:c.contentId,role:"tooltip",children:s||a})})]})})});WF.displayName=Gu;var GF="TooltipArrow",qte=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...a}=e,s=K_(n);return Ute(GF,n).isInside?null:r.jsx(z_,{...s,...a,ref:t})});qte.displayName=GF;function zte(e,t){const n=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,a,s,i)){case i:return"left";case s:return"right";case n:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function Kte(e,t,n=5){const a=[];switch(t){case"top":a.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":a.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":a.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":a.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return a}function Wte(e){const{top:t,right:n,bottom:a,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:a},{x:s,y:a}]}function Hte(e,t){const{x:n,y:a}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>a!=u>a&&n<(d-l)*(a-c)/(u-c)+l&&(s=!s)}return s}function Gte(e){const t=e.slice();return t.sort((n,a)=>n.x<a.x?-1:n.x>a.x?1:n.y<a.y?-1:n.y>a.y?1:0),Yte(t)}function Yte(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const s=e[a];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Jte=zF,YF=WF;const Qte=Jte,Xte=j.forwardRef(({className:e,sideOffset:t=4,...n},a)=>r.jsx(YF,{ref:a,sideOffset:t,className:Ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));Xte.displayName=YF.displayName;const Zte={login:"",signup:"",logout:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:"",welcomeBack:" / ",or:"",continueWithGoogle:"Google",loginSuccess:"",loginFailed:"",signupSuccess:"",signupFailed:"",checkEmail:"",passwordMismatch:"",forgotPassword:"",resetPassword:"",noAccount:"",hasAccount:"",sendOTP:"",enterOTP:"",verifyOTP:"",otpSent:"",otpResent:"",checkEmailForOTP:"6",otpSentTo:"",sendOTPFailed:"",verifyOTPFailed:"",resendOTP:"",changeEmail:"",completeProfile:"",newUserWelcome:"LOVEYOUNG",phone:"",fillRequired:"",profileSaved:"",profileSaveFailed:"",saveAndContinue:""},ene={loading:"...",error:"",retry:"",save:"",cancel:"",confirm:"",delete:"",edit:"",add:"",search:"",filter:"",all:"",back:"",next:"",submit:"",close:"",view:"",details:"",status:"",actions:"",total:"",date:"",time:"",name:"",phone:"",email:"",address:"",price:"",quantity:"",amount:"",none:"",yes:"",no:"",viewDetails:"",whatsappConsult:"WhatsApp"},tne={products:"",benefits:"",howToOrder:"",testimonials:"",partner:"",brand:"",member:"",memberCenter:"",home:"",admin:""},nne={whatsapp:"WhatsApp",shop:"",login:"/",account:"",logout:""},rne={fresh:"",noCompromise:"",subtitle:"LOVEYOUNG   ",description:"",orderNow:"",exploreFlavors:"",repeatCustomers:"",nextBatch:"",giftBox:"",giftBoxDesc:"6  120g",original:"",redDate:"",fishMaw:"",giftPrice:"",perBox:"/",whatsappOrder:"WhatsApp",bestseller:""},ane={customers:"",flavors:"",freshCycle:"",rating:"",whyTrust:"",customersLabel:"",customersSub:"",flavorsLabel:"",flavorsSub:"",freshLabel:"",freshSub:"",ratingLabel:"",ratingSub:""},sne={discovery:"Flavor Discovery",explore:"",flavors:"8",viewAll:"",birdNest:"",fishMaw:"",giftBox:"",allProducts:"",orderNow:"",addToCart:"",outOfStock:""},ine={whyDifferent:"Why Different",title:"",subtitle:"",description:"",science:"",scienceSub:"Lab-Tested",scienceDesc:"",scienceStat:"",coldChain:"",coldChainSub:"Cold Chain",coldChainDesc:"4C",coldChainStat:"",freshDaily:"",freshDailySub:"Fresh Daily",freshDailyDesc:"",freshDailyStat:"",fullPortion:"",fullPortionSub:"Full Portion",fullPortionDesc:"",fullPortionStat:""},one={title:"",subtitle:"",step1:"WhatsApp",step1Desc:"",step2:"",step2Desc:"8",step3:"",step3Desc:"",whatsappOrder:"WhatsApp",metaShop:"Meta",selectPackage:"",selectPackageDesc:"",selectFlavors:"",selectFlavorsDesc:"",confirmOrder:"",confirmOrderDesc:"",remaining:"",birdNestFlavors:"",fishMawFlavors:"",orderSummary:"",packageLabel:"",priceLabel:"",flavorSelection:"",selectOrderMethod:"",back:"",next:"",moreNeeded:"",jarsUnit:"",greeting:"LOVEYOUNG",confirmRequest:"",startOrder:"",deliveryInfo:"",deliveryInfoDesc:"",customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:"",submitOrder:"",orderSuccess:"",yourOrderNumber:"",trackOrder:"",orderSubmitting:"...",orderConfirmed:"",orderConfirmedDesc:"",continueOrdering:"",viewOrder:"",selectState:"",required:"",optional:"",loginForSavedAddress:"",loginBenefit:"",loginOrRegister:"/",continueAsGuest:"",selectSavedAddress:"",useNewAddress:"",backToSavedAddresses:"",saveAddressToProfile:"",payment:"",paymentDesc:"",proceedToPayment:"",totalAmount:"",payOnline:" (Stripe)",processing:"...",paymentMethods:"FPXGrabPay ",needHelp:"",referralCode:"",referralCodeValid:"",referralCodeInvalid:"",memberDiscount:""},lne={realReviews:"Real Reviews",title:"",subtitle:"",rating:"",repeatCustomer:""},cne={title:"",subtitle:"",description:"",whatsappOrder:"WhatsApp",metaShop:"Meta",hours:": 9:00-21:00",reply:"24h"},dne={tagline:"",description:" Young Love  Love Young",brandName:"",quickLinks:"",contactUs:"",businessHours:"",hoursValue:" 9:00-21:00",clickToChat:"",responseTime:"24",allRightsReserved:"",slogan:"Against The Wind | ",products:"",birdNest:"",fishMaw:"",dessert:"",service:"",faq:"",shipping:"",contact:"",followUs:"",copyright:""},une={original:"",redDate:"",snowPear:"",peachGum:"",coconut:"",mango:"",fishMawOriginal:"",fishMawRedDate:"",modalTitle:"",recommended:"",targetAudience:"",originalDesc:"",redDateDesc:"",snowPearDesc:"",peachGumDesc:"",coconutDesc:"",mangoDesc:"",fishMawOriginalDesc:"",fishMawRedDateDesc:""},mne={title:"",subtitle:"",oneBox:"",oneBoxDesc:"7  ",oneBoxInfo:"14",oneBoxPrice:"RM158",twoBox:"",twoBoxDesc:"14  ",twoBoxInfo:"  14",twoBoxPrice:"RM298",twoBoxSave:"RM18",chooseFlavor:"",preOrder:"",popular:"",bestValue:"",perJar:"/"},hne={pregnant:"",pregnantDesc:"",pregnantFlavors:"",children:"",childrenDesc:"",childrenFlavors:"",beauty:"",beautyDesc:"",beautyFlavors:"",health:"",healthDesc:"",healthFlavors:""},fne={johor:"",kedah:"",kelantan:"",melaka:"",negeriSembilan:"",pahang:"",penang:"",perak:"",perlis:"",sabah:"",sarawak:"",selangor:"",terengganu:"",kualaLumpur:"",labuan:"",putrajaya:""},pne={logout:"",center:{loading:"...",loginTitle:"",loginDesc:"",loginButton:" / ",logout:"",user:"",defaultUser:"",version:"LOVE YOUNG  v1.0",backToCenter:"",memberBadge:"",sections:{account:{title:""},member:{title:""},partner:{title:"",dashboard:""},adminCore:{title:""},erp:{title:"ERP"}},sectionDesc:{account:"",member:"",partner:"",adminCore:"",erp:""},menuItems:{personalCenter:"",personalCenterDesc:"",accountSettings:"",accountSettingsDesc:"",notifications:"",notificationsDesc:"",helpCenter:"",helpCenterDesc:"",orderHistory:"",orderHistoryDesc:"",addresses:"",addressesDesc:"",pointsCenter:"",pointsCenterDesc:"",paymentMethods:"",paymentMethodsDesc:"",overview:"",overviewDesc:"",referralNetwork:"",referralNetworkDesc:"",promoMaterials:"",promoMaterialsDesc:"",lyPoints:"LY",lyPointsDesc:"",cashWallet:"",cashWalletDesc:"",rwaPool:"RWA",rwaPoolDesc:"",earningsHistory:"",earningsHistoryDesc:"",dashboard:"",dashboardDesc:"",partnerManagement:"",partnerManagementDesc:"",orderManagement:"",orderManagementDesc:"",productManagement:"",productManagementDesc:"",memberManagement:"",memberManagementDesc:"",bonusPool:"",bonusPoolDesc:"RWA",inventory:"",inventoryDesc:"",purchase:"",purchaseDesc:"",logistics:"",logisticsDesc:"",bills:"",billsDesc:"",finance:"",financeDesc:""},quickStats:{lyPoints:"LY",cashBalance:"",rwaTokens:"RWA",totalSales:"",activePartners:"",monthlyOrders:"",monthlySales:"",bonusPoolBalance:""},userStates:{user:"",member:"",partner:"",admin:""},badges:{pendingActivation:""},upgradePrompt:"",goShopping:""},orders:{title:"",subtitle:"",tabAll:"",tabPending:"",tabShipped:"",tabDelivered:"",tabCancelled:"",noOrders:"",goShop:"",viewDetails:"",totalItems:" {count} ",total:"",statusPending:"",statusPaid:"",statusProcessing:"",statusShipped:"",statusDelivered:"",statusCancelled:"",statusUnknown:"",orderInfo:"",orderNumber:"",orderDate:"",shippingAddress:"",trackingInfo:"",contactAboutOrder:"",paymentStatus:"",statusConfirmed:"",statusPendingPayment:"",timelineOrdered:"",timelinePreparing:"",timelineShipping:"",timelineCompleted:""},points:{title:"",subtitle:"",currentPoints:"",earnedThisMonth:"",expiringSoon:"",tierProgress:"",tierProgressDesc:" {nextTier}  {points} ",points:"",redeem:"",redeemRate:"100 = RM1",redeemNow:"",earnPoints:"",earnRate:"RM11",goShop:"",history:"",tabAll:"",tabEarn:"",tabSpend:"",balance:"",rulesTitle:"",rule1:"RM11",rule2:"100RM1",rule3:"12",rule4:""},settings:{title:"",subtitle:"",personalInfo:"",personalInfoDesc:"",changeAvatar:"",name:"",phone:"",email:"",emailNote:"Replit",security:"",securityDesc:"",loginMethod:"",loginMethodDesc:"Replit",manage:"",notifications:"",notificationsDesc:"",orderNotify:"",orderNotifyDesc:"",promoNotify:"",promoNotifyDesc:"",earningNotify:"",earningNotifyDesc:"",display:"",darkMode:"",darkModeDesc:"",saveChanges:""},help:{title:"",subtitle:"",searchPlaceholder:"...",faq:"",noResults:"",contactUs:"",whatsapp:"WhatsApp",onlineConsult:"",phoneSupport:"",emailSupport:"",serviceHours:" 9:00-18:00",categories:{order:"",shipping:"",payment:"",refund:"",points:"",partner:""},faqItems:{order1:{q:"",a:"WhatsApp"},order2:{q:"",a:""},shipping1:{q:"",a:""},shipping2:{q:"",a:"3-55-7"},payment1:{q:"",a:"FPXTouch n Go/"},payment2:{q:"",a:""},refund1:{q:"",a:"24"},refund2:{q:"",a:"3-7"},points1:{q:"",a:""},points2:{q:"",a:""},partner1:{q:"",a:""},partner2:{q:"",a:"LYRWA10"}}},notifications:{title:"",unreadCount:" {count} ",noUnread:"",markAllRead:"",tabs:{all:"",unread:"",order:"",earning:"",promo:""},noMessages:"",new:""},addresses:{title:"",subtitle:"",addAddress:"",addAddressTitle:"",noAddresses:"",addFirst:"",defaultBadge:"",setDefault:"",edit:"",delete:"",cancel:"",save:"",form:{name:"",namePlaceholder:"",phone:"",address:"",addressPlaceholder:"",city:"",postcode:"",state:""}},payment:{title:"",subtitle:"",securityTitle:"",securityDesc:"",boundMethods:"",methodCount:" {count} ",add:"",addTitle:"",bankAccount:"",ewallet:"",bankName:"",bankNamePlaceholder:"",accountNumber:"",accountNumberPlaceholder:"",cancel:"",save:"",noMethods:"",default:"",setDefault:"",thirdParty:"",thirdPartyDesc:"",creditCardSupport:"",supportedMethods:"",supportedList:{bank:" (FPX) - Maybank, CIMB, Public Bank",ewallet:" - Touch n Go, GrabPay, Boost",card:"/ - Meta Shop"}},partnerDashboard:{title:"",subtitle:"",currentTier:"",partnerBadge:"",tiers:{phase1:"Phase 1",phase2:"Phase 2",phase3:"Phase 3"},myReferralCode:"",lyPoints:"LY",lyBalance:"",cashWallet:"",cashBalance:"",rwaToken:"RWA",rwaBalance:"",referralNetwork:"",activeMembers:"{count} ",monthlyEarnings:"",earningsDesc:"RWA",totalEarnings:"",lastMonthEarnings:"",rwaCycle:"RWA",cycleDesc:" {cycle} ",cycleProgress:"",nextPayoutDate:"",viewDetails:"",quickActions:"",promoMaterials:"",inviteFriends:"",withdraw:"",upgradePlan:""},partnerJoin:{title:"",loginRequired:"",exclusiveBenefits:"",maxLyPoints:"3000 LY",rwaDividend:"RWA",tenLevelNetwork:"10",loginToJoin:"",learnMore:"",alreadyPartner:"",accountActive:"",pendingReview:"",activated:"",pending:"",goToDashboard:"",applicationSuccess:"",congratsMessage:"",reviewProcess:"1-2",ensurePayment:"",backToMember:"",backToHome:"",joinPartner:"",stepProfile:" 1/3",step1:" 2/3",step2:" 3/3",completeProfile:"",profileDesc:"",namePlaceholder:"",continueToPackage:"",selectPackage:"",selectPackageDesc:"",mostPopular:"",referralCodeLabel:"",referralCodePlaceholder:"",nextStep:"",backToPackage:"",orderConfirm:"",package:"",amountToPay:"",selectPayment:"",securityGuarantee:"",encryptedTransaction:"SSL",activationTime:"24",support24h:"24",paymentNote:"",confirmPay:"",applicationSubmitted:"",applicationDesc:"",applicationFailed:"",packages:{phase1:{name:"",feature1:"2000 LY",feature2:"2 RWA",feature3:"10",feature4:""},phase2:{name:"",feature1:"2600 LY",feature2:"3 RWA",feature3:"10",feature4:""},phase3:{name:"",feature1:"3000 LY",feature2:"4 RWA",feature3:"10",feature4:"",feature5:""}},paymentMethods:{fpx:"FPX",tng:"Touch n Go",card:"/"}},earnings:{title:"",subtitle:"RWA",totalEarnings:"",vsLastMonth:"",thisMonth:"",lastMonth:"",thisMonthEarnings:"",lastMonthEarnings:"",cashback:"",rwaDividend:"RWA",referralReward:"",tabs:{all:"",cashback:"",rwa:"RWA",referral:""},history:"",historyDesc:"",income:"",noRecords:"",noRecordsForType:"",filter:"",export:""},wallet:{title:"",subtitle:"",availableBalance:"",pendingWithdraw:"",applyWithdraw:"",withdrawTitle:"",withdrawDesc:"1-3",withdrawAmount:" (RM)",withdrawPlaceholder:"",availableBalanceLabel:"",selectBank:"",selectBankPlaceholder:"",cancel:"",confirmWithdraw:"",quickStats:"",totalIncome:"",totalWithdrawn:"",thisMonthIncome:"",transactions:"",income:"",withdraw:"",status:{completed:"",pending:"",failed:""},transactionsDesc:"",exportRecords:"",noTransactions:"",bankAccount:"",bankAccountDesc:"",noBankAccount:"",contactForBank:"",addBankAccount:"+ ",bindBankFirst:"",contactToAdd:"",minWithdrawNote:" RM 50.00 RM 1.00 ",invalidAmount:"",minAmountMsg:" RM 50.00",insufficientBalance:"",exceedsBalanceMsg:"",withdrawSuccess:"",withdrawSuccessDesc:"1-3",withdrawFailed:""},referrals:{title:"",subtitle:"",totalReferrals:"",activeMembers:"",directReferrals:"",totalLyEarned:"LY",searchPlaceholder:"...",filterLevel:"",allLevels:"",level:"{n}",teamMembers:"",memberCount:" {count} ",joinDate:"",lyEarned:"LY",pendingActivation:"",inviteFriends:"",shareCode:"",noMembers:"",noMatchingMembers:"",teamList:"",teamListDesc:"10",allFilter:"",teamTotalLy:"LY",joinTime:"",lyBalanceLabel:"LY",inviteTitle:"",inviteDesc:"LY",inviteNow:"",tierPhase1:"",tierPhase2:"",tierPhase3:""},lyPoints:{title:"LY",subtitle:"",currentBalance:"LY",redeemGift:"",usePoints:"",totalEarned:"",totalSpent:"",thisMonthEarned:"",fromReferrals:"",fromReplenishment:"",tabs:{all:"",earn:"",spend:""},history:"",balance:"",networkRules:"",networkRulesDesc:"LY10",tier1:"1: 20%",tier2:"2: 15%",tier3to5:"3-5: 10%",tier6to10:"6-10: 5%",historyDesc:"LY",noRecords:"",rulesTitle:"LY",ruleEarn1:"LY",ruleEarn2:"",ruleEarn3:"10",ruleUse1:"",ruleUse2:"",ruleNote:"12",filter:"",export:"",earnBadge:"",useBadge:"",noteBadge:""},materials:{title:"",subtitle:"",myQrCode:"",qrCodeDesc:"",downloadQr:"",shareLink:"",tabs:{images:"",documents:"",videos:""},download:"",copyLink:"",copied:"",size:"",fileType:"",fileSize:"",duration:"",notMember:"",notMemberDesc:"",goShopping:"",myReferralLink:"",referralCodeLabel:"",copyReferralCode:"",shareWhatsApp:" WhatsApp",referralLinkLabel:"",share:"",preview:"",play:"",socialShare:"",socialShareDesc:"",copyFailed:"",copiedToClipboard:"",productPoster:" - ",brandStory:"",recruitPoster:"",holidayPromo:"",productManual:" PDF",trainingMaterial:"",faqDocument:"",brandPpt:"PPT",brandVideo:"",productProcess:"",successStory:"",shareText:"Love Young  {code} ",itemShareText:"{title} {code} "},rwa:{title:"RWA",subtitle:"",myTokens:"RWA",tokenUnit:"",activeHolding:"",totalDividends:"",currentEstimate:"",avgPerToken:"",currentCycle:"",cycle:"{n}",cycleProgress:"",daysRemaining:" {days} ",poolAmount:"",estimatedDividend:"",nextPayout:" {date} ",cycleHistory:"",completed:"",active:"",dividendReceived:"",tokenHistory:"",tokenHistoryDesc:"RWA",howItWorks:"RWA",rule1:"1. RWA1030%",rule2:"2. RWA",rule3:"3. ",rule4:"4. ",startDate:"",endDate:"",currentPool:"",noCycle:"",cycleHistoryDesc:"",tokensParticipated:"",noCycles:"",noTokens:"",sourcePackage:"",sourceNetworkOrder:"",sourceMilestone:"",sourceReferral:""}},gne={title:"",subtitle:"RWA ",description:"LOVEYOUNG",joinNow:"",learnMore:"",benefits:"",howItWorks:"",tiers:"",faq:"",phase1:"",phase2:"",phase3:"",investment:"",lyPoints:"LY",referralBonus:"",monthlyDividend:"",dashboard:"",myNetwork:"",earnings:"",withdraw:"",referralCode:"",copyCode:"",codeCopied:"",referralLink:"",totalEarnings:"",pendingWithdrawal:"",lyBalance:"LY",cashBalance:"",directReferrals:"",teamSize:"",currentCycle:"",cycleProgress:"",estimatedDividend:"",daysRemaining:"",poolAmount:"",yourShare:"",joinRequirements:"",selectPackage:"",agreeTerms:"",submitApplication:"",applicationPending:"",applicationApproved:"",applicationRejected:"",notPartner:"",becomePartner:"",whatsappMessage:"",page:{heroTitle1:" RM1,000",heroTitle2:"",heroTitle3:"2",heroSubtitle:" Love Young  2000 LY 10LY",heroSubtitleBold:"",applyNow:"",consultDetails:"",minInvestment:"",lyPointsObtained:" = RM2000",unlimitedEarnings:"",applicationSubmitted:"",applicationSubmittedDesc:"",applicationFailed:""},concepts:{assetTransparency:"",assetTransparencyDesc:"",earningsGuarantee:"",earningsGuaranteeDesc:"LY",globalFlow:"",globalFlowDesc:""},dividends:{title:"",subtitle:"1:1LY10",method1:" 1",method2:" 2",cashbackTitle:"",cashbackDesc:"3",rwaTitle:"RWA",rwaDesc:"30%10RWA",gen1:"1",gen2:"2",gen3:"3",cashback50:"50% ",cashback30:"30% ",cashback20:"20% ",cashbackExample:"11RM199 RM99.5 ",salesIntoPool:"",distributeByToken:"",yourDividend:"",autoToken:"",tokenPerSale:"1",cycleReset:"10",tokenReset:"",rwaExample:"2021550RM29,850 RM1,140 "},ly:{title:"LY ",subtitle:"LY10",networkTitle:"10 LY",networkSubtitle:"",totalReplenish:"10",ofSales:"LY",cycleTitle:"",salesGenerate:"",enterWallet:"",withdrawDeduct:"LY",networkReplenish:"LY",keepActive:"",neverDry:"LY",whyMoreTitle:"2",whyMoreDesc:"RM10002000 LYRM200010LYLY",importantNote:"",importantNoteDesc:"LYLY",level1:"",level2:"",level3:"",level4:"",level5:"",level6:"",level7:"",level8:"",level9:"",level10:""},network:{you:"",gen1:"G1",gen2:"G2",gen3:"G3",plusCashback:"+"},tierSection:{title:"",subtitle:"LY",mostPopular:"",invest:"",getLyPoints:" LY ",minWithdraw:"=  RM",consultNow:""},tierNames:{phase1:"",phase2:"",phase3:""},tierFeatures:{cashback50First5:"550%",cashback30Next5:"6-1030%",cashback20Rest:"20%",freeFirstBox:"",photoShoot:"",tenLevelBonus:"10",weight12x:"1.2x ",factoryVip:"VIP",microFilm:"",weight15x:"1.5x ",topPoolPriority:"",intlLaunch:"",cobranding:"",exclusiveBiz:""},simulator:{title:"RWA",subtitle:"",mySales:"",boxes:"",totalPlatformSales:"",activePartners:"",people:"",avgSalesPerPerson:"",cycleTotalSales:"",bonusPool30:" (30%)",myRwaTokens:"RWA",units:"",totalPlatformTokens:"",myRatio:"",estimatedCycleDividend:"",withdrawNeedsLy:"* LY"},ecosystem:{title:"LOVEYOUNG ",desc1:"LOVEYOUNG KOLRWA",desc2:"",modules:"",fullSupport:"",imgAlt:"LOVEYOUNG"},faqs:{title:"",subtitle:"",q1:"",a1:"",q2:"RM1000RM2000",a2:"RM10002000 LYRM20001:1LY210LY",q3:"RWA",a3:"350%/30%/20%RWA1030%RWALY",q4:"LY",a4:"LY10LY18%25%...LY",q5:"LY",a5:"LY",q6:"",a6:""},cta:{title:"",subtitle:"RM1,0002,000 LY102",subtitleBold:"",becomePartner:"",whatsappConsult:"WhatsApp "},modal:{title:"",selectedTier:"",referralCodeOptional:"",referralCodePlaceholder:"8",cancel:"",confirmAndPay:""}},xne={title:"",dashboard:"",partners:"",orders:"",products:"",members:"",bonusPool:"",inventory:"",purchase:"",logistics:"",bills:"",finance:"",settings:"",backToMember:"",backToHome:"",adminPanel:"",erpSystem:"ERP",memberCenter:"",pleaseLogin:"",adminRequired:"",adminRole:"",menu:{dashboard:"",partners:"",orders:"",products:"",members:"",bonusPool:"",inventory:"",production:"",purchase:"",logistics:"",bills:"",finance:"",withdrawals:"",bundles:"",siteSettings:"",metaAds:"Meta",xiaohongshu:"",mediaPlan:"",adPlacement:"",performanceReports:"",whatsappConfig:"WhatsApp",whatsappOrders:"WhatsApp",whatsappMembers:"",aiCustomerService:"AI",whatsappPush:"",systemHealth:""},marketingSystem:"",whatsappBusiness:"WhatsApp",productionPage:{title:"",subtitle:"",newBatch:"",totalBatches:"",inProgress:"",completed:"",planned:"",batchList:"",materialUsage:"",searchPlaceholder:"...",qty:"",progress:"",steps:"",plannedDate:"",startTime:"",plannedQty:"",actualQty:"",nextStep:"",viewDetails:"",viewReport:"",materialName:"",plannedUsage:"",actualUsage:"",wastage:"",wastageRate:"",stepMaterialPrep:"",stepCleaning:"",stepCooking:"",stepColdStorage:"",stepInspection:"",statusPlanned:"",statusMaterialPrep:"",statusCleaning:"",statusCooking:"",statusColdStorage:"",statusInspection:"",statusCompleted:"",statusCancelled:"",statusUnknown:"",bomTab:"(BOM)",selectProduct:"",selectMaterial:"",addBomEntry:"",quantityPerUnit:"",currentStock:"",createBatch:"",product:"",extractMaterials:"",materialsExtracted:"",noBom:"BOM",noProductSelected:"",materialReq:"",unit:"",notesLabel:"",notesPlaceholder:"...",noBatches:"",noMaterials:""},totalRevenue:"",totalOrders:"",totalMembers:"",totalPartners:"",pendingOrders:"",pendingPartners:"",lowStock:"",recentActivity:"",quickActions:"",viewDetails:"",activate:"",deactivate:"",approve:"",reject:"",export:"",import:"",refresh:"",addNew:"",editItem:"",deleteItem:"",confirmDelete:"",deleteSuccess:"",saveSuccess:"",operationSuccess:"",operationFailed:"",noPermission:"",partnerStatus:{pending:"",active:"",inactive:"",suspended:""},orderStatus:{pending:"",confirmed:"",processing:"",shipped:"",delivered:"",cancelled:""},loginRequired:"",loginRequiredDesc:"",login:"",insufficientPermission:"",noAdminPermission:"",goHome:"",backToFront:"",production:"",hygiene:"",coldchain:"",reports:"",activePartners:"",monthlyOrders:"",monthlySales:"",currentBonusPool:"",recentOrders:"",pendingItems:"",noOrderData:"",noPendingItems:"",partnerList:"",addPartner:"",noPartnerData:"",orderList:"",createOrder:"",inventoryManagement:"",stockIn:"",stockOut:"",addMaterial:"",noInventoryData:"",productionBatch:"",createBatch:"",noProductionData:"",hygieneRecords:"",addInspection:"",noInspectionData:"",coldChainTracking:"",addWaybill:"",noLogisticsData:"",monthlyIncome:"",monthlyExpenses:"",netProfit:"",billRecords:"",addBill:"",noBillData:"",rwaBonusPoolCycle:"RWA ",currentCycle:"",cycleNumber:" {number} ",totalPoolAmount:"",totalTokens:"",settleCycle:"",historyCycles:"",noHistoryData:"",salesReport:"",partnerGrowth:"",chartArea:"",systemSettings:"",cashbackRatioSettings:"",cashbackRatioDesc:"",bonusPoolCycleSetting:"",bonusPoolCycleDesc:"10/",referralRewardRatio:"",referralRewardDesc:"10",configure:"",modify:"",partnersPage:{title:"",subtitle:"",totalPartners:"",activated:"",pendingReview:"",partnerList:"",searchPlaceholder:"ID...",tabAll:"",tabPending:"",tabActive:"",noPartners:"",activate:"",viewDetails:"",activateSuccess:"",activateSuccessDesc:"",activateFailed:"",package:""},ordersPage:{title:"",subtitle:"",totalOrders:"",pendingPayment:"",preparing:"",shipping:"",completed:"",cancelled:"",unknown:"",orderList:"",searchPlaceholder:"...",tabAll:"",noOrders:"",viewDetails:"",items:""},productsPage:{title:"",subtitle:"",addProduct:"",productList:"",searchPlaceholder:"...",noProducts:"",addFirstProduct:"",categoryBirdNest:"",categoryFishMaw:"",categoryGiftSet:"",manageCategories:"",categories:"",allCategories:"",totalProducts:"",activeProducts:"",addCategory:"",editCategory:"",categoryModalDesc:"",categoryName:"",categoryNamePlaceholder:"",categoryNameEn:"",categoryNameEnPlaceholder:"",categoryDescription:"",categoryDescPlaceholder:"",categoryColor:"",editProduct:"",productModalDesc:"",productImage:"",uploadImage:"",productNameZh:"",productNameZhPlaceholder:"",productNameEn:"",productNameEnPlaceholder:"",productDescription:"",productDescPlaceholder:"",category:"",selectCategory:"",price:"",weight:"",sortOrder:"",isAvailable:"",isAvailableDesc:"",isFeatured:"",isFeaturedDesc:"",productDetails:"",available:"",unavailable:"",featured:"",view:"",edit:"",delete:"",image:"",productName:"",status:"",actions:"",deleteConfirmTitle:"",deleteConfirmDesc:""},membersPage:{title:"",subtitle:"",totalUsers:"",regularMembers:"",partners:"",memberList:"",searchPlaceholder:"...",tabAll:"",tabMember:"",tabPartner:"",tabAdmin:"",noMembers:"",viewDetails:"",points:"",orders:"",roleMember:"",rolePartner:"",roleAdmin:"",roleUser:""},bonusPoolPage:{title:"",subtitle:"RWA",refreshData:"",currentCycle:"",inProgress:"",cycleProgress:"",days:"",daysRemaining:" {days} ",currentPool:"",perTokenValue:"",participatingPartners:"",cycleSales:"",cycleSettings:"",cycleLength:"",salesPoolRatio:"",totalRwaTokens:"RWA",tokens:"",editSettings:"",dividendNote:"",dividendDesc1:"10RWA",dividendRule1:"30%",dividendRule2:"1-4RWA",dividendRule3:"LY",historyCycles:"",cycle:"",settled:"",perToken:"",people:""},inventoryPage:{title:"",subtitle:"",addStock:"",productSku:"SKU",status:"",lowStock:"",criticalStock:"",inventoryStatus:"",searchPlaceholder:"SKU...",statusNormal:"",statusLow:"",statusCritical:"",statusUnknown:"",recentChanges:"",stockIn:"",stockOut:"",purchaseIn:"",manageCategories:"",categories:"",allCategories:"",addCategory:"",editCategory:"",categoryModalDesc:"",categoryName:"",categoryNamePlaceholder:"",categoryNameEn:"",categoryNameEnPlaceholder:"",categoryColor:"",permissions:"",permissionsDesc:"",stockInDesc:"",stockOutDesc:"",selectProduct:"",selectProductPlaceholder:"",quantity:"",stockInType:"",stockOutType:"",selectType:"",typeProduction:"",typePurchase:"",typeReturn:"",typeAdjust:"",typeSales:"",typeProductionUse:"",typeDamage:"",note:"",notePlaceholder:"",confirmStockIn:"",confirmStockOut:"",editItem:"",editItemDesc:"",itemName:"",sku:"SKU",category:"",currentStock:"",minStock:"",unit:"",actions:"",edit:"",delete:"",deleteConfirmTitle:"",deleteConfirmDesc:"",date:"",type:"",product:"",operator:""},purchasePage:{title:"",subtitle:"",newPo:"",purchaseOrders:"",suppliers:"",searchPlaceholder:"...",statusPending:"",statusApproved:"",statusShipped:"",statusReceived:"",statusUnknown:"",items:"",viewDetails:"",supplierList:"",addSupplier:"",orders:"",edit:""},logisticsPage:{title:"",subtitle:"",totalShipments:"",pendingShipment:"",inTransit:"",delivered:"",coldChainMonitor:"",tempNormal:" (-18C ~ -15C)",statusNormal:"",shipmentList:"",searchPlaceholder:"...",statusUnknown:"",order:"",track:""},billsPage:{title:"",subtitle:"",addBill:"",totalBills:"",pendingPayment:"",overdue:"",billList:"",searchPlaceholder:"...",statusPending:"",statusPaid:"",statusOverdue:"",statusUnknown:"",tabAll:"",typePurchase:"",typeLogistics:"",typeOperation:"",dueDate:"",noBills:""},financePage:{title:"",subtitle:"",exportReport:"",monthlyRevenue:"",monthlyExpenses:"",monthlyProfit:"",expenseBreakdown:"",purchaseCost:"",logisticsCost:"",operationCost:"",otherCost:"",partnerExpenses:"",cashbackPayout:"",cashbackDesc:"3",bonusPoolPayout:"RWA",bonusPoolDesc:"",recentTransactions:"",tabAll:"",tabIncome:"",tabExpense:""},withdrawals:{title:"",subtitle:"",pendingRequests:"",processingRequests:"",completedRequests:"",rejectedRequests:"",requestsList:"",tabPending:"",tabProcessing:"",tabCompleted:"",tabRejected:"",tabAll:"",noRequests:"",requestDetail:"",withdrawAmount:"",partnerInfo:"",name:"",email:"",phone:"",bankInfo:"",bankName:"",accountNumber:"",accountName:"",timeline:"",submittedAt:"",processedAt:"",statusPending:"",statusProcessing:"",statusCompleted:"",statusRejected:"",approve:"",reject:"",markComplete:"",cancel:"",rejectTitle:"",rejectDesc:"LY",rejectPlaceholder:"...",rejectReasonLabel:"",confirmReject:"",approveSuccess:"",approveFailed:"",completeSuccess:"",completeFailed:"",rejectSuccess:"",rejectFailed:""},metaAdsPage:{title:"Meta",subtitle:"Facebook/Instagram",newCampaign:"",totalCampaigns:"",activeCampaigns:"",totalSpend:"",totalImpressions:"",searchPlaceholder:"...",tabAll:"",tabActive:"",tabPaused:"",tabDraft:"",tabCompleted:"",noCampaigns:"",campaignName:"",platform:"",objective:"",budget:"",budgetType:"",dailyBudget:"",lifetimeBudget:"",startDate:"",endDate:"",targetAudience:"",spent:"",impressions:"",clicks:"",conversions:"",ctr:"",cpc:"",roas:"",adSets:"",creatives:"",performance:"",objectiveAwareness:"",objectiveTraffic:"",objectiveEngagement:"",objectiveLeads:"",objectiveConversions:"",objectiveSales:"",accountSettings:"",accountId:"ID",accessToken:"",pixelId:"Pixel ID",campaignCreated:"",createFailed:"",campaignUpdated:"",updateFailed:"",campaignDeleted:"",deleteFailed:"",statusUpdated:"",nameRequired:"",budgetRequired:"",statusActive:"",statusPaused:"",statusDraft:"",statusCompleted:"",statusUnknown:"",objectiveAppPromotion:"",budgetDaily:"",budgetLifetime:"",budgetAmount:"",totalBudget:"",campaignList:"",details:"",editCampaign:"",editCampaignDesc:"",newCampaignDesc:"",campaignNamePlaceholder:"",notes:"",notesPlaceholder:"...",cancel:"",save:"",create:"",campaignDetails:"",status:"",dateRange:"",createdAt:"",updatedAt:"",budgetUsage:"",adAccountId:"ID",noAdSets:"",activate:"",pause:"",resume:"",close:"",deleteCampaign:"",deleteConfirm:"",deleteWarning:"",confirmDelete:""},xiaohongshuPage:{title:"",subtitle:"",newContent:"",totalContent:"",published:"",totalLikes:"",totalViews:"",searchPlaceholder:"...",tabAll:"",tabDraft:"",tabPending:"",tabPublished:"",tabRejected:"",noContent:"",contentTitle:"",contentBody:"",contentType:"",typeNote:"",typeVideo:"",typeLive:"",coverImage:"",mediaTags:"",scheduledAt:"",likes:"",comments:"",shares:"",views:""},mediaPlanPage:{title:"",subtitle:"",newPlan:"",totalPlans:"",planned:"",inProgress:"",published:"",searchPlaceholder:"...",tabAll:"",tabPlanned:"",tabInProgress:"",tabReady:"",tabPublished:"",listView:"",calendarView:"",planTitle:"",description:"",platform:"",contentType:"",scheduledDate:"",scheduledTime:"",assignedTo:"",noPlans:"",typePost:"",typeStory:"",typeReel:"",typeVideo:"",typeArticle:"",typeLive:"",createSuccess:"",createError:"",updateSuccess:"",updateError:"",deleteSuccess:"",deleteError:"",validationError:"",platformXiaohongshu:"",platformWebsite:"",statusPlanned:"",statusInProgress:"",statusReady:"",statusPublished:"",statusPlannedShort:"",statusInProgressShort:"",statusPublishedShort:"",planList:"",editPlan:"",editPlanDesc:"",newPlanDesc:"",fieldTitle:"",fieldTitlePlaceholder:"",fieldDescription:"",fieldDescriptionPlaceholder:"...",fieldPlatform:"",fieldPlatformPlaceholder:"",fieldContentType:"",fieldContentTypePlaceholder:"",fieldScheduledDate:"",fieldScheduledTime:"",fieldAssignedTo:"",fieldAssignedToPlaceholder:"",fieldContentUrl:"",fieldContentUrlPlaceholder:"",fieldNotes:"",fieldNotesPlaceholder:"...",cancel:"",save:"",create:"",deleteConfirmTitle:"",deleteConfirmDesc:" {{title}} ",delete:"",edit:"",sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},adPlacementPage:{title:"",subtitle:"",newPlan:"",totalPlans:"",pendingApproval:"",activePlans:"",totalBudget:"",searchPlaceholder:"...",tabAll:"",tabDraft:"",tabPending:"",tabApproved:"",tabActive:"",tabCompleted:"",noPlans:"",planName:"",platform:"",totalBudgetLabel:"",dailyBudgetLabel:"",startDate:"",endDate:"",kpiTargets:"KPI",approvalNotes:"",submitForApproval:"",approve:"",reject:"",planCreated:"",createFailed:"",planUpdated:"",updateFailed:"",planDeleted:"",deleteFailed:"",submittedForApproval:"",submitFailed:"",planApproved:"",approveFailed:"",planRejected:"",rejectFailed:"",nameRequired:"",statusDraft:"",statusPending:"",statusApproved:"",statusActive:"",statusCompleted:"",platformXiaohongshu:"",budget:"",dailyBudget:"",editPlan:"",createPlan:"",editPlanDescription:"",createPlanDescription:"",planNamePlaceholder:"",description:"",descriptionPlaceholder:"...",selectPlatform:"",kpiTargetsPlaceholder:"KPIJSON",notes:"",notesPlaceholder:"...",cancel:"",save:"",create:"",confirmDelete:"",confirmDeleteDescription:"",delete:"",tabDraftShort:"",tabPendingShort:"",tabApprovedShort:"",tabActiveShort:"",tabCompletedShort:"",submitShort:""},performanceReportsPage:{title:"",subtitle:"KPI",dateRange:"",last7Days:"7",last30Days:"30",last90Days:"90",customRange:"",platformFilter:"",allPlatforms:"",totalSpend:"",totalImpressions:"",totalClicks:"",totalConversions:"",avgCTR:"",avgROAS:"ROAS",dailyTrend:"",platformComparison:"",budgetAllocation:"",topCampaigns:"",noData:"",platform:"",all:"",sampleDataNotice:"",impressions:"",clicks:"",conversions:"",spend:"",avgCtr:"",avgRoas:"ROAS",campaign:"",roas:"ROAS",noCampaigns:""},whatsappConfigPage:{title:"WhatsApp",subtitle:"WhatsApp Business API",apiConfig:"API",businessProfile:"",messageTemplates:"",adminPush:"",phoneId:"ID",businessAccountId:"ID",accessToken:"",webhookToken:"Webhook",webhookUrl:"Webhook URL",businessName:"",businessDesc:"",businessAddr:"",businessEmail:"",businessWebsite:"",adminPhones:"",adminPhonesDesc:"WhatsApp",notificationEnabled:"",autoReply:"",autoReplyMessage:"",workingHours:"",saveConfig:"",configSaved:"",configSaveFailed:"",newTemplate:"",templateName:"",templateLanguage:"",templateCategory:"",templateBody:"",templateFooter:"",templateVariables:"",noTemplates:"",pushToAdmin:"",pushMessage:"",pushTarget:"",pushAllAdmins:"",pushSelectAdmin:"",pushType:"",pushTypeOrder:"",pushTypeCustomer:"",pushTypeSystem:"",pushTypeMarketing:"",pushContent:"",pushSend:"",pushSuccess:"",pushFailed:"",pushHistory:"",businessPhoneId:"ID",whatsappBusinessAccountId:"WhatsAppID",businessInfo:"",businessDescription:"",businessAddress:"",adminPhoneNumbers:"",adminPhoneHint:"",autoReplyEnabled:"",autoReplyPlaceholder:"...",workingHoursStart:"",workingHoursEnd:"",templateUpdated:"",templateCreated:"",templateSaveFailed:"",templateDeleted:"",templateDeleteFailed:"",pushSent:"",sendPush:"",pushContentPlaceholder:"...",sendButton:"",noPushHistory:"",pushTargetAll:"",edit:"",delete:"",editTemplate:"",editTemplateDesc:"",newTemplateDesc:"WhatsApp",templateNamePlaceholder:"",templateBodyPlaceholder:" {{1}} ",templateFooterPlaceholder:"",templateVariablesHint:"",cancel:"",updateTemplate:"",createTemplate:"",variables:"",webhookVerifyToken:"Webhook"},whatsappOrdersPage:{title:"WhatsApp",subtitle:"WhatsApp",totalOrders:"",pendingOrders:"",paidOrders:"",totalRevenue:"",searchPlaceholder:"...",tabAll:"",tabPending:"",tabConfirmed:"",tabProcessing:"",tabShipped:"",tabDelivered:"",noOrders:"WhatsApp",customerPhone:"",customerName:"",orderAmount:"",paymentStatus:"",linkToOrder:"",viewConversation:"",sendNotification:"",notifyAdmin:"",orderCreated:"",createFailed:"",orderUpdated:"",updateFailed:"",orderDeleted:"",deleteFailed:"",notificationSent:"",invalidJson:"JSON",requiredFields:"",confirmDelete:"",paymentPaid:"",paymentRefunded:"",paymentUnpaid:"",statusConfirmed:"",statusProcessing:"",statusShipped:"",statusDelivered:"",statusPending:"",tabPendingShort:"",tabConfirmedShort:"",tabProcessingShort:"",tabShippedShort:"",tabDeliveredShort:"",orderList:"",viewDetails:"",edit:"",newOrder:"",editOrder:"",createOrder:"",editOrderDesc:"WhatsApp",createOrderDesc:"WhatsApp",customerNamePlaceholder:"",orderData:"",orderDataPlaceholder:'JSON: [{"name": "", "quantity": 1}]',totalAmount:"",orderStatus:"",notes:"",notesPlaceholder:"...",cancel:"",save:"",create:"",orderDetails:"",createdAt:"",updatedAt:"",conversationId:"ID",linkedOrderId:"ID",close:"",notifyAdminTitle:"",notificationMessage:"",notificationPlaceholder:"...",send:""},whatsappMembersPage:{title:"WhatsApp",subtitle:"WhatsApp",totalRegistrations:"",completedReg:"",pendingReg:"",conversionRate:"",searchPlaceholder:"...",tabAll:"",tabPending:"",tabCompleted:"",tabFailed:"",noRegistrations:"",phone:"",name:"",email:"",source:"",registeredAt:"",linkToMember:"",createSuccess:"",createError:"",deleteSuccess:"",deleteError:"",phoneRequired:"",statusPending:"",statusCompleted:"",statusFailed:"",sourceManual:"",sourceReferral:"",completedCount:"",pendingCount:"",registrationList:"",viewDetail:"",registrationDetail:"",registrationDetailDesc:"",createdAt:"",conversationId:"ID",memberLinked:"",viewMemberProfile:"",metadata:"",close:"",addRegistration:"",addRegistrationDesc:"WhatsApp",phonePlaceholder:"  +60123456789",namePlaceholder:"",emailPlaceholder:"",cancel:"",confirm:""},aiCustomerServicePage:{title:"AI",subtitle:"AI",botConfig:"",conversations:"",totalConversations:"",activeConversations:"",escalatedConversations:"",avgSatisfaction:"",botName:"",botDescription:"",systemPrompt:"",knowledgeBase:"",greetingMessage:"",fallbackMessage:"",model:"AI",temperature:"",maxTokens:"Token",enabled:"",disabled:"",configure:"",viewHistory:"",noConversations:"",messageCount:"",tokensUsed:"Token",satisfaction:"",escalated:"",testBot:"",toggleSuccess:"",toggleError:"",updateSuccess:"",updateError:"",invalidJson:"JSON",statusActive:"",statusCompleted:"",statusEscalated:"",statusFailed:"",configureBot:"",configureBotDesc:"",fieldName:"",fieldDescription:"",fieldSystemPrompt:"",fieldKnowledgeBase:"",fieldGreetingMessage:"",fieldFallbackMessage:"",fieldModel:"AI",fieldTemperature:"",fieldMaxTokens:"Token",fieldResponseLanguage:"",cancel:"",save:"",conversationDetail:"",conversationList:"",searchPlaceholder:"...",messages:"",noMessages:"",confidence:"",close:"",statTotal:"",statActive:"",statEscalated:"",statAvgSatisfaction:""},systemHealthPage:{title:"",subtitle:"API",testAll:"",totalConfigs:"",connected:"",failed:"",untested:""}},yne={title:"",subtitle:"",founderStory:"",brandValues:"",milestones:{2020:"",2022:"",2024:"",2025:" LOVEYOUNG ",2026:'""RWA',2027:"",2028:"",2030:""},community:"",mission:"",vision:"",values:{love:{title:"",description:""},natural:{title:"",description:""},quality:{title:"",description:""},global:{title:"",description:""}},quality:"",qualityDesc:"",fresh:"",freshDesc:"",care:"",careDesc:"",whatsappMessage:" LOVEYOUNG ",hero:{title:"",titleSub:"",description:"LOVEYOUNG "},foundersSection:{badge:"",title:"  ",subtitle:"",summaryTitle:"  ",summaryText:""},founders:{vivian:{subtitle:"",motto:"",story:"Vivian",insight:"",belief:"",focus:""},agnes:{subtitle:"",motto:"",story:"Agnes",insight:"",belief:"",focus:""},andrey:{subtitle:"",motto:"",story:"AndreyKOL",insight:"",belief:"",focus:""}},origin:{title:"",p1:"2020",p2:"",p3:"",p4:" LOVEYOUNG "},production:{title:"",p1:"",p2:" LoveYoung  ",p3:"",stat1:"",stat2:""},valuesSection:{subtitle:"LOVEYOUNG "},lifestyle:{title:"",subtitle:"LOVEYOUNG ",wellness:{title:"",description:""},community:{title:"",description:""},events:{title:"",description:""}},philosophy:{title:"  ",p1:'""',p2:"LOVEYOUNG ",stat1:"",stat2:"",stat3:""},milestonesSection:{title:"",subtitle:"",futurePlan:"",inProgress:""},partnerStories:{title:"",p1:"LOVEYOUNGLOVEYOUNG",p2:"",becomePartner:"",learnMore:"",alt1:" - Lisa",alt2:" - Sarah",alt3:" - Emma"},futureVision:{title:"",p1:"LOVEYOUNG ",p2:"RWA",goal1:"2027 ",goal2:"2028 ",goal3:"2030 "},communityWellness:{title:"  ",subtitle:"LOVEYOUNG ",impact:{title:"",description:"LOVEYOUNG"},wellnessLife:{title:"",description:"LOVEYOUNG"},brandEvents:{title:"",description:""}},cta:{title:"",description:" LOVEYOUNG ",viewProducts:"",whatsapp:"WhatsApp "}},vne={heroTagline:"Against The Wind",heroTitle:"",heroTitleSub:"",heroDesc:" Young Love ()  Love Young ()",heroDescSub:"",heroOrderBtn:"",cnyGiftBox:" ",heroPartnerBtn:"",whatsappMessage:"LOVEYOUNG",brandTitle:"",brandTitleSub:"",brandQuote:"",brandP1:"Love Young ",brandP2:"Young LoveLove Young",brandP3:" RM488 ",brandSelfHealing:"",brandAwakening:"",brandQuality:"",brandCommunity:"",productsTitle:"",productsSubtitle:"612",product1Name:"",product1Desc:"6",product2Name:"",product2Desc:"6",product3Name:"",product3Desc:"6",viewAllProducts:"",viewAllBundles:"",noProducts:"",orderNow:"",rwaTitle:"RWA ",rwaSubtitle:"",rwaDesc:"",rwaFeature1:"",rwaFeature1Desc:"",rwaFeature2:"",rwaFeature2Desc:"",rwaFeature3:"",rwaFeature3Desc:"",rwaFeature4:"",rwaFeature4Desc:" +  + ",rwaLearnMore:"",rwaJoinNow:"",ctaTitle:"",ctaTitleSub:"",ctaDesc:"Love Young ",ctaOrderBtn:"WhatsApp ",ctaShopBtn:" Meta ",productCard1Name:"",productCard1Desc:"6",productCard2Name:"",productCard2Desc:"120",productCard2PriceFrom:"",productCard3Name:"",productCard3Desc:"//",bookNow:"",viewFlavors:"",comingSoon:"",partnerSectionTitle:"RWA ",partnerSectionSubtitle:"",phase1Title:"Phase 1: RM 1,000",phase1Desc:" 2,000 LY ",phase1Feature1:"50% 5",phase1Feature2:"30% ",phase1Feature3:"",phase2Title:"Phase 2: RM 1,300",phase2Desc:"",phase2Feature1:"1.2x ",phase2Feature2:"VIP",phase2Feature3:"",phase3Title:"Phase 3: RM 1,500",phase3Desc:"",phase3Feature1:"",phase3Feature2:"",phase3Feature3:"",joinNow:"",limitedApply:"",learnMore:"",hotSelling:"",only50Slots:"50",waitingToOpen:"",revenueLogicTitle:"",revenueLogicDesc:"Love Young  LY (Energy) ",salesCashback:" (Cashback)",globalPool:" (Pool)",salesPercentage:" 30%",dividendCycle:"",every10Days:" 10 ",lyNetworkTitle:"10",tier1Direct:"1",tier2:"2",tier3to5:"3-5",tier6to10:"6-10",totalReferral:"LY",lyNetworkNote:"* LY ",dashboardTitle:"",dashboardDesc:"RWA  10 ",dashboardCta:"",dashboardBrandName:"Love Young Dashboard",dashboardSubtitle:"",lyEnergy:"LY ",phase1Bonus:"Phase 1 ",thisWeek:"",totalEarnings:"",startEarning:"",perCycle:"",thisMonth:"",teamMembers:"",networkLevels:"10",tenLevelNetwork:"10",currentPoolCycle:"",daysRemaining:" {days} ",accumulated:"",estimatedDividend:"",ctaSectionTitle:"",ctaSectionDesc:"Love Young "},bne={whatsappMessage:" LOVEYOUNG ",orderMessage:" {productName}",hero:{title:"  ",description:"",shopNow:"",whatsappConsult:"WhatsApp "},categories:{all:"",birdNest:"",fishMaw:"",giftBox:""},badges:{hot:"",new:"",save:""},units:{box:"",set:""},items:{bnClassic:{name:"",subtitle:"6",feature1:"",feature2:"",feature3:""},bnPremium:{name:"",subtitle:"6",feature1:"",feature2:"",feature3:""},fmCollagen:{name:"",subtitle:"6",feature1:"",feature2:"",feature3:""},fmMilk:{name:"",subtitle:"6",feature1:"",feature2:"",feature3:""},giftLuxury:{name:"",subtitle:"+",feature1:"3",feature2:"3",feature3:""},giftWellness:{name:"",subtitle:"",feature1:"41",feature2:"",feature3:""}},benefits:{natural:{title:"100% ",description:""},quality:{title:"",description:""},coldChain:{title:"",description:""},packaging:{title:"",description:""}},quality:{title:"  ",description:"",imageAlt:"",traceability:{title:"",description:""},craftsmanship:{title:"",description:""},inspection:{title:"",description:""}},cta:{title:"",description:"LOVEYOUNG ",goToShop:"",consultWellness:""}},wne={successTitle:"",successDesc:"",processing:"...",viewOrder:"",continueShopping:"",backToHome:""},jne={auth:Zte,common:ene,nav:tne,header:nne,hero:rne,stats:ane,products:sne,innovation:ine,order:one,testimonials:lne,cta:cne,footer:dne,flavors:une,packages:mne,target:hne,states:fne,member:pne,partner:gne,admin:xne,brand:yne,landing:vne,productsPage:bne,checkout:wne},Nne={login:"Login",signup:"Sign Up",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",firstName:"First Name",lastName:"Last Name",welcomeBack:"Login / Sign Up",or:"or",continueWithGoogle:"Continue with Google",loginSuccess:"Login successful",loginFailed:"Login failed",signupSuccess:"Sign up successful",signupFailed:"Sign up failed",checkEmail:"Please check your email to verify your account",passwordMismatch:"Passwords do not match",forgotPassword:"Forgot password?",resetPassword:"Reset Password",noAccount:"Don't have an account?",hasAccount:"Already have an account?",sendOTP:"Send Verification Code",enterOTP:"Enter Verification Code",verifyOTP:"Verify",otpSent:"Verification code sent",otpResent:"Verification code resent",checkEmailForOTP:"Check your email for a 6-digit code",otpSentTo:"Verification code sent to",sendOTPFailed:"Failed to send verification code",verifyOTPFailed:"Verification failed",resendOTP:"Resend Code",changeEmail:"Change Email",completeProfile:"Complete Your Profile",newUserWelcome:"Welcome to LOVEYOUNG! Please fill in your information",phone:"Phone Number",fillRequired:"Please fill in required fields",profileSaved:"Profile saved successfully",profileSaveFailed:"Failed to save profile",saveAndContinue:"Save and Continue"},kne={loading:"Loading...",error:"Error occurred",retry:"Retry",save:"Save",cancel:"Cancel",confirm:"Confirm",delete:"Delete",edit:"Edit",add:"Add",search:"Search",filter:"Filter",all:"All",back:"Back",next:"Next",submit:"Submit",close:"Close",view:"View",details:"Details",status:"Status",actions:"Actions",total:"Total",date:"Date",time:"Time",name:"Name",phone:"Phone",email:"Email",address:"Address",price:"Price",quantity:"Quantity",amount:"Amount",none:"None",yes:"Yes",no:"No",viewDetails:"View Details",whatsappConsult:"WhatsApp Inquiry"},Pne={products:"Products",benefits:"Benefits",howToOrder:"How to Order",testimonials:"Reviews",partner:"Be a Partner",brand:"Brand Story",member:"Member Center",memberCenter:"Member Center",home:"Home",admin:"Admin Panel"},Sne={whatsapp:"WhatsApp",shop:"Shop Now",login:"Login",account:"My Account",logout:"Logout"},_ne={fresh:"Fresh",noCompromise:"No Compromise",subtitle:"LOVEYOUNG Bird's Nest & Fish Maw  Daily Fresh",description:"No preservatives, no overnight products. We insist on same-day cooking and cold chain delivery for the freshest nourishing experience.",orderNow:"Order Now",exploreFlavors:"Explore Flavors",repeatCustomers:"Repeat Customers",nextBatch:"Next Fresh Batch",giftBox:"Bird's Nest Gift Box",giftBoxDesc:"6 Jars  120g each",original:"Original",redDate:"Red Date",fishMaw:"Fish Maw",giftPrice:"Gift Box Price",perBox:"/box",whatsappOrder:"WhatsApp Order",bestseller:"Best Seller"},Cne={customers:"Happy Customers",flavors:"Flavor Choices",freshCycle:"Fresh Cycle",rating:"Satisfaction",whyTrust:"Why Choose Us",customersLabel:"Loyal Customers",customersSub:"Trust through quality",flavorsLabel:"Curated Flavors",flavorsSub:"Something for everyone",freshLabel:"Express Fresh",freshSub:"Cook to delivery",ratingLabel:"Rave Reviews",ratingSub:"Real customer feedback"},Ane={discovery:"Flavor Discovery",explore:"Explore",flavors:"8 Flavors",viewAll:"View All",birdNest:"Bird's Nest Series",fishMaw:"Fish Maw Series",giftBox:"Gift Box Series",allProducts:"All Products",orderNow:"Order Now",addToCart:"Add to Cart",outOfStock:"Out of Stock"},Tne={whyDifferent:"Why Different",title:"Innovation",subtitle:"Beyond Limits",description:"We redefine fresh-stewed bird's nest with technology and craftsmanship",science:"Scientific Formula",scienceSub:"Lab-Tested",scienceDesc:"Precisely calculated portions for optimal nutritional balance",scienceStat:"Nutrition Retained",coldChain:"Cold Chain Fresh",coldChainSub:"Cold Chain",coldChainDesc:"Full 4C cold chain from cooking to delivery",coldChainStat:"Constant Temp",freshDaily:"Daily Fresh",freshDailySub:"Fresh Daily",freshDailyDesc:"Made fresh daily, never overnight",freshDailyStat:"Cooking Cycle",fullPortion:"Full Portion",fullPortionSub:"Full Portion",fullPortionDesc:"No shortcuts, every jar is packed with real ingredients",fullPortionStat:"Net Content"},One={title:"Three Steps,",subtitle:"Fresh to Your Door",step1:"WhatsApp Inquiry",step1Desc:"One-click contact, dedicated consultant online",step2:"Choose Flavors",step2Desc:"8 classic flavors to choose from",step3:"Cold Chain Delivery",step3Desc:"Professional cold chain, fresh to your door",whatsappOrder:"WhatsApp Order",metaShop:"Meta Shop",selectPackage:"Select Package",selectPackageDesc:"Choose your preferred package",selectFlavors:"Select Flavors",selectFlavorsDesc:"Choose your favorite flavor combinations",confirmOrder:"Confirm Order",confirmOrderDesc:"Please confirm your order details",remaining:"Remaining",birdNestFlavors:"Bird's Nest Flavors",fishMawFlavors:"Fish Maw Flavors",orderSummary:"Order Summary",packageLabel:"Package",priceLabel:"Price",flavorSelection:"Flavor Selection",selectOrderMethod:"Select order method",back:"Back",next:"Next",moreNeeded:"more needed",jarsUnit:" jars",greeting:"Hello, I would like to order LOVEYOUNG Bird's Nest:",confirmRequest:"Please confirm my order, thank you!",startOrder:"Start Order",deliveryInfo:"Delivery Info",deliveryInfoDesc:"Please fill in your delivery address and contact details",customerName:"Name",phone:"Phone Number",address:"Address",city:"City",state:"State",postcode:"Postcode",deliveryDate:"Preferred Delivery Date (Optional)",submitOrder:"Submit Order",orderSuccess:"Order Submitted!",yourOrderNumber:"Your Order Number",trackOrder:"Track Order",orderSubmitting:"Submitting...",orderConfirmed:"Order Confirmed",orderConfirmedDesc:"We have received your order and will contact you shortly.",continueOrdering:"Continue Ordering",viewOrder:"View Order",selectState:"Select State",required:"Required",optional:"Optional",loginForSavedAddress:"Login to use saved addresses",loginBenefit:"Members can quickly fill addresses and earn points",loginOrRegister:"Login / Register",continueAsGuest:"Continue as guest",selectSavedAddress:"Select saved address",useNewAddress:"Use new address",backToSavedAddresses:"Back to saved addresses",saveAddressToProfile:"Save address to my account",payment:"Payment",paymentDesc:"Complete your payment to confirm the order",proceedToPayment:"Proceed to Payment",totalAmount:"Total Amount",payOnline:"Pay Online (Stripe)",processing:"Processing...",paymentMethods:"Supports Credit Card, FPX, GrabPay",needHelp:"Need help?",referralCode:"Referral Code (Optional)",referralCodeValid:"Valid referral code",referralCodeInvalid:"Enter a valid referral code",memberDiscount:"Member discount applied"},Ene={realReviews:"Real Reviews",title:"Customer",subtitle:"Reviews",rating:"Rating",repeatCustomer:"Repeat Buyer"},Rne={title:"Start Your",subtitle:"Fresh Journey",description:"Order now for exclusive new customer offers. Limited daily supply, first come first served!",whatsappOrder:"WhatsApp Order Now",metaShop:"Visit Meta Shop",hours:"Hours: 9:00AM-9:00PM",reply:"Reply within 24h"},Mne={tagline:"Fresh, No Compromise",description:"Sailing Against The Wind, Redefining Women's Power. From Young Love to Love Young, we believe in loving yourself first to better love the world.",brandName:"Love Young",quickLinks:"Quick Links",contactUs:"Contact Us",businessHours:"Business Hours",hoursValue:"Mon-Sun 9:00AM-9:00PM",clickToChat:"Click to Chat",responseTime:"Response within 24 hours",allRightsReserved:"All Rights Reserved",slogan:"Against The Wind | Sailing Forward",products:"Products",birdNest:"Bird's Nest Series",fishMaw:"Fish Maw Series",dessert:"Dessert Sets",service:"Support",faq:"FAQ",shipping:"Shipping Info",contact:"Contact Us",followUs:"Follow Us",copyright:"All Rights Reserved"},Dne={original:"Original",redDate:"Red Date Goji",snowPear:"Rock Sugar Pear",peachGum:"Peach Gum",coconut:"Coconut",mango:"Mango",fishMawOriginal:"Fish Maw Original",fishMawRedDate:"Fish Maw Red Date",modalTitle:"Flavor Guide",recommended:"Recommended Pairings",targetAudience:"Suitable For",originalDesc:"Pure bird's nest essence, gentle nourishment for daily care",redDateDesc:"Red date goji formula, blood nourishing, women's favorite",snowPearDesc:"Rock sugar pear stewed, soothing & cooling, great for all ages",peachGumDesc:"Peach gum & snow fungus blend, collagen rich, beauty food",coconutDesc:"Sweet coconut milk pairing, silky smooth, refreshing",mangoDesc:"Fresh mango chunks, tropical flavor, appetizing delight",fishMawOriginalDesc:"Generous fish maw, collagen rich, beauty nourishment",fishMawRedDateDesc:"Fish maw with red date, double nourishment, warming care"},Ine={title:"Choose Your",subtitle:"Package",oneBox:"One Box Package",oneBoxDesc:"7 Jars  One Week Supply",oneBoxInfo:"Refrigerated up to 14 days",oneBoxPrice:"RM158",twoBox:"Two Box Package",twoBoxDesc:"14 Jars  Two Week Supply",twoBoxInfo:"Better Value  Refrigerated up to 14 days",twoBoxPrice:"RM298",twoBoxSave:"Save RM18",chooseFlavor:"Choose Flavors",preOrder:"Pre-order Fresh",popular:"Popular",bestValue:"Best Value",perJar:"/jar"},Lne={pregnant:"Pregnancy",pregnantDesc:"Prenatal nourishment, fetal development",pregnantFlavors:"Original, Red Date Goji, Fish Maw Original",children:"Children",childrenDesc:"Strengthen constitution, promote growth",childrenFlavors:"Mango, Coconut, Rock Sugar Pear",beauty:"Beauty Lovers",beautyDesc:"Beauty care, light meal replacement",beautyFlavors:"Peach Gum, Fish Maw Original, Original",health:"Health Care",healthDesc:"Daily wellness, boost immunity",healthFlavors:"Red Date Goji, Rock Sugar Pear, Fish Maw Red Date"},$ne={johor:"Johor",kedah:"Kedah",kelantan:"Kelantan",melaka:"Melaka",negeriSembilan:"Negeri Sembilan",pahang:"Pahang",penang:"Penang",perak:"Perak",perlis:"Perlis",sabah:"Sabah",sarawak:"Sarawak",selangor:"Selangor",terengganu:"Terengganu",kualaLumpur:"Kuala Lumpur",labuan:"Labuan",putrajaya:"Putrajaya"},Fne={logout:"Logout",center:{loading:"Loading...",loginTitle:"Please Login",loginDesc:"Login to access Member Center",loginButton:"Login / Register",logout:"Logout",user:"User",defaultUser:"User",version:"LOVE YOUNG v1.0",backToCenter:"Back to Member Center",memberBadge:"Member",sections:{account:{title:"Account"},member:{title:"Member Services"},partner:{title:"Partner Center",dashboard:"Overview"},adminCore:{title:"Admin Panel"},erp:{title:"ERP System"}},sectionDesc:{account:"Manage your account settings and preferences",member:"View orders, manage addresses and points",partner:"Business data, team management and withdrawals",adminCore:"Platform core management features",erp:"Supply chain and financial management"},menuItems:{personalCenter:"Personal Center",personalCenterDesc:"View account overview",accountSettings:"Account Settings",accountSettingsDesc:"Edit personal information",notifications:"Notifications",notificationsDesc:"System messages and reminders",helpCenter:"Help Center",helpCenterDesc:"Frequently asked questions",orderHistory:"Order History",orderHistoryDesc:"View past orders",addresses:"Addresses",addressesDesc:"Manage shipping addresses",pointsCenter:"Points Center",pointsCenterDesc:"View points balance and redeem",paymentMethods:"Payment Methods",paymentMethodsDesc:"Manage payment methods",overview:"Overview",overviewDesc:"View business data and performance",referralNetwork:"Referral Network",referralNetworkDesc:"My team and downline members",promoMaterials:"Promo Materials",promoMaterialsDesc:"Get sharing materials",lyPoints:"LY Points",lyPointsDesc:"Points details and usage history",cashWallet:"Cash Wallet",cashWalletDesc:"View earnings and withdrawal",rwaPool:"RWA Bonus Pool",rwaPoolDesc:"View dividend cycles and tokens",earningsHistory:"Earnings History",earningsHistoryDesc:"Cashback and dividend history",dashboard:"Dashboard",dashboardDesc:"Real-time business analytics",partnerManagement:"Partner Management",partnerManagementDesc:"Review and manage partners",orderManagement:"Order Management",orderManagementDesc:"Process and track orders",productManagement:"Product Management",productManagementDesc:"Manage product catalog",memberManagement:"Member Management",memberManagementDesc:"View and manage all members",bonusPool:"Bonus Pool",bonusPoolDesc:"RWA dividend cycle settings",inventory:"Inventory",inventoryDesc:"Stock query and adjustment",purchase:"Purchase",purchaseDesc:"Purchase orders and suppliers",logistics:"Logistics",logisticsDesc:"Cold chain logistics and delivery",bills:"Bills",billsDesc:"Expenses and bill records",finance:"Finance",financeDesc:"Revenue and expense reports"},quickStats:{lyPoints:"LY Points",cashBalance:"Cash Balance",rwaTokens:"RWA Tokens",totalSales:"Total Sales",activePartners:"Active Partners",monthlyOrders:"Monthly Orders",monthlySales:"Monthly Sales",bonusPoolBalance:"Pool Balance"},userStates:{user:"User",member:"Member",partner:"Partner",admin:"Admin"},badges:{pendingActivation:"Pending"},upgradePrompt:"Please make your first purchase to become a member and unlock this feature",goShopping:"Go Shopping"},orders:{title:"Order History",subtitle:"View your past orders",tabAll:"All",tabPending:"Pending",tabShipped:"Shipped",tabDelivered:"Completed",tabCancelled:"Cancelled",noOrders:"No orders",goShop:"Go Shopping",viewDetails:"View Details",totalItems:"{count} items total",total:"Total",statusPending:"Pending",statusPaid:"Paid",statusProcessing:"Processing",statusShipped:"Shipped",statusDelivered:"Completed",statusCancelled:"Cancelled",statusUnknown:"Unknown",orderInfo:"Order Info",orderNumber:"Order Number",orderDate:"Order Date",shippingAddress:"Shipping Address",trackingInfo:"Tracking Info",contactAboutOrder:"Contact About Order",paymentStatus:"Payment Status",statusConfirmed:"Confirmed",statusPendingPayment:"Pending Payment",timelineOrdered:"Ordered",timelinePreparing:"Preparing",timelineShipping:"Shipping",timelineCompleted:"Completed"},points:{title:"Points Center",subtitle:"View points balance and redeem",currentPoints:"Current Points",earnedThisMonth:"Earned This Month",expiringSoon:"Expiring Soon",tierProgress:"Membership Tier Progress",tierProgressDesc:"{points} points needed for {nextTier}",points:"points",redeem:"Redeem Points",redeemRate:"100 points = RM1",redeemNow:"Redeem Now",earnPoints:"Earn Points",earnRate:"Earn 1 point per RM1 spent",goShop:"Go Shopping",history:"Points History",tabAll:"All",tabEarn:"Earned",tabSpend:"Spent",balance:"Balance",rulesTitle:"Points Rules",rule1:"Earn 1 point for every RM1 spent",rule2:"100 points can be redeemed for RM1",rule3:"Points are valid for 12 months after earning",rule4:"Points are non-transferable"},settings:{title:"Account Settings",subtitle:"Manage your personal info and preferences",personalInfo:"Personal Information",personalInfoDesc:"Update your profile and contact details",changeAvatar:"Change Avatar",name:"Name",phone:"Phone Number",email:"Email",emailNote:"Email linked to Replit account, cannot be changed",security:"Security Settings",securityDesc:"Protect your account",loginMethod:"Login Method",loginMethodDesc:"Login via Replit account",manage:"Manage",notifications:"Notification Preferences",notificationsDesc:"Manage your notification settings",orderNotify:"Order Updates",orderNotifyDesc:"Receive notifications when order status changes",promoNotify:"Promotions",promoNotifyDesc:"Receive offers and promotions",earningNotify:"Earnings Alerts",earningNotifyDesc:"Receive notifications when dividends arrive",display:"Display Preferences",darkMode:"Dark Mode",darkModeDesc:"Follow system settings",saveChanges:"Save Changes"},help:{title:"Help Center",subtitle:"FAQ and customer support",searchPlaceholder:"Search questions...",faq:"Frequently Asked Questions",noResults:"No matching questions found",contactUs:"Contact Us",whatsapp:"WhatsApp",onlineConsult:"Online Consultation",phoneSupport:"Phone Support",emailSupport:"Email Support",serviceHours:"Service hours: Monday-Saturday 9:00-18:00 (excluding public holidays)",categories:{order:"Orders",shipping:"Shipping",payment:"Payment",refund:"Returns",points:"Points",partner:"Partner"},faqItems:{order1:{q:"How do I place an order?",a:'Select products on the product page and click "Buy Now" to contact our WhatsApp customer service to complete your order.'},order2:{q:"How can I check my order status?",a:'Log in and go to the Member Center, where you can view all order statuses and shipping information in "My Orders".'},shipping1:{q:"What areas do you deliver to?",a:"We currently deliver throughout Malaysia, including East and West Malaysia. For Singapore and other international deliveries, please contact customer service."},shipping2:{q:"How long does delivery take?",a:"West Malaysia typically takes 3-5 business days, East Malaysia 5-7 business days. Delays may occur during holidays."},payment1:{q:"What payment methods are supported?",a:"We support FPX online banking, Touch n Go e-wallet, credit/debit cards, and other payment methods."},payment2:{q:"Is payment secure?",a:"Yes, all payments are processed through encrypted channels, and your payment information is strictly protected."},refund1:{q:"Can I return or exchange items?",a:"Due to the nature of food products, returns are not generally accepted. For quality issues, please contact customer service within 24 hours of receiving your order."},refund2:{q:"How long does a refund take?",a:"After verification, refunds will be returned to your payment account within 3-7 business days."},points1:{q:"How do I earn points?",a:"Earn points by purchasing products, referring new users, and participating in promotional activities."},points2:{q:"What can I use points for?",a:"Points can be used to redeem coupons, offset order amounts, or exchange for exclusive gifts."},partner1:{q:"How do I become a partner?",a:'Click the "Join Now" button on the Partner page, select a package, and complete the payment to apply.'},partner2:{q:"What benefits do partners get?",a:"Partners enjoy LY point rewards, RWA token dividends, referral commissions, and 10-level network earnings."}}},notifications:{title:"Notifications",unreadCount:"You have {count} unread messages",noUnread:"No unread messages",markAllRead:"Mark all read",tabs:{all:"All",unread:"Unread",order:"Orders",earning:"Earnings",promo:"Promos"},noMessages:"No messages",new:"New"},addresses:{title:"Address Management",subtitle:"Manage your shipping addresses",addAddress:"Add Address",addAddressTitle:"Add Shipping Address",noAddresses:"You haven't added any addresses",addFirst:"Add your first address",defaultBadge:"Default",setDefault:"Set as default",edit:"Edit",delete:"Delete",cancel:"Cancel",save:"Save Address",form:{name:"Recipient Name",namePlaceholder:"Enter name",phone:"Phone Number",address:"Address Details",addressPlaceholder:"Street, unit number, floor, etc.",city:"City",postcode:"Postcode",state:"State"}},payment:{title:"Payment Methods",subtitle:"Manage your payment methods",securityTitle:"Payment Security",securityDesc:"All payment information is encrypted to ensure your funds are safe. We support multiple Malaysian local payment methods.",boundMethods:"Linked Payment Methods",methodCount:"You have {count} payment methods added",add:"Add",addTitle:"Add Payment Method",bankAccount:"Bank Account",ewallet:"E-Wallet",bankName:"Bank Name",bankNamePlaceholder:"Select bank",accountNumber:"Account Number",accountNumberPlaceholder:"Enter account number",cancel:"Cancel",save:"Save",noMethods:"No payment methods added",default:"Default",setDefault:"Set as default",thirdParty:"Third-Party Payments",thirdPartyDesc:"Order and pay through social media shops",creditCardSupport:"Credit card supported",supportedMethods:"Supported Payment Methods",supportedList:{bank:"Bank Transfer (FPX) - Maybank, CIMB, Public Bank, etc.",ewallet:"E-Wallets - Touch n Go, GrabPay, Boost",card:"Credit/Debit Cards - via Meta Shop"}},partnerDashboard:{title:"Business Overview",subtitle:"View your business data and performance",currentTier:"Current Tier",partnerBadge:"Partner",tiers:{phase1:"Phase 1",phase2:"Phase 2",phase3:"Phase 3"},myReferralCode:"My Referral Code",lyPoints:"LY Points",lyBalance:"Available balance",cashWallet:"Cash Wallet",cashBalance:"Withdrawable balance",rwaToken:"RWA Token",rwaBalance:"Total tokens held",referralNetwork:"Referral Network",activeMembers:"{count} active members",monthlyEarnings:"Monthly Earnings",earningsDesc:"Cashback and RWA bonus income",totalEarnings:"Total Earnings",lastMonthEarnings:"Last Month",rwaCycle:"RWA Bonus Pool Cycle",cycleDesc:"Cycle {cycle} dividend progress",cycleProgress:"Cycle Progress",nextPayoutDate:"Next Payout Date",viewDetails:"View Details",quickActions:"Quick Actions",promoMaterials:"Promo Materials",inviteFriends:"Invite Friends",withdraw:"Withdraw",upgradePlan:"Upgrade Plan"},partnerJoin:{title:"Become a Partner",loginRequired:"Please login to apply as a partner",exclusiveBenefits:"Exclusive Partner Benefits",maxLyPoints:"Up to 3000 LY Points",rwaDividend:"RWA Token Dividends",tenLevelNetwork:"10-Level Referral Network",loginToJoin:"Login to Apply",learnMore:"Learn More",alreadyPartner:"You are already a Partner",accountActive:"Your partner account is active",pendingReview:"Your application is under review",activated:"Activated",pending:"Pending",goToDashboard:"Go to Partner Dashboard",applicationSuccess:"Application Submitted!",congratsMessage:"Congratulations on submitting your partner application",reviewProcess:"We will complete the review within 1-2 business days",ensurePayment:"Please ensure your payment is completed",backToMember:"Back to Member Center",backToHome:"Back to Home",joinPartner:"Join as Partner",stepProfile:"Step 1/3",step1:"Step 2/3",step2:"Step 3/3",completeProfile:"Complete Your Profile",profileDesc:"Please fill in your basic information before becoming a partner",namePlaceholder:"Enter your name",continueToPackage:"Continue to Package",selectPackage:"Select Package",selectPackageDesc:"Choose the package that suits your needs",mostPopular:"Most Popular",referralCodeLabel:"Referral Code",referralCodePlaceholder:"Enter referrer's code",nextStep:"Next",backToPackage:"Back to Packages",orderConfirm:"Order Confirmation",package:"Package",amountToPay:"Amount to Pay",selectPayment:"Select Payment Method",securityGuarantee:"Security Guarantee",encryptedTransaction:"SSL Encrypted Secure Transaction",activationTime:"Account activated within 24 hours",support24h:"24/7 Customer Support",paymentNote:"Please keep your payment receipt. Contact support if you have any questions.",confirmPay:"Confirm Payment",applicationSubmitted:"Application Submitted",applicationDesc:"We will process your application soon",applicationFailed:"Application Failed",packages:{phase1:{name:"Starter Package",feature1:"2000 LY Points",feature2:"2 RWA Tokens",feature3:"10-Level Network",feature4:"Basic Training Materials"},phase2:{name:"Growth Package",feature1:"2600 LY Points",feature2:"3 RWA Tokens",feature3:"10-Level Network",feature4:"Advanced Training Materials"},phase3:{name:"Elite Package",feature1:"3000 LY Points",feature2:"4 RWA Tokens",feature3:"10-Level Network",feature4:"Complete Training Materials",feature5:"Priority Support"}},paymentMethods:{fpx:"FPX Online Banking",tng:"Touch n Go",card:"Credit/Debit Card"}},earnings:{title:"Earnings History",subtitle:"View cashback and RWA dividend history",totalEarnings:"Total Earnings",vsLastMonth:"vs last month",thisMonth:"This Month",lastMonth:"Last Month",thisMonthEarnings:"This Month",lastMonthEarnings:"Last Month",cashback:"Cashback",rwaDividend:"RWA Dividend",referralReward:"Referral Reward",tabs:{all:"All",cashback:"Cashback",rwa:"RWA",referral:"Referral"},history:"Earnings History",historyDesc:"View all earnings source records",income:"Income",noRecords:"No earnings records yet",noRecordsForType:"No records for this type",filter:"Filter",export:"Export"},wallet:{title:"Cash Wallet",subtitle:"View earnings and apply for withdrawal",availableBalance:"Available Balance",pendingWithdraw:"Pending Withdrawal",applyWithdraw:"Withdraw",withdrawTitle:"Apply for Withdrawal",withdrawDesc:"Withdrawal will be processed within 1-3 business days",withdrawAmount:"Amount (RM)",withdrawPlaceholder:"Enter withdrawal amount",availableBalanceLabel:"Available Balance",selectBank:"Select Bank",selectBankPlaceholder:"Choose bank",cancel:"Cancel",confirmWithdraw:"Confirm Withdrawal",quickStats:"Quick Stats",totalIncome:"Total Income",totalWithdrawn:"Total Withdrawn",thisMonthIncome:"This Month",transactions:"Transactions",income:"Income",withdraw:"Withdrawal",status:{completed:"Completed",pending:"Processing",failed:"Failed"},transactionsDesc:"View all wallet transaction details",exportRecords:"Export Records",noTransactions:"No transactions yet",bankAccount:"Bank Account",bankAccountDesc:"Manage your bank account for withdrawals",noBankAccount:"No bank account linked",contactForBank:"Please contact support to add a bank account",addBankAccount:"+ Add Bank Account",bindBankFirst:"Please link a bank account first",contactToAdd:"Contact support to add",minWithdrawNote:"Minimum withdrawal RM 50.00, RM 1.00 processing fee per withdrawal",invalidAmount:"Invalid amount",minAmountMsg:"Minimum withdrawal is RM 50.00",insufficientBalance:"Insufficient balance",exceedsBalanceMsg:"Withdrawal exceeds available balance",withdrawSuccess:"Withdrawal request submitted",withdrawSuccessDesc:"Expected to process within 1-3 business days",withdrawFailed:"Withdrawal failed"},referrals:{title:"Referral Network",subtitle:"View your team members and downline network",totalReferrals:"Total Referrals",activeMembers:"Active Members",directReferrals:"Direct Referrals",totalLyEarned:"Total LY Earned",searchPlaceholder:"Search member name...",filterLevel:"Filter Level",allLevels:"All Levels",level:"Level {n}",teamMembers:"Team Members",memberCount:"{count} members",joinDate:"Join Date",lyEarned:"LY Earned",pendingActivation:"Pending",inviteFriends:"Invite Friends",shareCode:"Share Referral Code",noMembers:"No team members yet",noMatchingMembers:"No matching members",teamList:"Team Members",teamListDesc:"10-level referral network",allFilter:"All",teamTotalLy:"Team Total LY",joinTime:"Joined",lyBalanceLabel:"LY Balance",inviteTitle:"Invite More Friends",inviteDesc:"Earn LY points for every partner you refer",inviteNow:"Invite Now",tierPhase1:"Starter Package",tierPhase2:"Growth Package",tierPhase3:"Elite Package"},lyPoints:{title:"LY Points",subtitle:"View points history and usage",currentBalance:"Current LY Points Balance",redeemGift:"Redeem Gifts",usePoints:"Use Points",totalEarned:"Total Earned",totalSpent:"Total Spent",thisMonthEarned:"This Month",fromReferrals:"Referral Rewards",fromReplenishment:"Replenishment Rewards",tabs:{all:"All Records",earn:"Earned",spend:"Spent"},history:"Points History",balance:"Balance",networkRules:"Network Points Rules",networkRulesDesc:"LY points are earned through 10-level referral network",tier1:"Tier 1: 20%",tier2:"Tier 2: 15%",tier3to5:"Tiers 3-5: 10% each",tier6to10:"Tiers 6-10: 5% each",historyDesc:"View all LY points transaction records",noRecords:"No points records yet",rulesTitle:"LY Points Rules",ruleEarn1:"Earn LY points with package purchases",ruleEarn2:"Earn rewards for referring new partners",ruleEarn3:"Earn 10-level network points from team replenishment",ruleUse1:"Redeem for gifts or coupons",ruleUse2:"Offset order amounts",ruleNote:"Points expire 12 months after earning",filter:"Filter",export:"Export",earnBadge:"Earn",useBadge:"Use",noteBadge:"Note"},materials:{title:"Marketing Materials",subtitle:"Get sharing materials to boost your promotion",myQrCode:"My Referral QR Code",qrCodeDesc:"Scan to join your referral network directly",downloadQr:"Download QR",shareLink:"Share Link",tabs:{images:"Images",documents:"Documents",videos:"Videos"},download:"Download",copyLink:"Copy Link",copied:"Copied",size:"Size",fileType:"Type",fileSize:"Size",duration:"Duration",notMember:"Not a Member Yet",notMemberDesc:"Complete your first purchase to become a member and unlock promotional materials",goShopping:"Go Shopping",myReferralLink:"My Referral Link",referralCodeLabel:"Referral Code",copyReferralCode:"Copy Code",shareWhatsApp:"Share to WhatsApp",referralLinkLabel:"Referral Link",share:"Share",preview:"Preview",play:"Play",socialShare:"Quick Social Sharing",socialShareDesc:"Share to major social platforms with one click",copyFailed:"Copy failed",copiedToClipboard:"Copied to clipboard",productPoster:"Product Poster - Bird's Nest",brandStory:"Brand Story",recruitPoster:"Partner Recruitment Poster",holidayPromo:"Holiday Promo Materials",productManual:"Product Manual PDF",trainingMaterial:"Partner Training Guide",faqDocument:"FAQ Document",brandPpt:"Brand Presentation PPT",brandVideo:"Brand Video",productProcess:"Product Making Process",successStory:"Partner Success Story",shareText:"Love Young Premium Bird's Nest - Your Choice for Quality Living! Use my referral code {code} to register and enjoy exclusive member benefits!",itemShareText:"Check this out: {title}! Use my referral code {code} to register and get exclusive offers!"},rwa:{title:"RWA Bonus Pool",subtitle:"View dividend cycles and token holdings",myTokens:"My RWA Tokens",tokenUnit:"tokens",activeHolding:"Active Holding",totalDividends:"Total Dividends",currentEstimate:"Current Estimate",avgPerToken:"Avg per Token",currentCycle:"Current Cycle",cycle:"Cycle {n}",cycleProgress:"Cycle Progress",daysRemaining:"{days} days remaining",poolAmount:"Pool Amount",estimatedDividend:"Est. Dividend",nextPayout:"Payout on {date}",cycleHistory:"Cycle History",completed:"Completed",active:"Active",dividendReceived:"Dividend Paid",tokenHistory:"Token Acquisition History",tokenHistoryDesc:"RWA token source details",howItWorks:"RWA Bonus Pool Rules",rule1:"1. The RWA bonus pool runs on a 10-day dividend cycle, with 30% of sales going into the pool",rule2:"2. You can earn RWA tokens by purchasing packages, referring new partners, etc.",rule3:"3. At the end of each cycle, the pool is distributed proportionally to all token holders",rule4:"4. Tokens are held permanently and participate in every dividend cycle",startDate:"Start Date",endDate:"End Date",currentPool:"Current Pool",noCycle:"No active cycle",cycleHistoryDesc:"Dividend records from past cycles",tokensParticipated:"tokens participated",noCycles:"No dividend cycle records yet",noTokens:"No token records yet",sourcePackage:"Package Purchase",sourceNetworkOrder:"Network Order Reward",sourceMilestone:"Milestone Reward",sourceReferral:"Referral Reward"}},Bne={title:"Partner Program",subtitle:"RWA Digital Asset Co-creation Model",description:"Become a LOVEYOUNG partner, participate in brand building, enjoy multiple benefits",joinNow:"Join Now",learnMore:"Learn More",benefits:"Partner Benefits",howItWorks:"How It Works",tiers:"Partnership Tiers",faq:"FAQ",phase1:"Phase 1",phase2:"Phase 2",phase3:"Phase 3",investment:"Investment",lyPoints:"LY Points",referralBonus:"Referral Bonus",monthlyDividend:"Monthly Dividend",dashboard:"Partner Dashboard",myNetwork:"My Network",earnings:"Earnings Details",withdraw:"Withdraw",referralCode:"Referral Code",copyCode:"Copy Code",codeCopied:"Copied",referralLink:"Referral Link",totalEarnings:"Total Earnings",pendingWithdrawal:"Pending Withdrawal",lyBalance:"LY Balance",cashBalance:"Cash Balance",directReferrals:"Direct Referrals",teamSize:"Team Size",currentCycle:"Current Cycle",cycleProgress:"Cycle Progress",estimatedDividend:"Estimated Dividend",daysRemaining:"Days Remaining",poolAmount:"Pool Amount",yourShare:"Your Share",joinRequirements:"Join Requirements",selectPackage:"Select Package",agreeTerms:"I agree to the Partner Agreement",submitApplication:"Submit Application",applicationPending:"Application Pending",applicationApproved:"Application Approved",applicationRejected:"Application Rejected",notPartner:"You are not a partner yet",becomePartner:"Become a Partner",whatsappMessage:"Hello, I would like to learn about the Partner Program.",page:{heroTitle1:"Invest RM1,000",heroTitle2:"Earnings",heroTitle3:"Far Exceed 2x",heroSubtitle:"Become a Love Young Partner and receive 2000 LY Points. Through sales and 10-tier referral network, LY Points are continuously replenished, and earnings never stop.",heroSubtitleBold:"Take action, unlimited earnings!",applyNow:"Apply Now",consultDetails:"Consult Program Details",minInvestment:"Minimum Investment",lyPointsObtained:"LY Points = Minimum RM2000 Withdrawable",unlimitedEarnings:"Keep Working, Unlimited Earnings",applicationSubmitted:"Application Submitted",applicationSubmittedDesc:"Complete payment to activate your partner status.",applicationFailed:"Application Failed"},concepts:{assetTransparency:"Asset Transparency",assetTransparencyDesc:"Every digital operating right is anchored to real bird's nest raw materials, premium health products inventory and other physical assets.",earningsGuarantee:"Earnings Protection",earningsGuaranteeDesc:"Earnings are secured through the LY Points system with transparent data and efficient settlement.",globalFlow:"Global Circulation",globalFlowDesc:"Break geographical limitations and participate in the global premium wellness industry chain layout and dividends."},dividends:{title:"Dual Earnings Model",subtitle:"Two dividend methods operate simultaneously, earnings stack. Withdrawal deducts LY Points 1:1, continuously replenished through 10-tier network.",method1:"Earnings Method 1",method2:"Earnings Method 2",cashbackTitle:"Cashback Dividends",cashbackDesc:"Sell products through your 3-generation referral network, get instant cashback rewards",rwaTitle:"RWA Bonus Pool Dividends",rwaDesc:"30% of platform sales go into bonus pool, distributed every 10 days by RWA token ratio",gen1:"1st Gen (Your Direct Referrals)",gen2:"2nd Gen (Referrals of Referrals)",gen3:"3rd Gen and Beyond",cashback50:"50% Cashback",cashback30:"30% Cashback",cashback20:"20% Cashback",cashbackExample:"Example: Your 1st gen referral sells 1 box (RM199), you get RM99.5 cashback",salesIntoPool:"Sales into Pool",distributeByToken:"Distribute by Token",yourDividend:"Your Dividend",autoToken:"Each partner auto receives",tokenPerSale:"Each box sold earns",cycleReset:"After each 10-day cycle",tokenReset:"Tokens reset to zero",rwaExample:"Example: You sell 20 boxes in a cycle, holding 21 tokens. If total tokens are 550 and bonus pool is RM29,850, you get RM1,140 dividend"},ly:{title:"LY Points: The Perpetual Earnings Engine",subtitle:"Withdrawal requires equal LY Points deduction, but continuously replenished through 10-tier referral network. As long as the network is active, earnings never stop!",networkTitle:"10-Tier Network LY Replenishment",networkSubtitle:"Each tier replenishes points proportionally",totalReplenish:"Total Replenishment: 10-tier network can replenish up to",ofSales:"of sales as LY Points",cycleTitle:"Earnings Cycle Diagram",salesGenerate:"Sales Generate Earnings",enterWallet:"Enter Withdrawal Wallet",withdrawDeduct:"Withdrawal Deducts LY",networkReplenish:"Network Replenishes LY",keepActive:"Keep your referral network active,",neverDry:"LY never runs dry, earnings never stop!",whyMoreTitle:"Why Earnings Far Exceed 2x?",whyMoreDesc:"Invest RM1000 to get 2000 LY, seemingly max withdrawal RM2000. But every sale in your 10-tier network replenishes LY Points proportionally. The more active your network, the faster LY replenishes, naturally more earnings to withdraw!",importantNote:"Important Note",importantNoteDesc:"Cannot withdraw corresponding earnings when LY Points are insufficient. Continue operating to replenish LY and ensure earnings are withdrawable.",level1:"Direct",level2:"Level 2",level3:"Level 3",level4:"Level 4",level5:"Level 5",level6:"Level 6",level7:"Level 7",level8:"Level 8",level9:"Level 9",level10:"Level 10"},network:{you:"You",gen1:"G1",gen2:"G2",gen3:"G3",plusCashback:"+Cashback"},tierSection:{title:"Choose Your Partner Level",subtitle:"Higher investment, more LY Points, higher withdrawal limit",mostPopular:"Most Popular",invest:"Invest",getLyPoints:"Get LY Points",minWithdraw:"= Min Withdraw RM",consultNow:"Consult Now"},tierNames:{phase1:"Launch Partner",phase2:"Founding Partner",phase3:"Strategic Partner"},tierFeatures:{cashback50First5:"50% cashback on first 5 boxes",cashback30Next5:"30% cashback on boxes 6-10",cashback20Rest:"20% cashback beyond",freeFirstBox:"Free first box product",photoShoot:"Personal photo shoot",tenLevelBonus:"10-tier referral bonus",weight12x:"1.2x dividend weight bonus",factoryVip:"VIP factory tour",microFilm:"Brand micro-film participation",weight15x:"1.5x dividend weight bonus",topPoolPriority:"Priority in top bonus pool",intlLaunch:"International launch event seats",cobranding:"Co-branded product profits",exclusiveBiz:"Exclusive business collaboration"},simulator:{title:"RWA Dividend Simulator",subtitle:"Adjust parameters to estimate your cycle dividend earnings",mySales:"My Cycle Sales",boxes:"boxes",totalPlatformSales:"Total Platform Sales",activePartners:"Active Partners",people:"people",avgSalesPerPerson:"Avg Sales Per Person",cycleTotalSales:"Cycle Total Sales",bonusPool30:"Bonus Pool (30%)",myRwaTokens:"My RWA Tokens",units:"units",totalPlatformTokens:"Total Platform Tokens",myRatio:"My Ratio",estimatedCycleDividend:"Estimated Cycle Dividend",withdrawNeedsLy:"* Withdrawal requires equal LY Points"},ecosystem:{title:"LOVEYOUNG Brand Ecosystem",desc1:"LOVEYOUNG has built a complete brand ecosystem covering premium products, KOL collaborations, RWA investments, community building, digital marketing and more.",desc2:"As a partner, you become an important part of this ecosystem, jointly driving brand development and sharing growth dividends.",modules:"Business Modules",fullSupport:"Full Support",imgAlt:"LOVEYOUNG Brand Ecosystem"},faqs:{title:"Frequently Asked Questions",subtitle:"Answering Your Concerns",q1:"What is a Partner? How is it different from traditional agents?",a1:"Partners are brand co-builders, not traditional tiered agents. We have no inventory requirements, all earnings come from real end-product sales. Every box you share ships directly from the factory, ensuring quality and freshness.",q2:"Can investing RM1000 really earn more than RM2000?",a2:"Yes! Invest RM1000 to become a Launch Partner and receive 2000 LY Points. This means you can withdraw minimum RM2000 (1:1 LY deduction). But earnings go far beyond 2xthrough your 10-tier referral network, every sale replenishes your LY Points proportionally, continuously unlocking more earnings!",q3:"What's the difference between cashback dividends and RWA pool dividends?",a3:"Cashback dividends are instant cashback from your direct sales or 3-generation network sales (50%/30%/20%). RWA pool dividends are periodic dividends every 10 daysthe platform puts 30% of sales into the bonus pool, distributed by your RWA token ratio. Both require equal LY Points for withdrawal.",q4:"What are LY Points? How to replenish?",a4:"LY Points are your earnings security deposit. Every sale in your 10-tier referral network replenishes LY Points by tier percentage (Tier 1: 8%, Tier 2: 5%...). As long as your network stays active, LY Points flow continuously, and earnings naturally keep coming!",q5:"Why does withdrawal require LY Points deduction?",a5:"The LY mechanism ensures earnings sustainability. This design encourages partners to build stable sales networks, unlocking more earnings through continuous action rather than one-time cashout. Keep taking action, and your earnings will far exceed your initial investment!",q6:"Do I need to stock inventory?",a6:"Absolutely not! All products ship directly from factory to end customers. You just focus on sharing and promoting. Zero inventory, zero risk!"},cta:{title:"Action Creates Unlimited Possibilities",subtitle:"Invest RM1,000, get 2,000 LY Points. Continuously replenished through 10-tier network, earnings go beyond 2x,",subtitleBold:"Keep taking action, earnings never stop!",becomePartner:"Become a Partner Now",whatsappConsult:"WhatsApp Consult"},modal:{title:"Apply to Become a Partner",selectedTier:"You selected",referralCodeOptional:"Referral Code (Optional)",referralCodePlaceholder:"Enter 8-digit referral code",cancel:"Cancel",confirmAndPay:"Confirm & Pay"}},Une={title:"Admin Panel",dashboard:"Dashboard",partners:"Partner Management",orders:"Order Management",products:"Product Management",members:"Member Management",bonusPool:"Bonus Pool",inventory:"Inventory",purchase:"Procurement",logistics:"Logistics",bills:"Bills",finance:"Finance",settings:"Settings",backToMember:"Back to Member Center",backToHome:"Back to Home",adminPanel:"Admin Panel",erpSystem:"ERP System",memberCenter:"Member Center",pleaseLogin:"Please Login",adminRequired:"Admin permission required to access this page",adminRole:"Admin",menu:{dashboard:"Dashboard",partners:"Partner Management",orders:"Order Management",products:"Product Management",members:"Member Management",bonusPool:"Bonus Pool",inventory:"Inventory",production:"Production Line",purchase:"Procurement",logistics:"Logistics",bills:"Bills",finance:"Finance",withdrawals:"Withdrawals",bundles:"Bundles",siteSettings:"Site Settings",metaAds:"Meta Ads",xiaohongshu:"Xiaohongshu",mediaPlan:"Media Plan",adPlacement:"Ad Placement",performanceReports:"Reports",whatsappConfig:"WhatsApp Config",whatsappOrders:"WhatsApp Orders",whatsappMembers:"Member Registration",aiCustomerService:"AI Service",whatsappPush:"Push Notifications",systemHealth:"System Health"},marketingSystem:"Marketing",whatsappBusiness:"WhatsApp Business",productionPage:{title:"Production Line Management",subtitle:"Manage production batches, process flow and material consumption",newBatch:"New Batch",totalBatches:"Total Batches",inProgress:"In Progress",completed:"Completed",planned:"Planned",batchList:"Batch List",materialUsage:"Material Usage",searchPlaceholder:"Search batch number or product...",qty:"Qty",progress:"Progress",steps:"steps",plannedDate:"Planned Date",startTime:"Start Time",plannedQty:"Planned Qty",actualQty:"Actual Output",nextStep:"Next Step",viewDetails:"View Details",viewReport:"View Report",materialName:"Material Name",plannedUsage:"Planned Usage",actualUsage:"Actual Usage",wastage:"Wastage",wastageRate:"Wastage Rate",stepMaterialPrep:"Material Prep",stepCleaning:"Cleaning",stepCooking:"Cooking",stepColdStorage:"Cold Storage",stepInspection:"Inspection",statusPlanned:"Planned",statusMaterialPrep:"Preparing",statusCleaning:"Cleaning",statusCooking:"Cooking",statusColdStorage:"Cold Storage",statusInspection:"Inspecting",statusCompleted:"Completed",statusCancelled:"Cancelled",statusUnknown:"Unknown",bomTab:"BOM Recipe",selectProduct:"Select Product",selectMaterial:"Select Material",addBomEntry:"Add Material",quantityPerUnit:"Qty per Unit",currentStock:"Current Stock",createBatch:"Create Batch",product:"Product",extractMaterials:"Extract Materials",materialsExtracted:"Materials deducted from inventory",noBom:"No BOM recipe configured for this product",noProductSelected:"Select a product to view recipe",materialReq:"Material Requirements",unit:"Unit",notesLabel:"Notes",notesPlaceholder:"Optional notes...",noBatches:"No production batches",noMaterials:"No material usage records"},totalRevenue:"Total Revenue",totalOrders:"Total Orders",totalMembers:"Total Members",totalPartners:"Total Partners",pendingOrders:"Pending Orders",pendingPartners:"Pending Partners",lowStock:"Low Stock Alert",recentActivity:"Recent Activity",quickActions:"Quick Actions",viewDetails:"View Details",activate:"Activate",deactivate:"Deactivate",approve:"Approve",reject:"Reject",export:"Export",import:"Import",refresh:"Refresh",addNew:"Add New",editItem:"Edit",deleteItem:"Delete",confirmDelete:"Confirm delete?",deleteSuccess:"Deleted successfully",saveSuccess:"Saved successfully",operationSuccess:"Operation successful",operationFailed:"Operation failed",noPermission:"No permission",partnerStatus:{pending:"Pending",active:"Active",inactive:"Inactive",suspended:"Suspended"},orderStatus:{pending:"Pending",confirmed:"Confirmed",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"},loginRequired:"Please Login",loginRequiredDesc:"Admin permission required to access this page",login:"Login",insufficientPermission:"Insufficient Permission",noAdminPermission:"You do not have admin permission",goHome:"Go Home",backToFront:"Back to Site",production:"Production",hygiene:"Hygiene Inspection",coldchain:"Cold Chain",reports:"Reports",activePartners:"Active Partners",monthlyOrders:"Monthly Orders",monthlySales:"Monthly Sales",currentBonusPool:"Current Bonus Pool",recentOrders:"Recent Orders",pendingItems:"Pending Items",noOrderData:"No order data",noPendingItems:"No pending items",partnerList:"Partner List",addPartner:"Add Partner",noPartnerData:"No partner data",orderList:"Order List",createOrder:"Create Order",inventoryManagement:"Inventory Management",stockIn:"Stock In",stockOut:"Stock Out",addMaterial:"Add Material",noInventoryData:"No inventory data",productionBatch:"Production Batch",createBatch:"Create Batch",noProductionData:"No production data",hygieneRecords:"Hygiene Inspection Records",addInspection:"Add Inspection",noInspectionData:"No inspection records",coldChainTracking:"Cold Chain Tracking",addWaybill:"Add Waybill",noLogisticsData:"No logistics data",monthlyIncome:"Monthly Income",monthlyExpenses:"Monthly Expenses",netProfit:"Net Profit",billRecords:"Bill Records",addBill:"Add Bill",noBillData:"No bill data",rwaBonusPoolCycle:"RWA Bonus Pool Cycle Management",currentCycle:"Current Cycle",cycleNumber:"Cycle {number}",totalPoolAmount:"Total Pool Amount",totalTokens:"Total Tokens",settleCycle:"Settle Current Cycle",historyCycles:"Historical Cycles",noHistoryData:"No history data",salesReport:"Sales Report",partnerGrowth:"Partner Growth",chartArea:"Chart Area",systemSettings:"System Settings",cashbackRatioSettings:"Cashback Ratio Settings",cashbackRatioDesc:"Configure cashback ratios for different phases",bonusPoolCycleSetting:"Bonus Pool Cycle",bonusPoolCycleDesc:"Current setting: 10 days/cycle",referralRewardRatio:"Referral Reward Ratio",referralRewardDesc:"10-level referral reward configuration",configure:"Configure",modify:"Modify",partnersPage:{title:"Partner Management",subtitle:"Review and manage partners",totalPartners:"Total Partners",activated:"Activated",pendingReview:"Pending Review",partnerList:"Partner List",searchPlaceholder:"Search ID or referral code...",tabAll:"All",tabPending:"Pending",tabActive:"Active",noPartners:"No partners yet",activate:"Activate",viewDetails:"Details",activateSuccess:"Activation Successful",activateSuccessDesc:"Partner account has been activated",activateFailed:"Activation Failed",package:"Package"},ordersPage:{title:"Order Management",subtitle:"Process and track customer orders",totalOrders:"Total Orders",pendingPayment:"Pending Payment",preparing:"Preparing",shipping:"Shipping",completed:"Completed",cancelled:"Cancelled",unknown:"Unknown",orderList:"Order List",searchPlaceholder:"Search order number or customer...",tabAll:"All",noOrders:"No orders yet",viewDetails:"Details",items:"items"},productsPage:{title:"Product Management",subtitle:"Manage product catalog and pricing",addProduct:"Add Product",productList:"Product List",searchPlaceholder:"Search product name...",noProducts:"No products yet",addFirstProduct:"Add First Product",categoryBirdNest:"Bird's Nest",categoryFishMaw:"Fish Maw",categoryGiftSet:"Gift Set",manageCategories:"Manage Categories",categories:"Categories",allCategories:"All",totalProducts:"Total Products",activeProducts:"Active Products",addCategory:"Add Category",editCategory:"Edit Category",categoryModalDesc:"Set category name and display color",categoryName:"Category Name",categoryNamePlaceholder:"Enter Chinese category name",categoryNameEn:"English Name",categoryNameEnPlaceholder:"Enter English category name",categoryDescription:"Description",categoryDescPlaceholder:"Enter category description",categoryColor:"Category Color",editProduct:"Edit Product",productModalDesc:"Set product info, pricing and display status",productImage:"Product Image",uploadImage:"Upload Image",productNameZh:"Chinese Name",productNameZhPlaceholder:"Enter product Chinese name",productNameEn:"English Name",productNameEnPlaceholder:"Enter product English name",productDescription:"Product Description",productDescPlaceholder:"Enter product description",category:"Category",selectCategory:"Select Category",price:"Price",weight:"Specification",sortOrder:"Sort Order",isAvailable:"Available for Sale",isAvailableDesc:"Product will be displayed in store when enabled",isFeatured:"Featured",isFeaturedDesc:"Featured products are prioritized on homepage",productDetails:"Product Details",available:"Available",unavailable:"Unavailable",featured:"Featured",view:"View",edit:"Edit",delete:"Delete",image:"Image",productName:"Product Name",status:"Status",actions:"Actions",deleteConfirmTitle:"Confirm Delete Product",deleteConfirmDesc:"This action cannot be undone. Delete product"},membersPage:{title:"Member Management",subtitle:"View and manage all members",totalUsers:"Total Users",regularMembers:"Regular Members",partners:"Partners",memberList:"Member List",searchPlaceholder:"Search name or email...",tabAll:"All",tabMember:"Members",tabPartner:"Partners",tabAdmin:"Admins",noMembers:"No members yet",viewDetails:"Details",points:"points",orders:"orders",roleMember:"Member",rolePartner:"Partner",roleAdmin:"Admin",roleUser:"User"},bonusPoolPage:{title:"Bonus Pool Management",subtitle:"RWA dividend cycle settings and management",refreshData:"Refresh Data",currentCycle:"Current Cycle",inProgress:"In Progress",cycleProgress:"Cycle Progress",days:"days",daysRemaining:"{days} days remaining in this cycle",currentPool:"Current Pool",perTokenValue:"Per Token Value",participatingPartners:"Participating Partners",cycleSales:"Cycle Sales",cycleSettings:"Cycle Settings",cycleLength:"Cycle Length",salesPoolRatio:"Sales Pool Ratio",totalRwaTokens:"Total RWA Tokens",tokens:"tokens",editSettings:"Edit Settings",dividendNote:"Dividend Note",dividendDesc1:"At the end of each cycle (10 days), the system automatically distributes the bonus pool amount to holders based on RWA token ratio.",dividendRule1:"30% of sales automatically enters the bonus pool",dividendRule2:"Each partner holds 1-4 RWA tokens (by package)",dividendRule3:"Dividends require equivalent LY points deduction for withdrawal",historyCycles:"Historical Cycles",cycle:"Cycle",settled:"Settled",perToken:"Per Token",people:"people"},inventoryPage:{title:"Inventory Management",subtitle:"Inventory query and adjustment",addStock:"Stock Operations",productSku:"Product SKU",status:"Status",lowStock:"Low Stock",criticalStock:"Critical Stock",inventoryStatus:"Inventory Status",searchPlaceholder:"Search product or SKU...",statusNormal:"Normal",statusLow:"Low",statusCritical:"Critical",statusUnknown:"Unknown",recentChanges:"Recent Stock Changes",stockIn:"Stock In",stockOut:"Stock Out",purchaseIn:"Purchase In",manageCategories:"Manage Categories",categories:"Categories",allCategories:"All",addCategory:"Add Category",editCategory:"Edit Category",categoryModalDesc:"Set inventory category and module permissions",categoryName:"Category Name",categoryNamePlaceholder:"Enter Chinese category name",categoryNameEn:"English Name",categoryNameEnPlaceholder:"Enter English category name",categoryColor:"Category Color",permissions:"Module Permissions",permissionsDesc:"Select modules that can access this category",stockInDesc:"Record product stock in",stockOutDesc:"Record product stock out",selectProduct:"Select Product",selectProductPlaceholder:"Select product to operate",quantity:"Quantity",stockInType:"Stock In Type",stockOutType:"Stock Out Type",selectType:"Select Type",typeProduction:"Production In",typePurchase:"Purchase In",typeReturn:"Return In",typeAdjust:"Adjustment",typeSales:"Sales Out",typeProductionUse:"Production Use",typeDamage:"Damage/Waste",note:"Note",notePlaceholder:"Enter note",confirmStockIn:"Confirm Stock In",confirmStockOut:"Confirm Stock Out",editItem:"Edit Inventory Item",editItemDesc:"Modify inventory item info",itemName:"Name",sku:"SKU",category:"Category",currentStock:"Current Stock",minStock:"Min Stock",unit:"Unit",actions:"Actions",edit:"Edit",delete:"Delete",deleteConfirmTitle:"Confirm Delete",deleteConfirmDesc:"This action cannot be undone. Delete item",date:"Date",type:"Type",product:"Product",operator:"Operator"},purchasePage:{title:"Procurement Management",subtitle:"Purchase orders and supplier management",newPo:"New Purchase Order",purchaseOrders:"Purchase Orders",suppliers:"Suppliers",searchPlaceholder:"Search order or supplier...",statusPending:"Pending",statusApproved:"Approved",statusShipped:"Shipping",statusReceived:"Received",statusUnknown:"Unknown",items:"items",viewDetails:"Details",supplierList:"Supplier List",addSupplier:"Add Supplier",orders:"orders",edit:"Edit"},logisticsPage:{title:"Logistics Tracking",subtitle:"Cold chain logistics and delivery management",totalShipments:"Total Shipments",pendingShipment:"Pending",inTransit:"In Transit",delivered:"Delivered",coldChainMonitor:"Cold Chain Monitor",tempNormal:"All shipments temperature normal (-18C ~ -15C)",statusNormal:"Normal",shipmentList:"Shipment List",searchPlaceholder:"Search shipment or destination...",statusUnknown:"Unknown",order:"Order",track:"Track"},billsPage:{title:"Bill Management",subtitle:"Expenses and bill records",addBill:"Add Bill",totalBills:"Total Bills",pendingPayment:"Pending",overdue:"Overdue",billList:"Bill List",searchPlaceholder:"Search bills...",statusPending:"Pending",statusPaid:"Paid",statusOverdue:"Overdue",statusUnknown:"Unknown",tabAll:"All",typePurchase:"Purchase",typeLogistics:"Logistics",typeOperation:"Operation",dueDate:"Due",noBills:"No bills"},financePage:{title:"Financial Reports",subtitle:"Revenue and expense analysis",exportReport:"Export Report",monthlyRevenue:"Monthly Revenue",monthlyExpenses:"Monthly Expenses",monthlyProfit:"Monthly Net Profit",expenseBreakdown:"Expense Breakdown",purchaseCost:"Purchase Cost",logisticsCost:"Logistics Cost",operationCost:"Operation Cost",otherCost:"Other Costs",partnerExpenses:"Partner Expenses",cashbackPayout:"Cashback Payout",cashbackDesc:"Includes direct referrals and 3-tier network cashback",bonusPoolPayout:"RWA Bonus Pool Payout",bonusPoolDesc:"Current cycle bonus pool dividend",recentTransactions:"Recent Transactions",tabAll:"All",tabIncome:"Income",tabExpense:"Expense"},withdrawals:{title:"Withdrawal Management",subtitle:"Manage partner withdrawal requests",pendingRequests:"Pending",processingRequests:"Processing",completedRequests:"Completed",rejectedRequests:"Rejected",requestsList:"Withdrawal Requests",tabPending:"Pending",tabProcessing:"Processing",tabCompleted:"Completed",tabRejected:"Rejected",tabAll:"All",noRequests:"No withdrawal requests",requestDetail:"Request Details",withdrawAmount:"Withdrawal Amount",partnerInfo:"Partner Info",name:"Name",email:"Email",phone:"Phone",bankInfo:"Bank Info",bankName:"Bank Name",accountNumber:"Account Number",accountName:"Account Holder",timeline:"Timeline",submittedAt:"Submitted",processedAt:"Processed",statusPending:"Pending",statusProcessing:"Processing",statusCompleted:"Completed",statusRejected:"Rejected",approve:"Approve",reject:"Reject",markComplete:"Mark Complete",cancel:"Cancel",rejectTitle:"Reject Withdrawal",rejectDesc:"Amount will be refunded to partner wallet (LY points not refunded)",rejectPlaceholder:"Enter rejection reason...",rejectReasonLabel:"Reason",confirmReject:"Confirm Reject",approveSuccess:"Withdrawal approved",approveFailed:"Approval failed",completeSuccess:"Withdrawal marked complete",completeFailed:"Completion failed",rejectSuccess:"Withdrawal rejected",rejectFailed:"Rejection failed"},metaAdsPage:{title:"Meta Ads",subtitle:"Manage Facebook/Instagram advertising",newCampaign:"New Campaign",totalCampaigns:"Total Campaigns",activeCampaigns:"Active",totalSpend:"Total Spend",totalImpressions:"Total Impressions",searchPlaceholder:"Search campaigns...",tabAll:"All",tabActive:"Active",tabPaused:"Paused",tabDraft:"Draft",tabCompleted:"Completed",noCampaigns:"No campaigns yet",campaignName:"Campaign Name",platform:"Platform",objective:"Objective",budget:"Budget",budgetType:"Budget Type",dailyBudget:"Daily Budget",lifetimeBudget:"Lifetime Budget",startDate:"Start Date",endDate:"End Date",targetAudience:"Target Audience",spent:"Spent",impressions:"Impressions",clicks:"Clicks",conversions:"Conversions",ctr:"CTR",cpc:"CPC",roas:"ROAS",adSets:"Ad Sets",creatives:"Creatives",performance:"Performance",objectiveAwareness:"Awareness",objectiveTraffic:"Traffic",objectiveEngagement:"Engagement",objectiveLeads:"Leads",objectiveConversions:"Conversions",objectiveSales:"Sales",accountSettings:"Account Settings",accountId:"Account ID",accessToken:"Access Token",pixelId:"Pixel ID",campaignCreated:"Campaign created",createFailed:"Create failed",campaignUpdated:"Campaign updated",updateFailed:"Update failed",campaignDeleted:"Campaign deleted",deleteFailed:"Delete failed",statusUpdated:"Status updated",nameRequired:"Please enter a campaign name",budgetRequired:"Please enter a valid budget amount",statusActive:"Active",statusPaused:"Paused",statusDraft:"Draft",statusCompleted:"Completed",statusUnknown:"Unknown",objectiveAppPromotion:"App Promotion",budgetDaily:"Daily",budgetLifetime:"Lifetime",budgetAmount:"Budget Amount",totalBudget:"Total Budget",campaignList:"Campaign List",details:"Details",editCampaign:"Edit Campaign",editCampaignDesc:"Modify campaign details",newCampaignDesc:"Create a new advertising campaign",campaignNamePlaceholder:"Enter campaign name",notes:"Notes",notesPlaceholder:"Enter notes...",cancel:"Cancel",save:"Save",create:"Create",campaignDetails:"Campaign Details",status:"Status",dateRange:"Date Range",createdAt:"Created At",updatedAt:"Updated At",budgetUsage:"Budget Usage",adAccountId:"Ad Account ID",noAdSets:"No ad set data available",activate:"Activate",pause:"Pause",resume:"Resume",close:"Close",deleteCampaign:"Delete Campaign",deleteConfirm:"Are you sure you want to delete this campaign? This action cannot be undone.",deleteWarning:"You are about to delete campaign:",confirmDelete:"Confirm Delete"},xiaohongshuPage:{title:"Xiaohongshu",subtitle:"Manage Xiaohongshu content and operations",newContent:"New Content",totalContent:"Total Content",published:"Published",totalLikes:"Total Likes",totalViews:"Total Views",searchPlaceholder:"Search content...",tabAll:"All",tabDraft:"Draft",tabPending:"Pending Review",tabPublished:"Published",tabRejected:"Rejected",noContent:"No content yet",contentTitle:"Title",contentBody:"Content",contentType:"Content Type",typeNote:"Photo Note",typeVideo:"Video",typeLive:"Live",coverImage:"Cover Image",mediaTags:"Tags",scheduledAt:"Scheduled Time",likes:"Likes",comments:"Comments",shares:"Shares",views:"Views"},mediaPlanPage:{title:"Media Plan",subtitle:"Cross-platform content calendar and publishing",newPlan:"New Plan",totalPlans:"Total Plans",planned:"Planned",inProgress:"In Progress",published:"Published",searchPlaceholder:"Search plans...",tabAll:"All",tabPlanned:"Planned",tabInProgress:"In Progress",tabReady:"Ready",tabPublished:"Published",listView:"List View",calendarView:"Calendar View",planTitle:"Title",description:"Description",platform:"Platform",contentType:"Content Type",scheduledDate:"Scheduled Date",scheduledTime:"Scheduled Time",assignedTo:"Assigned To",noPlans:"No plans yet",typePost:"Post",typeStory:"Story",typeReel:"Reel",typeVideo:"Video",typeArticle:"Article",typeLive:"Live"},adPlacementPage:{title:"Ad Placement",subtitle:"Budget allocation and approval management",newPlan:"New Plan",totalPlans:"Total Plans",pendingApproval:"Pending Approval",activePlans:"Active",totalBudget:"Total Budget",searchPlaceholder:"Search plans...",tabAll:"All",tabDraft:"Draft",tabPending:"Pending",tabApproved:"Approved",tabActive:"Active",tabCompleted:"Completed",noPlans:"No plans yet",planName:"Plan Name",platform:"Platform",totalBudgetLabel:"Total Budget",dailyBudgetLabel:"Daily Budget",startDate:"Start Date",endDate:"End Date",kpiTargets:"KPI Targets",approvalNotes:"Approval Notes",submitForApproval:"Submit for Approval",approve:"Approve",reject:"Reject"},performanceReportsPage:{title:"Performance Reports",subtitle:"Ad performance KPI analytics",dateRange:"Date Range",last7Days:"Last 7 Days",last30Days:"Last 30 Days",last90Days:"Last 90 Days",customRange:"Custom Range",platformFilter:"Platform Filter",allPlatforms:"All Platforms",totalSpend:"Total Spend",totalImpressions:"Total Impressions",totalClicks:"Total Clicks",totalConversions:"Total Conversions",avgCTR:"Avg CTR",avgROAS:"Avg ROAS",dailyTrend:"Daily Trend",platformComparison:"Platform Comparison",budgetAllocation:"Budget Allocation",topCampaigns:"Top Campaigns",noData:"No data available"},whatsappConfigPage:{title:"WhatsApp Config",subtitle:"WhatsApp Business API settings and templates",apiConfig:"API Configuration",businessProfile:"Business Profile",messageTemplates:"Message Templates",adminPush:"Admin Push",phoneId:"Phone Number ID",businessAccountId:"Business Account ID",accessToken:"Access Token",webhookToken:"Webhook Verify Token",webhookUrl:"Webhook URL",businessName:"Business Name",businessDesc:"Business Description",businessAddr:"Business Address",businessEmail:"Business Email",businessWebsite:"Business Website",adminPhones:"Admin Phone Numbers",adminPhonesDesc:"WhatsApp numbers for order & service notifications",notificationEnabled:"Notifications Enabled",autoReply:"Auto Reply",autoReplyMessage:"Auto Reply Message",workingHours:"Working Hours",saveConfig:"Save Config",configSaved:"Config saved",configSaveFailed:"Save failed",newTemplate:"New Template",templateName:"Template Name",templateLanguage:"Language",templateCategory:"Category",templateBody:"Template Body",templateFooter:"Footer Text",templateVariables:"Variables",noTemplates:"No templates yet",pushToAdmin:"Push to Admin",pushMessage:"Push Message",pushTarget:"Push Target",pushAllAdmins:"All Admins",pushSelectAdmin:"Select Admin",pushType:"Push Type",pushTypeOrder:"Order Notification",pushTypeCustomer:"Customer Message",pushTypeSystem:"System Notification",pushTypeMarketing:"Marketing Push",pushContent:"Push Content",pushSend:"Send Push",pushSuccess:"Push sent",pushFailed:"Push failed",pushHistory:"Push History"},whatsappOrdersPage:{title:"WhatsApp Orders",subtitle:"Manage orders from WhatsApp channel",totalOrders:"Total Orders",pendingOrders:"Pending",paidOrders:"Paid",totalRevenue:"Total Revenue",searchPlaceholder:"Search phone or order...",tabAll:"All",tabPending:"Pending",tabConfirmed:"Confirmed",tabProcessing:"Processing",tabShipped:"Shipped",tabDelivered:"Delivered",noOrders:"No WhatsApp orders yet",customerPhone:"Customer Phone",customerName:"Customer Name",orderAmount:"Order Amount",paymentStatus:"Payment Status",linkToOrder:"Link to Order",viewConversation:"View Conversation",sendNotification:"Send Notification",notifyAdmin:"Notify Admin"},whatsappMembersPage:{title:"Member Registration",subtitle:"Track WhatsApp channel member registrations",totalRegistrations:"Total Registrations",completedReg:"Completed",pendingReg:"Pending",conversionRate:"Conversion Rate",searchPlaceholder:"Search phone or name...",tabAll:"All",tabPending:"Pending",tabCompleted:"Completed",tabFailed:"Failed",noRegistrations:"No registrations yet",phone:"Phone",name:"Name",email:"Email",source:"Source",registeredAt:"Registered At",linkToMember:"Link to Member"},aiCustomerServicePage:{title:"AI Customer Service",subtitle:"AI bot configuration and conversation management",botConfig:"Bot Configuration",conversations:"Conversations",totalConversations:"Total Conversations",activeConversations:"Active",escalatedConversations:"Escalated",avgSatisfaction:"Avg Satisfaction",botName:"Bot Name",botDescription:"Description",systemPrompt:"System Prompt",knowledgeBase:"Knowledge Base",greetingMessage:"Greeting Message",fallbackMessage:"Fallback Message",model:"AI Model",temperature:"Temperature",maxTokens:"Max Tokens",enabled:"Enabled",disabled:"Disabled",configure:"Configure",viewHistory:"View History",noConversations:"No conversations yet",messageCount:"Messages",tokensUsed:"Tokens Used",satisfaction:"Satisfaction",escalated:"Escalated",testBot:"Test Bot"},systemHealthPage:{title:"System Health",subtitle:"API connection testing and system configuration",testAll:"Test All",totalConfigs:"Total Configs",connected:"Connected",failed:"Failed",untested:"Untested"}},Vne={title:"Brand Story",subtitle:"Sailing Against the Wind, Born for Love",founderStory:"Founder's Story",brandValues:"Brand Values",milestones:{2020:"Brand founded in Kuala Lumpur, focusing on premium fresh-stewed bird's nest",2022:"Established our own swiftlet house base in Malaysia, achieving raw material self-control",2024:"Innovative product line upgrade, launched new flavor series, well-received by market",2025:"Brand officially renamed to LOVEYOUNG, opening a new brand era",2026:"Launched 'Sailing Against The Wind' program, introduced RWA partner system",2027:"Plan to enter Singapore and Hong Kong markets, establish regional distribution network",2028:"Goal to launch probiotics, collagen and other new categories, completing health ecosystem",2030:"Vision to become Southeast Asia's leading women's health nourishing brand"},community:"Community",mission:"Mission",vision:"Vision",values:{love:{title:"Love at Core",description:"Every product carries deep care for women's health, from ingredients to formula, protecting every customer with heart."},natural:{title:"Natural & Pure",description:"Carefully selecting bird's nest and fish maw from the world's finest regions, rejecting additives, preserving nature's most precious gifts."},quality:{title:"Quality Assured",description:"Full cold-chain delivery, individual packaging, every batch passes strict quality inspection, ensuring freshness and safety."},global:{title:"Global Vision",description:"Integrating Southeast Asia's top bird's nest resources, introducing international quality management systems, creating a world-class nourishing brand."}},quality:"Quality First",qualityDesc:"Carefully selected premium ingredients, crafted with care",fresh:"Fresh Delivery",freshDesc:"Daily fresh cooking, cold chain delivery, locking in nutrition",care:"Caring Service",careDesc:"Professional consultant team, caring service for every customer",whatsappMessage:"Hello, I would like to learn more about LOVEYOUNG brand.",hero:{title:"Sailing Against The Wind",titleSub:"Premium Selection",description:"LOVEYOUNG Fresh Stew, a premium nourishing brand from Malaysia. We believe every woman deserves to be treated with tenderness, awakening elegant strength from within with the purest nourishment."},foundersSection:{badge:"Brand Stories",title:"Sailing Against The Wind  Founders' Story",subtitle:"Three life paths, one direction  health shouldn't just be a remedy when problems arise, but a gentle daily commitment",summaryTitle:"Three Life Paths  One Direction",summaryText:"They've all walked through challenges, faced reality, and made choices at different stages of life. In the end, they united under the same philosophy  this is the true spirit of 'Sailing Against The Wind'."},founders:{vivian:{subtitle:"The one who started with a bowl of fish maw and bird's nest",motto:"Staying true to our mission  making 'good things' the best they can be",story:"Vivian was the first to embark on this journey. From sharing on social media, she gradually brought fish maw and bird's nest into larger communities, postpartum centers, beauty salons, and into countless women's daily lives.",insight:"She wasn't in a hurry to scale up. Instead, she spent most of her time on the product itself  testing taste, researching formulas, adjusting sweetness and consistency  all to find the perfect balance of delicious and truly nourishing.",belief:"Quality is the steadiest ship in the storm.",focus:"Product Excellence"},agnes:{subtitle:"After seeing too many stories, she chose to protect health",motto:"She believes true wealth is never about numbers",story:"Agnes was a strong woman in the insurance industry. Years of career experience showed her countless highs and lows  some achieved brilliant careers but lost their health; some had abundant wealth but neglected themselves and their families.",insight:"These real stories from clients made her gradually understand: physical and mental health is the foundation of all protection. She hopes to transform her years of understanding about 'risk, protection, and long-term value' into a more life-embracing companionship.",belief:"Helping those around us take care of themselves, even in the midst of busy and stressful lives.",focus:"Understanding Risk & Protection"},andrey:{subtitle:"Under the spotlight, she understands true wellness",motto:"Beauty shouldn't come from anxiety, but from a state of being",story:"Andrey became a professional car model in her teens, later developing into a KOL in social media. Active at galas, parties, fashion and social events, she's seen too many definitions of 'beauty'  quick, superficial, consumed.",insight:"But she's become increasingly clear: what truly keeps people youthful and charming isn't external additions, but stable mindset, healthy eating, and a light body. For her, fish maw and bird's nest isn't a 'supplement', but a daily choice that brings the body back to balance and makes life more graceful.",belief:"The best self-care is not forcing yourself.",focus:"Leading Women's Lifestyle Trends"}},origin:{title:"Our Beginning",p1:"In 2020, three like-minded women met in Kuala Lumpur. They shared a common experience  neglecting their own health in busy lives until their bodies sent warning signals, making them realize the importance of nourishing wellness.",p2:"However, truly high-quality, preservative-free fresh-stewed fish maw and bird's nest products were rare in the market. This is the healthiest way to nourish, yet very time-consuming to prepare. Urban women often busy caring for family and work simply couldn't make a proper bowl for themselves.",p3:"So they decided to create their own brand, using the strictest standards and most sincere intentions to provide the purest and most convenient nourishment for every busy woman.",p4:"This is the birth of LOVEYOUNG  love yourself first, then love the world better."},production:{title:"Craftsmanship & Quality",p1:"From personally sourcing bird's nest and fish maw at their origins to rigorous screening of every batch, we only select quality ingredients that meet our standards for production.",p2:"All products are cooked and packaged at LoveYoung's own sterile production facility, using low-temperature slow-stewing techniques to preserve the ingredients' nutrition and taste layers while ensuring hygiene and safety.",p3:"Every bottle of fresh-stewed product undergoes multiple quality inspections and is delivered through full cold-chain logistics, ensuring what reaches you is always fresh, safe, and trustworthy quality.",stat1:"Direct from Origin",stat2:"Additives & Preservatives"},valuesSection:{subtitle:"We believe true beauty comes from health, true strength comes from within. LOVEYOUNG is not just a brand, but a way of life."},lifestyle:{title:"Elegant Lifestyle",subtitle:"LOVEYOUNG advocates not just products, but an elegant lifestyle from within",wellness:{title:"Health & Wellness",description:"A bottle of fresh-stewed bird's nest daily, starting your day full of vitality"},community:{title:"Community Connection",description:"Share wellness insights with like-minded sisters"},events:{title:"Brand Events",description:"Join exclusive salons, experience elegant circles"}},philosophy:{title:"Sailing Against The Wind  Women's Power",p1:"'Sailing Against The Wind' is not just our brand spirit, but a tribute to every modern woman. In life's storms, we believe every woman has the courage to ride the waves.",p2:"LOVEYOUNG is committed to being a solid support for women's growth journey. Whether you're a career elite, stay-at-home mom, or entrepreneur, we hope to recharge your energy with the finest nourishing products, helping you move forward gracefully even in adversity.",stat1:"Loyal Customers",stat2:"Years of Brand Journey",stat3:"Natural Ingredients"},milestonesSection:{title:"Brand Journey & Future Blueprint",subtitle:"From founding to soaring, our story has just begun",futurePlan:"Future Plan",inProgress:"In Progress"},partnerStories:{title:"Partner Stories",p1:"Every LOVEYOUNG partner has their own amazing story. They come from different backgrounds  some are stay-at-home moms, some are office professionals, some are seasoned entrepreneurs. But they all have one thing in common: they chose LOVEYOUNG, they chose to sail against the wind.",p2:"We're preparing a partner story blog column, where we'll share these beautiful women's entrepreneurial journeys, growth insights, and success experiences. Stay tuned!",becomePartner:"Become a Partner",learnMore:"Learn More",alt1:"Partner Story - Lisa",alt2:"Partner Story - Sarah",alt3:"Partner Story - Emma"},futureVision:{title:"Future Vision",p1:"LOVEYOUNG's goal is not only to become Southeast Asia's leading women's health nourishing brand, but also to build a complete women's health ecosystem.",p2:"From bird's nest and fish maw to probiotics and collagen, we will continuously enrich our product line to meet women's comprehensive health needs. Through the RWA partner program, we help more women achieve both wealth and health.",goal1:"2027: Enter Singapore & Hong Kong markets",goal2:"2028: Launch new health categories",goal3:"2030: Become regional leading brand"},communityWellness:{title:"Community Events  Healthy Living",subtitle:"LOVEYOUNG is not just a brand, but a community that empowers women's growth",impact:{title:"Community Impact",description:"Empowering Malaysian women, creating positive social impact through LOVEYOUNG Academy and charitable activities."},wellnessLife:{title:"Wellness Lifestyle",description:"From meditation to yoga, from workplace to social life, LOVEYOUNG accompanies modern women in every life scenario."},brandEvents:{title:"Brand Event Experience",description:"From reception to tours, from exchanges to parties, creating unique origin journey experiences for partners."}},cta:{title:"Begin Your Elegant Wellness Journey",description:"Every LOVEYOUNG product is our commitment to quality, our persistence in health, our pursuit of beauty.",viewProducts:"Browse Products",whatsapp:"WhatsApp Inquiry"}},qne={heroTagline:"Against The Wind",heroTitle:"Sailing Against The Wind",heroTitleSub:"Redefining Women's Power",heroDesc:"From Young Love (nourishing others) to Love Young (loving yourself first).",heroDescSub:"This isn't just a brand reversal, but an awakening of every woman's soul.",heroOrderBtn:"Start Your Journey",cnyGiftBox:"CNY Gift Box - Order Now",heroPartnerBtn:"Join Our Program",whatsappMessage:"Hello, I am interested in LOVEYOUNG Bird's Nest and Fish Maw products. I would like to learn more.",brandTitle:"Brand Origin:",brandTitleSub:"Courage to Reverse",brandQuote:"If you don't take yourself seriously, the world won't either.",brandP1:"Love Young was founded by three young women who healed and grew stronger after emotional trauma. We've been at rock bottom, asked to give endlessly, forgetting how to love ourselves.",brandP2:'"Young Love" was a beautiful accident in our design, meaning nourishing others. But we decided to reverse it to "Love Young"  loving that young, authentic self first.',brandP3:`What we offer isn't just a RM488 gift box, but a commitment to yourself about being "fresh, special, exquisite, and precious."`,brandSelfHealing:"Self-Healing Spirit",brandAwakening:"Women's Awakening",brandQuality:"Premium Quality",brandCommunity:"Community Building",productsTitle:"Premium Fresh Collection",productsSubtitle:"6-jar luxury gift box, 12 flavors customized batch fresh stew, cold chain delivery.",product1Name:"Spinning Bloom  Round Premium Box",product1Desc:"Innovative multi-layer rotating structure, Eastern charm of vermillion and ink green. Contains 6 jars of high-concentration fresh-stewed fish maw and bird's nest.",product2Name:"Splendid Chapter  Square Premium Box",product2Desc:"Classic square design, gold thread and ink green intertwined, craftsmanship details. Contains 6 jars of high-concentration fresh-stewed fish maw and bird's nest.",product3Name:"Jade Rabbit  Limited Edition Box",product3Desc:"New Year limited edition, fresh jade-like color scheme. Contains 6 jars of high-concentration fresh-stewed fish maw and bird's nest.",viewAllProducts:"View All Products",viewAllBundles:"View All Packages",noProducts:"No products available",orderNow:"Order Now",rwaTitle:"RWA Partner Program",rwaSubtitle:"Digital Asset Co-creation, Brand Value Sharing",rwaDesc:"Empowered by blockchain technology, every woman can participate in brand building and share in growth dividends.",rwaFeature1:"Transparent Dividends",rwaFeature1Desc:"Smart contract execution, transparent earnings",rwaFeature2:"Community Driven",rwaFeature2Desc:"Member referral growth, co-building brand community",rwaFeature3:"Asset Growth",rwaFeature3Desc:"Brand grows, digital assets appreciate together",rwaFeature4:"Multiple Earnings",rwaFeature4Desc:"Direct referral rewards + repurchase rebates + bonus pool",rwaLearnMore:"Learn About Program",rwaJoinNow:"Join Now",ctaTitle:"Start Your Nourishing Journey",ctaTitleSub:"Nourishing Journey",ctaDesc:"Whether for yourself or your loved ones, Love Young brings you the purest nourishment experience.",ctaOrderBtn:"WhatsApp Inquiry",ctaShopBtn:"Visit Meta Shop",productCard1Name:"Blooming Rotation  Round Premium Gift Box",productCard1Desc:"Innovative multi-layer rotating structure with oriental charm. Contains 6 jars of high-concentration fresh-stewed fish maw and bird's nest.",productCard2Name:"Against The Wind  Classic Custom Series",productCard2Desc:"12 customizable flavors. Natural ingredients like ginseng, red dates, and goji berries. Zero additives for peace of mind.",productCard2PriceFrom:"from",productCard3Name:"Seasonal Limited  Festival Edition",productCard3Desc:"Limited designs for CNY/Mid-Autumn/Dragon Boat festivals. Premium gifting choice with festive elements.",bookNow:"Book Now",viewFlavors:"View Flavors",comingSoon:"Coming Soon",partnerSectionTitle:"RWA Partner Program",partnerSectionSubtitle:"Breaking traditional agency models. We don't seek investors, only brand co-builders.",phase1Title:"Phase 1: RM 1,000",phase1Desc:"Receive 2,000 LY energy points, first box product gift, and brand co-building benefits.",phase1Feature1:"50% cashback on first 5 boxes",phase1Feature2:"30% global bonus pool dividend rights",phase1Feature3:"Premium photo shoot",phase2Title:"Phase 2: RM 1,300",phase2Desc:"Higher dividend weight and social celebrity event tickets.",phase2Feature1:"1.2x dividend weight",phase2Feature2:"VIP bird's nest factory visit",phase2Feature3:"Micro-film participation opportunity",phase3Title:"Phase 3: RM 1,500",phase3Desc:"For mature entrepreneurs. Brand co-branding and deep business collaboration.",phase3Feature1:"Top-tier bonus pool allocation",phase3Feature2:"Exclusive brand co-branding rights",phase3Feature3:"Priority international market access",joinNow:"Join Now",limitedApply:"Limited Slots",learnMore:"Learn More",hotSelling:"HOT SELLING",only50Slots:"Only 50 Slots",waitingToOpen:"Waiting to Open",revenueLogicTitle:"Transparent Revenue Logic",revenueLogicDesc:"Love Young rejects pyramid schemes. Every cent of income comes from real product sales. We use LY (Energy) to record your contribution.",salesCashback:"Sales Cashback",globalPool:"Global Bonus Pool",salesPercentage:"30% of Sales",dividendCycle:"Dividend Cycle",every10Days:"Settlement every 10 days",lyNetworkTitle:"10-Level Points System",tier1Direct:"Tier 1 (Direct)",tier2:"Tier 2",tier3to5:"Tier 3-5",tier6to10:"Tier 6-10",totalReferral:"Total LY Replenish",lyNetworkNote:"* LY energy points unlock cash dividends, automatically replenished through referral network sales.",dashboardTitle:"Real-time Dashboard",dashboardDesc:"Visualize your energy points, RWA weight, and 10-level network. Every number witnesses your growth.",dashboardCta:"Partner Portal",dashboardBrandName:"Love Young Dashboard",dashboardSubtitle:"Partner Management Center",lyEnergy:"LY Energy",phase1Bonus:"Phase 1 Bonus",thisWeek:"This Week",totalEarnings:"Total Earnings",startEarning:"Start earning now",perCycle:"Per cycle",thisMonth:"This Month",teamMembers:"Team Members",networkLevels:"10-Level Network",tenLevelNetwork:"10-Level Network",currentPoolCycle:"Current Pool Cycle",daysRemaining:"{days} days remaining",accumulated:"Accumulated",estimatedDividend:"Est. Dividend",ctaSectionTitle:"Start Your Nourishing Journey",ctaSectionDesc:"Whether for yourself or your loved ones, Love Young brings you the purest nourishment experience."},zne={whatsappMessage:"Hello, I would like to order LOVEYOUNG products.",orderMessage:"Hello, I would like to order {productName}.",hero:{title:"Premium Selection  Quality Nourishment",description:"Every product reflects our relentless pursuit of quality. From Indonesian golden swiftlet nests to deep-sea fish maw, we only select the finest ingredients to bring you the purest nourishment.",shopNow:"Shop Now",whatsappConsult:"WhatsApp Inquiry"},categories:{all:"All Products",birdNest:"Bird's Nest Series",fishMaw:"Fish Maw Series",giftBox:"Gift Box Sets"},badges:{hot:"Hot",new:"New",save:"Save"},units:{box:"box",set:"set"},items:{bnClassic:{name:"Classic Original Bird's Nest",subtitle:"6-Jar Gift Box",feature1:"Indonesian Golden Swiftlet",feature2:"No Added Sugar",feature3:"Ready-to-Eat"},bnPremium:{name:"Rock Sugar Imperial Nest",subtitle:"6-Jar Premium Edition",feature1:"Premium Nest",feature2:"Slow-Stewed Rock Sugar",feature3:"Rich & Thick Texture"},fmCollagen:{name:"Fish Maw Collagen Stew",subtitle:"6-Jar Pack",feature1:"Deep-Sea Fish Maw",feature2:"Rich in Collagen",feature3:"Beauty & Nourishment"},fmMilk:{name:"Milk Fish Maw Stew",subtitle:"6-Jar Pack",feature1:"New Zealand Milk",feature2:"Rich & Creamy",feature3:"Extra Nutrition"},giftLuxury:{name:"Sailing Against Wind Luxury Box",subtitle:"Bird's Nest + Fish Maw Combo",feature1:"3 Jars Premium Nest",feature2:"3 Jars Premium Fish Maw",feature3:"Luxury Gift Packaging"},giftWellness:{name:"Wellness Premium Gift Box",subtitle:"Full Series Sampler",feature1:"4 Flavors, 1 Jar Each",feature2:"Elegant Gift Bag",feature3:"Perfect for Gifting"}},benefits:{natural:{title:"100% Natural",description:"Premium ingredients, no additives"},quality:{title:"Quality Assured",description:"Every batch passes quality inspection"},coldChain:{title:"Cold Chain Delivery",description:"Full cold chain, fresh to your door"},packaging:{title:"Elegant Packaging",description:"Perfect for gifting or self-use"}},quality:{title:"Origin Traceability  Craftsmanship",description:"Our bird's nest comes from Indonesia's finest swiftlet houses, each nest carefully selected. Fish maw is sourced from deep-sea wild fish, rich in natural collagen.",imageAlt:"Quality Assurance",traceability:{title:"Ingredient Traceability",description:"Every batch traceable to origin, ensuring safe and reliable sources"},craftsmanship:{title:"Traditional Craftsmanship",description:"Traditional slow-stewing techniques preserve complete nutritional content"},inspection:{title:"Strict Quality Control",description:"Every batch passes microbial, heavy metal and multiple tests"}},cta:{title:"Begin Your Nourishing Journey",description:"Whether for personal wellness or gifting loved ones, LOVEYOUNG is your elegant choice.",goToShop:"Go to Shop",consultWellness:"Consult Wellness Advisor"}},Kne={successTitle:"Payment Successful!",successDesc:"Your order has been confirmed",processing:"Processing your order...",viewOrder:"View Order",continueShopping:"Continue Shopping",backToHome:"Back to Home"},Wne={auth:Nne,common:kne,nav:Pne,header:Sne,hero:_ne,stats:Cne,products:Ane,innovation:Tne,order:One,testimonials:Ene,cta:Rne,footer:Mne,flavors:Dne,packages:Ine,target:Lne,states:$ne,member:Fne,partner:Bne,admin:Une,brand:Vne,landing:qne,productsPage:zne,checkout:Kne},Hne={login:"Log Masuk",signup:"Daftar",logout:"Log Keluar",email:"E-mel",password:"Kata Laluan",confirmPassword:"Sahkan Kata Laluan",firstName:"Nama Pertama",lastName:"Nama Akhir",welcomeBack:"Log Masuk / Daftar",or:"atau",continueWithGoogle:"Teruskan dengan Google",loginSuccess:"Log masuk berjaya",loginFailed:"Log masuk gagal",signupSuccess:"Pendaftaran berjaya",signupFailed:"Pendaftaran gagal",checkEmail:"Sila semak e-mel anda untuk mengesahkan akaun",passwordMismatch:"Kata laluan tidak sepadan",forgotPassword:"Lupa kata laluan?",resetPassword:"Tetapkan Semula Kata Laluan",noAccount:"Tiada akaun?",hasAccount:"Sudah ada akaun?",sendOTP:"Hantar Kod Pengesahan",enterOTP:"Masukkan Kod Pengesahan",verifyOTP:"Sahkan",otpSent:"Kod pengesahan dihantar",otpResent:"Kod pengesahan dihantar semula",checkEmailForOTP:"Semak e-mel anda untuk kod 6 digit",otpSentTo:"Kod pengesahan dihantar ke",sendOTPFailed:"Gagal menghantar kod pengesahan",verifyOTPFailed:"Pengesahan gagal",resendOTP:"Hantar Semula Kod",changeEmail:"Tukar E-mel",completeProfile:"Lengkapkan Profil Anda",newUserWelcome:"Selamat datang ke LOVEYOUNG! Sila lengkapkan maklumat anda",phone:"Nombor Telefon",fillRequired:"Sila lengkapkan ruangan yang diperlukan",profileSaved:"Profil berjaya disimpan",profileSaveFailed:"Gagal menyimpan profil",saveAndContinue:"Simpan dan Teruskan"},Gne={loading:"Memuatkan...",error:"Ralat berlaku",retry:"Cuba semula",save:"Simpan",cancel:"Batal",confirm:"Sahkan",delete:"Padam",edit:"Edit",add:"Tambah",search:"Cari",filter:"Tapis",all:"Semua",back:"Kembali",next:"Seterusnya",submit:"Hantar",close:"Tutup",view:"Lihat",details:"Butiran",status:"Status",actions:"Tindakan",total:"Jumlah",date:"Tarikh",time:"Masa",name:"Nama",phone:"Telefon",email:"E-mel",address:"Alamat",price:"Harga",quantity:"Kuantiti",amount:"Amaun",none:"Tiada",yes:"Ya",no:"Tidak",viewDetails:"Lihat Butiran",whatsappConsult:"Pertanyaan WhatsApp"},Yne={products:"Produk",benefits:"Kelebihan",howToOrder:"Cara Pesan",testimonials:"Ulasan",partner:"Jadi Rakan",brand:"Kisah Jenama",member:"Pusat Ahli",memberCenter:"Pusat Ahli",home:"Laman Utama",admin:"Panel Admin"},Jne={whatsapp:"WhatsApp",shop:"Kedai",login:"Log Masuk",account:"Akaun Saya",logout:"Log Keluar"},Qne={fresh:"Segar",noCompromise:"Tiada Kompromi",subtitle:"LOVEYOUNG Sarang Burung & Pundi Ikan  Segar Setiap Hari",description:"Tiada pengawet, tiada produk semalam. Kami memasak pada hari yang sama dan penghantaran rantai sejuk untuk pengalaman paling segar.",orderNow:"Pesan Sekarang",exploreFlavors:"Terokai Rasa",repeatCustomers:"Pelanggan Setia",nextBatch:"Batch Segar Seterusnya",giftBox:"Set Hadiah Sarang Burung",giftBoxDesc:"6 Balang  120g setiap satu",original:"Original",redDate:"Kurma Merah",fishMaw:"Pundi Ikan",giftPrice:"Harga Set Hadiah",perBox:"/kotak",whatsappOrder:"Pesan via WhatsApp",bestseller:"Terlaris"},Xne={customers:"Pelanggan Gembira",flavors:"Pilihan Rasa",freshCycle:"Kitaran Segar",rating:"Kepuasan",whyTrust:"Mengapa Pilih Kami",customersLabel:"Pelanggan Setia",customersSub:"Kepercayaan melalui kualiti",flavorsLabel:"Rasa Terpilih",flavorsSub:"Sesuatu untuk semua orang",freshLabel:"Segar Ekspres",freshSub:"Masak hingga penghantaran",ratingLabel:"Ulasan Terbaik",ratingSub:"Maklum balas pelanggan sebenar"},Zne={discovery:"Penemuan Rasa",explore:"Terokai",flavors:"8 Rasa",viewAll:"Lihat Semua",birdNest:"Siri Sarang Burung",fishMaw:"Siri Pundi Ikan",giftBox:"Siri Set Hadiah",allProducts:"Semua Produk",orderNow:"Pesan Sekarang",addToCart:"Tambah ke Troli",outOfStock:"Kehabisan Stok"},ere={whyDifferent:"Mengapa Berbeza",title:"Inovasi",subtitle:"Melangkaui Had",description:"Kami mentakrifkan semula sarang burung rebus segar dengan teknologi dan kerajinan",science:"Formula Saintifik",scienceSub:"Diuji Makmal",scienceDesc:"Bahagian dikira dengan tepat untuk keseimbangan nutrisi optimum",scienceStat:"Nutrisi Dikekalkan",coldChain:"Rantai Sejuk Segar",coldChainSub:"Rantai Sejuk",coldChainDesc:"Rantai sejuk 4C penuh dari masakan hingga penghantaran",coldChainStat:"Suhu Malar",freshDaily:"Segar Harian",freshDailySub:"Segar Setiap Hari",freshDailyDesc:"Dibuat segar setiap hari, tidak pernah bermalam",freshDailyStat:"Kitaran Masakan",fullPortion:"Bahagian Penuh",fullPortionSub:"Bahagian Penuh",fullPortionDesc:"Tiada jalan pintas, setiap balang diisi dengan bahan sebenar",fullPortionStat:"Kandungan Bersih"},tre={title:"Tiga Langkah,",subtitle:"Segar ke Pintu Anda",step1:"Pertanyaan WhatsApp",step1Desc:"Hubungi satu klik, perunding berdedikasi dalam talian",step2:"Pilih Rasa",step2Desc:"8 rasa klasik untuk dipilih",step3:"Penghantaran Rantai Sejuk",step3Desc:"Rantai sejuk profesional, segar ke pintu anda",whatsappOrder:"Pesan WhatsApp",metaShop:"Kedai Meta",selectPackage:"Pilih Pakej",selectPackageDesc:"Pilih pakej pilihan anda",selectFlavors:"Pilih Rasa",selectFlavorsDesc:"Pilih kombinasi rasa kegemaran anda",confirmOrder:"Sahkan Pesanan",confirmOrderDesc:"Sila sahkan butiran pesanan anda",remaining:"Baki",birdNestFlavors:"Rasa Sarang Burung",fishMawFlavors:"Rasa Pundi Ikan",orderSummary:"Ringkasan Pesanan",packageLabel:"Pakej",priceLabel:"Harga",flavorSelection:"Pilihan Rasa",selectOrderMethod:"Pilih kaedah pesanan",back:"Kembali",next:"Seterusnya",moreNeeded:"lagi diperlukan",jarsUnit:" balang",greeting:"Helo, saya ingin memesan Sarang Burung LOVEYOUNG:",confirmRequest:"Sila sahkan pesanan saya, terima kasih!",startOrder:"Mula Pesan",deliveryInfo:"Maklumat Penghantaran",deliveryInfoDesc:"Sila isi alamat penghantaran dan butiran hubungan anda",customerName:"Nama",phone:"Nombor Telefon",address:"Alamat",city:"Bandar",state:"Negeri",postcode:"Poskod",deliveryDate:"Tarikh Penghantaran Pilihan (Pilihan)",submitOrder:"Hantar Pesanan",orderSuccess:"Pesanan Dihantar!",yourOrderNumber:"Nombor Pesanan Anda",trackOrder:"Jejak Pesanan",orderSubmitting:"Menghantar...",orderConfirmed:"Pesanan Disahkan",orderConfirmedDesc:"Kami telah menerima pesanan anda dan akan menghubungi anda tidak lama lagi.",continueOrdering:"Terus Memesan",viewOrder:"Lihat Pesanan",selectState:"Pilih Negeri",required:"Diperlukan",optional:"Pilihan",loginForSavedAddress:"Log masuk untuk menggunakan alamat tersimpan",loginBenefit:"Ahli boleh mengisi alamat dengan cepat dan mendapat mata",loginOrRegister:"Log Masuk / Daftar",continueAsGuest:"Teruskan sebagai tetamu",selectSavedAddress:"Pilih alamat tersimpan",useNewAddress:"Gunakan alamat baru",backToSavedAddresses:"Kembali ke alamat tersimpan",saveAddressToProfile:"Simpan alamat ke akaun saya",payment:"Pembayaran",paymentDesc:"Lengkapkan pembayaran untuk mengesahkan pesanan",proceedToPayment:"Teruskan ke Pembayaran",totalAmount:"Jumlah Keseluruhan",payOnline:"Bayar Dalam Talian (Stripe)",processing:"Memproses...",paymentMethods:"Menyokong Kad Kredit, FPX, GrabPay",needHelp:"Perlukan bantuan?",referralCode:"Kod Rujukan (Pilihan)",referralCodeValid:"Kod rujukan sah",referralCodeInvalid:"Masukkan kod rujukan yang sah",memberDiscount:"Diskaun ahli digunakan"},nre={realReviews:"Ulasan Sebenar",title:"Pelanggan",subtitle:"Ulasan",rating:"Penilaian",repeatCustomer:"Pembeli Berulang"},rre={title:"Mulakan",subtitle:"Perjalanan Segar Anda",description:"Pesan sekarang untuk tawaran eksklusif pelanggan baru. Bekalan harian terhad, siapa cepat dia dapat!",whatsappOrder:"Pesan WhatsApp Sekarang",metaShop:"Lawati Kedai Meta",hours:"Waktu: 9:00PG-9:00MLM",reply:"Balas dalam 24j"},are={tagline:"Segar, Tiada Kompromi",description:"Belayar Menentang Angin, Mentakrifkan Semula Kuasa Wanita. Dari Young Love ke Love Young, kami percaya mencintai diri sendiri dahulu untuk mencintai dunia dengan lebih baik.",brandName:"Love Young",quickLinks:"Pautan Pantas",contactUs:"Hubungi Kami",businessHours:"Waktu Perniagaan",hoursValue:"Isn-Ahd 9:00PG-9:00MLM",clickToChat:"Klik untuk Berbual",responseTime:"Respons dalam 24 jam",allRightsReserved:"Hak Cipta Terpelihara",slogan:"Against The Wind | Belayar Menentang Angin",products:"Produk",birdNest:"Siri Sarang Burung",fishMaw:"Siri Pundi Ikan",dessert:"Set Pencuci Mulut",service:"Sokongan",faq:"Soalan Lazim",shipping:"Maklumat Penghantaran",contact:"Hubungi Kami",followUs:"Ikuti Kami",copyright:"Hak Cipta Terpelihara"},sre={original:"Original",redDate:"Kurma Merah Goji",snowPear:"Pear Gula Batu",peachGum:"Gam Pic",coconut:"Kelapa",mango:"Mangga",fishMawOriginal:"Pundi Ikan Original",fishMawRedDate:"Pundi Ikan Kurma Merah",modalTitle:"Panduan Rasa",recommended:"Padanan Disyorkan",targetAudience:"Sesuai Untuk",originalDesc:"Intipati sarang burung tulen, nutrisi lembut untuk penjagaan harian",redDateDesc:"Formula kurma merah goji, menyuburkan darah, kegemaran wanita",snowPearDesc:"Pear gula batu rebus, menyejukkan & menyamankan, sesuai untuk semua usia",peachGumDesc:"Campuran gam pic & kulat salji, kaya kolagen, makanan kecantikan",coconutDesc:"Padanan santan manis, licin lembut, menyegarkan",mangoDesc:"Ketulan mangga segar, rasa tropika, pembuka selera",fishMawOriginalDesc:"Pundi ikan yang banyak, kaya kolagen, nutrisi kecantikan",fishMawRedDateDesc:"Pundi ikan dengan kurma merah, nutrisi berganda, penjagaan hangat"},ire={title:"Pilih",subtitle:"Pakej Anda",oneBox:"Pakej Satu Kotak",oneBoxDesc:"7 Balang  Bekalan Seminggu",oneBoxInfo:"Disejukkan sehingga 14 hari",oneBoxPrice:"RM158",twoBox:"Pakej Dua Kotak",twoBoxDesc:"14 Balang  Bekalan Dua Minggu",twoBoxInfo:"Nilai Lebih Baik  Disejukkan sehingga 14 hari",twoBoxPrice:"RM298",twoBoxSave:"Jimat RM18",chooseFlavor:"Pilih Rasa",preOrder:"Pra-pesan Segar",popular:"Popular",bestValue:"Nilai Terbaik",perJar:"/balang"},ore={pregnant:"Kehamilan",pregnantDesc:"Nutrisi pranatal, perkembangan janin",pregnantFlavors:"Original, Kurma Merah Goji, Pundi Ikan Original",children:"Kanak-kanak",childrenDesc:"Menguatkan perlembagaan, menggalakkan pertumbuhan",childrenFlavors:"Mangga, Kelapa, Pear Gula Batu",beauty:"Pencinta Kecantikan",beautyDesc:"Penjagaan kecantikan, pengganti makanan ringan",beautyFlavors:"Gam Pic, Pundi Ikan Original, Original",health:"Penjagaan Kesihatan",healthDesc:"Kesejahteraan harian, tingkatkan imuniti",healthFlavors:"Kurma Merah Goji, Pear Gula Batu, Pundi Ikan Kurma Merah"},lre={johor:"Johor",kedah:"Kedah",kelantan:"Kelantan",melaka:"Melaka",negeriSembilan:"Negeri Sembilan",pahang:"Pahang",penang:"Pulau Pinang",perak:"Perak",perlis:"Perlis",sabah:"Sabah",sarawak:"Sarawak",selangor:"Selangor",terengganu:"Terengganu",kualaLumpur:"Kuala Lumpur",labuan:"Labuan",putrajaya:"Putrajaya"},cre={logout:"Log Keluar",center:{loading:"Memuatkan...",loginTitle:"Sila Log Masuk",loginDesc:"Log masuk untuk mengakses Pusat Ahli",loginButton:"Log Masuk / Daftar",logout:"Log Keluar",user:"Pengguna",defaultUser:"Pengguna",version:"LOVE YOUNG v1.0",backToCenter:"Kembali ke Pusat Ahli",memberBadge:"Ahli",sections:{account:{title:"Akaun"},member:{title:"Perkhidmatan Ahli"},partner:{title:"Pusat Rakan Kongsi",dashboard:"Gambaran Keseluruhan"},adminCore:{title:"Panel Admin"},erp:{title:"Sistem ERP"}},sectionDesc:{account:"Urus tetapan akaun dan pilihan anda",member:"Lihat pesanan, urus alamat dan mata",partner:"Data perniagaan, pengurusan pasukan dan pengeluaran",adminCore:"Ciri pengurusan teras platform",erp:"Pengurusan rantaian bekalan dan kewangan"},menuItems:{personalCenter:"Pusat Peribadi",personalCenterDesc:"Lihat gambaran keseluruhan akaun",accountSettings:"Tetapan Akaun",accountSettingsDesc:"Edit maklumat peribadi",notifications:"Pemberitahuan",notificationsDesc:"Mesej sistem dan peringatan",helpCenter:"Pusat Bantuan",helpCenterDesc:"Soalan lazim",orderHistory:"Sejarah Pesanan",orderHistoryDesc:"Lihat pesanan lepas",addresses:"Alamat",addressesDesc:"Urus alamat penghantaran",pointsCenter:"Pusat Mata",pointsCenterDesc:"Lihat baki mata dan tebus",paymentMethods:"Kaedah Pembayaran",paymentMethodsDesc:"Urus kaedah pembayaran",overview:"Gambaran Keseluruhan",overviewDesc:"Lihat data perniagaan dan prestasi",referralNetwork:"Rangkaian Rujukan",referralNetworkDesc:"Pasukan saya dan ahli bawahan",promoMaterials:"Bahan Promosi",promoMaterialsDesc:"Dapatkan bahan perkongsian",lyPoints:"Mata LY",lyPointsDesc:"Butiran mata dan sejarah penggunaan",cashWallet:"Dompet Tunai",cashWalletDesc:"Lihat pendapatan dan pengeluaran",rwaPool:"Kolam Bonus RWA",rwaPoolDesc:"Lihat kitaran dividen dan token",earningsHistory:"Sejarah Pendapatan",earningsHistoryDesc:"Sejarah pulangan tunai dan dividen",dashboard:"Papan Pemuka",dashboardDesc:"Analitik perniagaan masa nyata",partnerManagement:"Pengurusan Rakan Kongsi",partnerManagementDesc:"Semak dan urus rakan kongsi",orderManagement:"Pengurusan Pesanan",orderManagementDesc:"Proses dan jejak pesanan",productManagement:"Pengurusan Produk",productManagementDesc:"Urus katalog produk",memberManagement:"Pengurusan Ahli",memberManagementDesc:"Lihat dan urus semua ahli",bonusPool:"Kolam Bonus",bonusPoolDesc:"Tetapan kitaran dividen RWA",inventory:"Inventori",inventoryDesc:"Pertanyaan stok dan pelarasan",purchase:"Pembelian",purchaseDesc:"Pesanan pembelian dan pembekal",logistics:"Logistik",logisticsDesc:"Logistik rantai sejuk dan penghantaran",bills:"Bil",billsDesc:"Rekod perbelanjaan dan bil",finance:"Kewangan",financeDesc:"Laporan hasil dan perbelanjaan"},quickStats:{lyPoints:"Mata LY",cashBalance:"Baki Tunai",rwaTokens:"Token RWA",totalSales:"Jumlah Jualan",activePartners:"Rakan Kongsi Aktif",monthlyOrders:"Pesanan Bulanan",monthlySales:"Jualan Bulanan",bonusPoolBalance:"Baki Kolam"},userStates:{user:"Pengguna",member:"Ahli",partner:"Rakan Kongsi",admin:"Admin"},badges:{pendingActivation:"Menunggu"},upgradePrompt:"Sila buat pembelian pertama untuk menjadi ahli dan membuka ciri ini",goShopping:"Pergi Membeli"},orders:{title:"Sejarah Pesanan",subtitle:"Lihat pesanan lepas anda",tabAll:"Semua",tabPending:"Menunggu",tabShipped:"Dihantar",tabDelivered:"Selesai",tabCancelled:"Dibatalkan",noOrders:"Tiada pesanan",goShop:"Pergi Membeli",viewDetails:"Lihat Butiran",totalItems:"Jumlah {count} item",total:"Jumlah",statusPending:"Menunggu",statusPaid:"Dibayar",statusProcessing:"Memproses",statusShipped:"Dihantar",statusDelivered:"Selesai",statusCancelled:"Dibatalkan",statusUnknown:"Tidak Diketahui",orderInfo:"Maklumat Pesanan",orderNumber:"Nombor Pesanan",orderDate:"Tarikh Pesanan",shippingAddress:"Alamat Penghantaran",trackingInfo:"Maklumat Pengesanan",contactAboutOrder:"Hubungi Mengenai Pesanan",paymentStatus:"Status Pembayaran",statusConfirmed:"Disahkan",statusPendingPayment:"Menunggu Pembayaran",timelineOrdered:"Dipesan",timelinePreparing:"Menyediakan",timelineShipping:"Menghantar",timelineCompleted:"Selesai"},points:{title:"Pusat Mata",subtitle:"Lihat baki mata dan tebus",currentPoints:"Mata Semasa",earnedThisMonth:"Diperoleh Bulan Ini",expiringSoon:"Akan Tamat Tempoh",tierProgress:"Kemajuan Tahap Keahlian",tierProgressDesc:"{points} mata diperlukan untuk {nextTier}",points:"mata",redeem:"Tebus Mata",redeemRate:"100 mata = RM1",redeemNow:"Tebus Sekarang",earnPoints:"Peroleh Mata",earnRate:"Peroleh 1 mata untuk setiap RM1 dibelanjakan",goShop:"Pergi Membeli",history:"Sejarah Mata",tabAll:"Semua",tabEarn:"Diperoleh",tabSpend:"Digunakan",balance:"Baki",rulesTitle:"Peraturan Mata",rule1:"Peroleh 1 mata untuk setiap RM1 dibelanjakan",rule2:"100 mata boleh ditebus untuk RM1",rule3:"Mata sah selama 12 bulan selepas diperoleh",rule4:"Mata tidak boleh dipindah milik"},settings:{title:"Tetapan Akaun",subtitle:"Urus maklumat peribadi dan pilihan anda",personalInfo:"Maklumat Peribadi",personalInfoDesc:"Kemaskini profil dan butiran hubungan anda",changeAvatar:"Tukar Avatar",name:"Nama",phone:"Nombor Telefon",email:"E-mel",emailNote:"E-mel dikaitkan dengan akaun Replit, tidak boleh diubah",security:"Tetapan Keselamatan",securityDesc:"Lindungi akaun anda",loginMethod:"Kaedah Log Masuk",loginMethodDesc:"Log masuk melalui akaun Replit",manage:"Urus",notifications:"Pilihan Pemberitahuan",notificationsDesc:"Urus tetapan pemberitahuan anda",orderNotify:"Kemaskini Pesanan",orderNotifyDesc:"Terima pemberitahuan apabila status pesanan berubah",promoNotify:"Promosi",promoNotifyDesc:"Terima tawaran dan promosi",earningNotify:"Makluman Pendapatan",earningNotifyDesc:"Terima pemberitahuan apabila dividen tiba",display:"Pilihan Paparan",darkMode:"Mod Gelap",darkModeDesc:"Ikut tetapan sistem",saveChanges:"Simpan Perubahan"},help:{title:"Pusat Bantuan",subtitle:"Soalan lazim dan sokongan pelanggan",searchPlaceholder:"Cari soalan...",faq:"Soalan Lazim",noResults:"Tiada soalan yang sepadan ditemui",contactUs:"Hubungi Kami",whatsapp:"WhatsApp",onlineConsult:"Perundingan Dalam Talian",phoneSupport:"Sokongan Telefon",emailSupport:"Sokongan E-mel",serviceHours:"Waktu perkhidmatan: Isnin-Sabtu 9:00-18:00 (tidak termasuk cuti umum)",categories:{order:"Pesanan",shipping:"Penghantaran",payment:"Pembayaran",refund:"Pemulangan",points:"Mata",partner:"Rakan Kongsi"},faqItems:{order1:{q:"Bagaimana untuk membuat pesanan?",a:'Pilih produk di halaman produk dan klik "Beli Sekarang" untuk menghubungi perkhidmatan pelanggan WhatsApp kami.'},order2:{q:"Bagaimana untuk menyemak status pesanan?",a:'Log masuk dan pergi ke Pusat Ahli, di mana anda boleh melihat semua status pesanan dan maklumat penghantaran dalam "Pesanan Saya".'},shipping1:{q:"Kawasan mana yang anda hantar?",a:"Kami kini menghantar ke seluruh Malaysia, termasuk Malaysia Timur dan Barat. Untuk penghantaran Singapura dan antarabangsa, sila hubungi perkhidmatan pelanggan."},shipping2:{q:"Berapa lama masa penghantaran?",a:"Malaysia Barat biasanya 3-5 hari bekerja, Malaysia Timur 5-7 hari bekerja. Kelewatan mungkin berlaku semasa cuti."},payment1:{q:"Kaedah pembayaran apa yang disokong?",a:"Kami menyokong perbankan dalam talian FPX, e-dompet Touch n Go, kad kredit/debit, dan kaedah pembayaran lain."},payment2:{q:"Adakah pembayaran selamat?",a:"Ya, semua pembayaran diproses melalui saluran yang disulitkan, dan maklumat pembayaran anda dilindungi dengan ketat."},refund1:{q:"Bolehkah saya memulangkan atau menukar barang?",a:"Disebabkan sifat produk makanan, pemulangan biasanya tidak diterima. Untuk isu kualiti, sila hubungi perkhidmatan pelanggan dalam masa 24 jam selepas menerima pesanan."},refund2:{q:"Berapa lama masa bayaran balik?",a:"Selepas pengesahan, bayaran balik akan dikembalikan ke akaun pembayaran anda dalam masa 3-7 hari bekerja."},points1:{q:"Bagaimana untuk mendapat mata?",a:"Dapatkan mata dengan membeli produk, merujuk pengguna baru, dan menyertai aktiviti promosi."},points2:{q:"Apa yang boleh saya gunakan dengan mata?",a:"Mata boleh digunakan untuk menebus kupon, mengimbangi jumlah pesanan, atau menukar hadiah eksklusif."},partner1:{q:"Bagaimana untuk menjadi rakan kongsi?",a:'Klik butang "Sertai Sekarang" di halaman Rakan Kongsi, pilih pakej, dan selesaikan pembayaran untuk memohon.'},partner2:{q:"Apakah faedah rakan kongsi?",a:"Rakan kongsi menikmati ganjaran mata LY, dividen token RWA, komisen rujukan, dan pendapatan rangkaian 10 peringkat."}}},notifications:{title:"Pemberitahuan",unreadCount:"Anda mempunyai {count} mesej belum dibaca",noUnread:"Tiada mesej belum dibaca",markAllRead:"Tandai semua dibaca",tabs:{all:"Semua",unread:"Belum dibaca",order:"Pesanan",earning:"Pendapatan",promo:"Promosi"},noMessages:"Tiada mesej",new:"Baru"},addresses:{title:"Pengurusan Alamat",subtitle:"Urus alamat penghantaran anda",addAddress:"Tambah Alamat",addAddressTitle:"Tambah Alamat Penghantaran",noAddresses:"Anda belum menambah sebarang alamat",addFirst:"Tambah alamat pertama anda",defaultBadge:"Lalai",setDefault:"Tetapkan sebagai lalai",edit:"Edit",delete:"Padam",cancel:"Batal",save:"Simpan Alamat",form:{name:"Nama Penerima",namePlaceholder:"Masukkan nama",phone:"Nombor Telefon",address:"Butiran Alamat",addressPlaceholder:"Jalan, nombor unit, tingkat, dll.",city:"Bandar",postcode:"Poskod",state:"Negeri"}},payment:{title:"Kaedah Pembayaran",subtitle:"Urus kaedah pembayaran anda",securityTitle:"Keselamatan Pembayaran",securityDesc:"Semua maklumat pembayaran disulitkan untuk memastikan wang anda selamat. Kami menyokong pelbagai kaedah pembayaran tempatan Malaysia.",boundMethods:"Kaedah Pembayaran Terpaut",methodCount:"Anda mempunyai {count} kaedah pembayaran ditambah",add:"Tambah",addTitle:"Tambah Kaedah Pembayaran",bankAccount:"Akaun Bank",ewallet:"E-Dompet",bankName:"Nama Bank",bankNamePlaceholder:"Pilih bank",accountNumber:"Nombor Akaun",accountNumberPlaceholder:"Masukkan nombor akaun",cancel:"Batal",save:"Simpan",noMethods:"Tiada kaedah pembayaran ditambah",default:"Lalai",setDefault:"Tetapkan sebagai lalai",thirdParty:"Pembayaran Pihak Ketiga",thirdPartyDesc:"Pesan dan bayar melalui kedai media sosial",creditCardSupport:"Kad kredit disokong",supportedMethods:"Kaedah Pembayaran Disokong",supportedList:{bank:"Pindahan Bank (FPX) - Maybank, CIMB, Public Bank, dll.",ewallet:"E-Dompet - Touch n Go, GrabPay, Boost",card:"Kad Kredit/Debit - melalui Meta Shop"}},partnerDashboard:{title:"Gambaran Perniagaan",subtitle:"Lihat data dan prestasi perniagaan anda",currentTier:"Tahap Semasa",partnerBadge:"Rakan Kongsi",tiers:{phase1:"Fasa 1",phase2:"Fasa 2",phase3:"Fasa 3"},myReferralCode:"Kod Rujukan Saya",lyPoints:"Mata LY",lyBalance:"Baki tersedia",cashWallet:"Dompet Tunai",cashBalance:"Baki boleh dikeluarkan",rwaToken:"Token RWA",rwaBalance:"Jumlah token dipegang",referralNetwork:"Rangkaian Rujukan",activeMembers:"{count} ahli aktif",monthlyEarnings:"Pendapatan Bulanan",earningsDesc:"Pulangan tunai dan pendapatan bonus RWA",totalEarnings:"Jumlah Pendapatan",lastMonthEarnings:"Bulan Lepas",rwaCycle:"Kitaran Kolam Bonus RWA",cycleDesc:"Kemajuan dividen kitaran {cycle}",cycleProgress:"Kemajuan Kitaran",nextPayoutDate:"Tarikh Pembayaran Seterusnya",viewDetails:"Lihat Butiran",quickActions:"Tindakan Pantas",promoMaterials:"Bahan Promosi",inviteFriends:"Jemput Rakan",withdraw:"Pengeluaran",upgradePlan:"Naik Taraf Pelan"},partnerJoin:{title:"Jadi Rakan Niaga",loginRequired:"Sila log masuk untuk memohon sebagai rakan niaga",exclusiveBenefits:"Manfaat Eksklusif Rakan Niaga",maxLyPoints:"Sehingga 3000 Mata LY",rwaDividend:"Dividen Token RWA",tenLevelNetwork:"Rangkaian Rujukan 10 Tahap",loginToJoin:"Log Masuk untuk Memohon",learnMore:"Ketahui Lebih Lanjut",alreadyPartner:"Anda sudah menjadi Rakan Niaga",accountActive:"Akaun rakan niaga anda aktif",pendingReview:"Permohonan anda sedang disemak",activated:"Diaktifkan",pending:"Menunggu",goToDashboard:"Pergi ke Papan Pemuka Rakan Niaga",applicationSuccess:"Permohonan Dihantar!",congratsMessage:"Tahniah kerana menghantar permohonan rakan niaga",reviewProcess:"Kami akan menyelesaikan semakan dalam 1-2 hari bekerja",ensurePayment:"Sila pastikan pembayaran anda selesai",backToMember:"Kembali ke Pusat Ahli",backToHome:"Kembali ke Laman Utama",joinPartner:"Sertai sebagai Rakan Niaga",stepProfile:"Langkah 1/3",step1:"Langkah 2/3",step2:"Langkah 3/3",completeProfile:"Lengkapkan Profil Anda",profileDesc:"Sila isi maklumat asas anda sebelum menjadi rakan niaga",namePlaceholder:"Masukkan nama anda",continueToPackage:"Teruskan ke Pakej",selectPackage:"Pilih Pakej",selectPackageDesc:"Pilih pakej yang sesuai dengan keperluan anda",mostPopular:"Paling Popular",referralCodeLabel:"Kod Rujukan",referralCodePlaceholder:"Masukkan kod perujuk",nextStep:"Seterusnya",backToPackage:"Kembali ke Pakej",orderConfirm:"Pengesahan Pesanan",package:"Pakej",amountToPay:"Jumlah Perlu Dibayar",selectPayment:"Pilih Kaedah Pembayaran",securityGuarantee:"Jaminan Keselamatan",encryptedTransaction:"Transaksi Selamat SSL Dienkripsi",activationTime:"Akaun diaktifkan dalam 24 jam",support24h:"Sokongan Pelanggan 24/7",paymentNote:"Sila simpan resit pembayaran anda. Hubungi sokongan jika ada sebarang pertanyaan.",confirmPay:"Sahkan Pembayaran",applicationSubmitted:"Permohonan Dihantar",applicationDesc:"Kami akan memproses permohonan anda dengan segera",applicationFailed:"Permohonan Gagal",packages:{phase1:{name:"Pakej Permulaan",feature1:"2000 Mata LY",feature2:"2 Token RWA",feature3:"Rangkaian 10 Tahap",feature4:"Bahan Latihan Asas"},phase2:{name:"Pakej Pertumbuhan",feature1:"2600 Mata LY",feature2:"3 Token RWA",feature3:"Rangkaian 10 Tahap",feature4:"Bahan Latihan Lanjutan"},phase3:{name:"Pakej Elite",feature1:"3000 Mata LY",feature2:"4 Token RWA",feature3:"Rangkaian 10 Tahap",feature4:"Bahan Latihan Lengkap",feature5:"Sokongan Keutamaan"}},paymentMethods:{fpx:"Perbankan Online FPX",tng:"Touch n Go",card:"Kad Kredit/Debit"}},earnings:{title:"Sejarah Pendapatan",subtitle:"Lihat sejarah pulangan tunai dan dividen RWA",totalEarnings:"Jumlah Pendapatan",vsLastMonth:"berbanding bulan lepas",thisMonth:"Bulan Ini",lastMonth:"Bulan Lepas",thisMonthEarnings:"Bulan Ini",lastMonthEarnings:"Bulan Lepas",cashback:"Pulangan Tunai",rwaDividend:"Dividen RWA",referralReward:"Ganjaran Rujukan",tabs:{all:"Semua",cashback:"Pulangan",rwa:"RWA",referral:"Rujukan"},history:"Sejarah Pendapatan",historyDesc:"Lihat semua rekod sumber pendapatan",income:"Pendapatan",noRecords:"Tiada rekod pendapatan",noRecordsForType:"Tiada rekod untuk jenis ini",filter:"Tapis",export:"Eksport"},wallet:{title:"Dompet Tunai",subtitle:"Lihat pendapatan dan mohon pengeluaran",availableBalance:"Baki Tersedia",pendingWithdraw:"Pengeluaran Dalam Proses",applyWithdraw:"Mohon Pengeluaran",withdrawTitle:"Mohon Pengeluaran",withdrawDesc:"Pengeluaran akan diproses dalam 1-3 hari bekerja",withdrawAmount:"Jumlah (RM)",withdrawPlaceholder:"Masukkan jumlah pengeluaran",availableBalanceLabel:"Baki Tersedia",selectBank:"Pilih Bank",selectBankPlaceholder:"Pilih bank",cancel:"Batal",confirmWithdraw:"Sahkan Pengeluaran",quickStats:"Statistik Pantas",totalIncome:"Jumlah Pendapatan",totalWithdrawn:"Jumlah Dikeluarkan",thisMonthIncome:"Bulan Ini",transactions:"Transaksi",income:"Pendapatan",withdraw:"Pengeluaran",status:{completed:"Selesai",pending:"Dalam Proses",failed:"Gagal"},transactionsDesc:"Lihat semua butiran transaksi dompet",exportRecords:"Eksport Rekod",noTransactions:"Tiada transaksi",bankAccount:"Akaun Bank",bankAccountDesc:"Urus akaun bank penerima anda",noBankAccount:"Tiada akaun bank dipautkan",contactForBank:"Sila hubungi sokongan untuk menambah akaun bank",addBankAccount:"+ Tambah Akaun Bank",bindBankFirst:"Sila pautkan akaun bank terlebih dahulu",contactToAdd:"Hubungi sokongan untuk menambah",minWithdrawNote:"Pengeluaran minimum RM 50.00, caj pemprosesan RM 1.00 setiap pengeluaran",invalidAmount:"Jumlah tidak sah",minAmountMsg:"Pengeluaran minimum RM 50.00",insufficientBalance:"Baki tidak mencukupi",exceedsBalanceMsg:"Pengeluaran melebihi baki tersedia",withdrawSuccess:"Permohonan pengeluaran dihantar",withdrawSuccessDesc:"Dijangka diproses dalam 1-3 hari bekerja",withdrawFailed:"Pengeluaran gagal"},referrals:{title:"Rangkaian Rujukan",subtitle:"Lihat ahli pasukan dan rangkaian bawahan anda",totalReferrals:"Jumlah Rujukan",activeMembers:"Ahli Aktif",directReferrals:"Rujukan Langsung",totalLyEarned:"Jumlah LY Diperolehi",searchPlaceholder:"Cari nama ahli...",filterLevel:"Tapis Tahap",allLevels:"Semua Tahap",level:"Tahap {n}",teamMembers:"Ahli Pasukan",memberCount:"{count} ahli",joinDate:"Tarikh Sertai",lyEarned:"LY Diperolehi",pendingActivation:"Menunggu",inviteFriends:"Jemput Rakan",shareCode:"Kongsi Kod Rujukan",noMembers:"Tiada ahli pasukan lagi",noMatchingMembers:"Tiada ahli sepadan",teamList:"Senarai Ahli Pasukan",teamListDesc:"Rangkaian rujukan 10 peringkat",allFilter:"Semua",teamTotalLy:"Jumlah LY Pasukan",joinTime:"Tarikh Sertai",lyBalanceLabel:"Baki LY",inviteTitle:"Jemput Lebih Ramai Rakan",inviteDesc:"Dapatkan mata LY untuk setiap rakan kongsi yang dirujuk",inviteNow:"Jemput Sekarang",tierPhase1:"Pakej Permulaan",tierPhase2:"Pakej Pertumbuhan",tierPhase3:"Pakej Elite"},lyPoints:{title:"Mata LY",subtitle:"Lihat sejarah dan penggunaan mata",currentBalance:"Baki Mata LY Semasa",redeemGift:"Tebus Hadiah",usePoints:"Guna Mata",totalEarned:"Jumlah Diperolehi",totalSpent:"Jumlah Diguna",thisMonthEarned:"Bulan Ini",fromReferrals:"Ganjaran Rujukan",fromReplenishment:"Ganjaran Tambah Stok",tabs:{all:"Semua Rekod",earn:"Diperolehi",spend:"Diguna"},history:"Sejarah Mata",balance:"Baki",networkRules:"Peraturan Mata Rangkaian",networkRulesDesc:"Mata LY diperolehi melalui rangkaian rujukan 10 peringkat",tier1:"Tahap 1: 20%",tier2:"Tahap 2: 15%",tier3to5:"Tahap 3-5: 10% setiap",tier6to10:"Tahap 6-10: 5% setiap",historyDesc:"Lihat semua rekod transaksi mata LY",noRecords:"Tiada rekod mata",rulesTitle:"Peraturan Mata LY",ruleEarn1:"Dapatkan mata LY dengan pembelian pakej",ruleEarn2:"Dapatkan ganjaran untuk merujuk rakan kongsi baharu",ruleEarn3:"Dapatkan mata rangkaian 10 peringkat dari penambahan pasukan",ruleUse1:"Tebus untuk hadiah atau kupon",ruleUse2:"Tolak jumlah pesanan",ruleNote:"Mata tamat tempoh 12 bulan selepas diperoleh",filter:"Tapis",export:"Eksport",earnBadge:"Perolehi",useBadge:"Guna",noteBadge:"Nota"},materials:{title:"Bahan Pemasaran",subtitle:"Dapatkan bahan perkongsian untuk promosi anda",myQrCode:"Kod QR Rujukan Saya",qrCodeDesc:"Imbas untuk sertai rangkaian rujukan anda terus",downloadQr:"Muat Turun QR",shareLink:"Kongsi Pautan",tabs:{images:"Gambar",documents:"Dokumen",videos:"Video"},download:"Muat Turun",copyLink:"Salin Pautan",copied:"Disalin",size:"Saiz",fileType:"Jenis",fileSize:"Saiz",duration:"Tempoh",notMember:"Belum Menjadi Ahli",notMemberDesc:"Selesaikan pembelian pertama untuk menjadi ahli dan buka bahan promosi",goShopping:"Pergi Membeli-belah",myReferralLink:"Pautan Rujukan Saya",referralCodeLabel:"Kod Rujukan",copyReferralCode:"Salin Kod",shareWhatsApp:"Kongsi ke WhatsApp",referralLinkLabel:"Pautan Rujukan",share:"Kongsi",preview:"Pratonton",play:"Main",socialShare:"Perkongsian Sosial Pantas",socialShareDesc:"Kongsi ke platform sosial utama dengan satu klik",copyFailed:"Salinan gagal",copiedToClipboard:"Disalin ke papan keratan",productPoster:"Poster Produk - Sarang Burung",brandStory:"Cerita Jenama",recruitPoster:"Poster Pengambilan Rakan Kongsi",holidayPromo:"Bahan Promosi Perayaan",productManual:"Manual Produk PDF",trainingMaterial:"Panduan Latihan Rakan Kongsi",faqDocument:"Dokumen FAQ",brandPpt:"Pembentangan Jenama PPT",brandVideo:"Video Jenama",productProcess:"Proses Pembuatan Produk",successStory:"Cerita Kejayaan Rakan Kongsi",shareText:"Love Young Sarang Burung Premium - Pilihan Hidup Berkualiti! Gunakan kod rujukan saya {code} untuk mendaftar dan nikmati manfaat ahli eksklusif!",itemShareText:"Disyorkan untuk anda: {title}! Gunakan kod rujukan saya {code} untuk mendaftar dan dapatkan tawaran eksklusif!"},rwa:{title:"Kolam Bonus RWA",subtitle:"Lihat kitaran dividen dan pegangan token",myTokens:"Token RWA Saya",tokenUnit:"token",activeHolding:"Pegangan Aktif",totalDividends:"Jumlah Dividen",currentEstimate:"Anggaran Semasa",avgPerToken:"Purata setiap Token",currentCycle:"Kitaran Semasa",cycle:"Kitaran {n}",cycleProgress:"Kemajuan Kitaran",daysRemaining:"{days} hari lagi",poolAmount:"Jumlah Kolam",estimatedDividend:"Anggaran Dividen",nextPayout:"Pembayaran pada {date}",cycleHistory:"Sejarah Kitaran",completed:"Selesai",active:"Aktif",dividendReceived:"Dividen Dibayar",tokenHistory:"Sejarah Perolehan Token",tokenHistoryDesc:"Butiran sumber token RWA",howItWorks:"Peraturan Kolam Bonus RWA",rule1:"1. Kolam bonus RWA berjalan dalam kitaran dividen 10 hari, dengan 30% jualan masuk ke kolam",rule2:"2. Anda boleh mendapat token RWA dengan membeli pakej, merujuk rakan niaga baharu, dll.",rule3:"3. Pada akhir setiap kitaran, kolam diagihkan secara berkadar kepada semua pemegang token",rule4:"4. Token dipegang secara kekal dan menyertai setiap kitaran dividen",startDate:"Tarikh Mula",endDate:"Tarikh Tamat",currentPool:"Kolam Semasa",noCycle:"Tiada kitaran aktif",cycleHistoryDesc:"Rekod dividen dari kitaran lepas",tokensParticipated:"token menyertai",noCycles:"Tiada rekod kitaran dividen lagi",noTokens:"Tiada rekod token lagi",sourcePackage:"Pembelian Pakej",sourceNetworkOrder:"Ganjaran Pesanan Rangkaian",sourceMilestone:"Ganjaran Pencapaian",sourceReferral:"Ganjaran Rujukan"}},dre={title:"Program Rakan Kongsi",subtitle:"Model Ko-cipta Aset Digital RWA",description:"Jadi rakan kongsi LOVEYOUNG, sertai pembinaan jenama, nikmati pelbagai faedah",joinNow:"Sertai Sekarang",learnMore:"Ketahui Lebih",benefits:"Faedah Rakan Kongsi",howItWorks:"Cara Ia Berfungsi",tiers:"Peringkat Perkongsian",faq:"Soalan Lazim",phase1:"Fasa 1",phase2:"Fasa 2",phase3:"Fasa 3",investment:"Pelaburan",lyPoints:"Mata LY",referralBonus:"Bonus Rujukan",monthlyDividend:"Dividen Bulanan",dashboard:"Papan Pemuka Rakan Kongsi",myNetwork:"Rangkaian Saya",earnings:"Butiran Pendapatan",withdraw:"Pengeluaran",referralCode:"Kod Rujukan",copyCode:"Salin Kod",codeCopied:"Disalin",referralLink:"Pautan Rujukan",totalEarnings:"Jumlah Pendapatan",pendingWithdrawal:"Pengeluaran Tertunda",lyBalance:"Baki LY",cashBalance:"Baki Tunai",directReferrals:"Rujukan Langsung",teamSize:"Saiz Pasukan",currentCycle:"Kitaran Semasa",cycleProgress:"Kemajuan Kitaran",estimatedDividend:"Anggaran Dividen",daysRemaining:"Hari Berbaki",poolAmount:"Jumlah Kolam",yourShare:"Bahagian Anda",joinRequirements:"Syarat Penyertaan",selectPackage:"Pilih Pakej",agreeTerms:"Saya bersetuju dengan Perjanjian Rakan Kongsi",submitApplication:"Hantar Permohonan",applicationPending:"Permohonan Dalam Semakan",applicationApproved:"Permohonan Diluluskan",applicationRejected:"Permohonan Ditolak",notPartner:"Anda belum menjadi rakan kongsi",becomePartner:"Jadi Rakan Kongsi",whatsappMessage:"Helo, saya ingin mengetahui tentang Program Rakan Kongsi.",page:{heroTitle1:"Labur RM1,000",heroTitle2:"Pendapatan",heroTitle3:"Melebihi 2x Ganda",heroSubtitle:"Jadi Rakan Kongsi Love Young dan terima 2000 Mata LY. Melalui jualan dan rangkaian rujukan 10 peringkat, Mata LY diisi semula berterusan, pendapatan tidak pernah berhenti.",heroSubtitleBold:"Ambil tindakan, pendapatan tanpa had!",applyNow:"Mohon Sekarang",consultDetails:"Tanya Butiran Program",minInvestment:"Pelaburan Minimum",lyPointsObtained:"Mata LY = Minimum RM2000 Boleh Dikeluarkan",unlimitedEarnings:"Terus Bekerja, Pendapatan Tanpa Had",applicationSubmitted:"Permohonan Dihantar",applicationSubmittedDesc:"Lengkapkan pembayaran untuk mengaktifkan status rakan kongsi anda.",applicationFailed:"Permohonan Gagal"},concepts:{assetTransparency:"Ketelusan Aset",assetTransparencyDesc:"Setiap hak operasi digital disandarkan kepada bahan mentah sarang burung sebenar, inventori produk kesihatan premium dan aset fizikal lain.",earningsGuarantee:"Perlindungan Pendapatan",earningsGuaranteeDesc:"Pendapatan dijamin melalui sistem Mata LY dengan data telus dan penyelesaian cekap.",globalFlow:"Peredaran Global",globalFlowDesc:"Pecahkan batasan geografi dan sertai susun atur rantaian industri kesejahteraan premium global dan dividen."},dividends:{title:"Model Pendapatan Dwi",subtitle:"Dua kaedah dividen beroperasi serentak, pendapatan bertindan. Pengeluaran memotong Mata LY 1:1, diisi semula berterusan melalui rangkaian 10 peringkat.",method1:"Kaedah Pendapatan 1",method2:"Kaedah Pendapatan 2",cashbackTitle:"Dividen Cashback",cashbackDesc:"Jual produk melalui rangkaian rujukan 3 generasi anda, dapatkan ganjaran cashback segera",rwaTitle:"Dividen Kolam Bonus RWA",rwaDesc:"30% jualan platform masuk kolam bonus, diagihkan setiap 10 hari mengikut nisbah token RWA",gen1:"Generasi 1 (Rujukan Langsung Anda)",gen2:"Generasi 2 (Rujukan daripada Rujukan)",gen3:"Generasi 3 dan Seterusnya",cashback50:"50% Cashback",cashback30:"30% Cashback",cashback20:"20% Cashback",cashbackExample:"Contoh: Rujukan gen 1 anda jual 1 kotak (RM199), anda dapat RM99.5 cashback",salesIntoPool:"Jualan ke Kolam",distributeByToken:"Agih Mengikut Token",yourDividend:"Dividen Anda",autoToken:"Setiap rakan kongsi auto terima",tokenPerSale:"Setiap kotak dijual dapat",cycleReset:"Selepas setiap kitaran 10 hari",tokenReset:"Token set semula ke sifar",rwaExample:"Contoh: Anda jual 20 kotak dalam kitaran, pegang 21 token. Jika jumlah token 550 dan kolam bonus RM29,850, anda dapat dividen RM1,140"},ly:{title:"Mata LY: Enjin Pendapatan Berterusan",subtitle:"Pengeluaran memerlukan potongan Mata LY sama, tetapi diisi semula berterusan melalui rangkaian rujukan 10 peringkat. Selagi rangkaian aktif, pendapatan tidak pernah berhenti!",networkTitle:"Pengisian Semula LY Rangkaian 10 Peringkat",networkSubtitle:"Setiap peringkat mengisi mata secara berkadaran",totalReplenish:"Jumlah Pengisian: Rangkaian 10 peringkat boleh mengisi sehingga",ofSales:"jualan sebagai Mata LY",cycleTitle:"Gambarajah Kitaran Pendapatan",salesGenerate:"Jualan Jana Pendapatan",enterWallet:"Masuk Dompet Pengeluaran",withdrawDeduct:"Pengeluaran Potong LY",networkReplenish:"Rangkaian Isi Semula LY",keepActive:"Kekalkan rangkaian rujukan anda aktif,",neverDry:"LY tidak pernah kering, pendapatan tidak pernah berhenti!",whyMoreTitle:"Mengapa Pendapatan Melebihi 2x?",whyMoreDesc:"Labur RM1000 untuk dapat 2000 LY, nampak macam maksimum pengeluaran RM2000. Tetapi setiap jualan dalam rangkaian 10 peringkat anda mengisi semula Mata LY secara berkadaran. Lebih aktif rangkaian anda, lebih cepat LY diisi, lebih banyak pendapatan boleh dikeluarkan!",importantNote:"Nota Penting",importantNoteDesc:"Tidak boleh mengeluarkan pendapatan sepadan apabila Mata LY tidak mencukupi. Teruskan beroperasi untuk mengisi semula LY dan pastikan pendapatan boleh dikeluarkan.",level1:"Langsung",level2:"Peringkat 2",level3:"Peringkat 3",level4:"Peringkat 4",level5:"Peringkat 5",level6:"Peringkat 6",level7:"Peringkat 7",level8:"Peringkat 8",level9:"Peringkat 9",level10:"Peringkat 10"},network:{you:"Anda",gen1:"G1",gen2:"G2",gen3:"G3",plusCashback:"+Cashback"},tierSection:{title:"Pilih Peringkat Rakan Kongsi Anda",subtitle:"Pelaburan lebih tinggi, lebih banyak Mata LY, had pengeluaran lebih tinggi",mostPopular:"Paling Popular",invest:"Labur",getLyPoints:"Dapat Mata LY",minWithdraw:"= Min Keluarkan RM",consultNow:"Tanya Sekarang"},tierNames:{phase1:"Rakan Pelancaran",phase2:"Rakan Pengasas",phase3:"Rakan Strategik"},tierFeatures:{cashback50First5:"50% cashback 5 kotak pertama",cashback30Next5:"30% cashback kotak 6-10",cashback20Rest:"20% cashback selebihnya",freeFirstBox:"Produk kotak pertama percuma",photoShoot:"Sesi foto peribadi",tenLevelBonus:"Bonus rujukan 10 peringkat",weight12x:"Bonus berat dividen 1.2x",factoryVip:"Lawatan kilang VIP",microFilm:"Penyertaan filem mikro jenama",weight15x:"Bonus berat dividen 1.5x",topPoolPriority:"Keutamaan kolam bonus teratas",intlLaunch:"Tempat acara pelancaran antarabangsa",cobranding:"Keuntungan produk jenama bersama",exclusiveBiz:"Kolaborasi perniagaan eksklusif"},simulator:{title:"Simulator Dividen RWA",subtitle:"Laraskan parameter untuk anggaran pendapatan dividen kitaran anda",mySales:"Jualan Kitaran Saya",boxes:"kotak",totalPlatformSales:"Jumlah Jualan Platform",activePartners:"Rakan Kongsi Aktif",people:"orang",avgSalesPerPerson:"Purata Jualan Setiap Orang",cycleTotalSales:"Jumlah Jualan Kitaran",bonusPool30:"Kolam Bonus (30%)",myRwaTokens:"Token RWA Saya",units:"unit",totalPlatformTokens:"Jumlah Token Platform",myRatio:"Nisbah Saya",estimatedCycleDividend:"Anggaran Dividen Kitaran",withdrawNeedsLy:"* Pengeluaran memerlukan Mata LY sama"},ecosystem:{title:"Ekosistem Jenama LOVEYOUNG",desc1:"LOVEYOUNG telah membina ekosistem jenama lengkap meliputi produk premium, kolaborasi KOL, pelaburan RWA, pembinaan komuniti, pemasaran digital dan banyak lagi.",desc2:"Sebagai rakan kongsi, anda menjadi bahagian penting ekosistem ini, bersama-sama memacu pembangunan jenama dan berkongsi dividen pertumbuhan.",modules:"Modul Perniagaan",fullSupport:"Sokongan Penuh",imgAlt:"Ekosistem Jenama LOVEYOUNG"},faqs:{title:"Soalan Lazim",subtitle:"Menjawab Kebimbangan Anda",q1:"Apa itu Rakan Kongsi? Bagaimana ia berbeza daripada ejen tradisional?",a1:"Rakan Kongsi adalah pembina bersama jenama, bukan ejen berperingkat tradisional. Kami tiada keperluan inventori, semua pendapatan datang daripada jualan produk akhir sebenar. Setiap kotak yang anda kongsi dihantar terus dari kilang, memastikan kualiti dan kesegaran.",q2:"Bolehkah melabur RM1000 benar-benar dapat lebih daripada RM2000?",a2:"Ya! Labur RM1000 untuk jadi Rakan Pelancaran dan terima 2000 Mata LY. Ini bermakna anda boleh keluarkan minimum RM2000 (potongan LY 1:1). Tetapi pendapatan melebihi 2xmelalui rangkaian rujukan 10 peringkat anda, setiap jualan mengisi semula Mata LY anda secara berkadaran, terus membuka lebih banyak pendapatan!",q3:"Apa beza dividen cashback dan dividen kolam RWA?",a3:"Dividen cashback adalah cashback segera daripada jualan langsung anda atau jualan rangkaian 3 generasi (50%/30%/20%). Dividen kolam RWA adalah dividen berkala setiap 10 hariplatform masukkan 30% jualan ke kolam bonus, diagihkan mengikut nisbah token RWA anda. Kedua-duanya memerlukan Mata LY sama untuk pengeluaran.",q4:"Apa itu Mata LY? Bagaimana untuk isi semula?",a4:"Mata LY adalah deposit jaminan pendapatan anda. Setiap jualan dalam rangkaian rujukan 10 peringkat anda mengisi semula Mata LY mengikut peratusan peringkat (Peringkat 1: 8%, Peringkat 2: 5%...). Selagi rangkaian anda kekal aktif, Mata LY mengalir berterusan, dan pendapatan terus datang!",q5:"Mengapa pengeluaran memerlukan potongan Mata LY?",a5:"Mekanisme LY memastikan kelestarian pendapatan. Reka bentuk ini menggalakkan rakan kongsi membina rangkaian jualan stabil, membuka lebih banyak pendapatan melalui tindakan berterusan berbanding pengeluaran tunai sekali. Terus ambil tindakan, dan pendapatan anda akan jauh melebihi pelaburan awal!",q6:"Adakah saya perlu stok inventori?",a6:"Sama sekali tidak! Semua produk dihantar terus dari kilang kepada pelanggan akhir. Anda hanya fokus pada berkongsi dan mempromosi. Sifar inventori, sifar risiko!"},cta:{title:"Tindakan Mencipta Kemungkinan Tanpa Had",subtitle:"Labur RM1,000, dapat 2,000 Mata LY. Diisi semula berterusan melalui rangkaian 10 peringkat, pendapatan melebihi 2x,",subtitleBold:"Terus ambil tindakan, pendapatan tidak pernah berhenti!",becomePartner:"Jadi Rakan Kongsi Sekarang",whatsappConsult:"Tanya WhatsApp"},modal:{title:"Mohon Jadi Rakan Kongsi",selectedTier:"Anda pilih",referralCodeOptional:"Kod Rujukan (Pilihan)",referralCodePlaceholder:"Masukkan kod rujukan 8 digit",cancel:"Batal",confirmAndPay:"Sahkan & Bayar"}},ure={title:"Panel Admin",dashboard:"Papan Pemuka",partners:"Pengurusan Rakan Kongsi",orders:"Pengurusan Pesanan",products:"Pengurusan Produk",members:"Pengurusan Ahli",bonusPool:"Kolam Bonus",inventory:"Inventori",purchase:"Perolehan",logistics:"Logistik",bills:"Bil",finance:"Kewangan",settings:"Tetapan",backToMember:"Kembali ke Pusat Ahli",backToHome:"Kembali ke Laman Utama",adminPanel:"Panel Admin",erpSystem:"Sistem ERP",memberCenter:"Pusat Ahli",pleaseLogin:"Sila Log Masuk",adminRequired:"Kebenaran pentadbir diperlukan untuk mengakses halaman ini",adminRole:"Pentadbir",menu:{dashboard:"Papan Pemuka",partners:"Pengurusan Rakan Kongsi",orders:"Pengurusan Pesanan",products:"Pengurusan Produk",members:"Pengurusan Ahli",bonusPool:"Kolam Bonus",inventory:"Inventori",production:"Barisan Pengeluaran",purchase:"Perolehan",logistics:"Logistik",bills:"Bil",finance:"Kewangan",withdrawals:"Pengeluaran",bundles:"Pakej",siteSettings:"Tetapan Laman",metaAds:"Iklan Meta",xiaohongshu:"Xiaohongshu",mediaPlan:"Pelan Media",adPlacement:"Perancangan Iklan",performanceReports:"Laporan",whatsappConfig:"Konfigurasi WhatsApp",whatsappOrders:"Pesanan WhatsApp",whatsappMembers:"Pendaftaran Ahli",aiCustomerService:"Perkhidmatan AI",whatsappPush:"Pemberitahuan Tolak",systemHealth:"Kesihatan Sistem"},marketingSystem:"Pemasaran",whatsappBusiness:"WhatsApp Business",productionPage:{title:"Pengurusan Barisan Pengeluaran",subtitle:"Urus kelompok pengeluaran, aliran proses dan penggunaan bahan mentah",newBatch:"Kelompok Baharu",totalBatches:"Jumlah Kelompok",inProgress:"Sedang Berjalan",completed:"Selesai",planned:"Dirancang",batchList:"Senarai Kelompok",materialUsage:"Penggunaan Bahan",searchPlaceholder:"Cari nombor kelompok atau produk...",qty:"Kuantiti",progress:"Kemajuan",steps:"langkah",plannedDate:"Tarikh Dirancang",startTime:"Masa Mula",plannedQty:"Kuantiti Dirancang",actualQty:"Output Sebenar",nextStep:"Langkah Seterusnya",viewDetails:"Lihat Butiran",viewReport:"Lihat Laporan",materialName:"Nama Bahan",plannedUsage:"Penggunaan Dirancang",actualUsage:"Penggunaan Sebenar",wastage:"Pembaziran",wastageRate:"Kadar Pembaziran",stepMaterialPrep:"Penyediaan Bahan",stepCleaning:"Pembersihan",stepCooking:"Masakan",stepColdStorage:"Penyimpanan Sejuk",stepInspection:"Pemeriksaan",statusPlanned:"Dirancang",statusMaterialPrep:"Menyediakan",statusCleaning:"Membersih",statusCooking:"Memasak",statusColdStorage:"Penyimpanan Sejuk",statusInspection:"Memeriksa",statusCompleted:"Selesai",statusCancelled:"Dibatalkan",statusUnknown:"Tidak diketahui",bomTab:"Resepi BOM",selectProduct:"Pilih Produk",selectMaterial:"Pilih Bahan",addBomEntry:"Tambah Bahan",quantityPerUnit:"Kuantiti per Unit",currentStock:"Stok Semasa",createBatch:"Cipta Kelompok",product:"Produk",extractMaterials:"Keluarkan Bahan",materialsExtracted:"Bahan telah ditolak dari inventori",noBom:"Tiada resepi BOM untuk produk ini",noProductSelected:"Pilih produk untuk lihat resepi",materialReq:"Keperluan Bahan",unit:"Unit",notesLabel:"Nota",notesPlaceholder:"Nota pilihan...",noBatches:"Tiada kelompok pengeluaran",noMaterials:"Tiada rekod penggunaan bahan"},totalRevenue:"Jumlah Hasil",totalOrders:"Jumlah Pesanan",totalMembers:"Jumlah Ahli",totalPartners:"Jumlah Rakan Kongsi",pendingOrders:"Pesanan Tertunda",pendingPartners:"Rakan Kongsi Tertunda",lowStock:"Amaran Stok Rendah",recentActivity:"Aktiviti Terkini",quickActions:"Tindakan Pantas",viewDetails:"Lihat Butiran",activate:"Aktifkan",deactivate:"Nyahaktifkan",approve:"Luluskan",reject:"Tolak",export:"Eksport",import:"Import",refresh:"Muat Semula",addNew:"Tambah Baru",editItem:"Edit",deleteItem:"Padam",confirmDelete:"Sahkan padam?",deleteSuccess:"Berjaya dipadam",saveSuccess:"Berjaya disimpan",operationSuccess:"Operasi berjaya",operationFailed:"Operasi gagal",noPermission:"Tiada kebenaran",partnerStatus:{pending:"Tertunda",active:"Aktif",inactive:"Tidak Aktif",suspended:"Digantung"},orderStatus:{pending:"Tertunda",confirmed:"Disahkan",processing:"Memproses",shipped:"Dihantar",delivered:"Dihantar",cancelled:"Dibatalkan"},loginRequired:"Sila Log Masuk",loginRequiredDesc:"Kebenaran admin diperlukan untuk akses halaman ini",login:"Log Masuk",insufficientPermission:"Kebenaran Tidak Mencukupi",noAdminPermission:"Anda tidak mempunyai kebenaran admin",goHome:"Ke Laman Utama",backToFront:"Kembali ke Laman",production:"Pengeluaran",hygiene:"Pemeriksaan Kebersihan",coldchain:"Rantaian Sejuk",reports:"Laporan",activePartners:"Rakan Kongsi Aktif",monthlyOrders:"Pesanan Bulanan",monthlySales:"Jualan Bulanan",currentBonusPool:"Kolam Bonus Semasa",recentOrders:"Pesanan Terkini",pendingItems:"Item Tertunda",noOrderData:"Tiada data pesanan",noPendingItems:"Tiada item tertunda",partnerList:"Senarai Rakan Kongsi",addPartner:"Tambah Rakan Kongsi",noPartnerData:"Tiada data rakan kongsi",orderList:"Senarai Pesanan",createOrder:"Buat Pesanan",inventoryManagement:"Pengurusan Inventori",stockIn:"Masuk Stok",stockOut:"Keluar Stok",addMaterial:"Tambah Bahan",noInventoryData:"Tiada data inventori",productionBatch:"Batch Pengeluaran",createBatch:"Buat Batch",noProductionData:"Tiada data pengeluaran",hygieneRecords:"Rekod Pemeriksaan Kebersihan",addInspection:"Tambah Pemeriksaan",noInspectionData:"Tiada rekod pemeriksaan",coldChainTracking:"Penjejakan Rantaian Sejuk",addWaybill:"Tambah Bil Laluan",noLogisticsData:"Tiada data logistik",monthlyIncome:"Pendapatan Bulanan",monthlyExpenses:"Perbelanjaan Bulanan",netProfit:"Keuntungan Bersih",billRecords:"Rekod Bil",addBill:"Tambah Bil",noBillData:"Tiada data bil",rwaBonusPoolCycle:"Pengurusan Kitaran Kolam Bonus RWA",currentCycle:"Kitaran Semasa",cycleNumber:"Kitaran {number}",totalPoolAmount:"Jumlah Kolam",totalTokens:"Jumlah Token",settleCycle:"Selesaikan Kitaran Semasa",historyCycles:"Kitaran Sejarah",noHistoryData:"Tiada data sejarah",salesReport:"Laporan Jualan",partnerGrowth:"Pertumbuhan Rakan Kongsi",chartArea:"Kawasan Carta",systemSettings:"Tetapan Sistem",cashbackRatioSettings:"Tetapan Nisbah Pulangan Tunai",cashbackRatioDesc:"Konfigurasi nisbah pulangan tunai untuk fasa berbeza",bonusPoolCycleSetting:"Kitaran Kolam Bonus",bonusPoolCycleDesc:"Tetapan semasa: 10 hari/kitaran",referralRewardRatio:"Nisbah Ganjaran Rujukan",referralRewardDesc:"Konfigurasi ganjaran rujukan 10 peringkat",configure:"Konfigurasi",modify:"Ubah",partnersPage:{title:"Pengurusan Rakan Kongsi",subtitle:"Semak dan urus rakan kongsi",totalPartners:"Jumlah Rakan Kongsi",activated:"Diaktifkan",pendingReview:"Menunggu Semakan",partnerList:"Senarai Rakan Kongsi",searchPlaceholder:"Cari ID atau kod rujukan...",tabAll:"Semua",tabPending:"Menunggu",tabActive:"Aktif",noPartners:"Tiada rakan kongsi",activate:"Aktifkan",viewDetails:"Butiran",activateSuccess:"Pengaktifan Berjaya",activateSuccessDesc:"Akaun rakan kongsi telah diaktifkan",activateFailed:"Pengaktifan Gagal",package:"Pakej"},ordersPage:{title:"Pengurusan Pesanan",subtitle:"Proses dan jejak pesanan pelanggan",totalOrders:"Jumlah Pesanan",pendingPayment:"Menunggu Bayaran",preparing:"Menyediakan",shipping:"Penghantaran",completed:"Selesai",cancelled:"Dibatalkan",unknown:"Tidak Diketahui",orderList:"Senarai Pesanan",searchPlaceholder:"Cari nombor pesanan atau pelanggan...",tabAll:"Semua",noOrders:"Tiada pesanan",viewDetails:"Butiran",items:"item"},productsPage:{title:"Pengurusan Produk",subtitle:"Urus katalog produk dan harga",addProduct:"Tambah Produk",productList:"Senarai Produk",searchPlaceholder:"Cari nama produk...",noProducts:"Tiada produk",addFirstProduct:"Tambah Produk Pertama",categoryBirdNest:"Sarang Burung",categoryFishMaw:"Pundi Ikan",categoryGiftSet:"Set Hadiah",manageCategories:"Urus Kategori",categories:"Kategori",allCategories:"Semua",totalProducts:"Jumlah Produk",activeProducts:"Produk Aktif",addCategory:"Tambah Kategori",editCategory:"Edit Kategori",categoryModalDesc:"Tetapkan nama kategori dan warna paparan",categoryName:"Nama Kategori",categoryNamePlaceholder:"Masukkan nama kategori Cina",categoryNameEn:"Nama Inggeris",categoryNameEnPlaceholder:"Masukkan nama kategori Inggeris",categoryDescription:"Penerangan",categoryDescPlaceholder:"Masukkan penerangan kategori",categoryColor:"Warna Kategori",editProduct:"Edit Produk",productModalDesc:"Tetapkan maklumat produk, harga dan status paparan",productImage:"Imej Produk",uploadImage:"Muat Naik Imej",productNameZh:"Nama Cina",productNameZhPlaceholder:"Masukkan nama produk Cina",productNameEn:"Nama Inggeris",productNameEnPlaceholder:"Masukkan nama produk Inggeris",productDescription:"Penerangan Produk",productDescPlaceholder:"Masukkan penerangan produk",category:"Kategori",selectCategory:"Pilih Kategori",price:"Harga",weight:"Spesifikasi",sortOrder:"Susunan",isAvailable:"Tersedia untuk Dijual",isAvailableDesc:"Produk akan dipaparkan di kedai apabila diaktifkan",isFeatured:"Pilihan",isFeaturedDesc:"Produk pilihan diutamakan di halaman utama",productDetails:"Butiran Produk",available:"Tersedia",unavailable:"Tidak Tersedia",featured:"Pilihan",view:"Lihat",edit:"Edit",delete:"Padam",image:"Imej",productName:"Nama Produk",status:"Status",actions:"Tindakan",deleteConfirmTitle:"Sahkan Padam Produk",deleteConfirmDesc:"Tindakan ini tidak boleh dibatalkan. Padam produk"},membersPage:{title:"Pengurusan Ahli",subtitle:"Lihat dan urus semua ahli",totalUsers:"Jumlah Pengguna",regularMembers:"Ahli Biasa",partners:"Rakan Kongsi",memberList:"Senarai Ahli",searchPlaceholder:"Cari nama atau e-mel...",tabAll:"Semua",tabMember:"Ahli",tabPartner:"Rakan Kongsi",tabAdmin:"Pentadbir",noMembers:"Tiada ahli",viewDetails:"Butiran",points:"mata",orders:"pesanan",roleMember:"Ahli",rolePartner:"Rakan Kongsi",roleAdmin:"Pentadbir",roleUser:"Pengguna"},bonusPoolPage:{title:"Pengurusan Kolam Bonus",subtitle:"Tetapan dan pengurusan kitaran dividen RWA",refreshData:"Muat Semula Data",currentCycle:"Kitaran Semasa",inProgress:"Dalam Proses",cycleProgress:"Kemajuan Kitaran",days:"hari",daysRemaining:"{days} hari lagi dalam kitaran ini",currentPool:"Kolam Semasa",perTokenValue:"Nilai Setiap Token",participatingPartners:"Rakan Kongsi Peserta",cycleSales:"Jualan Kitaran",cycleSettings:"Tetapan Kitaran",cycleLength:"Tempoh Kitaran",salesPoolRatio:"Nisbah Kolam Jualan",totalRwaTokens:"Jumlah Token RWA",tokens:"token",editSettings:"Edit Tetapan",dividendNote:"Nota Dividen",dividendDesc1:"Pada akhir setiap kitaran (10 hari), sistem secara automatik mengagihkan jumlah kolam bonus kepada pemegang berdasarkan nisbah token RWA.",dividendRule1:"30% jualan secara automatik masuk ke kolam bonus",dividendRule2:"Setiap rakan kongsi memegang 1-4 token RWA (mengikut pakej)",dividendRule3:"Dividen memerlukan potongan mata LY yang setara untuk pengeluaran",historyCycles:"Kitaran Sejarah",cycle:"Kitaran",settled:"Diselesaikan",perToken:"Setiap Token",people:"orang"},inventoryPage:{title:"Pengurusan Inventori",subtitle:"Pertanyaan dan pelarasan inventori",addStock:"Operasi Stok",productSku:"SKU Produk",status:"Status",lowStock:"Stok Rendah",criticalStock:"Stok Kritikal",inventoryStatus:"Status Inventori",searchPlaceholder:"Cari produk atau SKU...",statusNormal:"Normal",statusLow:"Rendah",statusCritical:"Kritikal",statusUnknown:"Tidak Diketahui",recentChanges:"Perubahan Stok Terkini",stockIn:"Masuk Stok",stockOut:"Keluar Stok",purchaseIn:"Masuk Pembelian",manageCategories:"Urus Kategori",categories:"Kategori",allCategories:"Semua",addCategory:"Tambah Kategori",editCategory:"Edit Kategori",categoryModalDesc:"Tetapkan kategori inventori dan kebenaran modul",categoryName:"Nama Kategori",categoryNamePlaceholder:"Masukkan nama kategori Cina",categoryNameEn:"Nama Inggeris",categoryNameEnPlaceholder:"Masukkan nama kategori Inggeris",categoryColor:"Warna Kategori",permissions:"Kebenaran Modul",permissionsDesc:"Pilih modul yang boleh mengakses kategori ini",stockInDesc:"Rekod masuk stok produk",stockOutDesc:"Rekod keluar stok produk",selectProduct:"Pilih Produk",selectProductPlaceholder:"Pilih produk untuk dioperasi",quantity:"Kuantiti",stockInType:"Jenis Masuk Stok",stockOutType:"Jenis Keluar Stok",selectType:"Pilih Jenis",typeProduction:"Masuk Pengeluaran",typePurchase:"Masuk Pembelian",typeReturn:"Masuk Pulangan",typeAdjust:"Pelarasan",typeSales:"Keluar Jualan",typeProductionUse:"Penggunaan Pengeluaran",typeDamage:"Kerosakan/Pembaziran",note:"Nota",notePlaceholder:"Masukkan nota",confirmStockIn:"Sahkan Masuk Stok",confirmStockOut:"Sahkan Keluar Stok",editItem:"Edit Item Inventori",editItemDesc:"Ubah maklumat item inventori",itemName:"Nama",sku:"SKU",category:"Kategori",currentStock:"Stok Semasa",minStock:"Stok Minimum",unit:"Unit",actions:"Tindakan",edit:"Edit",delete:"Padam",deleteConfirmTitle:"Sahkan Padam",deleteConfirmDesc:"Tindakan ini tidak boleh dibatalkan. Padam item",date:"Tarikh",type:"Jenis",product:"Produk",operator:"Pengendali"},purchasePage:{title:"Pengurusan Perolehan",subtitle:"Pesanan pembelian dan pengurusan pembekal",newPo:"Pesanan Pembelian Baru",purchaseOrders:"Pesanan Pembelian",suppliers:"Pembekal",searchPlaceholder:"Cari pesanan atau pembekal...",statusPending:"Menunggu",statusApproved:"Diluluskan",statusShipped:"Penghantaran",statusReceived:"Diterima",statusUnknown:"Tidak Diketahui",items:"item",viewDetails:"Butiran",supplierList:"Senarai Pembekal",addSupplier:"Tambah Pembekal",orders:"pesanan",edit:"Edit"},logisticsPage:{title:"Penjejakan Logistik",subtitle:"Pengurusan logistik rantai sejuk dan penghantaran",totalShipments:"Jumlah Penghantaran",pendingShipment:"Menunggu",inTransit:"Dalam Transit",delivered:"Dihantar",coldChainMonitor:"Pemantauan Rantai Sejuk",tempNormal:"Semua penghantaran suhu normal (-18C ~ -15C)",statusNormal:"Normal",shipmentList:"Senarai Penghantaran",searchPlaceholder:"Cari penghantaran atau destinasi...",statusUnknown:"Tidak Diketahui",order:"Pesanan",track:"Jejak"},billsPage:{title:"Pengurusan Bil",subtitle:"Rekod perbelanjaan dan bil",addBill:"Tambah Bil",totalBills:"Jumlah Bil",pendingPayment:"Menunggu",overdue:"Tertunggak",billList:"Senarai Bil",searchPlaceholder:"Cari bil...",statusPending:"Menunggu",statusPaid:"Dibayar",statusOverdue:"Tertunggak",statusUnknown:"Tidak Diketahui",tabAll:"Semua",typePurchase:"Pembelian",typeLogistics:"Logistik",typeOperation:"Operasi",dueDate:"Tarikh Akhir",noBills:"Tiada bil"},financePage:{title:"Laporan Kewangan",subtitle:"Analisis hasil dan perbelanjaan",exportReport:"Eksport Laporan",monthlyRevenue:"Hasil Bulanan",monthlyExpenses:"Perbelanjaan Bulanan",monthlyProfit:"Keuntungan Bersih Bulanan",expenseBreakdown:"Pecahan Perbelanjaan",purchaseCost:"Kos Pembelian",logisticsCost:"Kos Logistik",operationCost:"Kos Operasi",otherCost:"Kos Lain",partnerExpenses:"Perbelanjaan Rakan Kongsi",cashbackPayout:"Pembayaran Pulangan Tunai",cashbackDesc:"Termasuk rujukan langsung dan rangkaian 3 peringkat",bonusPoolPayout:"Pembayaran Kolam Bonus RWA",bonusPoolDesc:"Dividen kolam bonus kitaran semasa",recentTransactions:"Transaksi Terkini",tabAll:"Semua",tabIncome:"Pendapatan",tabExpense:"Perbelanjaan"},withdrawals:{title:"Pengurusan Pengeluaran",subtitle:"Urus permohonan pengeluaran rakan kongsi",pendingRequests:"Menunggu",processingRequests:"Memproses",completedRequests:"Selesai",rejectedRequests:"Ditolak",requestsList:"Senarai Permohonan Pengeluaran",tabPending:"Menunggu",tabProcessing:"Memproses",tabCompleted:"Selesai",tabRejected:"Ditolak",tabAll:"Semua",noRequests:"Tiada permohonan pengeluaran",requestDetail:"Butiran Permohonan",withdrawAmount:"Jumlah Pengeluaran",partnerInfo:"Maklumat Rakan Kongsi",name:"Nama",email:"Emel",phone:"Telefon",bankInfo:"Maklumat Bank",bankName:"Nama Bank",accountNumber:"Nombor Akaun",accountName:"Pemegang Akaun",timeline:"Garis Masa",submittedAt:"Dihantar",processedAt:"Diproses",statusPending:"Menunggu",statusProcessing:"Memproses",statusCompleted:"Selesai",statusRejected:"Ditolak",approve:"Luluskan",reject:"Tolak",markComplete:"Tandakan Selesai",cancel:"Batal",rejectTitle:"Tolak Pengeluaran",rejectDesc:"Jumlah akan dikembalikan ke dompet rakan kongsi (mata LY tidak dikembalikan)",rejectPlaceholder:"Masukkan sebab penolakan...",rejectReasonLabel:"Sebab",confirmReject:"Sahkan Tolak",approveSuccess:"Pengeluaran diluluskan",approveFailed:"Kelulusan gagal",completeSuccess:"Pengeluaran ditandakan selesai",completeFailed:"Gagal menandakan selesai",rejectSuccess:"Pengeluaran ditolak",rejectFailed:"Penolakan gagal"},metaAdsPage:{title:"Iklan Meta",subtitle:"Urus pengiklanan Facebook/Instagram",newCampaign:"Kempen Baharu",totalCampaigns:"Jumlah Kempen",activeCampaigns:"Aktif",totalSpend:"Jumlah Belanja",totalImpressions:"Jumlah Paparan",searchPlaceholder:"Cari kempen...",tabAll:"Semua",tabActive:"Aktif",tabPaused:"Dijeda",tabDraft:"Draf",tabCompleted:"Selesai",noCampaigns:"Tiada kempen lagi",campaignName:"Nama Kempen",platform:"Platform",objective:"Objektif",budget:"Bajet",budgetType:"Jenis Bajet",dailyBudget:"Bajet Harian",lifetimeBudget:"Bajet Seumur Hidup",startDate:"Tarikh Mula",endDate:"Tarikh Tamat",targetAudience:"Sasaran Audiens",spent:"Dibelanjakan",impressions:"Paparan",clicks:"Klik",conversions:"Penukaran",ctr:"CTR",cpc:"CPC",roas:"ROAS",adSets:"Set Iklan",creatives:"Kreatif",performance:"Prestasi",objectiveAwareness:"Kesedaran",objectiveTraffic:"Trafik",objectiveEngagement:"Penglibatan",objectiveLeads:"Petunjuk",objectiveConversions:"Penukaran",objectiveSales:"Jualan",accountSettings:"Tetapan Akaun",accountId:"ID Akaun",accessToken:"Token Akses",pixelId:"ID Pixel"},xiaohongshuPage:{title:"Xiaohongshu",subtitle:"Urus kandungan dan operasi Xiaohongshu",newContent:"Kandungan Baharu",totalContent:"Jumlah Kandungan",published:"Diterbitkan",totalLikes:"Jumlah Suka",totalViews:"Jumlah Tontonan",searchPlaceholder:"Cari kandungan...",tabAll:"Semua",tabDraft:"Draf",tabPending:"Menunggu Semakan",tabPublished:"Diterbitkan",tabRejected:"Ditolak",noContent:"Tiada kandungan lagi",contentTitle:"Tajuk",contentBody:"Kandungan",contentType:"Jenis Kandungan",typeNote:"Nota Foto",typeVideo:"Video",typeLive:"Langsung",coverImage:"Imej Muka Depan",mediaTags:"Tag",scheduledAt:"Masa Dijadualkan",likes:"Suka",comments:"Komen",shares:"Kongsi",views:"Tontonan"},mediaPlanPage:{title:"Pelan Media",subtitle:"Kalendar kandungan dan penerbitan merentas platform",newPlan:"Pelan Baharu",totalPlans:"Jumlah Pelan",planned:"Dirancang",inProgress:"Sedang Berjalan",published:"Diterbitkan",searchPlaceholder:"Cari pelan...",tabAll:"Semua",tabPlanned:"Dirancang",tabInProgress:"Sedang Berjalan",tabReady:"Sedia",tabPublished:"Diterbitkan",listView:"Paparan Senarai",calendarView:"Paparan Kalendar",planTitle:"Tajuk",description:"Penerangan",platform:"Platform",contentType:"Jenis Kandungan",scheduledDate:"Tarikh Dijadualkan",scheduledTime:"Masa Dijadualkan",assignedTo:"Ditugaskan Kepada",noPlans:"Tiada pelan lagi",typePost:"Pos",typeStory:"Story",typeReel:"Reel",typeVideo:"Video",typeArticle:"Artikel",typeLive:"Langsung"},adPlacementPage:{title:"Perancangan Iklan",subtitle:"Peruntukan bajet dan pengurusan kelulusan",newPlan:"Pelan Baharu",totalPlans:"Jumlah Pelan",pendingApproval:"Menunggu Kelulusan",activePlans:"Aktif",totalBudget:"Jumlah Bajet",searchPlaceholder:"Cari pelan...",tabAll:"Semua",tabDraft:"Draf",tabPending:"Menunggu",tabApproved:"Diluluskan",tabActive:"Aktif",tabCompleted:"Selesai",noPlans:"Tiada pelan lagi",planName:"Nama Pelan",platform:"Platform",totalBudgetLabel:"Jumlah Bajet",dailyBudgetLabel:"Bajet Harian",startDate:"Tarikh Mula",endDate:"Tarikh Tamat",kpiTargets:"Sasaran KPI",approvalNotes:"Nota Kelulusan",submitForApproval:"Hantar untuk Kelulusan",approve:"Luluskan",reject:"Tolak"},performanceReportsPage:{title:"Laporan Prestasi",subtitle:"Analitik KPI prestasi iklan",dateRange:"Julat Tarikh",last7Days:"7 Hari Lalu",last30Days:"30 Hari Lalu",last90Days:"90 Hari Lalu",customRange:"Julat Tersuai",platformFilter:"Penapis Platform",allPlatforms:"Semua Platform",totalSpend:"Jumlah Belanja",totalImpressions:"Jumlah Paparan",totalClicks:"Jumlah Klik",totalConversions:"Jumlah Penukaran",avgCTR:"Purata CTR",avgROAS:"Purata ROAS",dailyTrend:"Trend Harian",platformComparison:"Perbandingan Platform",budgetAllocation:"Peruntukan Bajet",topCampaigns:"Kempen Terbaik",noData:"Tiada data tersedia"},whatsappConfigPage:{title:"Konfigurasi WhatsApp",subtitle:"Tetapan API WhatsApp Business dan templat",apiConfig:"Konfigurasi API",businessProfile:"Profil Perniagaan",messageTemplates:"Templat Mesej",adminPush:"Tolak Admin",phoneId:"ID Nombor Telefon",businessAccountId:"ID Akaun Perniagaan",accessToken:"Token Akses",webhookToken:"Token Pengesahan Webhook",webhookUrl:"URL Webhook",businessName:"Nama Perniagaan",businessDesc:"Penerangan Perniagaan",businessAddr:"Alamat Perniagaan",businessEmail:"E-mel Perniagaan",businessWebsite:"Laman Web Perniagaan",adminPhones:"Nombor Telefon Admin",adminPhonesDesc:"Nombor WhatsApp untuk pemberitahuan pesanan & perkhidmatan",notificationEnabled:"Pemberitahuan Diaktifkan",autoReply:"Auto Balas",autoReplyMessage:"Mesej Auto Balas",workingHours:"Waktu Bekerja",saveConfig:"Simpan Konfigurasi",configSaved:"Konfigurasi disimpan",configSaveFailed:"Gagal menyimpan",newTemplate:"Templat Baharu",templateName:"Nama Templat",templateLanguage:"Bahasa",templateCategory:"Kategori",templateBody:"Badan Templat",templateFooter:"Teks Kaki",templateVariables:"Pembolehubah",noTemplates:"Tiada templat lagi",pushToAdmin:"Tolak ke Admin",pushMessage:"Mesej Tolak",pushTarget:"Sasaran Tolak",pushAllAdmins:"Semua Admin",pushSelectAdmin:"Pilih Admin",pushType:"Jenis Tolak",pushTypeOrder:"Pemberitahuan Pesanan",pushTypeCustomer:"Mesej Pelanggan",pushTypeSystem:"Pemberitahuan Sistem",pushTypeMarketing:"Tolak Pemasaran",pushContent:"Kandungan Tolak",pushSend:"Hantar Tolak",pushSuccess:"Tolak dihantar",pushFailed:"Tolak gagal",pushHistory:"Sejarah Tolak"},whatsappOrdersPage:{title:"Pesanan WhatsApp",subtitle:"Urus pesanan dari saluran WhatsApp",totalOrders:"Jumlah Pesanan",pendingOrders:"Menunggu",paidOrders:"Dibayar",totalRevenue:"Jumlah Pendapatan",searchPlaceholder:"Cari telefon atau pesanan...",tabAll:"Semua",tabPending:"Menunggu",tabConfirmed:"Disahkan",tabProcessing:"Memproses",tabShipped:"Dihantar",tabDelivered:"Diterima",noOrders:"Tiada pesanan WhatsApp lagi",customerPhone:"Telefon Pelanggan",customerName:"Nama Pelanggan",orderAmount:"Jumlah Pesanan",paymentStatus:"Status Pembayaran",linkToOrder:"Paut ke Pesanan",viewConversation:"Lihat Perbualan",sendNotification:"Hantar Pemberitahuan",notifyAdmin:"Maklumkan Admin"},whatsappMembersPage:{title:"Pendaftaran Ahli",subtitle:"Jejak pendaftaran ahli saluran WhatsApp",totalRegistrations:"Jumlah Pendaftaran",completedReg:"Selesai",pendingReg:"Menunggu",conversionRate:"Kadar Penukaran",searchPlaceholder:"Cari telefon atau nama...",tabAll:"Semua",tabPending:"Menunggu",tabCompleted:"Selesai",tabFailed:"Gagal",noRegistrations:"Tiada pendaftaran lagi",phone:"Telefon",name:"Nama",email:"E-mel",source:"Sumber",registeredAt:"Didaftarkan Pada",linkToMember:"Paut ke Ahli"},aiCustomerServicePage:{title:"Perkhidmatan Pelanggan AI",subtitle:"Konfigurasi bot AI dan pengurusan perbualan",botConfig:"Konfigurasi Bot",conversations:"Perbualan",totalConversations:"Jumlah Perbualan",activeConversations:"Aktif",escalatedConversations:"Dinaik Taraf",avgSatisfaction:"Purata Kepuasan",botName:"Nama Bot",botDescription:"Penerangan",systemPrompt:"Arahan Sistem",knowledgeBase:"Pangkalan Pengetahuan",greetingMessage:"Mesej Selamat Datang",fallbackMessage:"Mesej Sandaran",model:"Model AI",temperature:"Suhu",maxTokens:"Token Maksimum",enabled:"Diaktifkan",disabled:"Dinyahaktifkan",configure:"Konfigurasikan",viewHistory:"Lihat Sejarah",noConversations:"Tiada perbualan lagi",messageCount:"Mesej",tokensUsed:"Token Digunakan",satisfaction:"Kepuasan",escalated:"Dinaik Taraf",testBot:"Uji Bot"},systemHealthPage:{title:"Kesihatan Sistem",subtitle:"Ujian sambungan API dan konfigurasi sistem",testAll:"Uji Semua",totalConfigs:"Jumlah Konfigurasi",connected:"Disambungkan",failed:"Gagal",untested:"Belum Diuji"}},mre={title:"Kisah Jenama",subtitle:"Belayar Menentang Angin, Dilahirkan untuk Cinta",founderStory:"Kisah Pengasas",brandValues:"Nilai Jenama",milestones:{2020:"Jenama ditubuhkan di Kuala Lumpur, fokus pada sarang burung rebus segar premium",2022:"Menubuhkan pangkalan rumah burung walit sendiri di Malaysia, mencapai kawalan bahan mentah sendiri",2024:"Naik taraf barisan produk inovatif, melancarkan siri rasa baru, diterima baik oleh pasaran",2025:"Jenama secara rasmi dinamakan semula kepada LOVEYOUNG, membuka era jenama baru",2026:"Melancarkan program 'Belayar Menentang Angin', memperkenalkan sistem rakan kongsi RWA",2027:"Merancang untuk memasuki pasaran Singapura dan Hong Kong, menubuhkan rangkaian pengedaran serantau",2028:"Sasaran melancarkan probiotik, kolagen dan kategori baru lain, melengkapkan ekosistem kesihatan",2030:"Visi menjadi jenama penyubur kesihatan wanita terkemuka Asia Tenggara"},community:"Komuniti",mission:"Misi",vision:"Visi",values:{love:{title:"Cinta di Teras",description:"Setiap produk membawa penjagaan mendalam untuk kesihatan wanita, dari bahan hingga formula, melindungi setiap pelanggan dengan hati."},natural:{title:"Semula Jadi & Tulen",description:"Memilih dengan teliti sarang burung dan pundi ikan dari kawasan terbaik dunia, menolak bahan tambahan, memelihara hadiah paling berharga alam semula jadi."},quality:{title:"Kualiti Terjamin",description:"Penghantaran rantai sejuk penuh, pembungkusan individu, setiap kelompok lulus pemeriksaan kualiti ketat, memastikan kesegaran dan keselamatan."},global:{title:"Visi Global",description:"Mengintegrasikan sumber sarang burung teratas Asia Tenggara, memperkenalkan sistem pengurusan kualiti antarabangsa, mencipta jenama penyubur kelas dunia."}},quality:"Kualiti Utama",qualityDesc:"Bahan premium yang dipilih dengan teliti, dibuat dengan penjagaan",fresh:"Penghantaran Segar",freshDesc:"Masakan segar harian, penghantaran rantai sejuk, mengunci nutrisi",care:"Perkhidmatan Penyayang",careDesc:"Pasukan perunding profesional, perkhidmatan penyayang untuk setiap pelanggan",whatsappMessage:"Helo, saya ingin mengetahui lebih lanjut tentang jenama LOVEYOUNG.",hero:{title:"Belayar Menentang Angin",titleSub:"Pilihan Premium",description:"LOVEYOUNG Rebusan Segar, jenama penyubur premium dari Malaysia. Kami percaya setiap wanita layak dilayan dengan kelembutan, membangkitkan kekuatan elegan dari dalam dengan penyuburan paling tulen."},foundersSection:{badge:"Kisah Jenama",title:"Belayar Menentang Angin  Kisah Pengasas",subtitle:"Tiga laluan kehidupan, satu arah  kesihatan tidak seharusnya hanya menjadi ubat apabila masalah timbul, tetapi komitmen harian yang lembut",summaryTitle:"Tiga Laluan Kehidupan  Satu Arah",summaryText:"Mereka semua pernah melalui cabaran, menghadapi realiti, dan membuat pilihan pada tahap kehidupan yang berbeza. Akhirnya, mereka bersatu di bawah falsafah yang sama  inilah semangat sebenar 'Belayar Menentang Angin'."},founders:{vivian:{subtitle:"Orang yang bermula dengan semangkuk pundi ikan dan sarang burung",motto:"Tetap setia pada misi kami  menjadikan 'perkara baik' yang terbaik",story:"Vivian adalah yang pertama memulakan perjalanan ini. Dari berkongsi di media sosial, dia secara beransur-ansur membawa pundi ikan dan sarang burung ke komuniti yang lebih besar, pusat lepas bersalin, salon kecantikan, dan ke dalam kehidupan harian wanita yang tidak terkira.",insight:"Dia tidak tergesa-gesa untuk berkembang. Sebaliknya, dia menghabiskan sebahagian besar masanya pada produk itu sendiri  menguji rasa, menyelidik formula, menyesuaikan kemanisan dan konsistensi  semuanya untuk mencari keseimbangan sempurna antara lazat dan benar-benar menyuburkan.",belief:"Kualiti adalah kapal paling stabil dalam ribut.",focus:"Kecemerlangan Produk"},agnes:{subtitle:"Selepas melihat terlalu banyak kisah, dia memilih untuk melindungi kesihatan",motto:"Dia percaya kekayaan sebenar tidak pernah tentang angka",story:"Agnes adalah wanita yang kuat dalam industri insurans. Pengalaman kerjaya bertahun-tahun menunjukkan kepadanya banyak kejayaan dan kegagalan  ada yang mencapai kerjaya cemerlang tetapi kehilangan kesihatan; ada yang mempunyai kekayaan melimpah tetapi mengabaikan diri sendiri dan keluarga.",insight:"Kisah-kisah sebenar dari pelanggan ini membuatnya secara beransur-ansur memahami: kesihatan fizikal dan mental adalah asas semua perlindungan. Dia berharap dapat mengubah pemahaman bertahun-tahun tentang 'risiko, perlindungan, dan nilai jangka panjang' menjadi teman yang lebih memeluk kehidupan.",belief:"Membantu mereka di sekeliling kita menjaga diri sendiri, walaupun di tengah-tengah kehidupan sibuk dan tertekan.",focus:"Memahami Risiko & Perlindungan"},andrey:{subtitle:"Di bawah lampu sorot, dia memahami kesejahteraan sebenar",motto:"Kecantikan tidak seharusnya datang dari kebimbangan, tetapi dari keadaan diri",story:"Andrey menjadi model kereta profesional semasa remaja, kemudian berkembang menjadi KOL dalam media sosial. Aktif di majlis gala, pesta, fesyen dan acara sosial, dia telah melihat terlalu banyak definisi 'kecantikan'  cepat, dangkal, digunakan.",insight:"Tetapi dia semakin jelas: apa yang benar-benar menjaga orang muda dan menawan bukan penambahan luaran, tetapi minda yang stabil, makan yang sihat, dan badan yang ringan. Baginya, pundi ikan dan sarang burung bukan 'suplemen', tetapi pilihan harian yang membawa tubuh kembali ke keseimbangan dan menjadikan kehidupan lebih anggun.",belief:"Penjagaan diri terbaik adalah tidak memaksa diri sendiri.",focus:"Memimpin Trend Gaya Hidup Wanita"}},origin:{title:"Permulaan Kami",p1:"Pada tahun 2020, tiga wanita yang sehaluan bertemu di Kuala Lumpur. Mereka berkongsi pengalaman yang sama  mengabaikan kesihatan sendiri dalam kehidupan sibuk sehingga badan menghantar isyarat amaran, membuatkan mereka sedar kepentingan penyuburan kesejahteraan.",p2:"Walau bagaimanapun, produk pundi ikan dan sarang burung rebus segar yang benar-benar berkualiti tinggi dan tanpa pengawet jarang di pasaran. Ini adalah cara paling sihat untuk menyubur, namun sangat memakan masa untuk disediakan. Wanita bandar yang sering sibuk menjaga keluarga dan kerja tidak dapat membuat semangkuk yang betul untuk diri sendiri.",p3:"Jadi mereka memutuskan untuk mencipta jenama sendiri, menggunakan standard paling ketat dan niat paling ikhlas untuk menyediakan penyuburan paling tulen dan paling mudah untuk setiap wanita sibuk.",p4:"Inilah kelahiran LOVEYOUNG  sayangi diri sendiri dahulu, kemudian sayangi dunia dengan lebih baik."},production:{title:"Kerajinan & Kualiti",p1:"Dari memperoleh sarang burung dan pundi ikan secara peribadi di tempat asalnya hingga saringan ketat setiap kelompok, kami hanya memilih bahan berkualiti yang memenuhi standard kami untuk pengeluaran.",p2:"Semua produk dimasak dan dibungkus di kemudahan pengeluaran steril milik LoveYoung, menggunakan teknik rebusan perlahan suhu rendah untuk mengekalkan lapisan nutrisi dan rasa bahan sambil memastikan kebersihan dan keselamatan.",p3:"Setiap botol produk rebus segar menjalani pemeriksaan kualiti berganda dan dihantar melalui logistik rantai sejuk penuh, memastikan apa yang sampai kepada anda sentiasa segar, selamat, dan kualiti yang boleh dipercayai.",stat1:"Terus dari Sumber",stat2:"Bahan Tambahan & Pengawet"},valuesSection:{subtitle:"Kami percaya kecantikan sebenar datang dari kesihatan, kekuatan sebenar datang dari dalam. LOVEYOUNG bukan sekadar jenama, tetapi cara hidup."},lifestyle:{title:"Gaya Hidup Elegan",subtitle:"LOVEYOUNG menganjurkan bukan sekadar produk, tetapi gaya hidup elegan dari dalam",wellness:{title:"Kesihatan & Kesejahteraan",description:"Sebotol sarang burung rebus segar setiap hari, memulakan hari anda penuh dengan tenaga"},community:{title:"Hubungan Komuniti",description:"Kongsi pandangan kesejahteraan dengan adik-beradik yang sehaluan"},events:{title:"Acara Jenama",description:"Sertai salon eksklusif, alami lingkungan elegan"}},philosophy:{title:"Belayar Menentang Angin  Kuasa Wanita",p1:"'Belayar Menentang Angin' bukan sekadar semangat jenama kami, tetapi penghormatan kepada setiap wanita moden. Dalam ribut kehidupan, kami percaya setiap wanita mempunyai keberanian untuk menunggang ombak.",p2:"LOVEYOUNG komited menjadi sokongan kukuh untuk perjalanan pertumbuhan wanita. Sama ada anda elit kerjaya, ibu suri rumah, atau usahawan, kami berharap dapat mengisi semula tenaga anda dengan produk penyubur terbaik, membantu anda bergerak ke hadapan dengan anggun walaupun dalam kesukaran.",stat1:"Pelanggan Setia",stat2:"Tahun Perjalanan Jenama",stat3:"Bahan Semula Jadi"},milestonesSection:{title:"Perjalanan Jenama & Pelan Masa Depan",subtitle:"Dari penubuhan hingga melesat, kisah kami baru bermula",futurePlan:"Pelan Masa Depan",inProgress:"Sedang Berlangsung"},partnerStories:{title:"Kisah Rakan Kongsi",p1:"Setiap rakan kongsi LOVEYOUNG mempunyai kisah menakjubkan mereka sendiri. Mereka datang dari latar belakang berbeza  ada yang ibu suri rumah, ada yang profesional pejabat, ada yang usahawan berpengalaman. Tetapi mereka semua mempunyai satu persamaan: mereka memilih LOVEYOUNG, mereka memilih untuk belayar menentang angin.",p2:"Kami sedang menyediakan ruangan blog kisah rakan kongsi, di mana kami akan berkongsi perjalanan keusahawanan wanita cantik ini, pandangan pertumbuhan, dan pengalaman kejayaan. Nantikan!",becomePartner:"Jadi Rakan Kongsi",learnMore:"Ketahui Lebih",alt1:"Kisah Rakan Kongsi - Lisa",alt2:"Kisah Rakan Kongsi - Sarah",alt3:"Kisah Rakan Kongsi - Emma"},futureVision:{title:"Visi Masa Depan",p1:"Matlamat LOVEYOUNG bukan sahaja menjadi jenama penyubur kesihatan wanita terkemuka Asia Tenggara, tetapi juga membina ekosistem kesihatan wanita yang lengkap.",p2:"Dari sarang burung dan pundi ikan hingga probiotik dan kolagen, kami akan terus memperkayakan barisan produk untuk memenuhi keperluan kesihatan wanita secara menyeluruh. Melalui program rakan kongsi RWA, kami membantu lebih ramai wanita mencapai kekayaan dan kesihatan.",goal1:"2027: Memasuki pasaran Singapura & Hong Kong",goal2:"2028: Melancarkan kategori kesihatan baru",goal3:"2030: Menjadi jenama terkemuka serantau"},communityWellness:{title:"Acara Komuniti  Kehidupan Sihat",subtitle:"LOVEYOUNG bukan sekadar jenama, tetapi komuniti yang memperkasakan pertumbuhan wanita",impact:{title:"Impak Komuniti",description:"Memperkasakan wanita Malaysia, mencipta impak sosial positif melalui Akademi LOVEYOUNG dan aktiviti amal."},wellnessLife:{title:"Gaya Hidup Kesejahteraan",description:"Dari meditasi hingga yoga, dari tempat kerja hingga kehidupan sosial, LOVEYOUNG menemani wanita moden dalam setiap senario kehidupan."},brandEvents:{title:"Pengalaman Acara Jenama",description:"Dari penerimaan hingga lawatan, dari pertukaran hingga pesta, mencipta pengalaman perjalanan asal yang unik untuk rakan kongsi."}},cta:{title:"Mulakan Perjalanan Kesejahteraan Elegan Anda",description:"Setiap produk LOVEYOUNG adalah komitmen kami kepada kualiti, kegigihan kami pada kesihatan, usaha kami untuk kecantikan.",viewProducts:"Layari Produk",whatsapp:"Pertanyaan WhatsApp"}},hre={heroTagline:"Against The Wind",heroTitle:"Belayar Menentang Angin",heroTitleSub:"Mentakrifkan Semula Kuasa Wanita",heroDesc:"Dari Young Love (menyayangi orang lain) kepada Love Young (sayangi diri sendiri dahulu).",heroDescSub:"Ini bukan sekadar pembalikan jenama, tetapi kebangkitan jiwa setiap wanita.",heroOrderBtn:"Mulakan Perjalanan Anda",cnyGiftBox:"Kotak Hadiah CNY - Pesan Sekarang",heroPartnerBtn:"Sertai Program Kami",whatsappMessage:"Hai, saya berminat dengan produk Sarang Burung dan Pundi Ikan LOVEYOUNG. Saya ingin mengetahui lebih lanjut.",brandTitle:"Asal Usul Jenama:",brandTitleSub:"Keberanian untuk Berbalik",brandQuote:"Jika anda tidak mengambil serius diri sendiri, dunia juga tidak akan.",brandP1:"Love Young diasaskan oleh tiga wanita muda yang sembuh dan menjadi lebih kuat selepas trauma emosi. Kami pernah berada di titik terendah, diminta untuk memberi tanpa henti, lupa bagaimana menyayangi diri sendiri.",brandP2:'"Young Love" adalah kebetulan indah dalam reka bentuk kami, bermaksud menyayangi orang lain. Tetapi kami memutuskan untuk membalikkannya menjadi "Love Young"  menyayangi diri yang muda dan autentik itu dahulu.',brandP3:'Apa yang kami tawarkan bukan sekadar kotak hadiah RM488, tetapi komitmen kepada diri anda tentang menjadi "segar, istimewa, halus, dan berharga."',brandSelfHealing:"Semangat Penyembuhan Diri",brandAwakening:"Kebangkitan Wanita",brandQuality:"Kualiti Premium",brandCommunity:"Pembinaan Komuniti",productsTitle:"Koleksi Segar Premium",productsSubtitle:"Kotak hadiah mewah 6 balang, 12 perisa rebusan segar batch tersuai, penghantaran rantai sejuk.",product1Name:"Mekar Berputar  Kotak Premium Bulat",product1Desc:"Struktur berputar berbilang lapisan inovatif, pesona Timur merah dan hijau dakwat. Mengandungi 6 balang pundi ikan dan sarang burung rebus segar kepekatan tinggi.",product2Name:"Bab Kemegahan  Kotak Premium Segi Empat",product2Desc:"Reka bentuk segi empat klasik, benang emas dan hijau dakwat berjalin, butiran kraftangan. Mengandungi 6 balang pundi ikan dan sarang burung rebus segar kepekatan tinggi.",product3Name:"Arnab Jed  Kotak Edisi Terhad",product3Desc:"Edisi terhad Tahun Baru, skema warna seperti jed segar. Mengandungi 6 balang pundi ikan dan sarang burung rebus segar kepekatan tinggi.",viewAllProducts:"Lihat Semua Produk",viewAllBundles:"Lihat Semua Pakej",noProducts:"Tiada produk tersedia",orderNow:"Pesan Sekarang",rwaTitle:"Program Rakan Kongsi RWA",rwaSubtitle:"Ko-cipta Aset Digital, Perkongsian Nilai Jenama",rwaDesc:"Diperkasakan oleh teknologi blockchain, setiap wanita boleh menyertai pembinaan jenama dan berkongsi dividen pertumbuhan.",rwaFeature1:"Dividen Telus",rwaFeature1Desc:"Pelaksanaan kontrak pintar, pendapatan telus",rwaFeature2:"Dipacu Komuniti",rwaFeature2Desc:"Pertumbuhan rujukan ahli, membina komuniti jenama bersama",rwaFeature3:"Pertumbuhan Aset",rwaFeature3Desc:"Jenama berkembang, aset digital menghargai bersama",rwaFeature4:"Pendapatan Berganda",rwaFeature4Desc:"Ganjaran rujukan langsung + rebat pembelian semula + kolam bonus",rwaLearnMore:"Ketahui Tentang Program",rwaJoinNow:"Sertai Sekarang",ctaTitle:"Mulakan Perjalanan Penyuburan Anda",ctaTitleSub:"Perjalanan Penyuburan Anda",ctaDesc:"Sama ada untuk diri sendiri atau orang tersayang, Love Young membawa anda pengalaman penyuburan paling tulen.",ctaOrderBtn:"Pertanyaan WhatsApp",ctaShopBtn:"Lawati Kedai Meta",productCard1Name:"Mekar Berputar  Kotak Hadiah Premium Bulat",productCard1Desc:"Struktur berputar berbilang lapisan inovatif dengan pesona oriental. Mengandungi 6 balang pundi ikan dan sarang burung kukus segar berkonsentrasi tinggi.",productCard2Name:"Belayar Menentang Angin  Siri Klasik Tersuai",productCard2Desc:"12 perisa boleh disesuaikan. Bahan semula jadi seperti ginseng, kurma merah, dan goji. Tiada bahan tambahan untuk ketenangan fikiran.",productCard2PriceFrom:"dari",productCard3Name:"Edisi Terhad Bermusim  Edisi Perayaan",productCard3Desc:"Reka bentuk terhad untuk CNY/Pesta Pertengahan Musim Luruh/Pesta Naga. Pilihan hadiah premium dengan elemen perayaan.",bookNow:"Tempah Sekarang",viewFlavors:"Lihat Perisa",comingSoon:"Akan Datang",partnerSectionTitle:"Program Rakan Kongsi RWA",partnerSectionSubtitle:"Memecahkan model agensi tradisional. Kami tidak mencari pelabur, hanya pembina jenama bersama.",phase1Title:"Fasa 1: RM 1,000",phase1Desc:"Terima 2,000 mata tenaga LY, hadiah kotak pertama, dan manfaat pembinaan jenama bersama.",phase1Feature1:"50% pulangan tunai untuk 5 kotak pertama",phase1Feature2:"30% hak dividen kumpulan bonus global",phase1Feature3:"Sesi penggambaran premium",phase2Title:"Fasa 2: RM 1,300",phase2Desc:"Berat dividen lebih tinggi dan tiket acara selebriti sosial.",phase2Feature1:"1.2x berat dividen",phase2Feature2:"Lawatan VIP kilang sarang burung",phase2Feature3:"Peluang penyertaan filem mikro",phase3Title:"Fasa 3: RM 1,500",phase3Desc:"Untuk usahawan matang. Penjenamaan bersama dan kerjasama perniagaan mendalam.",phase3Feature1:"Peruntukan kumpulan bonus teratas",phase3Feature2:"Hak penjenamaan bersama eksklusif",phase3Feature3:"Akses pasaran antarabangsa keutamaan",joinNow:"Sertai Sekarang",limitedApply:"Slot Terhad",learnMore:"Ketahui Lebih Lanjut",hotSelling:"JUALAN PANAS",only50Slots:"Hanya 50 Slot",waitingToOpen:"Menunggu Dibuka",revenueLogicTitle:"Logik Pendapatan Telus",revenueLogicDesc:"Love Young menolak skim piramid. Setiap sen pendapatan datang daripada jualan produk sebenar. Kami menggunakan LY (Tenaga) untuk merekodkan sumbangan anda.",salesCashback:"Pulangan Tunai Jualan",globalPool:"Kumpulan Bonus Global",salesPercentage:"30% Jualan",dividendCycle:"Kitaran Dividen",every10Days:"Penyelesaian setiap 10 hari",lyNetworkTitle:"Sistem Mata 10 Peringkat",tier1Direct:"Peringkat 1 (Langsung)",tier2:"Peringkat 2",tier3to5:"Peringkat 3-5",tier6to10:"Peringkat 6-10",totalReferral:"Jumlah LY Diisi Semula",lyNetworkNote:"* Mata tenaga LY membuka kunci dividen tunai, diisi semula secara automatik melalui jualan rangkaian rujukan.",dashboardTitle:"Papan Pemuka Masa Nyata",dashboardDesc:"Visualisasikan mata tenaga, berat RWA, dan rangkaian 10 peringkat anda. Setiap nombor menyaksikan pertumbuhan anda.",dashboardCta:"Portal Rakan Kongsi",dashboardBrandName:"Love Young Dashboard",dashboardSubtitle:"Pusat Pengurusan Rakan Kongsi",lyEnergy:"Tenaga LY",phase1Bonus:"Bonus Fasa 1",thisWeek:"Minggu Ini",totalEarnings:"Jumlah Pendapatan",startEarning:"Mula menjana sekarang",perCycle:"Setiap kitaran",thisMonth:"Bulan Ini",teamMembers:"Ahli Pasukan",networkLevels:"Rangkaian 10 Peringkat",tenLevelNetwork:"Rangkaian 10 Peringkat",currentPoolCycle:"Kitaran Pool Semasa",daysRemaining:"{days} hari lagi",accumulated:"Terkumpul",estimatedDividend:"Anggar. Dividen",ctaSectionTitle:"Mulakan Perjalanan Penyuburan Anda",ctaSectionDesc:"Sama ada untuk diri sendiri atau orang tersayang, Love Young membawa anda pengalaman penyuburan paling tulen."},fre={whatsappMessage:"Helo, saya ingin memesan produk LOVEYOUNG.",orderMessage:"Helo, saya ingin memesan {productName}.",hero:{title:"Pilihan Premium  Penyuburan Berkualiti",description:"Setiap produk mencerminkan usaha gigih kami terhadap kualiti. Dari sarang burung walit emas Indonesia hingga pundi ikan laut dalam, kami hanya memilih bahan terbaik untuk membawa anda penyuburan paling tulen.",shopNow:"Beli Sekarang",whatsappConsult:"Pertanyaan WhatsApp"},categories:{all:"Semua Produk",birdNest:"Siri Sarang Burung",fishMaw:"Siri Pundi Ikan",giftBox:"Set Hadiah"},badges:{hot:"Panas",new:"Baru",save:"Jimat"},units:{box:"kotak",set:"set"},items:{bnClassic:{name:"Sarang Burung Original Klasik",subtitle:"Kotak Hadiah 6 Balang",feature1:"Burung Walit Emas Indonesia",feature2:"Tanpa Gula Tambahan",feature3:"Sedia Dimakan"},bnPremium:{name:"Sarang Imperial Gula Batu",subtitle:"Edisi Premium 6 Balang",feature1:"Sarang Premium",feature2:"Rebusan Gula Batu Perlahan",feature3:"Tekstur Kaya & Pekat"},fmCollagen:{name:"Rebusan Kolagen Pundi Ikan",subtitle:"Pek 6 Balang",feature1:"Pundi Ikan Laut Dalam",feature2:"Kaya Kolagen",feature3:"Kecantikan & Penyuburan"},fmMilk:{name:"Rebusan Susu Pundi Ikan",subtitle:"Pek 6 Balang",feature1:"Susu New Zealand",feature2:"Kaya & Berkrim",feature3:"Nutrisi Tambahan"},giftLuxury:{name:"Kotak Mewah Belayar Menentang Angin",subtitle:"Kombo Sarang Burung + Pundi Ikan",feature1:"3 Balang Sarang Premium",feature2:"3 Balang Pundi Ikan Premium",feature3:"Pembungkusan Hadiah Mewah"},giftWellness:{name:"Kotak Hadiah Premium Kesejahteraan",subtitle:"Sampler Siri Penuh",feature1:"4 Perisa, 1 Balang Setiap",feature2:"Beg Hadiah Elegan",feature3:"Sempurna untuk Hadiah"}},benefits:{natural:{title:"100% Semula Jadi",description:"Bahan premium, tanpa bahan tambahan"},quality:{title:"Kualiti Terjamin",description:"Setiap kelompok lulus pemeriksaan kualiti"},coldChain:{title:"Penghantaran Rantai Sejuk",description:"Rantai sejuk penuh, segar ke pintu anda"},packaging:{title:"Pembungkusan Elegan",description:"Sempurna untuk hadiah atau kegunaan sendiri"}},quality:{title:"Ketertelusuran Asal  Kerajinan",description:"Sarang burung kami datang dari rumah burung walit terbaik Indonesia, setiap sarang dipilih dengan teliti. Pundi ikan diperoleh dari ikan liar laut dalam, kaya dengan kolagen semula jadi.",imageAlt:"Jaminan Kualiti",traceability:{title:"Ketertelusuran Bahan",description:"Setiap kelompok boleh dijejaki ke asal, memastikan sumber yang selamat dan boleh dipercayai"},craftsmanship:{title:"Kerajinan Tradisional",description:"Teknik rebusan perlahan tradisional mengekalkan kandungan nutrisi lengkap"},inspection:{title:"Kawalan Kualiti Ketat",description:"Setiap kelompok lulus ujian mikrob, logam berat dan pelbagai ujian"}},cta:{title:"Mulakan Perjalanan Penyuburan Anda",description:"Sama ada untuk kesejahteraan peribadi atau menghadiahkan orang tersayang, LOVEYOUNG adalah pilihan elegan anda.",goToShop:"Pergi ke Kedai",consultWellness:"Rujuk Penasihat Kesejahteraan"}},pre={successTitle:"Pembayaran Berjaya!",successDesc:"Pesanan anda telah disahkan",processing:"Memproses pesanan anda...",viewOrder:"Lihat Pesanan",continueShopping:"Teruskan Membeli-belah",backToHome:"Kembali ke Laman Utama"},gre={auth:Hne,common:Gne,nav:Yne,header:Jne,hero:Qne,stats:Xne,products:Zne,innovation:ere,order:tre,testimonials:nre,cta:rre,footer:are,flavors:sre,packages:ire,target:ore,states:lre,member:cre,partner:dre,admin:ure,brand:mre,landing:hre,productsPage:fre,checkout:pre},xre={zh:"",en:"EN",ms:"BM"},nE={zh:jne,en:Wne,ms:gre},JF=j.createContext(void 0);function rE(e,t){const n=t.split(".");let a=e;for(const s of n)if(a&&typeof a=="object"&&s in a)a=a[s];else return;return typeof a=="string"?a:void 0}function yre({children:e}){const[t,n]=j.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("language");if(i&&["zh","en","ms"].includes(i))return i}return"zh"});j.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t==="zh"?"zh-CN":t==="ms"?"ms-MY":"en"},[t]);const a=i=>{n(i)},s=(i,o)=>{const l=rE(nE[t],i);if(l)return l;if(t!=="zh"){const c=rE(nE.zh,i);if(c)return c}return o||i};return r.jsx(JF.Provider,{value:{language:t,setLanguage:a,t:s},children:e})}function ps(){const e=j.useContext(JF);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}function ct(){const{t:e,language:t}=ps();return{t:e,language:t}}const aE=e=>{let t;const n=new Set,a=(d,u)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=u??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(f=>f(t,h))}},s=()=>t,l={setState:a,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=t=e(a,s,l);return l},vre=e=>e?aE(e):aE,bre=e=>e;function wre(e,t=bre){const n=U.useSyncExternalStore(e.subscribe,U.useCallback(()=>t(e.getState()),[e,t]),U.useCallback(()=>t(e.getInitialState()),[e,t]));return U.useDebugValue(n),n}const jre=e=>{const t=vre(e),n=a=>wre(t,a);return Object.assign(n,t),n},Nre=e=>jre;function kre(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const lk=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(a){return lk(a)(n)},catch(a){return this}}}catch(n){return{then(a){return this},catch(a){return lk(a)(n)}}}},Pre=(e,t)=>(n,a,s)=>{let i={storage:kre(()=>localStorage),partialize:x=>x,version:0,merge:(x,y)=>({...y,...x}),...t},o=!1,l=0;const c=new Set,d=new Set;let u=i.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},a,s);const m=()=>{const x=i.partialize({...a()});return u.setItem(i.name,{state:x,version:i.version})},h=s.setState;s.setState=(x,y)=>(h(x,y),m());const f=e((...x)=>(n(...x),m()),a,s);s.getInitialState=()=>f;let g;const p=()=>{var x,y;if(!u)return;const v=++l;o=!1,c.forEach(N=>{var w;return N((w=a())!=null?w:f)});const b=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(x=a())!=null?x:f))||void 0;return lk(u.getItem.bind(u))(i.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==i.version){if(i.migrate){const w=i.migrate(N.state,N.version);return w instanceof Promise?w.then(k=>[!0,k]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var w;if(v!==l)return;const[k,P]=N;if(g=i.merge(P,(w=a())!=null?w:f),n(g,!0),k)return m()}).then(()=>{v===l&&(b==null||b(g,void 0),g=a(),o=!0,d.forEach(N=>N(g)))}).catch(N=>{v===l&&(b==null||b(void 0,N))})};return s.persist={setOptions:x=>{i={...i,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:x=>(c.add(x),()=>{c.delete(x)}),onFinishHydration:x=>(d.add(x),()=>{d.delete(x)})},i.skipHydration||p(),g||f},Sre=Pre,qt=Nre()(Sre((e,t)=>({user:null,member:null,partner:null,role:"user",session:null,loading:!0,_initialized:!1,_setSession:n=>e({session:n}),_setLoading:n=>e({loading:n}),_setInitialized:n=>e({_initialized:n}),_setUser:n=>e({user:n}),_setMember:n=>e({member:n}),_setPartner:n=>e({partner:n}),_setRole:n=>e({role:n}),clearAuth:()=>e({user:null,session:null,member:null,partner:null,role:"user"}),fetchUserData:async n=>{var i,o;const a=l=>{var c,d,u,m;return((d=(c=l.error)==null?void 0:c.message)==null?void 0:d.includes("AbortError"))||((m=(u=l.error)==null?void 0:u.message)==null?void 0:m.includes("signal is aborted"))},s=async()=>{const[l,c,d]=await Promise.all([Y.from("users").select("role").eq("id",n).single(),Y.from("members").select("*").eq("user_id",n).single(),Y.rpc("is_admin")]);return{userRes:l,memberRes:c,adminRpc:d}};try{let{userRes:l,memberRes:c,adminRpc:d}=await s();a(l)&&a(c)&&(console.warn("[auth] All queries aborted, retrying in 1s..."),await new Promise(h=>setTimeout(h,1e3)),{userRes:l,memberRes:c,adminRpc:d}=await s()),l.error&&console.warn("[auth] users query error:",l.error.message,l.error.code),c.error&&c.error.code!=="PGRST116"&&console.warn("[auth] members query error:",c.error.message,c.error.code);const u=c.data,m=d.data===!0||((i=l.data)==null?void 0:i.role)==="admin"||(u==null?void 0:u.role)==="admin";if(console.info("[auth] fetchUserData:",{userId:n,isAdmin:m,hasMember:!!u,userRole:(o=l.data)==null?void 0:o.role,memberRole:u==null?void 0:u.role,rpcAdmin:d.data}),u){const h={id:u.id,userId:u.user_id,name:u.name,phone:u.phone,email:u.email,role:u.role,pointsBalance:u.points_balance,preferredFlavor:u.preferred_flavor,preferredPackage:u.preferred_package,referralCode:u.referral_code,referrerId:u.referrer_id,createdAt:u.created_at};let f=null;if(u.role==="partner"||u.role==="admin"||m){const{data:p}=await Y.from("partners").select("*").eq("member_id",u.id).single();p&&(f={id:p.id,memberId:p.member_id,referralCode:p.referral_code,tier:p.tier,status:p.status,referrerId:p.referrer_id,lyBalance:p.ly_balance,cashWalletBalance:p.cash_wallet_balance,rwaTokens:p.rwa_tokens,totalSales:p.total_sales,totalCashback:p.total_cashback,paymentAmount:p.payment_amount,paymentDate:p.payment_date,paymentReference:p.payment_reference,createdAt:p.created_at,updatedAt:p.updated_at})}const g=m?"admin":f?"partner":"member";console.info("[auth] resolved role:",g,{isAdmin:m,hasPartner:!!f}),e({member:h,partner:f,role:g})}else e({member:null,partner:null,role:m?"admin":"user"})}catch(l){console.error("Error fetching user data:",l),t().role==="user"&&e({member:null,partner:null})}},refreshUserData:async()=>{const{user:n,fetchUserData:a}=t();n!=null&&n.id&&await a(n.id)},signIn:async(n,a)=>{const{error:s}=await Y.auth.signInWithPassword({email:n,password:a});return{error:s?new Error(s.message):null}},signUp:async(n,a,s)=>{const{error:i}=await Y.auth.signUp({email:n,password:a,options:{data:s}});return{error:i?new Error(i.message):null}},signInWithGoogle:async()=>{const{error:n}=await Y.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});return{error:n?new Error(n.message):null}},sendOTP:async n=>{const{error:a}=await Y.auth.signInWithOtp({email:n,options:{shouldCreateUser:!0}});return{error:a?new Error(a.message):null}},verifyOTP:async(n,a)=>{const{error:s}=await Y.auth.verifyOtp({email:n,token:a,type:"email"});return{error:s?new Error(s.message):null}},signOut:async()=>{e({user:null,session:null,member:null,partner:null,role:"user"});try{await Y.auth.signOut()}catch(n){console.error("Sign out error:",n)}},getAccessToken:async()=>{const{data:{session:n}}=await Y.auth.getSession();return(n==null?void 0:n.access_token)||null}}),{name:"loveyoung-auth",version:4,migrate:(e,t)=>{if(t<4){const n=e;return console.info("[auth] cache upgrade v"+t+"4"),{user:(n==null?void 0:n.user)??null,member:(n==null?void 0:n.member)??null,partner:(n==null?void 0:n.partner)??null,role:(n==null?void 0:n.role)??"user"}}return e},partialize:e=>({user:e.user,member:e.member,partner:e.partner,role:e.role})}));let sE=!1;function _re(){if(sE)return;sE=!0;const e=qt.getState();e.user&&e._setLoading(!1);const t=setTimeout(()=>{const n=qt.getState();n.loading&&!n._initialized&&(console.warn("[auth] Safety timeout: clearing loading after 3s"),n._setLoading(!1),n._setInitialized(!0))},3e3);Y.auth.onAuthStateChange(async(n,a)=>{clearTimeout(t);const s=qt.getState();if(console.info("[auth] onAuthStateChange:",n,{hasSession:!!a,cachedUser:!!s.user}),s._setSession(a),a!=null&&a.user){const i={id:a.user.id,email:a.user.email||"",user_metadata:a.user.user_metadata};s._setUser(i),await s.fetchUserData(a.user.id).catch(o=>{console.error("[auth] fetchUserData failed:",o)}),qt.getState()._setLoading(!1)}else n==="SIGNED_OUT"?(s.clearAuth(),qt.getState()._setLoading(!1)):(s.user&&console.info("[auth] null session with cached user, keeping cached state"),qt.getState()._setLoading(!1));qt.getState()._setInitialized(!0)})}function Qt(){return{user:qt(e=>e.user),session:qt(e=>e.session),member:qt(e=>e.member),partner:qt(e=>e.partner),role:qt(e=>e.role),loading:qt(e=>e.loading),signIn:qt(e=>e.signIn),signUp:qt(e=>e.signUp),signInWithGoogle:qt(e=>e.signInWithGoogle),sendOTP:qt(e=>e.sendOTP),verifyOTP:qt(e=>e.verifyOTP),signOut:qt(e=>e.signOut),getAccessToken:qt(e=>e.getAccessToken),refreshUserData:qt(e=>e.refreshUserData)}}const iE={user:0,member:1,partner:2,admin:3};function Cre(e,t){const n=Array.isArray(t)?t:[t],a=iE[e];return n.some(s=>{const i=iE[s];return e==="admin"?!0:a>=i})}function W_({children:e,requiredRole:t="user",redirectTo:n="/auth/login"}){const{user:a,role:s}=Qt(),i=qt(l=>l._initialized);return a?Cre(s,t)?r.jsx(r.Fragment,{children:e}):i?s==="partner"?r.jsx(lx,{to:"/member/partner"}):s==="member"?r.jsx(lx,{to:"/member"}):r.jsx(lx,{to:"/"}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsx(lx,{to:n})}function sn({children:e}){return r.jsx(W_,{requiredRole:"admin",redirectTo:"/auth/login",children:e})}function jo({children:e}){return r.jsx(W_,{requiredRole:"partner",redirectTo:"/partner/join",children:e})}function Qs({children:e}){return r.jsx(W_,{requiredRole:"user",redirectTo:"/auth/login",children:e})}class Are extends j.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("React Error Boundary caught an error:",t,n)}render(){var t;return this.state.hasError?r.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",fontFamily:"system-ui, sans-serif"},children:r.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[r.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"},children:"Something went wrong"}),r.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred"}),r.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.75rem 1.5rem",backgroundColor:"#1a1a1a",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem"},children:"Reload Page"})]})}):this.props.children}}const H_=lg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),M=j.forwardRef(({className:e,variant:t,size:n,asChild:a=!1,...s},i)=>{const o=a?_$:"button";return r.jsx(o,{className:Ce(H_({variant:t,size:n,className:e})),ref:i,...s})});M.displayName="Button";const se=j.forwardRef(({className:e,type:t,...n},a)=>r.jsx("input",{type:t,className:Ce("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));se.displayName="Input";function Tre(){const{user:e,member:t}=Qt(),{toast:n}=Wt(),[a,s]=j.useState(!1),[i,o]=j.useState(null),l=(t==null?void 0:t.referralCode)||"",c=l?`${window.location.origin}/auth/login?ref=${l}`:"";if(!e||!t||!l)return null;const d=async(m,h,f)=>{try{await navigator.clipboard.writeText(m),o(h),n({title:`${f}`}),setTimeout(()=>o(null),2e3)}catch{n({title:"",variant:"destructive"})}},u=()=>{const m=`LOVEYOUNG  -  ${l} 
${c}`;window.open(`https://wa.me/?text=${encodeURIComponent(m)}`,"_blank")};return r.jsxs(r.Fragment,{children:[a&&r.jsx("div",{className:"fixed inset-0 z-[60] bg-black/20",onClick:()=>s(!1)}),a&&r.jsxs("div",{className:"fixed bottom-20 right-4 z-[61] w-[calc(100%-2rem)] max-w-sm bg-card border rounded-xl shadow-xl animate-in slide-in-from-bottom-4 fade-in duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h3",{className:"font-semibold text-sm",children:""}),r.jsx(M,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>s(!1),children:r.jsx(vl,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl font-mono font-bold text-primary tracking-wider flex-1",children:l}),r.jsxs(M,{variant:"outline",size:"sm",className:"shrink-0",onClick:()=>d(l,"code",""),children:[i==="code"?r.jsx(De,{className:"w-3.5 h-3.5 mr-1 text-green-500"}):r.jsx(ol,{className:"w-3.5 h-3.5 mr-1"}),""]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(se,{value:c,readOnly:!0,className:"font-mono text-xs h-8"}),r.jsx(M,{variant:"outline",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>d(c,"link",""),children:i==="link"?r.jsx(De,{className:"w-3.5 h-3.5 text-green-500"}):r.jsx(ol,{className:"w-3.5 h-3.5"})})]})]}),r.jsxs("div",{className:"flex gap-2 pt-1",children:[r.jsxs(M,{size:"sm",className:"flex-1 bg-green-500 hover:bg-green-600 text-white",onClick:u,children:[r.jsx(Is,{className:"w-3.5 h-3.5 mr-1"}),"WhatsApp"]}),r.jsxs(M,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>d(c,"link",""),children:[r.jsx(ol,{className:"w-3.5 h-3.5 mr-1"}),""]})]})]})]}),r.jsx(M,{onClick:()=>s(!a),className:"fixed bottom-4 right-4 z-[60] h-12 w-12 rounded-full shadow-lg bg-primary hover:bg-primary/90",size:"icon","data-testid":"button-floating-referral",children:a?r.jsx(vl,{className:"w-5 h-5"}):r.jsx(Is,{className:"w-5 h-5"})})]})}const V=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ce("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));V.displayName="Card";const Te=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ce("flex flex-col space-y-1.5 p-6",e),...t}));Te.displayName="CardHeader";const Oe=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));Oe.displayName="CardTitle";const hn=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));hn.displayName="CardDescription";const J=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ce("p-6 pt-0",e),...t}));J.displayName="CardContent";const G_=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:Ce("flex items-center p-6 pt-0",e),...t}));G_.displayName="CardFooter";function Ore(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(V,{className:"w-full max-w-md mx-4",children:r.jsxs(J,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(Wu,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var Ere="Label",QF=j.forwardRef((e,t)=>r.jsx(Ue.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));QF.displayName=Ere;var XF=QF;const Rre=lg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Be=j.forwardRef(({className:e,...t},n)=>r.jsx(XF,{ref:n,className:Ce(Rre(),e),...t}));Be.displayName=XF.displayName;const Mre=lg("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function te({className:e,variant:t,...n}){return r.jsx("div",{className:Ce(Mre({variant:t}),e),...n})}var ZF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oE=U.createContext&&U.createContext(ZF),Dre=["attr","size","title"];function Ire(e,t){if(e==null)return{};var n=Lre(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Lre(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ev.apply(this,arguments)}function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(a){$re(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function $re(e,t,n){return t=Fre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fre(e){var t=Bre(e,"string");return typeof t=="symbol"?t:t+""}function Bre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eB(e){return e&&e.map((t,n)=>U.createElement(t.tag,tv({key:n},t.attr),eB(t.child)))}function m0(e){return t=>U.createElement(Ure,ev({attr:tv({},e.attr)},t),eB(e.child))}function Ure(e){var t=n=>{var{attr:a,size:s,title:i}=e,o=Ire(e,Dre),l=s||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),U.createElement("svg",ev({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,o,{className:c,style:tv(tv({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&U.createElement("title",null,i),e.children)};return oE!==void 0?U.createElement(oE.Consumer,null,n=>t(n)):t(ZF)}function Vre(e){return m0({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function qre(e){return m0({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(e)}function zre(e){return m0({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(e)}function Ba(e){return m0({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(e)}const Y_="loveyoung_referral_code";function Kre(e){try{localStorage.setItem(Y_,e)}catch{}}function ck(){try{return localStorage.getItem(Y_)}catch{return null}}function dk(){try{localStorage.removeItem(Y_)}catch{}}function Wre(){const[,e]=za(),{toast:t}=Wt(),{t:n}=ct(),{sendOTP:a,verifyOTP:s,signInWithGoogle:i,user:o,member:l,role:c,loading:d,refreshUserData:u}=Qt(),[m,h]=j.useState("email"),[f,g]=j.useState(!1),[p,x]=j.useState(""),[y,v]=j.useState(""),[b,N]=j.useState(!1),[w,k]=j.useState(""),[P,_]=j.useState(""),[T,I]=j.useState(""),[A,R]=j.useState(null),[E,L]=j.useState(null);j.useEffect(()=>{const X=new URLSearchParams(window.location.search).get("ref");if(X){const Q=X.toUpperCase();Kre(Q),R(Q),$(Q)}else{const Q=ck();Q&&(R(Q),$(Q))}},[]);const $=async C=>{const{data:X,error:Q}=await Y.rpc("validate_referral_code",{code:C});!Q&&(X!=null&&X.valid)&&L(X.referrer_name||"LOVEYOUNG ")};j.useEffect(()=>{o&&!d&&m!=="profile"&&(async()=>{const X=ck();if(X&&l&&!l.referrerId)try{const{data:Q}=await Y.rpc("validate_referral_code",{code:X});Q!=null&&Q.valid&&Q.referrer_member_id&&(await Y.from("members").update({referrer_id:Q.referrer_member_id}).eq("id",l.id),dk())}catch(Q){console.error("Error applying referral code:",Q)}e(c==="admin"?"/admin":c==="partner"?"/member/partner":c==="member"?"/member":"/")})()},[o,l,c,d,m,e]);const B=async C=>{if(C.preventDefault(),!!p){g(!0);try{const{error:X}=await a(p);X?t({title:n("auth.sendOTPFailed"),description:X.message,variant:"destructive"}):(t({title:n("auth.otpSent"),description:n("auth.checkEmailForOTP")}),h("otp"))}catch(X){t({title:n("auth.sendOTPFailed"),description:X.message,variant:"destructive"})}finally{g(!1)}}},K=async C=>{if(C.preventDefault(),!!y){g(!0);try{const{error:X}=await s(p,y);if(X)t({title:n("auth.verifyOTPFailed"),description:X.message,variant:"destructive"});else{const{data:{user:Q}}=await Y.auth.getUser();if(!Q)return;const xe=qt.getState();xe._setUser({id:Q.id,email:Q.email||"",user_metadata:Q.user_metadata}),await xe.fetchUserData(Q.id);const{member:Pe}=qt.getState();if(!Pe)N(!0),h("profile");else{t({title:n("auth.loginSuccess")});const{role:ee}=qt.getState();e(ee==="admin"?"/admin":ee==="partner"?"/member/partner":"/member")}}}catch(X){t({title:n("auth.verifyOTPFailed"),description:X.message,variant:"destructive"})}finally{g(!1)}}},S=async C=>{if(C.preventDefault(),!w||!T){t({title:n("auth.fillRequired"),variant:"destructive"});return}g(!0);try{const{data:{user:X}}=await Y.auth.getUser();if(!X)throw new Error("Not authenticated");const{data:Q}=await Y.from("users").select("role").eq("id",X.id).single(),xe=(Q==null?void 0:Q.role)==="admin"||(Q==null?void 0:Q.role)==="partner",{error:Pe}=await Y.from("users").update({first_name:w,last_name:P,phone:T,...xe?{}:{role:"member"}}).eq("id",X.id);if(Pe)throw Pe;const ee=()=>{const H="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let ie="";for(let ae=0;ae<6;ae++)ie+=H.charAt(Math.floor(Math.random()*H.length));return ie};let pe=null;if(A){const{data:H}=await Y.rpc("validate_referral_code",{code:A});H!=null&&H.valid&&(pe=H.referrer_member_id)}const{error:W}=await Y.from("members").insert({user_id:X.id,name:`${w} ${P}`.trim(),phone:T,email:X.email,role:"member",points_balance:0,referral_code:ee(),referrer_id:pe,created_at:new Date().toISOString()});W&&!W.message.includes("duplicate")&&console.error("Error creating member:",W),pe&&(dk(),t({title:n("auth.referralApplied")||"",description:E?` ${E} `:void 0})),await u(),t({title:n("auth.profileSaved")}),e("/member")}catch(X){t({title:n("auth.profileSaveFailed"),description:X.message,variant:"destructive"})}finally{g(!1)}},D=async()=>{g(!0);try{const{error:C}=await i();C&&t({title:n("auth.loginFailed"),description:C.message,variant:"destructive"})}catch(C){t({title:n("auth.loginFailed"),description:C.message,variant:"destructive"})}finally{g(!1)}},G=()=>{m==="profile"?h("otp"):(h("email"),v(""))},q=async()=>{g(!0);try{const{error:C}=await a(p);t(C?{title:n("auth.sendOTPFailed"),description:C.message,variant:"destructive"}:{title:n("auth.otpResent"),description:n("auth.checkEmailForOTP")})}catch(C){t({title:n("auth.sendOTPFailed"),description:C.message,variant:"destructive"})}finally{g(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-primary/5 to-background p-4",children:r.jsxs(V,{className:"w-full max-w-md",children:[r.jsxs(Te,{className:"text-center",children:[r.jsx(Oe,{className:"text-2xl font-serif text-primary",children:"LOVEYOUNG"}),r.jsx(hn,{children:n(m==="profile"?"auth.completeProfile":"auth.welcomeBack")})]}),r.jsxs(J,{className:"space-y-4",children:[m==="email"&&r.jsxs(r.Fragment,{children:[A&&E&&r.jsxs("div",{className:"p-3 bg-secondary/10 border border-secondary/20 rounded-lg mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Hn,{className:"w-4 h-4 text-secondary"}),r.jsx("span",{className:"text-muted-foreground",children:":"}),r.jsx(te,{variant:"secondary",className:"font-medium",children:E})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:""})]}),r.jsxs("form",{onSubmit:B,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"email",children:n("auth.email")}),r.jsx(se,{id:"email",type:"email",placeholder:"email@example.com",value:p,onChange:C=>x(C.target.value),required:!0,"data-testid":"input-email"})]}),r.jsx(M,{type:"submit",className:"w-full gap-2",disabled:f||!p,"data-testid":"button-send-otp",children:f?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(cl,{className:"w-4 h-4"}),n("auth.sendOTP")]})})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:n("auth.or")})})]}),r.jsxs(M,{variant:"outline",className:"w-full gap-2",onClick:D,disabled:f,"data-testid":"button-google-login",children:[r.jsx(qre,{className:"w-4 h-4"}),n("auth.continueWithGoogle")]})]}),m==="otp"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-center space-y-2 mb-4",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:[n("auth.otpSentTo")," ",r.jsx("strong",{children:p})]})}),r.jsxs("form",{onSubmit:K,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"otp",children:n("auth.enterOTP")}),r.jsx(se,{id:"otp",type:"text",placeholder:"123456",value:y,onChange:C=>v(C.target.value.replace(/\D/g,"").slice(0,6)),required:!0,maxLength:6,className:"text-center text-2xl tracking-widest","data-testid":"input-otp"})]}),r.jsx(M,{type:"submit",className:"w-full",disabled:f||y.length!==6,"data-testid":"button-verify-otp",children:f?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):n("auth.verifyOTP")})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx(M,{variant:"ghost",className:"w-full",onClick:q,disabled:f,"data-testid":"button-resend-otp",children:n("auth.resendOTP")}),r.jsxs(M,{variant:"ghost",className:"w-full gap-2",onClick:G,disabled:f,"data-testid":"button-back",children:[r.jsx(Ra,{className:"w-4 h-4"}),n("auth.changeEmail")]})]})]}),m==="profile"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center space-y-2 mb-4",children:[r.jsx(Kr,{className:"w-12 h-12 mx-auto text-primary"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:n("auth.newUserWelcome")})]}),r.jsxs("form",{onSubmit:S,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Be,{htmlFor:"firstName",children:[n("auth.firstName")," *"]}),r.jsx(se,{id:"firstName",value:w,onChange:C=>k(C.target.value),required:!0,"data-testid":"input-first-name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"lastName",children:n("auth.lastName")}),r.jsx(se,{id:"lastName",value:P,onChange:C=>_(C.target.value),"data-testid":"input-last-name"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Be,{htmlFor:"phone",children:[n("auth.phone")," *"]}),r.jsx(se,{id:"phone",type:"tel",placeholder:"+60 12-345 6789",value:T,onChange:C=>I(C.target.value),required:!0,"data-testid":"input-phone"})]}),r.jsx(M,{type:"submit",className:"w-full",disabled:f||!w||!T,"data-testid":"button-save-profile",children:f?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):n("auth.saveAndContinue")})]})]})]})]})})}function Hre(){const[,e]=za(),{refreshUserData:t,role:n,member:a,loading:s}=Qt(),i=j.useRef(!1);return j.useEffect(()=>{i.current||(i.current=!0,t().catch(()=>{}))},[]),j.useEffect(()=>{if(s)return;(async()=>{if(a&&!a.referrerId){const l=ck();if(l){try{const{data:c}=await Y.rpc("validate_referral_code",{code:l});c!=null&&c.valid&&c.referrer_member_id&&await Y.from("members").update({referrer_id:c.referrer_member_id}).eq("id",a.id)}catch{}dk()}}e(n==="admin"?"/admin":n==="partner"?"/member/partner":n==="member"||a?"/member":"/auth/login")})()},[s,n,a,e]),r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary mx-auto"}),r.jsx("p",{className:"text-muted-foreground",children:"..."})]})})}var wj="focusScope.autoFocusOnMount",jj="focusScope.autoFocusOnUnmount",cE={bubbles:!1,cancelable:!0},Gre="FocusScope",h0=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=j.useState(null),d=Sr(s),u=Sr(i),m=j.useRef(null),h=dt(t,p=>c(p)),f=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(a){let p=function(b){if(f.paused||!l)return;const N=b.target;l.contains(N)?m.current=N:So(m.current,{select:!0})},x=function(b){if(f.paused||!l)return;const N=b.relatedTarget;N!==null&&(l.contains(N)||So(m.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const w of b)w.removedNodes.length>0&&So(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),v.disconnect()}}},[a,l,f.paused]),j.useEffect(()=>{if(l){uE.add(f);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(wj,cE);l.addEventListener(wj,d),l.dispatchEvent(y),y.defaultPrevented||(Yre(eae(tB(l)),{select:!0}),document.activeElement===p&&So(l))}return()=>{l.removeEventListener(wj,d),setTimeout(()=>{const y=new CustomEvent(jj,cE);l.addEventListener(jj,u),l.dispatchEvent(y),y.defaultPrevented||So(p??document.body,{select:!0}),l.removeEventListener(jj,u),uE.remove(f)},0)}}},[l,d,u,f]);const g=j.useCallback(p=>{if(!n&&!a||f.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const v=p.currentTarget,[b,N]=Jre(v);b&&N?!p.shiftKey&&y===N?(p.preventDefault(),n&&So(b,{select:!0})):p.shiftKey&&y===b&&(p.preventDefault(),n&&So(N,{select:!0})):y===v&&p.preventDefault()}},[n,a,f.paused]);return r.jsx(Ue.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});h0.displayName=Gre;function Yre(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(So(a,{select:t}),document.activeElement!==n)return}function Jre(e){const t=tB(e),n=dE(t,e),a=dE(t.reverse(),e);return[n,a]}function tB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dE(e,t){for(const n of e)if(!Qre(n,{upTo:t}))return n}function Qre(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Xre(e){return e instanceof HTMLInputElement&&"select"in e}function So(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Xre(e)&&t&&e.select()}}var uE=Zre();function Zre(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=mE(e,t),e.unshift(t)},remove(t){var n;e=mE(e,t),(n=e[0])==null||n.resume()}}}function mE(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function eae(e){return e.filter(t=>t.tagName!=="A")}var Nj=0;function J_(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hE()),document.body.insertAdjacentElement("beforeend",e[1]??hE()),Nj++,()=>{Nj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nj--}},[])}function hE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var my="right-scroll-bar-position",hy="width-before-scroll-bar",tae="with-scroll-bars-hidden",nae="--removed-body-scroll-bar-size";function kj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function rae(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=t,n.facade}var aae=typeof window<"u"?j.useLayoutEffect:j.useEffect,fE=new WeakMap;function sae(e,t){var n=rae(null,function(a){return e.forEach(function(s){return kj(s,a)})});return aae(function(){var a=fE.get(n);if(a){var s=new Set(a),i=new Set(e),o=n.current;s.forEach(function(l){i.has(l)||kj(l,null)}),i.forEach(function(l){s.has(l)||kj(l,o)})}fE.set(n,e)},[e]),n}function iae(e){return e}function oae(e,t){t===void 0&&(t=iae);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,a);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){a=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return s}function lae(e){e===void 0&&(e={});var t=oae(null);return t.options=si({async:!0,ssr:!1},e),t}var nB=function(e){var t=e.sideCar,n=Lm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return j.createElement(a,si({},n))};nB.isSideCarExport=!0;function cae(e,t){return e.useMedium(t),nB}var rB=lae(),Pj=function(){},f0=j.forwardRef(function(e,t){var n=j.useRef(null),a=j.useState({onScrollCapture:Pj,onWheelCapture:Pj,onTouchMoveCapture:Pj}),s=a[0],i=a[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,f=e.noIsolation,g=e.inert,p=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,v=e.gapMode,b=Lm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,w=sae([n,t]),k=si(si({},b),s);return j.createElement(j.Fragment,null,u&&j.createElement(N,{sideCar:rB,removeScrollBar:d,shards:m,noIsolation:f,inert:g,setCallbacks:i,allowPinchZoom:!!p,lockRef:n,gapMode:v}),o?j.cloneElement(j.Children.only(l),si(si({},k),{ref:w})):j.createElement(y,si({},k,{className:c,ref:w}),l))});f0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};f0.classNames={fullWidth:hy,zeroRight:my};var dae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uae(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dae();return t&&e.setAttribute("nonce",t),e}function mae(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hae(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fae=function(){var e=0,t=null;return{add:function(n){e==0&&(t=uae())&&(mae(t,n),hae(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},pae=function(){var e=fae();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},aB=function(){var e=pae(),t=function(n){var a=n.styles,s=n.dynamic;return e(a,s),null};return t},gae={left:0,top:0,right:0,gap:0},Sj=function(e){return parseInt(e||"",10)||0},xae=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Sj(n),Sj(a),Sj(s)]},yae=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gae;var t=xae(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},vae=aB(),yu="data-scroll-locked",bae=function(e,t,n,a){var s=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(tae,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(yu,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(my,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(hy,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(my," .").concat(my,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(hy," .").concat(hy,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(yu,`] {
    `).concat(nae,": ").concat(l,`px;
  }
`)},pE=function(){var e=parseInt(document.body.getAttribute(yu)||"0",10);return isFinite(e)?e:0},wae=function(){j.useEffect(function(){return document.body.setAttribute(yu,(pE()+1).toString()),function(){var e=pE()-1;e<=0?document.body.removeAttribute(yu):document.body.setAttribute(yu,e.toString())}},[])},jae=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;wae();var i=j.useMemo(function(){return yae(s)},[s]);return j.createElement(vae,{styles:bae(i,!t,s,n?"":"!important")})},uk=!1;if(typeof window<"u")try{var vx=Object.defineProperty({},"passive",{get:function(){return uk=!0,!0}});window.addEventListener("test",vx,vx),window.removeEventListener("test",vx,vx)}catch{uk=!1}var Nd=uk?{passive:!1}:!1,Nae=function(e){return e.tagName==="TEXTAREA"},sB=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Nae(e)&&n[t]==="visible")},kae=function(e){return sB(e,"overflowY")},Pae=function(e){return sB(e,"overflowX")},gE=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=iB(e,a);if(s){var i=oB(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},Sae=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},_ae=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},iB=function(e,t){return e==="v"?kae(t):Pae(t)},oB=function(e,t){return e==="v"?Sae(t):_ae(t)},Cae=function(e,t){return e==="h"&&t==="rtl"?-1:1},Aae=function(e,t,n,a,s){var i=Cae(e,window.getComputedStyle(t).direction),o=i*a,l=n.target,c=t.contains(l),d=!1,u=o>0,m=0,h=0;do{var f=oB(e,l),g=f[0],p=f[1],x=f[2],y=p-x-i*g;(g||y)&&iB(e,l)&&(m+=y,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(m)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(d=!0),d},bx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xE=function(e){return[e.deltaX,e.deltaY]},yE=function(e){return e&&"current"in e?e.current:e},Tae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Oae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Eae=0,kd=[];function Rae(e){var t=j.useRef([]),n=j.useRef([0,0]),a=j.useRef(),s=j.useState(Eae++)[0],i=j.useState(aB)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=UY([e.lockRef.current],(e.shards||[]).map(yE),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=bx(p),v=n.current,b="deltaX"in p?p.deltaX:v[0]-y[0],N="deltaY"in p?p.deltaY:v[1]-y[1],w,k=p.target,P=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in p&&P==="h"&&k.type==="range")return!1;var _=gE(P,k);if(!_)return!0;if(_?w=P:(w=P==="v"?"h":"v",_=gE(P,k)),!_)return!1;if(!a.current&&"changedTouches"in p&&(b||N)&&(a.current=w),!w)return!0;var T=a.current||w;return Aae(T,x,p,T==="h"?b:N,!0)},[]),c=j.useCallback(function(p){var x=p;if(!(!kd.length||kd[kd.length-1]!==i)){var y="deltaY"in x?xE(x):bx(x),v=t.current.filter(function(w){return w.name===x.type&&(w.target===x.target||x.target===w.shadowParent)&&Tae(w.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(yE).filter(Boolean).filter(function(w){return w.contains(x.target)}),N=b.length>0?l(x,b[0]):!o.current.noIsolation;N&&x.cancelable&&x.preventDefault()}}},[]),d=j.useCallback(function(p,x,y,v){var b={name:p,delta:x,target:y,should:v,shadowParent:Mae(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(N){return N!==b})},1)},[]),u=j.useCallback(function(p){n.current=bx(p),a.current=void 0},[]),m=j.useCallback(function(p){d(p.type,xE(p),p.target,l(p,e.lockRef.current))},[]),h=j.useCallback(function(p){d(p.type,bx(p),p.target,l(p,e.lockRef.current))},[]);j.useEffect(function(){return kd.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Nd),document.addEventListener("touchmove",c,Nd),document.addEventListener("touchstart",u,Nd),function(){kd=kd.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Nd),document.removeEventListener("touchmove",c,Nd),document.removeEventListener("touchstart",u,Nd)}},[]);var f=e.removeScrollBar,g=e.inert;return j.createElement(j.Fragment,null,g?j.createElement(i,{styles:Oae(s)}):null,f?j.createElement(jae,{gapMode:e.gapMode}):null)}function Mae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Dae=cae(rB,Rae);var p0=j.forwardRef(function(e,t){return j.createElement(f0,si({},e,{ref:t,sideCar:Dae}))});p0.classNames=f0.classNames;var Iae=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pd=new WeakMap,wx=new WeakMap,jx={},_j=0,lB=function(e){return e&&(e.host||lB(e.parentNode))},Lae=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=lB(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},$ae=function(e,t,n,a){var s=Lae(t,Array.isArray(e)?e:[e]);jx[n]||(jx[n]=new WeakMap);var i=jx[n],o=[],l=new Set,c=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))u(h);else try{var f=h.getAttribute(a),g=f!==null&&f!=="false",p=(Pd.get(h)||0)+1,x=(i.get(h)||0)+1;Pd.set(h,p),i.set(h,x),o.push(h),p===1&&g&&wx.set(h,!0),x===1&&h.setAttribute(n,"true"),g||h.setAttribute(a,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(t),l.clear(),_j++,function(){o.forEach(function(m){var h=Pd.get(m)-1,f=i.get(m)-1;Pd.set(m,h),i.set(m,f),h||(wx.has(m)||m.removeAttribute(a),wx.delete(m)),f||m.removeAttribute(n)}),_j--,_j||(Pd=new WeakMap,Pd=new WeakMap,wx=new WeakMap,jx={})}},Q_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=Iae(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),$ae(a,s,n,"aria-hidden")):function(){return null}},X_="Dialog",[cB,dB]=Jn(X_),[Fae,Gs]=cB(X_),uB=e=>{const{__scopeDialog:t,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[d=!1,u]=fa({prop:a,defaultProp:s,onChange:i});return r.jsx(Fae,{scope:t,triggerRef:l,contentRef:c,contentId:ls(),titleId:ls(),descriptionId:ls(),open:d,onOpenChange:u,onOpenToggle:j.useCallback(()=>u(m=>!m),[u]),modal:o,children:n})};uB.displayName=X_;var mB="DialogTrigger",hB=j.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Gs(mB,n),i=dt(t,s.triggerRef);return r.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":t2(s.open),...a,ref:i,onClick:Ne(e.onClick,s.onOpenToggle)})});hB.displayName=mB;var Z_="DialogPortal",[Bae,fB]=cB(Z_,{forceMount:void 0}),pB=e=>{const{__scopeDialog:t,forceMount:n,children:a,container:s}=e,i=Gs(Z_,t);return r.jsx(Bae,{scope:t,forceMount:n,children:j.Children.map(a,o=>r.jsx(ga,{present:n||i.open,children:r.jsx(ig,{asChild:!0,container:s,children:o})}))})};pB.displayName=Z_;var nv="DialogOverlay",gB=j.forwardRef((e,t)=>{const n=fB(nv,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=Gs(nv,e.__scopeDialog);return i.modal?r.jsx(ga,{present:a||i.open,children:r.jsx(Vae,{...s,ref:t})}):null});gB.displayName=nv;var Uae=Kc("DialogOverlay.RemoveScroll"),Vae=j.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Gs(nv,n);return r.jsx(p0,{as:Uae,allowPinchZoom:!0,shards:[s.contentRef],children:r.jsx(Ue.div,{"data-state":t2(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Gc="DialogContent",xB=j.forwardRef((e,t)=>{const n=fB(Gc,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=Gs(Gc,e.__scopeDialog);return r.jsx(ga,{present:a||i.open,children:i.modal?r.jsx(qae,{...s,ref:t}):r.jsx(zae,{...s,ref:t})})});xB.displayName=Gc;var qae=j.forwardRef((e,t)=>{const n=Gs(Gc,e.__scopeDialog),a=j.useRef(null),s=dt(t,n.contentRef,a);return j.useEffect(()=>{const i=a.current;if(i)return Q_(i)},[]),r.jsx(yB,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ne(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault())})}),zae=j.forwardRef((e,t)=>{const n=Gs(Gc,e.__scopeDialog),a=j.useRef(!1),s=j.useRef(!1);return r.jsx(yB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),yB=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Gs(Gc,n),c=j.useRef(null),d=dt(t,c);return J_(),r.jsxs(r.Fragment,{children:[r.jsx(h0,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:r.jsx(Bm,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":t2(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(Wae,{titleId:l.titleId}),r.jsx(Gae,{contentRef:c,descriptionId:l.descriptionId})]})]})}),e2="DialogTitle",vB=j.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Gs(e2,n);return r.jsx(Ue.h2,{id:s.titleId,...a,ref:t})});vB.displayName=e2;var bB="DialogDescription",wB=j.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Gs(bB,n);return r.jsx(Ue.p,{id:s.descriptionId,...a,ref:t})});wB.displayName=bB;var jB="DialogClose",NB=j.forwardRef((e,t)=>{const{__scopeDialog:n,...a}=e,s=Gs(jB,n);return r.jsx(Ue.button,{type:"button",...a,ref:t,onClick:Ne(e.onClick,()=>s.onOpenChange(!1))})});NB.displayName=jB;function t2(e){return e?"open":"closed"}var kB="DialogTitleWarning",[Kae,PB]=NX(kB,{contentName:Gc,titleName:e2,docsSlug:"dialog"}),Wae=({titleId:e})=>{const t=PB(kB),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Hae="DialogDescriptionWarning",Gae=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PB(Hae).contentName}}.`;return j.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},n2=uB,r2=hB,a2=pB,hg=gB,fg=xB,Km=vB,pg=wB,g0=NB;const Ll=n2,x0=r2,Yae=a2,SB=j.forwardRef(({className:e,...t},n)=>r.jsx(hg,{className:Ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));SB.displayName=hg.displayName;const Jae=lg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),mo=j.forwardRef(({side:e="right",className:t,children:n,...a},s)=>r.jsxs(Yae,{children:[r.jsx(SB,{}),r.jsxs(fg,{ref:s,className:Ce(Jae({side:e}),t),"aria-describedby":void 0,...a,children:[r.jsx(Km,{className:"sr-only",children:"Menu"}),n,r.jsxs(g0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(vl,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mo.displayName=fg.displayName;const gg=({className:e,...t})=>r.jsx("div",{className:Ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});gg.displayName="SheetHeader";const xg=j.forwardRef(({className:e,...t},n)=>r.jsx(Km,{ref:n,className:Ce("text-lg font-semibold text-foreground",e),...t}));xg.displayName=Km.displayName;const y0=j.forwardRef(({className:e,...t},n)=>r.jsx(pg,{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));y0.displayName=pg.displayName;var Qae=j.createContext(void 0);function ld(e){const t=j.useContext(Qae);return e||t||"ltr"}var Cj="rovingFocusGroup.onEntryFocus",Xae={bubbles:!1,cancelable:!0},v0="RovingFocusGroup",[mk,_B,Zae]=Fm(v0),[ese,Wm]=Jn(v0,[Zae]),[tse,nse]=ese(v0),CB=j.forwardRef((e,t)=>r.jsx(mk.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(mk.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(rse,{...e,ref:t})})}));CB.displayName=v0;var rse=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,h=j.useRef(null),f=dt(t,h),g=ld(i),[p=null,x]=fa({prop:o,defaultProp:l,onChange:c}),[y,v]=j.useState(!1),b=Sr(d),N=_B(n),w=j.useRef(!1),[k,P]=j.useState(0);return j.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(Cj,b),()=>_.removeEventListener(Cj,b)},[b]),r.jsx(tse,{scope:n,orientation:a,dir:g,loop:s,currentTabStopId:p,onItemFocus:j.useCallback(_=>x(_),[x]),onItemShiftTab:j.useCallback(()=>v(!0),[]),onFocusableItemAdd:j.useCallback(()=>P(_=>_+1),[]),onFocusableItemRemove:j.useCallback(()=>P(_=>_-1),[]),children:r.jsx(Ue.div,{tabIndex:y||k===0?-1:0,"data-orientation":a,...m,ref:f,style:{outline:"none",...e.style},onMouseDown:Ne(e.onMouseDown,()=>{w.current=!0}),onFocus:Ne(e.onFocus,_=>{const T=!w.current;if(_.target===_.currentTarget&&T&&!y){const I=new CustomEvent(Cj,Xae);if(_.currentTarget.dispatchEvent(I),!I.defaultPrevented){const A=N().filter(B=>B.focusable),R=A.find(B=>B.active),E=A.find(B=>B.id===p),$=[R,E,...A].filter(Boolean).map(B=>B.ref.current);OB($,u)}}w.current=!1}),onBlur:Ne(e.onBlur,()=>v(!1))})})}),AB="RovingFocusGroupItem",TB=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:i,...o}=e,l=ls(),c=i||l,d=nse(AB,n),u=d.currentTabStopId===c,m=_B(n),{onFocusableItemAdd:h,onFocusableItemRemove:f}=d;return j.useEffect(()=>{if(a)return h(),()=>f()},[a,h,f]),r.jsx(mk.ItemSlot,{scope:n,id:c,focusable:a,active:s,children:r.jsx(Ue.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Ne(e.onMouseDown,g=>{a?d.onItemFocus(c):g.preventDefault()}),onFocus:Ne(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Ne(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=ise(g,d.orientation,d.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=m().filter(v=>v.focusable).map(v=>v.ref.current);if(p==="last")y.reverse();else if(p==="prev"||p==="next"){p==="prev"&&y.reverse();const v=y.indexOf(g.currentTarget);y=d.loop?ose(y,v+1):y.slice(v+1)}setTimeout(()=>OB(y))}})})})});TB.displayName=AB;var ase={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sse(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ise(e,t,n){const a=sse(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return ase[a]}function OB(e,t=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}function ose(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var s2=CB,i2=TB,hk=["Enter"," "],lse=["ArrowDown","PageUp","Home"],EB=["ArrowUp","PageDown","End"],cse=[...lse,...EB],dse={ltr:[...hk,"ArrowRight"],rtl:[...hk,"ArrowLeft"]},use={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yg="Menu",[Yf,mse,hse]=Fm(yg),[cd,RB]=Jn(yg,[hse,zm,Wm]),b0=zm(),MB=Wm(),[fse,dd]=cd(yg),[pse,vg]=cd(yg),DB=e=>{const{__scopeMenu:t,open:n=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,l=b0(t),[c,d]=j.useState(null),u=j.useRef(!1),m=Sr(i),h=ld(s);return j.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),r.jsx(UF,{...l,children:r.jsx(fse,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:d,children:r.jsx(pse,{scope:t,onClose:j.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:o,children:a})})})};DB.displayName=yg;var gse="MenuAnchor",o2=j.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e,s=b0(n);return r.jsx(V_,{...s,...a,ref:t})});o2.displayName=gse;var l2="MenuPortal",[xse,IB]=cd(l2,{forceMount:void 0}),LB=e=>{const{__scopeMenu:t,forceMount:n,children:a,container:s}=e,i=dd(l2,t);return r.jsx(xse,{scope:t,forceMount:n,children:r.jsx(ga,{present:n||i.open,children:r.jsx(ig,{asChild:!0,container:s,children:a})})})};LB.displayName=l2;var cs="MenuContent",[yse,c2]=cd(cs),$B=j.forwardRef((e,t)=>{const n=IB(cs,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,i=dd(cs,e.__scopeMenu),o=vg(cs,e.__scopeMenu);return r.jsx(Yf.Provider,{scope:e.__scopeMenu,children:r.jsx(ga,{present:a||i.open,children:r.jsx(Yf.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(vse,{...s,ref:t}):r.jsx(bse,{...s,ref:t})})})})}),vse=j.forwardRef((e,t)=>{const n=dd(cs,e.__scopeMenu),a=j.useRef(null),s=dt(t,a);return j.useEffect(()=>{const i=a.current;if(i)return Q_(i)},[]),r.jsx(d2,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ne(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),bse=j.forwardRef((e,t)=>{const n=dd(cs,e.__scopeMenu);return r.jsx(d2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),wse=Kc("MenuContent.ScrollLock"),d2=j.forwardRef((e,t)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:f,disableOutsideScroll:g,...p}=e,x=dd(cs,n),y=vg(cs,n),v=b0(n),b=MB(n),N=mse(n),[w,k]=j.useState(null),P=j.useRef(null),_=dt(t,P,x.onContentChange),T=j.useRef(0),I=j.useRef(""),A=j.useRef(0),R=j.useRef(null),E=j.useRef("right"),L=j.useRef(0),$=g?p0:j.Fragment,B=g?{as:wse,allowPinchZoom:!0}:void 0,K=D=>{var ee,pe;const G=I.current+D,q=N().filter(W=>!W.disabled),C=document.activeElement,X=(ee=q.find(W=>W.ref.current===C))==null?void 0:ee.textValue,Q=q.map(W=>W.textValue),xe=Rse(Q,G,X),Pe=(pe=q.find(W=>W.textValue===xe))==null?void 0:pe.ref.current;(function W(H){I.current=H,window.clearTimeout(T.current),H!==""&&(T.current=window.setTimeout(()=>W(""),1e3))})(G),Pe&&setTimeout(()=>Pe.focus())};j.useEffect(()=>()=>window.clearTimeout(T.current),[]),J_();const S=j.useCallback(D=>{var q,C;return E.current===((q=R.current)==null?void 0:q.side)&&Dse(D,(C=R.current)==null?void 0:C.area)},[]);return r.jsx(yse,{scope:n,searchRef:I,onItemEnter:j.useCallback(D=>{S(D)&&D.preventDefault()},[S]),onItemLeave:j.useCallback(D=>{var G;S(D)||((G=P.current)==null||G.focus(),k(null))},[S]),onTriggerLeave:j.useCallback(D=>{S(D)&&D.preventDefault()},[S]),pointerGraceTimerRef:A,onPointerGraceIntentChange:j.useCallback(D=>{R.current=D},[]),children:r.jsx($,{...B,children:r.jsx(h0,{asChild:!0,trapped:s,onMountAutoFocus:Ne(i,D=>{var G;D.preventDefault(),(G=P.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(Bm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:f,children:r.jsx(s2,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:a,currentTabStopId:w,onCurrentTabStopIdChange:k,onEntryFocus:Ne(c,D=>{y.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(q_,{role:"menu","aria-orientation":"vertical","data-state":e6(x.open),"data-radix-menu-content":"",dir:y.dir,...v,...p,ref:_,style:{outline:"none",...p.style},onKeyDown:Ne(p.onKeyDown,D=>{const q=D.target.closest("[data-radix-menu-content]")===D.currentTarget,C=D.ctrlKey||D.altKey||D.metaKey,X=D.key.length===1;q&&(D.key==="Tab"&&D.preventDefault(),!C&&X&&K(D.key));const Q=P.current;if(D.target!==Q||!cse.includes(D.key))return;D.preventDefault();const Pe=N().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);EB.includes(D.key)&&Pe.reverse(),Ose(Pe)}),onBlur:Ne(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(T.current),I.current="")}),onPointerMove:Ne(e.onPointerMove,Jf(D=>{const G=D.target,q=L.current!==D.clientX;if(D.currentTarget.contains(G)&&q){const C=D.clientX>L.current?"right":"left";E.current=C,L.current=D.clientX}}))})})})})})})});$B.displayName=cs;var jse="MenuGroup",u2=j.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return r.jsx(Ue.div,{role:"group",...a,ref:t})});u2.displayName=jse;var Nse="MenuLabel",FB=j.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return r.jsx(Ue.div,{...a,ref:t})});FB.displayName=Nse;var rv="MenuItem",vE="menu.itemSelect",w0=j.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:a,...s}=e,i=j.useRef(null),o=vg(rv,e.__scopeMenu),l=c2(rv,e.__scopeMenu),c=dt(t,i),d=j.useRef(!1),u=()=>{const m=i.current;if(!n&&m){const h=new CustomEvent(vE,{bubbles:!0,cancelable:!0});m.addEventListener(vE,f=>a==null?void 0:a(f),{once:!0}),__(m,h),h.defaultPrevented?d.current=!1:o.onClose()}};return r.jsx(BB,{...s,ref:c,disabled:n,onClick:Ne(e.onClick,u),onPointerDown:m=>{var h;(h=e.onPointerDown)==null||h.call(e,m),d.current=!0},onPointerUp:Ne(e.onPointerUp,m=>{var h;d.current||(h=m.currentTarget)==null||h.click()}),onKeyDown:Ne(e.onKeyDown,m=>{const h=l.searchRef.current!=="";n||h&&m.key===" "||hk.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});w0.displayName=rv;var BB=j.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:a=!1,textValue:s,...i}=e,o=c2(rv,n),l=MB(n),c=j.useRef(null),d=dt(t,c),[u,m]=j.useState(!1),[h,f]=j.useState("");return j.useEffect(()=>{const g=c.current;g&&f((g.textContent??"").trim())},[i.children]),r.jsx(Yf.ItemSlot,{scope:n,disabled:a,textValue:s??h,children:r.jsx(i2,{asChild:!0,...l,focusable:!a,children:r.jsx(Ue.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:Ne(e.onPointerMove,Jf(g=>{a?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(e.onPointerLeave,Jf(g=>o.onItemLeave(g))),onFocus:Ne(e.onFocus,()=>m(!0)),onBlur:Ne(e.onBlur,()=>m(!1))})})})}),kse="MenuCheckboxItem",UB=j.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:a,...s}=e;return r.jsx(WB,{scope:e.__scopeMenu,checked:n,children:r.jsx(w0,{role:"menuitemcheckbox","aria-checked":av(n)?"mixed":n,...s,ref:t,"data-state":h2(n),onSelect:Ne(s.onSelect,()=>a==null?void 0:a(av(n)?!0:!n),{checkForDefaultPrevented:!1})})})});UB.displayName=kse;var VB="MenuRadioGroup",[Pse,Sse]=cd(VB,{value:void 0,onValueChange:()=>{}}),qB=j.forwardRef((e,t)=>{const{value:n,onValueChange:a,...s}=e,i=Sr(a);return r.jsx(Pse,{scope:e.__scopeMenu,value:n,onValueChange:i,children:r.jsx(u2,{...s,ref:t})})});qB.displayName=VB;var zB="MenuRadioItem",KB=j.forwardRef((e,t)=>{const{value:n,...a}=e,s=Sse(zB,e.__scopeMenu),i=n===s.value;return r.jsx(WB,{scope:e.__scopeMenu,checked:i,children:r.jsx(w0,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":h2(i),onSelect:Ne(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});KB.displayName=zB;var m2="MenuItemIndicator",[WB,_se]=cd(m2,{checked:!1}),HB=j.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:a,...s}=e,i=_se(m2,n);return r.jsx(ga,{present:a||av(i.checked)||i.checked===!0,children:r.jsx(Ue.span,{...s,ref:t,"data-state":h2(i.checked)})})});HB.displayName=m2;var Cse="MenuSeparator",GB=j.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e;return r.jsx(Ue.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});GB.displayName=Cse;var Ase="MenuArrow",YB=j.forwardRef((e,t)=>{const{__scopeMenu:n,...a}=e,s=b0(n);return r.jsx(z_,{...s,...a,ref:t})});YB.displayName=Ase;var Tse="MenuSub",[WFe,JB]=cd(Tse),Uh="MenuSubTrigger",QB=j.forwardRef((e,t)=>{const n=dd(Uh,e.__scopeMenu),a=vg(Uh,e.__scopeMenu),s=JB(Uh,e.__scopeMenu),i=c2(Uh,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>u,[u]),j.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),r.jsx(o2,{asChild:!0,...d,children:r.jsx(BB,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":e6(n.open),...e,ref:Xb(t,s.onTriggerChange),onClick:m=>{var h;(h=e.onClick)==null||h.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ne(e.onPointerMove,Jf(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Ne(e.onPointerLeave,Jf(m=>{var f,g;u();const h=(f=n.content)==null?void 0:f.getBoundingClientRect();if(h){const p=(g=n.content)==null?void 0:g.dataset.side,x=p==="right",y=x?-5:5,v=h[x?"left":"right"],b=h[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+y,y:m.clientY},{x:v,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:v,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(e.onKeyDown,m=>{var f;const h=i.searchRef.current!=="";e.disabled||h&&m.key===" "||dse[a.dir].includes(m.key)&&(n.onOpenChange(!0),(f=n.content)==null||f.focus(),m.preventDefault())})})})});QB.displayName=Uh;var XB="MenuSubContent",ZB=j.forwardRef((e,t)=>{const n=IB(cs,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,i=dd(cs,e.__scopeMenu),o=vg(cs,e.__scopeMenu),l=JB(XB,e.__scopeMenu),c=j.useRef(null),d=dt(t,c);return r.jsx(Yf.Provider,{scope:e.__scopeMenu,children:r.jsx(ga,{present:a||i.open,children:r.jsx(Yf.Slot,{scope:e.__scopeMenu,children:r.jsx(d2,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ne(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ne(e.onKeyDown,u=>{var f;const m=u.currentTarget.contains(u.target),h=use[o.dir].includes(u.key);m&&h&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),u.preventDefault())})})})})})});ZB.displayName=XB;function e6(e){return e?"open":"closed"}function av(e){return e==="indeterminate"}function h2(e){return av(e)?"indeterminate":e?"checked":"unchecked"}function Ose(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Ese(e,t){return e.map((n,a)=>e[(t+a)%e.length])}function Rse(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Ese(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Mse(e,t){const{x:n,y:a}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>a!=u>a&&n<(d-l)*(a-c)/(u-c)+l&&(s=!s)}return s}function Dse(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Mse(n,t)}function Jf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Ise=DB,Lse=o2,$se=LB,Fse=$B,Bse=u2,Use=FB,Vse=w0,qse=UB,zse=qB,Kse=KB,Wse=HB,Hse=GB,Gse=YB,Yse=QB,Jse=ZB,f2="DropdownMenu",[Qse,HFe]=Jn(f2,[RB]),na=RB(),[Xse,t6]=Qse(f2),n6=e=>{const{__scopeDropdownMenu:t,children:n,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=na(t),d=j.useRef(null),[u=!1,m]=fa({prop:s,defaultProp:i,onChange:o});return r.jsx(Xse,{scope:t,triggerId:ls(),triggerRef:d,contentId:ls(),open:u,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(h=>!h),[m]),modal:l,children:r.jsx(Ise,{...c,open:u,onOpenChange:m,dir:a,modal:l,children:n})})};n6.displayName=f2;var r6="DropdownMenuTrigger",a6=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...s}=e,i=t6(r6,n),o=na(n);return r.jsx(Lse,{asChild:!0,...o,children:r.jsx(Ue.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:Xb(t,i.triggerRef),onPointerDown:Ne(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ne(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});a6.displayName=r6;var Zse="DropdownMenuPortal",s6=e=>{const{__scopeDropdownMenu:t,...n}=e,a=na(t);return r.jsx($se,{...a,...n})};s6.displayName=Zse;var i6="DropdownMenuContent",o6=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=t6(i6,n),i=na(n),o=j.useRef(!1);return r.jsx(Fse,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:t,onCloseAutoFocus:Ne(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!s.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});o6.displayName=i6;var eie="DropdownMenuGroup",tie=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=na(n);return r.jsx(Bse,{...s,...a,ref:t})});tie.displayName=eie;var nie="DropdownMenuLabel",l6=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=na(n);return r.jsx(Use,{...s,...a,ref:t})});l6.displayName=nie;var rie="DropdownMenuItem",c6=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=na(n);return r.jsx(Vse,{...s,...a,ref:t})});c6.displayName=rie;var aie="DropdownMenuCheckboxItem",d6=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=na(n);return r.jsx(qse,{...s,...a,ref:t})});d6.displayName=aie;var sie="DropdownMenuRadioGroup",iie=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=na(n);return r.jsx(zse,{...s,...a,ref:t})});iie.displayName=sie;var oie="DropdownMenuRadioItem",u6=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=na(n);return r.jsx(Kse,{...s,...a,ref:t})});u6.displayName=oie;var lie="DropdownMenuItemIndicator",m6=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=na(n);return r.jsx(Wse,{...s,...a,ref:t})});m6.displayName=lie;var cie="DropdownMenuSeparator",h6=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=na(n);return r.jsx(Hse,{...s,...a,ref:t})});h6.displayName=cie;var die="DropdownMenuArrow",uie=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=na(n);return r.jsx(Gse,{...s,...a,ref:t})});uie.displayName=die;var mie="DropdownMenuSubTrigger",f6=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=na(n);return r.jsx(Yse,{...s,...a,ref:t})});f6.displayName=mie;var hie="DropdownMenuSubContent",p6=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=na(n);return r.jsx(Jse,{...s,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});p6.displayName=hie;var fie=n6,pie=a6,gie=s6,g6=o6,x6=l6,y6=c6,v6=d6,b6=u6,w6=m6,j6=h6,N6=f6,k6=p6;const Tc=fie,Oc=pie,xie=j.forwardRef(({className:e,inset:t,children:n,...a},s)=>r.jsxs(N6,{ref:s,className:Ce("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a,children:[n,r.jsx(rr,{className:"ml-auto"})]}));xie.displayName=N6.displayName;const yie=j.forwardRef(({className:e,...t},n)=>r.jsx(k6,{ref:n,className:Ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));yie.displayName=k6.displayName;const dl=j.forwardRef(({className:e,sideOffset:t=4,...n},a)=>r.jsx(gie,{children:r.jsx(g6,{ref:a,sideOffset:t,className:Ce("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));dl.displayName=g6.displayName;const Rr=j.forwardRef(({className:e,inset:t,...n},a)=>r.jsx(y6,{ref:a,className:Ce("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));Rr.displayName=y6.displayName;const vie=j.forwardRef(({className:e,children:t,checked:n,...a},s)=>r.jsxs(v6,{ref:s,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(w6,{children:r.jsx(pa,{className:"h-4 w-4"})})}),t]}));vie.displayName=v6.displayName;const bie=j.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(b6,{ref:a,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(w6,{children:r.jsx(aF,{className:"h-2 w-2 fill-current"})})}),t]}));bie.displayName=b6.displayName;const wie=j.forwardRef(({className:e,inset:t,...n},a)=>r.jsx(x6,{ref:a,className:Ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));wie.displayName=x6.displayName;const jie=j.forwardRef(({className:e,...t},n)=>r.jsx(j6,{ref:n,className:Ce("-mx-1 my-1 h-px bg-muted",e),...t}));jie.displayName=j6.displayName;const Nie=[{value:"zh",label:"",flag:"CN"},{value:"en",label:"English",flag:"EN"},{value:"ms",label:"Bahasa Melayu",flag:"MY"}];function Nl({testId:e="button-language-switcher"}){const{language:t,setLanguage:n}=ps();return r.jsxs(Tc,{children:[r.jsx(Oc,{asChild:!0,children:r.jsxs(M,{variant:"ghost",size:"sm",className:"gap-1.5 px-2","data-testid":e,children:[r.jsx(ll,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-medium",children:xre[t]})]})}),r.jsx(dl,{align:"end",className:"min-w-[140px]",children:Nie.map(a=>r.jsxs(Rr,{onClick:()=>n(a.value),className:t===a.value?"bg-accent":"","data-testid":`menu-language-${a.value}`,children:[r.jsx("span",{className:"mr-2 text-xs font-bold text-muted-foreground",children:a.flag}),a.label]},a.value))})]})}function j0(){var o,l,c;const{user:e,loading:t,role:n,member:a,partner:s,signOut:i}=Qt();return{user:e?{id:e.id,email:e.email,firstName:(o=e.user_metadata)==null?void 0:o.first_name,lastName:(l=e.user_metadata)==null?void 0:l.last_name,profileImageUrl:(c=e.user_metadata)==null?void 0:c.avatar_url}:null,isLoading:t,isAuthenticated:!!e,role:n,member:a,partner:s,signOut:i}}var p2="Avatar",[kie,GFe]=Jn(p2),[Pie,P6]=kie(p2),S6=j.forwardRef((e,t)=>{const{__scopeAvatar:n,...a}=e,[s,i]=j.useState("idle");return r.jsx(Pie,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:r.jsx(Ue.span,{...a,ref:t})})});S6.displayName=p2;var _6="AvatarImage",C6=j.forwardRef((e,t)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:s=()=>{},...i}=e,o=P6(_6,n),l=Sie(a,i),c=Sr(d=>{s(d),o.onImageLoadingStatusChange(d)});return Yn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(Ue.img,{...i,ref:t,src:a}):null});C6.displayName=_6;var A6="AvatarFallback",T6=j.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:a,...s}=e,i=P6(A6,n),[o,l]=j.useState(a===void 0);return j.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(c)}},[a]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(Ue.span,{...s,ref:t}):null});T6.displayName=A6;function bE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Sie(e,{referrerPolicy:t,crossOrigin:n}){const a=Cie(),s=j.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,l]=j.useState(()=>bE(i,e));return Yn(()=>{l(bE(i,e))},[i,e]),Yn(()=>{const c=m=>()=>{l(m)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,t]),o}function _ie(){return()=>{}}function Cie(){return j.useSyncExternalStore(_ie,()=>!0,()=>!1)}var O6=S6,E6=C6,R6=T6;const kl=j.forwardRef(({className:e,...t},n)=>r.jsx(O6,{ref:n,className:Ce(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));kl.displayName=O6.displayName;const Yu=j.forwardRef(({className:e,...t},n)=>r.jsx(E6,{ref:n,className:Ce("aspect-square h-full w-full",e),...t}));Yu.displayName=E6.displayName;const Pl=j.forwardRef(({className:e,...t},n)=>r.jsx(R6,{ref:n,className:Ce("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Pl.displayName=R6.displayName;function bg({whatsappLink:e,metaShopLink:t}){const{t:n}=ps(),{user:a,isAuthenticated:s,isLoading:i,signOut:o}=j0(),[l,c]=j.useState(!1),[d,u]=j.useState(!1),m=()=>{window.location.href="/auth/login"},h=async()=>{try{o&&await o()}catch(x){console.error("Logout error:",x)}window.location.href="/"},f=()=>a?a.firstName&&a.lastName?`${a.firstName[0]}${a.lastName[0]}`.toUpperCase():a.firstName?a.firstName[0].toUpperCase():a.email?a.email[0].toUpperCase():"U":"U",g=[{href:"/brand",label:n("nav.brand"),isRoute:!0},{href:"/products",label:n("nav.products"),isRoute:!0},{href:"/partner",label:n("nav.partner"),isRoute:!0}];j.useEffect(()=>{const x=()=>{c(window.scrollY>20)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const p=x=>{const y=document.querySelector(x);y&&y.scrollIntoView({behavior:"smooth"}),u(!1)};return r.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${l?"bg-background/95 backdrop-blur-md shadow-sm border-b border-border header-scrolled":"bg-transparent"}`,"data-testid":"header",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20 gap-4",children:[r.jsx("a",{href:"/",className:"brand-logo-container","data-testid":"link-logo",children:r.jsxs("div",{className:"brand-logo-text",children:[r.jsx("span",{className:"brand-logo-english",children:"LOVEYOUNG"}),r.jsx("span",{className:"brand-logo-chinese",children:"  "})]})}),r.jsx("nav",{className:"hidden lg:flex items-center gap-4 xl:gap-6",children:g.map(x=>x.isRoute?r.jsx(En,{href:x.href,className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors whitespace-nowrap","data-testid":`link-nav-${x.href.replace("/","")}`,children:x.label},x.href):r.jsx("button",{onClick:()=>p(x.href),className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors whitespace-nowrap","data-testid":`link-nav-${x.href.replace("#","")}`,children:x.label},x.href))}),r.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[r.jsx(Nl,{}),r.jsxs(M,{variant:"outline",size:"default",className:"gap-2",onClick:()=>window.open(e,"_blank"),"data-testid":"button-header-whatsapp",children:[r.jsx(Ba,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden lg:inline",children:n("header.whatsapp")})]}),s?r.jsxs(Tc,{children:[r.jsx(Oc,{asChild:!0,children:r.jsx(M,{variant:"ghost",size:"icon","data-testid":"button-user-menu",children:r.jsxs(kl,{className:"h-8 w-8",children:[r.jsx(Yu,{src:(a==null?void 0:a.profileImageUrl)||void 0}),r.jsx(Pl,{className:"text-xs",children:f()})]})})}),r.jsxs(dl,{align:"end",children:[r.jsx(Rr,{asChild:!0,children:r.jsxs(En,{href:"/member","data-testid":"link-member-center",children:[r.jsx(Kr,{className:"w-4 h-4 mr-2"}),n("header.account")]})}),r.jsxs(Rr,{onClick:h,"data-testid":"button-logout",children:[r.jsx(Kf,{className:"w-4 h-4 mr-2"}),n("member.logout")]})]})]}):i?null:r.jsxs(M,{variant:"ghost",size:"default",className:"gap-2",onClick:m,"data-testid":"button-header-login",children:[r.jsx(Kr,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden lg:inline",children:n("header.login")})]})]}),r.jsxs(Ll,{open:d,onOpenChange:u,children:[r.jsx(x0,{asChild:!0,className:"md:hidden",children:r.jsx(M,{variant:"ghost",size:"icon",className:l?"text-foreground":"text-primary bg-white/90 shadow-md hover:bg-white border border-primary/20","data-testid":"button-mobile-menu",children:r.jsx(s0,{className:"w-5 h-5"})})}),r.jsx(mo,{side:"right",className:"w-72 p-6",children:r.jsxs("div",{className:"flex flex-col gap-6 mt-8",children:[r.jsxs("div",{className:"mobile-brand-logo",children:[r.jsx("span",{className:"mobile-brand-english",children:"LOVEYOUNG"}),r.jsx("span",{className:"mobile-brand-chinese",children:""}),r.jsx("span",{className:"mobile-brand-tagline",children:"Premium Bird's Nest"})]}),r.jsx("nav",{className:"flex flex-col gap-4",children:g.map(x=>x.isRoute?r.jsx(En,{href:x.href,className:"text-left text-base font-medium text-muted-foreground hover:text-foreground transition-colors py-2","data-testid":`link-mobile-${x.href.replace("/","")}`,onClick:()=>u(!1),children:x.label},x.href):r.jsx("button",{onClick:()=>p(x.href),className:"text-left text-base font-medium text-muted-foreground hover:text-foreground transition-colors py-2","data-testid":`link-mobile-${x.href.replace("#","")}`,children:x.label},x.href))}),r.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t border-border",children:[r.jsx("div",{className:"flex justify-center pb-2",children:r.jsx(Nl,{})}),r.jsxs(M,{variant:"outline",className:"w-full gap-2 justify-center",onClick:()=>window.open(e,"_blank"),"data-testid":"button-mobile-whatsapp",children:[r.jsx(Ba,{className:"w-4 h-4"}),n("header.whatsapp")]}),s?r.jsxs(r.Fragment,{children:[r.jsx(En,{href:"/member",onClick:()=>u(!1),children:r.jsxs(M,{variant:"outline",className:"w-full gap-2 justify-center","data-testid":"button-mobile-member",children:[r.jsx(Kr,{className:"w-4 h-4"}),n("header.account")]})}),r.jsxs(M,{variant:"ghost",className:"w-full gap-2 justify-center",onClick:h,"data-testid":"button-mobile-logout",children:[r.jsx(Kf,{className:"w-4 h-4"}),n("member.logout")]})]}):i?null:r.jsxs(M,{variant:"outline",className:"w-full gap-2 justify-center",onClick:m,"data-testid":"button-mobile-login",children:[r.jsx(Kr,{className:"w-4 h-4"}),n("header.login")]})]})]})})]})]})})})}function wg({whatsappLink:e,metaShopLink:t}){const{t:n}=ps(),a=new Date().getFullYear();return r.jsx("footer",{className:"bg-primary text-primary-foreground","data-testid":"footer",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-12 md:py-16",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-serif text-2xl font-bold text-secondary",children:"LOVE YOUNG"}),r.jsx("span",{className:"text-xs border-l border-primary-foreground/30 pl-2 opacity-70",children:n("footer.brandName")})]}),r.jsx("p",{className:"mt-4 opacity-70 max-w-md leading-relaxed","data-testid":"text-footer-description",children:n("footer.description")}),r.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[r.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 flex items-center justify-center rounded-full bg-primary-foreground/10 hover-elevate","aria-label":"WhatsApp","data-testid":"link-footer-whatsapp",children:r.jsx(Ba,{className:"w-5 h-5"})}),r.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 flex items-center justify-center rounded-full bg-primary-foreground/10 hover-elevate","aria-label":"Facebook","data-testid":"link-footer-facebook",children:r.jsx(Vre,{className:"w-5 h-5"})}),r.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 flex items-center justify-center rounded-full bg-primary-foreground/10 hover-elevate","aria-label":"Instagram","data-testid":"link-footer-instagram",children:r.jsx(zre,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-secondary mb-4","data-testid":"text-footer-links-title",children:n("footer.quickLinks")}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsx(En,{href:"/brand",className:"opacity-70 hover-elevate inline-block","data-testid":"link-footer-brand",children:n("nav.brand")})}),r.jsx("li",{children:r.jsx(En,{href:"/products",className:"opacity-70 hover-elevate inline-block","data-testid":"link-footer-products",children:n("nav.products")})}),r.jsx("li",{children:r.jsx(En,{href:"/partner",className:"opacity-70 hover-elevate inline-block","data-testid":"link-footer-rwa",children:n("nav.partner")})}),r.jsx("li",{children:r.jsx(En,{href:"/member",className:"opacity-70 hover-elevate inline-block","data-testid":"link-footer-member",children:n("nav.member")})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-secondary mb-4","data-testid":"text-footer-contact-title",children:n("footer.contactUs")}),r.jsxs("ul",{className:"space-y-3 opacity-70",children:[r.jsxs("li",{className:"flex items-start gap-2","data-testid":"text-footer-hours",children:[r.jsxs("span",{className:"font-medium opacity-100",children:[n("footer.businessHours"),":"]}),r.jsx("span",{children:n("footer.hoursValue")})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"font-medium opacity-100",children:"WhatsApp:"}),r.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"hover-elevate inline-block","data-testid":"link-footer-whatsapp-number",children:n("footer.clickToChat")})]}),r.jsx("li",{className:"text-sm",children:r.jsx("span",{className:"text-xs bg-secondary/20 text-secondary px-2 py-1 rounded","data-testid":"text-footer-response-time",children:n("footer.responseTime")})})]})]})]}),r.jsxs("div",{className:"mt-12 pt-8 border-t border-primary-foreground/10 flex flex-col md:flex-row items-center justify-between gap-4",children:[r.jsxs("p",{className:"text-sm opacity-60","data-testid":"text-footer-copyright",children:[" ",a," Love Young. ",n("footer.allRightsReserved")]}),r.jsx("p",{className:"text-sm opacity-60","data-testid":"text-footer-slogan",children:n("footer.slogan")})]})]})})}function Aie({whatsappLink:e}){const{t}=ct();return r.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 hidden md:flex items-center justify-center w-16 h-16 bg-whatsapp text-white rounded-full shadow-lg transition-transform hover:scale-105 active:scale-95","data-testid":"button-floating-whatsapp","aria-label":t("common.whatsappConsult"),children:r.jsx(Ba,{className:"w-7 h-7 md:w-8 md:h-8"})})}var g2="Tabs",[Tie,YFe]=Jn(g2,[Wm]),M6=Wm(),[Oie,x2]=Tie(g2),D6=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=ld(l),[m,h]=fa({prop:a,onChange:s,defaultProp:i});return r.jsx(Oie,{scope:n,baseId:ls(),value:m,onValueChange:h,orientation:o,dir:u,activationMode:c,children:r.jsx(Ue.div,{dir:u,"data-orientation":o,...d,ref:t})})});D6.displayName=g2;var I6="TabsList",L6=j.forwardRef((e,t)=>{const{__scopeTabs:n,loop:a=!0,...s}=e,i=x2(I6,n),o=M6(n);return r.jsx(s2,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:r.jsx(Ue.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});L6.displayName=I6;var $6="TabsTrigger",F6=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...i}=e,o=x2($6,n),l=M6(n),c=V6(o.baseId,a),d=q6(o.baseId,a),u=a===o.value;return r.jsx(i2,{asChild:!0,...l,focusable:!s,active:u,children:r.jsx(Ue.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Ne(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(a):m.preventDefault()}),onKeyDown:Ne(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(a)}),onFocus:Ne(e.onFocus,()=>{const m=o.activationMode!=="manual";!u&&!s&&m&&o.onValueChange(a)})})})});F6.displayName=$6;var B6="TabsContent",U6=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,forceMount:s,children:i,...o}=e,l=x2(B6,n),c=V6(l.baseId,a),d=q6(l.baseId,a),u=a===l.value,m=j.useRef(u);return j.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),r.jsx(ga,{present:s||u,children:({present:h})=>r.jsx(Ue.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});U6.displayName=B6;function V6(e,t){return`${e}-trigger-${t}`}function q6(e,t){return`${e}-content-${t}`}var Eie=D6,z6=L6,K6=F6,W6=U6;const Pn=Eie,yn=j.forwardRef(({className:e,...t},n)=>r.jsx(z6,{ref:n,className:Ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));yn.displayName=z6.displayName;const ke=j.forwardRef(({className:e,...t},n)=>r.jsx(K6,{ref:n,className:Ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ke.displayName=K6.displayName;const Nt=j.forwardRef(({className:e,...t},n)=>r.jsx(W6,{ref:n,className:Ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Nt.displayName=W6.displayName;const Rie=[{key:"original",nameCn:"",nameEn:"Original Bird Nest",descCn:"",descEn:"Classic original flavor, pure bird nest taste"},{key:"redDate",nameCn:"",nameEn:"Red Date Bird Nest",descCn:"",descEn:"Red date nourishes blood, warming and replenishing"},{key:"snowPear",nameCn:"",nameEn:"Snow Pear Bird Nest",descCn:"",descEn:"Snow pear moistens lungs, refreshing and sweet"},{key:"peachGum",nameCn:"",nameEn:"Peach Gum Bird Nest",descCn:"",descEn:"Peach gum for beauty, rich in collagen"},{key:"coconut",nameCn:"",nameEn:"Coconut Bird Nest",descCn:"",descEn:"Aromatic coconut, tropical flavor"},{key:"mango",nameCn:"",nameEn:"Mango Bird Nest",descCn:"",descEn:"Sweet mango, tropical fresh fruit"},{key:"cocoaOat",nameCn:"",nameEn:"Cocoa Oat Bird Nest",descCn:"",descEn:"Cocoa oat, rich and silky"},{key:"matchaOat",nameCn:"",nameEn:"Matcha Oat Bird Nest",descCn:"",descEn:"Matcha fragrance, healthy and nourishing"},{key:"purpleRiceOat",nameCn:"",nameEn:"Purple Rice Oat Bird Nest",descCn:"",descEn:"Purple rice nutrition, grain health"},{key:"peachGumLongan",nameCn:"",nameEn:"Peach Gum Longan Bird Nest",descCn:"",descEn:"Peach gum longan, beauty and calming"},{key:"dateGoji",nameCn:"",nameEn:"Date Goji Bird Nest",descCn:"",descEn:"Red date goji, blood nourishing and eye brightening"},{key:"papaya",nameCn:"",nameEn:"Papaya Bird Nest",descCn:"",descEn:"Papaya for beauty and skincare"}],Mie=[{key:"pregnant",icon:gZ,titleKey:"target.pregnant",descKey:"target.pregnantDesc",flavorsKey:"target.pregnantFlavors"},{key:"children",icon:Mt,titleKey:"target.children",descKey:"target.childrenDesc",flavorsKey:"target.childrenFlavors"},{key:"beauty",icon:xl,titleKey:"target.beauty",descKey:"target.beautyDesc",flavorsKey:"target.beautyFlavors"},{key:"health",icon:a0,titleKey:"target.health",descKey:"target.healthDesc",flavorsKey:"target.healthFlavors"}];function Die({open:e,onOpenChange:t}){const{t:n}=ps();return r.jsx(Ll,{open:e,onOpenChange:t,children:r.jsxs(mo,{side:"bottom",className:"h-[85vh] rounded-t-3xl overflow-hidden","data-testid":"modal-flavor",children:[r.jsx(gg,{className:"pb-4",children:r.jsx(xg,{className:"text-xl font-bold","data-testid":"text-modal-title",children:n("flavors.modalTitle")})}),r.jsxs(Pn,{defaultValue:"flavors",className:"h-full",children:[r.jsxs(yn,{className:"grid w-full grid-cols-2 mb-4",children:[r.jsx(ke,{value:"flavors","data-testid":"tab-flavors",children:n("flavors.modalTitle")}),r.jsx(ke,{value:"recommendations","data-testid":"tab-recommendations",children:n("flavors.recommended")})]}),r.jsx(Nt,{value:"flavors",className:"overflow-y-auto max-h-[calc(85vh-140px)] pb-8",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Rie.map((a,s)=>r.jsx(V,{className:"p-4 hover-elevate","data-testid":`card-flavor-${a.key}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-amber-400/20 to-orange-500/10 flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-lg font-bold text-amber-600 dark:text-amber-400",children:s+1})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-semibold text-foreground mb-1","data-testid":`text-flavor-name-${a.key}`,children:a.nameCn}),r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:a.nameEn}),r.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed","data-testid":`text-flavor-desc-${a.key}`,children:a.descCn})]})]})},a.key))})}),r.jsxs(Nt,{value:"recommendations",className:"overflow-y-auto max-h-[calc(85vh-140px)] pb-8",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"font-semibold text-foreground mb-1",children:n("flavors.targetAudience")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:n("flavors.recommended")})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:Mie.map(a=>{const s=a.icon;return r.jsx(V,{className:"p-4 hover-elevate","data-testid":`card-target-${a.key}`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-400/20 to-teal-500/10 flex items-center justify-center flex-shrink-0",children:r.jsx(s,{className:"w-6 h-6 text-emerald-500"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-semibold text-foreground mb-1","data-testid":`text-target-name-${a.key}`,children:n(a.titleKey)}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2","data-testid":`text-target-desc-${a.key}`,children:n(a.descKey)}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n(a.flavorsKey).split("").map((i,o)=>r.jsx(te,{variant:"secondary",className:"text-xs","data-testid":`badge-target-flavor-${a.key}-${o}`,children:i.trim()},o))})]})]})},a.key)})})]})]})]})})}function sv(e,[t,n]){return Math.min(n,Math.max(t,e))}function jg(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Iie=[" ","Enter","ArrowUp","ArrowDown"],Lie=[" ","Enter"],Ng="Select",[N0,k0,$ie]=Fm(Ng),[Hm,JFe]=Jn(Ng,[$ie,zm]),P0=zm(),[Fie,$l]=Hm(Ng),[Bie,Uie]=Hm(Ng),H6=e=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:f,form:g}=e,p=P0(t),[x,y]=j.useState(null),[v,b]=j.useState(null),[N,w]=j.useState(!1),k=ld(d),[P=!1,_]=fa({prop:a,defaultProp:s,onChange:i}),[T,I]=fa({prop:o,defaultProp:l,onChange:c}),A=j.useRef(null),R=x?g||!!x.closest("form"):!0,[E,L]=j.useState(new Set),$=Array.from(E).map(B=>B.props.value).join(";");return r.jsx(UF,{...p,children:r.jsxs(Fie,{required:f,scope:t,trigger:x,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:ls(),value:T,onValueChange:I,open:P,onOpenChange:_,dir:k,triggerPointerDownPosRef:A,disabled:h,children:[r.jsx(N0.Provider,{scope:t,children:r.jsx(Bie,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(B=>{L(K=>new Set(K).add(B))},[]),onNativeOptionRemove:j.useCallback(B=>{L(K=>{const S=new Set(K);return S.delete(B),S})},[]),children:n})}),R?r.jsxs(y8,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:m,value:T,onChange:B=>I(B.target.value),disabled:h,form:g,children:[T===void 0?r.jsx("option",{value:""}):null,Array.from(E)]},$):null]})})};H6.displayName=Ng;var G6="SelectTrigger",Y6=j.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:a=!1,...s}=e,i=P0(n),o=$l(G6,n),l=o.disabled||a,c=dt(t,o.onTriggerChange),d=k0(n),u=j.useRef("touch"),[m,h,f]=v8(p=>{const x=d().filter(b=>!b.disabled),y=x.find(b=>b.value===o.value),v=b8(x,p,y);v!==void 0&&o.onValueChange(v.value)}),g=p=>{l||(o.onOpenChange(!0),f()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return r.jsx(V_,{asChild:!0,...i,children:r.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":x8(o.value)?"":void 0,...s,ref:c,onClick:Ne(s.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&g(p)}),onPointerDown:Ne(s.onPointerDown,p=>{u.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ne(s.onKeyDown,p=>{const x=m.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&Iie.includes(p.key)&&(g(),p.preventDefault())})})})});Y6.displayName=G6;var J6="SelectValue",Q6=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,children:i,placeholder:o="",...l}=e,c=$l(J6,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=dt(t,c.onValueNodeChange);return Yn(()=>{d(u)},[d,u]),r.jsx(Ue.span,{...l,ref:m,style:{pointerEvents:"none"},children:x8(c.value)?r.jsx(r.Fragment,{children:o}):i})});Q6.displayName=J6;var Vie="SelectIcon",X6=j.forwardRef((e,t)=>{const{__scopeSelect:n,children:a,...s}=e;return r.jsx(Ue.span,{"aria-hidden":!0,...s,ref:t,children:a||""})});X6.displayName=Vie;var qie="SelectPortal",Z6=e=>r.jsx(ig,{asChild:!0,...e});Z6.displayName=qie;var Yc="SelectContent",e8=j.forwardRef((e,t)=>{const n=$l(Yc,e.__scopeSelect),[a,s]=j.useState();if(Yn(()=>{s(new DocumentFragment)},[]),!n.open){const i=a;return i?id.createPortal(r.jsx(t8,{scope:e.__scopeSelect,children:r.jsx(N0.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),i):null}return r.jsx(n8,{...e,ref:t})});e8.displayName=Yc;var js=10,[t8,Fl]=Hm(Yc),zie="SelectContentImpl",Kie=Kc("SelectContent.RemoveScroll"),n8=j.forwardRef((e,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:p,avoidCollisions:x,...y}=e,v=$l(Yc,n),[b,N]=j.useState(null),[w,k]=j.useState(null),P=dt(t,ee=>N(ee)),[_,T]=j.useState(null),[I,A]=j.useState(null),R=k0(n),[E,L]=j.useState(!1),$=j.useRef(!1);j.useEffect(()=>{if(b)return Q_(b)},[b]),J_();const B=j.useCallback(ee=>{const[pe,...W]=R().map(ae=>ae.ref.current),[H]=W.slice(-1),ie=document.activeElement;for(const ae of ee)if(ae===ie||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===pe&&w&&(w.scrollTop=0),ae===H&&w&&(w.scrollTop=w.scrollHeight),ae==null||ae.focus(),document.activeElement!==ie))return},[R,w]),K=j.useCallback(()=>B([_,b]),[B,_,b]);j.useEffect(()=>{E&&K()},[E,K]);const{onOpenChange:S,triggerPointerDownPosRef:D}=v;j.useEffect(()=>{if(b){let ee={x:0,y:0};const pe=H=>{var ie,ae;ee={x:Math.abs(Math.round(H.pageX)-(((ie=D.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(H.pageY)-(((ae=D.current)==null?void 0:ae.y)??0))}},W=H=>{ee.x<=10&&ee.y<=10?H.preventDefault():b.contains(H.target)||S(!1),document.removeEventListener("pointermove",pe),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",W,{capture:!0})}}},[b,S,D]),j.useEffect(()=>{const ee=()=>S(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[S]);const[G,q]=v8(ee=>{const pe=R().filter(ie=>!ie.disabled),W=pe.find(ie=>ie.ref.current===document.activeElement),H=b8(pe,ee,W);H&&setTimeout(()=>H.ref.current.focus())}),C=j.useCallback((ee,pe,W)=>{const H=!$.current&&!W;(v.value!==void 0&&v.value===pe||H)&&(T(ee),H&&($.current=!0))},[v.value]),X=j.useCallback(()=>b==null?void 0:b.focus(),[b]),Q=j.useCallback((ee,pe,W)=>{const H=!$.current&&!W;(v.value!==void 0&&v.value===pe||H)&&A(ee)},[v.value]),xe=a==="popper"?fk:r8,Pe=xe===fk?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return r.jsx(t8,{scope:n,content:b,viewport:w,onViewportChange:k,itemRefCallback:C,selectedItem:_,onItemLeave:X,itemTextRefCallback:Q,focusSelectedItem:K,selectedItemText:I,position:a,isPositioned:E,searchRef:G,children:r.jsx(p0,{as:Kie,allowPinchZoom:!0,children:r.jsx(h0,{asChild:!0,trapped:v.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Ne(s,ee=>{var pe;(pe=v.trigger)==null||pe.focus({preventScroll:!0}),ee.preventDefault()}),children:r.jsx(Bm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:r.jsx(xe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ee=>ee.preventDefault(),...y,...Pe,onPlaced:()=>L(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ne(y.onKeyDown,ee=>{const pe=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!pe&&ee.key.length===1&&q(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let H=R().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ie=ee.target,ae=H.indexOf(ie);H=H.slice(ae+1)}setTimeout(()=>B(H)),ee.preventDefault()}})})})})})})});n8.displayName=zie;var Wie="SelectItemAlignedPosition",r8=j.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:a,...s}=e,i=$l(Yc,n),o=Fl(Yc,n),[l,c]=j.useState(null),[d,u]=j.useState(null),m=dt(t,P=>u(P)),h=k0(n),f=j.useRef(!1),g=j.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:v}=o,b=j.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&x&&y){const P=i.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(i.dir!=="rtl"){const ie=I.left-_.left,ae=T.left-ie,le=P.left-ae,ve=P.width+le,ne=Math.max(ve,_.width),F=window.innerWidth-js,me=sv(ae,[js,Math.max(js,F-ne)]);l.style.minWidth=ve+"px",l.style.left=me+"px"}else{const ie=_.right-I.right,ae=window.innerWidth-T.right-ie,le=window.innerWidth-P.right-ae,ve=P.width+le,ne=Math.max(ve,_.width),F=window.innerWidth-js,me=sv(ae,[js,Math.max(js,F-ne)]);l.style.minWidth=ve+"px",l.style.right=me+"px"}const A=h(),R=window.innerHeight-js*2,E=p.scrollHeight,L=window.getComputedStyle(d),$=parseInt(L.borderTopWidth,10),B=parseInt(L.paddingTop,10),K=parseInt(L.borderBottomWidth,10),S=parseInt(L.paddingBottom,10),D=$+B+E+S+K,G=Math.min(x.offsetHeight*5,D),q=window.getComputedStyle(p),C=parseInt(q.paddingTop,10),X=parseInt(q.paddingBottom,10),Q=P.top+P.height/2-js,xe=R-Q,Pe=x.offsetHeight/2,ee=x.offsetTop+Pe,pe=$+B+ee,W=D-pe;if(pe<=Q){const ie=A.length>0&&x===A[A.length-1].ref.current;l.style.bottom="0px";const ae=d.clientHeight-p.offsetTop-p.offsetHeight,le=Math.max(xe,Pe+(ie?X:0)+ae+K),ve=pe+le;l.style.height=ve+"px"}else{const ie=A.length>0&&x===A[0].ref.current;l.style.top="0px";const le=Math.max(Q,$+p.offsetTop+(ie?C:0)+Pe)+W;l.style.height=le+"px",p.scrollTop=pe-Q+p.offsetTop}l.style.margin=`${js}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=R+"px",a==null||a(),requestAnimationFrame(()=>f.current=!0)}},[h,i.trigger,i.valueNode,l,d,p,x,y,i.dir,a]);Yn(()=>b(),[b]);const[N,w]=j.useState();Yn(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const k=j.useCallback(P=>{P&&g.current===!0&&(b(),v==null||v(),g.current=!1)},[b,v]);return r.jsx(Gie,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:k,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:r.jsx(Ue.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});r8.displayName=Wie;var Hie="SelectPopperPosition",fk=j.forwardRef((e,t)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=js,...i}=e,o=P0(n);return r.jsx(q_,{...o,...i,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fk.displayName=Hie;var[Gie,y2]=Hm(Yc,{}),pk="SelectViewport",a8=j.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:a,...s}=e,i=Fl(pk,n),o=y2(pk,n),l=dt(t,i.onViewportChange),c=j.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(N0.Slot,{scope:n,children:r.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ne(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&m){const f=Math.abs(c.current-u.scrollTop);if(f>0){const g=window.innerHeight-js*2,p=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),y=Math.max(p,x);if(y<g){const v=y+f,b=Math.min(g,v),N=v-b;m.style.height=b+"px",m.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});a8.displayName=pk;var s8="SelectGroup",[Yie,Jie]=Hm(s8),Qie=j.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=ls();return r.jsx(Yie,{scope:n,id:s,children:r.jsx(Ue.div,{role:"group","aria-labelledby":s,...a,ref:t})})});Qie.displayName=s8;var i8="SelectLabel",o8=j.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=Jie(i8,n);return r.jsx(Ue.div,{id:s.id,...a,ref:t})});o8.displayName=i8;var iv="SelectItem",[Xie,l8]=Hm(iv),c8=j.forwardRef((e,t)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:i,...o}=e,l=$l(iv,n),c=Fl(iv,n),d=l.value===a,[u,m]=j.useState(i??""),[h,f]=j.useState(!1),g=dt(t,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,a,s)}),p=ls(),x=j.useRef("touch"),y=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Xie,{scope:n,value:a,disabled:s,textId:p,isSelected:d,onItemTextChange:j.useCallback(v=>{m(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:r.jsx(N0.ItemSlot,{scope:n,value:a,disabled:s,textValue:u,children:r.jsx(Ue.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Ne(o.onFocus,()=>f(!0)),onBlur:Ne(o.onBlur,()=>f(!1)),onClick:Ne(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:Ne(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:Ne(o.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:Ne(o.onPointerMove,v=>{var b;x.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ne(o.onKeyDown,v=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&v.key===" "||(Lie.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});c8.displayName=iv;var Vh="SelectItemText",d8=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,...i}=e,o=$l(Vh,n),l=Fl(Vh,n),c=l8(Vh,n),d=Uie(Vh,n),[u,m]=j.useState(null),h=dt(t,y=>m(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),f=u==null?void 0:u.textContent,g=j.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=d;return Yn(()=>(p(g),()=>x(g)),[p,x,g]),r.jsxs(r.Fragment,{children:[r.jsx(Ue.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?id.createPortal(i.children,o.valueNode):null]})});d8.displayName=Vh;var u8="SelectItemIndicator",m8=j.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return l8(u8,n).isSelected?r.jsx(Ue.span,{"aria-hidden":!0,...a,ref:t}):null});m8.displayName=u8;var gk="SelectScrollUpButton",h8=j.forwardRef((e,t)=>{const n=Fl(gk,e.__scopeSelect),a=y2(gk,e.__scopeSelect),[s,i]=j.useState(!1),o=dt(t,a.onScrollButtonChange);return Yn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(p8,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});h8.displayName=gk;var xk="SelectScrollDownButton",f8=j.forwardRef((e,t)=>{const n=Fl(xk,e.__scopeSelect),a=y2(xk,e.__scopeSelect),[s,i]=j.useState(!1),o=dt(t,a.onScrollButtonChange);return Yn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(p8,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});f8.displayName=xk;var p8=j.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=e,i=Fl("SelectScrollButton",n),o=j.useRef(null),l=k0(n),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),Yn(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(Ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ne(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:Ne(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:Ne(s.onPointerLeave,()=>{c()})})}),Zie="SelectSeparator",g8=j.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return r.jsx(Ue.div,{"aria-hidden":!0,...a,ref:t})});g8.displayName=Zie;var yk="SelectArrow",eoe=j.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=P0(n),i=$l(yk,n),o=Fl(yk,n);return i.open&&o.position==="popper"?r.jsx(z_,{...s,...a,ref:t}):null});eoe.displayName=yk;function x8(e){return e===""||e===void 0}var y8=j.forwardRef((e,t)=>{const{value:n,...a}=e,s=j.useRef(null),i=dt(t,s),o=jg(n);return j.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const m=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(m)}},[o,n]),r.jsx(og,{asChild:!0,children:r.jsx("select",{...a,ref:i,defaultValue:n})})});y8.displayName="BubbleSelect";function v8(e){const t=Sr(e),n=j.useRef(""),a=j.useRef(0),s=j.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=j.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,i]}function b8(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=toe(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function toe(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var noe=H6,w8=Y6,roe=Q6,aoe=X6,soe=Z6,j8=e8,ioe=a8,N8=o8,k8=c8,ooe=d8,loe=m8,P8=h8,S8=f8,_8=g8;const Et=noe,Rt=roe,_t=j.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(w8,{ref:a,className:Ce("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(aoe,{asChild:!0,children:r.jsx(n0,{className:"h-4 w-4 opacity-50"})})]}));_t.displayName=w8.displayName;const C8=j.forwardRef(({className:e,...t},n)=>r.jsx(P8,{ref:n,className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(wZ,{className:"h-4 w-4"})}));C8.displayName=P8.displayName;const A8=j.forwardRef(({className:e,...t},n)=>r.jsx(S8,{ref:n,className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(n0,{className:"h-4 w-4"})}));A8.displayName=S8.displayName;const Ct=j.forwardRef(({className:e,children:t,position:n="popper",...a},s)=>r.jsx(soe,{children:r.jsxs(j8,{ref:s,className:Ce("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[r.jsx(C8,{}),r.jsx(ioe,{className:Ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(A8,{})]})}));Ct.displayName=j8.displayName;const coe=j.forwardRef(({className:e,...t},n)=>r.jsx(N8,{ref:n,className:Ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));coe.displayName=N8.displayName;const ye=j.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(k8,{ref:a,className:Ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(loe,{children:r.jsx(pa,{className:"h-4 w-4"})})}),r.jsx(ooe,{children:t})]}));ye.displayName=k8.displayName;const doe=j.forwardRef(({className:e,...t},n)=>r.jsx(_8,{ref:n,className:Ce("-mx-1 my-1 h-px bg-muted",e),...t}));doe.displayName=_8.displayName;var v2="Checkbox",[uoe,QFe]=Jn(v2),[moe,hoe]=uoe(v2),T8=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[h,f]=j.useState(null),g=dt(t,N=>f(N)),p=j.useRef(!1),x=h?u||!!h.closest("form"):!0,[y=!1,v]=fa({prop:s,defaultProp:i,onChange:d}),b=j.useRef(y);return j.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const w=()=>v(b.current);return N.addEventListener("reset",w),()=>N.removeEventListener("reset",w)}},[h,v]),r.jsxs(moe,{scope:n,state:y,disabled:l,children:[r.jsx(Ue.button,{type:"button",role:"checkbox","aria-checked":ul(y)?"mixed":y,"aria-required":o,"data-state":R8(y),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:g,onKeyDown:Ne(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Ne(e.onClick,N=>{v(w=>ul(w)?!0:!w),x&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),x&&r.jsx(foe,{control:h,bubbles:!p.current,name:a,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:ul(i)?!1:i})]})});T8.displayName=v2;var O8="CheckboxIndicator",E8=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...s}=e,i=hoe(O8,n);return r.jsx(ga,{present:a||ul(i.state)||i.state===!0,children:r.jsx(Ue.span,{"data-state":R8(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});E8.displayName=O8;var foe=e=>{const{control:t,checked:n,bubbles:a=!0,defaultChecked:s,...i}=e,o=j.useRef(null),l=jg(n),c=mg(t);j.useEffect(()=>{const u=o.current,m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==n&&f){const g=new Event("click",{bubbles:a});u.indeterminate=ul(n),f.call(u,ul(n)?!1:n),u.dispatchEvent(g)}},[l,n,a]);const d=j.useRef(ul(n)?!1:n);return r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ul(e){return e==="indeterminate"}function R8(e){return ul(e)?"indeterminate":e?"checked":"unchecked"}var M8=T8,poe=E8;const kg=j.forwardRef(({className:e,...t},n)=>r.jsx(M8,{ref:n,className:Ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(poe,{className:Ce("flex items-center justify-center text-current"),children:r.jsx(pa,{className:"h-4 w-4"})})}));kg.displayName=M8.displayName;function goe(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=Math.random().toString(36).substring(2,6).toUpperCase();return`LY${t}${n}${a}${s}`}async function b2(e){var u;const t=goe(),n=crypto.randomUUID(),a=new Date().toISOString(),s={id:n,order_number:t,user_id:e.userId||null,member_id:e.memberId,customer_name:e.customerName,customer_phone:e.customerPhone,customer_email:e.customerEmail,status:"pending_payment",total_amount:e.totalAmount,items:e.items,package_type:e.packageType,shipping_address:e.shippingAddress,shipping_city:e.shippingCity,shipping_state:e.shippingState,shipping_postcode:e.shippingPostcode,preferred_delivery_date:e.preferredDeliveryDate,tracking_number:e.trackingNumber,notes:e.notes,source:e.source,erpnext_id:e.erpnextId,meta_order_id:e.metaOrderId,points_earned:e.pointsEarned,points_redeemed:e.pointsRedeemed,created_at:a,updated_at:a};console.info("[orders] Inserting order...",{orderId:n,orderNumber:t,userId:s.user_id});const i=Date.now(),o="https://vpzmhglfwomgrashheol.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwem1oZ2xmd29tZ3Jhc2hoZW9sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NjE1NjQsImV4cCI6MjA4NTAzNzU2NH0.anMz844nf2-sscp4yX5ctLGMMaRjKy24YKjPWAEDUN4",c=((u=qt.getState().session)==null?void 0:u.access_token)||l;let d=null;try{const m=await fetch(`${o}/rest/v1/orders`,{method:"POST",headers:{"Content-Type":"application/json",apikey:l,Authorization:`Bearer ${c}`,Prefer:"return=minimal"},body:JSON.stringify(s)}),h=Date.now()-i;if(console.info("[orders] Insert completed in",h,"ms",{status:m.status}),!m.ok){const f=await m.json().catch(()=>({}));d=f.message||`HTTP ${m.status}`,console.error("[orders] Insert failed:",f)}}catch(m){const h=Date.now()-i;console.error("[orders] Insert fetch error after",h,"ms:",m),d=m instanceof Error?m.message:String(m)}return d?{order:null,error:new Error(d)}:{order:{id:n,orderNumber:t,userId:e.userId||null,memberId:e.memberId,customerName:e.customerName,customerPhone:e.customerPhone,customerEmail:e.customerEmail||null,status:"pending_payment",totalAmount:e.totalAmount,items:e.items,packageType:e.packageType||null,shippingAddress:e.shippingAddress||null,shippingCity:e.shippingCity||null,shippingState:e.shippingState||null,shippingPostcode:e.shippingPostcode||null,preferredDeliveryDate:e.preferredDeliveryDate||null,trackingNumber:null,notes:e.notes||null,source:e.source||null,erpnextId:null,metaOrderId:null,pointsEarned:null,pointsRedeemed:null,createdAt:a,updatedAt:a},error:null}}function xoe(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let n=0;n<6;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}async function S0(e,t){const{data:n,error:a}=await Y.from("members").select("*").eq("user_id",e).single();if(n)return{member:vk(n),created:!1,error:null};const{data:s,error:i}=await Y.from("members").insert({user_id:e,name:t.name,phone:t.phone,email:t.email||null,role:"member",points_balance:0,referral_code:xoe(),created_at:new Date().toISOString()}).select().single();return i?(console.error("Error creating member:",i),{member:null,created:!1,error:new Error(i.message)}):(await Y.from("users").update({role:"member",updated_at:new Date().toISOString()}).eq("id",e),{member:vk(s),created:!0,error:null})}async function w2(e,t){const{data:n}=await Y.from("member_addresses").select("id").eq("member_id",e),a=!n||n.length===0,{data:s,error:i}=await Y.from("member_addresses").insert({member_id:e,recipient_name:t.recipientName,phone:t.phone,address_line_1:t.addressLine1,address_line_2:t.addressLine2||null,city:t.city,state:t.state,postcode:t.postcode,is_default:t.isDefault??a,created_at:new Date().toISOString()}).select().single();return i?(console.error("Error saving address:",i),{address:null,error:new Error(i.message)}):{address:voe(s),error:null}}async function yoe(e){const{data:t,error:n}=await Y.from("members").select("*").eq("user_id",e).single();return n&&n.code!=="PGRST116"?(console.error("Error fetching member:",n),{member:null,error:new Error(n.message)}):{member:t?vk(t):null,error:null}}function vk(e){return{id:e.id,userId:e.user_id,name:e.name,phone:e.phone,email:e.email,role:e.role,pointsBalance:e.points_balance,preferredFlavor:e.preferred_flavor,preferredPackage:e.preferred_package,referralCode:e.referral_code,referrerId:e.referrer_id,createdAt:e.created_at}}function voe(e){return{id:e.id,memberId:e.member_id,label:e.label,recipientName:e.recipient_name,phone:e.phone,addressLine1:e.address_line_1,addressLine2:e.address_line_2,city:e.city,state:e.state,postcode:e.postcode,isDefault:e.is_default,createdAt:e.created_at}}function boe(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=Math.random().toString(36).substring(2,6).toUpperCase();return`INV${t}${n}${a}${s}`}async function woe(e,t,n,a){const s=boe(),{data:i,error:o}=await Y.from("bills").insert({bill_number:s,type:"income",category:"sales",amount:n,description:`Order ${t}`,status:"paid",paid_date:new Date().toISOString(),reference_type:"order",reference_id:e,created_by:a||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();return o?(console.error("Error creating bill:",o),{bill:null,error:new Error(o.message)}):{bill:D8(i),error:null}}async function joe(e){const{data:t,error:n}=await Y.from("bills").select("*").eq("reference_type","order").eq("reference_id",e).single();return n&&n.code!=="PGRST116"?(console.error("Error fetching bill:",n),{bill:null,error:new Error(n.message)}):{bill:t?D8(t):null,error:null}}function D8(e){return{id:e.id,billNumber:e.bill_number,type:e.type,category:e.category,amount:e.amount,description:e.description,dueDate:e.due_date,paidDate:e.paid_date,status:e.status,referenceType:e.reference_type,referenceId:e.reference_id,createdBy:e.created_by,createdAt:e.created_at,updatedAt:e.updated_at}}const j2={original:"BN-ORIG-75",redDate:"BN-RDAT-75",snowPear:"BN-SPEA-75",peachGum:"BN-PGUM-75",coconut:"BN-COCO-75",mango:"BN-MANG-75",cocoaOat:"BN-COAT-75",matchaOat:"BN-MOAT-75",purpleRiceOat:"BN-POAT-75",peachGumLongan:"BN-PGLN-75",dateGoji:"BN-DGOJ-75",papaya:"BN-PAPY-75"};async function Noe(e,t){const n=[];for(const a of t){const s=j2[a.flavor];if(!s)continue;const{data:i,error:o}=await Y.from("inventory").select("id, quantity").eq("sku",s).single();if(o||!i){console.warn(`Inventory not found for SKU: ${s}`);continue}const l=Math.max(0,(i.quantity||0)-a.quantity),{error:c}=await Y.from("inventory").update({quantity:l,updated_at:new Date().toISOString()}).eq("id",i.id);if(c)return console.error("Error updating inventory:",c),{success:!1,error:new Error(c.message)};n.push({inventory_id:i.id,order_id:e,quantity_change:-a.quantity,type:"sale",notes:`Order deduction for ${a.flavor}`,created_at:new Date().toISOString()})}if(n.length>0){const{error:a}=await Y.from("inventory_ledger").insert(n);a&&console.warn("Could not insert inventory ledger entries:",a.message)}return{success:!0,error:null}}async function wE(e,t){for(const n of t){const a=j2[n.flavor];if(!a)continue;const{data:s,error:i}=await Y.from("inventory").select("id, quantity").eq("sku",a).single();if(i||!s)continue;const o=(s.quantity||0)+n.quantity,{error:l}=await Y.from("inventory").update({quantity:o,updated_at:new Date().toISOString()}).eq("id",s.id);if(l)return console.error("Error restoring inventory:",l),{success:!1,error:new Error(l.message)}}return{success:!0,error:null}}function I8(e){return e.map(t=>({...t,sku:j2[t.flavor]||""}))}const L8={salesContributionRate:.3,cycleDays:10,minPartnersForRwa:10};async function koe(e){const{data:t,error:n}=await Y.from("partners").select("*").eq("member_id",e).single();return n&&n.code!=="PGRST116"?{partner:null,error:new Error(n.message)}:{partner:t?Toe(t):null,error:null}}async function jE(e,t,n,a){const{cycle:s}=await $8();await Y.from("rwa_token_ledger").insert({partner_id:e,cycle_id:(s==null?void 0:s.id)||null,tokens:t,source:n,order_id:a,created_at:new Date().toISOString()});const{data:i}=await Y.from("partners").select("rwa_tokens").eq("id",e).single();return await Y.from("partners").update({rwa_tokens:((i==null?void 0:i.rwa_tokens)||0)+t,updated_at:new Date().toISOString()}).eq("id",e),{success:!0,error:null}}async function Poe(e,t){const{data:n}=await Y.from("members").select("referrer_id").eq("id",t).single();if(!(n!=null&&n.referrer_id))return;const{data:a}=await Y.from("partners").select("id, referrer_id").eq("member_id",n.referrer_id).eq("status","active").single();if(a)await jE(a.id,1,"network_order",e);else{let s=n.referrer_id,i=0;const o=10;for(;s&&i<o;){const{data:l}=await Y.from("members").select("id, referrer_id").eq("id",s).single();if(!l)break;const{data:c}=await Y.from("partners").select("id").eq("member_id",l.id).eq("status","active").single();if(c){await jE(c.id,1,"network_order",e);break}s=l.referrer_id,i++}}}async function $8(){const e=new Date,{data:t}=await Y.from("bonus_pool_cycles").select("*").eq("status","active").lte("start_date",e.toISOString()).gte("end_date",e.toISOString()).single();if(t)return{cycle:NE(t),error:null};const n=new Date,a=new Date(n);a.setDate(a.getDate()+L8.cycleDays);const{data:s}=await Y.from("bonus_pool_cycles").select("cycle_number").order("cycle_number",{ascending:!1}).limit(1).single(),i=((s==null?void 0:s.cycle_number)||0)+1,{data:o,error:l}=await Y.from("bonus_pool_cycles").insert({cycle_number:i,start_date:n.toISOString(),end_date:a.toISOString(),total_sales:0,pool_amount:0,total_tokens:0,status:"active",created_at:new Date().toISOString()}).select().single();return l?{cycle:null,error:new Error(l.message)}:{cycle:NE(o),error:null}}async function Soe(e,t){const{cycle:n,error:a}=await $8();if(a||!n)return{success:!1,error:a||new Error("No active cycle")};const s=Math.floor(t*L8.salesContributionRate);return await Y.from("bonus_pool_cycles").update({total_sales:(n.totalSales||0)+t,pool_amount:(n.poolAmount||0)+s}).eq("id",n.id),{success:!0,error:null}}async function _oe(e,t){const{error:n}=await Y.from("withdrawal_requests").update({status:"processing",processed_by:t,processed_at:new Date().toISOString()}).eq("id",e).eq("status","pending");return n?{success:!1,error:new Error(n.message)}:(await Y.from("cash_wallet_ledger").update({status:"processing"}).eq("reference_id",e),{success:!0,error:null})}async function Coe(e){const{error:t}=await Y.from("withdrawal_requests").update({status:"completed"}).eq("id",e).eq("status","processing");return t?{success:!1,error:new Error(t.message)}:(await Y.from("cash_wallet_ledger").update({status:"completed"}).eq("reference_id",e),{success:!0,error:null})}async function Aoe(e,t,n){const{data:a}=await Y.from("withdrawal_requests").select("partner_id, amount").eq("id",e).single();if(!a)return{success:!1,error:new Error("Request not found")};const{data:s}=await Y.from("partners").select("cash_wallet_balance").eq("id",a.partner_id).single();return await Y.from("partners").update({cash_wallet_balance:((s==null?void 0:s.cash_wallet_balance)||0)+a.amount,updated_at:new Date().toISOString()}).eq("id",a.partner_id),await Y.from("withdrawal_requests").update({status:"rejected",processed_by:t,processed_at:new Date().toISOString(),notes:n}).eq("id",e),await Y.from("cash_wallet_ledger").update({status:"failed"}).eq("reference_id",e),{success:!0,error:null}}function Toe(e){return{id:e.id,memberId:e.member_id,referralCode:e.referral_code,tier:e.tier,status:e.status,referrerId:e.referrer_id,lyBalance:e.ly_balance,cashWalletBalance:e.cash_wallet_balance,rwaTokens:e.rwa_tokens,totalSales:e.total_sales,totalCashback:e.total_cashback,paymentAmount:e.payment_amount,paymentDate:e.payment_date,paymentReference:e.payment_reference,createdAt:e.created_at,updatedAt:e.updated_at}}function NE(e){return{id:e.id,cycleNumber:e.cycle_number,startDate:e.start_date,endDate:e.end_date,totalSales:e.total_sales,poolAmount:e.pool_amount,totalTokens:e.total_tokens,status:e.status,distributedAt:e.distributed_at,createdAt:e.created_at}}const ov="ly_checkout_context",Ooe=24*60*60*1e3;function N2(e){try{const t={...e,timestamp:Date.now()};localStorage.setItem(ov,JSON.stringify(t))}catch{}}function Eoe(){try{const e=localStorage.getItem(ov);if(!e)return null;const t=JSON.parse(e);return Date.now()-t.timestamp>Ooe?(localStorage.removeItem(ov),null):t}catch{return null}}function kE(){try{localStorage.removeItem(ov)}catch{}}const Roe=[{key:"original",nameCn:"",nameEn:"Original"},{key:"redDate",nameCn:"",nameEn:"Red Date"},{key:"snowPear",nameCn:"",nameEn:"Snow Pear"},{key:"peachGum",nameCn:"",nameEn:"Peach Gum"},{key:"coconut",nameCn:"",nameEn:"Coconut"},{key:"mango",nameCn:"",nameEn:"Mango"},{key:"cocoaOat",nameCn:"",nameEn:"Cocoa Oat"},{key:"matchaOat",nameCn:"",nameEn:"Matcha Oat"},{key:"purpleRiceOat",nameCn:"",nameEn:"Purple Rice Oat"},{key:"peachGumLongan",nameCn:"",nameEn:"Peach Gum Longan"},{key:"dateGoji",nameCn:"",nameEn:"Date Goji"},{key:"papaya",nameCn:"",nameEn:"Papaya"}],lr={key:"fortuneBox2026",nameCn:"2026",nameEn:"2026 Fortune Gift Box",jars:6,originalPrice:488,memberPrice:368},Moe=["johor","kedah","kelantan","melaka","negeriSembilan","pahang","penang","perak","perlis","sabah","sarawak","selangor","terengganu","kualaLumpur","labuan","putrajaya"];function Doe({open:e,onOpenChange:t}){const{t:n,language:a}=ps(),{user:s,isAuthenticated:i}=j0(),[o,l]=j.useState("flavors"),[c,d]=j.useState([]),u=i,[m,h]=j.useState(""),[f,g]=j.useState(""),[p,x]=j.useState(!1),[y,v]=j.useState(null),[b,N]=j.useState(!1),[w,k]=j.useState(null),[P,_]=j.useState(!1),[T,I]=j.useState(""),[A,R]=j.useState(null),[E,L]=j.useState({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),{data:$}=Le({queryKey:["member-profile",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return null;const{data:F,error:me}=await Y.from("members").select("*").eq("user_id",s.id).single();return me?null:F},enabled:i&&!!(s!=null&&s.id)}),{data:B=[]}=Le({queryKey:["member-addresses",$==null?void 0:$.id],queryFn:async()=>{if(!($!=null&&$.id))return[];const{data:F,error:me}=await Y.from("member_addresses").select("*").eq("member_id",$.id);return me?[]:(F||[]).map(je=>({id:je.id,memberId:je.member_id,label:je.label||null,recipientName:je.recipient_name||"",phone:je.phone||"",addressLine1:je.address_line_1||"",addressLine2:je.address_line_2||null,city:je.city||"",state:je.state||"",postcode:je.postcode||"",isDefault:je.is_default||!1,createdAt:je.created_at||null}))},enabled:i&&!!$}),K=u?lr.memberPrice:lr.originalPrice,S=c.reduce((F,me)=>F+me.quantity,0),D=lr.jars,G=D-S,q=Ie({mutationFn:async()=>{console.info("[checkout] Creating order...",{userId:s==null?void 0:s.id,price:K});const F=I8(c.map(Ee=>({flavor:Ee.key,flavorName:a==="zh"?Ee.nameCn:Ee.nameEn,quantity:Ee.quantity,category:"bird-nest"}))),me=JSON.stringify(F),{order:je,error:oe}=await b2({userId:(s==null?void 0:s.id)||null,memberId:($==null?void 0:$.id)||null,customerName:E.customerName,customerPhone:E.phone,customerEmail:(s==null?void 0:s.email)||null,status:"pending_payment",totalAmount:K*100,items:me,packageType:lr.key,shippingAddress:E.address,shippingCity:E.city,shippingState:E.state,shippingPostcode:E.postcode,preferredDeliveryDate:E.deliveryDate||null,trackingNumber:null,notes:u?"Member discount applied":null,source:"website",erpnextId:null,metaOrderId:null,pointsEarned:null,pointsRedeemed:null});if(oe||!je)throw console.error("[checkout] createOrder failed:",oe),oe||new Error("Failed to create order");return console.info("[checkout] Order created:",{id:je.id,orderNumber:je.orderNumber}),je},onError:F=>{console.error("[checkout] Order mutation error:",F),k(F instanceof Error?F.message:"Failed to create order")},onSuccess:async F=>{if(h(F.orderNumber),g(F.id),l("payment"),i&&(s!=null&&s.id)&&!y)try{const{member:me}=await S0(s.id,{name:E.customerName,phone:E.phone,email:s.email});if(me){const{address:je}=await w2(me.id,{recipientName:E.customerName,phone:E.phone,addressLine1:E.address,city:E.city,state:E.state,postcode:E.postcode,isDefault:B.length===0});je&&v(je.id),await Y.from("orders").update({member_id:me.id}).eq("id",F.id),zs.invalidateQueries({queryKey:["member-addresses"]}),zs.invalidateQueries({queryKey:["member-profile"]})}}catch(me){console.error("Error saving address at order creation:",me)}}}),C=(F,me)=>{d(je=>{const oe=je.find(Ee=>Ee.key===F.key);if(oe){const Ee=Math.max(0,oe.quantity+me);return Ee===0?je.filter(tt=>tt.key!==F.key):je.map(tt=>tt.key===F.key?{...tt,quantity:Ee}:tt)}else if(me>0)return[...je,{key:F.key,nameCn:F.nameCn,nameEn:F.nameEn,quantity:1}];return je})},X=F=>{var me;return((me=c.find(je=>je.key===F))==null?void 0:me.quantity)||0},Q=(F,me)=>{L(je=>({...je,[F]:me}))},xe=()=>E.customerName.trim()!==""&&E.phone.trim()!==""&&E.address.trim()!==""&&E.city.trim()!==""&&E.state!==""&&E.postcode.trim()!=="",Pe=async()=>{q.mutate()},ee=async()=>{if(console.info("[checkout] handleStripePayment called",{orderId:f,orderNumber:m}),!f||!m){console.error("[checkout] Missing orderId or orderNumber, aborting payment"),k("Order not found. Please try again.");return}_(!0),k(null);try{console.info("[checkout] Calling create-checkout edge function...");const me=await fetch("https://vpzmhglfwomgrashheol.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${zc}`,apikey:zc},body:JSON.stringify({orderId:f,orderNumber:m,amount:K*100,customerEmail:(s==null?void 0:s.email)||null,customerName:E.customerName,productName:`${lr.nameCn} ${lr.nameEn}`,successUrl:`${window.location.origin}/checkout/success?order=${m}`,cancelUrl:`${window.location.origin}/?payment=cancelled`})}),je=await me.json();if(console.info("[checkout] Edge function response:",{status:me.status,data:je}),!me.ok)throw new Error((je==null?void 0:je.error)||`Edge function returned ${me.status}`);if(!(je!=null&&je.url))throw console.error("Stripe edge function returned no URL:",je),new Error((je==null?void 0:je.error)||"No checkout URL returned from payment service");N2({orderId:f,orderNumber:m,deliveryInfo:E,selections:c.map(oe=>({key:oe.key,quantity:oe.quantity})),currentPrice:K,saveNewAddress:b,selectedAddressId:y,referrerId:A}),window.location.href=je.url}catch(F){console.error("Payment error:",F),k(F instanceof Error?F.message:"Payment failed. Please try again.")}finally{_(!1)}},pe=async F=>{if(!F.trim()){R(null);return}const{data:me,error:je}=await Y.from("members").select("id").eq("referral_code",F.toUpperCase()).single();R(me&&!je?me.id:null)},W=()=>{l("flavors"),d([]),L({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),h(""),g(""),x(!1),v(null),N(!1),k(null),I(""),R(null)},H=F=>{v(F.id),L({customerName:F.recipientName,phone:F.phone,address:F.addressLine1+(F.addressLine2?`, ${F.addressLine2}`:""),city:F.city,state:F.state,postcode:F.postcode,deliveryDate:E.deliveryDate})},ie=()=>{window.location.href="/auth/login"},ae=i&&$&&B.length>0&&!p,le=F=>{F||W(),t(F)},ve=()=>{switch(o){case"flavors":return a==="zh"?"":"Select Flavors";case"delivery":return n("order.deliveryInfo");case"confirm":return n("order.confirmOrder");case"payment":return n("order.payment")||"Payment";case"success":return n("order.orderConfirmed")}},ne=()=>{switch(o){case"flavors":return r.jsxs("span",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[r.jsx("span",{children:a==="zh"?`${lr.nameCn} - 6`:`${lr.nameEn} - Choose 6 flavors (can repeat)`}),r.jsxs(te,{variant:"secondary","data-testid":"badge-remaining-jars",children:[n("order.remaining"),": ",G,"/",D]})]});case"delivery":return n("order.deliveryInfoDesc");case"confirm":return n("order.confirmOrderDesc");case"payment":return n("order.paymentDesc")||"Complete your payment to confirm the order";case"success":return n("order.orderConfirmedDesc")}};return r.jsx(Ll,{open:e,onOpenChange:le,children:r.jsxs(mo,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-hidden","data-testid":"modal-order",children:[r.jsxs(gg,{className:"pb-4",children:[r.jsx(xg,{className:"text-xl font-bold","data-testid":"text-order-modal-title",children:ve()}),r.jsx(y0,{className:"text-muted-foreground",children:ne()})]}),r.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)] pb-8",children:[o==="flavors"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(V,{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/20 dark:to-orange-950/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-foreground",children:a==="zh"?lr.nameCn:lr.nameEn}),r.jsx("p",{className:"text-sm text-muted-foreground",children:a==="zh"?"612":"6 bottles, choose from 12 flavors"})]}),r.jsx("div",{className:"text-right",children:u?r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-sm text-muted-foreground line-through",children:["RM ",lr.originalPrice]}),r.jsxs("p",{className:"text-xl font-bold text-primary",children:["RM ",lr.memberPrice]}),r.jsx(te,{variant:"default",className:"text-xs",children:a==="zh"?"":"Member Price"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-xl font-bold text-foreground",children:["RM ",lr.originalPrice]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:a==="zh"?" RM368":"Login for member price RM368"})]})})]})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Roe.map(F=>{const me=X(F.key);return r.jsx(V,{className:"p-4","data-testid":`card-order-flavor-${F.key}`,children:r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("h4",{className:"font-medium text-foreground",children:a==="zh"?F.nameCn:F.nameEn})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(M,{size:"icon",variant:"outline",onClick:()=>C(F,-1),disabled:me===0,"data-testid":`button-minus-${F.key}`,children:r.jsx(RZ,{className:"w-4 h-4"})}),r.jsx("span",{className:"w-8 text-center font-semibold","data-testid":`text-qty-${F.key}`,children:me}),r.jsx(M,{size:"icon",variant:"outline",onClick:()=>C(F,1),disabled:G===0,"data-testid":`button-plus-${F.key}`,children:r.jsx(mn,{className:"w-4 h-4"})})]})]})},F.key)})})]}),o==="delivery"&&r.jsxs("div",{className:"space-y-4",children:[!i&&!p&&r.jsx(V,{className:"p-5",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Kr,{className:"w-6 h-6 text-primary"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-foreground mb-1",children:n("order.loginForSavedAddress")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:n("order.loginBenefit")})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs(M,{onClick:ie,"data-testid":"button-login-checkout",children:[r.jsx(Kr,{className:"w-4 h-4 mr-2"}),n("order.loginOrRegister")]}),r.jsx(M,{variant:"outline",onClick:()=>x(!0),"data-testid":"button-guest-checkout",children:n("order.continueAsGuest")})]})]})}),ae&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(Be,{children:n("order.selectSavedAddress")}),B.map(F=>r.jsx(V,{className:`p-4 cursor-pointer transition-all hover-elevate ${y===F.id?"ring-2 ring-primary":""}`,onClick:()=>H(F),"data-testid":`card-saved-address-${F.id}`,children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Il,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-foreground",children:F.recipientName}),r.jsx("p",{className:"text-muted-foreground",children:F.phone}),r.jsxs("p",{className:"text-muted-foreground",children:[F.addressLine1,F.addressLine2&&`, ${F.addressLine2}`]}),r.jsxs("p",{className:"text-muted-foreground",children:[F.postcode," ",F.city,", ",n(`states.${F.state}`)]})]})]}),y===F.id&&r.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center flex-shrink-0",children:r.jsx(pa,{className:"w-4 h-4 text-primary-foreground"})})]})},F.id)),r.jsx(M,{variant:"outline",className:"w-full",onClick:()=>{v(null),x(!0)},"data-testid":"button-new-address",children:n("order.useNewAddress")})]}),(p||i&&!ae)&&r.jsxs(r.Fragment,{children:[i&&B.length>0&&r.jsx(M,{variant:"ghost",size:"sm",onClick:()=>x(!1),className:"mb-2","data-testid":"button-back-to-saved",children:n("order.backToSavedAddresses")}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"customerName",className:"text-sm",children:[n("order.customerName")," *"]}),r.jsx(se,{id:"customerName",value:E.customerName,onChange:F=>Q("customerName",F.target.value),placeholder:n("order.customerName"),"data-testid":"input-customer-name"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"phone",className:"text-sm",children:[n("order.phone")," *"]}),r.jsx(se,{id:"phone",type:"tel",value:E.phone,onChange:F=>Q("phone",F.target.value),placeholder:"012-3456789","data-testid":"input-phone"})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"address",className:"text-sm",children:[n("order.address")," *"]}),r.jsx(se,{id:"address",value:E.address,onChange:F=>Q("address",F.target.value),placeholder:n("order.address"),"data-testid":"input-address"})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"postcode",className:"text-sm",children:[n("order.postcode")," *"]}),r.jsx(se,{id:"postcode",value:E.postcode,onChange:F=>Q("postcode",F.target.value),placeholder:"12345","data-testid":"input-postcode"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"city",className:"text-sm",children:[n("order.city")," *"]}),r.jsx(se,{id:"city",value:E.city,onChange:F=>Q("city",F.target.value),placeholder:n("order.city"),"data-testid":"input-city"})]}),r.jsxs("div",{className:"space-y-1.5 col-span-2 sm:col-span-1",children:[r.jsxs(Be,{htmlFor:"state",className:"text-sm",children:[n("order.state")," *"]}),r.jsxs(Et,{value:E.state,onValueChange:F=>Q("state",F),children:[r.jsx(_t,{"data-testid":"select-state",children:r.jsx(Rt,{placeholder:n("order.selectState")})}),r.jsx(Ct,{children:Moe.map(F=>r.jsx(ye,{value:F,"data-testid":`option-state-${F}`,children:n(`states.${F}`)},F))})]})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Be,{htmlFor:"deliveryDate",className:"text-sm text-muted-foreground",children:n("order.deliveryDate")}),r.jsx(se,{id:"deliveryDate",type:"date",value:E.deliveryDate,onChange:F=>Q("deliveryDate",F.target.value),min:new Date().toISOString().split("T")[0],"data-testid":"input-delivery-date"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"referralCode",className:"text-sm text-muted-foreground flex items-center gap-2",children:[r.jsx(Hn,{className:"w-4 h-4"}),n("order.referralCode")||"Referral Code (Optional)"]}),r.jsx(se,{id:"referralCode",value:T,onChange:F=>{I(F.target.value.toUpperCase()),pe(F.target.value)},placeholder:"ABC123",maxLength:8,"data-testid":"input-referral-code"}),T&&r.jsx("p",{className:`text-xs ${A?"text-green-600":"text-muted-foreground"}`,children:A?n("order.referralCodeValid")||"Valid referral code":n("order.referralCodeInvalid")||"Enter a valid referral code"})]}),i&&!y&&r.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[r.jsx(kg,{id:"saveAddress",checked:b,onCheckedChange:F=>N(F===!0),"data-testid":"checkbox-save-address"}),r.jsx(Be,{htmlFor:"saveAddress",className:"text-sm cursor-pointer",children:n("order.saveAddressToProfile")})]})]})]}),o==="confirm"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(V,{className:"p-5",children:[r.jsx("h4",{className:"font-semibold text-foreground mb-3",children:n("order.orderSummary")}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a==="zh"?"":"Product",":"]}),r.jsx("span",{className:"font-medium",children:a==="zh"?lr.nameCn:lr.nameEn})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[n("order.priceLabel"),":"]}),r.jsxs("div",{className:"text-right",children:[u&&r.jsxs("span",{className:"text-muted-foreground line-through mr-2",children:["RM ",lr.originalPrice]}),r.jsxs("span",{className:"font-medium text-primary",children:["RM ",K]})]})]}),u&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsxs("span",{children:[a==="zh"?"":"Member Discount",":"]}),r.jsxs("span",{children:["-RM ",lr.originalPrice-lr.memberPrice]})]})]}),r.jsxs("div",{className:"border-t border-border mt-4 pt-4",children:[r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n("order.flavorSelection"),":"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(F=>r.jsxs(te,{variant:"secondary","data-testid":`badge-selection-${F.key}`,children:[a==="zh"?F.nameCn:F.nameEn," x ",F.quantity]},F.key))})]})]}),r.jsxs(V,{className:"p-5",children:[r.jsx("h4",{className:"font-semibold text-foreground mb-3",children:n("order.deliveryInfo")}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[n("order.customerName"),":"]}),r.jsx("span",{className:"font-medium",children:E.customerName})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[n("order.phone"),":"]}),r.jsx("span",{className:"font-medium",children:E.phone})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[n("order.address"),":"]}),r.jsx("span",{className:"font-medium text-right max-w-[60%]",children:E.address})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[n("order.city"),":"]}),r.jsx("span",{className:"font-medium",children:E.city})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[n("order.state"),":"]}),r.jsx("span",{className:"font-medium",children:n(`states.${E.state}`)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[n("order.postcode"),":"]}),r.jsx("span",{className:"font-medium",children:E.postcode})]}),E.deliveryDate&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[n("order.deliveryDate"),":"]}),r.jsx("span",{className:"font-medium",children:E.deliveryDate})]})]})]}),w&&r.jsx(V,{className:"p-4 bg-destructive/10 border-destructive",children:r.jsx("p",{className:"text-sm text-destructive",children:w})}),r.jsx(M,{className:"w-full gap-3",size:"lg",onClick:Pe,disabled:q.isPending,"data-testid":"button-submit-order",children:q.isPending?r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-5 h-5 animate-spin"}),n("order.orderSubmitting")]}):r.jsxs(r.Fragment,{children:[r.jsx(Rn,{className:"w-5 h-5"}),n("order.proceedToPayment")||"Proceed to Payment"]})})]}),o==="payment"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(V,{className:"p-5",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Lr,{className:"w-8 h-8 text-primary"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:n("order.yourOrderNumber")}),r.jsx("p",{className:"text-xl font-bold text-primary",children:m})]}),r.jsxs("div",{className:"border-t border-border pt-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:n("order.totalAmount")}),r.jsxs("p",{className:"text-3xl font-bold",children:["RM ",K]}),u&&r.jsx("p",{className:"text-sm text-green-600",children:n("order.memberDiscount")||"Member discount applied"})]})]})}),w&&r.jsx(V,{className:"p-4 bg-destructive/10 border-destructive",children:r.jsx("p",{className:"text-sm text-destructive",children:w})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(M,{className:"w-full gap-3 bg-[#635BFF] hover:bg-[#5851DB]",size:"lg",onClick:ee,disabled:P,"data-testid":"button-pay-stripe",children:P?r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-5 h-5 animate-spin"}),n("order.processing")]}):r.jsxs(r.Fragment,{children:[r.jsx(Lr,{className:"w-5 h-5"}),n("order.payOnline")]})}),r.jsx("p",{className:"text-xs text-center text-muted-foreground",children:n("order.paymentMethods")}),r.jsx("p",{className:"text-xs text-center",children:r.jsx("a",{href:`https://wa.me/60178228658?text=${encodeURIComponent(`Need help with order #${m}`)}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground underline hover:text-foreground",children:n("order.needHelp")})})]})]}),o==="success"&&r.jsxs("div",{className:"space-y-6 text-center py-8",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:r.jsx(De,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:n("order.orderSuccess")}),r.jsx("p",{className:"text-muted-foreground mb-4",children:n("order.orderConfirmedDesc")})]}),r.jsxs(V,{className:"p-5",children:[r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n("order.yourOrderNumber"),":"]}),r.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"text-order-number",children:m})]}),r.jsx("div",{className:"space-y-3",children:r.jsx(M,{className:"w-full",variant:"outline",onClick:()=>{W(),t(!1)},"data-testid":"button-continue-ordering",children:n("order.continueOrdering")})})]})]}),o!=="success"&&o!=="payment"&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-background border-t border-border",children:r.jsxs("div",{className:"flex gap-3",children:[o!=="flavors"&&r.jsx(M,{variant:"outline",className:"flex-1",onClick:()=>{o==="confirm"?l("delivery"):o==="delivery"&&l("flavors")},"data-testid":"button-back",children:n("order.back")}),o==="flavors"&&r.jsxs(M,{className:"flex-1",disabled:S!==D,onClick:()=>l("delivery"),"data-testid":"button-next-flavors",children:[n("order.next"),S!==D&&r.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",G," ",a==="zh"?"":"more needed",")"]})]}),o==="delivery"&&r.jsx(M,{className:"flex-1",disabled:!xe(),onClick:()=>l("confirm"),"data-testid":"button-next-delivery",children:n("order.next")})]})})]})})}const Ioe=["johor","kedah","kelantan","melaka","negeriSembilan","pahang","penang","perak","perlis","sabah","sarawak","selangor","terengganu","kualaLumpur","labuan","putrajaya"],Loe={original:{zh:"",en:"Original"},redDate:{zh:"",en:"Red Date"},snowPear:{zh:"",en:"Snow Pear"},peachGum:{zh:"",en:"Peach Gum"},coconut:{zh:"",en:"Coconut"},mango:{zh:"",en:"Mango"},cocoaOat:{zh:"",en:"Cocoa Oat"},matchaOat:{zh:"",en:"Matcha Oat"},purpleRiceOat:{zh:"",en:"Purple Rice Oat"},peachGumLongan:{zh:"",en:"Peach Gum Longan"},dateGoji:{zh:"",en:"Date Goji"},papaya:{zh:"",en:"Papaya"}};function $oe({open:e,onOpenChange:t,bundle:n}){const{t:a,language:s}=ps(),{user:i,isAuthenticated:o}=j0(),[l,c]=j.useState("summary"),[d,u]=j.useState(""),[m,h]=j.useState(""),[f,g]=j.useState(!1),[p,x]=j.useState(null),[y,v]=j.useState(!1),[b,N]=j.useState(null),[w,k]=j.useState(!1),[P,_]=j.useState(""),[T,I]=j.useState(null),[A,R]=j.useState({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),E=()=>s==="en"?n.name_en||n.name:s==="ms"&&(n.name_ms||n.name_en)||n.name,L=le=>{const ve=Loe[le];return ve?s==="zh"?ve.zh:ve.en:le},$=n.price/100,B=n.original_price?n.original_price/100:null,K=n.items.reduce((le,ve)=>le+ve.quantity,0),{data:S}=Le({queryKey:["member-profile",i==null?void 0:i.id],queryFn:async()=>{if(!(i!=null&&i.id))return null;const{data:le,error:ve}=await Y.from("members").select("*").eq("user_id",i.id).single();return ve?null:le},enabled:o&&!!(i!=null&&i.id)}),{data:D=[]}=Le({queryKey:["member-addresses",S==null?void 0:S.id],queryFn:async()=>{if(!(S!=null&&S.id))return[];const{data:le,error:ve}=await Y.from("member_addresses").select("*").eq("member_id",S.id);return ve?[]:(le||[]).map(ne=>({id:ne.id,memberId:ne.member_id,label:ne.label||null,recipientName:ne.recipient_name||"",phone:ne.phone||"",addressLine1:ne.address_line_1||"",addressLine2:ne.address_line_2||null,city:ne.city||"",state:ne.state||"",postcode:ne.postcode||"",isDefault:ne.is_default||!1,createdAt:ne.created_at||null}))},enabled:o&&!!S}),G=Ie({mutationFn:async()=>{console.info("[checkout] Creating bundle order...",{bundleId:n.id,price:n.price});const le=I8(n.items.map(me=>({flavor:me.flavor,flavorName:L(me.flavor),quantity:me.quantity,category:"bird-nest"}))),ve=JSON.stringify(le),{order:ne,error:F}=await b2({userId:(i==null?void 0:i.id)||null,memberId:(S==null?void 0:S.id)||null,customerName:A.customerName,customerPhone:A.phone,customerEmail:(i==null?void 0:i.email)||null,status:"pending_payment",totalAmount:n.price,items:ve,packageType:n.id,shippingAddress:A.address,shippingCity:A.city,shippingState:A.state,shippingPostcode:A.postcode,preferredDeliveryDate:A.deliveryDate||null,trackingNumber:null,notes:`Bundle: ${n.name}`,source:"website",erpnextId:null,metaOrderId:null,pointsEarned:null,pointsRedeemed:null});if(F||!ne)throw console.error("[checkout] createOrder failed:",F),F||new Error("Failed to create order");return console.info("[checkout] Bundle order created:",{id:ne.id,orderNumber:ne.orderNumber}),ne},onError:le=>{console.error("[checkout] Order mutation error:",le),N(le instanceof Error?le.message:"Failed to create order")},onSuccess:async le=>{if(u(le.orderNumber),h(le.id),c("payment"),o&&(i!=null&&i.id)&&!p)try{const{member:ve}=await S0(i.id,{name:A.customerName,phone:A.phone,email:i.email});if(ve){const{address:ne}=await w2(ve.id,{recipientName:A.customerName,phone:A.phone,addressLine1:A.address,city:A.city,state:A.state,postcode:A.postcode,isDefault:D.length===0});ne&&x(ne.id),await Y.from("orders").update({member_id:ve.id}).eq("id",le.id),zs.invalidateQueries({queryKey:["member-addresses"]}),zs.invalidateQueries({queryKey:["member-profile"]})}}catch(ve){console.error("Error saving address at order creation:",ve)}}}),q=(le,ve)=>{R(ne=>({...ne,[le]:ve}))},C=()=>A.customerName.trim()!==""&&A.phone.trim()!==""&&A.address.trim()!==""&&A.city.trim()!==""&&A.state!==""&&A.postcode.trim()!=="",X=async()=>{G.mutate()},Q=async()=>{if(console.info("[checkout] handleStripePayment called",{orderId:m,orderNumber:d}),!m||!d){console.error("[checkout] Missing orderId or orderNumber, aborting payment"),N("Order not found. Please try again.");return}k(!0),N(null);try{console.info("[checkout] Calling create-checkout edge function...");const ve=await fetch("https://vpzmhglfwomgrashheol.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${zc}`,apikey:zc},body:JSON.stringify({orderId:m,orderNumber:d,amount:n.price,customerEmail:(i==null?void 0:i.email)||null,customerName:A.customerName,productName:E(),successUrl:`${window.location.origin}/checkout/success?order=${d}`,cancelUrl:`${window.location.origin}/?payment=cancelled`})}),ne=await ve.json();if(console.info("[checkout] Edge function response:",{status:ve.status,data:ne}),!ve.ok)throw new Error((ne==null?void 0:ne.error)||`Edge function returned ${ve.status}`);if(!(ne!=null&&ne.url))throw console.error("Stripe edge function returned no URL:",ne),new Error((ne==null?void 0:ne.error)||"No checkout URL returned from payment service");N2({orderId:m,orderNumber:d,deliveryInfo:A,selections:n.items.map(F=>({key:F.flavor,quantity:F.quantity})),currentPrice:$,saveNewAddress:y,selectedAddressId:p,referrerId:T}),window.location.href=ne.url}catch(le){console.error("Payment error:",le),N(le instanceof Error?le.message:"Payment failed. Please try again.")}finally{k(!1)}},xe=async le=>{if(!le.trim()){I(null);return}const{data:ve,error:ne}=await Y.from("members").select("id").eq("referral_code",le.toUpperCase()).single();I(ve&&!ne?ve.id:null)},Pe=()=>{c("summary"),R({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),u(""),h(""),g(!1),x(null),v(!1),N(null),_(""),I(null)},ee=le=>{x(le.id),R({customerName:le.recipientName,phone:le.phone,address:le.addressLine1+(le.addressLine2?`, ${le.addressLine2}`:""),city:le.city,state:le.state,postcode:le.postcode,deliveryDate:A.deliveryDate})},pe=()=>{window.location.href="/auth/login"},W=o&&S&&D.length>0&&!f,H=le=>{le||Pe(),t(le)},ie=()=>{switch(l){case"summary":return s==="zh"?"":"Package Details";case"delivery":return a("order.deliveryInfo");case"confirm":return a("order.confirmOrder");case"payment":return a("order.payment")||"Payment";case"success":return a("order.orderConfirmed")}},ae=()=>{switch(l){case"summary":return E();case"delivery":return a("order.deliveryInfoDesc");case"confirm":return a("order.confirmOrderDesc");case"payment":return a("order.paymentDesc")||"Complete your payment to confirm the order";case"success":return a("order.orderConfirmedDesc")}};return r.jsx(Ll,{open:e,onOpenChange:H,children:r.jsxs(mo,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-hidden","data-testid":"modal-bundle-order",children:[r.jsxs(gg,{className:"pb-4",children:[r.jsx(xg,{className:"text-xl font-bold","data-testid":"text-bundle-modal-title",children:ie()}),r.jsx(y0,{className:"text-muted-foreground",children:ae()})]}),r.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)] pb-8",children:[l==="summary"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs(V,{className:"overflow-hidden",children:[n.image&&r.jsx("div",{className:"h-40 overflow-hidden bg-muted",children:r.jsx("img",{src:n.image,alt:E(),className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:E()}),r.jsxs("div",{className:"flex gap-1.5",children:[n.is_hot&&r.jsxs(te,{className:"bg-red-500 text-white text-[10px]",children:[r.jsx(r0,{className:"w-3 h-3 mr-0.5"}),"HOT"]}),n.is_new&&r.jsxs(te,{className:"bg-green-500 text-white text-[10px]",children:[r.jsx(xl,{className:"w-3 h-3 mr-0.5"}),"NEW"]})]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s==="zh"?`${K}`:`${K} bottles`}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsxs("span",{className:"text-2xl font-bold text-primary",children:["RM ",$.toFixed(0)]}),B&&B>$&&r.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["RM ",B.toFixed(0)]})]})]})]}),r.jsxs(V,{className:"p-4",children:[r.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[r.jsx(Yt,{className:"w-4 h-4 text-primary"}),s==="zh"?"":"Package Contents"]}),r.jsx("div",{className:"space-y-2",children:n.items.map((le,ve)=>r.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border last:border-0",children:[r.jsx("span",{className:"text-sm",children:L(le.flavor)}),r.jsxs(te,{variant:"secondary",className:"text-xs",children:["x",le.quantity]})]},ve))}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-border flex justify-between",children:[r.jsx("span",{className:"font-medium",children:s==="zh"?"":"Total"}),r.jsxs("span",{className:"font-medium",children:[K," ",s==="zh"?"":"bottles"]})]})]})]}),l==="delivery"&&r.jsxs("div",{className:"space-y-4",children:[!o&&!f&&r.jsx(V,{className:"p-5",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Kr,{className:"w-6 h-6 text-primary"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-foreground mb-1",children:a("order.loginForSavedAddress")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:a("order.loginBenefit")})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs(M,{onClick:pe,"data-testid":"button-login-checkout",children:[r.jsx(Kr,{className:"w-4 h-4 mr-2"}),a("order.loginOrRegister")]}),r.jsx(M,{variant:"outline",onClick:()=>g(!0),"data-testid":"button-guest-checkout",children:a("order.continueAsGuest")})]})]})}),W&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(Be,{children:a("order.selectSavedAddress")}),D.map(le=>r.jsx(V,{className:`p-4 cursor-pointer transition-all hover-elevate ${p===le.id?"ring-2 ring-primary":""}`,onClick:()=>ee(le),"data-testid":`card-saved-address-${le.id}`,children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Il,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-foreground",children:le.recipientName}),r.jsx("p",{className:"text-muted-foreground",children:le.phone}),r.jsxs("p",{className:"text-muted-foreground",children:[le.addressLine1,le.addressLine2&&`, ${le.addressLine2}`]}),r.jsxs("p",{className:"text-muted-foreground",children:[le.postcode," ",le.city,", ",a(`states.${le.state}`)]})]})]}),p===le.id&&r.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center flex-shrink-0",children:r.jsx(pa,{className:"w-4 h-4 text-primary-foreground"})})]})},le.id)),r.jsx(M,{variant:"outline",className:"w-full",onClick:()=>{x(null),g(!0)},"data-testid":"button-new-address",children:a("order.useNewAddress")})]}),(f||o&&!W)&&r.jsxs(r.Fragment,{children:[o&&D.length>0&&r.jsx(M,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"mb-2","data-testid":"button-back-to-saved",children:a("order.backToSavedAddresses")}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"customerName",className:"text-sm",children:[a("order.customerName")," *"]}),r.jsx(se,{id:"customerName",value:A.customerName,onChange:le=>q("customerName",le.target.value),placeholder:a("order.customerName"),"data-testid":"input-customer-name"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"phone",className:"text-sm",children:[a("order.phone")," *"]}),r.jsx(se,{id:"phone",type:"tel",value:A.phone,onChange:le=>q("phone",le.target.value),placeholder:"012-3456789","data-testid":"input-phone"})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"address",className:"text-sm",children:[a("order.address")," *"]}),r.jsx(se,{id:"address",value:A.address,onChange:le=>q("address",le.target.value),placeholder:a("order.address"),"data-testid":"input-address"})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"postcode",className:"text-sm",children:[a("order.postcode")," *"]}),r.jsx(se,{id:"postcode",value:A.postcode,onChange:le=>q("postcode",le.target.value),placeholder:"12345","data-testid":"input-postcode"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"city",className:"text-sm",children:[a("order.city")," *"]}),r.jsx(se,{id:"city",value:A.city,onChange:le=>q("city",le.target.value),placeholder:a("order.city"),"data-testid":"input-city"})]}),r.jsxs("div",{className:"space-y-1.5 col-span-2 sm:col-span-1",children:[r.jsxs(Be,{htmlFor:"state",className:"text-sm",children:[a("order.state")," *"]}),r.jsxs(Et,{value:A.state,onValueChange:le=>q("state",le),children:[r.jsx(_t,{"data-testid":"select-state",children:r.jsx(Rt,{placeholder:a("order.selectState")})}),r.jsx(Ct,{children:Ioe.map(le=>r.jsx(ye,{value:le,"data-testid":`option-state-${le}`,children:a(`states.${le}`)},le))})]})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Be,{htmlFor:"deliveryDate",className:"text-sm text-muted-foreground",children:a("order.deliveryDate")}),r.jsx(se,{id:"deliveryDate",type:"date",value:A.deliveryDate,onChange:le=>q("deliveryDate",le.target.value),min:new Date().toISOString().split("T")[0],"data-testid":"input-delivery-date"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"referralCode",className:"text-sm text-muted-foreground flex items-center gap-2",children:[r.jsx(Hn,{className:"w-4 h-4"}),a("order.referralCode")||"Referral Code (Optional)"]}),r.jsx(se,{id:"referralCode",value:P,onChange:le=>{_(le.target.value.toUpperCase()),xe(le.target.value)},placeholder:"ABC123",maxLength:8,"data-testid":"input-referral-code"}),P&&r.jsx("p",{className:`text-xs ${T?"text-green-600":"text-muted-foreground"}`,children:T?a("order.referralCodeValid")||"Valid referral code":a("order.referralCodeInvalid")||"Enter a valid referral code"})]}),o&&!p&&r.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[r.jsx(kg,{id:"saveAddress",checked:y,onCheckedChange:le=>v(le===!0),"data-testid":"checkbox-save-address"}),r.jsx(Be,{htmlFor:"saveAddress",className:"text-sm cursor-pointer",children:a("order.saveAddressToProfile")})]})]})]}),l==="confirm"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(V,{className:"p-5",children:[r.jsx("h4",{className:"font-semibold text-foreground mb-3",children:a("order.orderSummary")}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[s==="zh"?"":"Package",":"]}),r.jsx("span",{className:"font-medium",children:E()})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[s==="zh"?"":"Quantity",":"]}),r.jsxs("span",{className:"font-medium",children:[K," ",s==="zh"?"":"bottles"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.priceLabel"),":"]}),r.jsxs("div",{className:"text-right",children:[B&&B>$&&r.jsxs("span",{className:"text-muted-foreground line-through mr-2",children:["RM ",B.toFixed(0)]}),r.jsxs("span",{className:"font-medium text-primary",children:["RM ",$.toFixed(0)]})]})]})]}),r.jsxs("div",{className:"border-t border-border mt-4 pt-4",children:[r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[s==="zh"?"":"Contents",":"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.items.map((le,ve)=>r.jsxs(te,{variant:"secondary","data-testid":`badge-item-${le.flavor}`,children:[L(le.flavor)," x",le.quantity]},ve))})]})]}),r.jsxs(V,{className:"p-5",children:[r.jsx("h4",{className:"font-semibold text-foreground mb-3",children:a("order.deliveryInfo")}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.customerName"),":"]}),r.jsx("span",{className:"font-medium",children:A.customerName})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.phone"),":"]}),r.jsx("span",{className:"font-medium",children:A.phone})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.address"),":"]}),r.jsx("span",{className:"font-medium text-right max-w-[60%]",children:A.address})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.city"),":"]}),r.jsx("span",{className:"font-medium",children:A.city})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.state"),":"]}),r.jsx("span",{className:"font-medium",children:a(`states.${A.state}`)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.postcode"),":"]}),r.jsx("span",{className:"font-medium",children:A.postcode})]}),A.deliveryDate&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.deliveryDate"),":"]}),r.jsx("span",{className:"font-medium",children:A.deliveryDate})]})]})]}),b&&r.jsx(V,{className:"p-4 bg-destructive/10 border-destructive",children:r.jsx("p",{className:"text-sm text-destructive",children:b})}),r.jsx(M,{className:"w-full gap-3",size:"lg",onClick:X,disabled:G.isPending,"data-testid":"button-submit-order",children:G.isPending?r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-5 h-5 animate-spin"}),a("order.orderSubmitting")]}):r.jsxs(r.Fragment,{children:[r.jsx(Rn,{className:"w-5 h-5"}),a("order.proceedToPayment")||"Proceed to Payment"]})})]}),l==="payment"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(V,{className:"p-5",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Lr,{className:"w-8 h-8 text-primary"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:a("order.yourOrderNumber")}),r.jsx("p",{className:"text-xl font-bold text-primary",children:d})]}),r.jsxs("div",{className:"border-t border-border pt-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:a("order.totalAmount")}),r.jsxs("p",{className:"text-3xl font-bold",children:["RM ",$.toFixed(0)]})]})]})}),b&&r.jsx(V,{className:"p-4 bg-destructive/10 border-destructive",children:r.jsx("p",{className:"text-sm text-destructive",children:b})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(M,{className:"w-full gap-3 bg-[#635BFF] hover:bg-[#5851DB]",size:"lg",onClick:Q,disabled:w,"data-testid":"button-pay-stripe",children:w?r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-5 h-5 animate-spin"}),a("order.processing")]}):r.jsxs(r.Fragment,{children:[r.jsx(Lr,{className:"w-5 h-5"}),a("order.payOnline")]})}),r.jsx("p",{className:"text-xs text-center text-muted-foreground",children:a("order.paymentMethods")}),r.jsx("p",{className:"text-xs text-center",children:r.jsx("a",{href:`https://wa.me/60178228658?text=${encodeURIComponent(`Need help with order #${d}`)}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground underline hover:text-foreground",children:a("order.needHelp")})})]})]}),l==="success"&&r.jsxs("div",{className:"space-y-6 text-center py-8",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:r.jsx(De,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:a("order.orderSuccess")}),r.jsx("p",{className:"text-muted-foreground mb-4",children:a("order.orderConfirmedDesc")})]}),r.jsxs(V,{className:"p-5",children:[r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[a("order.yourOrderNumber"),":"]}),r.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"text-order-number",children:d})]}),r.jsx("div",{className:"space-y-3",children:r.jsx(M,{className:"w-full",variant:"outline",onClick:()=>{Pe(),t(!1)},"data-testid":"button-continue-ordering",children:a("order.continueOrdering")})})]})]}),l!=="success"&&l!=="payment"&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-background border-t border-border",children:r.jsxs("div",{className:"flex gap-3",children:[l!=="summary"&&r.jsx(M,{variant:"outline",className:"flex-1",onClick:()=>{l==="confirm"?c("delivery"):l==="delivery"&&c("summary")},"data-testid":"button-back",children:a("order.back")}),l==="summary"&&r.jsx(M,{className:"flex-1",onClick:()=>c("delivery"),"data-testid":"button-next-summary",children:a("order.next")}),l==="delivery"&&r.jsx(M,{className:"flex-1",disabled:!C(),onClick:()=>c("confirm"),"data-testid":"button-next-delivery",children:a("order.next")})]})})]})})}const F8=j.createContext({});function Foe(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const k2=j.createContext(null),B8=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Boe(e=!0){const t=j.useContext(k2);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:s}=t,i=j.useId();j.useEffect(()=>{e&&s(i)},[e]);const o=j.useCallback(()=>e&&a&&a(i),[i,a,e]);return!n&&a?[!1,o]:[!0]}const P2=typeof window<"u",Uoe=P2?j.useLayoutEffect:j.useEffect,Da=e=>e;let bk=Da;function S2(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ju=(e,t,n)=>{const a=t-e;return a===0?1:(n-e)/a},zi=e=>e*1e3,Ki=e=>e/1e3,Voe={skipAnimations:!1,useManualTiming:!1};function qoe(e){let t=new Set,n=new Set,a=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,m=!1)=>{const f=m&&a?t:n;return u&&i.add(d),f.has(d)||f.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(o=d,a){s=!0;return}a=!0,[t,n]=[n,t],t.forEach(l),t.clear(),a=!1,s&&(s=!1,c.process(d))}};return c}const Nx=["read","resolveKeyframes","update","preRender","render","postRender"],zoe=40;function U8(e,t){let n=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Nx.reduce((y,v)=>(y[v]=qoe(i),y),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:m,postRender:h}=o,f=()=>{const y=performance.now();n=!1,s.delta=a?1e3/60:Math.max(Math.min(y-s.timestamp,zoe),1),s.timestamp=y,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),u.process(s),m.process(s),h.process(s),s.isProcessing=!1,n&&t&&(a=!1,e(f))},g=()=>{n=!0,a=!0,s.isProcessing||e(f)};return{schedule:Nx.reduce((y,v)=>{const b=o[v];return y[v]=(N,w=!1,k=!1)=>(n||g(),b.schedule(N,w,k)),y},{}),cancel:y=>{for(let v=0;v<Nx.length;v++)o[Nx[v]].cancel(y)},state:s,steps:o}}const{schedule:fn,cancel:Sl,state:jr,steps:Aj}=U8(typeof requestAnimationFrame<"u"?requestAnimationFrame:Da,!0),V8=j.createContext({strict:!1}),PE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qu={};for(const e in PE)Qu[e]={isEnabled:t=>PE[e].some(n=>!!t[n])};function Koe(e){for(const t in e)Qu[t]={...Qu[t],...e[t]}}const Woe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Woe.has(e)}let q8=e=>!lv(e);function Hoe(e){e&&(q8=t=>t.startsWith("on")?!lv(t):e(t))}try{Hoe(require("@emotion/is-prop-valid").default)}catch{}function Goe(e,t,n){const a={};for(const s in e)s==="values"&&typeof e.values=="object"||(q8(s)||n===!0&&lv(s)||!t&&!lv(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}function Yoe(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...a)=>e(...a);return new Proxy(n,{get:(a,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const _0=j.createContext({});function Qf(e){return typeof e=="string"||Array.isArray(e)}function C0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const _2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C2=["initial",..._2];function A0(e){return C0(e.animate)||C2.some(t=>Qf(e[t]))}function z8(e){return!!(A0(e)||e.variants)}function Joe(e,t){if(A0(e)){const{initial:n,animate:a}=e;return{initial:n===!1||Qf(n)?n:void 0,animate:Qf(a)?a:void 0}}return e.inherit!==!1?t:{}}function Qoe(e){const{initial:t,animate:n}=Joe(e,j.useContext(_0));return j.useMemo(()=>({initial:t,animate:n}),[SE(t),SE(n)])}function SE(e){return Array.isArray(e)?e.join(" "):e}const Xoe=Symbol.for("motionComponentSymbol");function Gd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Zoe(e,t,n){return j.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),n&&(typeof n=="function"?n(a):Gd(n)&&(n.current=a))},[t])}const A2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ele="framerAppearId",K8="data-"+A2(ele),{schedule:T2,cancel:XFe}=U8(queueMicrotask,!1),W8=j.createContext({});function tle(e,t,n,a,s){var i,o;const{visualElement:l}=j.useContext(_0),c=j.useContext(V8),d=j.useContext(k2),u=j.useContext(B8).reducedMotion,m=j.useRef(null);a=a||c.renderer,!m.current&&a&&(m.current=a(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const h=m.current,f=j.useContext(W8);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&nle(m.current,n,s,f);const g=j.useRef(!1);j.useInsertionEffect(()=>{h&&g.current&&h.update(n,d)});const p=n[K8],x=j.useRef(!!p&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return Uoe(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),T2.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),j.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,p)}),x.current=!1))}),h}function nle(e,t,n,a){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:H8(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Gd(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,layoutScroll:c,layoutRoot:d})}function H8(e){if(e)return e.options.allowProjection!==!1?e.projection:H8(e.parent)}function rle({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:a,Component:s}){var i,o;e&&Koe(e);function l(d,u){let m;const h={...j.useContext(B8),...d,layoutId:ale(d)},{isStatic:f}=h,g=Qoe(d),p=a(d,f);if(!f&&P2){sle();const x=ile(h);m=x.MeasureLayout,g.visualElement=tle(s,p,h,t,x.ProjectionNode)}return r.jsxs(_0.Provider,{value:g,children:[m&&g.visualElement?r.jsx(m,{visualElement:g.visualElement,...h}):null,n(s,d,Zoe(p,g.visualElement,u),p,f,g.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=j.forwardRef(l);return c[Xoe]=s,c}function ale({layoutId:e}){const t=j.useContext(F8).id;return t&&e!==void 0?t+"-"+e:e}function sle(e,t){j.useContext(V8).strict}function ile(e){const{drag:t,layout:n}=Qu;if(!t&&!n)return{};const a={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const ole=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function O2(e){return typeof e!="string"||e.includes("-")?!1:!!(ole.indexOf(e)>-1||/[A-Z]/u.test(e))}function _E(e){const t=[{},{}];return e==null||e.values.forEach((n,a)=>{t[0][a]=n.get(),t[1][a]=n.getVelocity()}),t}function E2(e,t,n,a){if(typeof t=="function"){const[s,i]=_E(a);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=_E(a);t=t(n!==void 0?n:e.custom,s,i)}return t}const wk=e=>Array.isArray(e),lle=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),cle=e=>wk(e)?e[e.length-1]||0:e,Ir=e=>!!(e&&e.getVelocity);function fy(e){const t=Ir(e)?e.get():e;return lle(t)?t.toValue():t}function dle({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},a,s,i){const o={latestValues:ule(a,s,i,e),renderState:t()};return n&&(o.onMount=l=>n({props:a,current:l,...o}),o.onUpdate=l=>n(l)),o}const G8=e=>(t,n)=>{const a=j.useContext(_0),s=j.useContext(k2),i=()=>dle(e,t,a,s);return n?i():Foe(i)};function ule(e,t,n,a){const s={},i=a(e,{});for(const h in i)s[h]=fy(i[h]);let{initial:o,animate:l}=e;const c=A0(e),d=z8(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const m=u?l:o;if(m&&typeof m!="boolean"&&!C0(m)){const h=Array.isArray(m)?m:[m];for(let f=0;f<h.length;f++){const g=E2(e,h[f]);if(g){const{transitionEnd:p,transition:x,...y}=g;for(const v in y){let b=y[v];if(Array.isArray(b)){const N=u?b.length-1:0;b=b[N]}b!==null&&(s[v]=b)}for(const v in p)s[v]=p[v]}}}return s}const Gm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ud=new Set(Gm),Y8=e=>t=>typeof t=="string"&&t.startsWith(e),J8=Y8("--"),mle=Y8("var(--"),R2=e=>mle(e)?hle.test(e.split("/*")[0].trim()):!1,hle=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Q8=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ao=(e,t,n)=>n>t?t:n<e?e:n,Ym={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xf={...Ym,transform:e=>ao(0,1,e)},kx={...Ym,default:1},Pg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_o=Pg("deg"),ui=Pg("%"),Qe=Pg("px"),fle=Pg("vh"),ple=Pg("vw"),CE={...ui,parse:e=>ui.parse(e)/100,transform:e=>ui.transform(e*100)},gle={borderWidth:Qe,borderTopWidth:Qe,borderRightWidth:Qe,borderBottomWidth:Qe,borderLeftWidth:Qe,borderRadius:Qe,radius:Qe,borderTopLeftRadius:Qe,borderTopRightRadius:Qe,borderBottomRightRadius:Qe,borderBottomLeftRadius:Qe,width:Qe,maxWidth:Qe,height:Qe,maxHeight:Qe,top:Qe,right:Qe,bottom:Qe,left:Qe,padding:Qe,paddingTop:Qe,paddingRight:Qe,paddingBottom:Qe,paddingLeft:Qe,margin:Qe,marginTop:Qe,marginRight:Qe,marginBottom:Qe,marginLeft:Qe,backgroundPositionX:Qe,backgroundPositionY:Qe},xle={rotate:_o,rotateX:_o,rotateY:_o,rotateZ:_o,scale:kx,scaleX:kx,scaleY:kx,scaleZ:kx,skew:_o,skewX:_o,skewY:_o,distance:Qe,translateX:Qe,translateY:Qe,translateZ:Qe,x:Qe,y:Qe,z:Qe,perspective:Qe,transformPerspective:Qe,opacity:Xf,originX:CE,originY:CE,originZ:Qe},AE={...Ym,transform:Math.round},M2={...gle,...xle,zIndex:AE,size:Qe,fillOpacity:Xf,strokeOpacity:Xf,numOctaves:AE},yle={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vle=Gm.length;function ble(e,t,n){let a="",s=!0;for(let i=0;i<vle;i++){const o=Gm[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=Q8(l,M2[o]);if(!c){s=!1;const u=yle[o]||o;a+=`${u}(${d}) `}n&&(t[o]=d)}}return a=a.trim(),n?a=n(t,s?"":a):s&&(a="none"),a}function D2(e,t,n){const{style:a,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(ud.has(c)){o=!0;continue}else if(J8(c)){s[c]=d;continue}else{const u=Q8(d,M2[c]);c.startsWith("origin")?(l=!0,i[c]=u):a[c]=u}}if(t.transform||(o||n?a.transform=ble(t,e.transform,n):a.transform&&(a.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;a.transformOrigin=`${c} ${d} ${u}`}}const wle={offset:"stroke-dashoffset",array:"stroke-dasharray"},jle={offset:"strokeDashoffset",array:"strokeDasharray"};function Nle(e,t,n=1,a=0,s=!0){e.pathLength=1;const i=s?wle:jle;e[i.offset]=Qe.transform(-a);const o=Qe.transform(t),l=Qe.transform(n);e[i.array]=`${o} ${l}`}function TE(e,t,n){return typeof e=="string"?e:Qe.transform(t+n*e)}function kle(e,t,n){const a=TE(t,e.x,e.width),s=TE(n,e.y,e.height);return`${a} ${s}`}function I2(e,{attrX:t,attrY:n,attrScale:a,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,m){if(D2(e,d,m),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f,dimensions:g}=e;h.transform&&(g&&(f.transform=h.transform),delete h.transform),g&&(s!==void 0||i!==void 0||f.transform)&&(f.transformOrigin=kle(g,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),a!==void 0&&(h.scale=a),o!==void 0&&Nle(h,o,l,c,!1)}const L2=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),X8=()=>({...L2(),attrs:{}}),$2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Z8(e,{style:t,vars:n},a,s){Object.assign(e.style,t,s&&s.getProjectionStyles(a));for(const i in n)e.style.setProperty(i,n[i])}const eU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tU(e,t,n,a){Z8(e,t,void 0,a);for(const s in t.attrs)e.setAttribute(eU.has(s)?s:A2(s),t.attrs[s])}const cv={};function Ple(e){Object.assign(cv,e)}function nU(e,{layout:t,layoutId:n}){return ud.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!cv[e]||e==="opacity")}function F2(e,t,n){var a;const{style:s}=e,i={};for(const o in s)(Ir(s[o])||t.style&&Ir(t.style[o])||nU(o,e)||((a=n==null?void 0:n.getValue(o))===null||a===void 0?void 0:a.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function rU(e,t,n){const a=F2(e,t,n);for(const s in e)if(Ir(e[s])||Ir(t[s])){const i=Gm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[i]=e[s]}return a}function Sle(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const OE=["x","y","width","height","cx","cy","r"],_le={useVisualState:G8({scrapeMotionValuesFromProps:rU,createRenderState:X8,onUpdate:({props:e,prevProps:t,current:n,renderState:a,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in s)if(ud.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<OE.length;l++){const c=OE[l];e[c]!==t[c]&&(o=!0)}o&&fn.read(()=>{Sle(n,a),fn.render(()=>{I2(a,s,$2(n.tagName),e.transformTemplate),tU(n,a)})})}})},Cle={useVisualState:G8({scrapeMotionValuesFromProps:F2,createRenderState:L2})};function aU(e,t,n){for(const a in t)!Ir(t[a])&&!nU(a,n)&&(e[a]=t[a])}function Ale({transformTemplate:e},t){return j.useMemo(()=>{const n=L2();return D2(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Tle(e,t){const n=e.style||{},a={};return aU(a,n,e),Object.assign(a,Ale(e,t)),a}function Ole(e,t){const n={},a=Tle(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}function Ele(e,t,n,a){const s=j.useMemo(()=>{const i=X8();return I2(i,t,$2(a),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};aU(i,e.style,e),s.style={...i,...s.style}}return s}function Rle(e=!1){return(n,a,s,{latestValues:i},o)=>{const c=(O2(n)?Ele:Ole)(a,i,o,n),d=Goe(a,typeof n=="string",e),u=n!==j.Fragment?{...d,...c,ref:s}:{},{children:m}=a,h=j.useMemo(()=>Ir(m)?m.get():m,[m]);return j.createElement(n,{...u,children:h})}}function Mle(e,t){return function(a,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...O2(a)?_le:Cle,preloadedFeatures:e,useRender:Rle(s),createVisualElement:t,Component:a};return rle(o)}}function sU(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(t[a]!==e[a])return!1;return!0}function T0(e,t,n){const a=e.getProps();return E2(a,t,n!==void 0?n:a.custom,e)}const Dle=S2(()=>window.ScrollTimeline!==void 0);class Ile{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let a=0;a<this.animations.length;a++)this.animations[a][t]=n}attachTimeline(t,n){const a=this.animations.map(s=>{if(Dle()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{a.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Lle extends Ile{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function B2(e,t){return e?e[t]||e.default||e:void 0}const jk=2e4;function iU(e){let t=0;const n=50;let a=e.next(t);for(;!a.done&&t<jk;)t+=n,a=e.next(t);return t>=jk?1/0:t}function U2(e){return typeof e=="function"}function EE(e,t){e.timeline=t,e.onfinish=null}const V2=e=>Array.isArray(e)&&typeof e[0]=="number",$le={linearEasing:void 0};function Fle(e,t){const n=S2(e);return()=>{var a;return(a=$le[t])!==null&&a!==void 0?a:n()}}const dv=Fle(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oU=(e,t,n=10)=>{let a="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)a+=e(Ju(0,s-1,i))+", ";return`linear(${a.substring(0,a.length-2)})`};function lU(e){return!!(typeof e=="function"&&dv()||!e||typeof e=="string"&&(e in Nk||dv())||V2(e)||Array.isArray(e)&&e.every(lU))}const qh=([e,t,n,a])=>`cubic-bezier(${e}, ${t}, ${n}, ${a})`,Nk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qh([0,.65,.55,1]),circOut:qh([.55,0,1,.45]),backIn:qh([.31,.01,.66,-.59]),backOut:qh([.33,1.53,.69,.99])};function cU(e,t){if(e)return typeof e=="function"&&dv()?oU(e,t):V2(e)?qh(e):Array.isArray(e)?e.map(n=>cU(n,t)||Nk.easeOut):Nk[e]}const Ns={x:!1,y:!1};function dU(){return Ns.x||Ns.y}function Ble(e,t,n){var a;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(a=void 0)!==null&&a!==void 0?a:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function uU(e,t){const n=Ble(e),a=new AbortController,s={passive:!0,...t,signal:a.signal};return[n,s,()=>a.abort()]}function RE(e){return t=>{t.pointerType==="touch"||dU()||e(t)}}function Ule(e,t,n={}){const[a,s,i]=uU(e,n),o=RE(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=RE(m=>{d(m),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,s)});return a.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const mU=(e,t)=>t?e===t?!0:mU(e,t.parentElement):!1,q2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Vle=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qle(e){return Vle.has(e.tagName)||e.tabIndex!==-1}const zh=new WeakSet;function ME(e){return t=>{t.key==="Enter"&&e(t)}}function Tj(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const zle=(e,t)=>{const n=e.currentTarget;if(!n)return;const a=ME(()=>{if(zh.has(n))return;Tj(n,"down");const s=ME(()=>{Tj(n,"up")}),i=()=>Tj(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",a,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),t)};function DE(e){return q2(e)&&!dU()}function Kle(e,t,n={}){const[a,s,i]=uU(e,n),o=l=>{const c=l.currentTarget;if(!DE(l)||zh.has(c))return;zh.add(c);const d=t(l),u=(f,g)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),!(!DE(f)||!zh.has(c))&&(zh.delete(c),typeof d=="function"&&d(f,{success:g}))},m=f=>{u(f,n.useGlobalTarget||mU(c,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",h,s)};return a.forEach(l=>{!qle(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",d=>zle(d,s),s)}),i}function Wle(e){return e==="x"||e==="y"?Ns[e]?null:(Ns[e]=!0,()=>{Ns[e]=!1}):Ns.x||Ns.y?null:(Ns.x=Ns.y=!0,()=>{Ns.x=Ns.y=!1})}const hU=new Set(["width","height","top","left","right","bottom",...Gm]);let py;function Hle(){py=void 0}const mi={now:()=>(py===void 0&&mi.set(jr.isProcessing||Voe.useManualTiming?jr.timestamp:performance.now()),py),set:e=>{py=e,queueMicrotask(Hle)}};function z2(e,t){e.indexOf(t)===-1&&e.push(t)}function K2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class W2{constructor(){this.subscriptions=[]}add(t){return z2(this.subscriptions,t),()=>K2(this.subscriptions,t)}notify(t,n,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,a);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function fU(e,t){return t?e*(1e3/t):0}const IE=30,Gle=e=>!isNaN(parseFloat(e));class Yle{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,s=!0)=>{const i=mi.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Gle(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new W2);const a=this.events[t].add(n);return t==="change"?()=>{a(),fn.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>IE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,IE);return fU(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zf(e,t){return new Yle(e,t)}function Jle(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zf(n))}function Qle(e,t){const n=T0(e,t);let{transitionEnd:a={},transition:s={},...i}=n||{};i={...i,...a};for(const o in i){const l=cle(i[o]);Jle(e,o,l)}}function Xle(e){return!!(Ir(e)&&e.add)}function kk(e,t){const n=e.getValue("willChange");if(Xle(n))return n.add(t)}function pU(e){return e.props[K8]}const gU=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Zle=1e-7,ece=12;function tce(e,t,n,a,s){let i,o,l=0;do o=t+(n-t)/2,i=gU(o,a,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Zle&&++l<ece);return o}function Sg(e,t,n,a){if(e===t&&n===a)return Da;const s=i=>tce(i,0,1,e,n);return i=>i===0||i===1?i:gU(s(i),t,a)}const xU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yU=e=>t=>1-e(1-t),vU=Sg(.33,1.53,.69,.99),H2=yU(vU),bU=xU(H2),wU=e=>(e*=2)<1?.5*H2(e):.5*(2-Math.pow(2,-10*(e-1))),G2=e=>1-Math.sin(Math.acos(e)),jU=yU(G2),NU=xU(G2),kU=e=>/^0[^.\s]+$/u.test(e);function nce(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||kU(e):!0}const df=e=>Math.round(e*1e5)/1e5,Y2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rce(e){return e==null}const ace=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,J2=(e,t)=>n=>!!(typeof n=="string"&&ace.test(n)&&n.startsWith(e)||t&&!rce(n)&&Object.prototype.hasOwnProperty.call(n,t)),PU=(e,t,n)=>a=>{if(typeof a!="string")return a;const[s,i,o,l]=a.match(Y2);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},sce=e=>ao(0,255,e),Oj={...Ym,transform:e=>Math.round(sce(e))},fc={test:J2("rgb","red"),parse:PU("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:a=1})=>"rgba("+Oj.transform(e)+", "+Oj.transform(t)+", "+Oj.transform(n)+", "+df(Xf.transform(a))+")"};function ice(e){let t="",n="",a="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,a+=a,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const Pk={test:J2("#"),parse:ice,transform:fc.transform},Yd={test:J2("hsl","hue"),parse:PU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+ui.transform(df(t))+", "+ui.transform(df(n))+", "+df(Xf.transform(a))+")"},Tr={test:e=>fc.test(e)||Pk.test(e)||Yd.test(e),parse:e=>fc.test(e)?fc.parse(e):Yd.test(e)?Yd.parse(e):Pk.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?fc.transform(e):Yd.transform(e)},oce=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lce(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Y2))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(oce))===null||n===void 0?void 0:n.length)||0)>0}const SU="number",_U="color",cce="var",dce="var(",LE="${}",uce=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ep(e){const t=e.toString(),n=[],a={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(uce,c=>(Tr.test(c)?(a.color.push(i),s.push(_U),n.push(Tr.parse(c))):c.startsWith(dce)?(a.var.push(i),s.push(cce),n.push(c)):(a.number.push(i),s.push(SU),n.push(parseFloat(c))),++i,LE)).split(LE);return{values:n,split:l,indexes:a,types:s}}function CU(e){return ep(e).values}function AU(e){const{split:t,types:n}=ep(e),a=t.length;return s=>{let i="";for(let o=0;o<a;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===SU?i+=df(s[o]):l===_U?i+=Tr.transform(s[o]):i+=s[o]}return i}}const mce=e=>typeof e=="number"?0:e;function hce(e){const t=CU(e);return AU(e)(t.map(mce))}const _l={test:lce,parse:CU,createTransformer:AU,getAnimatableNone:hce},fce=new Set(["brightness","contrast","saturate","opacity"]);function pce(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=n.match(Y2)||[];if(!a)return e;const s=n.replace(a,"");let i=fce.has(t)?1:0;return a!==n&&(i*=100),t+"("+i+s+")"}const gce=/\b([a-z-]*)\(.*?\)/gu,Sk={..._l,getAnimatableNone:e=>{const t=e.match(gce);return t?t.map(pce).join(" "):e}},xce={...M2,color:Tr,backgroundColor:Tr,outlineColor:Tr,fill:Tr,stroke:Tr,borderColor:Tr,borderTopColor:Tr,borderRightColor:Tr,borderBottomColor:Tr,borderLeftColor:Tr,filter:Sk,WebkitFilter:Sk},Q2=e=>xce[e];function TU(e,t){let n=Q2(e);return n!==Sk&&(n=_l),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const yce=new Set(["auto","none","0"]);function vce(e,t,n){let a=0,s;for(;a<e.length&&!s;){const i=e[a];typeof i=="string"&&!yce.has(i)&&ep(i).values.length&&(s=e[a]),a++}if(s&&n)for(const i of t)e[i]=TU(n,s)}const $E=e=>e===Ym||e===Qe,FE=(e,t)=>parseFloat(e.split(", ")[t]),BE=(e,t)=>(n,{transform:a})=>{if(a==="none"||!a)return 0;const s=a.match(/^matrix3d\((.+)\)$/u);if(s)return FE(s[1],t);{const i=a.match(/^matrix\((.+)\)$/u);return i?FE(i[1],e):0}},bce=new Set(["x","y","z"]),wce=Gm.filter(e=>!bce.has(e));function jce(e){const t=[];return wce.forEach(n=>{const a=e.getValue(n);a!==void 0&&(t.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),t}const Xu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:BE(4,13),y:BE(5,14)};Xu.translateX=Xu.x;Xu.translateY=Xu.y;const Ec=new Set;let _k=!1,Ck=!1;function OU(){if(Ck){const e=Array.from(Ec).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),n=new Map;t.forEach(a=>{const s=jce(a);s.length&&(n.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const s=n.get(a);s&&s.forEach(([i,o])=>{var l;(l=a.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Ck=!1,_k=!1,Ec.forEach(e=>e.complete()),Ec.clear()}function EU(){Ec.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ck=!0)})}function Nce(){EU(),OU()}class X2{constructor(t,n,a,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=a,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ec.add(this),_k||(_k=!0,fn.read(EU),fn.resolveKeyframes(OU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:a,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(a&&n){const c=a.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ec.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ec.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const RU=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),kce=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pce(e){const t=kce.exec(e);if(!t)return[,];const[,n,a,s]=t;return[`--${n??a}`,s]}function MU(e,t,n=1){const[a,s]=Pce(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return RU(o)?parseFloat(o):o}return R2(s)?MU(s,t,n+1):s}const DU=e=>t=>t.test(e),Sce={test:e=>e==="auto",parse:e=>e},IU=[Ym,Qe,ui,_o,ple,fle,Sce],UE=e=>IU.find(DU(e));class LU extends X2{constructor(t,n,a,s,i){super(t,n,a,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),R2(d))){const u=MU(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!hU.has(a)||t.length!==2)return;const[s,i]=t,o=UE(s),l=UE(i);if(o!==l)if($E(o)&&$E(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,a=[];for(let s=0;s<t.length;s++)nce(t[s])&&a.push(s);a.length&&vce(t,a,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xu[a](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(a,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:a,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(a);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Xu[a](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const VE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_l.test(e)||e==="0")&&!e.startsWith("url("));function _ce(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Cce(e,t,n,a){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=VE(s,t),l=VE(i,t);return!o||!l?!1:_ce(e)||(n==="spring"||U2(n))&&a}const Ace=e=>e!==null;function O0(e,{repeat:t,repeatType:n="loop"},a){const s=e.filter(Ace),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||a===void 0?s[i]:a}const Tce=40;class $U{constructor({autoplay:t=!0,delay:n=0,type:a="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mi.now(),this.options={autoplay:t,delay:n,type:a,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Tce?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Nce(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=mi.now(),this.hasAttemptedResolve=!0;const{name:a,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!Cce(t,a,s,i))if(o)this.options.duration=0;else{c&&c(O0(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const jn=(e,t,n)=>e+(t-e)*n;function Ej(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Oce({hue:e,saturation:t,lightness:n,alpha:a}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Ej(c,l,e+1/3),i=Ej(c,l,e),o=Ej(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function uv(e,t){return n=>n>0?t:e}const Rj=(e,t,n)=>{const a=e*e,s=n*(t*t-a)+a;return s<0?0:Math.sqrt(s)},Ece=[Pk,fc,Yd],Rce=e=>Ece.find(t=>t.test(e));function qE(e){const t=Rce(e);if(!t)return!1;let n=t.parse(e);return t===Yd&&(n=Oce(n)),n}const zE=(e,t)=>{const n=qE(e),a=qE(t);if(!n||!a)return uv(e,t);const s={...n};return i=>(s.red=Rj(n.red,a.red,i),s.green=Rj(n.green,a.green,i),s.blue=Rj(n.blue,a.blue,i),s.alpha=jn(n.alpha,a.alpha,i),fc.transform(s))},Mce=(e,t)=>n=>t(e(n)),_g=(...e)=>e.reduce(Mce),Ak=new Set(["none","hidden"]);function Dce(e,t){return Ak.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Ice(e,t){return n=>jn(e,t,n)}function Z2(e){return typeof e=="number"?Ice:typeof e=="string"?R2(e)?uv:Tr.test(e)?zE:Fce:Array.isArray(e)?FU:typeof e=="object"?Tr.test(e)?zE:Lce:uv}function FU(e,t){const n=[...e],a=n.length,s=e.map((i,o)=>Z2(i)(i,t[o]));return i=>{for(let o=0;o<a;o++)n[o]=s[o](i);return n}}function Lce(e,t){const n={...e,...t},a={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(a[s]=Z2(e[s])(e[s],t[s]));return s=>{for(const i in a)n[i]=a[i](s);return n}}function $ce(e,t){var n;const a=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;a[i]=c,s[o]++}return a}const Fce=(e,t)=>{const n=_l.createTransformer(t),a=ep(e),s=ep(t);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?Ak.has(e)&&!s.values.length||Ak.has(t)&&!a.values.length?Dce(e,t):_g(FU($ce(a,s),s.values),n):uv(e,t)};function BU(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?jn(e,t,n):Z2(e)(e,t)}const Bce=5;function UU(e,t,n){const a=Math.max(t-Bce,0);return fU(n-e(a),t-a)}const An={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mj=.001;function Uce({duration:e=An.duration,bounce:t=An.bounce,velocity:n=An.velocity,mass:a=An.mass}){let s,i,o=1-t;o=ao(An.minDamping,An.maxDamping,o),e=ao(An.minDuration,An.maxDuration,Ki(e)),o<1?(s=d=>{const u=d*o,m=u*e,h=u-n,f=Tk(d,o),g=Math.exp(-m);return Mj-h/f*g},i=d=>{const m=d*o*e,h=m*n+n,f=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-m),p=Tk(Math.pow(d,2),o);return(-s(d)+Mj>0?-1:1)*((h-f)*g)/p}):(s=d=>{const u=Math.exp(-d*e),m=(d-n)*e+1;return-Mj+u*m},i=d=>{const u=Math.exp(-d*e),m=(n-d)*(e*e);return u*m});const l=5/e,c=qce(s,i,l);if(e=zi(e),isNaN(c))return{stiffness:An.stiffness,damping:An.damping,duration:e};{const d=Math.pow(c,2)*a;return{stiffness:d,damping:o*2*Math.sqrt(a*d),duration:e}}}const Vce=12;function qce(e,t,n){let a=n;for(let s=1;s<Vce;s++)a=a-e(a)/t(a);return a}function Tk(e,t){return e*Math.sqrt(1-t*t)}const zce=["duration","bounce"],Kce=["stiffness","damping","mass"];function KE(e,t){return t.some(n=>e[n]!==void 0)}function Wce(e){let t={velocity:An.velocity,stiffness:An.stiffness,damping:An.damping,mass:An.mass,isResolvedFromDuration:!1,...e};if(!KE(e,Kce)&&KE(e,zce))if(e.visualDuration){const n=e.visualDuration,a=2*Math.PI/(n*1.2),s=a*a,i=2*ao(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:An.mass,stiffness:s,damping:i}}else{const n=Uce(e);t={...t,...n,mass:An.mass},t.isResolvedFromDuration=!0}return t}function VU(e=An.visualDuration,t=An.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:m,velocity:h,isResolvedFromDuration:f}=Wce({...n,velocity:-Ki(n.velocity||0)}),g=h||0,p=d/(2*Math.sqrt(c*u)),x=o-i,y=Ki(Math.sqrt(c/u)),v=Math.abs(x)<5;a||(a=v?An.restSpeed.granular:An.restSpeed.default),s||(s=v?An.restDelta.granular:An.restDelta.default);let b;if(p<1){const w=Tk(y,p);b=k=>{const P=Math.exp(-p*y*k);return o-P*((g+p*y*x)/w*Math.sin(w*k)+x*Math.cos(w*k))}}else if(p===1)b=w=>o-Math.exp(-y*w)*(x+(g+y*x)*w);else{const w=y*Math.sqrt(p*p-1);b=k=>{const P=Math.exp(-p*y*k),_=Math.min(w*k,300);return o-P*((g+p*y*x)*Math.sinh(_)+w*x*Math.cosh(_))/w}}const N={calculatedDuration:f&&m||null,next:w=>{const k=b(w);if(f)l.done=w>=m;else{let P=0;p<1&&(P=w===0?zi(g):UU(b,w,k));const _=Math.abs(P)<=a,T=Math.abs(o-k)<=s;l.done=_&&T}return l.value=l.done?o:k,l},toString:()=>{const w=Math.min(iU(N),jk),k=oU(P=>N.next(w*P).value,w,30);return w+"ms "+k}};return N}function WE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},f=_=>l!==void 0&&_<l||c!==void 0&&_>c,g=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let p=n*t;const x=m+p,y=o===void 0?x:o(x);y!==x&&(p=y-m);const v=_=>-p*Math.exp(-_/a),b=_=>y+v(_),N=_=>{const T=v(_),I=b(_);h.done=Math.abs(T)<=d,h.value=h.done?y:I};let w,k;const P=_=>{f(h.value)&&(w=_,k=VU({keyframes:[h.value,g(h.value)],velocity:UU(b,_,h.value),damping:s,stiffness:i,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:_=>{let T=!1;return!k&&w===void 0&&(T=!0,N(_),P(_)),w!==void 0&&_>=w?k.next(_-w):(!T&&N(_),h)}}}const Hce=Sg(.42,0,1,1),Gce=Sg(0,0,.58,1),qU=Sg(.42,0,.58,1),Yce=e=>Array.isArray(e)&&typeof e[0]!="number",HE={linear:Da,easeIn:Hce,easeInOut:qU,easeOut:Gce,circIn:G2,circInOut:NU,circOut:jU,backIn:H2,backInOut:bU,backOut:vU,anticipate:wU},GE=e=>{if(V2(e)){bk(e.length===4);const[t,n,a,s]=e;return Sg(t,n,a,s)}else if(typeof e=="string")return bk(HE[e]!==void 0),HE[e];return e};function Jce(e,t,n){const a=[],s=n||BU,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Da:t;l=_g(c,l)}a.push(l)}return a}function Qce(e,t,{clamp:n=!0,ease:a,mixer:s}={}){const i=e.length;if(bk(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Jce(t,a,s),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const h=Ju(e[m],e[m+1],u);return l[m](h)};return n?u=>d(ao(e[0],e[i-1],u)):d}function Xce(e,t){const n=e[e.length-1];for(let a=1;a<=t;a++){const s=Ju(0,t,a);e.push(jn(n,1,s))}}function Zce(e){const t=[0];return Xce(t,e.length-1),t}function ede(e,t){return e.map(n=>n*t)}function tde(e,t){return e.map(()=>t||qU).splice(0,e.length-1)}function mv({duration:e=300,keyframes:t,times:n,ease:a="easeInOut"}){const s=Yce(a)?a.map(GE):GE(a),i={done:!1,value:t[0]},o=ede(n&&n.length===t.length?n:Zce(t),e),l=Qce(o,t,{ease:Array.isArray(s)?s:tde(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const nde=e=>{const t=({timestamp:n})=>e(n);return{start:()=>fn.update(t,!0),stop:()=>Sl(t),now:()=>jr.isProcessing?jr.timestamp:mi.now()}},rde={decay:WE,inertia:WE,tween:mv,keyframes:mv,spring:VU},ade=e=>e/100;class eC extends $U{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:a,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||X2,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,n,a,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=U2(n)?n:rde[n]||mv;let c,d;l!==mv&&typeof t[0]!="number"&&(c=_g(ade,BU(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});i==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=iU(u));const{calculatedDuration:m}=u,h=m+s,f=h*(a+1)-s;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:m,resolvedDuration:h,totalDuration:f}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:a}=this;if(!a){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:m}=a;if(this.startTime===null)return i.next(0);const{delay:h,repeat:f,repeatType:g,repeatDelay:p,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,N=i;if(f){const _=Math.min(this.currentTime,u)/m;let T=Math.floor(_),I=_%1;!I&&_>=1&&(I=1),I===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(g==="reverse"?(I=1-I,p&&(I-=p/m)):g==="mirror"&&(N=o)),b=ao(0,1,I)*m}const w=v?{done:!1,value:c[0]}:N.next(b);l&&(w.value=l(w.value));let{done:k}=w;!v&&d!==null&&(k=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&s!==void 0&&(w.value=O0(c,this.options,s)),x&&x(w.value),P&&this.finish(),w}get duration(){const{resolved:t}=this;return t?Ki(t.calculatedDuration):0}get time(){return Ki(this.currentTime)}set time(t){t=zi(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ki(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=nde,onPlay:n,startTime:a}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=a??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const sde=new Set(["opacity","clipPath","filter","transform"]);function ide(e,t,n,{delay:a=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:n};c&&(d.offset=c);const u=cU(l,s);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:a,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const ode=S2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hv=10,lde=2e4;function cde(e){return U2(e.type)||e.type==="spring"||!lU(e.ease)}function dde(e,t){const n=new eC({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let a={done:!1,value:e[0]};const s=[];let i=0;for(;!a.done&&i<lde;)a=n.sample(i),s.push(a.value),i+=hv;return{times:void 0,keyframes:s,duration:i-hv,ease:"linear"}}const zU={anticipate:wU,backInOut:bU,circInOut:NU};function ude(e){return e in zU}class YE extends $U{constructor(t){super(t);const{name:n,motionValue:a,element:s,keyframes:i}=this.options;this.resolver=new LU(i,(o,l)=>this.onKeyframesResolved(o,l),n,a,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:a=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&dv()&&ude(i)&&(i=zU[i]),cde(this.options)){const{onComplete:m,onUpdate:h,motionValue:f,element:g,...p}=this.options,x=dde(t,p);t=x.keyframes,t.length===1&&(t[1]=t[0]),a=x.duration,s=x.times,i=x.ease,o="keyframes"}const u=ide(l.owner.current,c,t,{...this.options,duration:a,times:s,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(EE(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:m}=this.options;l.set(O0(t,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:a,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ki(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ki(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:a}=n;a.currentTime=zi(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:a}=n;a.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Da;const{animation:a}=n;EE(a,t)}return Da}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:a,duration:s,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:m,element:h,...f}=this.options,g=new eC({...f,keyframes:a,duration:s,type:i,ease:o,times:l,isGenerator:!0}),p=zi(this.time);d.setWithVelocity(g.sample(p-hv).value,g.sample(p).value,hv)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:a,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=n.owner.getProps();return ode()&&a&&sde.has(a)&&!c&&!d&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const mde={type:"spring",stiffness:500,damping:25,restSpeed:10},hde=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fde={type:"keyframes",duration:.8},pde={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gde=(e,{keyframes:t})=>t.length>2?fde:ud.has(e)?e.startsWith("scale")?hde(t[1]):mde:pde;function xde({when:e,delay:t,delayChildren:n,staggerChildren:a,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const tC=(e,t,n,a={},s,i)=>o=>{const l=B2(a,e)||{},c=l.delay||a.delay||0;let{elapsed:d=0}=a;d=d-zi(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};xde(l)||(u={...u,...gde(e,u)}),u.duration&&(u.duration=zi(u.duration)),u.repeatDelay&&(u.repeatDelay=zi(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(m=!0)),m&&!i&&t.get()!==void 0){const h=O0(u.keyframes,l);if(h!==void 0)return fn.update(()=>{u.onUpdate(h),u.onComplete()}),new Lle([])}return!i&&YE.supports(u)?new YE(u):new eC(u)};function yde({protectedKeys:e,needsAnimating:t},n){const a=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,a}function KU(e,t,{delay:n=0,transitionOverride:a,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;a&&(o=a);const d=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const m in c){const h=e.getValue(m,(i=e.latestValues[m])!==null&&i!==void 0?i:null),f=c[m];if(f===void 0||u&&yde(u,m))continue;const g={delay:n,...B2(o||{},m)};let p=!1;if(window.MotionHandoffAnimation){const y=pU(e);if(y){const v=window.MotionHandoffAnimation(y,m,fn);v!==null&&(g.startTime=v,p=!0)}}kk(e,m),h.start(tC(m,h,f,e.shouldReduceMotion&&hU.has(m)?{type:!1}:g,e,p));const x=h.animation;x&&d.push(x)}return l&&Promise.all(d).then(()=>{fn.update(()=>{l&&Qle(e,l)})}),d}function Ok(e,t,n={}){var a;const s=T0(e,t,n.type==="exit"?(a=e.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(KU(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:h}=i;return vde(e,t,u+d,m,h,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(n.delay)])}function vde(e,t,n=0,a=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*a,c=s===1?(d=0)=>d*a:(d=0)=>l-d*a;return Array.from(e.variantChildren).sort(bde).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(Ok(d,t,{...i,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function bde(e,t){return e.sortNodePosition(t)}function wde(e,t,n={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const s=t.map(i=>Ok(e,i,n));a=Promise.all(s)}else if(typeof t=="string")a=Ok(e,t,n);else{const s=typeof t=="function"?T0(e,t,n.custom):t;a=Promise.all(KU(e,s,n))}return a.then(()=>{e.notify("AnimationComplete",t)})}const jde=C2.length;function WU(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?WU(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<jde;n++){const a=C2[n],s=e.props[a];(Qf(s)||s===!1)&&(t[a]=s)}return t}const Nde=[..._2].reverse(),kde=_2.length;function Pde(e){return t=>Promise.all(t.map(({animation:n,options:a})=>wde(e,n,a)))}function Sde(e){let t=Pde(e),n=JE(),a=!0;const s=c=>(d,u)=>{var m;const h=T0(e,u,c==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(h){const{transition:f,transitionEnd:g,...p}=h;d={...d,...p,...g}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=WU(e.parent)||{},m=[],h=new Set;let f={},g=1/0;for(let x=0;x<kde;x++){const y=Nde[x],v=n[y],b=d[y]!==void 0?d[y]:u[y],N=Qf(b),w=y===c?v.isActive:null;w===!1&&(g=x);let k=b===u[y]&&b!==d[y]&&N;if(k&&a&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...f},!v.isActive&&w===null||!b&&!v.prevProp||C0(b)||typeof b=="boolean")continue;const P=_de(v.prevProp,b);let _=P||y===c&&v.isActive&&!k&&N||x>g&&N,T=!1;const I=Array.isArray(b)?b:[b];let A=I.reduce(s(y),{});w===!1&&(A={});const{prevResolvedValues:R={}}=v,E={...R,...A},L=K=>{_=!0,h.has(K)&&(T=!0,h.delete(K)),v.needsAnimating[K]=!0;const S=e.getValue(K);S&&(S.liveStyle=!1)};for(const K in E){const S=A[K],D=R[K];if(f.hasOwnProperty(K))continue;let G=!1;wk(S)&&wk(D)?G=!sU(S,D):G=S!==D,G?S!=null?L(K):h.add(K):S!==void 0&&h.has(K)?L(K):v.protectedKeys[K]=!0}v.prevProp=b,v.prevResolvedValues=A,v.isActive&&(f={...f,...A}),a&&e.blockInitialAnimation&&(_=!1),_&&(!(k&&P)||T)&&m.push(...I.map(K=>({animation:K,options:{type:y}})))}if(h.size){const x={};h.forEach(y=>{const v=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),x[y]=v??null}),m.push({animation:x})}let p=!!m.length;return a&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(p=!1),a=!1,p?t(m):Promise.resolve()}function l(c,d){var u;if(n[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var f;return(f=h.animationState)===null||f===void 0?void 0:f.setActive(c,d)}),n[c].isActive=d;const m=o(c);for(const h in n)n[h].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=JE(),a=!0}}}function _de(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sU(t,e):!1}function Hl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JE(){return{animate:Hl(!0),whileInView:Hl(),whileHover:Hl(),whileTap:Hl(),whileDrag:Hl(),whileFocus:Hl(),exit:Hl()}}class Bl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Cde extends Bl{constructor(t){super(t),t.animationState||(t.animationState=Sde(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();C0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Ade=0;class Tde extends Bl{constructor(){super(...arguments),this.id=Ade++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Ode={animation:{Feature:Cde},exit:{Feature:Tde}};function tp(e,t,n,a={passive:!0}){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n)}function Cg(e){return{point:{x:e.pageX,y:e.pageY}}}const Ede=e=>t=>q2(t)&&e(t,Cg(t));function uf(e,t,n,a){return tp(e,t,Ede(n),a)}const QE=(e,t)=>Math.abs(e-t);function Rde(e,t){const n=QE(e.x,t.x),a=QE(e.y,t.y);return Math.sqrt(n**2+a**2)}class HU{constructor(t,n,{transformPagePoint:a,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Ij(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=Rde(m.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:g}=m,{timestamp:p}=jr;this.history.push({...g,timestamp:p});const{onStart:x,onMove:y}=this.handlers;h||(x&&x(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Dj(h,this.transformPagePoint),fn.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ij(m.type==="pointercancel"?this.lastMoveEventInfo:Dj(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(m,x),g&&g(m,x)},!q2(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=a,this.contextWindow=s||window;const o=Cg(t),l=Dj(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=jr;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(t,Ij(l,this.history)),this.removeListeners=_g(uf(this.contextWindow,"pointermove",this.handlePointerMove),uf(this.contextWindow,"pointerup",this.handlePointerUp),uf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Sl(this.updatePoint)}}function Dj(e,t){return t?{point:t(e.point)}:e}function XE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ij({point:e},t){return{point:e,delta:XE(e,GU(t)),offset:XE(e,Mde(t)),velocity:Dde(t,.1)}}function Mde(e){return e[0]}function GU(e){return e[e.length-1]}function Dde(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const s=GU(e);for(;n>=0&&(a=e[n],!(s.timestamp-a.timestamp>zi(t)));)n--;if(!a)return{x:0,y:0};const i=Ki(s.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-a.x)/i,y:(s.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const YU=1e-4,Ide=1-YU,Lde=1+YU,JU=.01,$de=0-JU,Fde=0+JU;function Ua(e){return e.max-e.min}function Bde(e,t,n){return Math.abs(e-t)<=n}function ZE(e,t,n,a=.5){e.origin=a,e.originPoint=jn(t.min,t.max,e.origin),e.scale=Ua(n)/Ua(t),e.translate=jn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Ide&&e.scale<=Lde||isNaN(e.scale))&&(e.scale=1),(e.translate>=$de&&e.translate<=Fde||isNaN(e.translate))&&(e.translate=0)}function mf(e,t,n,a){ZE(e.x,t.x,n.x,a?a.originX:void 0),ZE(e.y,t.y,n.y,a?a.originY:void 0)}function eR(e,t,n){e.min=n.min+t.min,e.max=e.min+Ua(t)}function Ude(e,t,n){eR(e.x,t.x,n.x),eR(e.y,t.y,n.y)}function tR(e,t,n){e.min=t.min-n.min,e.max=e.min+Ua(t)}function hf(e,t,n){tR(e.x,t.x,n.x),tR(e.y,t.y,n.y)}function Vde(e,{min:t,max:n},a){return t!==void 0&&e<t?e=a?jn(t,e,a.min):Math.max(e,t):n!==void 0&&e>n&&(e=a?jn(n,e,a.max):Math.min(e,n)),e}function nR(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function qde(e,{top:t,left:n,bottom:a,right:s}){return{x:nR(e.x,n,s),y:nR(e.y,t,a)}}function rR(e,t){let n=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function zde(e,t){return{x:rR(e.x,t.x),y:rR(e.y,t.y)}}function Kde(e,t){let n=.5;const a=Ua(e),s=Ua(t);return s>a?n=Ju(t.min,t.max-a,e.min):a>s&&(n=Ju(e.min,e.max-s,t.min)),ao(0,1,n)}function Wde(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ek=.35;function Hde(e=Ek){return e===!1?e=0:e===!0&&(e=Ek),{x:aR(e,"left","right"),y:aR(e,"top","bottom")}}function aR(e,t,n){return{min:sR(e,t),max:sR(e,n)}}function sR(e,t){return typeof e=="number"?e:e[t]||0}const iR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jd=()=>({x:iR(),y:iR()}),oR=()=>({min:0,max:0}),In=()=>({x:oR(),y:oR()});function Ya(e){return[e("x"),e("y")]}function QU({top:e,left:t,right:n,bottom:a}){return{x:{min:t,max:n},y:{min:e,max:a}}}function Gde({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Yde(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}function Lj(e){return e===void 0||e===1}function Rk({scale:e,scaleX:t,scaleY:n}){return!Lj(e)||!Lj(t)||!Lj(n)}function tc(e){return Rk(e)||XU(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function XU(e){return lR(e.x)||lR(e.y)}function lR(e){return e&&e!=="0%"}function fv(e,t,n){const a=e-n,s=t*a;return n+s}function cR(e,t,n,a,s){return s!==void 0&&(e=fv(e,s,a)),fv(e,n,a)+t}function Mk(e,t=0,n=1,a,s){e.min=cR(e.min,t,n,a,s),e.max=cR(e.max,t,n,a,s)}function ZU(e,{x:t,y:n}){Mk(e.x,t.translate,t.scale,t.originPoint),Mk(e.y,n.translate,n.scale,n.originPoint)}const dR=.999999999999,uR=1.0000000000001;function Jde(e,t,n,a=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xd(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ZU(e,o)),a&&tc(i.latestValues)&&Xd(e,i.latestValues))}t.x<uR&&t.x>dR&&(t.x=1),t.y<uR&&t.y>dR&&(t.y=1)}function Qd(e,t){e.min=e.min+t,e.max=e.max+t}function mR(e,t,n,a,s=.5){const i=jn(e.min,e.max,s);Mk(e,t,n,i,a)}function Xd(e,t){mR(e.x,t.x,t.scaleX,t.scale,t.originX),mR(e.y,t.y,t.scaleY,t.scale,t.originY)}function eV(e,t){return QU(Yde(e.getBoundingClientRect(),t))}function Qde(e,t,n){const a=eV(e,n),{scroll:s}=t;return s&&(Qd(a.x,s.offset.x),Qd(a.y,s.offset.y)),a}const tV=({current:e})=>e?e.ownerDocument.defaultView:null,Xde=new WeakMap;class Zde{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=In(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cg(u).point)},i=(u,m)=>{const{drag:h,dragPropagation:f,onDragStart:g}=this.getProps();if(h&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Wle(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ya(x=>{let y=this.getAxisMotionValue(x).get()||0;if(ui.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[x];b&&(y=Ua(b)*(parseFloat(y)/100))}}this.originPoint[x]=y}),g&&fn.postRender(()=>g(u,m)),kk(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(u,m)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:g,onDrag:p}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:x}=m;if(f&&this.currentDirection===null){this.currentDirection=eue(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,x),this.updateAxis("y",m.point,x),this.visualElement.render(),p&&p(u,m)},l=(u,m)=>this.stop(u,m),c=()=>Ya(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new HU(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:tV(this.visualElement)})}stop(t,n){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&fn.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,a){const{drag:s}=this.getProps();if(!a||!Px(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=Vde(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:a}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Gd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=qde(s.layoutBox,n):this.constraints=!1,this.elastic=Hde(a),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ya(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Wde(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Gd(t))return!1;const a=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Qde(a,s.root,this.visualElement.getTransformPagePoint());let o=zde(s.layout.layoutBox,i);if(n){const l=n(Gde(o));this.hasMutatedConstraints=!!l,l&&(o=QU(l))}return o}startAnimation(t){const{drag:n,dragMomentum:a,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Ya(u=>{if(!Px(u,n,this.currentDirection))return;let m=c&&c[u]||{};o&&(m={min:0,max:0});const h=s?200:1e6,f=s?40:1e7,g={type:"inertia",velocity:a?t[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const a=this.getAxisMotionValue(t);return kk(this.visualElement,t),a.start(tC(t,a,0,n,this.visualElement,!1))}stopAnimation(){Ya(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ya(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),s=a[n];return s||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Ya(n=>{const{drag:a}=this.getProps();if(!Px(n,a,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-jn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!Gd(n)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ya(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=Kde({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Ya(o=>{if(!Px(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(jn(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;Xde.set(this.visualElement,this);const t=this.visualElement.current,n=uf(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();Gd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),fn.read(a);const o=tp(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ya(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ek,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:a,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Px(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function eue(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class tue extends Bl{constructor(t){super(t),this.removeGroupControls=Da,this.removeListeners=Da,this.controls=new Zde(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Da}unmount(){this.removeGroupControls(),this.removeListeners()}}const hR=e=>(t,n)=>{e&&fn.postRender(()=>e(t,n))};class nue extends Bl{constructor(){super(...arguments),this.removePointerDownListener=Da}onPointerDown(t){this.session=new HU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:hR(t),onStart:hR(n),onMove:a,onEnd:(i,o)=>{delete this.session,s&&fn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=uf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fR(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const jh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Qe.test(e))e=parseFloat(e);else return e;const n=fR(e,t.target.x),a=fR(e,t.target.y);return`${n}% ${a}%`}},rue={correct:(e,{treeScale:t,projectionDelta:n})=>{const a=e,s=_l.parse(e);if(s.length>5)return a;const i=_l.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const d=jn(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};class aue extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a,layoutId:s}=this.props,{projection:i}=t;Ple(sue),i&&(n.group&&n.group.add(i),a&&a.register&&s&&a.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:a,drag:s,isPresent:i}=this.props,o=a.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||fn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),T2.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nV(e){const[t,n]=Boe(),a=j.useContext(F8);return r.jsx(aue,{...e,layoutGroup:a,switchLayoutGroup:j.useContext(W8),isPresent:t,safeToRemove:n})}const sue={borderRadius:{...jh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jh,borderTopRightRadius:jh,borderBottomLeftRadius:jh,borderBottomRightRadius:jh,boxShadow:rue};function iue(e,t,n){const a=Ir(e)?e:Zf(e);return a.start(tC("",a,t,n)),a.animation}function oue(e){return e instanceof SVGElement&&e.tagName!=="svg"}const lue=(e,t)=>e.depth-t.depth;class cue{constructor(){this.children=[],this.isDirty=!1}add(t){z2(this.children,t),this.isDirty=!0}remove(t){K2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lue),this.isDirty=!1,this.children.forEach(t)}}function due(e,t){const n=mi.now(),a=({timestamp:s})=>{const i=s-n;i>=t&&(Sl(a),e(i-t))};return fn.read(a,!0),()=>Sl(a)}const rV=["TopLeft","TopRight","BottomLeft","BottomRight"],uue=rV.length,pR=e=>typeof e=="string"?parseFloat(e):e,gR=e=>typeof e=="number"||Qe.test(e);function mue(e,t,n,a,s,i){s?(e.opacity=jn(0,n.opacity!==void 0?n.opacity:1,hue(a)),e.opacityExit=jn(t.opacity!==void 0?t.opacity:1,0,fue(a))):i&&(e.opacity=jn(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,a));for(let o=0;o<uue;o++){const l=`border${rV[o]}Radius`;let c=xR(t,l),d=xR(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||gR(c)===gR(d)?(e[l]=Math.max(jn(pR(c),pR(d),a),0),(ui.test(d)||ui.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=jn(t.rotate||0,n.rotate||0,a))}function xR(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hue=aV(0,.5,jU),fue=aV(.5,.95,Da);function aV(e,t,n){return a=>a<e?0:a>t?1:n(Ju(e,t,a))}function yR(e,t){e.min=t.min,e.max=t.max}function Ka(e,t){yR(e.x,t.x),yR(e.y,t.y)}function vR(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function bR(e,t,n,a,s){return e-=t,e=fv(e,1/n,a),s!==void 0&&(e=fv(e,1/s,a)),e}function pue(e,t=0,n=1,a=.5,s,i=e,o=e){if(ui.test(t)&&(t=parseFloat(t),t=jn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=jn(i.min,i.max,a);e===i&&(l-=t),e.min=bR(e.min,t,n,l,s),e.max=bR(e.max,t,n,l,s)}function wR(e,t,[n,a,s],i,o){pue(e,t[n],t[a],t[s],t.scale,i,o)}const gue=["x","scaleX","originX"],xue=["y","scaleY","originY"];function jR(e,t,n,a){wR(e.x,t,gue,n?n.x:void 0,a?a.x:void 0),wR(e.y,t,xue,n?n.y:void 0,a?a.y:void 0)}function NR(e){return e.translate===0&&e.scale===1}function sV(e){return NR(e.x)&&NR(e.y)}function kR(e,t){return e.min===t.min&&e.max===t.max}function yue(e,t){return kR(e.x,t.x)&&kR(e.y,t.y)}function PR(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function iV(e,t){return PR(e.x,t.x)&&PR(e.y,t.y)}function SR(e){return Ua(e.x)/Ua(e.y)}function _R(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vue{constructor(){this.members=[]}add(t){z2(this.members,t),t.scheduleRender()}remove(t){if(K2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let a;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,n){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,n&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:a}=t;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bue(e,t,n){let a="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(a=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:h,skewX:f,skewY:g}=n;d&&(a=`perspective(${d}px) ${a}`),u&&(a+=`rotate(${u}deg) `),m&&(a+=`rotateX(${m}deg) `),h&&(a+=`rotateY(${h}deg) `),f&&(a+=`skewX(${f}deg) `),g&&(a+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(a+=`scale(${l}, ${c})`),a||"none"}const nc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Kh=typeof window<"u"&&window.MotionDebug!==void 0,$j=["","X","Y","Z"],wue={visibility:"hidden"},CR=1e3;let jue=0;function Fj(e,t,n,a){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),a&&(a[e]=0))}function oV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=pU(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",fn,!(s||i))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&oV(a)}function lV({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=jue++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Kh&&(nc.totalNodes=nc.resolvedTargetDeltas=nc.recalculatedProjection=0),this.nodes.forEach(Pue),this.nodes.forEach(Tue),this.nodes.forEach(Oue),this.nodes.forEach(Sue),Kh&&window.MotionDebug.record(nc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new cue)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new W2),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oue(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=due(h,250),gy.hasAnimatedSinceResize&&(gy.hasAnimatedSinceResize=!1,this.nodes.forEach(TR))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Iue,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=u.getProps(),v=!this.targetLayout||!iV(this.targetLayout,g)||f,b=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,b);const N={...B2(p,"layout"),onPlay:x,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||TR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Eue),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AR);return}this.isUpdating||this.nodes.forEach(Cue),this.isUpdating=!1,this.nodes.forEach(Aue),this.nodes.forEach(Nue),this.nodes.forEach(kue),this.clearAllSnapshots();const l=mi.now();jr.delta=ao(0,1e3/60,l-jr.timestamp),jr.timestamp=l,jr.isProcessing=!0,Aj.update.process(jr),Aj.preRender.process(jr),Aj.render.process(jr),jr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,T2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_ue),this.sharedNodes.forEach(Rue)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=In(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!sV(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||tc(this.latestValues)||u)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Lue(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return In();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some($ue))){const{scroll:u}=this.root;u&&(Qd(c.x,u.offset.x),Qd(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=In();if(Ka(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:h}=u;u!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&Ka(c,o),Qd(c.x,m.offset.x),Qd(c.y,m.offset.y))}return c}applyTransform(o,l=!1){const c=In();Ka(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Xd(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),tc(u.latestValues)&&Xd(c,u.latestValues)}return tc(this.latestValues)&&Xd(c,this.latestValues),c}removeTransform(o){const l=In();Ka(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!tc(d.latestValues))continue;Rk(d.latestValues)&&d.updateSnapshot();const u=In(),m=d.measurePageBox();Ka(u,m),jR(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return tc(this.latestValues)&&jR(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=jr.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),hf(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ka(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=In(),this.targetWithTransforms=In()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ude(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ka(this.target,this.layout.layoutBox),ZU(this.target,this.targetDelta)):Ka(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),hf(this.relativeTargetOrigin,this.target,f.target),Ka(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Kh&&nc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Rk(this.parent.latestValues)||XU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===jr.timestamp&&(d=!1),d)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;Ka(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Jde(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=In());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vR(this.prevProjectionDelta.x,this.projectionDelta.x),vR(this.prevProjectionDelta.y,this.projectionDelta.y)),mf(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!_R(this.projectionDelta.x,this.prevProjectionDelta.x)||!_R(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Kh&&nc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jd(),this.projectionDelta=Jd(),this.projectionDeltaWithTransform=Jd()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=Jd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=In(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=f!==g,x=this.getStack(),y=!x||x.members.length<=1,v=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(Due));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const w=N/1e3;OR(m.x,o.x,w),OR(m.y,o.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Mue(this.relativeTarget,this.relativeTargetOrigin,h,w),b&&yue(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=In()),Ka(b,this.relativeTarget)),p&&(this.animationValues=u,mue(u,d,this.latestValues,w,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fn.update(()=>{gy.hasAnimatedSinceResize=!0,this.currentAnimation=iue(0,CR,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&cV(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||In();const m=Ua(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const h=Ua(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Ka(l,c),Xd(l,u),mf(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new vue),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Fj("z",o,d,this.animationValues);for(let u=0;u<$j.length;u++)Fj(`rotate${$j[u]}`,o,d,this.animationValues),Fj(`skew${$j[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return wue;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=fy(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=fy(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!tc(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=bue(this.projectionDeltaWithTransform,this.treeScale,h),u&&(d.transform=u(h,d.transform));const{x:f,y:g}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in cv){if(h[p]===void 0)continue;const{correct:x,applyTo:y}=cv[p],v=d.transform==="none"?h[p]:x(h[p],m);if(y){const b=y.length;for(let N=0;N<b;N++)d[y[N]]=v}else d[p]=v}return this.options.layoutId&&(d.pointerEvents=m===this?fy(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(AR),this.root.sharedNodes.clear()}}}function Nue(e){e.updateLayout()}function kue(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Ya(m=>{const h=o?n.measuredBox[m]:n.layoutBox[m],f=Ua(h);h.min=a[m].min,h.max=h.min+f}):cV(i,n.layoutBox,a)&&Ya(m=>{const h=o?n.measuredBox[m]:n.layoutBox[m],f=Ua(a[m]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+f)});const l=Jd();mf(l,a,n.layoutBox);const c=Jd();o?mf(c,e.applyTransform(s,!0),n.measuredBox):mf(c,a,n.layoutBox);const d=!sV(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:f}=m;if(h&&f){const g=In();hf(g,n.layoutBox,h.layoutBox);const p=In();hf(p,a,f.layoutBox),iV(g,p)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function Pue(e){Kh&&nc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Sue(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _ue(e){e.clearSnapshot()}function AR(e){e.clearMeasurements()}function Cue(e){e.isLayoutDirty=!1}function Aue(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function TR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Tue(e){e.resolveTargetDelta()}function Oue(e){e.calcProjection()}function Eue(e){e.resetSkewAndRotation()}function Rue(e){e.removeLeadSnapshot()}function OR(e,t,n){e.translate=jn(t.translate,0,n),e.scale=jn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ER(e,t,n,a){e.min=jn(t.min,n.min,a),e.max=jn(t.max,n.max,a)}function Mue(e,t,n,a){ER(e.x,t.x,n.x,a),ER(e.y,t.y,n.y,a)}function Due(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Iue={duration:.45,ease:[.4,0,.1,1]},RR=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),MR=RR("applewebkit/")&&!RR("chrome/")?Math.round:Da;function DR(e){e.min=MR(e.min),e.max=MR(e.max)}function Lue(e){DR(e.x),DR(e.y)}function cV(e,t,n){return e==="position"||e==="preserve-aspect"&&!Bde(SR(t),SR(n),.2)}function $ue(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Fue=lV({attachResizeListener:(e,t)=>tp(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bj={current:void 0},dV=lV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bj.current){const e=new Fue({});e.mount(window),e.setOptions({layoutScroll:!0}),Bj.current=e}return Bj.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Bue={pan:{Feature:nue},drag:{Feature:tue,ProjectionNode:dV,MeasureLayout:nV}};function IR(e,t,n){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=a[s];i&&fn.postRender(()=>i(t,Cg(t)))}class Uue extends Bl{mount(){const{current:t}=this.node;t&&(this.unmount=Ule(t,n=>(IR(this.node,n,"Start"),a=>IR(this.node,a,"End"))))}unmount(){}}class Vue extends Bl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_g(tp(this.node.current,"focus",()=>this.onFocus()),tp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LR(e,t,n){const{props:a}=e;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=a[s];i&&fn.postRender(()=>i(t,Cg(t)))}class que extends Bl{mount(){const{current:t}=this.node;t&&(this.unmount=Kle(t,n=>(LR(this.node,n,"Start"),(a,{success:s})=>LR(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dk=new WeakMap,Uj=new WeakMap,zue=e=>{const t=Dk.get(e.target);t&&t(e)},Kue=e=>{e.forEach(zue)};function Wue({root:e,...t}){const n=e||document;Uj.has(n)||Uj.set(n,{});const a=Uj.get(n),s=JSON.stringify(t);return a[s]||(a[s]=new IntersectionObserver(Kue,{root:e,...t})),a[s]}function Hue(e,t,n){const a=Wue(t);return Dk.set(e,n),a.observe(e),()=>{Dk.delete(e),a.unobserve(e)}}const Gue={some:0,all:1};class Yue extends Bl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:a,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:Gue[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=d?u:m;h&&h(c)};return Hue(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Jue(t,n))&&this.startObserver()}unmount(){}}function Jue({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Que={inView:{Feature:Yue},tap:{Feature:que},focus:{Feature:Vue},hover:{Feature:Uue}},Xue={layout:{ProjectionNode:dV,MeasureLayout:nV}},Ik={current:null},uV={current:!1};function Zue(){if(uV.current=!0,!!P2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ik.current=e.matches;e.addListener(t),t()}else Ik.current=!1}const eme=[...IU,Tr,_l],tme=e=>eme.find(DU(e)),$R=new WeakMap;function nme(e,t,n){for(const a in t){const s=t[a],i=n[a];if(Ir(s))e.addValue(a,s);else if(Ir(i))e.addValue(a,Zf(s,{owner:e}));else if(i!==s)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(a);e.addValue(a,Zf(o!==void 0?o:s,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const FR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rme{scrapeMotionValuesFromProps(t,n,a){return{}}constructor({parent:t,props:n,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=X2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=mi.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,fn.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=A0(n),this.isVariantNode=z8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];c[f]!==void 0&&Ir(g)&&g.set(c[f],!1)}}mount(t){this.current=t,$R.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),uV.current||Zue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ik.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$R.delete(this.current),this.projection&&this.projection.unmount(),Sl(this.notifyUpdate),Sl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=ud.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&fn.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Qu){const n=Qu[t];if(!n)continue;const{isEnabled:a,Feature:s}=n;if(!this.features[t]&&s&&a(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):In()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<FR.length;a++){const s=FR[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=nme(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const a=this.values.get(t);n!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&n!==void 0&&(a=Zf(n===null?void 0:n,{owner:this}),this.addValue(t,a)),a}readValue(t,n){var a;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(a=this.getBaseTargetFromProps(this.props,t))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(RU(s)||kU(s))?s=parseFloat(s):!tme(s)&&_l.test(n)&&(s=TU(t,n)),this.setBaseTarget(t,Ir(s)?s.get():s)),Ir(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:a}=this.props;let s;if(typeof a=="string"||typeof a=="object"){const o=E2(this.props,a,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(a&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ir(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new W2),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class mV extends rme{constructor(){super(...arguments),this.KeyframeResolver=LU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:a}){delete n[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ir(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ame(e){return window.getComputedStyle(e)}class sme extends mV{constructor(){super(...arguments),this.type="html",this.renderInstance=Z8}readValueFromInstance(t,n){if(ud.has(n)){const a=Q2(n);return a&&a.default||0}else{const a=ame(t),s=(J8(n)?a.getPropertyValue(n):a[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return eV(t,n)}build(t,n,a){D2(t,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,n,a){return F2(t,n,a)}}class ime extends mV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=In}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ud.has(n)){const a=Q2(n);return a&&a.default||0}return n=eU.has(n)?n:A2(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,a){return rU(t,n,a)}build(t,n,a){I2(t,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,a,s){tU(t,n,a,s)}mount(t){this.isSVGTag=$2(t.tagName),super.mount(t)}}const ome=(e,t)=>O2(e)?new ime(t):new sme(t,{allowProjection:e!==j.Fragment}),lme=Mle({...Ode,...Que,...Bue,...Xue},ome),Ae=Yoe(lme),cme="/pics/love_young_brand_identity_20260106043554_1.png",dme="/pics/love_young_founders_story_20260106043351_1.png",ume="60178228658",BR="https://www.facebook.com/loveyoung.birdnest/shop",yr={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.8}}},Sx={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}};function mme(){const{t:e,language:t}=ps(),[n,a]=j.useState(!1),[s,i]=j.useState(!1),[o,l]=j.useState(!1),[c,d]=j.useState(null),{data:u}=Le({queryKey:["site-settings-hero"],queryFn:async()=>{const{data:w,error:k}=await Y.from("site_settings").select("value").eq("id","hero").single();return k?null:w==null?void 0:w.value}}),{data:m=[],isLoading:h}=Le({queryKey:["featured-bundles"],queryFn:async()=>{const{data:w,error:k}=await Y.from("product_bundles").select("*").eq("is_active",!0).eq("is_featured",!0).order("sort_order",{ascending:!0}).limit(4);return k?(console.error("Error fetching bundles:",k),[]):w}}),{data:f}=Le({queryKey:["cny-bundle"],queryFn:async()=>{const{data:w}=await Y.from("product_bundles").select("*").eq("is_active",!0).eq("is_hot",!0).order("sort_order",{ascending:!0}).limit(1).single();if(w)return w;const{data:k}=await Y.from("product_bundles").select("*").eq("is_active",!0).eq("is_featured",!0).order("sort_order",{ascending:!0}).limit(1).single();return k}}),g=()=>{f?(d(f),l(!0)):m.length>0&&(d(m[0]),l(!0))},p=`https://wa.me/${ume}?text=${encodeURIComponent(e("landing.whatsappMessage"))}`,x=(w,k,P)=>t==="en"?k||w||"":t==="ms"?P||k||w||"":w||"",y=u?x(u.title,u.title_en,u.title_ms):e("landing.heroTitle"),v=u?x(u.subtitle,u.subtitle_en,u.subtitle_ms):e("landing.heroDesc");u?x(u.button_text,u.button_text_en,u.button_text_ms):e("landing.heroOrderBtn");const b=(u==null?void 0:u.background_image)||cme,N=w=>{d(w),l(!0)};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(bg,{whatsappLink:p,metaShopLink:BR}),r.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-900 via-emerald-950 to-emerald-900"}),r.jsx("div",{className:"absolute inset-0 opacity-20",children:r.jsx("img",{src:b,alt:"Background",className:"w-full h-full object-cover grayscale"})}),r.jsxs("div",{className:"relative z-10 container mx-auto px-6 text-center text-white pt-20",children:[r.jsx(Ae.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},className:"text-amber-400 font-serif italic text-2xl lg:text-3xl mb-4","data-testid":"text-hero-subtitle",children:e("landing.heroTagline")}),r.jsxs(Ae.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-serif font-bold mb-6 leading-tight","data-testid":"text-hero-title",children:[r.jsx("span",{className:"block",children:y}),r.jsx("span",{className:"block bg-gradient-to-r from-amber-300 via-amber-100 to-amber-300 bg-clip-text text-transparent",children:e("landing.heroTitleSub")})]}),r.jsxs(Ae.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},className:"max-w-3xl mx-auto text-base sm:text-lg lg:text-xl font-light mb-10 opacity-90 px-4","data-testid":"text-hero-description",children:[r.jsx("span",{className:"block",children:v}),r.jsx("span",{className:"block mt-1",children:e("landing.heroDescSub")})]}),r.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.8},className:"flex flex-col sm:flex-row justify-center items-center gap-4 px-4",children:[r.jsx(M,{size:"lg",className:"bg-secondary hover:bg-secondary/90 text-secondary-foreground font-semibold rounded-full px-8 sm:px-10 py-3 text-base sm:text-lg shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300 whitespace-nowrap",onClick:g,"data-testid":"button-hero-order",children:e("landing.cnyGiftBox")}),r.jsx(En,{href:"/partner",children:r.jsx(M,{variant:"outline",size:"lg",className:"border-white/70 text-white rounded-full px-6 sm:px-8 lg:px-10 text-base sm:text-lg bg-transparent whitespace-nowrap","data-testid":"button-hero-partner",children:e("landing.heroPartnerBtn")})})]})]}),r.jsx(Ae.div,{animate:{y:[0,10,0]},transition:{repeat:1/0,duration:2},className:"absolute bottom-10 left-1/2 -translate-x-1/2 opacity-50",children:r.jsx(n0,{className:"w-8 h-8 text-white"})})]}),r.jsx("section",{id:"brand",className:"py-24 bg-background",children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-16",children:[r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:yr,className:"lg:w-1/2 relative",children:[r.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-amber-400/10 rounded-full blur-3xl"}),r.jsx("img",{src:dme,alt:"Brand Philosophy",className:"rounded-2xl shadow-2xl border-4 border-amber-400/20 max-h-[500px] object-cover","data-testid":"img-brand-philosophy"}),r.jsx("div",{className:"absolute -bottom-6 -right-6 bg-emerald-900 text-white p-6 rounded-xl shadow-xl max-w-xs",children:r.jsxs("p",{className:"italic font-serif text-lg",children:['"',e("landing.brandQuote"),'"']})})]}),r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Sx,className:"lg:w-1/2",children:[r.jsxs(Ae.h2,{variants:yr,className:"text-3xl lg:text-5xl font-serif font-bold mb-8","data-testid":"text-brand-title",children:[e("landing.brandTitle"),r.jsx("br",{}),r.jsx("span",{className:"text-amber-500",children:e("landing.brandTitleSub")})]}),r.jsxs(Ae.div,{variants:yr,className:"space-y-6 text-muted-foreground leading-relaxed",children:[r.jsx("p",{children:e("landing.brandP1")}),r.jsx("p",{className:"font-semibold text-foreground",children:e("landing.brandP2")}),r.jsx("p",{children:e("landing.brandP3")})]}),r.jsxs(Ae.div,{variants:yr,className:"mt-10 grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-amber-400/20 rounded-lg text-amber-500",children:r.jsx(a0,{className:"w-5 h-5"})}),r.jsx("span",{className:"font-bold",children:e("landing.brandSelfHealing")})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-amber-400/20 rounded-lg text-amber-500",children:r.jsx(Yy,{className:"w-5 h-5"})}),r.jsx("span",{className:"font-bold",children:e("landing.brandAwakening")})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-amber-400/20 rounded-lg text-amber-500",children:r.jsx(i0,{className:"w-5 h-5"})}),r.jsx("span",{className:"font-bold",children:e("landing.brandQuality")})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-amber-400/20 rounded-lg text-amber-500",children:r.jsx(Mt,{className:"w-5 h-5"})}),r.jsx("span",{className:"font-bold",children:e("landing.brandCommunity")})]})]})]})]})})}),r.jsx("section",{id:"products",className:"py-24 bg-emerald-900 text-white",children:r.jsxs("div",{className:"container mx-auto px-6",children:[r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:yr,className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl lg:text-5xl font-serif font-bold mb-4","data-testid":"text-products-title",children:e("landing.productsTitle")}),r.jsx("div",{className:"w-24 h-1 bg-amber-400 mx-auto mb-6"}),r.jsx("p",{className:"text-amber-400/80 max-w-2xl mx-auto",children:e("landing.productsSubtitle")})]}),h?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-amber-400"})}):m.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Yt,{className:"w-16 h-16 mx-auto text-amber-400/50 mb-4"}),r.jsx("p",{className:"text-amber-400/60",children:e("landing.noProducts")})]}):r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Sx,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:m.map(w=>{const k=x(w.name,w.name_en,w.name_ms),P=x(w.target_audience,w.target_audience_en,w.target_audience_ms),_=x(w.keywords,w.keywords_en,w.keywords_ms);return r.jsx(Ae.div,{variants:yr,children:r.jsxs(V,{className:"bg-white/5 border border-white/10 hover:border-amber-400/50 transition-all duration-500 group overflow-hidden h-full flex flex-col",children:[r.jsxs("div",{className:"relative h-48 sm:h-56 overflow-hidden bg-emerald-800/50",children:[w.image?r.jsx("img",{src:w.image,alt:k,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(Yt,{className:"w-16 h-16 text-amber-400/30"})}),r.jsxs("div",{className:"absolute top-3 right-3 flex gap-1.5",children:[w.is_hot&&r.jsxs(te,{className:"bg-red-500 text-white text-[10px]",children:[r.jsx(r0,{className:"w-3 h-3 mr-0.5"}),"HOT"]}),w.is_new&&r.jsxs(te,{className:"bg-green-500 text-white text-[10px]",children:[r.jsx(xl,{className:"w-3 h-3 mr-0.5"}),"NEW"]})]})]}),r.jsxs("div",{className:"p-4 sm:p-5 flex-1 flex flex-col",children:[r.jsx("h3",{className:"font-serif text-lg sm:text-xl text-amber-400 mb-1",children:k}),r.jsx("p",{className:"text-[10px] sm:text-xs text-white/50 mb-1",children:P}),r.jsx("p",{className:"text-[10px] sm:text-xs text-amber-400/70 mb-3",children:_}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[w.items.slice(0,3).map((T,I)=>r.jsxs(te,{variant:"outline",className:"text-[9px] border-white/20 text-white/70 px-1.5 py-0",children:[T.flavor," ",T.quantity]},I)),w.items.length>3&&r.jsxs(te,{variant:"outline",className:"text-[9px] border-white/20 text-white/70 px-1.5 py-0",children:["+",w.items.length-3]})]}),r.jsxs("div",{className:"mt-auto flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"text-xl sm:text-2xl font-bold",children:["RM ",(w.price/100).toFixed(0)]}),w.original_price&&w.original_price>w.price&&r.jsxs("span",{className:"text-xs text-white/40 line-through ml-2",children:["RM ",(w.original_price/100).toFixed(0)]})]}),r.jsx(M,{size:"sm",className:"bg-secondary text-secondary-foreground rounded-full px-4 text-xs sm:text-sm",onClick:()=>N(w),children:e("landing.bookNow")})]})]})]})},w.id)})}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:yr,className:"text-center mt-10",children:r.jsx(En,{href:"/products",children:r.jsxs(M,{variant:"outline",size:"lg",className:"border-amber-400/50 text-amber-400 rounded-full px-8 hover:bg-amber-400/10",children:[e("landing.viewAllBundles"),r.jsx(ri,{className:"w-4 h-4 ml-2"})]})})})]})}),r.jsx("section",{id:"rwa",className:"py-24 bg-background",children:r.jsxs("div",{className:"container mx-auto px-6",children:[r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:yr,className:"text-center mb-20",children:[r.jsx("h2",{className:"text-3xl lg:text-5xl font-serif font-bold mb-4","data-testid":"text-rwa-title",children:e("landing.partnerSectionTitle")}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("landing.partnerSectionSubtitle")})]}),r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Sx,className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-20",children:[r.jsx(Ae.div,{variants:yr,className:"lg:scale-105 z-10",children:r.jsxs(V,{className:"p-8 text-center bg-gradient-to-br from-emerald-900 to-emerald-950 text-white shadow-2xl relative",children:[r.jsxs(te,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-amber-500 text-white animate-pulse",children:[e("landing.hotSelling"),"  ",e("landing.only50Slots")]}),r.jsx("div",{className:"w-16 h-16 bg-amber-400 text-emerald-900 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(la,{className:"w-8 h-8"})}),r.jsx("h3",{className:"text-xl font-bold mb-4",children:e("landing.phase1Title")}),r.jsx("p",{className:"text-sm opacity-80 mb-6",children:e("landing.phase1Desc")}),r.jsxs("ul",{className:"text-left text-sm space-y-3 mb-8",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-amber-400"}),e("landing.phase1Feature1")]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-amber-400"}),e("landing.phase1Feature2")]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-amber-400"}),e("landing.phase1Feature3")]})]}),r.jsx(En,{href:"/partner",children:r.jsx(M,{className:"w-full bg-secondary text-secondary-foreground rounded-full border-none","data-testid":"button-phase1-join",children:e("landing.limitedApply")})})]})}),r.jsx(Ae.div,{variants:yr,children:r.jsxs(V,{className:"p-8 text-center bg-muted/50 backdrop-blur border border-muted-foreground/20 opacity-60 relative",children:[r.jsx(te,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-muted-foreground/50 text-muted-foreground",children:e("landing.comingSoon")}),r.jsx("div",{className:"w-16 h-16 bg-muted text-muted-foreground rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Mn,{className:"w-8 h-8"})}),r.jsx("h3",{className:"text-xl font-bold mb-4 text-muted-foreground",children:e("landing.phase2Title")}),r.jsx("p",{className:"text-sm text-muted-foreground/70 mb-6",children:e("landing.phase2Desc")}),r.jsxs("ul",{className:"text-left text-sm space-y-3 mb-8 text-muted-foreground/70",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-muted-foreground/50"}),e("landing.phase2Feature1")]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-muted-foreground/50"}),e("landing.phase2Feature2")]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-muted-foreground/50"}),e("landing.phase2Feature3")]})]}),r.jsx(M,{className:"w-full rounded-full",variant:"secondary",disabled:!0,children:e("landing.waitingToOpen")})]})}),r.jsx(Ae.div,{variants:yr,children:r.jsxs(V,{className:"p-8 text-center bg-muted/50 backdrop-blur border border-muted-foreground/20 opacity-60 relative",children:[r.jsx(te,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-muted-foreground/50 text-muted-foreground",children:e("landing.comingSoon")}),r.jsx("div",{className:"w-16 h-16 bg-muted text-muted-foreground rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(ll,{className:"w-8 h-8"})}),r.jsx("h3",{className:"text-xl font-bold mb-4 text-muted-foreground",children:e("landing.phase3Title")}),r.jsx("p",{className:"text-sm text-muted-foreground/70 mb-6",children:e("landing.phase3Desc")}),r.jsxs("ul",{className:"text-left text-sm space-y-3 mb-8 text-muted-foreground/70",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-muted-foreground/50"}),e("landing.phase3Feature1")]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-muted-foreground/50"}),e("landing.phase3Feature2")]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-muted-foreground/50"}),e("landing.phase3Feature3")]})]}),r.jsx(M,{className:"w-full rounded-full",variant:"secondary",disabled:!0,children:e("landing.waitingToOpen")})]})})]}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:yr,className:"bg-card rounded-3xl p-10 shadow-xl border border-amber-400/10",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl lg:text-3xl font-serif font-bold mb-6",children:e("landing.revenueLogicTitle")}),r.jsx("p",{className:"text-muted-foreground mb-8",children:e("landing.revenueLogicDesc")}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-4 bg-background rounded-xl",children:[r.jsx("span",{className:"font-bold",children:e("landing.salesCashback")}),r.jsx("span",{className:"text-amber-500 font-bold",children:"50% / 30%"})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-background rounded-xl",children:[r.jsx("span",{className:"font-bold",children:e("landing.globalPool")}),r.jsx("span",{className:"text-amber-500 font-bold",children:e("landing.salesPercentage")})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-background rounded-xl",children:[r.jsx("span",{className:"font-bold",children:e("landing.dividendCycle")}),r.jsx("span",{className:"text-amber-500 font-bold",children:e("landing.every10Days")})]})]})]}),r.jsxs("div",{className:"bg-emerald-900 rounded-2xl p-8 text-white",children:[r.jsxs("h4",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[r.jsx(hc,{className:"text-amber-400"}),e("landing.lyNetworkTitle")]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-3 border border-white/10 rounded-lg",children:[r.jsx("div",{className:"text-xs opacity-50 uppercase",children:e("landing.tier1Direct")}),r.jsx("div",{className:"text-xl font-bold text-amber-400",children:"20%"})]}),r.jsxs("div",{className:"p-3 border border-white/10 rounded-lg",children:[r.jsx("div",{className:"text-xs opacity-50 uppercase",children:e("landing.tier2")}),r.jsx("div",{className:"text-xl font-bold text-amber-400",children:"15%"})]}),r.jsxs("div",{className:"p-3 border border-white/10 rounded-lg",children:[r.jsx("div",{className:"text-xs opacity-50 uppercase",children:e("landing.tier3to5")}),r.jsx("div",{className:"text-xl font-bold text-amber-400",children:"10% ea"})]}),r.jsxs("div",{className:"p-3 border border-white/10 rounded-lg",children:[r.jsx("div",{className:"text-xs opacity-50 uppercase",children:e("landing.tier6to10")}),r.jsx("div",{className:"text-xl font-bold text-amber-400",children:"5% ea"})]})]}),r.jsxs("div",{className:"mt-4 p-3 border border-amber-400/30 rounded-lg bg-amber-400/10 text-center",children:[r.jsx("div",{className:"text-xs opacity-70 uppercase",children:e("landing.totalReferral")}),r.jsx("div",{className:"text-2xl font-bold text-amber-400",children:"100% LY"})]}),r.jsx("p",{className:"mt-4 text-xs italic opacity-60",children:e("landing.lyNetworkNote")})]})]})})]})}),r.jsx("section",{id:"dashboard",className:"py-24 bg-emerald-950",children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:yr,className:"lg:w-1/3 text-white",children:[r.jsx("h2",{className:"text-3xl lg:text-4xl font-serif font-bold mb-6",children:e("landing.dashboardTitle")}),r.jsx("p",{className:"opacity-70 mb-10",children:e("landing.dashboardDesc")}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-amber-400/20 rounded-xl flex items-center justify-center text-amber-400",children:r.jsx(Jo,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold",children:e("landing.dividendCycle")}),r.jsx("p",{className:"text-sm opacity-50",children:e("landing.every10Days")})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-amber-400/20 rounded-xl flex items-center justify-center text-amber-400",children:r.jsx(Yy,{className:"w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold",children:e("landing.lyEnergy")}),r.jsx("p",{className:"text-sm opacity-50",children:e("landing.lyNetworkNote")})]})]})]}),r.jsx(En,{href:"/partner",children:r.jsxs(M,{size:"lg",className:"mt-10 bg-secondary text-secondary-foreground rounded-full gap-2",children:[e("landing.dashboardCta"),r.jsx(ri,{className:"w-4 h-4"})]})})]}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:yr,className:"lg:w-2/3",children:r.jsxs(V,{className:"bg-white rounded-3xl p-8 shadow-2xl overflow-hidden border-t-8 border-amber-400",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-emerald-900 text-white rounded-full flex items-center justify-center font-bold",children:"LY"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-emerald-900",children:e("landing.dashboardBrandName")}),r.jsx("p",{className:"text-xs text-gray-500",children:e("landing.dashboardSubtitle")})]})]}),r.jsx(te,{className:"bg-emerald-100 text-emerald-800",children:"Phase 1"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-3 sm:p-4 rounded-xl",children:[r.jsx("p",{className:"text-xs text-emerald-600 uppercase",children:e("landing.lyEnergy")}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-emerald-900",children:"2,000"}),r.jsx("p",{className:"text-xs text-emerald-500",children:e("landing.phase1Bonus")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-3 sm:p-4 rounded-xl",children:[r.jsx("p",{className:"text-xs text-amber-600 uppercase",children:e("landing.totalEarnings")}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-amber-700",children:"RM 0"}),r.jsx("p",{className:"text-xs text-amber-500",children:e("landing.startEarning")})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-3 sm:p-4 rounded-xl",children:[r.jsx("p",{className:"text-xs text-purple-600 uppercase",children:"RWA"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-purple-700",children:"1"}),r.jsx("p",{className:"text-xs text-purple-500",children:e("landing.perCycle")})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("span",{className:"font-bold text-gray-700",children:e("landing.currentPoolCycle")}),r.jsx("span",{className:"text-xs text-gray-500",children:e("landing.daysRemaining").replace("{days}","6")})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-amber-500 h-3 rounded-full",style:{width:"40%"}})}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[r.jsxs("span",{children:[e("landing.accumulated"),": RM 12,580"]}),r.jsxs("span",{children:[e("landing.estimatedDividend"),": RM 380"]})]})]})]})})]})})}),r.jsx("section",{className:"py-24 bg-gradient-to-br from-emerald-900 via-emerald-950 to-emerald-900 text-white",children:r.jsx("div",{className:"container mx-auto px-6 text-center",children:r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Sx,children:[r.jsx(Ae.h2,{variants:yr,className:"text-3xl lg:text-5xl font-serif font-bold mb-6",children:e("landing.ctaTitle")}),r.jsx(Ae.p,{variants:yr,className:"text-lg opacity-80 max-w-2xl mx-auto mb-10",children:e("landing.ctaDesc")}),r.jsxs(Ae.div,{variants:yr,className:"flex flex-col sm:flex-row justify-center items-center gap-4 px-4",children:[r.jsxs(M,{size:"lg",className:"bg-secondary text-secondary-foreground rounded-full px-6 sm:px-8 gap-2 whitespace-nowrap",onClick:()=>{const w=document.getElementById("products");w&&w.scrollIntoView({behavior:"smooth"})},"data-testid":"button-cta-order",children:[r.jsx(Rn,{className:"w-5 h-5"}),e("landing.orderNow")]}),r.jsxs(M,{variant:"outline",size:"lg",className:"border-white/70 text-white rounded-full px-6 sm:px-8 gap-2 bg-transparent whitespace-nowrap",onClick:()=>window.open(p,"_blank"),"data-testid":"button-cta-whatsapp",children:[r.jsx(Ba,{className:"w-5 h-5"}),e("header.whatsapp")]})]})]})})}),r.jsx(wg,{whatsappLink:p,metaShopLink:BR}),r.jsx(Aie,{whatsappLink:p}),r.jsx(Die,{open:n,onOpenChange:a}),r.jsx(Doe,{open:s,onOpenChange:i}),c&&r.jsx($oe,{open:o,onOpenChange:l,bundle:c})]})}const hme="60178228658",UR="https://www.facebook.com/loveyoung.birdnest/shop",Bn={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6}}};function fme(){const{t:e}=ps(),t=`https://wa.me/${hme}?text=${encodeURIComponent(e("brand.whatsappMessage"))}`,n=[{name:"Vivian",subtitle:e("brand.founders.vivian.subtitle"),motto:e("brand.founders.vivian.motto"),image:"/pics/founder_1.webp",story:e("brand.founders.vivian.story"),insight:e("brand.founders.vivian.insight"),belief:e("brand.founders.vivian.belief"),focus:e("brand.founders.vivian.focus")},{name:"Agnes",subtitle:e("brand.founders.agnes.subtitle"),motto:e("brand.founders.agnes.motto"),image:"/pics/founder_2.webp",story:e("brand.founders.agnes.story"),insight:e("brand.founders.agnes.insight"),belief:e("brand.founders.agnes.belief"),focus:e("brand.founders.agnes.focus")},{name:"Andrey",subtitle:e("brand.founders.andrey.subtitle"),motto:e("brand.founders.andrey.motto"),image:"/pics/founder_3.webp",story:e("brand.founders.andrey.story"),insight:e("brand.founders.andrey.insight"),belief:e("brand.founders.andrey.belief"),focus:e("brand.founders.andrey.focus")}],a=[{icon:a0,title:e("brand.values.love.title"),description:e("brand.values.love.description")},{icon:oF,title:e("brand.values.natural.title"),description:e("brand.values.natural.description")},{icon:oa,title:e("brand.values.quality.title"),description:e("brand.values.quality.description")},{icon:ll,title:e("brand.values.global.title"),description:e("brand.values.global.description")}],s=[{year:"2020",event:e("brand.milestones.2020"),type:"past"},{year:"2022",event:e("brand.milestones.2022"),type:"past"},{year:"2024",event:e("brand.milestones.2024"),type:"past"},{year:"2025",event:e("brand.milestones.2025"),type:"present"},{year:"2026",event:e("brand.milestones.2026"),type:"present"},{year:"2027",event:e("brand.milestones.2027"),type:"future"},{year:"2028",event:e("brand.milestones.2028"),type:"future"},{year:"2030",event:e("brand.milestones.2030"),type:"future"}];return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(bg,{whatsappLink:t,metaShopLink:UR}),r.jsxs("section",{className:"pt-32 pb-20 relative overflow-hidden","data-testid":"section-brand-hero",children:[r.jsxs("div",{className:"absolute inset-0 -z-10",children:[r.jsx("img",{src:"/pics/love_young_brand_identity_20260106043554_1.png",alt:"Brand Identity",className:"w-full h-full object-cover opacity-20"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-background/80 to-background"})]}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-3xl",children:r.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsx(te,{className:"bg-secondary/20 text-secondary mb-4",children:"Since 2020"}),r.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-serif text-primary mb-6","data-testid":"text-brand-title",children:[e("brand.hero.title"),r.jsx("br",{}),r.jsx("span",{className:"text-secondary",children:e("brand.hero.titleSub")})]}),r.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 leading-relaxed",children:e("brand.hero.description")})]})})})]}),r.jsx("section",{className:"py-20 bg-card","data-testid":"section-founders",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx(te,{className:"bg-secondary/20 text-secondary mb-4",children:e("brand.foundersSection.badge")}),r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-founders-title",children:e("brand.foundersSection.title")}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("brand.foundersSection.subtitle")})]}),r.jsx("div",{className:"space-y-16",children:n.map((i,o)=>r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,children:r.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center ${o%2===1?"lg:flex-row-reverse":""}`,children:[r.jsx("div",{className:`${o%2===1?"lg:order-2":""}`,children:r.jsx("div",{className:"aspect-square max-w-md mx-auto overflow-hidden rounded-2xl shadow-xl bg-muted",children:r.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover","data-testid":`img-founder-${o}`})})}),r.jsxs("div",{className:`space-y-6 ${o%2===1?"lg:order-1":""}`,"data-testid":`card-founder-${o}`,children:[r.jsxs("div",{children:[r.jsx(te,{className:"bg-primary/10 text-primary mb-3",children:i.focus}),r.jsx("h3",{className:"text-2xl md:text-3xl font-serif text-primary mb-2",children:i.name}),r.jsx("p",{className:"text-lg text-secondary font-medium",children:i.subtitle})]}),r.jsx("blockquote",{className:"border-l-4 border-secondary pl-4 py-2",children:r.jsx("p",{className:"text-muted-foreground italic",children:i.motto})}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.story}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.insight}),r.jsx("div",{className:"bg-primary/5 rounded-xl p-4 border border-primary/10",children:r.jsxs("p",{className:"text-primary font-medium text-center",children:['"',i.belief,'"']})})]})]})},o))}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,className:"mt-20 text-center",children:r.jsx(V,{className:"max-w-3xl mx-auto bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:r.jsxs(J,{className:"p-8",children:[r.jsx("h3",{className:"text-xl md:text-2xl font-serif text-primary mb-4",children:e("brand.foundersSection.summaryTitle")}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-6",children:n.map((i,o)=>r.jsxs("div",{className:"text-center py-2 sm:py-0",children:[r.jsx("p",{className:"text-secondary font-medium text-lg sm:text-base",children:i.name}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.focus})]},o))}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.foundersSection.summaryText")})]})})})]})}),r.jsx("section",{className:"py-20","data-testid":"section-brand-story-visual",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,children:r.jsx("img",{src:"/pics/love_young_founders_story_20260106043351_1.png",alt:e("brand.origin.title"),className:"rounded-2xl shadow-xl w-full","data-testid":"img-founders-story"})}),r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,className:"space-y-6",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary","data-testid":"text-origin-title",children:e("brand.origin.title")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.origin.p1")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.origin.p2")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.origin.p3")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed font-medium text-foreground",children:e("brand.origin.p4")})]})]})})}),r.jsx("section",{className:"py-20 bg-muted/30","data-testid":"section-production",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,className:"space-y-6 order-2 lg:order-1",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary","data-testid":"text-production-title",children:e("brand.production.title")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.production.p1")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.production.p2")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.production.p3")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[r.jsxs(V,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-secondary",children:"100%"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("brand.production.stat1")})]}),r.jsxs(V,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-secondary",children:"0"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("brand.production.stat2")})]})]})]}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,className:"order-1 lg:order-2",children:r.jsx("img",{src:"/pics/craftsmanship_journey.webp",alt:e("brand.production.title"),className:"rounded-2xl shadow-xl w-full","data-testid":"img-production"})})]})})}),r.jsx("section",{className:"py-20","data-testid":"section-brand-values",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-values-title",children:e("brand.brandValues")}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("brand.valuesSection.subtitle")})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((i,o)=>r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,transition:{delay:o*.1},children:r.jsx(V,{className:"h-full text-center p-6","data-testid":`card-value-${o}`,children:r.jsxs(J,{className:"p-0 space-y-4",children:[r.jsx("div",{className:"w-14 h-14 rounded-2xl bg-secondary/10 flex items-center justify-center mx-auto",children:r.jsx(i.icon,{className:"w-7 h-7 text-secondary"})}),r.jsx("h3",{className:"text-xl font-bold text-foreground",children:i.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})})},o))})]})}),r.jsx("section",{className:"py-20 bg-card","data-testid":"section-lifestyle",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4",children:e("brand.lifestyle.title")}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("brand.lifestyle.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,children:r.jsxs(V,{className:"overflow-hidden h-full",children:[r.jsx("div",{className:"aspect-[4/3] bg-muted flex items-center justify-center",children:r.jsx("img",{src:"/pics/love_young_wellness_lifestyle_20260106043539_1.png",alt:e("brand.lifestyle.wellness.title"),className:"w-full h-full object-contain"})}),r.jsxs(J,{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-foreground mb-2",children:e("brand.lifestyle.wellness.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("brand.lifestyle.wellness.description")})]})]})}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,transition:{delay:.1},children:r.jsxs(V,{className:"overflow-hidden h-full",children:[r.jsx("div",{className:"aspect-[4/3] bg-muted flex items-center justify-center",children:r.jsx("img",{src:"/pics/love_young_community_building_20260106043405_1.png",alt:e("brand.lifestyle.community.title"),className:"w-full h-full object-contain"})}),r.jsxs(J,{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-foreground mb-2",children:e("brand.lifestyle.community.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("brand.lifestyle.community.description")})]})]})}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,transition:{delay:.2},children:r.jsxs(V,{className:"overflow-hidden h-full",children:[r.jsx("div",{className:"aspect-[4/3] bg-muted flex items-center justify-center",children:r.jsx("img",{src:"/pics/love_young_event_experience_20260106043435_1.png",alt:e("brand.lifestyle.events.title"),className:"w-full h-full object-contain"})}),r.jsxs(J,{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-foreground mb-2",children:e("brand.lifestyle.events.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("brand.lifestyle.events.description")})]})]})})]})]})}),r.jsx("section",{className:"py-20 bg-primary text-primary-foreground","data-testid":"section-brand-philosophy",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,className:"space-y-6",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif","data-testid":"text-philosophy-title",children:e("brand.philosophy.title")}),r.jsx("p",{className:"opacity-80 leading-relaxed",children:e("brand.philosophy.p1")}),r.jsx("p",{className:"opacity-80 leading-relaxed",children:e("brand.philosophy.p2")}),r.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-secondary",children:"50,000+"}),r.jsx("p",{className:"text-sm opacity-70",children:e("brand.philosophy.stat1")})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-secondary",children:"5"}),r.jsx("p",{className:"text-sm opacity-70",children:e("brand.philosophy.stat2")})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-secondary",children:"100%"}),r.jsx("p",{className:"text-sm opacity-70",children:e("brand.philosophy.stat3")})]})]})]}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,children:r.jsx("img",{src:"/pics/love_young_wellness_journey_20260106043338_1.png",alt:e("brand.philosophy.title"),className:"rounded-2xl shadow-xl w-full","data-testid":"img-philosophy"})})]})})}),r.jsx("section",{className:"py-20","data-testid":"section-milestones",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-milestones-title",children:e("brand.milestonesSection.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("brand.milestonesSection.subtitle")})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-border -translate-x-1/2 hidden md:block"}),r.jsx("div",{className:"space-y-8",children:s.map((i,o)=>r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,className:`flex flex-col md:flex-row items-center gap-4 md:gap-8 ${o%2===0?"md:flex-row-reverse":""}`,"data-testid":`milestone-${o}`,children:[r.jsx("div",{className:`flex-1 ${o%2===0?"md:text-left":"md:text-right"}`,children:r.jsx(V,{className:`inline-block p-4 ${i.type==="future"?"border-dashed border-secondary/50 bg-secondary/5":""}`,children:r.jsxs(J,{className:"p-0 flex items-start gap-3",children:[i.type==="future"&&r.jsx(BZ,{className:"w-5 h-5 text-secondary flex-shrink-0 mt-0.5"}),i.type==="present"&&r.jsx(xl,{className:"w-5 h-5 text-secondary flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[i.type==="future"&&r.jsx(te,{variant:"outline",className:"text-xs mb-2 text-secondary border-secondary/50",children:e("brand.milestonesSection.futurePlan")}),i.type==="present"&&r.jsx(te,{className:"text-xs mb-2 bg-secondary text-secondary-foreground",children:e("brand.milestonesSection.inProgress")}),r.jsx("p",{className:"text-muted-foreground",children:i.event})]})]})})}),r.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center font-bold text-lg z-10 ${i.type==="future"?"bg-secondary/20 text-secondary border-2 border-dashed border-secondary":i.type==="present"?"bg-secondary text-secondary-foreground ring-4 ring-secondary/30":"bg-primary text-primary-foreground"}`,children:i.year}),r.jsx("div",{className:"flex-1 hidden md:block"})]},o))})]})]})}),r.jsx("section",{className:"py-20 bg-card","data-testid":"section-partner-stories",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,className:"grid grid-cols-3 gap-4",children:[r.jsx("div",{className:"rounded-xl shadow-lg overflow-hidden bg-muted",children:r.jsx("img",{src:"/pics/partner_story_1.webp",alt:e("brand.partnerStories.alt1"),className:"w-full h-auto object-contain","data-testid":"img-partner-stories-1"})}),r.jsx("div",{className:"rounded-xl shadow-lg overflow-hidden bg-muted mt-6",children:r.jsx("img",{src:"/pics/partner_story_2.webp",alt:e("brand.partnerStories.alt2"),className:"w-full h-auto object-contain"})}),r.jsx("div",{className:"rounded-xl shadow-lg overflow-hidden bg-muted",children:r.jsx("img",{src:"/pics/partner_story_3.webp",alt:e("brand.partnerStories.alt3"),className:"w-full h-auto object-contain"})})]}),r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,className:"space-y-6",children:[r.jsx(te,{className:"bg-secondary/20 text-secondary",children:"Coming Soon"}),r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary","data-testid":"text-partner-stories-title",children:e("brand.partnerStories.title")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.partnerStories.p1")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.partnerStories.p2")}),r.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[r.jsx(En,{href:"/partner",children:r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground","data-testid":"button-become-partner",children:[r.jsx(Mt,{className:"w-4 h-4"}),e("brand.partnerStories.becomePartner")]})}),r.jsxs(M,{variant:"outline",className:"gap-2",onClick:()=>window.open(t,"_blank"),"data-testid":"button-contact-brand",children:[e("brand.partnerStories.learnMore"),r.jsx(ri,{className:"w-4 h-4"})]})]})]})]})})}),r.jsx("section",{className:"py-20","data-testid":"section-future-vision",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,className:"space-y-6",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary","data-testid":"text-future-title",children:e("brand.futureVision.title")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.futureVision.p1")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.futureVision.p2")}),r.jsxs("div",{className:"space-y-3 pt-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary/20 flex items-center justify-center",children:r.jsx(Pa,{className:"w-4 h-4 text-secondary"})}),r.jsx("span",{className:"text-muted-foreground",children:e("brand.futureVision.goal1")})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary/20 flex items-center justify-center",children:r.jsx(Pa,{className:"w-4 h-4 text-secondary"})}),r.jsx("span",{className:"text-muted-foreground",children:e("brand.futureVision.goal2")})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary/20 flex items-center justify-center",children:r.jsx(Pa,{className:"w-4 h-4 text-secondary"})}),r.jsx("span",{className:"text-muted-foreground",children:e("brand.futureVision.goal3")})]})]})]}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,children:r.jsx("img",{src:"/pics/love_young_future_vision_20260106043643_1.png",alt:e("brand.futureVision.title"),className:"rounded-2xl shadow-xl w-full","data-testid":"img-future-vision"})})]})})}),r.jsx("section",{className:"py-20 bg-muted/30","data-testid":"section-community-wellness",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-community-title",children:e("brand.communityWellness.title")}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("brand.communityWellness.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,children:r.jsxs(V,{className:"overflow-hidden h-full",children:[r.jsx("img",{src:"/pics/love_young_community_impact_20260106043528_1.png",alt:e("brand.communityWellness.impact.title"),className:"w-full h-64 object-cover","data-testid":"img-community-impact"}),r.jsxs(J,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:e("brand.communityWellness.impact.title")}),r.jsx("p",{className:"text-muted-foreground text-sm",children:e("brand.communityWellness.impact.description")})]})]})}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,children:r.jsxs(V,{className:"overflow-hidden h-full",children:[r.jsx("img",{src:"/pics/love_young_wellness_lifestyle_20260106043539_1.png",alt:e("brand.communityWellness.wellnessLife.title"),className:"w-full h-64 object-cover","data-testid":"img-wellness-lifestyle"}),r.jsxs(J,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:e("brand.communityWellness.wellnessLife.title")}),r.jsx("p",{className:"text-muted-foreground text-sm",children:e("brand.communityWellness.wellnessLife.description")})]})]})}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Bn,children:r.jsxs(V,{className:"overflow-hidden h-full",children:[r.jsx("img",{src:"/pics/love_young_event_experience_20260106043435_1.png",alt:e("brand.communityWellness.brandEvents.title"),className:"w-full h-64 object-cover","data-testid":"img-event-experience"}),r.jsxs(J,{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:e("brand.communityWellness.brandEvents.title")}),r.jsx("p",{className:"text-muted-foreground text-sm",children:e("brand.communityWellness.brandEvents.description")})]})]})})]})]})}),r.jsx("section",{className:"py-20","data-testid":"section-brand-cta",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-6 lg:px-8 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-6","data-testid":"text-cta-title",children:e("brand.cta.title")}),r.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:e("brand.cta.description")}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[r.jsx(En,{href:"/products",children:r.jsxs(M,{size:"lg",className:"bg-secondary text-secondary-foreground gap-2","data-testid":"button-view-products",children:[e("brand.cta.viewProducts"),r.jsx(ri,{className:"w-5 h-5"})]})}),r.jsx(M,{variant:"outline",size:"lg",onClick:()=>window.open(t,"_blank"),"data-testid":"button-brand-whatsapp",children:e("brand.cta.whatsapp")})]})]})}),r.jsx(wg,{whatsappLink:t,metaShopLink:UR})]})}const pme=["johor","kedah","kelantan","melaka","negeriSembilan","pahang","penang","perak","perlis","sabah","sarawak","selangor","terengganu","kualaLumpur","labuan","putrajaya"];function gme({open:e,onOpenChange:t,product:n}){const{t:a,language:s}=ps(),{user:i,isAuthenticated:o}=j0(),[l,c]=j.useState("delivery"),[d,u]=j.useState(""),[m,h]=j.useState(""),[f,g]=j.useState(!1),[p,x]=j.useState(null),[y,v]=j.useState(!1),[b,N]=j.useState(null),[w,k]=j.useState(!1),[P,_]=j.useState(""),[T,I]=j.useState(null),[A,R]=j.useState({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),{data:E}=Le({queryKey:["member-profile",i==null?void 0:i.id],queryFn:async()=>{if(!(i!=null&&i.id))return null;const{data:W,error:H}=await Y.from("members").select("*").eq("user_id",i.id).single();return H?null:W},enabled:o&&!!(i!=null&&i.id)}),{data:L=[]}=Le({queryKey:["member-addresses",E==null?void 0:E.id],queryFn:async()=>{if(!(E!=null&&E.id))return[];const{data:W,error:H}=await Y.from("member_addresses").select("*").eq("member_id",E.id).order("is_default",{ascending:!1});return H?[]:(W||[]).map(ie=>({id:ie.id,memberId:ie.member_id,label:ie.label||null,recipientName:ie.recipient_name||"",phone:ie.phone||"",addressLine1:ie.address_line_1||"",addressLine2:ie.address_line_2||null,city:ie.city||"",state:ie.state||"",postcode:ie.postcode||"",isDefault:ie.is_default||!1,createdAt:ie.created_at||null}))},enabled:o&&!!E}),$=(n==null?void 0:n.price)??0,B=Ie({mutationFn:async()=>{if(!n)throw new Error("No product selected");console.info("[checkout] Creating order for product:",n.name,{userId:i==null?void 0:i.id,price:$});const W=JSON.stringify([{productId:n.id,productName:n.name,quantity:1,unitPrice:$}]),{order:H,error:ie}=await b2({userId:(i==null?void 0:i.id)||null,memberId:(E==null?void 0:E.id)||null,customerName:A.customerName,customerPhone:A.phone,customerEmail:(i==null?void 0:i.email)||null,status:"pending_payment",totalAmount:$*100,items:W,packageType:n.id,shippingAddress:A.address,shippingCity:A.city,shippingState:A.state,shippingPostcode:A.postcode,preferredDeliveryDate:A.deliveryDate||null,trackingNumber:null,notes:null,source:"website",erpnextId:null,metaOrderId:null,pointsEarned:null,pointsRedeemed:null});if(ie||!H)throw console.error("[checkout] createOrder failed:",ie),ie||new Error("Failed to create order");return console.info("[checkout] Order created:",{id:H.id,orderNumber:H.orderNumber}),H},onError:W=>{console.error("[checkout] Order mutation error:",W),N(W instanceof Error?W.message:"Failed to create order")},onSuccess:W=>{u(W.orderNumber),h(W.id),c("payment")}}),K=(W,H)=>{R(ie=>({...ie,[W]:H}))},S=()=>A.customerName.trim()!==""&&A.phone.trim()!==""&&A.address.trim()!==""&&A.city.trim()!==""&&A.state!==""&&A.postcode.trim()!=="",D=()=>{B.mutate()},G=async()=>{if(console.info("[checkout] handleStripePayment called",{orderId:m,orderNumber:d,product:n==null?void 0:n.name}),!m||!d||!n){console.error("[checkout] Missing orderId, orderNumber, or product, aborting payment"),N("Order not found. Please try again.");return}k(!0),N(null);try{console.info("[checkout] Calling create-checkout edge function...");const H=await fetch("https://vpzmhglfwomgrashheol.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${zc}`,apikey:zc},body:JSON.stringify({orderId:m,orderNumber:d,amount:$*100,customerEmail:(i==null?void 0:i.email)||null,customerName:A.customerName,productName:n.name,productDescription:`Order #${d}`,productImage:n.image.startsWith("http")?n.image:`${window.location.origin}${n.image}`,successUrl:`${window.location.origin}/checkout/success?order=${d}`,cancelUrl:`${window.location.origin}/products?payment=cancelled`})}),ie=await H.json();if(console.info("[checkout] Edge function response:",{status:H.status,data:ie}),!H.ok)throw new Error((ie==null?void 0:ie.error)||`Edge function returned ${H.status}`);if(!(ie!=null&&ie.url))throw console.error("Stripe edge function returned no URL:",ie),new Error((ie==null?void 0:ie.error)||"No checkout URL returned from payment service");N2({orderId:m,orderNumber:d,deliveryInfo:A,currentPrice:$,saveNewAddress:y,selectedAddressId:p,referrerId:T}),window.location.href=ie.url}catch(W){console.error("Payment error:",W),N(W instanceof Error?W.message:"Payment failed. Please try again.")}finally{k(!1)}},q=async W=>{if(!W.trim()){I(null);return}const{data:H,error:ie}=await Y.from("members").select("id").eq("referral_code",W.toUpperCase()).single();I(H&&!ie?H.id:null)},C=()=>{c("delivery"),R({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),u(""),h(""),g(!1),x(null),v(!1),N(null),_(""),I(null)},X=W=>{x(W.id),R({customerName:W.recipientName,phone:W.phone,address:W.addressLine1+(W.addressLine2?`, ${W.addressLine2}`:""),city:W.city,state:W.state,postcode:W.postcode,deliveryDate:A.deliveryDate})},Q=()=>{window.location.href="/auth/login"},xe=o&&E&&L.length>0&&!f,Pe=W=>{W||C(),t(W)},ee=()=>{switch(l){case"delivery":return a("order.deliveryInfo");case"confirm":return a("order.confirmOrder");case"payment":return a("order.payment")||"Payment";case"success":return a("order.orderConfirmed")}},pe=()=>{switch(l){case"delivery":return a("order.deliveryInfoDesc");case"confirm":return a("order.confirmOrderDesc");case"payment":return a("order.paymentDesc")||"Complete your payment to confirm the order";case"success":return a("order.orderConfirmedDesc")}};return n?r.jsx(Ll,{open:e,onOpenChange:Pe,children:r.jsxs(mo,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-hidden",children:[r.jsxs(gg,{className:"pb-4",children:[r.jsx(xg,{className:"text-xl font-bold",children:ee()}),r.jsx(y0,{className:"text-muted-foreground",children:pe()})]}),r.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)] pb-8",children:[l==="delivery"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(V,{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/20 dark:to-orange-950/20",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:n.image,alt:n.name,className:"w-16 h-16 rounded-lg object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:n.name}),r.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[r.jsxs("span",{className:"text-xl font-bold text-primary",children:["RM ",n.price]}),n.originalPrice>n.price&&r.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["RM ",n.originalPrice]})]})]})]})}),!o&&!f&&r.jsx(V,{className:"p-5",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Kr,{className:"w-6 h-6 text-primary"})})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-foreground mb-1",children:a("order.loginForSavedAddress")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:a("order.loginBenefit")})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs(M,{onClick:Q,children:[r.jsx(Kr,{className:"w-4 h-4 mr-2"}),a("order.loginOrRegister")]}),r.jsx(M,{variant:"outline",onClick:()=>g(!0),children:a("order.continueAsGuest")})]})]})}),xe&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(Be,{children:a("order.selectSavedAddress")}),L.map(W=>r.jsx(V,{className:`p-4 cursor-pointer transition-all hover-elevate ${p===W.id?"ring-2 ring-primary":""}`,onClick:()=>X(W),children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Il,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-foreground",children:W.recipientName}),r.jsx("p",{className:"text-muted-foreground",children:W.phone}),r.jsxs("p",{className:"text-muted-foreground",children:[W.addressLine1,W.addressLine2&&`, ${W.addressLine2}`]}),r.jsxs("p",{className:"text-muted-foreground",children:[W.postcode," ",W.city,", ",a(`states.${W.state}`)]})]})]}),p===W.id&&r.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center flex-shrink-0",children:r.jsx(pa,{className:"w-4 h-4 text-primary-foreground"})})]})},W.id)),r.jsx(M,{variant:"outline",className:"w-full",onClick:()=>{x(null),g(!0)},children:a("order.useNewAddress")})]}),(f||o&&!xe)&&r.jsxs(r.Fragment,{children:[o&&L.length>0&&r.jsx(M,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"mb-2",children:a("order.backToSavedAddresses")}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"pc-customerName",className:"text-sm",children:[a("order.customerName")," *"]}),r.jsx(se,{id:"pc-customerName",value:A.customerName,onChange:W=>K("customerName",W.target.value),placeholder:a("order.customerName")})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"pc-phone",className:"text-sm",children:[a("order.phone")," *"]}),r.jsx(se,{id:"pc-phone",type:"tel",value:A.phone,onChange:W=>K("phone",W.target.value),placeholder:"012-3456789"})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"pc-address",className:"text-sm",children:[a("order.address")," *"]}),r.jsx(se,{id:"pc-address",value:A.address,onChange:W=>K("address",W.target.value),placeholder:a("order.address")})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"pc-postcode",className:"text-sm",children:[a("order.postcode")," *"]}),r.jsx(se,{id:"pc-postcode",value:A.postcode,onChange:W=>K("postcode",W.target.value),placeholder:"12345"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"pc-city",className:"text-sm",children:[a("order.city")," *"]}),r.jsx(se,{id:"pc-city",value:A.city,onChange:W=>K("city",W.target.value),placeholder:a("order.city")})]}),r.jsxs("div",{className:"space-y-1.5 col-span-2 sm:col-span-1",children:[r.jsxs(Be,{htmlFor:"pc-state",className:"text-sm",children:[a("order.state")," *"]}),r.jsxs(Et,{value:A.state,onValueChange:W=>K("state",W),children:[r.jsx(_t,{children:r.jsx(Rt,{placeholder:a("order.selectState")})}),r.jsx(Ct,{children:pme.map(W=>r.jsx(ye,{value:W,children:a(`states.${W}`)},W))})]})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx(Be,{htmlFor:"pc-deliveryDate",className:"text-sm text-muted-foreground",children:a("order.deliveryDate")}),r.jsx(se,{id:"pc-deliveryDate",type:"date",value:A.deliveryDate,onChange:W=>K("deliveryDate",W.target.value),min:new Date().toISOString().split("T")[0]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs(Be,{htmlFor:"pc-referralCode",className:"text-sm text-muted-foreground flex items-center gap-2",children:[r.jsx(Hn,{className:"w-4 h-4"}),a("order.referralCode")||"Referral Code (Optional)"]}),r.jsx(se,{id:"pc-referralCode",value:P,onChange:W=>{_(W.target.value.toUpperCase()),q(W.target.value)},placeholder:"ABC123",maxLength:8}),P&&r.jsx("p",{className:`text-xs ${T?"text-green-600":"text-muted-foreground"}`,children:T?a("order.referralCodeValid")||"Valid referral code":a("order.referralCodeInvalid")||"Enter a valid referral code"})]}),o&&!p&&r.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[r.jsx(kg,{id:"pc-saveAddress",checked:y,onCheckedChange:W=>v(W===!0)}),r.jsx(Be,{htmlFor:"pc-saveAddress",className:"text-sm cursor-pointer",children:a("order.saveAddressToProfile")})]})]})]}),l==="confirm"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(V,{className:"p-5",children:[r.jsx("h4",{className:"font-semibold text-foreground mb-3",children:a("order.orderSummary")}),r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("img",{src:n.image,alt:n.name,className:"w-16 h-16 rounded-lg object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:n.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"x 1"})]}),r.jsxs("div",{className:"text-right",children:[n.originalPrice>n.price&&r.jsxs("span",{className:"text-sm text-muted-foreground line-through mr-2",children:["RM ",n.originalPrice]}),r.jsxs("span",{className:"font-bold text-primary",children:["RM ",$]})]})]}),r.jsxs("div",{className:"border-t border-border pt-3 flex justify-between font-semibold",children:[r.jsx("span",{children:s==="zh"?"":"Total"}),r.jsxs("span",{className:"text-primary",children:["RM ",$]})]})]}),r.jsxs(V,{className:"p-5",children:[r.jsx("h4",{className:"font-semibold text-foreground mb-3",children:a("order.deliveryInfo")}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.customerName"),":"]}),r.jsx("span",{className:"font-medium",children:A.customerName})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.phone"),":"]}),r.jsx("span",{className:"font-medium",children:A.phone})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.address"),":"]}),r.jsx("span",{className:"font-medium text-right max-w-[60%]",children:A.address})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.city"),":"]}),r.jsx("span",{className:"font-medium",children:A.city})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.state"),":"]}),r.jsx("span",{className:"font-medium",children:a(`states.${A.state}`)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.postcode"),":"]}),r.jsx("span",{className:"font-medium",children:A.postcode})]}),A.deliveryDate&&r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[a("order.deliveryDate"),":"]}),r.jsx("span",{className:"font-medium",children:A.deliveryDate})]})]})]}),b&&r.jsx(V,{className:"p-4 bg-destructive/10 border-destructive",children:r.jsx("p",{className:"text-sm text-destructive",children:b})}),r.jsx(M,{className:"w-full gap-3",size:"lg",onClick:D,disabled:B.isPending,children:B.isPending?r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-5 h-5 animate-spin"}),a("order.orderSubmitting")]}):r.jsxs(r.Fragment,{children:[r.jsx(Rn,{className:"w-5 h-5"}),a("order.proceedToPayment")||"Proceed to Payment"]})})]}),l==="payment"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx(V,{className:"p-5",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Lr,{className:"w-8 h-8 text-primary"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:a("order.yourOrderNumber")}),r.jsx("p",{className:"text-xl font-bold text-primary",children:d})]}),r.jsxs("div",{className:"border-t border-border pt-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:a("order.totalAmount")}),r.jsxs("p",{className:"text-3xl font-bold",children:["RM ",$]})]})]})}),b&&r.jsx(V,{className:"p-4 bg-destructive/10 border-destructive",children:r.jsx("p",{className:"text-sm text-destructive",children:b})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(M,{className:"w-full gap-3 bg-[#635BFF] hover:bg-[#5851DB]",size:"lg",onClick:G,disabled:w,children:w?r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-5 h-5 animate-spin"}),a("order.processing")]}):r.jsxs(r.Fragment,{children:[r.jsx(Lr,{className:"w-5 h-5"}),a("order.payOnline")]})}),r.jsx("p",{className:"text-xs text-center text-muted-foreground",children:a("order.paymentMethods")}),r.jsx("p",{className:"text-xs text-center",children:r.jsx("a",{href:`https://wa.me/60178228658?text=${encodeURIComponent(`Need help with order #${d}`)}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground underline hover:text-foreground",children:a("order.needHelp")})})]})]}),l==="success"&&r.jsxs("div",{className:"space-y-6 text-center py-8",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:r.jsx(De,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:a("order.orderSuccess")}),r.jsx("p",{className:"text-muted-foreground mb-4",children:a("order.orderConfirmedDesc")})]}),r.jsxs(V,{className:"p-5",children:[r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[a("order.yourOrderNumber"),":"]}),r.jsx("p",{className:"text-2xl font-bold text-primary",children:d})]}),r.jsx("div",{className:"space-y-3",children:r.jsx(M,{className:"w-full",variant:"outline",onClick:()=>{C(),t(!1)},children:a("order.continueOrdering")})})]})]}),l!=="success"&&l!=="payment"&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-background border-t border-border",children:r.jsxs("div",{className:"flex gap-3",children:[l==="confirm"&&r.jsx(M,{variant:"outline",className:"flex-1",onClick:()=>c("delivery"),children:a("order.back")}),l==="delivery"&&r.jsx(M,{className:"flex-1",disabled:!S(),onClick:()=>c("confirm"),children:a("order.next")})]})})]})}):null}const xme="60178228658",VR="https://www.facebook.com/loveyoung.birdnest/shop",yme={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}},qR=[{id:"all",labelKey:"productsPage.categories.all"},{id:"birdnest",labelKey:"productsPage.categories.birdNest"},{id:"fishmaw",labelKey:"productsPage.categories.fishMaw"},{id:"giftbox",labelKey:"productsPage.categories.giftBox"}],vme=[{id:"bn-classic-6",nameKey:"productsPage.items.bnClassic.name",subtitleKey:"productsPage.items.bnClassic.subtitle",category:"birdnest",price:199,originalPrice:259,unitKey:"productsPage.units.box",image:"/pics/love_young_gift_box_design_20260106043236_1.png",featureKeys:["productsPage.items.bnClassic.feature1","productsPage.items.bnClassic.feature2","productsPage.items.bnClassic.feature3"],isHot:!0,isNew:!1},{id:"bn-premium-6",nameKey:"productsPage.items.bnPremium.name",subtitleKey:"productsPage.items.bnPremium.subtitle",category:"birdnest",price:299,originalPrice:399,unitKey:"productsPage.units.box",image:"/pics/love_young_luxury_gift_box_detailed_20260106045736_1.png",featureKeys:["productsPage.items.bnPremium.feature1","productsPage.items.bnPremium.feature2","productsPage.items.bnPremium.feature3"],isHot:!1,isNew:!0},{id:"fm-collagen-6",nameKey:"productsPage.items.fmCollagen.name",subtitleKey:"productsPage.items.fmCollagen.subtitle",category:"fishmaw",price:249,originalPrice:329,unitKey:"productsPage.units.box",image:"/pics/love_young_wellness_lifestyle_20260106043539_1.png",featureKeys:["productsPage.items.fmCollagen.feature1","productsPage.items.fmCollagen.feature2","productsPage.items.fmCollagen.feature3"],isHot:!0,isNew:!1},{id:"fm-milk-6",nameKey:"productsPage.items.fmMilk.name",subtitleKey:"productsPage.items.fmMilk.subtitle",category:"fishmaw",price:269,originalPrice:349,unitKey:"productsPage.units.box",image:"/pics/love_young_event_experience_20260106043435_1.png",featureKeys:["productsPage.items.fmMilk.feature1","productsPage.items.fmMilk.feature2","productsPage.items.fmMilk.feature3"],isHot:!1,isNew:!0},{id:"gift-luxury",nameKey:"productsPage.items.giftLuxury.name",subtitleKey:"productsPage.items.giftLuxury.subtitle",category:"giftbox",price:599,originalPrice:799,unitKey:"productsPage.units.set",image:"/pics/love_young_event_invitation_20260106043314_1.png",featureKeys:["productsPage.items.giftLuxury.feature1","productsPage.items.giftLuxury.feature2","productsPage.items.giftLuxury.feature3"],isHot:!0,isNew:!1},{id:"gift-wellness",nameKey:"productsPage.items.giftWellness.name",subtitleKey:"productsPage.items.giftWellness.subtitle",category:"giftbox",price:399,originalPrice:499,unitKey:"productsPage.units.set",image:"/pics/love_young_community_building_20260106043405_1.png",featureKeys:["productsPage.items.giftWellness.feature1","productsPage.items.giftWellness.feature2","productsPage.items.giftWellness.feature3"],isHot:!1,isNew:!1}],bme=[{icon:oF,titleKey:"productsPage.benefits.natural.title",descriptionKey:"productsPage.benefits.natural.description"},{icon:pl,titleKey:"productsPage.benefits.quality.title",descriptionKey:"productsPage.benefits.quality.description"},{icon:os,titleKey:"productsPage.benefits.coldChain.title",descriptionKey:"productsPage.benefits.coldChain.description"},{icon:Hn,titleKey:"productsPage.benefits.packaging.title",descriptionKey:"productsPage.benefits.packaging.description"}];function wme(){const{t:e}=ps(),[t,n]=j.useState(!1),[a,s]=j.useState(null),i=`https://wa.me/${xme}?text=${encodeURIComponent(e("productsPage.whatsappMessage"))}`,o=c=>{s({id:c.id,name:e(c.nameKey),price:c.price,originalPrice:c.originalPrice,image:c.image}),n(!0)},l=()=>{var c;(c=document.getElementById("products-grid"))==null||c.scrollIntoView({behavior:"smooth"})};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(bg,{whatsappLink:i,metaShopLink:VR}),r.jsxs("section",{className:"pt-32 pb-16 relative overflow-hidden","data-testid":"section-products-hero",children:[r.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-secondary/5 -skew-x-12 transform translate-x-1/4 -z-10"}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-3xl",children:r.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-serif text-primary mb-6","data-testid":"text-products-title",children:e("productsPage.hero.title")}),r.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:e("productsPage.hero.description")}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs(M,{size:"lg",className:"gap-2",onClick:l,"data-testid":"button-shop-now",children:[r.jsx(Rn,{className:"w-5 h-5"}),e("productsPage.hero.shopNow")]}),r.jsxs(M,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>window.open(i,"_blank"),"data-testid":"button-products-whatsapp",children:[r.jsx(Ba,{className:"w-5 h-5"}),e("productsPage.hero.whatsappConsult")]})]})]})})})]}),r.jsx("section",{className:"py-8 bg-card border-y border-border","data-testid":"section-benefits",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:bme.map((c,d)=>r.jsxs("div",{className:"flex items-center gap-3","data-testid":`benefit-${d}`,children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center flex-shrink-0",children:r.jsx(c.icon,{className:"w-5 h-5 text-secondary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground text-sm",children:e(c.titleKey)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e(c.descriptionKey)})]})]},d))})})}),r.jsx("section",{id:"products-grid",className:"py-16","data-testid":"section-product-list",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsxs(Pn,{defaultValue:"all",className:"w-full",children:[r.jsx("div",{className:"flex justify-center mb-10",children:r.jsx(yn,{className:"grid w-full max-w-lg grid-cols-4",children:qR.map(c=>r.jsx(ke,{value:c.id,"data-testid":`tab-${c.id}`,children:e(c.labelKey)},c.id))})}),qR.map(c=>r.jsx(Nt,{value:c.id,children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:vme.filter(d=>c.id==="all"||d.category===c.id).map((d,u)=>r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:yme,transition:{delay:u*.1},children:r.jsxs(V,{className:"h-full flex flex-col overflow-hidden","data-testid":`card-product-${d.id}`,children:[r.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[r.jsx("img",{src:d.image,alt:e(d.nameKey),className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"}),r.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[d.isHot&&r.jsx(te,{className:"bg-destructive text-destructive-foreground",children:e("productsPage.badges.hot")}),d.isNew&&r.jsx(te,{className:"bg-secondary text-secondary-foreground",children:e("productsPage.badges.new")})]}),d.originalPrice>d.price&&r.jsxs(te,{variant:"secondary",className:"absolute top-3 right-3",children:[e("productsPage.badges.save")," RM ",d.originalPrice-d.price]})]}),r.jsxs(Te,{className:"pb-2",children:[r.jsx("h3",{className:"font-bold text-lg text-foreground",children:e(d.nameKey)}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e(d.subtitleKey)})]}),r.jsxs(J,{className:"flex-1 pb-4",children:[r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:d.featureKeys.map((m,h)=>r.jsx(te,{variant:"outline",className:"text-xs",children:e(m)},h))}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsxs("span",{className:"text-2xl font-bold text-primary",children:["RM ",d.price]}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",e(d.unitKey)]}),d.originalPrice>d.price&&r.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["RM ",d.originalPrice]})]})]}),r.jsx(G_,{className:"pt-0 gap-2",children:r.jsxs(M,{className:"flex-1 gap-2",onClick:()=>o(d),"data-testid":`button-order-${d.id}`,children:[r.jsx(Rn,{className:"w-4 h-4"}),e("products.orderNow")]})})]})},d.id))})},c.id))]})})}),r.jsx("section",{className:"py-16 bg-primary text-primary-foreground","data-testid":"section-quality",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif","data-testid":"text-quality-title",children:e("productsPage.quality.title")}),r.jsx("p",{className:"opacity-80 leading-relaxed",children:e("productsPage.quality.description")}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx(Lt,{className:"w-3 h-3 text-secondary-foreground"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold",children:e("productsPage.quality.traceability.title")}),r.jsx("p",{className:"text-sm opacity-70",children:e("productsPage.quality.traceability.description")})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx(Lt,{className:"w-3 h-3 text-secondary-foreground"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold",children:e("productsPage.quality.craftsmanship.title")}),r.jsx("p",{className:"text-sm opacity-70",children:e("productsPage.quality.craftsmanship.description")})]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx(Lt,{className:"w-3 h-3 text-secondary-foreground"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold",children:e("productsPage.quality.inspection.title")}),r.jsx("p",{className:"text-sm opacity-70",children:e("productsPage.quality.inspection.description")})]})]})]})]}),r.jsx("div",{children:r.jsx("img",{src:"/pics/love_young_success_metrics_20260106043449_1.png",alt:e("productsPage.quality.imageAlt"),className:"rounded-2xl shadow-xl w-full","data-testid":"img-quality"})})]})})}),r.jsx("section",{className:"py-16","data-testid":"section-products-cta",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-6 lg:px-8 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-6","data-testid":"text-products-cta-title",children:e("productsPage.cta.title")}),r.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:e("productsPage.cta.description")}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[r.jsxs(M,{size:"lg",className:"gap-2 bg-secondary text-secondary-foreground",onClick:l,"data-testid":"button-final-shop",children:[r.jsx(Rn,{className:"w-5 h-5"}),e("productsPage.cta.goToShop")]}),r.jsxs(M,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>window.open(i,"_blank"),"data-testid":"button-final-consult",children:[r.jsx(Ba,{className:"w-5 h-5"}),e("productsPage.cta.consultWellness")]})]})]})}),r.jsx(wg,{whatsappLink:i,metaShopLink:VR}),r.jsx(gme,{open:t,onOpenChange:n,product:a})]})}const hV="60178228658",Vj=`https://wa.me/${hV}?text=${encodeURIComponent("")}`,zR="https://www.facebook.com/loveyoung.birdnest/shop",KR={pending:{label:"",icon:Tt,color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},confirmed:{label:"",icon:De,color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},processing:{label:"",icon:Yt,color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"},shipped:{label:"",icon:os,color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},delivered:{label:"",icon:De,color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},cancelled:{label:"",icon:Bs,color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}};function jme(){const[e,t]=j.useState(""),[n,a]=j.useState(!1),[s,i]=j.useState(null),[o,l]=j.useState(null),{toast:c}=Wt(),d=async f=>{if(f.preventDefault(),!e.trim()){c({title:"",description:"",variant:"destructive"});return}a(!0),l(null),i(null);try{const g=await fetch(`/api/orders/track?q=${encodeURIComponent(e.trim())}`);if(!g.ok){g.status===404?l(""):l("");return}const p=await g.json();i(p)}catch{l("")}finally{a(!1)}},u=f=>f?new Date(f).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",m=f=>{try{return JSON.parse(f)}catch{return[]}},h=s?KR[s.status]||KR.pending:null;return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(bg,{whatsappLink:Vj,metaShopLink:zR}),r.jsx("main",{className:"py-12 md:py-20",children:r.jsxs("div",{className:"max-w-2xl mx-auto px-4 md:px-6",children:[r.jsx(En,{href:"/",children:r.jsxs(M,{variant:"ghost",className:"mb-6 gap-2","data-testid":"button-back-home",children:[r.jsx(Ra,{className:"w-4 h-4"}),""]})}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"font-serif text-2xl md:text-3xl font-semibold text-foreground mb-3","data-testid":"text-page-title",children:""}),r.jsx("p",{className:"text-muted-foreground",children:""})]}),r.jsx(V,{className:"mb-8","data-testid":"card-search",children:r.jsx(J,{className:"pt-6",children:r.jsxs("form",{onSubmit:d,className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{type:"text",placeholder:"  ",value:e,onChange:f=>t(f.target.value),className:"pl-10","data-testid":"input-search-query"})]}),r.jsx(M,{type:"submit",disabled:n,"data-testid":"button-search",children:n?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):""})]})})}),o&&r.jsx(V,{className:"border-destructive/50 mb-8","data-testid":"card-error",children:r.jsx(J,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Bs,{className:"w-12 h-12 text-destructive mx-auto mb-3"}),r.jsx("p",{className:"text-destructive font-medium mb-4",children:o}),r.jsxs(M,{variant:"outline",className:"gap-2",onClick:()=>window.open(Vj,"_blank"),"data-testid":"button-error-whatsapp",children:[r.jsx(Ba,{className:"w-4 h-4"}),""]})]})})}),s&&h&&r.jsxs(V,{"data-testid":"card-order-result",children:[r.jsx(Te,{children:r.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs(Oe,{className:"text-lg mb-1","data-testid":"text-order-number",children:[": ",s.orderNumber]}),r.jsxs(hn,{children:[": ",u(s.createdAt)]})]}),r.jsxs(te,{className:`${h.color} gap-1`,"data-testid":"badge-order-status",children:[r.jsx(h.icon,{className:"w-3 h-3"}),h.label]})]})}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:""}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"text-muted-foreground",children:":"})," ",s.customerName]}),r.jsxs("p",{children:[r.jsx("span",{className:"text-muted-foreground",children:":"})," ",s.customerPhone]}),s.shippingAddress&&r.jsxs("p",{children:[r.jsx("span",{className:"text-muted-foreground",children:":"})," ",s.shippingAddress]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:""}),r.jsxs("div",{className:"space-y-2",children:[m(s.items).map((f,g)=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{children:[f.name," x ",f.quantity]}),r.jsxs("span",{className:"text-muted-foreground",children:["RM ",f.price*f.quantity]})]},g)),r.jsxs("div",{className:"border-t pt-2 flex justify-between font-medium",children:[r.jsx("span",{children:""}),r.jsxs("span",{"data-testid":"text-order-total",children:["RM ",s.totalAmount]})]})]})]}),s.trackingNumber&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:""}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(os,{className:"w-4 h-4 text-primary"}),r.jsxs("span",{children:[": ",s.trackingNumber]})]})]}),r.jsx("div",{className:"pt-4 border-t",children:r.jsxs(M,{variant:"outline",className:"w-full gap-2",onClick:()=>{const f=encodeURIComponent(` ${s.orderNumber} `);window.open(`https://wa.me/${hV}?text=${f}`,"_blank")},"data-testid":"button-contact-about-order",children:[r.jsx(Ba,{className:"w-4 h-4"}),""]})})]})]}),!s&&!o&&!n&&r.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[r.jsx(Yt,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),r.jsx("p",{className:"mb-2",children:""}),r.jsx("p",{className:"text-sm",children:": LY20241201001  60123456789"})]})]})}),r.jsx(wg,{whatsappLink:Vj,metaShopLink:zR})]})}const Nme="/assets/christmas_luxury_gift_box-BsJis5Q4.png",kme="60178228658",_x=`https://wa.me/${kme}?text=${encodeURIComponent("")}`,No={hidden:{opacity:0,y:30},visible:{opacity:1,y:0}},qj={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},Pme={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1}};function Sme(){const[,e]=za(),t=[{icon:Hn,text:"",sub:""},{icon:xl,text:"",sub:""},{icon:a0,text:"8",sub:"120g"},{icon:Lt,text:"",sub:""}],n=[{name:"",price:"RM226",originalPrice:"RM268",desc:"8  1",badge:"50"},{name:"",price:"RM428",originalPrice:"RM536",desc:"16  2",badge:"",highlight:!0}];return r.jsxs("div",{className:"min-h-screen bg-background christmas-promo-page",children:[r.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-red-900/95 via-red-800/95 to-red-900/95 backdrop-blur-md border-b border-red-700/50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16 gap-4",children:[r.jsx(M,{variant:"ghost",size:"icon",className:"text-white/90",onClick:()=>e("/"),"data-testid":"button-back-home",children:r.jsx(Ra,{className:"w-5 h-5"})}),r.jsxs("a",{href:"/",className:"christmas-logo-text","data-testid":"link-christmas-logo",children:[r.jsx("span",{className:"christmas-logo-main",children:"LOVEYOUNG"}),r.jsx("span",{className:"christmas-logo-sub",children:""})]}),r.jsxs(M,{size:"sm",className:"gap-2 bg-white/20 text-white border-white/30",onClick:()=>window.open(_x,"_blank"),"data-testid":"button-christmas-whatsapp",children:[r.jsx(Ba,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:""})]})]})})}),r.jsxs("section",{className:"relative min-h-screen flex items-center pt-16 overflow-hidden christmas-hero",children:[r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("img",{src:Nme,alt:"",className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-950/90 via-red-900/70 to-transparent"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-red-950/80 via-transparent to-red-950/40"}),r.jsx("div",{className:"christmas-snowfall"})]}),r.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-16 w-full",children:r.jsxs(Ae.div,{initial:"hidden",animate:"visible",variants:qj,className:"max-w-2xl",children:[r.jsx(Ae.div,{variants:No,className:"mb-6",children:r.jsxs(te,{className:"christmas-badge gap-2","data-testid":"badge-christmas-limited",children:[r.jsx(xl,{className:"w-3.5 h-3.5"}),"2024 "]})}),r.jsxs(Ae.h1,{variants:No,className:"christmas-hero-title mb-4","data-testid":"text-christmas-title",children:[r.jsx("span",{className:"block text-white/90",children:""}),r.jsx("span",{className:"block christmas-title-gold",children:""})]}),r.jsxs(Ae.p,{variants:No,className:"text-lg md:text-xl text-white/85 mb-6 leading-relaxed","data-testid":"text-christmas-subtitle",children:["",r.jsx("br",{className:"hidden sm:block"}),""]}),r.jsx(Ae.div,{variants:No,className:"flex flex-wrap gap-3 mb-8",children:t.map((a,s)=>r.jsxs("div",{className:"christmas-feature-tag","data-testid":`tag-feature-${s}`,children:[r.jsx(a.icon,{className:"w-4 h-4 text-amber-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium text-sm",children:a.text}),r.jsx("div",{className:"text-white/60 text-xs",children:a.sub})]})]},s))}),r.jsxs(Ae.div,{variants:No,className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs(M,{size:"lg",className:"gap-2 christmas-cta-button text-base font-bold",onClick:()=>window.open(_x,"_blank"),"data-testid":"button-christmas-order",children:[r.jsx(Hn,{className:"w-5 h-5"}),""]}),r.jsx(M,{variant:"outline",size:"lg",className:"gap-2 text-base glass border-white/30 text-white",onClick:()=>{const a=document.querySelector("#packages");a==null||a.scrollIntoView({behavior:"smooth"})},"data-testid":"button-christmas-view-packages",children:""})]})]})})]}),r.jsx("section",{id:"packages",className:"py-16 md:py-24 bg-gradient-to-b from-red-950 to-background",children:r.jsxs("div",{className:"max-w-5xl mx-auto px-4 md:px-6 lg:px-8",children:[r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:qj,className:"text-center mb-12",children:[r.jsxs(Ae.h2,{variants:No,className:"text-3xl md:text-4xl font-black text-white mb-4","data-testid":"text-packages-title",children:["",r.jsx("span",{className:"christmas-title-gold",children:""})]}),r.jsx(Ae.p,{variants:No,className:"text-white/70",children:""})]}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:qj,className:"grid md:grid-cols-2 gap-6",children:n.map((a,s)=>r.jsx(Ae.div,{variants:Pme,children:r.jsxs(V,{className:`p-6 relative christmas-package-card ${a.highlight?"christmas-package-highlight":""}`,"data-testid":`card-package-${s}`,children:[r.jsx(te,{className:`absolute top-4 right-4 ${a.highlight?"bg-amber-500/20 text-amber-300 border-amber-500/30":"bg-red-500/20 text-red-300 border-red-500/30"}`,children:a.badge}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:a.name}),r.jsx("p",{className:"text-white/70 mb-4",children:a.desc}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"text-3xl font-black christmas-title-gold",children:a.price}),r.jsx("span",{className:"text-white/50 line-through ml-2",children:a.originalPrice})]}),r.jsx("div",{className:"space-y-2 mb-6",children:["","","",""].map((i,o)=>r.jsxs("div",{className:"flex items-center gap-2 text-white/80 text-sm",children:[r.jsx(pa,{className:"w-4 h-4 text-emerald-400"}),i]},o))}),r.jsxs(M,{className:`w-full gap-2 font-bold ${a.highlight?"christmas-cta-button":"bg-white/10 text-white"}`,onClick:()=>window.open(_x,"_blank"),"data-testid":`button-order-package-${s}`,children:[r.jsx(Ba,{className:"w-4 h-4"}),"WhatsApp "]})]})},s))})]})}),r.jsx("section",{className:"py-16 bg-background",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 md:px-6 lg:px-8 text-center",children:r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:No,children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground mb-4",children:"LOVEYOUNG"}),r.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:" 0"}),r.jsxs(M,{size:"lg",className:"gap-2 christmas-cta-button font-bold",onClick:()=>window.open(_x,"_blank"),"data-testid":"button-final-order",children:[r.jsx(Hn,{className:"w-5 h-5"}),""]})]})})}),r.jsx("footer",{className:"py-8 bg-card border-t border-border",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center",children:r.jsxs(M,{variant:"ghost",className:"gap-2 text-muted-foreground",onClick:()=>e("/"),"data-testid":"button-footer-back",children:[r.jsx(Ra,{className:"w-4 h-4"}),""]})})})]})}var fV=["PageUp","PageDown"],pV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],gV={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Jm="Slider",[Lk,_me,Cme]=Fm(Jm),[xV,eBe]=Jn(Jm,[Cme]),[Ame,E0]=xV(Jm),yV=j.forwardRef((e,t)=>{const{name:n,min:a=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[a],value:u,onValueChange:m=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:g,...p}=e,x=j.useRef(new Set),y=j.useRef(0),b=o==="horizontal"?Tme:Ome,[N=[],w]=fa({prop:u,defaultProp:d,onChange:A=>{var E;(E=[...x.current][y.current])==null||E.focus(),m(A)}}),k=j.useRef(N);function P(A){const R=Ime(N,A);I(A,R)}function _(A){I(A,y.current)}function T(){const A=k.current[y.current];N[y.current]!==A&&h(N)}function I(A,R,{commit:E}={commit:!1}){const L=Bme(i),$=Ume(Math.round((A-a)/i)*i+a,L),B=sv($,[a,s]);w((K=[])=>{const S=Mme(K,B,R);if(Fme(S,c*i)){y.current=S.indexOf(B);const D=String(S)!==String(K);return D&&E&&h(S),D?S:K}else return K})}return r.jsx(Ame,{scope:e.__scopeSlider,name:n,disabled:l,min:a,max:s,valueIndexToChangeRef:y,thumbs:x.current,values:N,orientation:o,form:g,children:r.jsx(Lk.Provider,{scope:e.__scopeSlider,children:r.jsx(Lk.Slot,{scope:e.__scopeSlider,children:r.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:Ne(p.onPointerDown,()=>{l||(k.current=N)}),min:a,max:s,inverted:f,onSlideStart:l?void 0:P,onSlideMove:l?void 0:_,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&I(a,0,{commit:!0}),onEndKeyDown:()=>!l&&I(s,N.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:R})=>{if(!l){const $=fV.includes(A.key)||A.shiftKey&&pV.includes(A.key)?10:1,B=y.current,K=N[B],S=i*$*R;I(K+S,B,{commit:!0})}}})})})})});yV.displayName=Jm;var[vV,bV]=xV(Jm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Tme=j.forwardRef((e,t)=>{const{min:n,max:a,dir:s,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[m,h]=j.useState(null),f=dt(t,b=>h(b)),g=j.useRef(void 0),p=ld(s),x=p==="ltr",y=x&&!i||!x&&i;function v(b){const N=g.current||m.getBoundingClientRect(),w=[0,N.width],P=nC(w,y?[n,a]:[a,n]);return g.current=N,P(b-N.left)}return r.jsx(vV,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:r.jsx(wV,{dir:p,"data-orientation":"horizontal",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const N=v(b.clientX);o==null||o(N)},onSlideMove:b=>{const N=v(b.clientX);l==null||l(N)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:b=>{const w=gV[y?"from-left":"from-right"].includes(b.key);d==null||d({event:b,direction:w?-1:1})}})})}),Ome=j.forwardRef((e,t)=>{const{min:n,max:a,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=j.useRef(null),m=dt(t,u),h=j.useRef(void 0),f=!s;function g(p){const x=h.current||u.current.getBoundingClientRect(),y=[0,x.height],b=nC(y,f?[a,n]:[n,a]);return h.current=x,b(p-x.top)}return r.jsx(vV,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:r.jsx(wV,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const x=g(p.clientY);i==null||i(x)},onSlideMove:p=>{const x=g(p.clientY);o==null||o(x)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const y=gV[f?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:y?-1:1})}})})}),wV=j.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:a,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=E0(Jm,n);return r.jsx(Ue.span,{...d,ref:t,onKeyDown:Ne(e.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):fV.concat(pV).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:Ne(e.onPointerDown,m=>{const h=m.target;h.setPointerCapture(m.pointerId),m.preventDefault(),u.thumbs.has(h)?h.focus():a(m)}),onPointerMove:Ne(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&s(m)}),onPointerUp:Ne(e.onPointerUp,m=>{const h=m.target;h.hasPointerCapture(m.pointerId)&&(h.releasePointerCapture(m.pointerId),i(m))})})}),jV="SliderTrack",NV=j.forwardRef((e,t)=>{const{__scopeSlider:n,...a}=e,s=E0(jV,n);return r.jsx(Ue.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...a,ref:t})});NV.displayName=jV;var $k="SliderRange",kV=j.forwardRef((e,t)=>{const{__scopeSlider:n,...a}=e,s=E0($k,n),i=bV($k,n),o=j.useRef(null),l=dt(t,o),c=s.values.length,d=s.values.map(h=>SV(h,s.min,s.max)),u=c>1?Math.min(...d):0,m=100-Math.max(...d);return r.jsx(Ue.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...a,ref:l,style:{...e.style,[i.startEdge]:u+"%",[i.endEdge]:m+"%"}})});kV.displayName=$k;var Fk="SliderThumb",PV=j.forwardRef((e,t)=>{const n=_me(e.__scopeSlider),[a,s]=j.useState(null),i=dt(t,l=>s(l)),o=j.useMemo(()=>a?n().findIndex(l=>l.ref.current===a):-1,[n,a]);return r.jsx(Eme,{...e,ref:i,index:o})}),Eme=j.forwardRef((e,t)=>{const{__scopeSlider:n,index:a,name:s,...i}=e,o=E0(Fk,n),l=bV(Fk,n),[c,d]=j.useState(null),u=dt(t,v=>d(v)),m=c?o.form||!!c.closest("form"):!0,h=mg(c),f=o.values[a],g=f===void 0?0:SV(f,o.min,o.max),p=Dme(a,o.values.length),x=h==null?void 0:h[l.size],y=x?Lme(x,g,l.direction):0;return j.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${y}px)`},children:[r.jsx(Lk.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(Ue.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:f===void 0?{display:"none"}:e.style,onFocus:Ne(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),m&&r.jsx(Rme,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},a)]})});PV.displayName=Fk;var Rme=e=>{const{value:t,...n}=e,a=j.useRef(null),s=jg(t);return j.useEffect(()=>{const i=a.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==t&&c){const d=new Event("input",{bubbles:!0});c.call(i,t),i.dispatchEvent(d)}},[s,t]),r.jsx("input",{style:{display:"none"},...n,ref:a,defaultValue:t})};function Mme(e=[],t,n){const a=[...e];return a[n]=t,a.sort((s,i)=>s-i)}function SV(e,t,n){const i=100/(n-t)*(e-t);return sv(i,[0,100])}function Dme(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ime(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),a=Math.min(...n);return n.indexOf(a)}function Lme(e,t,n){const a=e/2,i=nC([0,50],[0,a]);return(a-i(t)*n)*n}function $me(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Fme(e,t){if(t>0){const n=$me(e);return Math.min(...n)>=t}return!0}function nC(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(n-e[0])}}function Bme(e){return(String(e).split(".")[1]||"").length}function Ume(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var _V=yV,Vme=NV,qme=kV,zme=PV;const Wh=j.forwardRef(({className:e,...t},n)=>r.jsxs(_V,{ref:n,className:Ce("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(Vme,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:r.jsx(qme,{className:"absolute h-full bg-primary"})}),r.jsx(zme,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Wh.displayName=_V.displayName;var rC="Collapsible",[Kme,CV]=Jn(rC),[Wme,aC]=Kme(rC),AV=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:a,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=fa({prop:a,defaultProp:s,onChange:o});return r.jsx(Wme,{scope:n,disabled:i,contentId:ls(),open:c,onOpenToggle:j.useCallback(()=>d(u=>!u),[d]),children:r.jsx(Ue.div,{"data-state":iC(c),"data-disabled":i?"":void 0,...l,ref:t})})});AV.displayName=rC;var TV="CollapsibleTrigger",OV=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,...a}=e,s=aC(TV,n);return r.jsx(Ue.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":iC(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:t,onClick:Ne(e.onClick,s.onOpenToggle)})});OV.displayName=TV;var sC="CollapsibleContent",EV=j.forwardRef((e,t)=>{const{forceMount:n,...a}=e,s=aC(sC,e.__scopeCollapsible);return r.jsx(ga,{present:n||s.open,children:({present:i})=>r.jsx(Hme,{...a,ref:t,present:i})})});EV.displayName=sC;var Hme=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:a,children:s,...i}=e,o=aC(sC,n),[l,c]=j.useState(a),d=j.useRef(null),u=dt(t,d),m=j.useRef(0),h=m.current,f=j.useRef(0),g=f.current,p=o.open||l,x=j.useRef(p),y=j.useRef(void 0);return j.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),Yn(()=>{const v=d.current;if(v){y.current=y.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const b=v.getBoundingClientRect();m.current=b.height,f.current=b.width,x.current||(v.style.transitionDuration=y.current.transitionDuration,v.style.animationName=y.current.animationName),c(a)}},[o.open,a]),r.jsx(Ue.div,{"data-state":iC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&s})});function iC(e){return e?"open":"closed"}var Gme=AV,Yme=OV,Jme=EV,ho="Accordion",Qme=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[oC,Xme,Zme]=Fm(ho),[R0,tBe]=Jn(ho,[Zme,CV]),lC=CV(),RV=U.forwardRef((e,t)=>{const{type:n,...a}=e,s=a,i=a;return r.jsx(oC.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?r.jsx(rhe,{...i,ref:t}):r.jsx(nhe,{...s,ref:t})})});RV.displayName=ho;var[MV,ehe]=R0(ho),[DV,the]=R0(ho,{collapsible:!1}),nhe=U.forwardRef((e,t)=>{const{value:n,defaultValue:a,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=fa({prop:n,defaultProp:a,onChange:s});return r.jsx(MV,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:U.useCallback(()=>i&&c(""),[i,c]),children:r.jsx(DV,{scope:e.__scopeAccordion,collapsible:i,children:r.jsx(IV,{...o,ref:t})})})}),rhe=U.forwardRef((e,t)=>{const{value:n,defaultValue:a,onValueChange:s=()=>{},...i}=e,[o=[],l]=fa({prop:n,defaultProp:a,onChange:s}),c=U.useCallback(u=>l((m=[])=>[...m,u]),[l]),d=U.useCallback(u=>l((m=[])=>m.filter(h=>h!==u)),[l]);return r.jsx(MV,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:r.jsx(DV,{scope:e.__scopeAccordion,collapsible:!0,children:r.jsx(IV,{...i,ref:t})})})}),[ahe,M0]=R0(ho),IV=U.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:a,dir:s,orientation:i="vertical",...o}=e,l=U.useRef(null),c=dt(l,t),d=Xme(n),m=ld(s)==="ltr",h=Ne(e.onKeyDown,f=>{var _;if(!Qme.includes(f.key))return;const g=f.target,p=d().filter(T=>{var I;return!((I=T.ref.current)!=null&&I.disabled)}),x=p.findIndex(T=>T.ref.current===g),y=p.length;if(x===-1)return;f.preventDefault();let v=x;const b=0,N=y-1,w=()=>{v=x+1,v>N&&(v=b)},k=()=>{v=x-1,v<b&&(v=N)};switch(f.key){case"Home":v=b;break;case"End":v=N;break;case"ArrowRight":i==="horizontal"&&(m?w():k());break;case"ArrowDown":i==="vertical"&&w();break;case"ArrowLeft":i==="horizontal"&&(m?k():w());break;case"ArrowUp":i==="vertical"&&k();break}const P=v%y;(_=p[P].ref.current)==null||_.focus()});return r.jsx(ahe,{scope:n,disabled:a,direction:s,orientation:i,children:r.jsx(oC.Slot,{scope:n,children:r.jsx(Ue.div,{...o,"data-orientation":i,ref:c,onKeyDown:a?void 0:h})})})}),pv="AccordionItem",[she,cC]=R0(pv),LV=U.forwardRef((e,t)=>{const{__scopeAccordion:n,value:a,...s}=e,i=M0(pv,n),o=ehe(pv,n),l=lC(n),c=ls(),d=a&&o.value.includes(a)||!1,u=i.disabled||e.disabled;return r.jsx(she,{scope:n,open:d,disabled:u,triggerId:c,children:r.jsx(Gme,{"data-orientation":i.orientation,"data-state":qV(d),...l,...s,ref:t,disabled:u,open:d,onOpenChange:m=>{m?o.onItemOpen(a):o.onItemClose(a)}})})});LV.displayName=pv;var $V="AccordionHeader",FV=U.forwardRef((e,t)=>{const{__scopeAccordion:n,...a}=e,s=M0(ho,n),i=cC($V,n);return r.jsx(Ue.h3,{"data-orientation":s.orientation,"data-state":qV(i.open),"data-disabled":i.disabled?"":void 0,...a,ref:t})});FV.displayName=$V;var Bk="AccordionTrigger",BV=U.forwardRef((e,t)=>{const{__scopeAccordion:n,...a}=e,s=M0(ho,n),i=cC(Bk,n),o=the(Bk,n),l=lC(n);return r.jsx(oC.ItemSlot,{scope:n,children:r.jsx(Yme,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...a,ref:t})})});BV.displayName=Bk;var UV="AccordionContent",VV=U.forwardRef((e,t)=>{const{__scopeAccordion:n,...a}=e,s=M0(ho,n),i=cC(UV,n),o=lC(n);return r.jsx(Jme,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});VV.displayName=UV;function qV(e){return e?"open":"closed"}var ihe=RV,ohe=LV,lhe=FV,zV=BV,KV=VV;const WV=ihe,dC=j.forwardRef(({className:e,...t},n)=>r.jsx(ohe,{ref:n,className:Ce("border-b",e),...t}));dC.displayName="AccordionItem";const uC=j.forwardRef(({className:e,children:t,...n},a)=>r.jsx(lhe,{className:"flex",children:r.jsxs(zV,{ref:a,className:Ce("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,r.jsx(n0,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));uC.displayName=zV.displayName;const mC=j.forwardRef(({className:e,children:t,...n},a)=>r.jsx(KV,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:r.jsx("div",{className:Ce("pb-4 pt-0",e),children:t})}));mC.displayName=KV.displayName;const che="60178228658",WR="https://www.facebook.com/loveyoung.birdnest/shop",vs={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};function dhe({t:e}){const[t,n]=j.useState(0);return j.useEffect(()=>{const a=setInterval(()=>{n(s=>(s+1)%4)},1500);return()=>clearInterval(a)},[]),r.jsxs("div",{className:"relative py-8",children:[r.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[r.jsx(Ae.div,{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-secondary flex items-center justify-center text-secondary-foreground font-bold text-sm sm:text-lg shadow-lg",animate:{scale:t===0?[1,1.1,1]:1},transition:{duration:.5},children:e("partner.network.you")}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("div",{className:"w-0.5 h-8 bg-secondary/50"})}),r.jsx("div",{className:"flex items-center gap-3 sm:gap-6 flex-wrap justify-center max-w-xs sm:max-w-none",children:[1,2,3].map(a=>r.jsx(Ae.div,{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold shadow-md ${t===1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,animate:{scale:t===1?[1,1.15,1]:1,backgroundColor:t===1?["hsl(var(--muted))","hsl(var(--primary))","hsl(var(--primary))"]:void 0},transition:{duration:.5,delay:a*.1},children:e("partner.network.gen1")},a))}),r.jsx("div",{className:"text-center",children:r.jsx(te,{variant:"outline",className:"bg-primary/10 text-primary border-primary/30",children:e("partner.dividends.cashback50")})}),r.jsx("div",{className:"flex items-center gap-2 sm:gap-4 mt-2 flex-wrap justify-center max-w-xs sm:max-w-md",children:[1,2,3,4,5,6].map(a=>r.jsx(Ae.div,{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-xs font-bold shadow ${t===2?"bg-secondary/80 text-secondary-foreground":"bg-muted/80 text-muted-foreground"}`,animate:{scale:t===2?[1,1.2,1]:1},transition:{duration:.5,delay:a*.05},children:e("partner.network.gen2")},a))}),r.jsx(te,{variant:"outline",className:"bg-secondary/10 text-secondary border-secondary/30",children:e("partner.dividends.cashback30")}),r.jsx("div",{className:"flex items-center gap-2 sm:gap-4 mt-2 flex-wrap justify-center max-w-xs sm:max-w-md",children:[1,2,3,4,5,6,7,8,9].map(a=>r.jsx(Ae.div,{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-[10px] sm:text-xs font-medium ${t===3?"bg-muted-foreground/20 text-foreground":"bg-muted/50 text-muted-foreground"}`,animate:{scale:t===3?[1,1.15,1]:1},transition:{duration:.5,delay:a*.03},children:e("partner.network.gen3")},a))}),r.jsx(te,{variant:"outline",className:"bg-muted text-muted-foreground",children:e("partner.dividends.cashback20")})]}),t>0&&r.jsxs(Ae.div,{className:"hidden sm:flex absolute top-1/2 right-4 items-center gap-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0},children:[r.jsx(Gy,{className:"w-5 h-5 text-secondary animate-pulse"}),r.jsx("span",{className:"text-sm font-bold text-secondary",children:e("partner.network.plusCashback")})]})]})}function uhe(){var v,b;const[,e]=za(),{toast:t}=Wt(),{t:n}=ps(),[a,s]=j.useState(null),[i,o]=j.useState("");j.useState(10);const[l,c]=j.useState({mySales:20,totalPoolSales:500,totalPartners:50,avgSalesPerPartner:10}),d=`https://wa.me/${che}?text=${encodeURIComponent(n("partner.whatsappMessage"))}`,u=j.useMemo(()=>[{id:"phase1",name:n("partner.tierNames.phase1"),subtitle:"Phase 1",price:1e3,lyPoints:2e3,dividendWeight:"1.0x",icon:Lt,features:[n("partner.tierFeatures.cashback50First5"),n("partner.tierFeatures.cashback30Next5"),n("partner.tierFeatures.cashback20Rest"),n("partner.tierFeatures.freeFirstBox"),n("partner.tierFeatures.photoShoot"),n("partner.tierFeatures.tenLevelBonus")],highlight:!0,disabled:!1,badge:n("landing.hotSelling")+"  "+n("landing.only50Slots")},{id:"phase2",name:n("partner.tierNames.phase2"),subtitle:"Phase 2",price:1300,lyPoints:2860,dividendWeight:"1.2x",icon:i0,features:[n("partner.tierFeatures.weight12x"),n("partner.tierFeatures.cashback50First5"),n("partner.tierFeatures.cashback30Next5"),n("partner.tierFeatures.factoryVip"),n("partner.tierFeatures.microFilm"),n("partner.tierFeatures.tenLevelBonus")],highlight:!1,disabled:!0,badge:n("landing.comingSoon")},{id:"phase3",name:n("partner.tierNames.phase3"),subtitle:"Phase 3",price:1500,lyPoints:3750,dividendWeight:"1.5x",icon:_Z,features:[n("partner.tierFeatures.weight15x"),n("partner.tierFeatures.topPoolPriority"),n("partner.tierFeatures.intlLaunch"),n("partner.tierFeatures.cobranding"),n("partner.tierFeatures.exclusiveBiz"),n("partner.tierFeatures.tenLevelBonus")],highlight:!1,disabled:!0,badge:n("landing.comingSoon")}],[n]),m=j.useMemo(()=>[{icon:as,title:n("partner.concepts.assetTransparency"),description:n("partner.concepts.assetTransparencyDesc")},{icon:lF,title:n("partner.concepts.earningsGuarantee"),description:n("partner.concepts.earningsGuaranteeDesc")},{icon:ll,title:n("partner.concepts.globalFlow"),description:n("partner.concepts.globalFlowDesc")}],[n]),h=j.useMemo(()=>[{level:1,percentage:20,description:n("partner.ly.level1")},{level:2,percentage:15,description:n("partner.ly.level2")},{level:3,percentage:10,description:n("partner.ly.level3")},{level:4,percentage:10,description:n("partner.ly.level4")},{level:5,percentage:10,description:n("partner.ly.level5")},{level:6,percentage:5,description:n("partner.ly.level6")},{level:7,percentage:5,description:n("partner.ly.level7")},{level:8,percentage:5,description:n("partner.ly.level8")},{level:9,percentage:5,description:n("partner.ly.level9")},{level:10,percentage:5,description:n("partner.ly.level10")}],[n]),f=j.useMemo(()=>[{question:n("partner.faqs.q1"),answer:n("partner.faqs.a1")},{question:n("partner.faqs.q2"),answer:n("partner.faqs.a2")},{question:n("partner.faqs.q3"),answer:n("partner.faqs.a3")},{question:n("partner.faqs.q4"),answer:n("partner.faqs.a4")},{question:n("partner.faqs.q5"),answer:n("partner.faqs.a5")},{question:n("partner.faqs.q6"),answer:n("partner.faqs.a6")}],[n]);Qt();const g=Ie({mutationFn:async N=>gX("POST","/api/partner/join",N),onSuccess:()=>{zs.invalidateQueries({queryKey:["/api/partner/profile"]}),t({title:n("partner.page.applicationSubmitted"),description:n("partner.page.applicationSubmittedDesc")}),s(null)},onError:N=>{t({title:n("partner.page.applicationFailed"),description:N.message,variant:"destructive"})}}),p=N=>{e("/partner/join")},x=()=>{a&&g.mutate({tier:a,referralCode:i||void 0})},y=j.useMemo(()=>{const k=l.totalPoolSales*199,P=k*.3,_=1+l.mySales,T=1+l.avgSalesPerPartner,I=l.totalPartners*T,A=_/I,R=P*A;return{totalSalesAmount:k,bonusPool:P,myTokens:_,totalTokens:I,myShare:A,myDividend:R}},[l]);return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(bg,{whatsappLink:d,metaShopLink:WR}),r.jsxs("section",{className:"pt-32 pb-24 relative overflow-hidden","data-testid":"section-partner-hero",children:[r.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-secondary/5 -skew-x-12 transform translate-x-1/4 -z-10"}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-3xl",children:r.jsxs(Ae.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},children:[r.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-serif text-primary mb-6 leading-tight","data-testid":"text-partner-title",children:[n("partner.page.heroTitle1"),r.jsx("br",{}),n("partner.page.heroTitle2"),r.jsx("span",{className:"text-secondary font-bold",children:n("partner.page.heroTitle3")})]}),r.jsxs("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 leading-relaxed","data-testid":"text-partner-subtitle",children:[n("partner.page.heroSubtitle"),r.jsx("strong",{children:n("partner.page.heroSubtitleBold")})]}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx(M,{size:"lg",className:"bg-primary text-primary-foreground",onClick:()=>{var N;return(N=document.getElementById("tiers"))==null?void 0:N.scrollIntoView({behavior:"smooth"})},"data-testid":"button-apply-now",children:n("partner.page.applyNow")}),r.jsx(M,{variant:"outline",size:"lg",onClick:()=>window.open(d,"_blank"),"data-testid":"button-download-whitepaper",children:n("partner.page.consultDetails")})]})]})})})]}),r.jsx("section",{className:"py-16 bg-secondary/10","data-testid":"section-income-promise",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:vs,className:"p-6",children:[r.jsx("p",{className:"text-5xl font-bold text-primary mb-2",children:"RM 1,000"}),r.jsx("p",{className:"text-muted-foreground",children:n("partner.page.minInvestment")})]}),r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:vs,transition:{delay:.1},className:"p-6",children:[r.jsx("p",{className:"text-5xl font-bold text-secondary mb-2",children:"2,000 LY"}),r.jsx("p",{className:"text-muted-foreground",children:n("partner.page.lyPointsObtained")})]}),r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:vs,transition:{delay:.2},className:"p-6",children:[r.jsx("p",{className:"text-5xl font-bold text-primary mb-2",children:r.jsx("span",{className:"text-secondary",children:""})}),r.jsx("p",{className:"text-muted-foreground",children:n("partner.page.unlimitedEarnings")})]})]})})}),r.jsx("section",{className:"py-20 bg-card","data-testid":"section-core-concepts",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12",children:m.map((N,w)=>r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:vs,transition:{delay:w*.1},className:"space-y-4",children:[r.jsx("div",{className:"w-14 h-14 bg-secondary/10 rounded-2xl flex items-center justify-center",children:r.jsx(N.icon,{className:"text-secondary w-7 h-7"})}),r.jsx("h3",{className:"text-xl md:text-2xl font-serif text-primary",children:N.title}),r.jsx("p",{className:"text-muted-foreground",children:N.description})]},w))})})}),r.jsx("section",{className:"py-20","data-testid":"section-two-dividends",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-dividends-title",children:n("partner.dividends.title")}),r.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:n("partner.dividends.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:vs,children:r.jsxs(V,{className:"h-full border-2 border-primary/20 overflow-hidden",children:[r.jsx(Te,{className:"bg-primary/5 pb-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-primary rounded-xl flex items-center justify-center",children:r.jsx(Hn,{className:"w-7 h-7 text-primary-foreground"})}),r.jsxs("div",{children:[r.jsx(te,{className:"bg-primary text-primary-foreground mb-1",children:n("partner.dividends.method1")}),r.jsx(Oe,{className:"text-2xl font-serif",children:n("partner.dividends.cashbackTitle")})]})]})}),r.jsxs(J,{className:"pt-6",children:[r.jsx("p",{className:"text-muted-foreground mb-6",children:n("partner.dividends.cashbackDesc")}),r.jsx(dhe,{t:n}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/5 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:n("partner.dividends.gen1")}),r.jsx(te,{className:"bg-primary text-primary-foreground",children:n("partner.dividends.cashback50")})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/5 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:n("partner.dividends.gen2")}),r.jsx(te,{className:"bg-secondary text-secondary-foreground",children:n("partner.dividends.cashback30")})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[r.jsx("span",{className:"font-medium",children:n("partner.dividends.gen3")}),r.jsx(te,{variant:"outline",children:n("partner.dividends.cashback20")})]})]}),r.jsx("div",{className:"mt-6 p-4 bg-secondary/10 rounded-xl border border-secondary/20",children:r.jsx("p",{className:"text-sm",children:n("partner.dividends.cashbackExample")})})]})]})}),r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:vs,transition:{delay:.2},children:r.jsxs(V,{className:"h-full border-2 border-secondary/20 overflow-hidden",children:[r.jsx(Te,{className:"bg-secondary/5 pb-4",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 bg-secondary rounded-xl flex items-center justify-center",children:r.jsx(t0,{className:"w-7 h-7 text-secondary-foreground"})}),r.jsxs("div",{children:[r.jsx(te,{className:"bg-secondary text-secondary-foreground mb-1",children:n("partner.dividends.method2")}),r.jsx(Oe,{className:"text-2xl font-serif",children:n("partner.dividends.rwaTitle")})]})]})}),r.jsxs(J,{className:"pt-6",children:[r.jsx("p",{className:"text-muted-foreground mb-6",children:n("partner.dividends.rwaDesc")}),r.jsx("div",{className:"relative py-6",children:r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2",children:r.jsx(Jo,{className:"w-8 h-8 text-primary"})}),r.jsx("p",{className:"text-2xl font-bold text-primary",children:"30%"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n("partner.dividends.salesIntoPool")})]}),r.jsx(ri,{className:"w-6 h-6 text-muted-foreground"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary/10 flex items-center justify-center mx-auto mb-2",children:r.jsx(Gy,{className:"w-8 h-8 text-secondary"})}),r.jsx("p",{className:"text-2xl font-bold text-secondary",children:"RWA"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n("partner.dividends.distributeByToken")})]}),r.jsx(ri,{className:"w-6 h-6 text-muted-foreground"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2",children:r.jsx(ms,{className:"w-8 h-8 text-primary"})}),r.jsx("p",{className:"text-2xl font-bold text-primary",children:n("partner.dividends.yourDividend")}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n("partner.dividends.yourDividend")})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/5 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:n("partner.dividends.autoToken")}),r.jsx("span",{className:"font-bold text-secondary",children:"1 RWA"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/5 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:n("partner.dividends.tokenPerSale")}),r.jsx("span",{className:"font-bold text-secondary",children:"+1 RWA"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/5 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:n("partner.dividends.cycleReset")}),r.jsx("span",{className:"font-bold text-primary",children:n("partner.dividends.tokenReset")})]})]}),r.jsx("div",{className:"mt-6 p-4 bg-primary/10 rounded-xl border border-primary/20",children:r.jsx("p",{className:"text-sm",children:n("partner.dividends.rwaExample")})})]})]})})]})]})}),r.jsx("section",{className:"py-20 bg-primary text-primary-foreground","data-testid":"section-ly-mechanism",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif mb-4","data-testid":"text-ly-title",children:n("partner.ly.title")}),r.jsx("p",{className:"opacity-80 max-w-2xl mx-auto",children:n("partner.ly.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start",children:[r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:vs,children:r.jsxs(V,{className:"p-6 bg-primary-foreground/10 border-primary-foreground/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-12 h-12 bg-secondary/20 rounded-xl flex items-center justify-center",children:r.jsx(Mt,{className:"w-6 h-6 text-secondary"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold",children:n("partner.ly.networkTitle")}),r.jsx("p",{className:"text-sm opacity-70",children:n("partner.ly.networkSubtitle")})]})]}),r.jsx("div",{className:"space-y-2",children:h.map(N=>r.jsxs("div",{className:"flex items-center gap-3","data-testid":`ly-level-${N.level}`,children:[r.jsx("div",{className:"w-7 h-7 rounded-full bg-secondary/20 flex items-center justify-center text-xs font-bold text-secondary",children:N.level}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"h-5 bg-primary-foreground/10 rounded-full overflow-hidden",children:r.jsx(Ae.div,{className:"h-full bg-secondary rounded-full flex items-center justify-end pr-2",initial:{width:0},whileInView:{width:`${N.percentage*5}%`},viewport:{once:!0},transition:{duration:.8,delay:N.level*.05},children:r.jsxs("span",{className:"text-xs font-bold text-secondary-foreground",children:[N.percentage,"%"]})})})}),r.jsx("span",{className:"text-xs opacity-70 w-10",children:N.description})]},N.level))}),r.jsx("div",{className:"mt-6 p-4 bg-secondary/20 rounded-xl",children:r.jsxs("p",{className:"text-sm",children:[n("partner.ly.totalReplenish")," ",r.jsx("span",{className:"text-secondary font-bold",children:"100%"})," ",n("partner.ly.ofSales")]})})]})}),r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:vs,className:"space-y-6",children:[r.jsxs(V,{className:"p-6 bg-primary-foreground/10 border-primary-foreground/20",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(FZ,{className:"w-8 h-8 text-secondary"}),r.jsx("h3",{className:"text-xl font-bold",children:n("partner.ly.cycleTitle")})]}),r.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"px-4 py-2 bg-secondary/20 rounded-lg font-medium",children:n("partner.ly.salesGenerate")}),r.jsx(ri,{className:"w-5 h-5"}),r.jsx("div",{className:"px-4 py-2 bg-secondary/20 rounded-lg font-medium",children:n("partner.ly.enterWallet")})]}),r.jsx(fZ,{className:"w-5 h-5"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"px-4 py-2 bg-secondary rounded-lg font-medium text-secondary-foreground",children:n("partner.ly.withdrawDeduct")}),r.jsx(ri,{className:"w-5 h-5"}),r.jsx("div",{className:"px-4 py-2 bg-secondary rounded-lg font-medium text-secondary-foreground",children:n("partner.ly.networkReplenish")})]}),r.jsx(nr,{className:"w-5 h-5 text-secondary"}),r.jsxs("p",{className:"text-sm opacity-80 text-center",children:[n("partner.ly.keepActive"),r.jsx("br",{}),r.jsx("span",{className:"text-secondary font-bold text-lg",children:n("partner.ly.neverDry")})]})]})]}),r.jsx(V,{className:"p-6 bg-secondary/20 border-secondary/30",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(dg,{className:"w-6 h-6 text-secondary flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold mb-2",children:n("partner.ly.whyMoreTitle")}),r.jsx("p",{className:"text-sm opacity-80",children:n("partner.ly.whyMoreDesc")})]})]})}),r.jsx(V,{className:"p-6 bg-destructive/10 border-destructive/30",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(yl,{className:"w-6 h-6 text-destructive flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-foreground mb-2",children:n("partner.ly.importantNote")}),r.jsx("p",{className:"text-sm text-foreground/80",children:n("partner.ly.importantNoteDesc")})]})]})})]})]})]})}),r.jsx("section",{id:"tiers",className:"py-20","data-testid":"section-partner-tiers",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-tiers-title",children:n("partner.tierSection.title")}),r.jsx("p",{className:"text-muted-foreground",children:n("partner.tierSection.subtitle")})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:u.map((N,w)=>r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:vs,transition:{delay:w*.1},className:N.highlight?"md:scale-105 md:z-10":"",children:r.jsxs(V,{className:`h-full flex flex-col relative overflow-hidden ${N.highlight?"border-2 border-secondary shadow-lg":N.disabled?"border border-muted-foreground/20 opacity-60":"border"}`,"data-testid":`card-tier-${N.id}`,children:[N.badge&&r.jsx("div",{className:"absolute -top-0 left-0 right-0",children:r.jsx(te,{className:`w-full rounded-none justify-center py-1 ${N.highlight?"bg-secondary text-secondary-foreground animate-pulse":"bg-muted-foreground/50 text-muted-foreground"}`,children:N.badge})}),r.jsxs(Te,{className:`text-center pt-10 ${N.highlight?"bg-secondary/5":N.disabled?"bg-muted/20":"bg-muted/30"}`,children:[r.jsx("div",{className:`mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${N.highlight?"bg-secondary text-secondary-foreground":N.disabled?"bg-muted text-muted-foreground":"bg-primary text-primary-foreground"}`,children:r.jsx(N.icon,{className:"w-8 h-8"})}),r.jsx(Oe,{className:`text-2xl font-serif ${N.disabled?"text-muted-foreground":""}`,children:N.name}),r.jsx(te,{variant:"outline",className:`mx-auto mt-2 ${N.disabled?"opacity-50":""}`,children:N.subtitle})]}),r.jsxs(J,{className:"flex-1 p-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-widest",children:n("partner.tierSection.invest")}),r.jsxs("div",{className:`text-3xl font-bold mt-1 ${N.disabled?"text-muted-foreground":"text-foreground"}`,children:["RM ",N.price.toLocaleString()]})]}),r.jsxs("div",{className:`p-4 rounded-xl text-center mb-6 ${N.disabled?"bg-muted/30 border border-muted-foreground/20":"bg-secondary/10 border border-secondary/20"}`,children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:n("partner.tierSection.getLyPoints")}),r.jsx("p",{className:`text-3xl font-bold ${N.disabled?"text-muted-foreground":"text-secondary"}`,children:N.lyPoints.toLocaleString()}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n("partner.tierSection.minWithdraw"),N.lyPoints.toLocaleString()]})]}),r.jsx("ul",{className:"space-y-3",children:N.features.map((k,P)=>r.jsxs("li",{className:"flex items-start gap-3 text-sm",children:[r.jsx("div",{className:`mt-0.5 shrink-0 w-4 h-4 rounded-full flex items-center justify-center ${N.disabled?"bg-muted-foreground/20":"bg-secondary/20"}`,children:r.jsx(De,{className:`w-3 h-3 ${N.disabled?"text-muted-foreground/50":"text-secondary"}`})}),r.jsx("span",{className:N.disabled?"text-muted-foreground/60":"text-muted-foreground",children:k})]},P))})]}),r.jsx(G_,{className:"p-6 pt-0",children:r.jsxs(M,{className:`w-full ${N.highlight?"bg-secondary text-secondary-foreground":""}`,variant:N.highlight?"default":N.disabled?"secondary":"outline",onClick:()=>!N.disabled&&p(N.id),disabled:N.disabled,"data-testid":`button-join-${N.id}`,children:[N.disabled?n("landing.waitingToOpen"):n("partner.tierSection.consultNow"),!N.disabled&&r.jsx(ri,{className:"ml-2 w-4 h-4"})]})})]})},N.id))})]})}),r.jsx("section",{className:"py-20 bg-card","data-testid":"section-rwa-simulator",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-simulator-title",children:n("partner.simulator.title")}),r.jsx("p",{className:"text-muted-foreground",children:n("partner.simulator.subtitle")})]}),r.jsx(V,{className:"p-6 md:p-8 max-w-4xl mx-auto",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs(Be,{className:"mb-2 block",children:[n("partner.simulator.mySales"),": ",r.jsxs("span",{className:"text-secondary font-bold",children:[l.mySales," ",n("partner.simulator.boxes")]})]}),r.jsx(Wh,{value:[l.mySales],onValueChange:([N])=>c(w=>({...w,mySales:N})),min:0,max:100,step:1,className:"w-full","data-testid":"slider-my-sales"})]}),r.jsxs("div",{children:[r.jsxs(Be,{className:"mb-2 block",children:[n("partner.simulator.totalPlatformSales"),": ",r.jsxs("span",{className:"text-secondary font-bold",children:[l.totalPoolSales," ",n("partner.simulator.boxes")]})]}),r.jsx(Wh,{value:[l.totalPoolSales],onValueChange:([N])=>c(w=>({...w,totalPoolSales:N})),min:100,max:2e3,step:10,className:"w-full","data-testid":"slider-total-sales"})]}),r.jsxs("div",{children:[r.jsxs(Be,{className:"mb-2 block",children:[n("partner.simulator.activePartners"),": ",r.jsxs("span",{className:"text-secondary font-bold",children:[l.totalPartners," ",n("partner.simulator.people")]})]}),r.jsx(Wh,{value:[l.totalPartners],onValueChange:([N])=>c(w=>({...w,totalPartners:N})),min:10,max:200,step:5,className:"w-full","data-testid":"slider-total-partners"})]}),r.jsxs("div",{children:[r.jsxs(Be,{className:"mb-2 block",children:[n("partner.simulator.avgSalesPerPerson"),": ",r.jsxs("span",{className:"text-secondary font-bold",children:[l.avgSalesPerPartner," ",n("partner.simulator.boxes")]})]}),r.jsx(Wh,{value:[l.avgSalesPerPartner],onValueChange:([N])=>c(w=>({...w,avgSalesPerPartner:N})),min:1,max:50,step:1,className:"w-full","data-testid":"slider-avg-sales"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 rounded-xl bg-muted",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-muted-foreground",children:n("partner.simulator.cycleTotalSales")}),r.jsxs("span",{className:"font-bold",children:["RM ",y.totalSalesAmount.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:n("partner.simulator.bonusPool30")}),r.jsxs("span",{className:"font-bold text-secondary",children:["RM ",y.bonusPool.toLocaleString()]})]})]}),r.jsxs("div",{className:"p-4 rounded-xl bg-muted",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-muted-foreground",children:n("partner.simulator.myRwaTokens")}),r.jsxs("span",{className:"font-bold",children:[y.myTokens," ",n("partner.simulator.units")]})]}),r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-muted-foreground",children:n("partner.simulator.totalPlatformTokens")}),r.jsxs("span",{className:"font-bold",children:[y.totalTokens.toLocaleString()," ",n("partner.simulator.units")]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:n("partner.simulator.myRatio")}),r.jsxs("span",{className:"font-bold text-secondary",children:[(y.myShare*100).toFixed(2),"%"]})]})]}),r.jsxs("div",{className:"p-6 rounded-xl bg-secondary/10 border border-secondary/30",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:n("partner.simulator.estimatedCycleDividend")}),r.jsxs("p",{className:"text-4xl font-bold text-secondary","data-testid":"text-rwa-dividend",children:["RM ",y.myDividend.toFixed(2)]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:n("partner.simulator.withdrawNeedsLy")})]})]})]})})]})}),r.jsx("section",{className:"py-20 bg-muted/30","data-testid":"section-ecosystem",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[r.jsx(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:vs,children:r.jsx("img",{src:"/attached_assets/love_young_ecosystem_20260106043624_1_1769380035812.png",alt:n("partner.ecosystem.imgAlt"),className:"rounded-2xl shadow-xl w-full","data-testid":"img-ecosystem"})}),r.jsxs(Ae.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:vs,className:"space-y-6",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary","data-testid":"text-ecosystem-title",children:n("partner.ecosystem.title")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n("partner.ecosystem.desc1")}),r.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n("partner.ecosystem.desc2")}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[r.jsxs("div",{className:"p-4 rounded-xl bg-background border",children:[r.jsx("p",{className:"text-2xl font-bold text-secondary",children:"5+"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:n("partner.ecosystem.modules")})]}),r.jsxs("div",{className:"p-4 rounded-xl bg-background border",children:[r.jsx("p",{className:"text-2xl font-bold text-secondary",children:"360"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:n("partner.ecosystem.fullSupport")})]})]})]})]})})}),r.jsx("section",{id:"faq",className:"py-20","data-testid":"section-faq",children:r.jsxs("div",{className:"max-w-3xl mx-auto px-4 md:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-faq-title",children:n("partner.faqs.title")}),r.jsx("p",{className:"text-muted-foreground",children:n("partner.faqs.subtitle")})]}),r.jsx(WV,{type:"single",collapsible:!0,className:"w-full",children:f.map((N,w)=>r.jsxs(dC,{value:`item-${w}`,"data-testid":`faq-item-${w}`,children:[r.jsx(uC,{className:"text-left","data-testid":`faq-trigger-${w}`,children:N.question}),r.jsx(mC,{className:"text-muted-foreground",children:N.answer})]},w))})]})}),r.jsx("section",{className:"py-20 bg-secondary/10","data-testid":"section-cta",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-6 lg:px-8 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-6","data-testid":"text-cta-title",children:n("partner.cta.title")}),r.jsxs("p",{className:"text-lg text-muted-foreground mb-8 max-w-2xl mx-auto",children:[n("partner.cta.subtitle"),r.jsx("strong",{children:n("partner.cta.subtitleBold")})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[r.jsxs(M,{size:"lg",className:"bg-secondary text-secondary-foreground",onClick:()=>{var N;return(N=document.getElementById("tiers"))==null?void 0:N.scrollIntoView({behavior:"smooth"})},"data-testid":"button-final-cta",children:[n("partner.cta.becomePartner"),r.jsx(ri,{className:"ml-2 w-5 h-5"})]}),r.jsxs(M,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>window.open(d,"_blank"),"data-testid":"button-contact-whatsapp",children:[r.jsx(Es,{className:"w-5 h-5"}),n("partner.cta.whatsappConsult")]})]})]})}),a&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4","data-testid":"modal-join",children:r.jsxs(V,{className:"w-full max-w-md p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:n("partner.modal.title")}),r.jsxs("p",{className:"text-muted-foreground mb-6",children:[n("partner.modal.selectedTier")," ",(v=u.find(N=>N.id===a))==null?void 0:v.name,"(RM ",(b=u.find(N=>N.id===a))==null?void 0:b.price.toLocaleString(),")"]}),r.jsx("div",{className:"space-y-4 mb-6",children:r.jsxs("div",{children:[r.jsx(Be,{htmlFor:"referralCode",children:n("partner.modal.referralCodeOptional")}),r.jsx(se,{id:"referralCode",placeholder:n("partner.modal.referralCodePlaceholder"),value:i,onChange:N=>o(N.target.value.toUpperCase()),maxLength:8,"data-testid":"input-referral-code"})]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(M,{variant:"outline",className:"flex-1",onClick:()=>s(null),"data-testid":"button-cancel-join",children:n("partner.modal.cancel")}),r.jsx(M,{className:"flex-1 bg-secondary text-secondary-foreground",onClick:x,disabled:g.isPending,"data-testid":"button-confirm-join",children:g.isPending?"...":n("partner.modal.confirmAndPay")})]})]})}),r.jsx(wg,{whatsappLink:d,metaShopLink:WR})]})}var mhe="Separator",HR="horizontal",hhe=["horizontal","vertical"],HV=j.forwardRef((e,t)=>{const{decorative:n,orientation:a=HR,...s}=e,i=fhe(a)?a:HR,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(Ue.div,{"data-orientation":i,...l,...s,ref:t})});HV.displayName=mhe;function fhe(e){return hhe.includes(e)}var GV=HV;const Qr=j.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...a},s)=>r.jsx(GV,{ref:s,decorative:n,orientation:t,className:Ce("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Qr.displayName=GV.displayName;const GR="loveyoung_referral_code",phe=e=>[{id:"phase1",phase:1,name:e("member.partnerJoin.packages.phase1.name"),price:1e3,lyPoints:2e3,rwaTokens:1,features:[e("member.partnerJoin.packages.phase1.feature1"),e("member.partnerJoin.packages.phase1.feature2"),e("member.partnerJoin.packages.phase1.feature3"),e("member.partnerJoin.packages.phase1.feature4")],popular:!1,available:!0},{id:"phase2",phase:2,name:e("member.partnerJoin.packages.phase2.name"),price:1300,lyPoints:2600,rwaTokens:1,features:[e("member.partnerJoin.packages.phase2.feature1"),e("member.partnerJoin.packages.phase2.feature2"),e("member.partnerJoin.packages.phase2.feature3"),e("member.partnerJoin.packages.phase2.feature4")],popular:!0,available:!1},{id:"phase3",phase:3,name:e("member.partnerJoin.packages.phase3.name"),price:1500,lyPoints:3e3,rwaTokens:1,features:[e("member.partnerJoin.packages.phase3.feature1"),e("member.partnerJoin.packages.phase3.feature2"),e("member.partnerJoin.packages.phase3.feature3"),e("member.partnerJoin.packages.phase3.feature4"),e("member.partnerJoin.packages.phase3.feature5")],popular:!1,available:!1}];function ghe(){var E,L,$,B,K;const{t:e}=ct();za();const{toast:t}=Wt(),{user:n,refreshUserData:a,loading:s}=Qt(),[i,o]=j.useState("phase1"),[l,c]=j.useState(""),[d,u]=j.useState(!1),[m,h]=j.useState("profile"),[f,g]=j.useState(""),[p,x]=j.useState(""),[y,v]=j.useState(!1),[b,N]=j.useState(!1),w=phe(e),{data:k,isLoading:P,refetch:_}=Le({queryKey:["partner-join-state",n==null?void 0:n.id],queryFn:async()=>{if(!n)return{user:null,member:null,partner:null};try{const{member:S}=await yoe(n.id);let D=null;return S&&(D=(await koe(S.id)).partner),{user:{id:n.id,email:n.email},member:S,partner:D}}catch(S){return console.error("Error fetching user state:",S),{user:null,member:null,partner:null}}},enabled:!s,retry:1,staleTime:3e4}),T=s||P;j.useEffect(()=>{const D=new URLSearchParams(window.location.search).get("ref");if(D){c(D.toUpperCase()),u(!0);try{localStorage.setItem(GR,D.toUpperCase())}catch{}}else try{const G=localStorage.getItem(GR);G&&(c(G.toUpperCase()),u(!0))}catch{}},[]),j.useEffect(()=>{new URLSearchParams(window.location.search).get("payment")==="success"&&(h("success"),window.history.replaceState({},"",window.location.pathname),_(),a())},[]),j.useEffect(()=>{k&&m!=="success"&&(k.member?h("package"):k.user&&h("profile"))},[k]);const I=m==="profile"&&(k!=null&&k.member||k!=null&&k.partner)?"package":m,A=async()=>{if(!f.trim()||!p.trim()){t({title:e("auth.fillRequired")||"",variant:"destructive"});return}if(k!=null&&k.user){v(!0);try{const{member:S,error:D}=await S0(k.user.id,{name:f.trim(),phone:p.trim(),email:k.user.email});if(D)throw D;const{data:G}=await Y.from("users").select("role").eq("id",k.user.id).single(),q=(G==null?void 0:G.role)==="admin"||(G==null?void 0:G.role)==="partner";await Y.from("users").update({first_name:f.trim(),phone:p.trim(),...q?{}:{role:"member"}}).eq("id",k.user.id),t({title:e("auth.profileSaved")||""}),await _(),h("package")}catch(S){t({title:e("auth.profileSaveFailed")||"",description:S.message,variant:"destructive"})}finally{v(!1)}}},R=async()=>{if(!i||!(k!=null&&k.member))return;const S=w.find(D=>D.id===i);if(S){N(!0);try{const D=await fetch("https://vpzmhglfwomgrashheol.supabase.co/functions/v1/create-partner-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwem1oZ2xmd29tZ3Jhc2hoZW9sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NjE1NjQsImV4cCI6MjA4NTAzNzU2NH0.anMz844nf2-sscp4yX5ctLGMMaRjKy24YKjPWAEDUN4"},body:JSON.stringify({memberId:k.member.id,tier:i,packageName:S.name,price:S.price*100,referralCode:l||void 0,isUpgrade:!!k.partner,successUrl:`${window.location.origin}/partner/join?payment=success`,cancelUrl:`${window.location.origin}/partner/join?payment=cancelled`})}),G=await D.json();if(D.ok&&G.url)window.location.href=G.url;else throw new Error(G.error||"Failed to create checkout session")}catch(D){console.error("Payment error:",D),t({title:e("member.partnerJoin.applicationFailed"),description:D.message,variant:"destructive"}),N(!1)}}};return T?r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-secondary"})}):k!=null&&k.user?m==="success"?r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-secondary/10 to-background",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16",children:r.jsxs(V,{className:"text-center",children:[r.jsxs(Te,{children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:r.jsx(IZ,{className:"w-10 h-10 text-green-500"})}),r.jsx(Oe,{className:"text-2xl",children:e("member.partnerJoin.applicationSuccess")}),r.jsx(hn,{children:e("member.partnerJoin.congratsMessage")})]}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerJoin.reviewProcess")}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(De,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{children:e("member.partnerJoin.ensurePayment")})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(En,{href:"/member/partner",children:r.jsxs(M,{className:"w-full bg-secondary text-secondary-foreground gap-2",children:[r.jsx(Mn,{className:"w-5 h-5"}),e("member.partnerJoin.goToDashboard")]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(En,{href:"/member",children:r.jsx(M,{variant:"outline",className:"w-full",children:e("member.partnerJoin.backToMember")})}),r.jsx(En,{href:"/",children:r.jsx(M,{variant:"ghost",className:"w-full",children:e("member.partnerJoin.backToHome")})})]})]})]})]})})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-primary/5 to-background",children:[r.jsx("header",{className:"sticky top-0 z-50 bg-primary text-primary-foreground",children:r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(En,{href:"/partner",children:r.jsx(M,{variant:"ghost",size:"icon",className:"text-primary-foreground",children:r.jsx(Ra,{className:"w-5 h-5"})})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"w-5 h-5 text-secondary"}),r.jsx("span",{className:"font-semibold",children:e("member.partnerJoin.joinPartner")})]})]}),r.jsx(te,{variant:"outline",className:"text-primary-foreground border-primary-foreground/30",children:I==="profile"?e("member.partnerJoin.stepProfile")||" 1/3":I==="package"?e("member.partnerJoin.step1")||" 2/3":e("member.partnerJoin.step2")||" 3/3"})]})}),r.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[I==="profile"&&(k==null?void 0:k.user)&&!(k!=null&&k.member)&&r.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary/20 flex items-center justify-center mx-auto mb-4",children:r.jsx(Kr,{className:"w-8 h-8 text-secondary"})}),r.jsx("h1",{className:"text-2xl font-serif text-primary mb-2",children:e("member.partnerJoin.completeProfile")||""}),r.jsx("p",{className:"text-muted-foreground",children:e("member.partnerJoin.profileDesc")||""})]}),r.jsx(V,{children:r.jsxs(J,{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Be,{htmlFor:"profileName",children:[e("auth.firstName")||""," *"]}),r.jsx(se,{id:"profileName",value:f,onChange:S=>g(S.target.value),placeholder:e("member.partnerJoin.namePlaceholder")||"","data-testid":"input-profile-name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Be,{htmlFor:"profilePhone",children:[e("auth.phone")||""," *"]}),r.jsx(se,{id:"profilePhone",type:"tel",value:p,onChange:S=>x(S.target.value),placeholder:"+60 12-345 6789","data-testid":"input-profile-phone"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{className:"text-muted-foreground",children:e("auth.email")||""}),r.jsx(se,{value:k.user.email||"",disabled:!0,className:"bg-muted"})]})]})}),r.jsxs(M,{className:"w-full bg-secondary text-secondary-foreground gap-2",size:"lg",onClick:A,disabled:y||!f.trim()||!p.trim(),"data-testid":"button-save-profile",children:[y?r.jsx(fe,{className:"w-5 h-5 animate-spin"}):r.jsx(De,{className:"w-5 h-5"}),e("member.partnerJoin.continueToPackage")||""]})]}),I==="package"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-2xl font-serif text-primary mb-2",children:e("member.partnerJoin.selectPackage")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.partnerJoin.selectPackageDesc")})]}),(k==null?void 0:k.partner)&&r.jsx(V,{className:"border-secondary/50 bg-secondary/5",children:r.jsxs(J,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(De,{className:"w-5 h-5 text-green-500"}),r.jsx("span",{className:"font-medium",children:e("member.partnerJoin.alreadyPartner")}),r.jsxs(te,{variant:"outline",className:"ml-auto",children:["Phase ",k.partner.tier==="phase1"?1:k.partner.tier==="phase2"?2:3]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"flex justify-between p-2 bg-background rounded",children:[r.jsx("span",{className:"text-muted-foreground",children:"LY"}),r.jsx("span",{className:"font-bold text-secondary",children:k.partner.lyBalance})]}),r.jsxs("div",{className:"flex justify-between p-2 bg-background rounded",children:[r.jsx("span",{className:"text-muted-foreground",children:"RWA"}),r.jsx("span",{className:"font-bold text-primary",children:k.partner.rwaTokens})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" RWA  LY "})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w.map(S=>r.jsxs(V,{className:`relative transition-all ${S.available?i===S.id?"border-secondary ring-2 ring-secondary/20 cursor-pointer":"hover:border-primary/50 cursor-pointer":"opacity-60 cursor-not-allowed"}`,onClick:()=>S.available&&o(S.id),"data-testid":`package-${S.id}`,children:[!S.available&&r.jsx(te,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-muted text-muted-foreground",children:e("member.partnerJoin.comingSoon")||""}),S.available&&S.popular&&r.jsx(te,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-secondary text-secondary-foreground",children:e("member.partnerJoin.mostPopular")}),r.jsxs(Te,{className:"text-center pb-2",children:[r.jsx(Oe,{className:"text-lg",children:S.name}),r.jsxs("div",{className:"text-3xl font-bold text-primary mt-2",children:["RM ",S.price.toLocaleString()]})]}),r.jsxs(J,{children:[r.jsx("div",{className:"space-y-2 mb-4",children:S.features.map((D,G)=>r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(De,{className:`w-4 h-4 flex-shrink-0 ${S.available?"text-green-500":"text-muted-foreground"}`}),r.jsx("span",{children:D})]},G))}),r.jsxs("div",{className:"flex items-center justify-center gap-4 pt-4 border-t",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Lt,{className:"w-5 h-5 text-secondary mx-auto"}),r.jsx("div",{className:"text-lg font-bold text-secondary",children:S.lyPoints}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"LY"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(pl,{className:"w-5 h-5 text-primary mx-auto"}),r.jsx("div",{className:"text-lg font-bold text-primary",children:S.rwaTokens}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"RWA"})]})]})]})]},S.id))}),l&&r.jsx(V,{className:"border-green-200 bg-green-50/50",children:r.jsxs(J,{className:"p-4 flex items-center gap-3",children:[r.jsx(De,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",children:e("member.partnerJoin.referralCodeLabel")}),r.jsx("p",{className:"font-mono text-lg font-bold text-primary",children:l})]}),r.jsx(te,{variant:"outline",className:"text-green-600 border-green-300",children:e("member.partnerJoin.referralApplied")||""})]})}),r.jsx(M,{className:"w-full bg-secondary text-secondary-foreground gap-2",size:"lg",disabled:!i,onClick:()=>h("payment"),"data-testid":"button-next",children:e("member.partnerJoin.nextStep")})]}),I==="payment"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(M,{variant:"ghost",className:"gap-2",onClick:()=>h("package"),children:[r.jsx(Ra,{className:"w-4 h-4"}),e("member.partnerJoin.backToPackage")]}),r.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[r.jsxs(V,{children:[r.jsx(Te,{children:r.jsx(Oe,{children:e("member.partnerJoin.orderConfirm")})}),r.jsx(J,{className:"space-y-4",children:i&&r.jsxs(r.Fragment,{children:[(k==null?void 0:k.partner)&&r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-secondary/10 rounded text-sm mb-2",children:[r.jsx(Mn,{className:"w-4 h-4 text-secondary"}),r.jsx("span",{children:"   RWA  LY "})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("member.partnerJoin.package")}),r.jsx("span",{className:"font-medium",children:(E=w.find(S=>S.id===i))==null?void 0:E.name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("member.partnerDashboard.lyPoints")}),r.jsxs("span",{className:"font-medium text-secondary",children:["+",(L=w.find(S=>S.id===i))==null?void 0:L.lyPoints]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("member.partnerDashboard.rwaToken")}),r.jsxs("span",{className:"font-medium text-primary",children:["+",($=w.find(S=>S.id===i))==null?void 0:$.rwaTokens]})]}),l&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("member.partnerJoin.referralCodeLabel")}),r.jsx("span",{className:"font-mono",children:l})]}),r.jsx(Qr,{}),r.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[r.jsx("span",{children:e("member.partnerJoin.amountToPay")}),r.jsxs("span",{className:"text-primary",children:["RM ",(B=w.find(S=>S.id===i))==null?void 0:B.price.toLocaleString()]})]})]})})]}),r.jsxs(V,{className:"bg-gradient-to-br from-secondary/10 to-primary/10",children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(i0,{className:"w-5 h-5 text-primary"}),e("member.partnerJoin.securityGuarantee")]})}),r.jsxs(J,{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-green-500 mt-0.5"}),r.jsx("span",{children:e("member.partnerJoin.encryptedTransaction")})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-green-500 mt-0.5"}),r.jsx("span",{children:e("member.partnerJoin.activationTime")})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-green-500 mt-0.5"}),r.jsx("span",{children:e("member.partnerJoin.support24h")})]})]})]}),r.jsx(V,{children:r.jsx(J,{className:"p-4 text-sm text-muted-foreground",children:r.jsxs("p",{className:"flex items-start gap-2",children:[r.jsx(Wu,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:e("member.partnerJoin.paymentNote")})]})})}),r.jsxs(M,{className:"w-full bg-[#635BFF] hover:bg-[#5851DB] text-white gap-2",size:"lg",onClick:R,disabled:b,"data-testid":"button-pay",children:[b?r.jsx(fe,{className:"w-5 h-5 animate-spin"}):r.jsx(Lr,{className:"w-5 h-5"}),e("member.partnerJoin.confirmPay")," RM ",(K=w.find(S=>S.id===i))==null?void 0:K.price.toLocaleString()]}),r.jsx("p",{className:"text-xs text-center text-muted-foreground",children:e("member.partnerJoin.stripePaymentNote")||"FPXGrabPay "})]})]})]})]}):r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-primary/10 to-background",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16",children:r.jsxs(V,{className:"text-center",children:[r.jsxs(Te,{children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary/20 flex items-center justify-center mx-auto mb-4",children:r.jsx(Jr,{className:"w-8 h-8 text-secondary"})}),r.jsx(Oe,{className:"text-2xl",children:e("member.partnerJoin.title")}),r.jsx(hn,{children:e("member.partnerJoin.loginRequired")})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg text-left",children:[r.jsxs("h3",{className:"font-bold mb-2 flex items-center gap-2",children:[r.jsx(Hn,{className:"w-5 h-5 text-secondary"}),e("member.partnerJoin.exclusiveBenefits")]}),r.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-green-500"}),e("member.partnerJoin.maxLyPoints")]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-green-500"}),e("member.partnerJoin.rwaDividend")]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-4 h-4 text-green-500"}),e("member.partnerJoin.tenLevelNetwork")]})]})]}),r.jsxs(M,{className:"w-full bg-secondary text-secondary-foreground gap-2",size:"lg",onClick:()=>window.location.href="/auth/login","data-testid":"button-login-join",children:[r.jsx(Jr,{className:"w-5 h-5"}),e("member.partnerJoin.loginToJoin")]}),r.jsx(En,{href:"/partner",children:r.jsxs(M,{variant:"outline",className:"w-full gap-2",children:[r.jsx(Ra,{className:"w-4 h-4"}),e("member.partnerJoin.learnMore")]})})]})]})})})}function xhe(){const{t:e}=ct(),t=sY(),[,n]=za(),[a,s]=j.useState(!0),[i,o]=j.useState(null),l=j.useRef(!1),d=new URLSearchParams(t).get("order")||"";j.useEffect(()=>{l.current||(l.current=!0,u())},[]);async function u(){try{const m=Eoe();if(!m||m.orderNumber!==d){s(!1);return}const{bill:h}=await joe(m.orderId);if(h){kE(),s(!1);return}const{data:{user:f}}=await Y.auth.getUser();let g=null;if(f){const{member:p,created:x}=await S0(f.id,{name:m.deliveryInfo.customerName,phone:m.deliveryInfo.phone,email:f.email});p&&(g=p.id,x&&m.referrerId&&await Y.from("members").update({referrer_id:m.referrerId}).eq("id",p.id),m.selectedAddressId||await w2(p.id,{recipientName:m.deliveryInfo.customerName,phone:m.deliveryInfo.phone,addressLine1:m.deliveryInfo.address,city:m.deliveryInfo.city,state:m.deliveryInfo.state,postcode:m.deliveryInfo.postcode,isDefault:!0}),await Y.from("orders").update({member_id:p.id}).eq("id",m.orderId),zs.invalidateQueries({queryKey:["member-profile"]}),zs.invalidateQueries({queryKey:["member-addresses"]}))}await woe(m.orderId,m.orderNumber,m.currentPrice*100,g),m.selections&&m.selections.length>0&&await Noe(m.orderId,m.selections.map(p=>({flavor:p.key,quantity:p.quantity}))),await Soe(m.orderId,m.currentPrice*100),g&&await Poe(m.orderId,g),kE()}catch(m){console.error("Checkout success processing error:",m),o(m instanceof Error?m.message:"Processing error")}finally{s(!1)}}return a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx(fe,{className:"w-12 h-12 animate-spin text-primary mx-auto"}),r.jsx("p",{className:"text-lg text-muted-foreground",children:e("checkout.processing")})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-6 text-center",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:r.jsx(De,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:e("checkout.successTitle")}),r.jsx("p",{className:"text-muted-foreground",children:e("checkout.successDesc")})]}),d&&r.jsxs(V,{className:"p-5",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e("member.orders.orderNumber")||"Order Number"}),r.jsx("p",{className:"text-2xl font-bold text-primary",children:d})]}),i&&r.jsx(V,{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:r.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:i})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(M,{className:"w-full gap-2",onClick:()=>n("/member/orders"),children:e("checkout.viewOrder")}),r.jsxs(M,{variant:"outline",className:"w-full gap-2",onClick:()=>n("/products"),children:[r.jsx(Rn,{className:"w-4 h-4"}),e("checkout.continueShopping")]}),r.jsx(M,{variant:"ghost",className:"w-full",onClick:()=>n("/"),children:e("checkout.backToHome")})]})]})})}const yhe=e=>[{path:"/member/settings",label:e("member.settings.title"),icon:to},{path:"/member/notifications",label:e("member.notifications.title"),icon:gl},{path:"/member/help",label:e("member.help.title"),icon:rF}],vhe=e=>[{path:"/member/orders",label:e("member.orders.title"),icon:Rn},{path:"/member/addresses",label:e("member.addresses.title"),icon:Il},{path:"/member/points",label:e("member.points.title"),icon:Hn},{path:"/member/payment",label:e("member.payment.title"),icon:Lr},{path:"/member/referrals",label:e("member.referrals.title"),icon:Is},{path:"/member/materials",label:e("member.materials.title"),icon:pu}];function bhe({role:e,t}){const n=[];return e==="admin"&&n.push({label:t("member.center.userStates.admin"),icon:oa,className:"bg-destructive text-destructive-foreground"}),(e==="admin"||e==="partner")&&n.push({label:t("member.center.userStates.partner"),icon:Jr,className:"bg-amber-600 text-white"}),n.push({label:t("member.center.userStates.member"),icon:Lt,className:""}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:n.map(a=>{const s=a.icon;return r.jsxs(te,{variant:a.className?"default":"secondary",className:`gap-1 text-xs ${a.className}`,children:[r.jsx(s,{className:"w-3 h-3"}),a.label]},a.label)})})}function hr({children:e}){var b,N,w,k,P;const{t}=ct(),n=yhe(t),a=vhe(t),s=[...n,...a],[i,o]=za(),[l,c]=j.useState(!1),{user:d,member:u,role:m,signOut:h}=Qt(),f=_=>i===_,g=s.find(_=>f(_.path)),p=async()=>{try{await h()}catch(_){console.error("Logout error:",_)}window.location.href="/"},x=m==="partner"||m==="admin",y=m==="admin",v=()=>{var _,T,I,A,R;return r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(kl,{className:"w-12 h-12 border-2 border-secondary",children:[r.jsx(Yu,{src:((_=d==null?void 0:d.user_metadata)==null?void 0:_.avatar_url)||void 0}),r.jsx(Pl,{className:"bg-secondary text-secondary-foreground",children:((I=(T=d==null?void 0:d.user_metadata)==null?void 0:T.first_name)==null?void 0:I.charAt(0))||((A=u==null?void 0:u.name)==null?void 0:A.charAt(0))||"U"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:(u==null?void 0:u.name)||((R=d==null?void 0:d.user_metadata)==null?void 0:R.first_name)||t("member.center.defaultUser")}),r.jsx(bhe,{role:m,t})]})]})}),r.jsxs("nav",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:t("member.center.sections.account.title")}),r.jsx("div",{className:"space-y-1",children:n.map(E=>{const L=E.icon,$=f(E.path);return r.jsxs(M,{variant:$?"secondary":"ghost",className:`w-full justify-start gap-3 ${$?"bg-secondary/20 text-secondary font-medium":""}`,onClick:()=>{o(E.path),c(!1)},"data-testid":`nav-${E.path.split("/").pop()}`,children:[r.jsx(L,{className:"w-4 h-4"}),E.label,$&&r.jsx(rr,{className:"w-4 h-4 ml-auto"})]},E.path)})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:t("member.center.sections.member.title")}),r.jsx("div",{className:"space-y-1",children:a.map(E=>{const L=E.icon,$=f(E.path);return r.jsxs(M,{variant:$?"secondary":"ghost",className:`w-full justify-start gap-3 ${$?"bg-secondary/20 text-secondary font-medium":""}`,onClick:()=>{o(E.path),c(!1)},"data-testid":`nav-${E.path.split("/").pop()}`,children:[r.jsx(L,{className:"w-4 h-4"}),E.label,$&&r.jsx(rr,{className:"w-4 h-4 ml-auto"})]},E.path)})})]}),(x||y)&&r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"space-y-1",children:[x&&r.jsxs(M,{variant:"ghost",className:"w-full justify-start gap-3 text-amber-700 hover:bg-amber-50 dark:text-amber-400 dark:hover:bg-amber-950/30",onClick:()=>{o("/member/partner"),c(!1)},"data-testid":"nav-partner-center",children:[r.jsx(Jr,{className:"w-4 h-4"}),t("member.center.sections.partner.title"),r.jsx(rr,{className:"w-4 h-4 ml-auto"})]}),y&&r.jsxs(M,{variant:"ghost",className:"w-full justify-start gap-3 text-primary hover:bg-primary/10",onClick:()=>{o("/admin"),c(!1)},"data-testid":"nav-admin-panel",children:[r.jsx(oa,{className:"w-4 h-4"}),t("admin.adminPanel"),r.jsx(rr,{className:"w-4 h-4 ml-auto"})]})]})})]}),r.jsxs("div",{className:"p-4 border-t space-y-2",children:[r.jsx("div",{className:"mb-3",children:r.jsx(Nl,{testId:"button-language-switcher-sidebar"})}),i!=="/member"&&r.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>o("/member"),"data-testid":"button-back-center",children:[r.jsx(Ra,{className:"w-4 h-4"}),t("member.center.backToCenter")]}),r.jsxs(M,{variant:"ghost",className:"w-full justify-start gap-2",onClick:()=>o("/"),"data-testid":"button-back-home",children:[r.jsx(cg,{className:"w-4 h-4"}),t("nav.home")]})]})]})};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsxs("header",{className:"sticky top-0 z-50 bg-primary text-primary-foreground",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Ll,{open:l,onOpenChange:c,children:[r.jsx(x0,{asChild:!0,children:r.jsx(M,{variant:"ghost",size:"icon",className:"lg:hidden text-primary-foreground","data-testid":"button-mobile-menu",children:r.jsx(s0,{className:"w-6 h-6"})})}),r.jsx(mo,{side:"left",className:"w-72 p-0",children:r.jsx(v,{})})]}),r.jsx("span",{className:"font-serif text-xl font-bold text-secondary cursor-pointer",onClick:()=>o("/"),"data-testid":"link-logo",children:"LOVE YOUNG"}),r.jsxs("div",{className:"hidden lg:flex items-center gap-2 ml-4",children:[r.jsx(Kr,{className:"w-5 h-5 text-secondary"}),r.jsx("span",{className:"text-sm font-medium",children:t("nav.memberCenter")}),g&&r.jsxs(r.Fragment,{children:[r.jsx(rr,{className:"w-4 h-4 text-primary-foreground/60"}),r.jsx("span",{className:"text-sm text-primary-foreground/80",children:g.label})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Nl,{testId:"button-language-switcher-header"}),i!=="/member"&&r.jsxs(M,{variant:"ghost",size:"sm",className:"hidden sm:flex text-primary-foreground gap-2",onClick:()=>o("/member"),"data-testid":"button-header-center",children:[r.jsx(Ra,{className:"w-4 h-4"}),t("member.center.backToCenter")]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(kl,{className:"w-8 h-8 border border-secondary/50",children:[r.jsx(Yu,{src:((b=d==null?void 0:d.user_metadata)==null?void 0:b.avatar_url)||void 0}),r.jsx(Pl,{className:"bg-secondary text-secondary-foreground text-sm",children:((w=(N=d==null?void 0:d.user_metadata)==null?void 0:N.first_name)==null?void 0:w.charAt(0))||((k=u==null?void 0:u.name)==null?void 0:k.charAt(0))||"U"})]}),r.jsx("span",{className:"hidden md:block text-sm font-medium","data-testid":"text-user-name",children:(u==null?void 0:u.name)||((P=d==null?void 0:d.user_metadata)==null?void 0:P.first_name)||t("member.center.defaultUser")})]}),r.jsx(M,{variant:"ghost",size:"icon",className:"text-primary-foreground hidden lg:flex",onClick:p,"data-testid":"button-logout",children:r.jsx(Kf,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"lg:hidden flex items-center justify-center gap-2 py-2 bg-primary/90 border-t border-primary-foreground/10",children:g&&r.jsxs(r.Fragment,{children:[r.jsx(g.icon,{className:"w-4 h-4 text-secondary"}),r.jsx("span",{className:"text-sm font-medium",children:g.label})]})})]}),r.jsxs("div",{className:"flex",children:[r.jsx("aside",{className:"hidden lg:block w-64 border-r bg-card min-h-[calc(100vh-56px)] sticky top-14",children:r.jsx(v,{})}),r.jsx("main",{className:"flex-1 p-4 lg:p-8",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:e})})]})]})}const whe=e=>[{icon:Rn,label:e("member.center.menuItems.orderHistory"),href:"/member/orders",description:e("member.center.menuItems.orderHistoryDesc")},{icon:Il,label:e("member.center.menuItems.addresses"),href:"/member/addresses",description:e("member.center.menuItems.addressesDesc")},{icon:Hn,label:e("member.center.menuItems.pointsCenter"),href:"/member/points",description:e("member.center.menuItems.pointsCenterDesc")},{icon:Lr,label:e("member.center.menuItems.paymentMethods"),href:"/member/payment",description:e("member.center.menuItems.paymentMethodsDesc")},{icon:Is,label:e("member.center.menuItems.referralNetwork"),href:"/member/referrals",description:e("member.center.menuItems.referralNetworkDesc")},{icon:Mt,label:e("member.center.menuItems.promoMaterials"),href:"/member/materials",description:e("member.center.menuItems.promoMaterialsDesc")}];function jhe({items:e}){const[,t]=za();return r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(n=>{const a=n.icon;return r.jsx(V,{className:"h-full hover-elevate cursor-pointer group",onClick:()=>t(n.href),children:r.jsxs(J,{className:"p-4 flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/10 flex items-center justify-center flex-shrink-0 group-hover:bg-secondary/20 transition-colors",children:r.jsx(a,{className:"w-6 h-6 text-secondary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"font-medium text-foreground",children:n.label}),n.description&&r.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:n.description})]}),r.jsx(rr,{className:"w-5 h-5 text-muted-foreground flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]})},n.href+n.label)})})}function Nhe({role:e,member:t,t:n}){const[,a]=za(),[s,i]=j.useState(null),o=e==="partner"||e==="admin",l=e==="admin",c=()=>{o?a("/member/partner"):i("partner")},d=()=>{l?a("/admin"):i("admin")};return r.jsxs("div",{className:"space-y-4 mt-8",children:[s&&r.jsx(V,{className:"border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-950/30 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Wc,{className:"w-5 h-5 text-amber-600 flex-shrink-0"}),r.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-300 flex-1",children:n("member.center.upgradePrompt")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(M,{size:"sm",variant:"outline",onClick:()=>i(null),children:""}),r.jsx(M,{size:"sm",onClick:()=>a("/products"),children:n("member.center.goShopping")})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx(V,{className:`cursor-pointer hover-elevate group ${o?"border-amber-200 dark:border-amber-800 bg-amber-50/50 dark:bg-amber-950/20":"border-dashed opacity-75"}`,onClick:c,"data-testid":"entry-partner-center",children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${o?"bg-amber-100 dark:bg-amber-900/40":"bg-muted"}`,children:r.jsx(Jr,{className:`w-6 h-6 ${o?"text-amber-600 dark:text-amber-400":"text-muted-foreground"}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`font-semibold ${o?"text-amber-800 dark:text-amber-300":"text-muted-foreground"}`,children:n("member.center.sections.partner.title")}),o&&r.jsx(te,{variant:"outline",className:"text-xs border-amber-300 text-amber-700 dark:border-amber-700 dark:text-amber-400",children:n("member.center.userStates.partner")})]}),r.jsx("p",{className:`text-sm mt-0.5 ${o?"text-amber-700/70 dark:text-amber-400/70":"text-muted-foreground"}`,children:n("member.center.sectionDesc.partner")})]}),r.jsx(rr,{className:`w-5 h-5 flex-shrink-0 ${o?"text-amber-400":"text-muted-foreground/40"}`})]})}),r.jsx(V,{className:`cursor-pointer hover-elevate group ${l?"border-primary/30 bg-primary/5":"border-dashed opacity-75"}`,onClick:d,"data-testid":"entry-admin-panel",children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${l?"bg-primary/10":"bg-muted"}`,children:r.jsx(oa,{className:`w-6 h-6 ${l?"text-primary":"text-muted-foreground"}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`font-semibold ${l?"text-primary":"text-muted-foreground"}`,children:n("admin.adminPanel")}),l&&r.jsx(te,{variant:"outline",className:"text-xs border-primary/30 text-primary",children:n("member.center.userStates.admin")})]}),r.jsx("p",{className:`text-sm mt-0.5 ${l?"text-primary/60":"text-muted-foreground"}`,children:n("member.center.sectionDesc.adminCore")})]}),r.jsx(rr,{className:`w-5 h-5 flex-shrink-0 ${l?"text-primary/40":"text-muted-foreground/40"}`})]})})]})]})}function khe(){const{t:e}=ct(),{role:t,member:n}=Qt(),a=whe(e);return r.jsxs(hr,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Lt,{className:"w-6 h-6 text-secondary"}),r.jsx("h1",{className:"text-2xl font-serif font-bold text-foreground","data-testid":"text-section-title",children:e("member.center.sections.member.title")})]}),r.jsx("p",{className:"text-muted-foreground text-sm",children:e("member.center.sectionDesc.member")})]}),r.jsx(jhe,{items:a}),r.jsx(Nhe,{role:t,member:!!n,t:e})]})}var hC="Switch",[Phe,nBe]=Jn(hC),[She,_he]=Phe(hC),YV=j.forwardRef((e,t)=>{const{__scopeSwitch:n,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[h,f]=j.useState(null),g=dt(t,b=>f(b)),p=j.useRef(!1),x=h?u||!!h.closest("form"):!0,[y=!1,v]=fa({prop:s,defaultProp:i,onChange:d});return r.jsxs(She,{scope:n,checked:y,disabled:l,children:[r.jsx(Ue.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":XV(y),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:g,onClick:Ne(e.onClick,b=>{v(N=>!N),x&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),x&&r.jsx(Che,{control:h,bubbles:!p.current,name:a,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});YV.displayName=hC;var JV="SwitchThumb",QV=j.forwardRef((e,t)=>{const{__scopeSwitch:n,...a}=e,s=_he(JV,n);return r.jsx(Ue.span,{"data-state":XV(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});QV.displayName=JV;var Che=e=>{const{control:t,checked:n,bubbles:a=!0,...s}=e,i=j.useRef(null),o=jg(n),l=mg(t);return j.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&m){const h=new Event("click",{bubbles:a});m.call(c,n),c.dispatchEvent(h)}},[o,n,a]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function XV(e){return e?"checked":"unchecked"}var ZV=YV,Ahe=QV;const Nr=j.forwardRef(({className:e,...t},n)=>r.jsx(ZV,{className:Ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(Ahe,{className:Ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Nr.displayName=ZV.displayName;function The(){var o,l,c,d,u;const{t:e}=ct(),[t,n]=j.useState(!1),{user:a,member:s}=Qt(),i=()=>{n(!0),setTimeout(()=>n(!1),1e3)};return r.jsx(hr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-settings-title",children:e("member.settings.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.settings.subtitle")})]}),r.jsxs(V,{children:[r.jsxs(Te,{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Kr,{className:"w-5 h-5 text-primary"}),e("member.settings.personalInfo")]}),r.jsx(hn,{children:e("member.settings.personalInfoDesc")})]}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs(kl,{className:"w-20 h-20 border-2 border-secondary",children:[r.jsx(Yu,{src:((o=a==null?void 0:a.user_metadata)==null?void 0:o.avatar_url)||void 0}),r.jsx(Pl,{className:"bg-secondary text-secondary-foreground text-xl",children:((c=(l=a==null?void 0:a.user_metadata)==null?void 0:l.first_name)==null?void 0:c.charAt(0))||((d=s==null?void 0:s.name)==null?void 0:d.charAt(0))||"U"})]}),r.jsxs(M,{variant:"outline",className:"gap-2",children:[r.jsx(vZ,{className:"w-4 h-4"}),e("member.settings.changeAvatar")]})]}),r.jsx(Qr,{}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"name",children:e("member.settings.name")}),r.jsx(se,{id:"name",defaultValue:(s==null?void 0:s.name)||((u=a==null?void 0:a.user_metadata)==null?void 0:u.first_name)||"","data-testid":"input-name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"phone",children:e("member.settings.phone")}),r.jsxs("div",{className:"relative",children:[r.jsx(Ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{id:"phone",className:"pl-10",defaultValue:(s==null?void 0:s.phone)||"","data-testid":"input-phone"})]})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx(Be,{htmlFor:"email",children:e("member.settings.email")}),r.jsxs("div",{className:"relative",children:[r.jsx(cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{id:"email",className:"pl-10",defaultValue:(a==null?void 0:a.email)||"",disabled:!0,"data-testid":"input-email"})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.settings.emailNote")})]})]})]})]}),r.jsxs(V,{children:[r.jsxs(Te,{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(oa,{className:"w-5 h-5 text-primary"}),e("member.settings.security")]}),r.jsx(hn,{children:e("member.settings.securityDesc")})]}),r.jsx(J,{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(lF,{className:"w-5 h-5 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e("member.settings.loginMethod")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.settings.loginMethodDesc")})]})]}),r.jsx(M,{variant:"outline",size:"sm",children:e("member.settings.manage")})]})})]}),r.jsxs(V,{children:[r.jsxs(Te,{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(gl,{className:"w-5 h-5 text-primary"}),e("member.settings.notifications")]}),r.jsx(hn,{children:e("member.settings.notificationsDesc")})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e("member.settings.orderNotify")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.settings.orderNotifyDesc")})]}),r.jsx(Nr,{defaultChecked:!0,"data-testid":"switch-order-notify"})]}),r.jsx(Qr,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e("member.settings.promoNotify")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.settings.promoNotifyDesc")})]}),r.jsx(Nr,{defaultChecked:!0,"data-testid":"switch-promo-notify"})]}),r.jsx(Qr,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e("member.settings.earningNotify")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.settings.earningNotifyDesc")})]}),r.jsx(Nr,{defaultChecked:!0,"data-testid":"switch-earning-notify"})]})]})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(ll,{className:"w-5 h-5 text-primary"}),e("member.settings.display")]})}),r.jsx(J,{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(MZ,{className:"w-5 h-5 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e("member.settings.darkMode")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.settings.darkModeDesc")})]})]}),r.jsx(Nr,{"data-testid":"switch-dark-mode"})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground",onClick:i,disabled:t,"data-testid":"button-save",children:[t?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):r.jsx(dF,{className:"w-4 h-4"}),e("member.settings.saveChanges")]})})]})})}function Ohe(e){const t=new Date,n=new Date(e),a=t.getTime()-n.getTime(),s=Math.floor(a/6e4),i=Math.floor(a/36e5),o=Math.floor(a/864e5),l=Math.floor(o/7);return s<1?"just now":s<60?`${s}m ago`:i<24?`${i}h ago`:o<7?`${o}d ago`:l<4?`${l}w ago`:n.toLocaleDateString()}const Ehe=e=>{switch(e){case"order":return Rn;case"earning":return Mn;case"promo":return Hn;case"system":return Io;default:return gl}},Rhe=e=>{switch(e){case"order":return"bg-blue-500/10 text-blue-500";case"earning":return"bg-green-500/10 text-green-500";case"promo":return"bg-secondary/10 text-secondary";case"system":return"bg-muted text-muted-foreground";default:return"bg-primary/10 text-primary"}};function Mhe(){const{t:e}=ct(),{user:t}=Qt(),n=Sn(),[a,s]=j.useState("all"),{data:i=[],isLoading:o}=Le({queryKey:["notifications",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:h,error:f}=await Y.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});return f?(console.error("Error fetching notifications:",f),[]):h||[]},enabled:!!(t!=null&&t.id)}),l=i.filter(h=>!h.read).length,c=a==="all"?i:a==="unread"?i.filter(h=>!h.read):i.filter(h=>h.type===a),d=Ie({mutationFn:async()=>{t!=null&&t.id&&await Y.from("notifications").update({read:!0}).eq("user_id",t.id).eq("read",!1)},onSuccess:()=>n.invalidateQueries({queryKey:["notifications"]})}),u=Ie({mutationFn:async h=>{await Y.from("notifications").update({read:!0}).eq("id",h)},onSuccess:()=>n.invalidateQueries({queryKey:["notifications"]})}),m=Ie({mutationFn:async h=>{await Y.from("notifications").delete().eq("id",h)},onSuccess:()=>n.invalidateQueries({queryKey:["notifications"]})});return r.jsx(hr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-notifications-title",children:e("member.notifications.title")}),r.jsx("p",{className:"text-muted-foreground",children:l>0?e("member.notifications.unreadCount").replace("{count}",String(l)):e("member.notifications.noUnread")})]}),l>0&&r.jsxs(M,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>d.mutate(),disabled:d.isPending,"data-testid":"button-mark-all-read",children:[r.jsx(bZ,{className:"w-4 h-4"}),e("member.notifications.markAllRead")]})]}),r.jsxs(Pn,{value:a,onValueChange:s,children:[r.jsxs(yn,{className:"grid w-full grid-cols-5",children:[r.jsxs(ke,{value:"all","data-testid":"tab-all",children:[e("member.notifications.tabs.all"),i.length>0&&r.jsx(te,{variant:"secondary",className:"ml-1 text-xs",children:i.length})]}),r.jsxs(ke,{value:"unread","data-testid":"tab-unread",children:[e("member.notifications.tabs.unread"),l>0&&r.jsx(te,{className:"ml-1 text-xs bg-red-500",children:l})]}),r.jsx(ke,{value:"order","data-testid":"tab-order",children:e("member.notifications.tabs.order")}),r.jsx(ke,{value:"earning","data-testid":"tab-earning",children:e("member.notifications.tabs.earning")}),r.jsx(ke,{value:"promo","data-testid":"tab-promo",children:e("member.notifications.tabs.promo")})]}),r.jsx(Nt,{value:a,className:"mt-4",children:o?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):c.length===0?r.jsx(V,{children:r.jsxs(J,{className:"p-12 text-center",children:[r.jsx(gl,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("member.notifications.noMessages")})]})}):r.jsx("div",{className:"space-y-3",children:c.map(h=>{const f=Ehe(h.type),g=Rhe(h.type);return r.jsx(V,{className:`transition-colors ${h.read?"":"bg-primary/5 border-primary/20"}`,"data-testid":`notification-${h.id}`,children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${g}`,children:r.jsx(f,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"font-medium",children:h.title}),!h.read&&r.jsx(te,{className:"bg-red-500 text-white text-xs",children:e("member.notifications.new")})]}),r.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:h.content}),r.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[r.jsx(Tt,{className:"w-3 h-3"}),Ohe(h.created_at)]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[!h.read&&r.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>u.mutate(h.id),disabled:u.isPending,"data-testid":`button-read-${h.id}`,children:r.jsx(pa,{className:"w-4 h-4"})}),r.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-red-500",onClick:()=>m.mutate(h.id),disabled:m.isPending,"data-testid":`button-delete-${h.id}`,children:r.jsx(Dn,{className:"w-4 h-4"})})]})]})})},h.id)})})})]})]})})}const Dhe=e=>[{id:1,category:"order",question:e("member.help.faqItems.order1.q"),answer:e("member.help.faqItems.order1.a")},{id:2,category:"order",question:e("member.help.faqItems.order2.q"),answer:e("member.help.faqItems.order2.a")},{id:3,category:"shipping",question:e("member.help.faqItems.shipping1.q"),answer:e("member.help.faqItems.shipping1.a")},{id:4,category:"shipping",question:e("member.help.faqItems.shipping2.q"),answer:e("member.help.faqItems.shipping2.a")},{id:5,category:"payment",question:e("member.help.faqItems.payment1.q"),answer:e("member.help.faqItems.payment1.a")},{id:6,category:"payment",question:e("member.help.faqItems.payment2.q"),answer:e("member.help.faqItems.payment2.a")},{id:7,category:"refund",question:e("member.help.faqItems.refund1.q"),answer:e("member.help.faqItems.refund1.a")},{id:8,category:"refund",question:e("member.help.faqItems.refund2.q"),answer:e("member.help.faqItems.refund2.a")},{id:9,category:"points",question:e("member.help.faqItems.points1.q"),answer:e("member.help.faqItems.points1.a")},{id:10,category:"points",question:e("member.help.faqItems.points2.q"),answer:e("member.help.faqItems.points2.a")},{id:11,category:"partner",question:e("member.help.faqItems.partner1.q"),answer:e("member.help.faqItems.partner1.a")},{id:12,category:"partner",question:e("member.help.faqItems.partner2.q"),answer:e("member.help.faqItems.partner2.a")}];function Ihe(){const{t:e}=ct(),[t,n]=j.useState(""),[a,s]=j.useState(null),i=Dhe(e),o=[{id:"order",label:e("member.help.categories.order"),icon:Rn},{id:"shipping",label:e("member.help.categories.shipping"),icon:os},{id:"payment",label:e("member.help.categories.payment"),icon:Lr},{id:"refund",label:e("member.help.categories.refund"),icon:od},{id:"points",label:e("member.help.categories.points"),icon:Hn},{id:"partner",label:e("member.help.categories.partner"),icon:Mt}],l=i.filter(c=>{const d=t===""||c.question.toLowerCase().includes(t.toLowerCase())||c.answer.toLowerCase().includes(t.toLowerCase()),u=!a||c.category===a;return d&&u});return r.jsx(hr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-help-title",children:e("member.help.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.help.subtitle")})]}),r.jsx(V,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"relative",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),r.jsx(se,{placeholder:e("member.help.searchPlaceholder"),className:"pl-10 bg-background",value:t,onChange:c=>n(c.target.value),"data-testid":"input-search"})]})})}),r.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3",children:o.map(c=>{const d=c.icon,u=a===c.id;return r.jsxs(M,{variant:u?"secondary":"outline",className:`h-auto py-3 flex-col gap-2 ${u?"bg-secondary/20 border-secondary":""}`,onClick:()=>s(u?null:c.id),"data-testid":`button-category-${c.id}`,children:[r.jsx(d,{className:"w-5 h-5"}),r.jsx("span",{className:"text-xs",children:c.label})]},c.id)})}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(rF,{className:"w-5 h-5 text-primary"}),e("member.help.faq")]})}),r.jsx(J,{children:l.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Fn,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("member.help.noResults")})]}):r.jsx(WV,{type:"single",collapsible:!0,className:"w-full",children:l.map(c=>r.jsxs(dC,{value:`faq-${c.id}`,children:[r.jsx(uC,{className:"text-left","data-testid":`faq-${c.id}`,children:c.question}),r.jsx(mC,{className:"text-muted-foreground",children:c.answer})]},c.id))})})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Es,{className:"w-5 h-5 text-primary"}),e("member.help.contactUs")]})}),r.jsxs(J,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("a",{href:"https://wa.me/60178228658",target:"_blank",rel:"noopener noreferrer",children:r.jsx(V,{className:"p-4 hover-elevate cursor-pointer h-full",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center",children:r.jsx(Ba,{className:"w-6 h-6 text-green-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e("member.help.whatsapp")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.help.onlineConsult")})]})]})})}),r.jsx(V,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Ds,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e("member.help.phoneSupport")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"+60 17-822 8658"})]})]})}),r.jsx(V,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary/10 flex items-center justify-center",children:r.jsx(cl,{className:"w-6 h-6 text-secondary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e("member.help.emailSupport")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"support@loveyoung.my"})]})]})})]}),r.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-lg flex items-center gap-3",children:[r.jsx(Tt,{className:"w-5 h-5 text-muted-foreground"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.help.serviceHours")})]})]})]})]})})}const lt=n2,fC=r2,Lhe=a2,eq=j.forwardRef(({className:e,...t},n)=>r.jsx(hg,{ref:n,className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));eq.displayName=hg.displayName;const st=j.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(Lhe,{children:[r.jsx(eq,{}),r.jsxs(fg,{ref:a,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(g0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(vl,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));st.displayName=fg.displayName;const it=({className:e,...t})=>r.jsx("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});it.displayName="DialogHeader";const kt=({className:e,...t})=>r.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kt.displayName="DialogFooter";const ot=j.forwardRef(({className:e,...t},n)=>r.jsx(Km,{ref:n,className:Ce("text-lg font-semibold leading-none tracking-tight",e),...t}));ot.displayName=Km.displayName;const Kt=j.forwardRef(({className:e,...t},n)=>r.jsx(pg,{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));Kt.displayName=pg.displayName;function YR(e){if(Array.isArray(e))return e;if(typeof e=="string")try{return JSON.parse(e)}catch{return[]}return[]}function JR(e){return e.product_name||e.productName||e.flavorName||e.name||"Order Item"}function Cx(e){return e.price||e.unitPrice||0}function $he(e){switch(e){case"pending":case"pending_payment":case"paid":case"confirmed":return 0;case"processing":return 1;case"shipped":return 2;case"delivered":return 3;default:return 0}}function Fhe(){const{t:e}=ct(),{user:t}=Qt(),[n,a]=j.useState("all"),[s,i]=j.useState(null),[o,l]=j.useState(!1),{data:c=[],isLoading:d}=Le({queryKey:["member-orders",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:x,error:y}=await Y.from("orders").select("*").eq("customer_email",t.email).order("created_at",{ascending:!1});return y?(console.error("Error fetching orders:",y),[]):(x||[]).map(v=>({id:v.id,order_number:v.order_number||`LY${v.id.slice(0,8).toUpperCase()}`,created_at:v.created_at,updated_at:v.updated_at||v.created_at,status:v.status,total_amount:v.total_amount||0,customer_name:v.customer_name||"",customer_phone:v.customer_phone||"",customer_email:v.customer_email||"",items:v.items||"[]",shipping_address:v.shipping_address||"",shipping_city:v.shipping_city||"",shipping_state:v.shipping_state||"",shipping_postcode:v.shipping_postcode||"",tracking_number:v.tracking_number||null,payment_status:v.payment_status||"",preferred_delivery_date:v.preferred_delivery_date||null}))},enabled:!!(t!=null&&t.email)}),u=x=>{switch(x){case"pending":return{label:e("member.orders.statusPending"),icon:Tt,color:"bg-yellow-500/10 text-yellow-600",badgeVariant:"outline"};case"paid":return{label:e("member.orders.statusPaid"),icon:De,color:"bg-blue-500/10 text-blue-500",badgeVariant:"default"};case"processing":return{label:e("member.orders.statusProcessing"),icon:Yt,color:"bg-blue-500/10 text-blue-500",badgeVariant:"default"};case"shipped":return{label:e("member.orders.statusShipped"),icon:os,color:"bg-primary/10 text-primary",badgeVariant:"default"};case"delivered":return{label:e("member.orders.statusDelivered"),icon:De,color:"bg-green-500/10 text-green-500",badgeVariant:"secondary"};case"cancelled":return{label:e("member.orders.statusCancelled"),icon:od,color:"bg-muted text-muted-foreground",badgeVariant:"outline"};default:return{label:e("member.orders.statusUnknown"),icon:Tt,color:"bg-muted",badgeVariant:"outline"}}},m=x=>{switch(x){case"paid":return e("member.orders.statusPaid");case"pending":return e("member.orders.statusPendingPayment");default:return x}},h=n==="all"?c:c.filter(x=>x.status===n),f=x=>new Date(x).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}),g=x=>new Date(x).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});if(d)return r.jsx(hr,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})});const p=[e("member.orders.timelineOrdered"),e("member.orders.timelinePreparing"),e("member.orders.timelineShipping"),e("member.orders.timelineCompleted")];return r.jsxs(hr,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-orders-title",children:e("member.orders.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.orders.subtitle")})]}),r.jsxs(Pn,{value:n,onValueChange:a,children:[r.jsx("div",{className:"overflow-x-auto -mx-1 px-1",children:r.jsxs(yn,{className:"inline-flex w-auto min-w-full md:grid md:w-full md:grid-cols-5",children:[r.jsx(ke,{value:"all",className:"flex-1 md:flex-none","data-testid":"tab-all",children:e("member.orders.tabAll")}),r.jsx(ke,{value:"pending",className:"flex-1 md:flex-none","data-testid":"tab-pending",children:e("member.orders.tabPending")}),r.jsx(ke,{value:"shipped",className:"flex-1 md:flex-none","data-testid":"tab-shipped",children:e("member.orders.tabShipped")}),r.jsx(ke,{value:"delivered",className:"flex-1 md:flex-none","data-testid":"tab-delivered",children:e("member.orders.tabDelivered")}),r.jsx(ke,{value:"cancelled",className:"flex-1 md:flex-none","data-testid":"tab-cancelled",children:e("member.orders.tabCancelled")})]})}),r.jsx(Nt,{value:n,className:"mt-4",children:h.length===0?r.jsx(V,{children:r.jsxs(J,{className:"p-12 text-center",children:[r.jsx(Rn,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("member.orders.noOrders")}),r.jsx(En,{href:"/products",children:r.jsx(M,{className:"mt-4 bg-secondary text-secondary-foreground","data-testid":"button-shop",children:e("member.orders.goShop")})})]})}):r.jsx("div",{className:"space-y-4",children:h.map(x=>{const y=u(x.status),v=y.icon,b=YR(x.items),N=b.reduce((w,k)=>w+(k.quantity||1),0);return r.jsxs(V,{className:"overflow-hidden","data-testid":`order-${x.id}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-muted/30 border-b gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[r.jsxs("span",{className:"text-xs sm:text-sm font-mono text-muted-foreground truncate",children:["#",x.order_number]}),r.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground flex-shrink-0",children:f(x.created_at)})]}),r.jsxs(te,{variant:y.badgeVariant,className:"gap-1",children:[r.jsx(v,{className:"w-3 h-3"}),y.label]})]}),r.jsxs(J,{className:"p-4",children:[r.jsx("div",{className:"space-y-3",children:b.length>0?b.map((w,k)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-16 h-16 rounded-lg bg-muted flex items-center justify-center",children:r.jsx(Yt,{className:"w-6 h-6 text-muted-foreground"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:JR(w)}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["x",w.quantity||1]})]})]}),Cx(w)>0&&r.jsxs("span",{className:"font-medium",children:["RM ",(Cx(w)/100).toFixed(2)]})]},k)):r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-16 h-16 rounded-lg bg-muted flex items-center justify-center",children:r.jsx(Yt,{className:"w-6 h-6 text-muted-foreground"})}),r.jsx("div",{children:r.jsx("p",{className:"font-medium",children:e("member.orders.orderItems")||"Order Items"})})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mt-4 pt-4 border-t",children:[r.jsx("span",{className:"text-muted-foreground text-sm",children:e("member.orders.totalItems").replace("{count}",String(N||1))}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4",children:[r.jsxs("span",{className:"font-bold text-base sm:text-lg",children:[e("member.orders.total"),": ",r.jsxs("span",{className:"text-primary",children:["RM ",(x.total_amount/100).toFixed(2)]})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 flex-shrink-0",onClick:()=>{i(x),l(!0)},"data-testid":`button-detail-${x.id}`,children:[e("member.orders.viewDetails"),r.jsx(rr,{className:"w-4 h-4"})]})]})]})]})]},x.id)})})})]})]}),r.jsx(lt,{open:o,onOpenChange:l,children:r.jsx(st,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:s&&(()=>{const x=s;u(x.status);const y=YR(x.items),v=x.status==="cancelled",b=$he(x.status);return r.jsxs(r.Fragment,{children:[r.jsx(it,{children:r.jsx(ot,{children:e("member.orders.orderInfo")})}),r.jsxs("div",{className:"space-y-5 pt-2",children:[v?r.jsx("div",{className:"flex items-center justify-center py-4",children:r.jsxs(te,{variant:"destructive",className:"gap-1.5 text-sm px-4 py-2",children:[r.jsx(Bs,{className:"w-4 h-4"}),e("member.orders.statusCancelled")]})}):r.jsx("div",{className:"py-4",children:r.jsxs("div",{className:"flex items-center justify-between relative",children:[r.jsx("div",{className:"absolute top-4 left-4 right-4 h-0.5 bg-muted"}),r.jsx("div",{className:"absolute top-4 left-4 h-0.5 bg-primary transition-all",style:{width:`${b/(p.length-1)*(100-100/p.length)}%`}}),p.map((N,w)=>{const k=w<=b,P=w===b;return r.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all ${k?"bg-primary border-primary text-primary-foreground":"bg-background border-muted-foreground/30 text-muted-foreground/30"} ${P&&!k?"animate-pulse":""}`,children:k?r.jsx(pa,{className:"w-4 h-4"}):r.jsx("span",{className:"text-xs font-medium",children:w+1})}),r.jsx("span",{className:`text-xs mt-2 text-center ${k?"text-foreground font-medium":"text-muted-foreground"}`,children:N})]},w)})]})}),r.jsx(V,{className:"p-4",children:r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("member.orders.orderNumber")}),r.jsx("span",{className:"font-mono font-medium",children:x.order_number})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("member.orders.orderDate")}),r.jsx("span",{children:g(x.created_at)})]}),x.payment_status&&r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-muted-foreground",children:e("member.orders.paymentStatus")}),r.jsx(te,{variant:x.payment_status==="paid"?"default":"outline",className:"text-xs",children:m(x.payment_status)})]})]})}),r.jsx(V,{className:"p-4",children:r.jsxs("div",{className:"space-y-3",children:[y.length>0?y.map((N,w)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded bg-muted flex items-center justify-center",children:r.jsx(Yt,{className:"w-4 h-4 text-muted-foreground"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:JR(N)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["x",N.quantity||1]})]})]}),Cx(N)>0&&r.jsxs("span",{className:"text-sm font-medium",children:["RM ",(Cx(N)/100).toFixed(2)]})]},w)):r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.orders.orderItems")||"Order Items"}),r.jsxs("div",{className:"border-t pt-3 flex justify-between font-semibold",children:[r.jsx("span",{children:e("member.orders.total")}),r.jsxs("span",{className:"text-primary",children:["RM ",(x.total_amount/100).toFixed(2)]})]})]})}),x.shipping_address&&r.jsx(V,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Il,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:e("member.orders.shippingAddress")}),r.jsx("p",{className:"font-medium",children:x.customer_name}),x.customer_phone&&r.jsx("p",{className:"text-muted-foreground",children:x.customer_phone}),r.jsx("p",{className:"text-muted-foreground",children:x.shipping_address}),r.jsxs("p",{className:"text-muted-foreground",children:[x.shipping_postcode," ",x.shipping_city,x.shipping_state&&`, ${e(`states.${x.shipping_state}`)}`]})]})]})}),x.tracking_number&&r.jsx(V,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(os,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:e("member.orders.trackingInfo")}),r.jsx("p",{className:"font-mono font-medium",children:x.tracking_number})]})]})}),r.jsx(M,{variant:"outline",className:"w-full gap-2",asChild:!0,children:r.jsxs("a",{href:`https://wa.me/60178228658?text=${encodeURIComponent(`Hi, I have a question about my order #${x.order_number}`)}`,target:"_blank",rel:"noopener noreferrer",children:[r.jsx(Ba,{className:"w-4 h-4 text-green-600"}),e("member.orders.contactAboutOrder")]})})]})]})})()})})]})}const At=j.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:Ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));At.displayName="Textarea";function Bhe(){const{t:e}=ct(),{user:t,member:n}=Qt(),{toast:a}=Wt(),s=Sn(),[i,o]=j.useState(!1),[l,c]=j.useState(null),[d,u]=j.useState({recipient_name:"",phone:"",address_line_1:"",address_line_2:"",city:"",postcode:"",state:""}),{data:m=[],isLoading:h}=Le({queryKey:["member-addresses",n==null?void 0:n.id],queryFn:async()=>{if(!(n!=null&&n.id))return[];const{data:b,error:N}=await Y.from("member_addresses").select("*").eq("member_id",n.id).order("is_default",{ascending:!1});return N?(console.error("Error fetching addresses:",N),[]):b||[]},enabled:!!(n!=null&&n.id)}),f=Ie({mutationFn:async b=>{if(!(n!=null&&n.id))throw new Error("Not authenticated");const N={recipient_name:b.recipient_name,phone:b.phone,address_line_1:b.address_line_1,address_line_2:b.address_line_2||null,city:b.city,postcode:b.postcode,state:b.state,is_default:b.is_default};if(b.id){const{error:w}=await Y.from("member_addresses").update(N).eq("id",b.id);if(w)throw w}else{const{error:w}=await Y.from("member_addresses").insert({...N,member_id:n.id});if(w)throw w}},onSuccess:()=>{s.invalidateQueries({queryKey:["member-addresses"]}),o(!1),c(null),x(),a({title:l?"":""})},onError:b=>{console.error("Error saving address:",b),a({title:"",variant:"destructive"})}}),g=Ie({mutationFn:async b=>{const{error:N}=await Y.from("member_addresses").delete().eq("id",b);if(N)throw N},onSuccess:()=>{s.invalidateQueries({queryKey:["member-addresses"]}),a({title:""})},onError:()=>{a({title:"",variant:"destructive"})}}),p=Ie({mutationFn:async b=>{if(!(n!=null&&n.id))throw new Error("Not authenticated");await Y.from("member_addresses").update({is_default:!1}).eq("member_id",n.id);const{error:N}=await Y.from("member_addresses").update({is_default:!0}).eq("id",b);if(N)throw N},onSuccess:()=>{s.invalidateQueries({queryKey:["member-addresses"]}),a({title:""})},onError:()=>{a({title:"",variant:"destructive"})}}),x=()=>{u({recipient_name:"",phone:"",address_line_1:"",address_line_2:"",city:"",postcode:"",state:""})},y=b=>{c(b),u({recipient_name:b.recipient_name,phone:b.phone,address_line_1:b.address_line_1,address_line_2:b.address_line_2||"",city:b.city,postcode:b.postcode,state:b.state}),o(!0)},v=()=>{if(!d.recipient_name||!d.phone||!d.address_line_1){a({title:"",variant:"destructive"});return}f.mutate({id:l==null?void 0:l.id,...d,is_default:(l==null?void 0:l.is_default)||m.length===0})};return h?r.jsx(hr,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(hr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-addresses-title",children:e("member.addresses.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.addresses.subtitle")})]}),r.jsxs(lt,{open:i,onOpenChange:b=>{o(b),b||(c(null),x())},children:[r.jsx(fC,{asChild:!0,children:r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground","data-testid":"button-add-address",children:[r.jsx(mn,{className:"w-4 h-4"}),e("member.addresses.addAddress")]})}),r.jsxs(st,{className:"sm:max-w-lg",children:[r.jsx(it,{children:r.jsx(ot,{children:l?"":e("member.addresses.addAddressTitle")})}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"name",children:e("member.addresses.form.name")}),r.jsx(se,{id:"name",placeholder:e("member.addresses.form.namePlaceholder"),value:d.recipient_name,onChange:b=>u({...d,recipient_name:b.target.value}),"data-testid":"input-name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"phone",children:e("member.addresses.form.phone")}),r.jsx(se,{id:"phone",placeholder:"+60 12-345 6789",value:d.phone,onChange:b=>u({...d,phone:b.target.value}),"data-testid":"input-phone"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"address",children:e("member.addresses.form.address")}),r.jsx(At,{id:"address",placeholder:e("member.addresses.form.addressPlaceholder"),value:d.address_line_1,onChange:b=>u({...d,address_line_1:b.target.value}),"data-testid":"input-address"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"city",children:e("member.addresses.form.city")}),r.jsx(se,{id:"city",placeholder:"Kuala Lumpur",value:d.city,onChange:b=>u({...d,city:b.target.value}),"data-testid":"input-city"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"postcode",children:e("member.addresses.form.postcode")}),r.jsx(se,{id:"postcode",placeholder:"50000",value:d.postcode,onChange:b=>u({...d,postcode:b.target.value}),"data-testid":"input-postcode"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"state",children:e("member.addresses.form.state")}),r.jsx(se,{id:"state",placeholder:"Selangor",value:d.state,onChange:b=>u({...d,state:b.target.value}),"data-testid":"input-state"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[r.jsx(M,{variant:"outline",onClick:()=>o(!1),children:e("member.addresses.cancel")}),r.jsx(M,{className:"bg-secondary text-secondary-foreground",onClick:v,disabled:f.isPending,"data-testid":"button-save-address",children:f.isPending?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):e("member.addresses.save")})]})]})]})]})]}),m.length===0?r.jsx(V,{children:r.jsxs(J,{className:"p-12 text-center",children:[r.jsx(Il,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:e("member.addresses.noAddresses")}),r.jsx(M,{className:"bg-secondary text-secondary-foreground",onClick:()=>o(!0),children:e("member.addresses.addFirst")})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(b=>r.jsxs(V,{className:`relative ${b.is_default?"border-secondary":""}`,"data-testid":`address-${b.id}`,children:[b.is_default&&r.jsxs(te,{className:"absolute top-4 right-4 bg-secondary text-secondary-foreground gap-1",children:[r.jsx(De,{className:"w-3 h-3"}),e("member.addresses.defaultBadge")]}),r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-primary/10",children:r.jsx(cg,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"font-bold",children:b.recipient_name}),r.jsx("span",{className:"text-sm text-muted-foreground",children:b.phone})]}),r.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:[b.address_line_1,b.address_line_2&&r.jsxs(r.Fragment,{children:[r.jsx("br",{}),b.address_line_2]}),r.jsx("br",{}),b.postcode," ",b.city,", ",b.state]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t",children:[!b.is_default&&r.jsx(M,{variant:"outline",size:"sm",onClick:()=>p.mutate(b.id),disabled:p.isPending,"data-testid":`button-default-${b.id}`,children:e("member.addresses.setDefault")}),r.jsxs(M,{variant:"ghost",size:"sm",className:"gap-1",onClick:()=>y(b),"data-testid":`button-edit-${b.id}`,children:[r.jsx(Oa,{className:"w-4 h-4"}),e("member.addresses.edit")]}),r.jsxs(M,{variant:"ghost",size:"sm",className:"gap-1 text-red-500 hover:text-red-600",onClick:()=>g.mutate(b.id),disabled:g.isPending,"data-testid":`button-delete-${b.id}`,children:[r.jsx(Dn,{className:"w-4 h-4"}),e("member.addresses.delete")]})]})]})]},b.id))})]})})}var pC="Progress",gC=100,[Uhe,rBe]=Jn(pC),[Vhe,qhe]=Uhe(pC),tq=j.forwardRef((e,t)=>{const{__scopeProgress:n,value:a=null,max:s,getValueLabel:i=zhe,...o}=e;(s||s===0)&&!QR(s)&&console.error(Khe(`${s}`,"Progress"));const l=QR(s)?s:gC;a!==null&&!XR(a,l)&&console.error(Whe(`${a}`,"Progress"));const c=XR(a,l)?a:null,d=gv(c)?i(c,l):void 0;return r.jsx(Vhe,{scope:n,value:c,max:l,children:r.jsx(Ue.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":gv(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":aq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});tq.displayName=pC;var nq="ProgressIndicator",rq=j.forwardRef((e,t)=>{const{__scopeProgress:n,...a}=e,s=qhe(nq,n);return r.jsx(Ue.div,{"data-state":aq(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});rq.displayName=nq;function zhe(e,t){return`${Math.round(e/t*100)}%`}function aq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function gv(e){return typeof e=="number"}function QR(e){return gv(e)&&!isNaN(e)&&e>0}function XR(e,t){return gv(e)&&!isNaN(e)&&e<=t&&e>=0}function Khe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gC}\`.`}function Whe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gC} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var sq=tq,Hhe=rq;const Qm=j.forwardRef(({className:e,value:t,...n},a)=>r.jsx(sq,{ref:a,className:Ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(Hhe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Qm.displayName=sq.displayName;function Ghe(){const{t:e}=ct(),{member:t}=Qt(),{data:n=[],isLoading:a}=Le({queryKey:["member-points-history",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:u,error:m}=await Y.from("member_points_ledger").select("*").eq("member_id",t.id).order("created_at",{ascending:!1}).limit(50);return m?(console.log("Points ledger not available:",m.message),[]):(u||[]).map(h=>({id:h.id,type:h.amount>=0?"earn":"spend",amount:Math.abs(h.amount),description:h.description||"",created_at:h.created_at,balance_after:h.balance_after||0}))},enabled:!!(t!=null&&t.id)}),s=(t==null?void 0:t.pointsBalance)||0,i=new Date().toISOString().slice(0,7),o=n.filter(u=>{var m;return u.type==="earn"&&((m=u.created_at)==null?void 0:m.startsWith(i))}).reduce((u,m)=>u+m.amount,0),l={totalPoints:s,thisMonthEarned:o,expiringSoon:0,expiryDate:"2026-12-31",nextTierPoints:2e3,currentTier:s>=1e3?"":"",nextTier:""},c=l.totalPoints/l.nextTierPoints*100,d=u=>new Date(u).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return a?r.jsx(hr,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(hr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-points-title",children:e("member.points.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.points.subtitle")})]}),r.jsx(V,{className:"bg-gradient-to-r from-secondary/10 to-primary/10 border-secondary/20",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary/20 flex items-center justify-center",children:r.jsx(Lt,{className:"w-8 h-8 text-secondary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.points.currentPoints")}),r.jsx("p",{className:"text-4xl font-bold text-secondary","data-testid":"text-total-points",children:l.totalPoints}),r.jsx(te,{variant:"secondary",className:"mt-1",children:l.currentTier})]})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:l.thisMonthEarned}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.points.earnedThisMonth")})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-500",children:l.expiringSoon}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.points.expiringSoon")})]})]})]})})}),r.jsxs(V,{children:[r.jsxs(Te,{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Mn,{className:"w-5 h-5 text-primary"}),e("member.points.tierProgress")]}),r.jsx(hn,{children:e("member.points.tierProgressDesc").replace("{nextTier}",l.nextTier).replace("{points}",String(Math.max(0,l.nextTierPoints-l.totalPoints)))})]}),r.jsx(J,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:l.currentTier}),r.jsx("span",{className:"text-muted-foreground",children:l.nextTier})]}),r.jsx(Qm,{value:Math.min(100,c),className:"h-3"}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"font-medium",children:[l.totalPoints," ",e("member.points.points")]}),r.jsxs("span",{className:"text-muted-foreground",children:[l.nextTierPoints," ",e("member.points.points")]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(V,{className:"hover-elevate cursor-pointer",children:r.jsxs(J,{className:"p-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary/10 flex items-center justify-center",children:r.jsx(Hn,{className:"w-6 h-6 text-secondary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold",children:e("member.points.redeem")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.points.redeemRate")})]}),r.jsx(M,{variant:"outline",size:"sm","data-testid":"button-redeem",children:e("member.points.redeemNow")})]})}),r.jsx(En,{href:"/products",children:r.jsx(V,{className:"hover-elevate cursor-pointer",children:r.jsxs(J,{className:"p-6 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Rn,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold",children:e("member.points.earnPoints")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.points.earnRate")})]}),r.jsx(M,{variant:"outline",size:"sm","data-testid":"button-shop",children:e("member.points.goShop")})]})})})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Tt,{className:"w-5 h-5 text-primary"}),e("member.points.history")]})}),r.jsx(J,{children:r.jsxs(Pn,{defaultValue:"all",children:[r.jsxs(yn,{className:"grid w-full grid-cols-3",children:[r.jsx(ke,{value:"all","data-testid":"tab-all",children:e("member.points.tabAll")}),r.jsx(ke,{value:"earn","data-testid":"tab-earn",children:e("member.points.tabEarn")}),r.jsx(ke,{value:"spend","data-testid":"tab-spend",children:e("member.points.tabSpend")})]}),r.jsx(Nt,{value:"all",className:"mt-4",children:n.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Hn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:""})]}):r.jsx("div",{className:"space-y-3",children:n.map(u=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg","data-testid":`record-${u.id}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u.type==="spend"?"bg-red-500/10":"bg-green-500/10"}`,children:u.type==="spend"?r.jsx(Ca,{className:"w-4 h-4 text-red-500"}):r.jsx(nr,{className:"w-4 h-4 text-green-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:u.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d(u.created_at)})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-bold ${u.type==="spend"?"text-red-500":"text-green-500"}`,children:[u.type==="spend"?"-":"+",u.amount]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("member.points.balance"),": ",u.balance_after]})]})]},u.id))})}),r.jsx(Nt,{value:"earn",className:"mt-4",children:r.jsx("div",{className:"space-y-3",children:n.filter(u=>u.type!=="spend").length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.jsx("p",{children:""})}):n.filter(u=>u.type!=="spend").map(u=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-green-500/10",children:r.jsx(nr,{className:"w-4 h-4 text-green-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:u.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d(u.created_at)})]})]}),r.jsxs("p",{className:"font-bold text-green-500",children:["+",u.amount]})]},u.id))})}),r.jsx(Nt,{value:"spend",className:"mt-4",children:r.jsx("div",{className:"space-y-3",children:n.filter(u=>u.type==="spend").length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.jsx("p",{children:""})}):n.filter(u=>u.type==="spend").map(u=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-red-500/10",children:r.jsx(Ca,{className:"w-4 h-4 text-red-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:u.description}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d(u.created_at)})]})]}),r.jsxs("p",{className:"font-bold text-red-500",children:["-",u.amount]})]},u.id))})})]})})]}),r.jsx(V,{className:"bg-muted/30",children:r.jsxs(J,{className:"p-4 flex items-start gap-3",children:[r.jsx(dg,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("p",{className:"font-medium text-foreground mb-1",children:e("member.points.rulesTitle")}),r.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[r.jsx("li",{children:e("member.points.rule1")}),r.jsx("li",{children:e("member.points.rule2")}),r.jsx("li",{children:e("member.points.rule3")}),r.jsx("li",{children:e("member.points.rule4")})]})]})]})})]})})}var xC="Radio",[Yhe,iq]=Jn(xC),[Jhe,Qhe]=Yhe(xC),oq=j.forwardRef((e,t)=>{const{__scopeRadio:n,name:a,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[m,h]=j.useState(null),f=dt(t,x=>h(x)),g=j.useRef(!1),p=m?d||!!m.closest("form"):!0;return r.jsxs(Jhe,{scope:n,checked:s,disabled:o,children:[r.jsx(Ue.button,{type:"button",role:"radio","aria-checked":s,"data-state":dq(s),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:f,onClick:Ne(e.onClick,x=>{s||c==null||c(),p&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),p&&r.jsx(Xhe,{control:m,bubbles:!g.current,name:a,value:l,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});oq.displayName=xC;var lq="RadioIndicator",cq=j.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:a,...s}=e,i=Qhe(lq,n);return r.jsx(ga,{present:a||i.checked,children:r.jsx(Ue.span,{"data-state":dq(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});cq.displayName=lq;var Xhe=e=>{const{control:t,checked:n,bubbles:a=!0,...s}=e,i=j.useRef(null),o=jg(n),l=mg(t);return j.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&m){const h=new Event("click",{bubbles:a});m.call(c,n),c.dispatchEvent(h)}},[o,n,a]),r.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function dq(e){return e?"checked":"unchecked"}var Zhe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yC="RadioGroup",[efe,aBe]=Jn(yC,[Wm,iq]),uq=Wm(),mq=iq(),[tfe,nfe]=efe(yC),hq=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:a,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...h}=e,f=uq(n),g=ld(d),[p,x]=fa({prop:i,defaultProp:s,onChange:m});return r.jsx(tfe,{scope:n,name:a,required:o,disabled:l,value:p,onValueChange:x,children:r.jsx(s2,{asChild:!0,...f,orientation:c,dir:g,loop:u,children:r.jsx(Ue.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});hq.displayName=yC;var fq="RadioGroupItem",pq=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:a,...s}=e,i=nfe(fq,n),o=i.disabled||a,l=uq(n),c=mq(n),d=j.useRef(null),u=dt(t,d),m=i.value===s.value,h=j.useRef(!1);return j.useEffect(()=>{const f=p=>{Zhe.includes(p.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",g)}},[]),r.jsx(i2,{asChild:!0,...l,focusable:!o,active:m,children:r.jsx(oq,{disabled:o,required:i.required,checked:m,...c,...s,name:i.name,ref:u,onCheck:()=>i.onValueChange(s.value),onKeyDown:Ne(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:Ne(s.onFocus,()=>{var f;h.current&&((f=d.current)==null||f.click())})})})});pq.displayName=fq;var rfe="RadioGroupIndicator",gq=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...a}=e,s=mq(n);return r.jsx(cq,{...s,...a,ref:t})});gq.displayName=rfe;var xq=hq,yq=pq,afe=gq;const vq=j.forwardRef(({className:e,...t},n)=>r.jsx(xq,{className:Ce("grid gap-2",e),...t,ref:n}));vq.displayName=xq.displayName;const Uk=j.forwardRef(({className:e,...t},n)=>r.jsx(yq,{ref:n,className:Ce("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(afe,{className:"flex items-center justify-center",children:r.jsx(aF,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Uk.displayName=yq.displayName;function sfe(){const{t:e,language:t}=ct(),{user:n}=Qt(),a=Sn(),[s,i]=j.useState(!1),[o,l]=j.useState("bank"),[c,d]=j.useState(""),[u,m]=j.useState(""),h=t==="zh",{data:f=[],isLoading:g}=Le({queryKey:["payment-methods",n==null?void 0:n.id],queryFn:async()=>{if(!(n!=null&&n.id))return[];const{data:N,error:w}=await Y.from("payment_methods").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});return w?(console.error("Error fetching payment methods:",w),[]):N||[]},enabled:!!(n!=null&&n.id)}),p=Ie({mutationFn:async N=>{n!=null&&n.id&&(await Y.from("payment_methods").update({is_default:!1}).eq("user_id",n.id),await Y.from("payment_methods").update({is_default:!0}).eq("id",N))},onSuccess:()=>a.invalidateQueries({queryKey:["payment-methods"]})}),x=Ie({mutationFn:async N=>{await Y.from("payment_methods").delete().eq("id",N)},onSuccess:()=>a.invalidateQueries({queryKey:["payment-methods"]})}),y=Ie({mutationFn:async()=>{if(!(n!=null&&n.id))return;const N=u.slice(-4).replace(/\D/g,"")||"0000";await Y.from("payment_methods").insert({user_id:n.id,type:o,name:c,last4:N,is_default:f.length===0})},onSuccess:()=>{a.invalidateQueries({queryKey:["payment-methods"]}),i(!1),d(""),m(""),l("bank")}}),v=N=>{switch(N){case"bank":return r.jsx(as,{className:"w-5 h-5 text-primary"});case"ewallet":return r.jsx(ms,{className:"w-5 h-5 text-secondary"});default:return r.jsx(Lr,{className:"w-5 h-5 text-primary"})}},b=N=>{switch(N){case"bank":return h?"":"Bank Account";case"ewallet":return h?"":"E-Wallet";default:return h?"":"Card"}};return r.jsx(hr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-payment-title",children:e("member.payment.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.payment.subtitle")})]}),r.jsx(V,{className:"bg-gradient-to-r from-[#635BFF]/10 to-primary/10 border-[#635BFF]/20",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-[#635BFF]/20 flex items-center justify-center flex-shrink-0",children:r.jsx(Lr,{className:"w-6 h-6 text-[#635BFF]"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold mb-1",children:h?"":"Online Payment"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:h?" Stripe ":"All order payments are securely processed via Stripe. No need to save payment methods  simply pay at checkout."}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(te,{variant:"outline",className:"gap-1.5",children:[r.jsx(Lr,{className:"w-3 h-3"}),h?"/":"Credit / Debit Card"]}),r.jsxs(te,{variant:"outline",className:"gap-1.5",children:[r.jsx(AZ,{className:"w-3 h-3"}),"FPX"]}),r.jsxs(te,{variant:"outline",className:"gap-1.5",children:[r.jsx(xZ,{className:"w-3 h-3"}),"GrabPay"]})]})]})]})})}),r.jsx(V,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:r.jsx(i0,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-1",children:e("member.payment.securityTitle")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.payment.securityDesc")})]})]})})}),r.jsxs(V,{children:[r.jsxs(Te,{className:"flex flex-row items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(as,{className:"w-5 h-5 text-primary"}),h?"":"Withdrawal Accounts"]}),r.jsx(hn,{children:h?` ${f.length}   `:`${f.length} account(s) linked  For partner commission withdrawals`})]}),r.jsxs(lt,{open:s,onOpenChange:i,children:[r.jsx(fC,{asChild:!0,children:r.jsxs(M,{variant:"outline",className:"gap-2","data-testid":"button-add-payment",children:[r.jsx(mn,{className:"w-4 h-4"}),e("member.payment.add")]})}),r.jsxs(st,{children:[r.jsx(it,{children:r.jsx(ot,{children:h?"":"Add Withdrawal Account"})}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsxs(vq,{value:o,onValueChange:l,children:[r.jsxs("div",{className:`flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition-colors ${o==="bank"?"border-secondary bg-secondary/5":""}`,onClick:()=>l("bank"),children:[r.jsx(Uk,{value:"bank",id:"pm-bank"}),r.jsxs(Be,{htmlFor:"pm-bank",className:"flex items-center gap-2 cursor-pointer flex-1",children:[r.jsx(as,{className:"w-5 h-5"}),e("member.payment.bankAccount")]})]}),r.jsxs("div",{className:`flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition-colors ${o==="ewallet"?"border-secondary bg-secondary/5":""}`,onClick:()=>l("ewallet"),children:[r.jsx(Uk,{value:"ewallet",id:"pm-ewallet"}),r.jsxs(Be,{htmlFor:"pm-ewallet",className:"flex items-center gap-2 cursor-pointer flex-1",children:[r.jsx(ms,{className:"w-5 h-5"}),e("member.payment.ewallet")]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"bank-name",children:o==="bank"?h?"":"Bank Name":h?"":"E-Wallet Name"}),r.jsx(se,{id:"bank-name",placeholder:o==="bank"?h?": Maybank, CIMB, Public Bank":"e.g. Maybank, CIMB, Public Bank":h?": Touch 'n Go, GrabPay, Boost":"e.g. Touch 'n Go, GrabPay, Boost",value:c,onChange:N=>d(N.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"account",children:o==="bank"?h?"":"Account Number":h?" / ":"Phone Number / Account ID"}),r.jsx(se,{id:"account",placeholder:o==="bank"?"1234567890":"012-345 6789",value:u,onChange:N=>m(N.target.value)})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(M,{variant:"outline",onClick:()=>i(!1),children:e("member.payment.cancel")}),r.jsxs(M,{className:"bg-secondary text-secondary-foreground",onClick:()=>y.mutate(),disabled:y.isPending||!c||!u,"data-testid":"button-save-payment",children:[y.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("member.payment.save")]})]})]})]})]})]}),r.jsx(J,{children:g?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):f.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(as,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:h?"":"No withdrawal accounts yet"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h?"":"Add a bank account or e-wallet to withdraw commissions"})]}):r.jsx("div",{className:"space-y-3",children:f.map(N=>r.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg ${N.is_default?"border-secondary bg-secondary/5":""}`,"data-testid":`payment-${N.id}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${N.type==="bank"?"bg-primary/10":"bg-secondary/10"}`,children:v(N.type)}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:N.name}),r.jsx(te,{variant:"outline",className:"text-xs",children:b(N.type)}),N.is_default&&r.jsxs(te,{className:"bg-secondary text-secondary-foreground gap-1",children:[r.jsx(De,{className:"w-3 h-3"}),e("member.payment.default")]})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:N.last4?`****${N.last4}`:""})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[!N.is_default&&r.jsx(M,{variant:"outline",size:"sm",onClick:()=>p.mutate(N.id),disabled:p.isPending,"data-testid":`button-default-${N.id}`,children:e("member.payment.setDefault")}),r.jsx(M,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>x.mutate(N.id),disabled:x.isPending,"data-testid":`button-delete-${N.id}`,children:r.jsx(Dn,{className:"w-4 h-4"})})]})]},N.id))})})]}),r.jsx(V,{className:"bg-muted/30",children:r.jsxs(J,{className:"p-4 flex items-start gap-3",children:[r.jsx(dg,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("p",{className:"font-medium text-foreground mb-2",children:h?"":"Payment & Withdrawal Info"}),r.jsxs("ul",{className:"space-y-1.5 list-disc list-inside",children:[r.jsx("li",{children:h?" Stripe FPXGrabPay":"Purchases: Paid online via Stripe (Credit Card, FPX, GrabPay)"}),r.jsx("li",{children:h?"":"Withdrawals: Link a bank account or e-wallet to request payouts"}),r.jsx("li",{children:h?"":"The default account will be used for automatic payout processing"})]})]})]})})]})})}function ife(){ct();const{user:e,member:t,loading:n}=Qt(),{toast:a}=Wt(),[s,i]=j.useState(!1),[o,l]=j.useState("all"),c=(t==null?void 0:t.referralCode)||"",d=`${window.location.origin}/auth/login?ref=${c}`,{data:u}=Le({queryKey:["member-referral-stats",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{data:y,error:v}=await Y.rpc("get_referral_stats",{p_member_id:t.id});if(v){console.log("Stats function not available:",v.message);const{data:b}=await Y.from("members").select("id, role, referrer_id").eq("referrer_id",t.id);return{direct_referrals:(b==null?void 0:b.length)||0,total_network:(b==null?void 0:b.length)||0,partners_in_network:(b==null?void 0:b.filter(N=>N.role==="partner").length)||0,level1_count:(b==null?void 0:b.length)||0,level2_count:0,level3_count:0}}return(y==null?void 0:y[0])||{direct_referrals:0,total_network:0,partners_in_network:0,level1_count:0,level2_count:0,level3_count:0}},enabled:!!(t!=null&&t.id)}),{data:m=[],isLoading:h}=Le({queryKey:["member-downline",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:y,error:v}=await Y.rpc("get_member_downline",{p_member_id:t.id,p_max_level:10});if(v){console.log("Function not available, using fallback:",v.message);const{data:b}=await Y.from("members").select("*").eq("referrer_id",t.id).order("created_at",{ascending:!1});return(b||[]).map(N=>({id:N.id,name:N.name||"",email:N.email||"",role:N.role||"member",referral_code:N.referral_code||"",level:1,created_at:N.created_at,points_balance:N.points_balance||0}))}return(y||[]).map(b=>({id:b.id,name:b.name||"",email:b.email||"",role:b.role||"member",referral_code:b.referral_code||"",level:b.level||1,created_at:b.created_at,points_balance:b.points_balance||0}))},enabled:!!(t!=null&&t.id)}),f=async(y,v)=>{try{await navigator.clipboard.writeText(y),i(!0),a({title:`${v}`}),setTimeout(()=>i(!1),2e3)}catch{a({title:"",variant:"destructive"})}},g=y=>{switch(y){case"member":return{label:"",icon:Lt,variant:"secondary"};case"partner":return{label:"",icon:Jr,variant:"default"};case"admin":return{label:"",icon:oa,variant:"destructive"};default:return{label:"",icon:Mt,variant:"outline"}}},p=o==="all"?m:o==="partner"?m.filter(y=>y.role==="partner"):m.filter(y=>y.role==="member"),x=y=>new Date(y).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return e?t?r.jsx(hr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-referrals-title",children:""}),r.jsx("p",{className:"text-muted-foreground",children:""})]}),r.jsxs(V,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:[r.jsxs(Te,{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Is,{className:"w-5 h-5 text-primary"}),""]}),r.jsx(hn,{children:""})]}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:""}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-3xl font-mono font-bold text-primary tracking-wider",children:c}),r.jsx(M,{variant:"outline",size:"sm",onClick:()=>f(c,""),"data-testid":"button-copy-code",children:s?r.jsx(De,{className:"w-4 h-4"}):r.jsx(ol,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center border",children:r.jsx(cF,{className:"w-12 h-12 text-muted-foreground"})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:""}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(se,{value:d,readOnly:!0,className:"font-mono text-sm","data-testid":"input-referral-link"}),r.jsx(M,{variant:"outline",size:"icon",onClick:()=>f(d,""),"data-testid":"button-copy-link",children:r.jsx(OZ,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsxs(M,{className:"flex-1 bg-green-500 hover:bg-green-600",onClick:()=>{const y=`LOVEYOUNG ${c} ${d}`;window.open(`https://wa.me/?text=${encodeURIComponent(y)}`,"_blank")},children:[r.jsx(Is,{className:"w-4 h-4 mr-2"})," WhatsApp"]}),r.jsxs(M,{variant:"outline",className:"flex-1",onClick:()=>f(d,""),children:[r.jsx(ol,{className:"w-4 h-4 mr-2"}),""]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-4 text-center",children:[r.jsx(la,{className:"w-8 h-8 mx-auto text-primary mb-2"}),r.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.direct_referrals)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 text-center",children:[r.jsx(hc,{className:"w-8 h-8 mx-auto text-secondary mb-2"}),r.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.total_network)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 text-center",children:[r.jsx(Jr,{className:"w-8 h-8 mx-auto text-primary mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-primary",children:(u==null?void 0:u.partners_in_network)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 text-center",children:[r.jsx(Mt,{className:"w-8 h-8 mx-auto text-blue-500 mb-2"}),r.jsx("p",{className:"text-2xl font-bold",children:((u==null?void 0:u.level2_count)||0)+((u==null?void 0:u.level3_count)||0)}),r.jsx("p",{className:"text-sm text-muted-foreground",children:""})]})})]}),r.jsxs(V,{children:[r.jsxs(Te,{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(hc,{className:"w-5 h-5 text-primary"}),""]}),r.jsx(hn,{children:""})]}),r.jsx(J,{children:r.jsxs(Pn,{value:o,onValueChange:l,children:[r.jsxs(yn,{className:"grid w-full grid-cols-3",children:[r.jsxs(ke,{value:"all","data-testid":"tab-all",children:[" (",m.length,")"]}),r.jsxs(ke,{value:"partner","data-testid":"tab-partner",children:[" (",m.filter(y=>y.role==="partner").length,")"]}),r.jsxs(ke,{value:"member","data-testid":"tab-member",children:[" (",m.filter(y=>y.role==="member").length,")"]})]}),r.jsx(Nt,{value:o,className:"mt-4",children:h?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):p.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Mt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:""}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:""})]}):r.jsx("div",{className:"space-y-3",children:p.map(y=>{const v=g(y.role),b=v.icon;return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",style:{marginLeft:`${(y.level-1)*16}px`},"data-testid":`downline-${y.id}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(b,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(te,{variant:"outline",className:"text-xs",children:["L",y.level]}),r.jsx("span",{className:"font-medium",children:y.name}),r.jsx(te,{variant:v.variant,className:"text-xs",children:v.label})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:y.email})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-mono text-sm text-muted-foreground",children:y.referral_code}),r.jsx("p",{className:"text-xs text-muted-foreground",children:x(y.created_at)})]})]},y.id)})})})]})})]}),r.jsx(V,{className:"bg-muted/30",children:r.jsxs(J,{className:"p-4",children:[r.jsx("h3",{className:"font-semibold mb-3",children:""}),r.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground list-disc list-inside",children:[r.jsx("li",{children:""}),r.jsx("li",{children:""}),r.jsx("li",{children:""}),r.jsx("li",{children:""})]})]})})]})}):n?r.jsx(hr,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(hr,{children:r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[r.jsx(Mt,{className:"w-16 h-16 text-muted-foreground/40 mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:""}),r.jsx("p",{className:"text-muted-foreground mb-6 max-w-sm",children:""}),r.jsx("a",{href:"/#products",children:r.jsx(M,{children:""})})]})}):r.jsx(hr,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("p",{className:"text-muted-foreground",children:""})})})}const ofe=e=>[{path:"/member/partner",label:e("member.center.sections.partner.dashboard"),icon:iF},{path:"/member/partner/referrals",label:e("member.referrals.title"),icon:Mt},{path:"/member/partner/materials",label:e("member.materials.title"),icon:qi},{path:"/member/partner/ly-points",label:e("member.lyPoints.title"),icon:Lt},{path:"/member/partner/wallet",label:e("member.wallet.title"),icon:ms},{path:"/member/partner/rwa",label:e("member.rwa.title"),icon:t0},{path:"/member/partner/earnings",label:e("member.earnings.title"),icon:Mn}];function hs({children:e}){var x,y,v,b;const{t}=ct(),n=ofe(t),[a,s]=za(),[i,o]=j.useState(!1),{user:l,member:c,partner:d,role:u,signOut:m}=Qt(),h=N=>N==="/member/partner"?a===N:a.startsWith(N),f=n.find(N=>h(N.path)),g=async()=>{try{await m()}catch(N){console.error("Logout error:",N)}window.location.href="/"},p=()=>r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/20 flex items-center justify-center",children:r.jsx(Jr,{className:"w-5 h-5 text-secondary"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold text-primary",children:t("member.center.sections.partner.title")}),r.jsx(te,{variant:"outline",className:"text-xs",children:"Phase 1"})]})]})}),r.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:n.map(N=>{const w=N.icon,k=h(N.path);return r.jsxs(M,{variant:k?"secondary":"ghost",className:`w-full justify-start gap-3 ${k?"bg-secondary/20 text-secondary font-medium":""}`,onClick:()=>{s(N.path),o(!1)},"data-testid":`nav-${N.path.split("/").pop()}`,children:[r.jsx(w,{className:"w-4 h-4"}),N.label,k&&r.jsx(rr,{className:"w-4 h-4 ml-auto"})]},N.path)})}),r.jsxs("div",{className:"p-4 border-t space-y-2",children:[u==="admin"&&r.jsxs(M,{variant:"ghost",className:"w-full justify-start gap-3 text-primary hover:bg-primary/10",onClick:()=>{s("/admin"),o(!1)},"data-testid":"nav-admin-panel",children:[r.jsx(oa,{className:"w-4 h-4"}),t("admin.adminPanel"),r.jsx(rr,{className:"w-4 h-4 ml-auto"})]}),r.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>s("/member"),"data-testid":"button-back-member",children:[r.jsx(Ra,{className:"w-4 h-4"}),t("member.center.backToCenter")]}),r.jsxs(M,{variant:"ghost",className:"w-full justify-start gap-2",onClick:()=>s("/"),"data-testid":"button-back-home",children:[r.jsx(cg,{className:"w-4 h-4"}),t("nav.home")]}),r.jsx("div",{className:"mt-3",children:r.jsx(Nl,{testId:"button-language-switcher-sidebar"})})]})]});return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsxs("header",{className:"sticky top-0 z-50 bg-primary text-primary-foreground",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Ll,{open:i,onOpenChange:o,children:[r.jsx(x0,{asChild:!0,children:r.jsx(M,{variant:"ghost",size:"icon",className:"lg:hidden text-primary-foreground","data-testid":"button-mobile-menu",children:r.jsx(s0,{className:"w-6 h-6"})})}),r.jsx(mo,{side:"left",className:"w-72 p-0",children:r.jsx(p,{})})]}),r.jsx("span",{className:"font-serif text-xl font-bold text-secondary cursor-pointer",onClick:()=>s("/"),"data-testid":"link-logo",children:"LOVE YOUNG"}),r.jsxs("div",{className:"hidden lg:flex items-center gap-2 ml-4",children:[r.jsx(Jr,{className:"w-5 h-5 text-secondary"}),r.jsx("span",{className:"text-sm font-medium",children:t("member.center.sections.partner.title")}),f&&r.jsxs(r.Fragment,{children:[r.jsx(rr,{className:"w-4 h-4 text-primary-foreground/60"}),r.jsx("span",{className:"text-sm text-primary-foreground/80",children:f.label})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Nl,{testId:"button-language-switcher-header"}),r.jsxs(M,{variant:"ghost",size:"sm",className:"hidden sm:flex text-primary-foreground gap-2",onClick:()=>s("/member"),"data-testid":"button-header-member",children:[r.jsx(Ra,{className:"w-4 h-4"}),t("member.center.backToCenter")]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kl,{className:"w-8 h-8 border border-secondary/50",children:r.jsx(Pl,{className:"bg-secondary text-secondary-foreground text-sm",children:((y=(x=l==null?void 0:l.user_metadata)==null?void 0:x.first_name)==null?void 0:y.charAt(0))||((v=c==null?void 0:c.name)==null?void 0:v.charAt(0))||"U"})}),r.jsx("span",{className:"hidden md:block text-sm font-medium","data-testid":"text-user-name",children:(c==null?void 0:c.name)||((b=l==null?void 0:l.user_metadata)==null?void 0:b.first_name)||t("member.center.sections.partner.title")})]}),r.jsx(M,{variant:"ghost",size:"icon",className:"text-primary-foreground hidden lg:flex",onClick:g,"data-testid":"button-logout",children:r.jsx(Kf,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"lg:hidden flex items-center justify-center gap-2 py-2 bg-primary/90 border-t border-primary-foreground/10",children:f&&r.jsxs(r.Fragment,{children:[r.jsx(f.icon,{className:"w-4 h-4 text-secondary"}),r.jsx("span",{className:"text-sm font-medium",children:f.label})]})})]}),r.jsxs("div",{className:"flex",children:[r.jsx("aside",{className:"hidden lg:block w-64 border-r bg-card min-h-[calc(100vh-56px)] sticky top-14",children:r.jsx(p,{})}),r.jsx("main",{className:"flex-1 p-4 lg:p-8",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:e})})]})]})}function ZR(){const{t:e}=ct(),{partner:t,member:n}=Qt(),[a,s]=j.useState(!1),{data:i,isLoading:o}=Le({queryKey:["partner-dashboard-stats",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{count:h}=await Y.from("partners").select("*",{count:"exact",head:!0}).eq("referrer_id",t.id),{count:f}=await Y.from("partners").select("*",{count:"exact",head:!0}).eq("referrer_id",t.id).eq("status","active"),g=new Date().toISOString().slice(0,7),{data:p}=await Y.from("cash_wallet_ledger").select("amount").eq("partner_id",t.id).gte("created_at",`${g}-01`),x=(p==null?void 0:p.reduce((I,A)=>I+(A.amount>0?A.amount:0),0))||0,y=new Date;y.setMonth(y.getMonth()-1);const v=y.toISOString().slice(0,7),{data:b}=await Y.from("cash_wallet_ledger").select("amount").eq("partner_id",t.id).gte("created_at",`${v}-01`).lt("created_at",`${g}-01`),N=(b==null?void 0:b.reduce((I,A)=>I+(A.amount>0?A.amount:0),0))||0,{data:w}=await Y.from("cash_wallet_ledger").select("amount").eq("partner_id",t.id).gt("amount",0),k=(w==null?void 0:w.reduce((I,A)=>I+A.amount,0))||0,{data:P}=await Y.from("bonus_pool_cycles").select("*").eq("status","active").order("created_at",{ascending:!1}).limit(1).single();let _=0,T="";if(P){const I=new Date(P.start_date),A=new Date(P.end_date),R=new Date,E=(A.getTime()-I.getTime())/(1e3*60*60*24),L=(R.getTime()-I.getTime())/(1e3*60*60*24);_=Math.min(100,Math.max(0,L/E*100)),T=P.end_date}return{totalReferrals:h||0,activeReferrals:f||0,monthlyEarnings:x,lastMonthEarnings:N,totalEarnings:k,currentCycle:(P==null?void 0:P.cycle_number)||1,cycleProgress:_,nextPayout:T}},enabled:!!(t!=null&&t.id)}),l=h=>({phase1:e("member.partnerDashboard.tiers.phase1"),phase2:e("member.partnerDashboard.tiers.phase2"),phase3:e("member.partnerDashboard.tiers.phase3")})[h]||h,c=h=>`RM ${(h/100).toFixed(2)}`,d=i&&i.lastMonthEarnings>0?((i.monthlyEarnings-i.lastMonthEarnings)/i.lastMonthEarnings*100).toFixed(1):"0",u=i?i.monthlyEarnings>=i.lastMonthEarnings:!0,m=()=>{t!=null&&t.referralCode&&(navigator.clipboard.writeText(t.referralCode),s(!0),setTimeout(()=>s(!1),2e3))};return o?r.jsx(hs,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(hs,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-partner-dashboard-title",children:e("member.partnerDashboard.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.partnerDashboard.subtitle")})]}),r.jsx(V,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary/20 flex items-center justify-center",children:r.jsx(Jr,{className:"w-8 h-8 text-secondary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.currentTier")}),r.jsx("h2",{className:"text-2xl font-bold text-primary",children:l((t==null?void 0:t.tier)||"phase1")}),r.jsx(te,{className:"mt-1 bg-secondary/20 text-secondary",children:e("member.partnerDashboard.partnerBadge")})]})]}),r.jsxs("div",{className:"flex flex-col items-start md:items-end gap-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.myReferralCode")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"px-4 py-2 bg-background rounded-lg font-mono text-lg font-bold text-primary",children:(t==null?void 0:t.referralCode)||"--------"}),r.jsx(M,{size:"icon",variant:"outline",onClick:m,"data-testid":"button-copy-referral",children:a?r.jsx(pa,{className:"w-4 h-4 text-green-500"}):r.jsx(ol,{className:"w-4 h-4"})})]})]})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(V,{"data-testid":"card-ly-balance",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Lt,{className:"w-5 h-5 text-primary"})}),r.jsx(te,{variant:"outline",className:"text-xs",children:e("member.partnerDashboard.lyPoints")})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-3xl font-bold text-foreground",children:((t==null?void 0:t.lyBalance)||0).toLocaleString()}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.lyBalance")})]})]})}),r.jsx(V,{"data-testid":"card-cash-balance",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center",children:r.jsx(ms,{className:"w-5 h-5 text-green-500"})}),r.jsx(te,{variant:"outline",className:"text-xs",children:e("member.partnerDashboard.cashWallet")})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-3xl font-bold text-foreground",children:c((t==null?void 0:t.cashWalletBalance)||0)}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.cashBalance")})]})]})}),r.jsx(V,{"data-testid":"card-rwa-tokens",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center",children:r.jsx(pl,{className:"w-5 h-5 text-secondary"})}),r.jsx(te,{variant:"outline",className:"text-xs",children:e("member.partnerDashboard.rwaToken")})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-3xl font-bold text-foreground",children:(t==null?void 0:t.rwaTokens)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.rwaBalance")})]})]})}),r.jsx(V,{"data-testid":"card-referrals",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center",children:r.jsx(Mt,{className:"w-5 h-5 text-blue-500"})}),r.jsx(te,{variant:"outline",className:"text-xs",children:e("member.partnerDashboard.referralNetwork")})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-3xl font-bold text-foreground",children:(i==null?void 0:i.totalReferrals)||0}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.activeMembers").replace("{count}",String((i==null?void 0:i.activeReferrals)||0))})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(V,{children:[r.jsxs(Te,{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Mn,{className:"w-5 h-5 text-primary"}),e("member.partnerDashboard.monthlyEarnings")]}),r.jsx(hn,{children:e("member.partnerDashboard.earningsDesc")})]}),r.jsxs(J,{children:[r.jsxs("div",{className:"flex items-end gap-4 mb-6",children:[r.jsx("p",{className:"text-4xl font-bold text-foreground",children:c((i==null?void 0:i.monthlyEarnings)||0)}),r.jsxs("div",{className:`flex items-center gap-1 text-sm ${u?"text-green-500":"text-red-500"}`,children:[u?r.jsx(nr,{className:"w-4 h-4"}):r.jsx(Ca,{className:"w-4 h-4"}),d,"%"]})]}),r.jsx(Qr,{className:"my-4"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.totalEarnings")}),r.jsx("p",{className:"text-xl font-bold text-foreground",children:c((i==null?void 0:i.totalEarnings)||0)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.lastMonthEarnings")}),r.jsx("p",{className:"text-xl font-bold text-foreground",children:c((i==null?void 0:i.lastMonthEarnings)||0)})]})]})]})]}),r.jsxs(V,{children:[r.jsxs(Te,{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(pl,{className:"w-5 h-5 text-secondary"}),e("member.partnerDashboard.rwaCycle")]}),r.jsx(hn,{children:e("member.partnerDashboard.cycleDesc").replace("{cycle}",String((i==null?void 0:i.currentCycle)||1))})]}),r.jsx(J,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-muted-foreground",children:e("member.partnerDashboard.cycleProgress")}),r.jsxs("span",{className:"font-medium",children:[Math.round((i==null?void 0:i.cycleProgress)||0),"%"]})]}),r.jsx(Qm,{value:(i==null?void 0:i.cycleProgress)||0,className:"h-3"})]}),r.jsx(Qr,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.nextPayoutDate")}),r.jsx("p",{className:"font-medium text-foreground",children:(i==null?void 0:i.nextPayout)||"-"})]}),r.jsx(M,{variant:"outline",size:"sm","data-testid":"button-view-rwa",children:e("member.partnerDashboard.viewDetails")})]})]})})]})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Pa,{className:"w-5 h-5 text-primary"}),e("member.partnerDashboard.quickActions")]})}),r.jsx(J,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs(M,{variant:"outline",className:"h-auto py-4 flex-col gap-2","data-testid":"button-share-materials",children:[r.jsx(Is,{className:"w-5 h-5"}),r.jsx("span",{children:e("member.partnerDashboard.promoMaterials")})]}),r.jsxs(M,{variant:"outline",className:"h-auto py-4 flex-col gap-2","data-testid":"button-invite-friends",children:[r.jsx(Mt,{className:"w-5 h-5"}),r.jsx("span",{children:e("member.partnerDashboard.inviteFriends")})]}),r.jsxs(M,{variant:"outline",className:"h-auto py-4 flex-col gap-2","data-testid":"button-withdraw",children:[r.jsx(ms,{className:"w-5 h-5"}),r.jsx("span",{children:e("member.partnerDashboard.withdraw")})]}),r.jsxs(M,{variant:"outline",className:"h-auto py-4 flex-col gap-2","data-testid":"button-upgrade",children:[r.jsx(Yy,{className:"w-5 h-5"}),r.jsx("span",{children:e("member.partnerDashboard.upgradePlan")})]})]})})]})]})})}const lfe={1:"bg-secondary text-secondary-foreground",2:"bg-primary text-primary-foreground",3:"bg-blue-500 text-white"};function cfe(){const{t:e}=ct(),{partner:t}=Qt(),[n,a]=j.useState(""),[s,i]=j.useState(null),{data:o=[],isLoading:l}=Le({queryKey:["partner-referrals",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const m=[],h=async(f,g)=>{var y;if(g>10||f.length===0)return;const{data:p}=await Y.from("partners").select(`
            id,
            tier,
            status,
            ly_balance,
            created_at,
            member_id,
            members!inner(id, name)
          `).in("referrer_id",f);if(!p||p.length===0)return;const x=[];for(const v of p){const b=v.members;m.push({partnerId:v.id,memberId:v.member_id,name:(b==null?void 0:b.name)||"Unknown",tier:v.tier,status:v.status,level:g,joinDate:((y=v.created_at)==null?void 0:y.split(/[T ]/)[0])||"",lyBalance:v.ly_balance||0}),x.push(v.id)}await h(x,g+1)};return await h([t.id],1),m},enabled:!!(t!=null&&t.id)}),c=o.filter(m=>{const h=m.name.toLowerCase().includes(n.toLowerCase()),f=s===null||m.level===s;return h&&f}),d={total:o.length,active:o.filter(m=>m.status==="active").length,level1:o.filter(m=>m.level===1).length,level2:o.filter(m=>m.level===2).length,level3:o.filter(m=>m.level===3).length,totalLyEarned:o.reduce((m,h)=>m+h.lyBalance,0)},u=m=>({phase1:e("member.referrals.tierPhase1"),phase2:e("member.referrals.tierPhase2"),phase3:e("member.referrals.tierPhase3")})[m]||m;return l?r.jsx(hs,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(hs,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-referrals-title",children:e("member.referrals.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.referrals.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(V,{children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Mt,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:d.total}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.referrals.totalReferrals")})]})]})})}),r.jsx(V,{children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center",children:r.jsx(Mn,{className:"w-5 h-5 text-green-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:d.active}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.referrals.activeMembers")})]})]})})}),r.jsx(V,{children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center",children:r.jsx(Jr,{className:"w-5 h-5 text-secondary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:d.level1}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.referrals.directReferrals")})]})]})})}),r.jsx(V,{children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center",children:r.jsx(Lt,{className:"w-5 h-5 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:d.totalLyEarned.toLocaleString()}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.referrals.teamTotalLy")})]})]})})})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx(Oe,{children:e("member.referrals.teamList")}),r.jsx(hn,{children:e("member.referrals.teamListDesc")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("member.referrals.searchPlaceholder"),value:n,onChange:m=>a(m.target.value),className:"pl-9 w-[200px]","data-testid":"input-search-referrals"})]}),r.jsx(M,{variant:"outline",size:"icon","data-testid":"button-filter",children:r.jsx(O_,{className:"w-4 h-4"})})]})]})}),r.jsxs(J,{children:[r.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[r.jsx(M,{variant:s===null?"default":"outline",size:"sm",onClick:()=>i(null),"data-testid":"button-filter-all",children:e("member.referrals.allFilter")}),r.jsxs(M,{variant:s===1?"default":"outline",size:"sm",onClick:()=>i(1),"data-testid":"button-filter-level-1",children:[e("member.referrals.level").replace("{n}","1")," (",d.level1,")"]}),r.jsxs(M,{variant:s===2?"default":"outline",size:"sm",onClick:()=>i(2),"data-testid":"button-filter-level-2",children:[e("member.referrals.level").replace("{n}","2")," (",d.level2,")"]}),r.jsxs(M,{variant:s===3?"default":"outline",size:"sm",onClick:()=>i(3),"data-testid":"button-filter-level-3",children:[e("member.referrals.level").replace("{n}","3")," (",d.level3,")"]})]}),r.jsx("div",{className:"space-y-3",children:c.map(m=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover-elevate cursor-pointer","data-testid":`card-referral-${m.partnerId}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(kl,{children:r.jsx(Pl,{className:"bg-primary/10 text-primary",children:m.name.slice(0,1)})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-medium",children:m.name}),r.jsx(te,{className:lfe[m.level]||"bg-gray-500",variant:"secondary",children:e("member.referrals.level").replace("{n}",String(m.level))}),m.status==="pending"&&r.jsx(te,{variant:"outline",className:"text-orange-500 border-orange-500",children:e("member.referrals.pendingActivation")})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("member.referrals.joinTime"),": ",m.joinDate,"  ",u(m.tier)]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-medium text-secondary",children:[m.lyBalance.toLocaleString()," LY"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.referrals.lyBalanceLabel")})]}),r.jsx(rr,{className:"w-5 h-5 text-muted-foreground"})]})]},m.partnerId))}),c.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Mt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:o.length===0?e("member.referrals.noMembers"):e("member.referrals.noMatchingMembers")})]})]})]}),r.jsx(V,{className:"bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary/20 flex items-center justify-center",children:r.jsx(la,{className:"w-6 h-6 text-secondary"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg",children:e("member.referrals.inviteTitle")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.referrals.inviteDesc")})]})]}),r.jsxs(M,{className:"bg-secondary text-secondary-foreground hover:bg-secondary/90","data-testid":"button-invite",children:[r.jsx(la,{className:"w-4 h-4 mr-2"}),e("member.referrals.inviteNow")]})]})})})]})})}const dfe=e=>({images:[{id:1,title:e("member.materials.productPoster"),thumbnail:"/pics/love_young_brand_identity_20260106043554_1.png",size:"1080x1920"},{id:2,title:e("member.materials.brandStory"),thumbnail:"/pics/love_young_founders_story_20260106043351_1.png",size:"1200x630"},{id:3,title:e("member.materials.recruitPoster"),thumbnail:"/pics/love_young_digital_marketing_20260106043418_1.png",size:"1080x1920"},{id:4,title:e("member.materials.holidayPromo"),thumbnail:"/pics/love_young_community_impact_20260106043528_1.png",size:"1080x1080"}],documents:[{id:1,title:e("member.materials.productManual"),type:"PDF",size:"2.5 MB"},{id:2,title:e("member.materials.trainingMaterial"),type:"PDF",size:"5.2 MB"},{id:3,title:e("member.materials.faqDocument"),type:"PDF",size:"1.1 MB"},{id:4,title:e("member.materials.brandPpt"),type:"PPTX",size:"8.7 MB"}],videos:[{id:1,title:e("member.materials.brandVideo"),duration:"2:30",thumbnail:"/pics/love_young_brand_identity_20260106043554_1.png"},{id:2,title:e("member.materials.productProcess"),duration:"5:15",thumbnail:"/pics/craftsmanship_journey.webp"},{id:3,title:e("member.materials.successStory"),duration:"3:45",thumbnail:"/pics/partner_story_1.webp"}]});function eM(){const{t:e}=ct(),t=dfe(e),{member:n,loading:a}=Qt(),{toast:s}=Wt();j.useState(null);const i=(n==null?void 0:n.referralCode)||"",o=i?`${window.location.origin}/auth/login?ref=${i}`:"",l=async(u,m)=>{try{await navigator.clipboard.writeText(u),s({title:e("member.materials.copiedToClipboard")})}catch{s({title:e("member.materials.copyFailed"),variant:"destructive"})}},c=()=>{const u=`${e("member.materials.shareText").replace("{code}",i)}
${o}`;window.open(`https://wa.me/?text=${encodeURIComponent(u)}`,"_blank")},d=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(o)}`,"_blank")};return n?r.jsx(hr,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-materials-title",children:e("member.materials.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.materials.subtitle")})]}),r.jsx(V,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:r.jsxs(J,{className:"p-4 sm:p-6 space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-11 h-11 sm:w-16 sm:h-16 rounded-xl bg-background flex items-center justify-center border-2 border-dashed border-primary/30 shrink-0",children:r.jsx(cF,{className:"w-5 h-5 sm:w-8 sm:h-8 text-primary"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-base sm:text-lg",children:e("member.materials.myReferralLink")}),r.jsxs("p",{className:"text-muted-foreground text-xs sm:text-sm",children:[e("member.materials.referralCodeLabel"),": ",r.jsx("span",{className:"font-mono font-bold text-primary",children:i})]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"flex-1 md:flex-none h-8 sm:h-9 px-2 sm:px-3",onClick:()=>l(i,e("member.materials.referralCodeLabel")),"data-testid":"button-copy-code",children:[r.jsx(ol,{className:"w-3.5 h-3.5 mr-1 sm:mr-1.5 shrink-0"}),r.jsx("span",{className:"text-[10px] sm:text-sm truncate",children:e("member.materials.copyReferralCode")})]}),r.jsxs(M,{size:"sm",className:"flex-1 md:flex-none h-8 sm:h-9 px-2 sm:px-3 bg-green-500 hover:bg-green-600",onClick:c,"data-testid":"button-share-whatsapp",children:[r.jsx(Is,{className:"w-3.5 h-3.5 mr-1 sm:mr-1.5 shrink-0"}),r.jsx("span",{className:"text-[10px] sm:text-sm truncate",children:e("member.materials.shareWhatsApp")})]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground mb-1",children:e("member.materials.referralLinkLabel")}),r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[r.jsx(se,{value:o,readOnly:!0,className:"font-mono text-[10px] sm:text-sm bg-background h-8 sm:h-9","data-testid":"input-referral-link"}),r.jsx(M,{variant:"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 shrink-0",onClick:()=>l(o,e("member.materials.referralLinkLabel")),"data-testid":"button-copy-link",children:r.jsx(ol,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]})}),r.jsxs(Pn,{defaultValue:"images",className:"space-y-4 sm:space-y-6",children:[r.jsxs(yn,{className:"grid w-full grid-cols-3",children:[r.jsxs(ke,{value:"images",className:"gap-1.5 text-xs sm:text-sm","data-testid":"tab-images",children:[r.jsx(pu,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e("member.materials.tabs.images")]}),r.jsxs(ke,{value:"documents",className:"gap-1.5 text-xs sm:text-sm","data-testid":"tab-documents",children:[r.jsx(qi,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e("member.materials.tabs.documents")]}),r.jsxs(ke,{value:"videos",className:"gap-1.5 text-xs sm:text-sm","data-testid":"tab-videos",children:[r.jsx(zO,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e("member.materials.tabs.videos")]})]}),r.jsx(Nt,{value:"images",children:r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4",children:t.images.map(u=>r.jsxs(V,{className:"overflow-hidden","data-testid":`card-image-${u.id}`,children:[r.jsx("div",{className:"aspect-[3/4] sm:aspect-[9/16] bg-muted overflow-hidden",children:r.jsx("img",{src:u.thumbnail,alt:u.title,className:"w-full h-full object-cover"})}),r.jsxs(J,{className:"p-2.5 sm:p-4",children:[r.jsx("h4",{className:"font-medium text-xs sm:text-sm mb-0.5 sm:mb-1 truncate",children:u.title}),r.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mb-2 sm:mb-3",children:u.size}),r.jsxs("div",{className:"flex gap-1.5 sm:gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"flex-1 h-7 sm:h-9 text-[10px] sm:text-xs px-1.5 sm:px-3",children:[r.jsx(Vi,{className:"w-3 h-3 mr-0.5 sm:mr-1 shrink-0"}),r.jsx("span",{className:"truncate",children:e("member.materials.download")})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"flex-1 h-7 sm:h-9 text-[10px] sm:text-xs px-1.5 sm:px-3",onClick:()=>{const m=`${e("member.materials.itemShareText").replace("{title}",u.title).replace("{code}",i)}
${o}`;window.open(`https://wa.me/?text=${encodeURIComponent(m)}`,"_blank")},children:[r.jsx(Is,{className:"w-3 h-3 mr-0.5 sm:mr-1 shrink-0"}),r.jsx("span",{className:"truncate",children:e("member.materials.share")})]})]})]})]},u.id))})}),r.jsx(Nt,{value:"documents",children:r.jsx("div",{className:"space-y-2 sm:space-y-0",children:t.documents.map(u=>r.jsx(V,{"data-testid":`card-document-${u.id}`,className:"sm:rounded-none sm:border-x-0 sm:border-t-0 sm:shadow-none sm:last:border-b-0",children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-4 mb-2 sm:mb-0",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(qi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"font-medium text-xs sm:text-base truncate",children:u.title}),r.jsxs("p",{className:"text-[10px] sm:text-sm text-muted-foreground",children:[u.type,"  ",u.size]})]}),r.jsxs("div",{className:"hidden sm:flex gap-1.5 shrink-0",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"h-9 px-3",children:[r.jsx(fu,{className:"w-4 h-4 mr-1"}),e("member.materials.preview")]}),r.jsxs(M,{variant:"outline",size:"sm",className:"h-9 px-3",children:[r.jsx(Vi,{className:"w-4 h-4 mr-1"}),e("member.materials.download")]})]})]}),r.jsxs("div",{className:"flex gap-2 sm:hidden",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"flex-1 h-7 text-[10px]",children:[r.jsx(fu,{className:"w-3 h-3 mr-1 shrink-0"}),e("member.materials.preview")]}),r.jsxs(M,{variant:"outline",size:"sm",className:"flex-1 h-7 text-[10px]",children:[r.jsx(Vi,{className:"w-3 h-3 mr-1 shrink-0"}),e("member.materials.download")]})]})]})},u.id))})}),r.jsx(Nt,{value:"videos",children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 sm:gap-4",children:t.videos.map(u=>r.jsxs(V,{className:"overflow-hidden","data-testid":`card-video-${u.id}`,children:[r.jsxs("div",{className:"aspect-video bg-muted overflow-hidden relative",children:[r.jsx("img",{src:u.thumbnail,alt:u.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:r.jsx("div",{className:"w-9 h-9 sm:w-12 sm:h-12 rounded-full bg-white/90 flex items-center justify-center",children:r.jsx(zO,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})})}),r.jsx(te,{className:"absolute bottom-1.5 right-1.5 sm:bottom-2 sm:right-2 bg-black/70 text-[10px] sm:text-xs",children:u.duration})]}),r.jsxs(J,{className:"p-2.5 sm:p-4",children:[r.jsx("h4",{className:"font-medium text-xs sm:text-sm mb-2 sm:mb-3 truncate",children:u.title}),r.jsxs("div",{className:"flex gap-1.5 sm:gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"flex-1 h-7 sm:h-9 text-[10px] sm:text-xs px-1.5 sm:px-3",children:[r.jsx(fu,{className:"w-3 h-3 mr-0.5 sm:mr-1 shrink-0"}),r.jsx("span",{className:"truncate",children:e("member.materials.play")})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"flex-1 h-7 sm:h-9 text-[10px] sm:text-xs px-1.5 sm:px-3",onClick:()=>{const m=`${e("member.materials.itemShareText").replace("{title}",u.title).replace("{code}",i)}
${o}`;window.open(`https://wa.me/?text=${encodeURIComponent(m)}`,"_blank")},children:[r.jsx(Is,{className:"w-3 h-3 mr-0.5 sm:mr-1 shrink-0"}),r.jsx("span",{className:"truncate",children:e("member.materials.share")})]})]})]})]},u.id))})})]}),r.jsxs(V,{children:[r.jsxs(Te,{className:"p-4 sm:p-6",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(UZ,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("member.materials.socialShare")]}),r.jsx(hn,{className:"text-xs sm:text-sm",children:e("member.materials.socialShareDesc")})]}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[r.jsxs(M,{variant:"outline",className:"h-auto py-3 sm:py-4 flex-col gap-1.5 sm:gap-2 bg-green-500/5 border-green-500/20 hover:bg-green-500/10",onClick:c,children:[r.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-green-500 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-base sm:text-lg",children:"W"})}),r.jsx("span",{className:"text-xs sm:text-sm",children:"WhatsApp"})]}),r.jsxs(M,{variant:"outline",className:"h-auto py-3 sm:py-4 flex-col gap-1.5 sm:gap-2 bg-blue-500/5 border-blue-500/20 hover:bg-blue-500/10",onClick:d,children:[r.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-blue-500 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-base sm:text-lg",children:"F"})}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Facebook"})]}),r.jsxs(M,{variant:"outline",className:"h-auto py-3 sm:py-4 flex-col gap-1.5 sm:gap-2 bg-pink-500/5 border-pink-500/20 hover:bg-pink-500/10",onClick:()=>l(o,e("member.materials.referralLinkLabel")),children:[r.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-gradient-to-br from-pink-500 to-orange-500 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-base sm:text-lg",children:"I"})}),r.jsx("span",{className:"text-xs sm:text-sm",children:"Instagram"})]}),r.jsxs(M,{variant:"outline",className:"h-auto py-3 sm:py-4 flex-col gap-1.5 sm:gap-2 bg-red-500/5 border-red-500/20 hover:bg-red-500/10",onClick:()=>l(o,e("member.materials.referralLinkLabel")),children:[r.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-red-500 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-base sm:text-lg",children:""})}),r.jsx("span",{className:"text-xs sm:text-sm",children:""})]})]})})]})]})}):a?r.jsx(hr,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(hr,{children:r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[r.jsx(Is,{className:"w-16 h-16 text-muted-foreground/40 mb-4"}),r.jsx("h2",{className:"text-xl font-semibold mb-2",children:e("member.materials.notMember")}),r.jsx("p",{className:"text-muted-foreground mb-6 max-w-sm",children:e("member.materials.notMemberDesc")}),r.jsx("a",{href:"/#products",children:r.jsx(M,{children:e("member.materials.goShopping")})})]})})}function ufe(){const{t:e}=ct(),{partner:t}=Qt(),{data:n=[],isLoading:a}=Le({queryKey:["partner-ly-ledger",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:o,error:l}=await Y.from("ly_points_ledger").select("*").eq("partner_id",t.id).order("created_at",{ascending:!1}).limit(100);return l?(console.error("Error fetching LY ledger:",l),[]):(o||[]).map(c=>({id:c.id,type:c.type,points:c.points,description:c.description||"",createdAt:c.created_at}))},enabled:!!(t!=null&&t.id)}),s={totalBalance:(t==null?void 0:t.lyBalance)||0,totalEarned:n.filter(o=>o.points>0).reduce((o,l)=>o+l.points,0),totalSpent:Math.abs(n.filter(o=>o.points<0).reduce((o,l)=>o+l.points,0)),fromReferrals:n.filter(o=>{var l;return o.type==="bonus"&&((l=o.description)==null?void 0:l.includes(""))}).reduce((o,l)=>o+l.points,0),fromReplenishment:n.filter(o=>{var l;return o.type==="bonus"&&((l=o.description)==null?void 0:l.includes(""))}).reduce((o,l)=>o+l.points,0)},i=o=>o?new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-";return a?r.jsx(hs,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(hs,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-ly-points-title",children:e("member.lyPoints.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.lyPoints.subtitle")})]}),r.jsx(V,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:r.jsx(J,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 sm:gap-6",children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-secondary/20 flex items-center justify-center shrink-0",children:r.jsx(Lt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-secondary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("member.lyPoints.currentBalance")}),r.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-primary",children:s.totalBalance.toLocaleString()})]})]}),r.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"flex-1 md:flex-none","data-testid":"button-redeem",children:[r.jsx(Hn,{className:"w-4 h-4 mr-1.5"}),e("member.lyPoints.redeemGift")]}),r.jsxs(M,{size:"sm",className:"flex-1 md:flex-none","data-testid":"button-use-points",children:[r.jsx(Rn,{className:"w-4 h-4 mr-1.5"}),e("member.lyPoints.usePoints")]})]})]})})}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1 sm:mb-2",children:[r.jsx(Mn,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-500 shrink-0"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground leading-tight truncate",children:e("member.lyPoints.totalEarned")})]}),r.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:["+",s.totalEarned.toLocaleString()]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1 sm:mb-2",children:[r.jsx(Ca,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-orange-500 shrink-0"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground leading-tight truncate",children:e("member.lyPoints.totalSpent")})]}),r.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-orange-500",children:["-",s.totalSpent.toLocaleString()]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1 sm:mb-2",children:[r.jsx(Mt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-primary shrink-0"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground leading-tight truncate",children:e("member.lyPoints.fromReferrals")})]}),r.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-primary",children:["+",s.fromReferrals.toLocaleString()]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1 sm:mb-2",children:[r.jsx(Rn,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-secondary shrink-0"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground leading-tight truncate",children:e("member.lyPoints.fromReplenishment")})]}),r.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-secondary",children:["+",s.fromReplenishment.toLocaleString()]})]})})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(sF,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary shrink-0"}),e("member.lyPoints.history")]}),r.jsx(hn,{className:"text-xs sm:text-sm",children:e("member.lyPoints.historyDesc")})]}),r.jsxs("div",{className:"flex gap-1.5 sm:gap-2 shrink-0",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"h-8 px-2 sm:px-3","data-testid":"button-filter-ledger",children:[r.jsx(O_,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),r.jsx("span",{className:"hidden sm:inline ml-1",children:e("member.lyPoints.filter")})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"h-8 px-2 sm:px-3","data-testid":"button-export-ledger",children:[r.jsx(Vi,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),r.jsx("span",{className:"hidden sm:inline ml-1",children:e("member.lyPoints.export")})]})]})]})}),r.jsx(J,{children:r.jsxs(Pn,{defaultValue:"all",children:[r.jsxs(yn,{className:"mb-4",children:[r.jsx(ke,{value:"all","data-testid":"tab-all-ledger",children:e("member.lyPoints.tabs.all")}),r.jsx(ke,{value:"earn","data-testid":"tab-earn",children:e("member.lyPoints.tabs.earn")}),r.jsx(ke,{value:"spend","data-testid":"tab-spend",children:e("member.lyPoints.tabs.spend")})]}),r.jsxs(Nt,{value:"all",className:"space-y-0",children:[r.jsx("div",{className:"divide-y",children:n.map(o=>r.jsxs("div",{className:"flex items-center justify-between py-3 sm:py-4 gap-3","data-testid":`ledger-item-${o.id}`,children:[r.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-4 min-w-0",children:[r.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center shrink-0 ${o.points>0?"bg-green-500/10":"bg-orange-500/10"}`,children:o.points>0?r.jsx(nr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"}):r.jsx(Ca,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:o.description||o.type}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:i(o.createdAt)})]})]}),r.jsx("div",{className:"text-right shrink-0",children:r.jsxs("p",{className:`font-bold text-sm sm:text-base ${o.points>0?"text-green-500":"text-orange-500"}`,children:[o.points>0?"+":"",o.points.toLocaleString()]})})]},o.id))}),n.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Lt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:e("member.lyPoints.noRecords")})]})]}),r.jsx(Nt,{value:"earn",className:"space-y-0",children:r.jsx("div",{className:"divide-y",children:n.filter(o=>o.points>0).map(o=>r.jsxs("div",{className:"flex items-center justify-between py-3 sm:py-4 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-4 min-w-0",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:r.jsx(nr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:o.description||o.type}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:i(o.createdAt)})]})]}),r.jsx("div",{className:"text-right shrink-0",children:r.jsxs("p",{className:"font-bold text-sm sm:text-base text-green-500",children:["+",o.points.toLocaleString()]})})]},o.id))})}),r.jsx(Nt,{value:"spend",className:"space-y-0",children:r.jsx("div",{className:"divide-y",children:n.filter(o=>o.points<0).map(o=>r.jsxs("div",{className:"flex items-center justify-between py-3 sm:py-4 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-4 min-w-0",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-orange-500/10 flex items-center justify-center shrink-0",children:r.jsx(Ca,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:o.description||o.type}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:i(o.createdAt)})]})]}),r.jsx("div",{className:"text-right shrink-0",children:r.jsx("p",{className:"font-bold text-sm sm:text-base text-orange-500",children:o.points.toLocaleString()})})]},o.id))})})]})})]}),r.jsx(V,{className:"bg-muted/30",children:r.jsxs(J,{className:"p-4 sm:p-6",children:[r.jsx("h3",{className:"font-bold text-sm sm:text-base mb-3 sm:mb-4",children:e("member.lyPoints.rulesTitle")}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx(te,{variant:"outline",className:"text-xs",children:e("member.lyPoints.earnBadge")}),e("member.lyPoints.ruleEarn1")]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx(te,{variant:"outline",className:"text-xs",children:e("member.lyPoints.earnBadge")}),e("member.lyPoints.ruleEarn2")]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx(te,{variant:"outline",className:"text-xs",children:e("member.lyPoints.earnBadge")}),e("member.lyPoints.ruleEarn3")]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx(te,{variant:"outline",className:"text-xs",children:e("member.lyPoints.useBadge")}),e("member.lyPoints.ruleUse1")]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx(te,{variant:"outline",className:"text-xs",children:e("member.lyPoints.useBadge")}),e("member.lyPoints.ruleUse2")]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx(te,{variant:"outline",className:"text-xs",children:e("member.lyPoints.noteBadge")}),e("member.lyPoints.ruleNote")]})]})]})]})})]})})}const tM={completed:{icon:De,color:"text-green-500"},pending:{icon:Tt,color:"text-orange-500"},failed:{icon:Bs,color:"text-red-500"}};function mfe(){const{t:e}=ct(),{partner:t}=Qt(),{toast:n}=Wt(),[a,s]=j.useState(""),[i,o]=j.useState(!1),{data:l=[],isLoading:c}=Le({queryKey:["partner-wallet-transactions",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:g,error:p}=await Y.from("cash_wallet_ledger").select("*").eq("partner_id",t.id).order("created_at",{ascending:!1}).limit(50);return p?(console.error("Error fetching transactions:",p),[]):(g||[]).map(x=>({id:x.id,type:x.type,amount:x.amount,description:x.description||"",status:x.status,createdAt:x.created_at}))},enabled:!!(t!=null&&t.id)}),{data:d=[]}=Le({queryKey:["partner-pending-withdrawals",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:g}=await Y.from("withdrawal_requests").select("*").eq("partner_id",t.id).eq("status","pending");return g||[]},enabled:!!(t!=null&&t.id)}),u=Ie({mutationFn:async g=>{if(!(t!=null&&t.id))throw new Error("Not authenticated");const{error:p}=await Y.from("withdrawal_requests").insert({partner_id:t.id,amount:g*100,status:"pending"});if(p)throw p},onSuccess:()=>{zs.invalidateQueries({queryKey:["partner-pending-withdrawals"]}),n({title:e("member.wallet.withdrawSuccess"),description:e("member.wallet.withdrawSuccessDesc")}),o(!1),s("")},onError:g=>{n({title:e("member.wallet.withdrawFailed"),description:g.message,variant:"destructive"})}}),m={availableBalance:((t==null?void 0:t.cashWalletBalance)||0)/100,pendingWithdraw:d.reduce((g,p)=>g+p.amount,0)/100,totalIncome:l.filter(g=>g.amount>0).reduce((g,p)=>g+p.amount,0)/100,totalWithdrawn:Math.abs(l.filter(g=>g.type==="withdraw").reduce((g,p)=>g+p.amount,0))/100,thisMonthIncome:l.filter(g=>{var p;return g.amount>0&&((p=g.createdAt)==null?void 0:p.startsWith(new Date().toISOString().slice(0,7)))}).reduce((g,p)=>g+p.amount,0)/100},h=g=>g?new Date(g).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",f=()=>{const g=parseFloat(a);if(isNaN(g)||g<50){n({title:e("member.wallet.invalidAmount"),description:e("member.wallet.minAmountMsg"),variant:"destructive"});return}if(g>m.availableBalance){n({title:e("member.wallet.insufficientBalance"),description:e("member.wallet.exceedsBalanceMsg"),variant:"destructive"});return}u.mutate(g)};return c?r.jsx(hs,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(hs,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-wallet-title",children:e("member.wallet.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.wallet.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx(V,{className:"lg:col-span-2 bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e("member.wallet.availableBalance")}),r.jsxs("h2",{className:"text-4xl font-bold text-primary",children:["RM ",m.availableBalance.toFixed(2)]}),m.pendingWithdraw>0&&r.jsxs("p",{className:"text-sm text-orange-500 mt-2 flex items-center gap-1",children:[r.jsx(Tt,{className:"w-4 h-4"}),"RM ",m.pendingWithdraw.toFixed(2)," ",e("member.wallet.pendingWithdraw")]})]}),r.jsxs(lt,{open:i,onOpenChange:o,children:[r.jsx(fC,{asChild:!0,children:r.jsxs(M,{size:"lg","data-testid":"button-withdraw",children:[r.jsx(ms,{className:"w-4 h-4 mr-2"}),e("member.wallet.applyWithdraw")]})}),r.jsxs(st,{children:[r.jsxs(it,{children:[r.jsx(ot,{children:e("member.wallet.withdrawTitle")}),r.jsx(Kt,{children:e("member.wallet.withdrawDesc")})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{children:e("member.wallet.withdrawAmount")}),r.jsx(se,{type:"number",placeholder:e("member.wallet.withdrawPlaceholder"),value:a,onChange:g=>s(g.target.value),"data-testid":"input-withdraw-amount"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("member.wallet.availableBalanceLabel"),": RM ",m.availableBalance.toFixed(2)]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{children:e("member.wallet.selectBank")}),r.jsxs("div",{className:"p-3 bg-muted rounded-lg flex items-center gap-3",children:[r.jsx(as,{className:"w-5 h-5 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e("member.wallet.bindBankFirst")}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.wallet.contactToAdd")})]})]})]}),r.jsxs("div",{className:"p-3 bg-orange-500/10 rounded-lg flex items-start gap-2",children:[r.jsx(Wu,{className:"w-4 h-4 text-orange-500 mt-0.5"}),r.jsx("p",{className:"text-sm text-orange-500",children:e("member.wallet.minWithdrawNote")})]})]}),r.jsxs(kt,{children:[r.jsx(M,{variant:"outline",onClick:()=>o(!1),children:e("member.wallet.cancel")}),r.jsxs(M,{onClick:f,disabled:u.isPending,"data-testid":"button-confirm-withdraw",children:[u.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("member.wallet.confirmWithdraw")]})]})]})]})]})})}),r.jsx(V,{children:r.jsxs(J,{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:e("member.wallet.thisMonthIncome")}),r.jsx(Mn,{className:"w-4 h-4 text-green-500"})]}),r.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["+RM ",m.thisMonthIncome.toFixed(2)]}),r.jsx(Qr,{}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.wallet.totalIncome")}),r.jsxs("p",{className:"font-bold",children:["RM ",m.totalIncome.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.wallet.totalWithdrawn")}),r.jsxs("p",{className:"font-bold",children:["RM ",m.totalWithdrawn.toFixed(2)]})]})]})]})})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(sF,{className:"w-5 h-5 text-primary"}),e("member.wallet.transactions")]}),r.jsx(hn,{children:e("member.wallet.transactionsDesc")})]}),r.jsxs(M,{variant:"outline",size:"sm","data-testid":"button-export-transactions",children:[r.jsx(Vi,{className:"w-4 h-4 mr-1"}),e("member.wallet.exportRecords")]})]})}),r.jsxs(J,{children:[r.jsx("div",{className:"divide-y",children:l.map(g=>{const p=tM[g.status]||tM.completed,x=p.icon,y=g.amount>0;return r.jsxs("div",{className:"flex items-center justify-between py-4","data-testid":`transaction-${g.id}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${y?"bg-green-500/10":"bg-blue-500/10"}`,children:y?r.jsx(nr,{className:"w-5 h-5 text-green-500"}):r.jsx(Ca,{className:"w-5 h-5 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:g.description||g.type}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:h(g.createdAt)}),r.jsxs(te,{variant:"outline",className:`text-xs ${p.color}`,children:[r.jsx(x,{className:"w-3 h-3 mr-1"}),e(`member.wallet.status.${g.status}`)]})]})]})]}),r.jsxs("p",{className:`font-bold ${y?"text-green-500":"text-foreground"}`,children:[y?"+":"","RM ",Math.abs(g.amount/100).toFixed(2)]})]},g.id)})}),l.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(ms,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:e("member.wallet.noTransactions")})]})]})]}),r.jsxs(V,{children:[r.jsxs(Te,{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Lr,{className:"w-5 h-5 text-primary"}),e("member.wallet.bankAccount")]}),r.jsx(hn,{children:e("member.wallet.bankAccountDesc")})]}),r.jsxs(J,{children:[r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(as,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:e("member.wallet.noBankAccount")}),r.jsx("p",{className:"text-sm",children:e("member.wallet.contactForBank")})]}),r.jsx(M,{variant:"outline",className:"w-full mt-4","data-testid":"button-add-bank",children:e("member.wallet.addBankAccount")})]})]})]})})}function hfe(){const{t:e}=ct(),{partner:t}=Qt(),{data:n=[],isLoading:a}=Le({queryKey:["bonus-pool-cycles"],queryFn:async()=>{const{data:h,error:f}=await Y.from("bonus_pool_cycles").select("*").order("cycle_number",{ascending:!1}).limit(10);return f?(console.error("Error fetching cycles:",f),[]):(h||[]).map(g=>({id:g.id,cycleNumber:g.cycle_number,status:g.status,startDate:g.start_date,endDate:g.end_date,poolAmount:g.pool_amount||0,totalTokens:g.total_tokens||0}))}}),{data:s=[],isLoading:i}=Le({queryKey:["partner-rwa-history",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:h,error:f}=await Y.from("rwa_token_ledger").select("*").eq("partner_id",t.id).order("created_at",{ascending:!1}).limit(20);return f?(console.error("Error fetching token history:",f),[]):(h||[]).map(g=>({id:g.id,tokens:g.tokens,source:g.source,createdAt:g.created_at}))},enabled:!!(t!=null&&t.id)}),o=n.find(h=>h.status==="active"),l={totalTokens:(t==null?void 0:t.rwaTokens)||0,totalDividends:0,currentCycleEstimate:0,avgDividendPerToken:0};o&&o.totalTokens>0&&l.totalTokens>0&&(l.currentCycleEstimate=o.poolAmount/o.totalTokens*l.totalTokens/100,l.avgDividendPerToken=o.poolAmount/o.totalTokens/100);const c=h=>{if(h.status!=="active")return 100;const f=new Date(h.startDate).getTime(),g=new Date(h.endDate).getTime(),p=Date.now();return Math.min(100,Math.max(0,(p-f)/(g-f)*100))},d=h=>h?h.split("T")[0]:"-",u=h=>({package:e("member.rwa.sourcePackage"),network_order:e("member.rwa.sourceNetworkOrder"),milestone:e("member.rwa.sourceMilestone"),referral:e("member.rwa.sourceReferral")})[h]||h;return a||i?r.jsx(hs,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(hs,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-rwa-title",children:e("member.rwa.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.rwa.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx(V,{className:"lg:col-span-2 bg-gradient-to-r from-secondary/10 to-primary/10 border-secondary/20",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary/20 flex items-center justify-center",children:r.jsx(pl,{className:"w-6 h-6 text-secondary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.rwa.myTokens")}),r.jsxs("h2",{className:"text-3xl font-bold text-primary",children:[l.totalTokens," ",r.jsx("span",{className:"text-lg font-normal",children:e("member.rwa.tokenUnit")})]})]})]}),r.jsx(te,{className:"bg-secondary/20 text-secondary",children:e("member.rwa.activeHolding")})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-background/50 rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold text-secondary",children:["RM ",l.totalDividends.toFixed(0)]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.rwa.totalDividends")})]}),r.jsxs("div",{className:"text-center p-3 bg-background/50 rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold text-primary",children:["RM ",l.currentCycleEstimate.toFixed(0)]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.rwa.currentEstimate")})]}),r.jsxs("div",{className:"text-center p-3 bg-background/50 rounded-lg",children:[r.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["RM ",l.avgDividendPerToken.toFixed(2)]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.rwa.avgPerToken")})]})]})]})}),r.jsxs(V,{children:[r.jsx(Te,{className:"pb-3",children:r.jsxs(Oe,{className:"text-lg flex items-center gap-2",children:[r.jsx(Tt,{className:"w-4 h-4 text-primary"}),e("member.rwa.currentCycle")]})}),r.jsx(J,{children:o?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(te,{children:e("member.rwa.cycle").replace("{n}",String(o.cycleNumber))}),r.jsx(te,{variant:"outline",className:"text-green-500 border-green-500",children:e("member.rwa.active")})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-muted-foreground",children:e("member.rwa.cycleProgress")}),r.jsxs("span",{className:"font-medium",children:[Math.round(c(o)),"%"]})]}),r.jsx(Qm,{value:c(o),className:"h-2"})]}),r.jsx(Qr,{}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:e("member.rwa.startDate")}),r.jsx("p",{className:"font-medium",children:d(o.startDate)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:e("member.rwa.endDate")}),r.jsx("p",{className:"font-medium",children:d(o.endDate)})]})]}),r.jsxs("div",{className:"p-3 bg-secondary/10 rounded-lg text-center",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:e("member.rwa.currentPool")}),r.jsxs("p",{className:"text-xl font-bold text-secondary",children:["RM ",(o.poolAmount/100).toLocaleString()]})]})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Tt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:e("member.rwa.noCycle")})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(V,{children:[r.jsxs(Te,{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"w-5 h-5 text-primary"}),e("member.rwa.cycleHistory")]}),r.jsx(hn,{children:e("member.rwa.cycleHistoryDesc")})]}),r.jsx(J,{children:r.jsx("div",{className:"space-y-4",children:n.length>0?n.map(h=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors","data-testid":`cycle-${h.cycleNumber}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${h.status==="active"?"bg-green-500/10":"bg-muted"}`,children:h.status==="active"?r.jsx(Tt,{className:"w-5 h-5 text-green-500"}):r.jsx(De,{className:"w-5 h-5 text-muted-foreground"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-medium",children:e("member.rwa.cycle").replace("{n}",String(h.cycleNumber))}),h.status==="active"&&r.jsx(te,{className:"bg-green-500/10 text-green-500 text-xs",children:e("member.rwa.active")})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[d(h.startDate)," ~ ",d(h.endDate)]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-secondary",children:["RM ",(h.poolAmount/100).toFixed(2)]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.totalTokens||0," ",e("member.rwa.tokensParticipated")]})]})]},h.id)):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(ur,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:e("member.rwa.noCycles")})]})})})]}),r.jsxs(V,{children:[r.jsxs(Te,{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Gy,{className:"w-5 h-5 text-secondary"}),e("member.rwa.tokenHistory")]}),r.jsx(hn,{children:e("member.rwa.tokenHistoryDesc")})]}),r.jsx(J,{children:r.jsx("div",{className:"space-y-3",children:s.length>0?s.map(h=>r.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-0","data-testid":`token-history-${h.id}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary/10 flex items-center justify-center",children:r.jsx(pl,{className:"w-4 h-4 text-secondary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:u(h.source)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:d(h.createdAt)})]})]}),r.jsxs(te,{className:"bg-secondary/20 text-secondary",children:["+",h.tokens," ",e("member.rwa.tokenUnit")]})]},h.id)):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Gy,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:e("member.rwa.noTokens")})]})})})]})]}),r.jsx(V,{className:"bg-muted/30",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:r.jsx(dg,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold mb-2",children:e("member.rwa.howItWorks")}),r.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[r.jsx("p",{children:e("member.rwa.rule1")}),r.jsx("p",{children:e("member.rwa.rule2")}),r.jsx("p",{children:e("member.rwa.rule3")}),r.jsx("p",{children:e("member.rwa.rule4")})]})]})]})})})]})})}const Ax={cashback:{icon:Xr,color:"text-green-500",bgColor:"bg-green-500/10"},pool_reward:{icon:pl,color:"text-secondary",bgColor:"bg-secondary/10"},referral:{icon:Mt,color:"text-blue-500",bgColor:"bg-blue-500/10"},income:{icon:Mn,color:"text-green-500",bgColor:"bg-green-500/10"}};function ffe(){const{t:e}=ct(),{partner:t}=Qt(),n={cashback:e("member.earnings.cashback"),pool_reward:e("member.earnings.rwaDividend"),referral:e("member.earnings.referralReward"),income:e("member.earnings.income")},{data:a=[],isLoading:s}=Le({queryKey:["partner-earnings",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:m,error:h}=await Y.from("cash_wallet_ledger").select("*").eq("partner_id",t.id).gt("amount",0).order("created_at",{ascending:!1}).limit(100);return h?(console.error("Error fetching earnings:",h),[]):(m||[]).map(f=>({id:f.id,type:f.type,amount:f.amount,description:f.description||"",source:f.reference_type||f.type,createdAt:f.created_at}))},enabled:!!(t!=null&&t.id)}),i=new Date().toISOString().slice(0,7),o=new Date;o.setMonth(o.getMonth()-1);const l=o.toISOString().slice(0,7),c={totalEarnings:a.reduce((m,h)=>m+h.amount,0)/100,thisMonthEarnings:a.filter(m=>{var h;return(h=m.createdAt)==null?void 0:h.startsWith(i)}).reduce((m,h)=>m+h.amount,0)/100,lastMonthEarnings:a.filter(m=>{var h;return(h=m.createdAt)==null?void 0:h.startsWith(l)}).reduce((m,h)=>m+h.amount,0)/100,cashbackTotal:a.filter(m=>m.type==="cashback").reduce((m,h)=>m+h.amount,0)/100,rwaTotal:a.filter(m=>m.type==="pool_reward").reduce((m,h)=>m+h.amount,0)/100,referralTotal:a.filter(m=>m.type==="referral").reduce((m,h)=>m+h.amount,0)/100},d=c.lastMonthEarnings>0?((c.thisMonthEarnings-c.lastMonthEarnings)/c.lastMonthEarnings*100).toFixed(1):"0",u=m=>m?new Date(m).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-";return s?r.jsx(hs,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(hs,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-earnings-title",children:e("member.earnings.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("member.earnings.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[r.jsx(V,{className:"lg:col-span-2 bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e("member.earnings.totalEarnings")}),r.jsxs("h2",{className:"text-4xl font-bold text-primary",children:["RM ",c.totalEarnings.toFixed(2)]}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsxs(te,{className:"bg-green-500/20 text-green-500",children:[r.jsx(nr,{className:"w-3 h-3 mr-1"}),"+",d,"%"]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:e("member.earnings.vsLastMonth")})]})]}),r.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary/20 flex items-center justify-center",children:r.jsx(Mn,{className:"w-8 h-8 text-secondary"})})]})})}),r.jsx(V,{children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx(ur,{className:"w-5 h-5 text-muted-foreground"}),r.jsx(te,{variant:"outline",children:e("member.earnings.thisMonth")})]}),r.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["RM ",c.thisMonthEarnings.toFixed(2)]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e("member.earnings.thisMonthEarnings")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx(ur,{className:"w-5 h-5 text-muted-foreground"}),r.jsx(te,{variant:"outline",children:e("member.earnings.lastMonth")})]}),r.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["RM ",c.lastMonthEarnings.toFixed(2)]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e("member.earnings.lastMonthEarnings")})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(V,{children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center",children:r.jsx(Xr,{className:"w-5 h-5 text-green-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.earnings.cashback")}),r.jsxs("p",{className:"text-xl font-bold",children:["RM ",c.cashbackTotal.toFixed(2)]})]}),c.totalEarnings>0&&r.jsxs(te,{className:"bg-green-500/10 text-green-500",children:[(c.cashbackTotal/c.totalEarnings*100).toFixed(0),"%"]})]})})}),r.jsx(V,{children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center",children:r.jsx(pl,{className:"w-5 h-5 text-secondary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.earnings.rwaDividend")}),r.jsxs("p",{className:"text-xl font-bold",children:["RM ",c.rwaTotal.toFixed(2)]})]}),c.totalEarnings>0&&r.jsxs(te,{className:"bg-secondary/10 text-secondary",children:[(c.rwaTotal/c.totalEarnings*100).toFixed(0),"%"]})]})})}),r.jsx(V,{children:r.jsx(J,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center",children:r.jsx(Mt,{className:"w-5 h-5 text-blue-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.earnings.referralReward")}),r.jsxs("p",{className:"text-xl font-bold",children:["RM ",c.referralTotal.toFixed(2)]})]}),c.totalEarnings>0&&r.jsxs(te,{className:"bg-blue-500/10 text-blue-500",children:[(c.referralTotal/c.totalEarnings*100).toFixed(0),"%"]})]})})})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(t0,{className:"w-5 h-5 text-primary"}),e("member.earnings.history")]}),r.jsx(hn,{children:e("member.earnings.historyDesc")})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(M,{variant:"outline",size:"sm","data-testid":"button-filter-earnings",children:[r.jsx(O_,{className:"w-4 h-4 mr-1"}),e("member.earnings.filter")]}),r.jsxs(M,{variant:"outline",size:"sm","data-testid":"button-export-earnings",children:[r.jsx(Vi,{className:"w-4 h-4 mr-1"}),e("member.earnings.export")]})]})]})}),r.jsx(J,{children:r.jsxs(Pn,{defaultValue:"all",children:[r.jsxs(yn,{className:"mb-4",children:[r.jsx(ke,{value:"all","data-testid":"tab-all-earnings",children:e("member.earnings.tabs.all")}),r.jsx(ke,{value:"cashback","data-testid":"tab-cashback",children:e("member.earnings.cashback")}),r.jsx(ke,{value:"pool_reward","data-testid":"tab-rwa-earnings",children:e("member.earnings.rwaDividend")}),r.jsx(ke,{value:"referral","data-testid":"tab-referral",children:e("member.earnings.referralReward")})]}),r.jsxs(Nt,{value:"all",className:"space-y-0",children:[r.jsx("div",{className:"divide-y",children:a.map(m=>{const h=Ax[m.type]||Ax.income,f=h.icon;return r.jsxs("div",{className:"flex items-center justify-between py-4","data-testid":`earning-${m.id}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${h.bgColor}`,children:r.jsx(f,{className:`w-5 h-5 ${h.color}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:m.description||n[m.type]||m.type}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:u(m.createdAt)}),r.jsx(te,{variant:"outline",className:"text-xs",children:m.source})]})]})]}),r.jsxs("p",{className:`font-bold ${h.color}`,children:["+RM ",(m.amount/100).toFixed(2)]})]},m.id)})}),a.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Mn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:e("member.earnings.noRecords")})]})]}),["cashback","pool_reward","referral"].map(m=>r.jsxs(Nt,{value:m,className:"space-y-0",children:[r.jsx("div",{className:"divide-y",children:a.filter(h=>h.type===m).map(h=>{const f=Ax[h.type]||Ax.income,g=f.icon;return r.jsxs("div",{className:"flex items-center justify-between py-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${f.bgColor}`,children:r.jsx(g,{className:`w-5 h-5 ${f.color}`})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:h.description||n[h.type]||h.type}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:u(h.createdAt)}),r.jsx(te,{variant:"outline",className:"text-xs",children:h.source})]})]})]}),r.jsxs("p",{className:`font-bold ${f.color}`,children:["+RM ",(h.amount/100).toFixed(2)]})]},h.id)})}),a.filter(h=>h.type===m).length===0&&r.jsx("div",{className:"text-center py-12 text-muted-foreground",children:r.jsx("p",{children:e("member.earnings.noRecordsForType")})})]},m))]})})]})]})})}const pfe=e=>[{path:"/admin",label:e("admin.menu.dashboard"),icon:iF},{path:"/admin/partners",label:e("admin.menu.partners"),icon:Mt},{path:"/admin/orders",label:e("admin.menu.orders"),icon:Wc},{path:"/admin/products",label:e("admin.menu.products"),icon:Yt},{path:"/admin/bundles",label:e("admin.menu.bundles"),icon:Hn},{path:"/admin/members",label:e("admin.menu.members"),icon:Mt},{path:"/admin/bonus-pool",label:e("admin.menu.bonusPool"),icon:nk},{path:"/admin/withdrawals",label:e("admin.menu.withdrawals"),icon:ms},{path:"/admin/site-settings",label:e("admin.menu.siteSettings"),icon:to},{path:"/admin/system-health",label:e("admin.menu.systemHealth"),icon:eF}],gfe=e=>[{path:"/admin/inventory",label:e("admin.menu.inventory"),icon:X1},{path:"/admin/production",label:e("admin.menu.production"),icon:ly},{path:"/admin/purchase",label:e("admin.menu.purchase"),icon:Qo},{path:"/admin/logistics",label:e("admin.menu.logistics"),icon:Wf},{path:"/admin/bills",label:e("admin.menu.bills"),icon:qi},{path:"/admin/finance",label:e("admin.menu.finance"),icon:Xr}],xfe=e=>[{path:"/admin/marketing/meta-ads",label:e("admin.menu.metaAds"),icon:Oo},{path:"/admin/marketing/xiaohongshu",label:e("admin.menu.xiaohongshu"),icon:nF},{path:"/admin/marketing/media-plan",label:e("admin.menu.mediaPlan"),icon:ur},{path:"/admin/marketing/ad-placement",label:e("admin.menu.adPlacement"),icon:Pa},{path:"/admin/marketing/reports",label:e("admin.menu.performanceReports"),icon:Jo}],yfe=e=>[{path:"/admin/whatsapp/config",label:e("admin.menu.whatsappConfig"),icon:Io},{path:"/admin/whatsapp/orders",label:e("admin.menu.whatsappOrders"),icon:Rn},{path:"/admin/whatsapp/members",label:e("admin.menu.whatsappMembers"),icon:la},{path:"/admin/whatsapp/ai-service",label:e("admin.menu.aiCustomerService"),icon:cf}];function ut({children:e}){var v,b,N,w;const[t,n]=za(),[a,s]=j.useState(!1),{t:i}=ct(),{user:o,loading:l,signOut:c}=Qt(),d=j.useMemo(()=>pfe(i),[i]),u=j.useMemo(()=>gfe(i),[i]),m=j.useMemo(()=>xfe(i),[i]),h=j.useMemo(()=>yfe(i),[i]),f=j.useMemo(()=>[...d,...u,...m,...h],[d,u,m,h]),g=k=>t===k,p=f.find(k=>g(k.path)),x=async()=>{try{await c()}catch(k){console.error("Logout error:",k)}window.location.href="/"};if(l)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})});if(!o)return r.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:r.jsxs(V,{className:"p-8 max-w-md text-center",children:[r.jsx(oa,{className:"w-12 h-12 mx-auto text-primary mb-4"}),r.jsx("h1",{className:"text-2xl font-bold mb-4",children:i("admin.pleaseLogin")}),r.jsx("p",{className:"text-muted-foreground mb-6",children:i("admin.adminRequired")}),r.jsx(M,{onClick:()=>window.location.href="/auth/login","data-testid":"button-login",children:i("admin.login")})]})});const y=()=>{var k;return r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary flex items-center justify-center",children:r.jsx(oa,{className:"w-6 h-6 text-primary-foreground"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:((k=o==null?void 0:o.user_metadata)==null?void 0:k.first_name)||i("admin.adminRole")}),r.jsxs(te,{className:"bg-primary text-primary-foreground gap-1 text-xs",children:[r.jsx(oa,{className:"w-3 h-3"}),i("admin.adminRole")]})]})]})}),r.jsxs("nav",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:i("admin.adminPanel")}),r.jsx("div",{className:"space-y-1",children:d.map(P=>{const _=P.icon,T=g(P.path);return r.jsxs(M,{variant:T?"secondary":"ghost",className:`w-full justify-start gap-3 ${T?"bg-primary/20 text-primary font-medium":""}`,onClick:()=>{n(P.path),s(!1)},"data-testid":`nav-${P.path.split("/").pop()}`,children:[r.jsx(_,{className:"w-4 h-4"}),P.label,T&&r.jsx(rr,{className:"w-4 h-4 ml-auto"})]},P.path)})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:i("admin.erpSystem")}),r.jsx("div",{className:"space-y-1",children:u.map(P=>{const _=P.icon,T=g(P.path);return r.jsxs(M,{variant:T?"secondary":"ghost",className:`w-full justify-start gap-3 ${T?"bg-primary/20 text-primary font-medium":""}`,onClick:()=>{n(P.path),s(!1)},"data-testid":`nav-${P.path.split("/").pop()}`,children:[r.jsx(_,{className:"w-4 h-4"}),P.label,T&&r.jsx(rr,{className:"w-4 h-4 ml-auto"})]},P.path)})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:i("admin.marketingSystem")}),r.jsx("div",{className:"space-y-1",children:m.map(P=>{const _=P.icon,T=g(P.path);return r.jsxs(M,{variant:T?"secondary":"ghost",className:`w-full justify-start gap-3 ${T?"bg-primary/20 text-primary font-medium":""}`,onClick:()=>{n(P.path),s(!1)},"data-testid":`nav-${P.path.split("/").pop()}`,children:[r.jsx(_,{className:"w-4 h-4"}),P.label,T&&r.jsx(rr,{className:"w-4 h-4 ml-auto"})]},P.path)})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:i("admin.whatsappBusiness")}),r.jsx("div",{className:"space-y-1",children:h.map(P=>{const _=P.icon,T=g(P.path);return r.jsxs(M,{variant:T?"secondary":"ghost",className:`w-full justify-start gap-3 ${T?"bg-primary/20 text-primary font-medium":""}`,onClick:()=>{n(P.path),s(!1)},"data-testid":`nav-${P.path.split("/").pop()}`,children:[r.jsx(_,{className:"w-4 h-4"}),P.label,T&&r.jsx(rr,{className:"w-4 h-4 ml-auto"})]},P.path)})})]})]}),r.jsxs("div",{className:"p-4 border-t space-y-2",children:[r.jsx("div",{className:"mb-3",children:r.jsx(Nl,{testId:"button-language-switcher-sidebar"})}),r.jsxs(M,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>n("/member"),"data-testid":"button-back-member",children:[r.jsx(Ra,{className:"w-4 h-4"}),i("admin.backToMember")]}),r.jsxs(M,{variant:"ghost",className:"w-full justify-start gap-2",onClick:()=>n("/"),"data-testid":"button-back-home",children:[r.jsx(cg,{className:"w-4 h-4"}),i("admin.backToHome")]})]})]})};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsxs("header",{className:"sticky top-0 z-50 bg-primary text-primary-foreground",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Ll,{open:a,onOpenChange:s,children:[r.jsx(x0,{asChild:!0,children:r.jsx(M,{variant:"ghost",size:"icon",className:"lg:hidden text-primary-foreground","data-testid":"button-mobile-menu",children:r.jsx(s0,{className:"w-6 h-6"})})}),r.jsx(mo,{side:"left",className:"w-72 p-0",children:r.jsx(y,{})})]}),r.jsx("span",{className:"font-serif text-xl font-bold text-secondary cursor-pointer",onClick:()=>n("/"),"data-testid":"link-logo",children:"LOVE YOUNG"}),r.jsxs("div",{className:"hidden lg:flex items-center gap-2 ml-4",children:[r.jsx(oa,{className:"w-5 h-5 text-secondary"}),r.jsx("span",{className:"text-sm font-medium",children:i("admin.adminPanel")}),p&&r.jsxs(r.Fragment,{children:[r.jsx(rr,{className:"w-4 h-4 text-primary-foreground/60"}),r.jsx("span",{className:"text-sm text-primary-foreground/80",children:p.label})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Nl,{testId:"button-language-switcher-header"}),r.jsxs(M,{variant:"ghost",size:"sm",className:"hidden sm:flex text-primary-foreground gap-2",onClick:()=>n("/member"),"data-testid":"button-header-member",children:[r.jsx(Ra,{className:"w-4 h-4"}),i("admin.memberCenter")]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(kl,{className:"w-8 h-8 border border-secondary/50",children:[r.jsx(Yu,{src:((v=o==null?void 0:o.user_metadata)==null?void 0:v.avatar_url)||void 0}),r.jsx(Pl,{className:"bg-secondary text-secondary-foreground text-sm",children:((N=(b=o==null?void 0:o.user_metadata)==null?void 0:b.first_name)==null?void 0:N.charAt(0))||"A"})]}),r.jsx("span",{className:"hidden md:block text-sm font-medium","data-testid":"text-admin-name",children:((w=o==null?void 0:o.user_metadata)==null?void 0:w.first_name)||i("admin.adminRole")})]}),r.jsx(M,{variant:"ghost",size:"icon",className:"text-primary-foreground hidden lg:flex",onClick:x,"data-testid":"button-logout",children:r.jsx(Kf,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"lg:hidden flex items-center justify-center gap-2 py-2 bg-primary/90 border-t border-primary-foreground/10",children:p&&r.jsxs(r.Fragment,{children:[r.jsx(p.icon,{className:"w-4 h-4 text-secondary"}),r.jsx("span",{className:"text-sm font-medium",children:p.label})]})})]}),r.jsxs("div",{className:"flex",children:[r.jsx("aside",{className:"hidden lg:block w-64 border-r bg-card min-h-[calc(100vh-56px)] sticky top-14",children:r.jsx(y,{})}),r.jsx("main",{className:"flex-1 p-4 lg:p-8",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:e})})]})]})}function vfe(){const{t:e}=ct();return r.jsx(ut,{children:r.jsxs("div",{className:"space-y-6","data-testid":"section-dashboard",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(V,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center",children:r.jsx(Mt,{className:"w-6 h-6 text-emerald-600"})}),r.jsx(Mn,{className:"w-5 h-5 text-green-500"})]}),r.jsx("div",{className:"text-3xl font-bold mb-1",children:"0"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e("admin.activePartners")})]}),r.jsxs(V,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center",children:r.jsx(Wc,{className:"w-6 h-6 text-amber-600"})}),r.jsx(Mn,{className:"w-5 h-5 text-green-500"})]}),r.jsx("div",{className:"text-3xl font-bold mb-1",children:"0"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e("admin.monthlyOrders")})]}),r.jsxs(V,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(Xr,{className:"w-6 h-6 text-blue-600"})}),r.jsx(Mn,{className:"w-5 h-5 text-green-500"})]}),r.jsx("div",{className:"text-3xl font-bold mb-1",children:"RM 0"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e("admin.monthlySales")})]}),r.jsxs(V,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:r.jsx(ms,{className:"w-6 h-6 text-purple-600"})}),r.jsx(Mn,{className:"w-5 h-5 text-green-500"})]}),r.jsx("div",{className:"text-3xl font-bold mb-1",children:"RM 0"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e("admin.currentBonusPool")})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(V,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:e("admin.recentOrders")}),r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("admin.noOrderData")})]}),r.jsxs(V,{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:e("admin.pendingItems")}),r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("admin.noPendingItems")})]})]})]})})}function bfe(){const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState(""),[i,o]=j.useState("all"),[l,c]=j.useState(null),[d,u]=j.useState(!1),{data:m=[]}=Le({queryKey:["partner-referrals",l==null?void 0:l.id],enabled:!!l,queryFn:async()=>{const{data:w,error:k}=await Y.from("partners").select("id, tier, status, members(name)").eq("referrer_id",l.id);return k?(console.error(k),[]):(w||[]).map(P=>{var _;return{id:P.id,member_name:((_=P.members)==null?void 0:_.name)||"Partner",tier:P.tier,status:P.status}})}}),{data:h=[]}=Le({queryKey:["partner-orders",l==null?void 0:l.referral_code],enabled:!!(l!=null&&l.referral_code),queryFn:async()=>{const{data:w,error:k}=await Y.from("orders").select("id, order_number, total_amount, status, created_at").eq("source",l.referral_code).order("created_at",{ascending:!1}).limit(10);return k?(console.error(k),[]):w||[]}}),f=Ie({mutationFn:async({partnerId:w,tier:k})=>{const{error:P}=await Y.from("partners").update({tier:k}).eq("id",w);if(P)throw P},onSuccess:()=>{var w;n.invalidateQueries({queryKey:["admin-partners"]}),t({title:""}),l&&c({...l,tier:((w=f.variables)==null?void 0:w.tier)||l.tier})},onError:w=>{t({title:"",description:w.message,variant:"destructive"})}}),g=Ie({mutationFn:async({partnerId:w,status:k})=>{const{error:P}=await Y.from("partners").update({status:k}).eq("id",w);if(P)throw P},onSuccess:()=>{if(n.invalidateQueries({queryKey:["admin-partners"]}),t({title:""}),l){const w=l.status==="active"?"suspended":"active";c({...l,status:w})}},onError:w=>{t({title:"",description:w.message,variant:"destructive"})}}),p=w=>{c(w),u(!0)},{data:x=[],isLoading:y}=Le({queryKey:["admin-partners"],queryFn:async()=>{const{data:w,error:k}=await Y.from("partners").select(`
          *,
          members (
            name,
            email,
            phone
          )
        `).order("created_at",{ascending:!1});return k?(console.error("Error fetching partners:",k),[]):(w||[]).map(P=>{var _,T,I;return{id:P.id,referral_code:P.referral_code,tier:P.tier,status:P.status,ly_balance:P.ly_balance||0,rwa_tokens:P.rwa_tokens||0,cash_wallet_balance:P.cash_wallet_balance||0,total_sales:P.total_sales||0,total_commission:P.total_commission||0,created_at:P.created_at,member_name:(_=P.members)==null?void 0:_.name,member_email:(T=P.members)==null?void 0:T.email,member_phone:(I=P.members)==null?void 0:I.phone}})}}),v=Ie({mutationFn:async w=>{const{error:k}=await Y.from("partners").update({status:"active"}).eq("id",w);if(k)throw k},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-partners"]}),t({title:e("admin.partnersPage.activateSuccess"),description:e("admin.partnersPage.activateSuccessDesc")})},onError:w=>{t({title:e("admin.partnersPage.activateFailed"),description:w.message,variant:"destructive"})}}),b=x.filter(w=>{const k=a===""||w.id.toLowerCase().includes(a.toLowerCase())||w.referral_code&&w.referral_code.toLowerCase().includes(a.toLowerCase())||w.member_name&&w.member_name.toLowerCase().includes(a.toLowerCase())||w.member_email&&w.member_email.toLowerCase().includes(a.toLowerCase()),P=i==="all"||w.status===i;return k&&P}),N={total:x.length,active:x.filter(w=>w.status==="active").length,pending:x.filter(w=>w.status==="pending").length};return r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-partners-title",children:e("admin.partnersPage.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.partnersPage.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Mt,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:N.total}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.partnersPage.totalPartners")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center",children:r.jsx(De,{className:"w-6 h-6 text-green-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-green-500",children:N.active}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.partnersPage.activated")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-500/10 flex items-center justify-center",children:r.jsx(Tt,{className:"w-6 h-6 text-yellow-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:N.pending}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.partnersPage.pendingReview")})]})]})})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(la,{className:"w-5 h-5 text-primary"}),e("admin.partnersPage.partnerList")]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.partnersPage.searchPlaceholder"),className:"pl-9",value:a,onChange:w=>s(w.target.value),"data-testid":"input-search"})]})]})}),r.jsx(J,{children:r.jsxs(Pn,{value:i,onValueChange:o,children:[r.jsxs(yn,{className:"grid w-full grid-cols-3",children:[r.jsxs(ke,{value:"all","data-testid":"tab-all",children:[e("admin.partnersPage.tabAll")," (",N.total,")"]}),r.jsxs(ke,{value:"pending","data-testid":"tab-pending",children:[e("admin.partnersPage.tabPending")," (",N.pending,")"]}),r.jsxs(ke,{value:"active","data-testid":"tab-active",children:[e("admin.partnersPage.tabActive")," (",N.active,")"]})]}),r.jsx(Nt,{value:i,className:"mt-4",children:y?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):b.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Mt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.partnersPage.noPartners")})]}):r.jsx("div",{className:"space-y-3",children:b.map(w=>r.jsx("div",{className:"p-3 md:p-4 border rounded-lg","data-testid":`partner-${w.id}`,children:r.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex-shrink-0 flex items-center justify-center",children:r.jsx(Mt,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 md:gap-2",children:[r.jsx("span",{className:"font-medium",children:w.member_name||"Partner"}),r.jsx("span",{className:"font-mono text-xs sm:text-sm text-muted-foreground",children:w.referral_code}),r.jsx(te,{variant:w.status==="active"?"default":"outline",children:w.status==="active"?e("admin.partnersPage.activated"):e("admin.partnersPage.pendingReview")})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-0.5 text-xs sm:text-sm text-muted-foreground mt-1",children:[r.jsxs("span",{children:["LY: ",w.ly_balance]}),r.jsxs("span",{children:["RWA: ",w.rwa_tokens]}),r.jsxs("span",{className:"hidden sm:inline",children:[e("admin.partnersPage.package"),": Phase ",w.tier==="phase1"?1:w.tier==="phase2"?2:3]}),r.jsxs("span",{children:[": RM ",(w.total_sales/100).toFixed(2)]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[w.status==="pending"&&r.jsxs(M,{size:"sm",className:"gap-1",onClick:()=>v.mutate(w.id),disabled:v.isPending,"data-testid":`button-activate-${w.id}`,children:[v.isPending?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):r.jsx(De,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.partnersPage.activate")})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>p(w),"data-testid":`button-view-${w.id}`,children:[r.jsx(pr,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.partnersPage.viewDetails")})]})]})]})},w.id))})})]})})]})]}),r.jsx(lt,{open:d,onOpenChange:u,children:r.jsxs(st,{className:"max-w-2xl max-h-[90dvh] overflow-y-auto p-4 sm:p-6",children:[r.jsx(it,{children:r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Mt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),""]})}),l&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs(V,{className:"p-3 sm:p-4",children:[r.jsx("h4",{className:"font-semibold text-sm sm:text-base mb-2 sm:mb-3",children:""}),r.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsx("span",{className:"font-medium",children:l.member_name||"-"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsx("span",{className:"font-medium truncate ml-2 max-w-[60%]",children:l.member_email||"-"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsx("span",{className:"font-medium",children:l.member_phone||"-"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsx("span",{className:"font-mono font-medium",children:l.referral_code})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsx("span",{className:"font-medium",children:new Date(l.created_at).toLocaleDateString("zh-CN")})]})]})]}),r.jsxs(V,{className:"p-3 sm:p-4",children:[r.jsx("h4",{className:"font-semibold text-sm sm:text-base mb-2 sm:mb-3",children:""}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3 text-xs sm:text-sm",children:[r.jsxs("div",{className:"p-2 bg-muted rounded text-center",children:[r.jsx("p",{className:"text-muted-foreground text-[10px] sm:text-xs",children:"LY"}),r.jsx("p",{className:"text-sm sm:text-lg font-bold",children:l.ly_balance})]}),r.jsxs("div",{className:"p-2 bg-muted rounded text-center",children:[r.jsx("p",{className:"text-muted-foreground text-[10px] sm:text-xs",children:""}),r.jsxs("p",{className:"text-sm sm:text-lg font-bold",children:["RM ",(l.cash_wallet_balance/100).toFixed(0)]})]}),r.jsxs("div",{className:"p-2 bg-muted rounded text-center",children:[r.jsx("p",{className:"text-muted-foreground text-[10px] sm:text-xs",children:"RWA"}),r.jsx("p",{className:"text-sm sm:text-lg font-bold",children:l.rwa_tokens})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 mt-2 sm:mt-3 text-xs sm:text-sm",children:[r.jsxs("div",{className:"p-2 bg-primary/10 rounded text-center",children:[r.jsx("p",{className:"text-muted-foreground text-[10px] sm:text-xs",children:""}),r.jsxs("p",{className:"text-sm sm:text-lg font-bold text-primary",children:["RM ",(l.total_sales/100).toFixed(2)]})]}),r.jsxs("div",{className:"p-2 bg-green-500/10 rounded text-center",children:[r.jsx("p",{className:"text-muted-foreground text-[10px] sm:text-xs",children:""}),r.jsxs("p",{className:"text-sm sm:text-lg font-bold text-green-500",children:["RM ",(l.total_commission/100).toFixed(2)]})]})]})]}),r.jsxs(V,{className:"p-3 sm:p-4",children:[r.jsx("h4",{className:"font-semibold text-sm sm:text-base mb-2 sm:mb-3",children:""}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground shrink-0",children:":"}),r.jsxs(Et,{value:l.tier,onValueChange:w=>{f.mutate({partnerId:l.id,tier:w})},children:[r.jsx(_t,{className:"w-24 sm:w-32 h-8 sm:h-9 text-xs sm:text-sm",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"phase1",children:"Phase 1"}),r.jsx(ye,{value:"phase2",children:"Phase 2"}),r.jsx(ye,{value:"phase3",children:"Phase 3"})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground shrink-0",children:":"}),r.jsx(te,{variant:l.status==="active"?"default":"destructive",className:"text-xs",children:l.status==="active"?"":l.status==="suspended"?"":l.status}),r.jsx(M,{variant:"outline",size:"sm",className:"h-7 sm:h-8 text-xs sm:text-sm px-2 sm:px-3",onClick:()=>{const w=l.status==="active"?"suspended":"active";g.mutate({partnerId:l.id,status:w})},disabled:g.isPending,children:l.status==="active"?r.jsxs(r.Fragment,{children:[r.jsx(tF,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"})," "]}):r.jsxs(r.Fragment,{children:[r.jsx(LZ,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"})," "]})})]})]})]}),r.jsxs(V,{className:"p-3 sm:p-4",children:[r.jsxs("h4",{className:"font-semibold text-sm sm:text-base mb-2 sm:mb-3",children:[" (",m.length,")"]}),m.length===0?r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}):r.jsx("div",{className:"space-y-2",children:m.map(w=>r.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm p-2 border rounded gap-2",children:[r.jsx("span",{className:"font-medium truncate",children:w.member_name}),r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 shrink-0",children:[r.jsxs(te,{variant:"outline",className:"text-[10px] sm:text-xs px-1 sm:px-2",children:["P",w.tier==="phase1"?1:w.tier==="phase2"?2:3]}),r.jsx(te,{variant:w.status==="active"?"default":"outline",className:"text-[10px] sm:text-xs px-1 sm:px-2",children:w.status==="active"?"":""})]})]},w.id))})]}),r.jsxs(V,{className:"p-3 sm:p-4",children:[r.jsx("h4",{className:"font-semibold text-sm sm:text-base mb-2 sm:mb-3",children:" (10)"}),h.length===0?r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}):r.jsx("div",{className:"space-y-2",children:h.map(w=>r.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm p-2 border rounded gap-2",children:[r.jsxs("span",{className:"font-mono truncate",children:["#",w.order_number]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 shrink-0",children:[r.jsxs("span",{className:"font-bold text-primary",children:["RM ",(w.total_amount/100).toFixed(0)]}),r.jsx(te,{variant:"outline",className:"text-[10px] sm:text-xs px-1 sm:px-2",children:w.status})]})]},w.id))})]})]})]})})]})}async function wfe(e){const{data:t,error:n}=await Y.from("notifications").insert({user_id:e.userId,member_id:e.memberId,type:e.type,title:e.title,content:e.content,read:!1,data:e.data,created_at:new Date().toISOString()}).select().single();return n?(console.error("Error creating notification:",n),{notification:null,error:new Error(n.message)}):{notification:Nfe(t),error:null}}async function jfe(e,t,n,a){const i={pending:{title:"Order Confirmed",content:`Your order #${t} has been confirmed and is being processed.`},confirmed:{title:"Order Confirmed",content:`Your order #${t} has been confirmed.`},processing:{title:"Order Processing",content:`Your order #${t} is being prepared.`},shipped:{title:"Order Shipped",content:`Your order #${t} has been shipped and is on its way!`},delivered:{title:"Order Delivered",content:`Your order #${t} has been delivered. Enjoy!`},cancelled:{title:"Order Cancelled",content:`Your order #${t} has been cancelled.`}}[a];if(!i||!n)return{success:!0,error:null};const{error:o}=await wfe({userId:null,memberId:n,type:"order",title:i.title,content:i.content,data:{orderId:e,orderNumber:t,status:a}});return{success:!o,error:o}}function Nfe(e){return{id:e.id,userId:e.user_id,memberId:e.member_id,type:e.type,title:e.title,content:e.content,read:e.read,data:e.data,createdAt:e.created_at}}var bq="AlertDialog",[kfe,sBe]=Jn(bq,[dB]),fo=dB(),wq=e=>{const{__scopeAlertDialog:t,...n}=e,a=fo(t);return r.jsx(n2,{...a,...n,modal:!0})};wq.displayName=bq;var Pfe="AlertDialogTrigger",Sfe=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=fo(n);return r.jsx(r2,{...s,...a,ref:t})});Sfe.displayName=Pfe;var _fe="AlertDialogPortal",jq=e=>{const{__scopeAlertDialog:t,...n}=e,a=fo(t);return r.jsx(a2,{...a,...n})};jq.displayName=_fe;var Cfe="AlertDialogOverlay",Nq=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=fo(n);return r.jsx(hg,{...s,...a,ref:t})});Nq.displayName=Cfe;var vu="AlertDialogContent",[Afe,Tfe]=kfe(vu),Ofe=A$("AlertDialogContent"),kq=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:a,...s}=e,i=fo(n),o=j.useRef(null),l=dt(t,o),c=j.useRef(null);return r.jsx(Kae,{contentName:vu,titleName:Pq,docsSlug:"alert-dialog",children:r.jsx(Afe,{scope:n,cancelRef:c,children:r.jsxs(fg,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:Ne(s.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[r.jsx(Ofe,{children:a}),r.jsx(Rfe,{contentRef:o})]})})})});kq.displayName=vu;var Pq="AlertDialogTitle",Sq=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=fo(n);return r.jsx(Km,{...s,...a,ref:t})});Sq.displayName=Pq;var _q="AlertDialogDescription",Cq=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=fo(n);return r.jsx(pg,{...s,...a,ref:t})});Cq.displayName=_q;var Efe="AlertDialogAction",Aq=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,s=fo(n);return r.jsx(g0,{...s,...a,ref:t})});Aq.displayName=Efe;var Tq="AlertDialogCancel",Oq=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...a}=e,{cancelRef:s}=Tfe(Tq,n),i=fo(n),o=dt(t,s);return r.jsx(g0,{...i,...a,ref:o})});Oq.displayName=Tq;var Rfe=({contentRef:e})=>{const t=`\`${vu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vu}\` by passing a \`${_q}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Mfe=wq,Dfe=jq,Eq=Nq,Rq=kq,Mq=Aq,Dq=Oq,Iq=Sq,Lq=Cq;const $q=Mfe,Ife=Dfe,Fq=j.forwardRef(({className:e,...t},n)=>r.jsx(Eq,{className:Ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Fq.displayName=Eq.displayName;const vC=j.forwardRef(({className:e,...t},n)=>r.jsxs(Ife,{children:[r.jsx(Fq,{}),r.jsx(Rq,{ref:n,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));vC.displayName=Rq.displayName;const bC=({className:e,...t})=>r.jsx("div",{className:Ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});bC.displayName="AlertDialogHeader";const wC=({className:e,...t})=>r.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wC.displayName="AlertDialogFooter";const jC=j.forwardRef(({className:e,...t},n)=>r.jsx(Iq,{ref:n,className:Ce("text-lg font-semibold",e),...t}));jC.displayName=Iq.displayName;const NC=j.forwardRef(({className:e,...t},n)=>r.jsx(Lq,{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));NC.displayName=Lq.displayName;const kC=j.forwardRef(({className:e,...t},n)=>r.jsx(Mq,{ref:n,className:Ce(H_(),e),...t}));kC.displayName=Mq.displayName;const PC=j.forwardRef(({className:e,...t},n)=>r.jsx(Dq,{ref:n,className:Ce(H_({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));PC.displayName=Dq.displayName;function Lfe(){const{t:e}=ct(),{toast:t}=Wt(),[n,a]=j.useState(""),[s,i]=j.useState("all"),[o,l]=j.useState(null),[c,d]=j.useState(!1),[u,m]=j.useState(!1),[h,f]=j.useState(null),{data:g=[],isLoading:p,refetch:x}=Le({queryKey:["admin-orders"],queryFn:async()=>{const{data:E,error:L}=await Y.from("orders").select("*").order("created_at",{ascending:!1});return L?(console.error("Error fetching orders:",L),[]):(E||[]).map($=>({id:$.id,orderNumber:$.order_number,memberId:$.member_id,customerName:$.customer_name,customerPhone:$.customer_phone,customerEmail:$.customer_email,status:$.status,totalAmount:$.total_amount,items:$.items,packageType:$.package_type,shippingAddress:$.shipping_address,shippingCity:$.shipping_city,shippingState:$.shipping_state,shippingPostcode:$.shipping_postcode,preferredDeliveryDate:$.preferred_delivery_date,trackingNumber:$.tracking_number,notes:$.notes,source:$.source,erpnextId:$.erpnext_id,metaOrderId:$.meta_order_id,pointsEarned:$.points_earned,pointsRedeemed:$.points_redeemed,createdAt:$.created_at,updatedAt:$.updated_at}))}}),y=Ie({mutationFn:async({orderId:E,status:L,order:$})=>{const B=$.status,{error:K}=await Y.from("orders").update({status:L,updated_at:new Date().toISOString()}).eq("id",E);if(K)throw K;if($.memberId&&await jfe(E,$.orderNumber,$.memberId,L),L==="cancelled"&&B!=="cancelled")try{const S=JSON.parse($.items);await wE(E,S)}catch(S){console.error("Error restoring inventory:",S)}},onSuccess:()=>{zs.invalidateQueries({queryKey:["admin-orders"]}),d(!1)}}),v=Ie({mutationFn:async E=>{if(E.status!=="cancelled")try{const $=JSON.parse(E.items);await wE(E.id,$)}catch($){console.error("Error restoring inventory:",$)}const{error:L}=await Y.from("orders").delete().eq("id",E.id);if(L)throw L},onSuccess:()=>{zs.invalidateQueries({queryKey:["admin-orders"]}),d(!1),m(!1),f(null),t({title:""})},onError:E=>{t({title:"",description:String(E),variant:"destructive"})}}),b=E=>{f(E),m(!0)},N=()=>{h&&v.mutate(h)},w=E=>{switch(E){case"pending_payment":return{label:e("admin.ordersPage.pendingPayment"),icon:Tt,color:"text-yellow-500",bg:"bg-yellow-500/10"};case"pending":return{label:e("admin.ordersPage.pendingPayment"),icon:Tt,color:"text-yellow-500",bg:"bg-yellow-500/10"};case"confirmed":return{label:e("admin.ordersPage.confirmed")||"Confirmed",icon:De,color:"text-blue-500",bg:"bg-blue-500/10"};case"processing":return{label:e("admin.ordersPage.preparing"),icon:Yt,color:"text-blue-500",bg:"bg-blue-500/10"};case"shipped":return{label:e("admin.ordersPage.shipping"),icon:os,color:"text-primary",bg:"bg-primary/10"};case"delivered":return{label:e("admin.ordersPage.completed"),icon:De,color:"text-green-500",bg:"bg-green-500/10"};case"cancelled":return{label:e("admin.ordersPage.cancelled"),icon:Bs,color:"text-muted-foreground",bg:"bg-muted"};default:return{label:e("admin.ordersPage.unknown"),icon:Tt,color:"text-muted-foreground",bg:"bg-muted"}}},k=g.filter(E=>{var B,K,S;const L=n===""||((B=E.orderNumber)==null?void 0:B.toLowerCase().includes(n.toLowerCase()))||((K=E.customerName)==null?void 0:K.toLowerCase().includes(n.toLowerCase()))||((S=E.customerPhone)==null?void 0:S.includes(n)),$=s==="all"||s==="pending"&&(E.status==="pending"||E.status==="pending_payment")||s==="processing"&&(E.status==="processing"||E.status==="confirmed")||s!=="pending"&&s!=="processing"&&E.status===s;return L&&$}),P={total:g.length,pending:g.filter(E=>E.status==="pending"||E.status==="pending_payment").length,processing:g.filter(E=>E.status==="processing"||E.status==="confirmed").length,shipped:g.filter(E=>E.status==="shipped").length,delivered:g.filter(E=>E.status==="delivered").length,cancelled:g.filter(E=>E.status==="cancelled").length},_=E=>`RM ${(E/100).toFixed(2)}`,T=E=>E?new Date(E).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",I=E=>{try{return JSON.parse(E)}catch{return[]}},A=E=>{l(E),d(!0)},R=(E,L,$)=>{y.mutate({orderId:E,status:L,order:$})};return r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-orders-title",children:e("admin.ordersPage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.ordersPage.subtitle")})]}),r.jsxs(M,{variant:"outline",size:"sm",onClick:()=>x(),disabled:p,className:"flex-shrink-0",children:[r.jsx(od,{className:`w-4 h-4 mr-2 ${p?"animate-spin":""}`}),r.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-2 sm:p-4 text-center",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:P.total}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:e("admin.ordersPage.totalOrders")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-2 sm:p-4 text-center",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:P.pending}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:e("admin.ordersPage.pendingPayment")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-2 sm:p-4 text-center",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-500",children:P.processing}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:e("admin.ordersPage.preparing")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-2 sm:p-4 text-center",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary",children:P.shipped}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:e("admin.ordersPage.shipping")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-2 sm:p-4 text-center",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:P.delivered}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:e("admin.ordersPage.completed")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-2 sm:p-4 text-center",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-muted-foreground",children:P.cancelled}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:e("admin.ordersPage.cancelled")})]})})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Wc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.ordersPage.orderList")]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.ordersPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:n,onChange:E=>a(E.target.value),"data-testid":"input-search"})]})]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:r.jsxs(Pn,{value:s,onValueChange:i,children:[r.jsx("div",{className:"overflow-x-auto -mx-1 px-1 pb-1",children:r.jsxs(yn,{className:"inline-flex w-auto min-w-full md:grid md:w-full md:grid-cols-6 h-auto p-1",children:[r.jsx(ke,{value:"all",className:"flex-1 md:flex-none text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3","data-testid":"tab-all",children:e("admin.ordersPage.tabAll")}),r.jsxs(ke,{value:"pending",className:"flex-1 md:flex-none text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3 whitespace-nowrap","data-testid":"tab-pending",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.ordersPage.pendingPayment")}),r.jsx("span",{className:"sm:hidden",children:""})]}),r.jsxs(ke,{value:"processing",className:"flex-1 md:flex-none text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3 whitespace-nowrap","data-testid":"tab-processing",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.ordersPage.preparing")}),r.jsx("span",{className:"sm:hidden",children:""})]}),r.jsxs(ke,{value:"shipped",className:"flex-1 md:flex-none text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3 whitespace-nowrap","data-testid":"tab-shipped",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.ordersPage.shipping")}),r.jsx("span",{className:"sm:hidden",children:""})]}),r.jsxs(ke,{value:"delivered",className:"flex-1 md:flex-none text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3 whitespace-nowrap","data-testid":"tab-delivered",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.ordersPage.completed")}),r.jsx("span",{className:"sm:hidden",children:""})]}),r.jsxs(ke,{value:"cancelled",className:"flex-1 md:flex-none text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3 whitespace-nowrap","data-testid":"tab-cancelled",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.ordersPage.cancelled")}),r.jsx("span",{className:"sm:hidden",children:""})]})]})}),r.jsx(Nt,{value:s,className:"mt-3 sm:mt-4",children:p?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):k.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Wc,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.ordersPage.noOrders")})]}):r.jsx("div",{className:"space-y-2 sm:space-y-3",children:k.map(E=>{const L=w(E.status),$=L.icon,B=I(E.items);return r.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors","data-testid":`order-${E.orderNumber}`,children:[r.jsxs("div",{className:"flex items-start sm:items-center gap-2.5 sm:gap-4",children:[r.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full shrink-0 flex items-center justify-center ${L.bg}`,children:r.jsx($,{className:`w-4 h-4 sm:w-5 sm:h-5 ${L.color}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2",children:[r.jsxs("span",{className:"font-mono text-xs sm:text-sm font-medium",children:["#",E.orderNumber]}),r.jsx(te,{variant:"outline",className:"text-[10px] sm:text-xs h-5 sm:h-6",children:L.label})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 sm:gap-x-3 gap-y-0.5 text-xs sm:text-sm text-muted-foreground mt-0.5",children:[r.jsx("span",{className:"truncate max-w-[100px] sm:max-w-[150px] md:max-w-none",children:E.customerName}),r.jsxs("span",{children:[B.length," ",e("admin.ordersPage.items")]}),r.jsx("span",{className:"hidden md:inline",children:T(E.createdAt)})]})]}),r.jsxs("div",{className:"hidden sm:flex items-center gap-3 sm:gap-4 shrink-0",children:[r.jsx("span",{className:"font-bold text-primary text-sm sm:text-base",children:_(E.totalAmount)}),r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>A(E),"data-testid":`button-view-${E.orderNumber}`,children:[r.jsx(pr,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden md:inline",children:e("admin.ordersPage.viewDetails")})]})]})]}),r.jsxs("div",{className:"flex sm:hidden items-center justify-between mt-2 pl-[46px]",children:[r.jsx("span",{className:"font-bold text-primary text-sm",children:_(E.totalAmount)}),r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-7 text-xs",onClick:()=>A(E),"data-testid":`button-view-mobile-${E.orderNumber}`,children:[r.jsx(pr,{className:"w-3.5 h-3.5"}),""]})]})]},E.id)})})})]})})]})]}),r.jsx(lt,{open:c,onOpenChange:d,children:r.jsxs(st,{className:"w-[95vw] max-w-2xl max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsx(it,{children:r.jsxs(ot,{className:"text-base sm:text-lg",children:[" - #",o==null?void 0:o.orderNumber]})}),o&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:":"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Et,{value:o.status,onValueChange:E=>R(o.id,E,o),children:[r.jsx(_t,{className:"w-full sm:w-48 h-9 sm:h-10",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"pending_payment",children:""}),r.jsx(ye,{value:"pending",children:""}),r.jsx(ye,{value:"confirmed",children:""}),r.jsx(ye,{value:"processing",children:""}),r.jsx(ye,{value:"shipped",children:""}),r.jsx(ye,{value:"delivered",children:""}),r.jsx(ye,{value:"cancelled",children:""})]})]}),y.isPending&&r.jsx(fe,{className:"w-4 h-4 animate-spin"})]})]}),r.jsxs(V,{className:"p-3 sm:p-4",children:[r.jsx("h4",{className:"font-semibold mb-2 sm:mb-3 text-sm sm:text-base",children:""}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:":"}),r.jsx("span",{className:"ml-2 font-medium",children:o.customerName})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:":"}),r.jsx("span",{className:"ml-2 font-medium",children:o.customerPhone})]}),o.customerEmail&&r.jsxs("div",{className:"col-span-1 sm:col-span-2",children:[r.jsx("span",{className:"text-muted-foreground",children:":"}),r.jsx("span",{className:"ml-2 font-medium break-all",children:o.customerEmail})]})]})]}),r.jsxs(V,{className:"p-3 sm:p-4",children:[r.jsx("h4",{className:"font-semibold mb-2 sm:mb-3 text-sm sm:text-base",children:""}),r.jsxs("p",{className:"text-xs sm:text-sm",children:[o.shippingAddress,r.jsx("br",{}),o.shippingPostcode," ",o.shippingCity,r.jsx("br",{}),o.shippingState]}),o.preferredDeliveryDate&&r.jsxs("p",{className:"text-xs sm:text-sm mt-2 text-muted-foreground",children:[": ",o.preferredDeliveryDate]})]}),r.jsxs(V,{className:"p-3 sm:p-4",children:[r.jsx("h4",{className:"font-semibold mb-2 sm:mb-3 text-sm sm:text-base",children:""}),r.jsx("div",{className:"space-y-2",children:I(o.items).map((E,L)=>r.jsxs("div",{className:"flex justify-between text-xs sm:text-sm gap-2",children:[r.jsx("span",{className:"truncate",children:E.flavorName}),r.jsxs("span",{className:"text-muted-foreground shrink-0",children:["x ",E.quantity]})]},L))}),r.jsxs("div",{className:"border-t mt-3 sm:mt-4 pt-3 sm:pt-4 flex justify-between font-semibold text-sm sm:text-base",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"text-primary",children:_(o.totalAmount)})]})]}),r.jsxs("div",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[r.jsxs("p",{children:[": ",T(o.createdAt)]}),r.jsxs("p",{children:[": ",T(o.updatedAt)]})]}),r.jsx("div",{className:"flex justify-end pt-2 border-t",children:r.jsxs(M,{variant:"destructive",size:"sm",className:"gap-1",onClick:()=>b(o),disabled:v.isPending,children:[v.isPending?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):r.jsx(Dn,{className:"w-4 h-4"}),""]})})]})]})}),r.jsx($q,{open:u,onOpenChange:m,children:r.jsxs(vC,{className:"w-[95vw] max-w-md",children:[r.jsxs(bC,{children:[r.jsx(jC,{children:""}),r.jsxs(NC,{children:[" ",r.jsxs("span",{className:"font-mono font-bold",children:["#",h==null?void 0:h.orderNumber]})," "]})]}),r.jsxs(wC,{className:"flex-col sm:flex-row gap-2",children:[r.jsx(PC,{className:"w-full sm:w-auto",children:""}),r.jsxs(kC,{onClick:N,className:"w-full sm:w-auto bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:v.isPending,children:[v.isPending?r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Dn,{className:"w-4 h-4 mr-2"}),""]})]})]})})]})}var Ag=e=>e.type==="checkbox",pc=e=>e instanceof Date,zr=e=>e==null;const Bq=e=>typeof e=="object";var $n=e=>!zr(e)&&!Array.isArray(e)&&Bq(e)&&!pc(e),Uq=e=>$n(e)&&e.target?Ag(e.target)?e.target.checked:e.target.value:e,$fe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Vq=(e,t)=>e.has($fe(t)),Ffe=e=>{const t=e.constructor&&e.constructor.prototype;return $n(t)&&t.hasOwnProperty("isPrototypeOf")},SC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vn(e){let t;const n=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(SC&&(e instanceof Blob||a))&&(n||$n(e)))if(t=n?[]:{},!n&&!Ffe(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=vn(e[s]));else return e;return t}var Tg=e=>Array.isArray(e)?e.filter(Boolean):[],dn=e=>e===void 0,_e=(e,t,n)=>{if(!t||!$n(e))return n;const a=Tg(t.split(/[,[\].]+?/)).reduce((s,i)=>zr(s)?s:s[i],e);return dn(a)||a===e?dn(e[t])?n:e[t]:a},ka=e=>typeof e=="boolean",_C=e=>/^\w*$/.test(e),qq=e=>Tg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),It=(e,t,n)=>{let a=-1;const s=_C(t)?[t]:qq(t),i=s.length,o=i-1;for(;++a<i;){const l=s[a];let c=n;if(a!==o){const d=e[l];c=$n(d)||Array.isArray(d)?d:isNaN(+s[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const xv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ts={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Si={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},zq=U.createContext(null),Og=()=>U.useContext(zq),Bfe=e=>{const{children:t,...n}=e;return U.createElement(zq.Provider,{value:n},t)};var Kq=(e,t,n,a=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ts.all&&(t._proxyFormState[o]=!a||ts.all),n&&(n[o]=!0),e[o]}});return s};function Ufe(e){const t=Og(),{control:n=t.control,disabled:a,name:s,exact:i}=e||{},[o,l]=U.useState(n._formState),c=U.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=U.useRef(s);return d.current=s,U.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:i,callback:u=>{!a&&l({...n._formState,...u})}}),[n,a,i]),U.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),U.useMemo(()=>Kq(o,n,c.current,!1),[o,n])}var ii=e=>typeof e=="string",Wq=(e,t,n,a,s)=>ii(e)?(a&&t.watch.add(e),_e(n,e,s)):Array.isArray(e)?e.map(i=>(a&&t.watch.add(i),_e(n,i))):(a&&(t.watchAll=!0),n);function Vfe(e){const t=Og(),{control:n=t.control,name:a,defaultValue:s,disabled:i,exact:o}=e||{},l=U.useRef(a),c=U.useRef(s);l.current=a,U.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:m=>!i&&u(Wq(l.current,n._names,m.values||n._formValues,!1,c.current))}),[n,i,o]);const[d,u]=U.useState(n._getWatch(a,s));return U.useEffect(()=>n._removeUnmounted()),d}function qfe(e){const t=Og(),{name:n,disabled:a,control:s=t.control,shouldUnregister:i}=e,o=Vq(s._names.array,n),l=Vfe({control:s,name:n,defaultValue:_e(s._formValues,n,_e(s._defaultValues,n,e.defaultValue)),exact:!0}),c=Ufe({control:s,name:n,exact:!0}),d=U.useRef(e),u=U.useRef(s.register(n,{...e.rules,value:l,...ka(e.disabled)?{disabled:e.disabled}:{}})),m=U.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_e(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!_e(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!_e(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!_e(c.validatingFields,n)},error:{enumerable:!0,get:()=>_e(c.errors,n)}}),[c,n]),h=U.useCallback(x=>u.current.onChange({target:{value:Uq(x),name:n},type:xv.CHANGE}),[n]),f=U.useCallback(()=>u.current.onBlur({target:{value:_e(s._formValues,n),name:n},type:xv.BLUR}),[n,s._formValues]),g=U.useCallback(x=>{const y=_e(s._fields,n);y&&x&&(y._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:v=>x.setCustomValidity(v),reportValidity:()=>x.reportValidity()})},[s._fields,n]),p=U.useMemo(()=>({name:n,value:l,...ka(a)||c.disabled?{disabled:c.disabled||a}:{},onChange:h,onBlur:f,ref:g}),[n,a,c.disabled,h,f,g,l]);return U.useEffect(()=>{const x=s._options.shouldUnregister||i;s.register(n,{...d.current.rules,...ka(d.current.disabled)?{disabled:d.current.disabled}:{}});const y=(v,b)=>{const N=_e(s._fields,v);N&&N._f&&(N._f.mount=b)};if(y(n,!0),x){const v=vn(_e(s._options.defaultValues,n));It(s._defaultValues,n,v),dn(_e(s._formValues,n))&&It(s._formValues,n,v)}return!o&&s.register(n),()=>{(o?x&&!s._state.action:x)?s.unregister(n):y(n,!1)}},[n,s,o,i]),U.useEffect(()=>{s._setDisabledField({disabled:a,name:n})},[a,n,s]),U.useMemo(()=>({field:p,formState:c,fieldState:m}),[p,c,m])}const zfe=e=>e.render(qfe(e));var Hq=(e,t,n,a,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:s||!0}}:{},ca=e=>Array.isArray(e)?e:[e],nM=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Vk=e=>zr(e)||!Bq(e);function Lo(e,t){if(Vk(e)||Vk(t))return e===t;if(pc(e)&&pc(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const s of n){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const o=t[s];if(pc(i)&&pc(o)||$n(i)&&$n(o)||Array.isArray(i)&&Array.isArray(o)?!Lo(i,o):i!==o)return!1}}return!0}var Or=e=>$n(e)&&!Object.keys(e).length,CC=e=>e.type==="file",Rs=e=>typeof e=="function",yv=e=>{if(!SC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Gq=e=>e.type==="select-multiple",AC=e=>e.type==="radio",Kfe=e=>AC(e)||Ag(e),zj=e=>yv(e)&&e.isConnected;function Wfe(e,t){const n=t.slice(0,-1).length;let a=0;for(;a<n;)e=dn(e)?a++:e[t[a++]];return e}function Hfe(e){for(const t in e)if(e.hasOwnProperty(t)&&!dn(e[t]))return!1;return!0}function Un(e,t){const n=Array.isArray(t)?t:_C(t)?[t]:qq(t),a=n.length===1?e:Wfe(e,n),s=n.length-1,i=n[s];return a&&delete a[i],s!==0&&($n(a)&&Or(a)||Array.isArray(a)&&Hfe(a))&&Un(e,n.slice(0,-1)),e}var Yq=e=>{for(const t in e)if(Rs(e[t]))return!0;return!1};function vv(e,t={}){const n=Array.isArray(e);if($n(e)||n)for(const a in e)Array.isArray(e[a])||$n(e[a])&&!Yq(e[a])?(t[a]=Array.isArray(e[a])?[]:{},vv(e[a],t[a])):zr(e[a])||(t[a]=!0);return t}function Jq(e,t,n){const a=Array.isArray(e);if($n(e)||a)for(const s in e)Array.isArray(e[s])||$n(e[s])&&!Yq(e[s])?dn(t)||Vk(n[s])?n[s]=Array.isArray(e[s])?vv(e[s],[]):{...vv(e[s])}:Jq(e[s],zr(t)?{}:t[s],n[s]):n[s]=!Lo(e[s],t[s]);return n}var Nh=(e,t)=>Jq(e,t,vv(t));const rM={value:!1,isValid:!1},aM={value:!0,isValid:!0};var Qq=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!dn(e[0].attributes.value)?dn(e[0].value)||e[0].value===""?aM:{value:e[0].value,isValid:!0}:aM:rM}return rM},Xq=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:a})=>dn(e)?e:t?e===""?NaN:e&&+e:n&&ii(e)?new Date(e):a?a(e):e;const sM={isValid:!1,value:null};var Zq=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,sM):sM;function iM(e){const t=e.ref;return CC(t)?t.files:AC(t)?Zq(e.refs).value:Gq(t)?[...t.selectedOptions].map(({value:n})=>n):Ag(t)?Qq(e.refs).value:Xq(dn(t.value)?e.ref.value:t.value,e)}var Gfe=(e,t,n,a)=>{const s={};for(const i of e){const o=_e(t,i);o&&It(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:a}},bv=e=>e instanceof RegExp,kh=e=>dn(e)?e:bv(e)?e.source:$n(e)?bv(e.value)?e.value.source:e.value:e,Zd=e=>({isOnSubmit:!e||e===ts.onSubmit,isOnBlur:e===ts.onBlur,isOnChange:e===ts.onChange,isOnAll:e===ts.all,isOnTouch:e===ts.onTouched});const oM="AsyncFunction";var Yfe=e=>!!e&&!!e.validate&&!!(Rs(e.validate)&&e.validate.constructor.name===oM||$n(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===oM)),Jfe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),qk=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const bu=(e,t,n,a)=>{for(const s of n||Object.keys(e)){const i=_e(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!a)return!0;if(o.ref&&t(o.ref,o.name)&&!a)return!0;if(bu(l,t))break}else if($n(l)&&bu(l,t))break}}};function lM(e,t,n){const a=_e(e,n);if(a||_C(n))return{error:a,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=_e(t,i),l=_e(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var Qfe=(e,t,n,a)=>{n(e);const{name:s,...i}=e;return Or(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!a||ts.all))},Xfe=(e,t,n)=>!e||!t||e===t||ca(e).some(a=>a&&(n?a===t:a.startsWith(t)||t.startsWith(a))),Zfe=(e,t,n,a,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?a.isOnBlur:s.isOnBlur)?!e:(n?a.isOnChange:s.isOnChange)?e:!0,epe=(e,t)=>!Tg(_e(e,t)).length&&Un(e,t),e9=(e,t,n)=>{const a=ca(_e(e,n));return It(a,"root",t[n]),It(e,n,a),e},xy=e=>ii(e);function cM(e,t,n="validate"){if(xy(e)||Array.isArray(e)&&e.every(xy)||ka(e)&&!e)return{type:n,message:xy(e)?e:"",ref:t}}var Sd=e=>$n(e)&&!bv(e)?e:{value:e,message:""},zk=async(e,t,n,a,s,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:m,max:h,pattern:f,validate:g,name:p,valueAsNumber:x,mount:y}=e._f,v=_e(n,p);if(!y||t.has(p))return{};const b=l?l[0]:o,N=R=>{s&&b.reportValidity&&(b.setCustomValidity(ka(R)?"":R||""),b.reportValidity())},w={},k=AC(o),P=Ag(o),_=k||P,T=(x||CC(o))&&dn(o.value)&&dn(v)||yv(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,I=Hq.bind(null,p,a,w),A=(R,E,L,$=Si.maxLength,B=Si.minLength)=>{const K=R?E:L;w[p]={type:R?$:B,message:K,ref:o,...I(R?$:B,K)}};if(i?!Array.isArray(v)||!v.length:c&&(!_&&(T||zr(v))||ka(v)&&!v||P&&!Qq(l).isValid||k&&!Zq(l).isValid)){const{value:R,message:E}=xy(c)?{value:!!c,message:c}:Sd(c);if(R&&(w[p]={type:Si.required,message:E,ref:b,...I(Si.required,E)},!a))return N(E),w}if(!T&&(!zr(m)||!zr(h))){let R,E;const L=Sd(h),$=Sd(m);if(!zr(v)&&!isNaN(v)){const B=o.valueAsNumber||v&&+v;zr(L.value)||(R=B>L.value),zr($.value)||(E=B<$.value)}else{const B=o.valueAsDate||new Date(v),K=G=>new Date(new Date().toDateString()+" "+G),S=o.type=="time",D=o.type=="week";ii(L.value)&&v&&(R=S?K(v)>K(L.value):D?v>L.value:B>new Date(L.value)),ii($.value)&&v&&(E=S?K(v)<K($.value):D?v<$.value:B<new Date($.value))}if((R||E)&&(A(!!R,L.message,$.message,Si.max,Si.min),!a))return N(w[p].message),w}if((d||u)&&!T&&(ii(v)||i&&Array.isArray(v))){const R=Sd(d),E=Sd(u),L=!zr(R.value)&&v.length>+R.value,$=!zr(E.value)&&v.length<+E.value;if((L||$)&&(A(L,R.message,E.message),!a))return N(w[p].message),w}if(f&&!T&&ii(v)){const{value:R,message:E}=Sd(f);if(bv(R)&&!v.match(R)&&(w[p]={type:Si.pattern,message:E,ref:o,...I(Si.pattern,E)},!a))return N(E),w}if(g){if(Rs(g)){const R=await g(v,n),E=cM(R,b);if(E&&(w[p]={...E,...I(Si.validate,E.message)},!a))return N(E.message),w}else if($n(g)){let R={};for(const E in g){if(!Or(R)&&!a)break;const L=cM(await g[E](v,n),b,E);L&&(R={...L,...I(E,L.message)},N(L.message),a&&(w[p]=R))}if(!Or(R)&&(w[p]={ref:b,...R},!a))return w}}return N(!0),w};const tpe={mode:ts.onSubmit,reValidateMode:ts.onChange,shouldFocusError:!0};function npe(e={}){let t={...tpe,...e},n={submitCount:0,isDirty:!1,isLoading:Rs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const a={};let s=$n(t.defaultValues)||$n(t.values)?vn(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:vn(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...u};const h={array:nM(),state:nM()},f=Zd(t.mode),g=Zd(t.reValidateMode),p=t.criteriaMode===ts.all,x=O=>Z=>{clearTimeout(d),d=setTimeout(O,Z)},y=async O=>{if(!t.disabled&&(u.isValid||m.isValid||O)){const Z=t.resolver?Or((await T()).errors):await A(a,!0);Z!==n.isValid&&h.state.next({isValid:Z})}},v=(O,Z)=>{!t.disabled&&(u.isValidating||u.validatingFields||m.isValidating||m.validatingFields)&&((O||Array.from(l.mount)).forEach(z=>{z&&(Z?It(n.validatingFields,z,Z):Un(n.validatingFields,z))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Or(n.validatingFields)}))},b=(O,Z=[],z,ce,he=!0,ge=!0)=>{if(ce&&z&&!t.disabled){if(o.action=!0,ge&&Array.isArray(_e(a,O))){const Me=z(_e(a,O),ce.argA,ce.argB);he&&It(a,O,Me)}if(ge&&Array.isArray(_e(n.errors,O))){const Me=z(_e(n.errors,O),ce.argA,ce.argB);he&&It(n.errors,O,Me),epe(n.errors,O)}if((u.touchedFields||m.touchedFields)&&ge&&Array.isArray(_e(n.touchedFields,O))){const Me=z(_e(n.touchedFields,O),ce.argA,ce.argB);he&&It(n.touchedFields,O,Me)}(u.dirtyFields||m.dirtyFields)&&(n.dirtyFields=Nh(s,i)),h.state.next({name:O,isDirty:E(O,Z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else It(i,O,Z)},N=(O,Z)=>{It(n.errors,O,Z),h.state.next({errors:n.errors})},w=O=>{n.errors=O,h.state.next({errors:n.errors,isValid:!1})},k=(O,Z,z,ce)=>{const he=_e(a,O);if(he){const ge=_e(i,O,dn(z)?_e(s,O):z);dn(ge)||ce&&ce.defaultChecked||Z?It(i,O,Z?ge:iM(he._f)):B(O,ge),o.mount&&y()}},P=(O,Z,z,ce,he)=>{let ge=!1,Me=!1;const at={name:O};if(!t.disabled){if(!z||ce){(u.isDirty||m.isDirty)&&(Me=n.isDirty,n.isDirty=at.isDirty=E(),ge=Me!==at.isDirty);const rn=Lo(_e(s,O),Z);Me=!!_e(n.dirtyFields,O),rn?Un(n.dirtyFields,O):It(n.dirtyFields,O,!0),at.dirtyFields=n.dirtyFields,ge=ge||(u.dirtyFields||m.dirtyFields)&&Me!==!rn}if(z){const rn=_e(n.touchedFields,O);rn||(It(n.touchedFields,O,z),at.touchedFields=n.touchedFields,ge=ge||(u.touchedFields||m.touchedFields)&&rn!==z)}ge&&he&&h.state.next(at)}return ge?at:{}},_=(O,Z,z,ce)=>{const he=_e(n.errors,O),ge=(u.isValid||m.isValid)&&ka(Z)&&n.isValid!==Z;if(t.delayError&&z?(c=x(()=>N(O,z)),c(t.delayError)):(clearTimeout(d),c=null,z?It(n.errors,O,z):Un(n.errors,O)),(z?!Lo(he,z):he)||!Or(ce)||ge){const Me={...ce,...ge&&ka(Z)?{isValid:Z}:{},errors:n.errors,name:O};n={...n,...Me},h.state.next(Me)}},T=async O=>{v(O,!0);const Z=await t.resolver(i,t.context,Gfe(O||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return v(O),Z},I=async O=>{const{errors:Z}=await T(O);if(O)for(const z of O){const ce=_e(Z,z);ce?It(n.errors,z,ce):Un(n.errors,z)}else n.errors=Z;return Z},A=async(O,Z,z={valid:!0})=>{for(const ce in O){const he=O[ce];if(he){const{_f:ge,...Me}=he;if(ge){const at=l.array.has(ge.name),rn=he._f&&Yfe(he._f);rn&&u.validatingFields&&v([ce],!0);const Qn=await zk(he,l.disabled,i,p,t.shouldUseNativeValidation&&!Z,at);if(rn&&u.validatingFields&&v([ce]),Qn[ge.name]&&(z.valid=!1,Z))break;!Z&&(_e(Qn,ge.name)?at?e9(n.errors,Qn,ge.name):It(n.errors,ge.name,Qn[ge.name]):Un(n.errors,ge.name))}!Or(Me)&&await A(Me,Z,z)}}return z.valid},R=()=>{for(const O of l.unMount){const Z=_e(a,O);Z&&(Z._f.refs?Z._f.refs.every(z=>!zj(z)):!zj(Z._f.ref))&&W(O)}l.unMount=new Set},E=(O,Z)=>!t.disabled&&(O&&Z&&It(i,O,Z),!Lo(C(),s)),L=(O,Z,z)=>Wq(O,l,{...o.mount?i:dn(Z)?s:ii(O)?{[O]:Z}:Z},z,Z),$=O=>Tg(_e(o.mount?i:s,O,t.shouldUnregister?_e(s,O,[]):[])),B=(O,Z,z={})=>{const ce=_e(a,O);let he=Z;if(ce){const ge=ce._f;ge&&(!ge.disabled&&It(i,O,Xq(Z,ge)),he=yv(ge.ref)&&zr(Z)?"":Z,Gq(ge.ref)?[...ge.ref.options].forEach(Me=>Me.selected=he.includes(Me.value)):ge.refs?Ag(ge.ref)?ge.refs.length>1?ge.refs.forEach(Me=>(!Me.defaultChecked||!Me.disabled)&&(Me.checked=Array.isArray(he)?!!he.find(at=>at===Me.value):he===Me.value)):ge.refs[0]&&(ge.refs[0].checked=!!he):ge.refs.forEach(Me=>Me.checked=Me.value===he):CC(ge.ref)?ge.ref.value="":(ge.ref.value=he,ge.ref.type||h.state.next({name:O,values:vn(i)})))}(z.shouldDirty||z.shouldTouch)&&P(O,he,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&q(O)},K=(O,Z,z)=>{for(const ce in Z){const he=Z[ce],ge=`${O}.${ce}`,Me=_e(a,ge);(l.array.has(O)||$n(he)||Me&&!Me._f)&&!pc(he)?K(ge,he,z):B(ge,he,z)}},S=(O,Z,z={})=>{const ce=_e(a,O),he=l.array.has(O),ge=vn(Z);It(i,O,ge),he?(h.array.next({name:O,values:vn(i)}),(u.isDirty||u.dirtyFields||m.isDirty||m.dirtyFields)&&z.shouldDirty&&h.state.next({name:O,dirtyFields:Nh(s,i),isDirty:E(O,ge)})):ce&&!ce._f&&!zr(ge)?K(O,ge,z):B(O,ge,z),qk(O,l)&&h.state.next({...n}),h.state.next({name:o.mount?O:void 0,values:vn(i)})},D=async O=>{o.mount=!0;const Z=O.target;let z=Z.name,ce=!0;const he=_e(a,z),ge=Me=>{ce=Number.isNaN(Me)||pc(Me)&&isNaN(Me.getTime())||Lo(Me,_e(i,z,Me))};if(he){let Me,at;const rn=Z.type?iM(he._f):Uq(O),Qn=O.type===xv.BLUR||O.type===xv.FOCUS_OUT,t7=!Jfe(he._f)&&!t.resolver&&!_e(n.errors,z)&&!he._f.deps||Zfe(Qn,_e(n.touchedFields,z),n.isSubmitted,g,f),Tw=qk(z,l,Qn);It(i,z,rn),Qn?(he._f.onBlur&&he._f.onBlur(O),c&&c(0)):he._f.onChange&&he._f.onChange(O);const Ow=P(z,rn,Qn),n7=!Or(Ow)||Tw;if(!Qn&&h.state.next({name:z,type:O.type,values:vn(i)}),t7)return(u.isValid||m.isValid)&&(t.mode==="onBlur"?Qn&&y():Qn||y()),n7&&h.state.next({name:z,...Tw?{}:Ow});if(!Qn&&Tw&&h.state.next({...n}),t.resolver){const{errors:$A}=await T([z]);if(ge(rn),ce){const r7=lM(n.errors,a,z),FA=lM($A,a,r7.name||z);Me=FA.error,z=FA.name,at=Or($A)}}else v([z],!0),Me=(await zk(he,l.disabled,i,p,t.shouldUseNativeValidation))[z],v([z]),ge(rn),ce&&(Me?at=!1:(u.isValid||m.isValid)&&(at=await A(a,!0)));ce&&(he._f.deps&&q(he._f.deps),_(z,at,Me,Ow))}},G=(O,Z)=>{if(_e(n.errors,Z)&&O.focus)return O.focus(),1},q=async(O,Z={})=>{let z,ce;const he=ca(O);if(t.resolver){const ge=await I(dn(O)?O:he);z=Or(ge),ce=O?!he.some(Me=>_e(ge,Me)):z}else O?(ce=(await Promise.all(he.map(async ge=>{const Me=_e(a,ge);return await A(Me&&Me._f?{[ge]:Me}:Me)}))).every(Boolean),!(!ce&&!n.isValid)&&y()):ce=z=await A(a);return h.state.next({...!ii(O)||(u.isValid||m.isValid)&&z!==n.isValid?{}:{name:O},...t.resolver||!O?{isValid:z}:{},errors:n.errors}),Z.shouldFocus&&!ce&&bu(a,G,O?he:l.mount),ce},C=O=>{const Z={...o.mount?i:s};return dn(O)?Z:ii(O)?_e(Z,O):O.map(z=>_e(Z,z))},X=(O,Z)=>({invalid:!!_e((Z||n).errors,O),isDirty:!!_e((Z||n).dirtyFields,O),error:_e((Z||n).errors,O),isValidating:!!_e(n.validatingFields,O),isTouched:!!_e((Z||n).touchedFields,O)}),Q=O=>{O&&ca(O).forEach(Z=>Un(n.errors,Z)),h.state.next({errors:O?n.errors:{}})},xe=(O,Z,z)=>{const ce=(_e(a,O,{_f:{}})._f||{}).ref,he=_e(n.errors,O)||{},{ref:ge,message:Me,type:at,...rn}=he;It(n.errors,O,{...rn,...Z,ref:ce}),h.state.next({name:O,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&ce&&ce.focus&&ce.focus()},Pe=(O,Z)=>Rs(O)?h.state.subscribe({next:z=>O(L(void 0,Z),z)}):L(O,Z,!0),ee=O=>h.state.subscribe({next:Z=>{Xfe(O.name,Z.name,O.exact)&&Qfe(Z,O.formState||u,oe,O.reRenderRoot)&&O.callback({values:{...i},...n,...Z})}}).unsubscribe,pe=O=>(o.mount=!0,m={...m,...O.formState},ee({...O,formState:m})),W=(O,Z={})=>{for(const z of O?ca(O):l.mount)l.mount.delete(z),l.array.delete(z),Z.keepValue||(Un(a,z),Un(i,z)),!Z.keepError&&Un(n.errors,z),!Z.keepDirty&&Un(n.dirtyFields,z),!Z.keepTouched&&Un(n.touchedFields,z),!Z.keepIsValidating&&Un(n.validatingFields,z),!t.shouldUnregister&&!Z.keepDefaultValue&&Un(s,z);h.state.next({values:vn(i)}),h.state.next({...n,...Z.keepDirty?{isDirty:E()}:{}}),!Z.keepIsValid&&y()},H=({disabled:O,name:Z})=>{(ka(O)&&o.mount||O||l.disabled.has(Z))&&(O?l.disabled.add(Z):l.disabled.delete(Z))},ie=(O,Z={})=>{let z=_e(a,O);const ce=ka(Z.disabled)||ka(t.disabled);return It(a,O,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:O}},name:O,mount:!0,...Z}}),l.mount.add(O),z?H({disabled:ka(Z.disabled)?Z.disabled:t.disabled,name:O}):k(O,!0,Z.value),{...ce?{disabled:Z.disabled||t.disabled}:{},...t.progressive?{required:!!Z.required,min:kh(Z.min),max:kh(Z.max),minLength:kh(Z.minLength),maxLength:kh(Z.maxLength),pattern:kh(Z.pattern)}:{},name:O,onChange:D,onBlur:D,ref:he=>{if(he){ie(O,Z),z=_e(a,O);const ge=dn(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,Me=Kfe(ge),at=z._f.refs||[];if(Me?at.find(rn=>rn===ge):ge===z._f.ref)return;It(a,O,{_f:{...z._f,...Me?{refs:[...at.filter(zj),ge,...Array.isArray(_e(s,O))?[{}]:[]],ref:{type:ge.type,name:O}}:{ref:ge}}}),k(O,!1,void 0,ge)}else z=_e(a,O,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(Vq(l.array,O)&&o.action)&&l.unMount.add(O)}}},ae=()=>t.shouldFocusError&&bu(a,G,l.mount),le=O=>{ka(O)&&(h.state.next({disabled:O}),bu(a,(Z,z)=>{const ce=_e(a,z);ce&&(Z.disabled=ce._f.disabled||O,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(he=>{he.disabled=ce._f.disabled||O}))},0,!1))},ve=(O,Z)=>async z=>{let ce;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let he=vn(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ge,values:Me}=await T();n.errors=ge,he=Me}else await A(a);if(l.disabled.size)for(const ge of l.disabled)It(he,ge,void 0);if(Un(n.errors,"root"),Or(n.errors)){h.state.next({errors:{}});try{await O(he,z)}catch(ge){ce=ge}}else Z&&await Z({...n.errors},z),ae(),setTimeout(ae);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Or(n.errors)&&!ce,submitCount:n.submitCount+1,errors:n.errors}),ce)throw ce},ne=(O,Z={})=>{_e(a,O)&&(dn(Z.defaultValue)?S(O,vn(_e(s,O))):(S(O,Z.defaultValue),It(s,O,vn(Z.defaultValue))),Z.keepTouched||Un(n.touchedFields,O),Z.keepDirty||(Un(n.dirtyFields,O),n.isDirty=Z.defaultValue?E(O,vn(_e(s,O))):E()),Z.keepError||(Un(n.errors,O),u.isValid&&y()),h.state.next({...n}))},F=(O,Z={})=>{const z=O?vn(O):s,ce=vn(z),he=Or(O),ge=he?s:ce;if(Z.keepDefaultValues||(s=z),!Z.keepValues){if(Z.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(Nh(s,i))]);for(const at of Array.from(Me))_e(n.dirtyFields,at)?It(ge,at,_e(i,at)):S(at,_e(ge,at))}else{if(SC&&dn(O))for(const Me of l.mount){const at=_e(a,Me);if(at&&at._f){const rn=Array.isArray(at._f.refs)?at._f.refs[0]:at._f.ref;if(yv(rn)){const Qn=rn.closest("form");if(Qn){Qn.reset();break}}}}for(const Me of l.mount)S(Me,_e(ge,Me))}i=vn(ge),h.array.next({values:{...ge}}),h.state.next({values:{...ge}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Z.keepSubmitCount?n.submitCount:0,isDirty:he?!1:Z.keepDirty?n.isDirty:!!(Z.keepDefaultValues&&!Lo(O,s)),isSubmitted:Z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:Z.keepDirtyValues?Z.keepDefaultValues&&i?Nh(s,i):n.dirtyFields:Z.keepDefaultValues&&O?Nh(s,O):Z.keepDirty?n.dirtyFields:{},touchedFields:Z.keepTouched?n.touchedFields:{},errors:Z.keepErrors?n.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},me=(O,Z)=>F(Rs(O)?O(i):O,Z),je=(O,Z={})=>{const z=_e(a,O),ce=z&&z._f;if(ce){const he=ce.refs?ce.refs[0]:ce.ref;he.focus&&(he.focus(),Z.shouldSelect&&Rs(he.select)&&he.select())}},oe=O=>{n={...n,...O}},tt={control:{register:ie,unregister:W,getFieldState:X,handleSubmit:ve,setError:xe,_subscribe:ee,_runSchema:T,_getWatch:L,_getDirty:E,_setValid:y,_setFieldArray:b,_setDisabledField:H,_setErrors:w,_getFieldArray:$,_reset:F,_resetDefaultValues:()=>Rs(t.defaultValues)&&t.defaultValues().then(O=>{me(O,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:le,_subjects:h,_proxyFormState:u,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(O){o=O},get _defaultValues(){return s},get _names(){return l},set _names(O){l=O},get _formState(){return n},get _options(){return t},set _options(O){t={...t,...O}}},subscribe:pe,trigger:q,register:ie,handleSubmit:ve,watch:Pe,setValue:S,getValues:C,reset:me,resetField:ne,clearErrors:Q,unregister:W,setError:xe,setFocus:je,getFieldState:X};return{...tt,formControl:tt}}var ko=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},Kj=(e,t,n={})=>n.shouldFocus||dn(n.shouldFocus)?n.focusName||`${e}.${dn(n.focusIndex)?t:n.focusIndex}.`:"",Wj=(e,t)=>[...e,...ca(t)],Hj=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Gj(e,t,n){return[...e.slice(0,t),...ca(n),...e.slice(t)]}var Yj=(e,t,n)=>Array.isArray(e)?(dn(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],Jj=(e,t)=>[...ca(t),...ca(e)];function rpe(e,t){let n=0;const a=[...e];for(const s of t)a.splice(s-n,1),n++;return Tg(a).length?a:[]}var Qj=(e,t)=>dn(t)?[]:rpe(e,ca(t).sort((n,a)=>n-a)),Xj=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},dM=(e,t,n)=>(e[t]=n,e);function ape(e){const t=Og(),{control:n=t.control,name:a,keyName:s="id",shouldUnregister:i,rules:o}=e,[l,c]=U.useState(n._getFieldArray(a)),d=U.useRef(n._getFieldArray(a).map(ko)),u=U.useRef(l),m=U.useRef(a),h=U.useRef(!1);m.current=a,u.current=l,n._names.array.add(a),o&&n.register(a,o),U.useEffect(()=>n._subjects.array.subscribe({next:({values:k,name:P})=>{if(P===m.current||!P){const _=_e(k,m.current);Array.isArray(_)&&(c(_),d.current=_.map(ko))}}}).unsubscribe,[n]);const f=U.useCallback(k=>{h.current=!0,n._setFieldArray(a,k)},[n,a]),g=(k,P)=>{const _=ca(vn(k)),T=Wj(n._getFieldArray(a),_);n._names.focus=Kj(a,T.length-1,P),d.current=Wj(d.current,_.map(ko)),f(T),c(T),n._setFieldArray(a,T,Wj,{argA:Hj(k)})},p=(k,P)=>{const _=ca(vn(k)),T=Jj(n._getFieldArray(a),_);n._names.focus=Kj(a,0,P),d.current=Jj(d.current,_.map(ko)),f(T),c(T),n._setFieldArray(a,T,Jj,{argA:Hj(k)})},x=k=>{const P=Qj(n._getFieldArray(a),k);d.current=Qj(d.current,k),f(P),c(P),!Array.isArray(_e(n._fields,a))&&It(n._fields,a,void 0),n._setFieldArray(a,P,Qj,{argA:k})},y=(k,P,_)=>{const T=ca(vn(P)),I=Gj(n._getFieldArray(a),k,T);n._names.focus=Kj(a,k,_),d.current=Gj(d.current,k,T.map(ko)),f(I),c(I),n._setFieldArray(a,I,Gj,{argA:k,argB:Hj(P)})},v=(k,P)=>{const _=n._getFieldArray(a);Xj(_,k,P),Xj(d.current,k,P),f(_),c(_),n._setFieldArray(a,_,Xj,{argA:k,argB:P},!1)},b=(k,P)=>{const _=n._getFieldArray(a);Yj(_,k,P),Yj(d.current,k,P),f(_),c(_),n._setFieldArray(a,_,Yj,{argA:k,argB:P},!1)},N=(k,P)=>{const _=vn(P),T=dM(n._getFieldArray(a),k,_);d.current=[...T].map((I,A)=>!I||A===k?ko():d.current[A]),f(T),c([...T]),n._setFieldArray(a,T,dM,{argA:k,argB:_},!0,!1)},w=k=>{const P=ca(vn(k));d.current=P.map(ko),f([...P]),c([...P]),n._setFieldArray(a,[...P],_=>_,{},!0,!1)};return U.useEffect(()=>{if(n._state.action=!1,qk(a,n._names)&&n._subjects.state.next({...n._formState}),h.current&&(!Zd(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!Zd(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([a]).then(k=>{const P=_e(k.errors,a),_=_e(n._formState.errors,a);(_?!P&&_.type||P&&(_.type!==P.type||_.message!==P.message):P&&P.type)&&(P?It(n._formState.errors,a,P):Un(n._formState.errors,a),n._subjects.state.next({errors:n._formState.errors}))});else{const k=_e(n._fields,a);k&&k._f&&!(Zd(n._options.reValidateMode).isOnSubmit&&Zd(n._options.mode).isOnSubmit)&&zk(k,n._names.disabled,n._formValues,n._options.criteriaMode===ts.all,n._options.shouldUseNativeValidation,!0).then(P=>!Or(P)&&n._subjects.state.next({errors:e9(n._formState.errors,P,a)}))}n._subjects.state.next({name:a,values:vn(n._formValues)}),n._names.focus&&bu(n._fields,(k,P)=>{if(n._names.focus&&P.startsWith(n._names.focus)&&k.focus)return k.focus(),1}),n._names.focus="",n._setValid(),h.current=!1},[l,a,n]),U.useEffect(()=>(!_e(n._formValues,a)&&n._setFieldArray(a),()=>{const k=(P,_)=>{const T=_e(n._fields,P);T&&T._f&&(T._f.mount=_)};n._options.shouldUnregister||i?n.unregister(a):k(a,!1)}),[a,n,s,i]),{swap:U.useCallback(v,[f,a,n]),move:U.useCallback(b,[f,a,n]),prepend:U.useCallback(p,[f,a,n]),append:U.useCallback(g,[f,a,n]),remove:U.useCallback(x,[f,a,n]),insert:U.useCallback(y,[f,a,n]),update:U.useCallback(N,[f,a,n]),replace:U.useCallback(w,[f,a,n]),fields:U.useMemo(()=>l.map((k,P)=>({...k,[s]:d.current[P]||ko()})),[l,s])}}function Zu(e={}){const t=U.useRef(void 0),n=U.useRef(void 0),[a,s]=U.useState({isDirty:!1,isValidating:!1,isLoading:Rs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Rs(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:npe(e),formState:a},e.formControl&&e.defaultValues&&!Rs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,U.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),U.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),U.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),U.useEffect(()=>{e.values&&!Lo(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),U.useEffect(()=>{e.errors&&!Or(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),U.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),U.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=Kq(a,i),t.current}const uM=(e,t,n)=>{if(e&&"reportValidity"in e){const a=_e(n,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},t9=(e,t)=>{for(const n in t.fields){const a=t.fields[n];a&&a.ref&&"reportValidity"in a.ref?uM(a.ref,n,e):a.refs&&a.refs.forEach(s=>uM(s,n,e))}},spe=(e,t)=>{t.shouldUseNativeValidation&&t9(e,t);const n={};for(const a in e){const s=_e(t.fields,a),i=Object.assign(e[a]||{},{ref:s&&s.ref});if(ipe(t.names||Object.keys(e),a)){const o=Object.assign({},_e(n,a));It(o,"root",i),It(n,a,o)}else It(n,a,i)}return n},ipe=(e,t)=>e.some(n=>n.startsWith(t+"."));var ope=function(e,t){for(var n={};e.length;){var a=e[0],s=a.code,i=a.message,o=a.path.join(".");if(!n[o])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in a&&a.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return e.push(m)})}),t){var c=n[o].types,d=c&&c[a.code];n[o]=Hq(o,t,n,s,d?[].concat(d,a.message):a.message)}e.shift()}return n},em=function(e,t,n){return n===void 0&&(n={}),function(a,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(d){return i.shouldUseNativeValidation&&t9({},i),{errors:{},values:n.raw?a:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:spe(ope(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ot;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=a,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ot||(Ot={}));var Kk;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Kk||(Kk={}));const Fe=Ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mi=e=>{switch(typeof e){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return isNaN(e)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(e)?Fe.array:e===null?Fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Fe.promise:typeof Map<"u"&&e instanceof Map?Fe.map:typeof Set<"u"&&e instanceof Set?Fe.set:typeof Date<"u"&&e instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},be=Ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),lpe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ia extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},a={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)a._errors.push(n(o));else{let l=a,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),a}static assert(t){if(!(t instanceof Ia))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},a=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):a.push(t(s));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}Ia.create=e=>new Ia(e);const tm=(e,t)=>{let n;switch(e.code){case be.invalid_type:e.received===Fe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ot.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ot.joinValues(e.keys,", ")}`;break;case be.invalid_union:n="Invalid input";break;case be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ot.joinValues(e.options)}`;break;case be.invalid_enum_value:n=`Invalid enum value. Expected ${Ot.joinValues(e.options)}, received '${e.received}'`;break;case be.invalid_arguments:n="Invalid function arguments";break;case be.invalid_return_type:n="Invalid function return type";break;case be.invalid_date:n="Invalid date";break;case be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ot.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case be.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case be.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case be.custom:n="Invalid input";break;case be.invalid_intersection_types:n="Intersection results could not be merged";break;case be.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case be.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ot.assertNever(e)}return{message:n}};let n9=tm;function cpe(e){n9=e}function wv(){return n9}const jv=e=>{const{data:t,path:n,errorMaps:a,issueData:s}=e,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}},dpe=[];function Re(e,t){const n=wv(),a=jv({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===tm?void 0:tm].filter(s=>!!s)});e.common.issues.push(a)}class Fr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const a=[];for(const s of n){if(s.status==="aborted")return et;s.status==="dirty"&&t.dirty(),a.push(s.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,n){const a=[];for(const s of n){const i=await s.key,o=await s.value;a.push({key:i,value:o})}return Fr.mergeObjectSync(t,a)}static mergeObjectSync(t,n){const a={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return et;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(a[i.value]=o.value)}return{status:t.value,value:a}}}const et=Object.freeze({status:"aborted"}),eu=e=>({status:"dirty",value:e}),Zr=e=>({status:"valid",value:e}),Wk=e=>e.status==="aborted",Hk=e=>e.status==="dirty",Jc=e=>e.status==="valid",np=e=>typeof Promise<"u"&&e instanceof Promise;function Nv(e,t,n,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function r9(e,t,n,a,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var ze;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ze||(ze={}));var Hh,Gh;class yi{constructor(t,n,a,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=a,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mM=(e,t)=>{if(Jc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ia(e.common.issues);return this._error=n,this._error}}};function ht(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:a,description:s}=e;if(t&&(n||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??a)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??n)!==null&&d!==void 0?d:l.defaultError}},description:s}}class bt{get description(){return this._def.description}_getType(t){return Mi(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Mi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Fr,ctx:{common:t.parent.common,data:t.data,parsedType:Mi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(np(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const a=this.safeParse(t,n);if(a.success)return a.data;throw a.error}safeParse(t,n){var a;const s={common:{issues:[],async:(a=n==null?void 0:n.async)!==null&&a!==void 0?a:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Mi(t)},i=this._parseSync({data:t,path:s.path,parent:s});return mM(s,i)}"~validate"(t){var n,a;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Mi(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return Jc(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((a=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||a===void 0)&&a.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>Jc(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,n){const a=await this.safeParseAsync(t,n);if(a.success)return a.data;throw a.error}async safeParseAsync(t,n){const a={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Mi(t)},s=this._parse({data:t,path:a.path,parent:a}),i=await(np(s)?s:Promise.resolve(s));return mM(a,i)}refine(t,n){const a=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:be.custom,...a(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((a,s)=>t(a)?!0:(s.addIssue(typeof n=="function"?n(a,s):n),!1))}_refinement(t){return new Hs({schema:this,typeName:Ze.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return hi.create(this,this._def)}nullable(){return Ol.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Us.create(this)}promise(){return rm.create(this,this._def)}or(t){return ip.create([this,t],this._def)}and(t){return op.create(this,t,this._def)}transform(t){return new Hs({...ht(this._def),schema:this,typeName:Ze.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new mp({...ht(this._def),innerType:this,defaultValue:n,typeName:Ze.ZodDefault})}brand(){return new TC({typeName:Ze.ZodBranded,type:this,...ht(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new hp({...ht(this._def),innerType:this,catchValue:n,typeName:Ze.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Eg.create(this,t)}readonly(){return fp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const upe=/^c[^\s-]{8,}$/i,mpe=/^[0-9a-z]+$/,hpe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,fpe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ppe=/^[a-z0-9_-]{21}$/i,gpe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xpe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ype=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vpe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Zj;const bpe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wpe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,jpe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Npe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kpe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ppe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,a9="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Spe=new RegExp(`^${a9}$`);function s9(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function _pe(e){return new RegExp(`^${s9(e)}$`)}function i9(e){let t=`${a9}T${s9(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Cpe(e,t){return!!((t==="v4"||!t)&&bpe.test(e)||(t==="v6"||!t)&&jpe.test(e))}function Ape(e,t){if(!gpe.test(e))return!1;try{const[n]=e.split("."),a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function Tpe(e,t){return!!((t==="v4"||!t)&&wpe.test(e)||(t==="v6"||!t)&&Npe.test(e))}class Ls extends bt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Fe.string){const i=this._getOrReturnCtx(t);return Re(i,{code:be.invalid_type,expected:Fe.string,received:i.parsedType}),et}const a=new Fr;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Re(s,{code:be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Re(s,{code:be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Re(s,{code:be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Re(s,{code:be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")ype.test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"email",code:be.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")Zj||(Zj=new RegExp(vpe,"u")),Zj.test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"emoji",code:be.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")fpe.test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"uuid",code:be.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")ppe.test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"nanoid",code:be.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")upe.test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"cuid",code:be.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")mpe.test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"cuid2",code:be.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")hpe.test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"ulid",code:be.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Re(s,{validation:"url",code:be.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"regex",code:be.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Re(s,{code:be.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Re(s,{code:be.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Re(s,{code:be.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?i9(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{code:be.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?Spe.test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{code:be.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?_pe(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{code:be.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?xpe.test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"duration",code:be.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?Cpe(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"ip",code:be.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?Ape(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"jwt",code:be.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?Tpe(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"cidr",code:be.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?kpe.test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"base64",code:be.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?Ppe.test(t.data)||(s=this._getOrReturnCtx(t,s),Re(s,{validation:"base64url",code:be.invalid_string,message:i.message}),a.dirty()):Ot.assertNever(i);return{status:a.value,value:t.data}}_regex(t,n,a){return this.refinement(s=>t.test(s),{validation:n,code:be.invalid_string,...ze.errToObj(a)})}_addCheck(t){return new Ls({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ze.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ze.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ze.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ze.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ze.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ze.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ze.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ze.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ze.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ze.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ze.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ze.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ze.errToObj(t)})}datetime(t){var n,a;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(a=t==null?void 0:t.local)!==null&&a!==void 0?a:!1,...ze.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ze.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ze.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ze.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ze.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ze.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ze.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ze.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ze.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ze.errToObj(n)})}nonempty(t){return this.min(1,ze.errToObj(t))}trim(){return new Ls({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ls({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ls({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ls.create=e=>{var t;return new Ls({checks:[],typeName:Ze.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ht(e)})};function Ope(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,s=n>a?n:a,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Cl extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Fe.number){const i=this._getOrReturnCtx(t);return Re(i,{code:be.invalid_type,expected:Fe.number,received:i.parsedType}),et}let a;const s=new Fr;for(const i of this._def.checks)i.kind==="int"?Ot.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{code:be.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(a=this._getOrReturnCtx(t,a),Re(a,{code:be.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(a=this._getOrReturnCtx(t,a),Re(a,{code:be.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Ope(t.data,i.value)!==0&&(a=this._getOrReturnCtx(t,a),Re(a,{code:be.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),Re(a,{code:be.not_finite,message:i.message}),s.dirty()):Ot.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ze.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ze.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ze.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ze.toString(n))}setLimit(t,n,a,s){return new Cl({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:a,message:ze.toString(s)}]})}_addCheck(t){return new Cl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ze.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ze.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ze.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ze.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ze.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ze.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ot.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(n===null||a.value>n)&&(n=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Cl.create=e=>new Cl({checks:[],typeName:Ze.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ht(e)});class Al extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Fe.bigint)return this._getInvalidInput(t);let a;const s=new Fr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(a=this._getOrReturnCtx(t,a),Re(a,{code:be.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(a=this._getOrReturnCtx(t,a),Re(a,{code:be.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),Re(a,{code:be.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ot.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Re(n,{code:be.invalid_type,expected:Fe.bigint,received:n.parsedType}),et}gte(t,n){return this.setLimit("min",t,!0,ze.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ze.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ze.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ze.toString(n))}setLimit(t,n,a,s){return new Al({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:a,message:ze.toString(s)}]})}_addCheck(t){return new Al({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ze.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ze.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Al.create=e=>{var t;return new Al({checks:[],typeName:Ze.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ht(e)})};class rp extends bt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Fe.boolean){const a=this._getOrReturnCtx(t);return Re(a,{code:be.invalid_type,expected:Fe.boolean,received:a.parsedType}),et}return Zr(t.data)}}rp.create=e=>new rp({typeName:Ze.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ht(e)});class Qc extends bt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Fe.date){const i=this._getOrReturnCtx(t);return Re(i,{code:be.invalid_type,expected:Fe.date,received:i.parsedType}),et}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Re(i,{code:be.invalid_date}),et}const a=new Fr;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Re(s,{code:be.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Re(s,{code:be.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):Ot.assertNever(i);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Qc({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ze.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ze.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Qc.create=e=>new Qc({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ze.ZodDate,...ht(e)});class kv extends bt{_parse(t){if(this._getType(t)!==Fe.symbol){const a=this._getOrReturnCtx(t);return Re(a,{code:be.invalid_type,expected:Fe.symbol,received:a.parsedType}),et}return Zr(t.data)}}kv.create=e=>new kv({typeName:Ze.ZodSymbol,...ht(e)});class ap extends bt{_parse(t){if(this._getType(t)!==Fe.undefined){const a=this._getOrReturnCtx(t);return Re(a,{code:be.invalid_type,expected:Fe.undefined,received:a.parsedType}),et}return Zr(t.data)}}ap.create=e=>new ap({typeName:Ze.ZodUndefined,...ht(e)});class sp extends bt{_parse(t){if(this._getType(t)!==Fe.null){const a=this._getOrReturnCtx(t);return Re(a,{code:be.invalid_type,expected:Fe.null,received:a.parsedType}),et}return Zr(t.data)}}sp.create=e=>new sp({typeName:Ze.ZodNull,...ht(e)});class nm extends bt{constructor(){super(...arguments),this._any=!0}_parse(t){return Zr(t.data)}}nm.create=e=>new nm({typeName:Ze.ZodAny,...ht(e)});class Rc extends bt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Zr(t.data)}}Rc.create=e=>new Rc({typeName:Ze.ZodUnknown,...ht(e)});class so extends bt{_parse(t){const n=this._getOrReturnCtx(t);return Re(n,{code:be.invalid_type,expected:Fe.never,received:n.parsedType}),et}}so.create=e=>new so({typeName:Ze.ZodNever,...ht(e)});class Pv extends bt{_parse(t){if(this._getType(t)!==Fe.undefined){const a=this._getOrReturnCtx(t);return Re(a,{code:be.invalid_type,expected:Fe.void,received:a.parsedType}),et}return Zr(t.data)}}Pv.create=e=>new Pv({typeName:Ze.ZodVoid,...ht(e)});class Us extends bt{_parse(t){const{ctx:n,status:a}=this._processInputParams(t),s=this._def;if(n.parsedType!==Fe.array)return Re(n,{code:be.invalid_type,expected:Fe.array,received:n.parsedType}),et;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(Re(n,{code:o?be.too_big:be.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Re(n,{code:be.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Re(n,{code:be.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new yi(n,o,n.path,l)))).then(o=>Fr.mergeArray(a,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new yi(n,o,n.path,l)));return Fr.mergeArray(a,i)}get element(){return this._def.type}min(t,n){return new Us({...this._def,minLength:{value:t,message:ze.toString(n)}})}max(t,n){return new Us({...this._def,maxLength:{value:t,message:ze.toString(n)}})}length(t,n){return new Us({...this._def,exactLength:{value:t,message:ze.toString(n)}})}nonempty(t){return this.min(1,t)}}Us.create=(e,t)=>new Us({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ze.ZodArray,...ht(t)});function Md(e){if(e instanceof bn){const t={};for(const n in e.shape){const a=e.shape[n];t[n]=hi.create(Md(a))}return new bn({...e._def,shape:()=>t})}else return e instanceof Us?new Us({...e._def,type:Md(e.element)}):e instanceof hi?hi.create(Md(e.unwrap())):e instanceof Ol?Ol.create(Md(e.unwrap())):e instanceof vi?vi.create(e.items.map(t=>Md(t))):e}class bn extends bt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ot.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Fe.object){const d=this._getOrReturnCtx(t);return Re(d,{code:be.invalid_type,expected:Fe.object,received:d.parsedType}),et}const{status:a,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof so&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],m=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new yi(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof so){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(d==="strict")l.length>0&&(Re(s,{code:be.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const m=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new yi(s,m,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const m=await u.key,h=await u.value;d.push({key:m,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>Fr.mergeObjectSync(a,d)):Fr.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(t){return ze.errToObj,new bn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,a)=>{var s,i,o,l;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,a).message)!==null&&o!==void 0?o:a.defaultError;return n.code==="unrecognized_keys"?{message:(l=ze.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new bn({...this._def,unknownKeys:"strip"})}passthrough(){return new bn({...this._def,unknownKeys:"passthrough"})}extend(t){return new bn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new bn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ze.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new bn({...this._def,catchall:t})}pick(t){const n={};return Ot.objectKeys(t).forEach(a=>{t[a]&&this.shape[a]&&(n[a]=this.shape[a])}),new bn({...this._def,shape:()=>n})}omit(t){const n={};return Ot.objectKeys(this.shape).forEach(a=>{t[a]||(n[a]=this.shape[a])}),new bn({...this._def,shape:()=>n})}deepPartial(){return Md(this)}partial(t){const n={};return Ot.objectKeys(this.shape).forEach(a=>{const s=this.shape[a];t&&!t[a]?n[a]=s:n[a]=s.optional()}),new bn({...this._def,shape:()=>n})}required(t){const n={};return Ot.objectKeys(this.shape).forEach(a=>{if(t&&!t[a])n[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof hi;)i=i._def.innerType;n[a]=i}}),new bn({...this._def,shape:()=>n})}keyof(){return o9(Ot.objectKeys(this.shape))}}bn.create=(e,t)=>new bn({shape:()=>e,unknownKeys:"strip",catchall:so.create(),typeName:Ze.ZodObject,...ht(t)});bn.strictCreate=(e,t)=>new bn({shape:()=>e,unknownKeys:"strict",catchall:so.create(),typeName:Ze.ZodObject,...ht(t)});bn.lazycreate=(e,t)=>new bn({shape:e,unknownKeys:"strip",catchall:so.create(),typeName:Ze.ZodObject,...ht(t)});class ip extends bt{_parse(t){const{ctx:n}=this._processInputParams(t),a=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ia(l.ctx.common.issues));return Re(n,{code:be.invalid_union,unionErrors:o}),et}if(n.common.async)return Promise.all(a.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of a){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Ia(c));return Re(n,{code:be.invalid_union,unionErrors:l}),et}}get options(){return this._def.options}}ip.create=(e,t)=>new ip({options:e,typeName:Ze.ZodUnion,...ht(t)});const Ai=e=>e instanceof cp?Ai(e.schema):e instanceof Hs?Ai(e.innerType()):e instanceof dp?[e.value]:e instanceof Tl?e.options:e instanceof up?Ot.objectValues(e.enum):e instanceof mp?Ai(e._def.innerType):e instanceof ap?[void 0]:e instanceof sp?[null]:e instanceof hi?[void 0,...Ai(e.unwrap())]:e instanceof Ol?[null,...Ai(e.unwrap())]:e instanceof TC||e instanceof fp?Ai(e.unwrap()):e instanceof hp?Ai(e._def.innerType):[];class D0 extends bt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.object)return Re(n,{code:be.invalid_type,expected:Fe.object,received:n.parsedType}),et;const a=this.discriminator,s=n.data[a],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Re(n,{code:be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),et)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,a){const s=new Map;for(const i of n){const o=Ai(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,i)}}return new D0({typeName:Ze.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...ht(a)})}}function Gk(e,t){const n=Mi(e),a=Mi(t);if(e===t)return{valid:!0,data:e};if(n===Fe.object&&a===Fe.object){const s=Ot.objectKeys(t),i=Ot.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Gk(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Fe.array&&a===Fe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Gk(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Fe.date&&a===Fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class op extends bt{_parse(t){const{status:n,ctx:a}=this._processInputParams(t),s=(i,o)=>{if(Wk(i)||Wk(o))return et;const l=Gk(i.value,o.value);return l.valid?((Hk(i)||Hk(o))&&n.dirty(),{status:n.value,value:l.data}):(Re(a,{code:be.invalid_intersection_types}),et)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}op.create=(e,t,n)=>new op({left:e,right:t,typeName:Ze.ZodIntersection,...ht(n)});class vi extends bt{_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==Fe.array)return Re(a,{code:be.invalid_type,expected:Fe.array,received:a.parsedType}),et;if(a.data.length<this._def.items.length)return Re(a,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),et;!this._def.rest&&a.data.length>this._def.items.length&&(Re(a,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...a.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new yi(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>Fr.mergeArray(n,o)):Fr.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new vi({...this._def,rest:t})}}vi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vi({items:e,typeName:Ze.ZodTuple,rest:null,...ht(t)})};class lp extends bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==Fe.object)return Re(a,{code:be.invalid_type,expected:Fe.object,received:a.parsedType}),et;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in a.data)s.push({key:i._parse(new yi(a,l,a.path,l)),value:o._parse(new yi(a,a.data[l],a.path,l)),alwaysSet:l in a.data});return a.common.async?Fr.mergeObjectAsync(n,s):Fr.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,a){return n instanceof bt?new lp({keyType:t,valueType:n,typeName:Ze.ZodRecord,...ht(a)}):new lp({keyType:Ls.create(),valueType:t,typeName:Ze.ZodRecord,...ht(n)})}}class Sv extends bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==Fe.map)return Re(a,{code:be.invalid_type,expected:Fe.map,received:a.parsedType}),et;const s=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([l,c],d)=>({key:s._parse(new yi(a,l,a.path,[d,"key"])),value:i._parse(new yi(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return et;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return et;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}Sv.create=(e,t,n)=>new Sv({valueType:t,keyType:e,typeName:Ze.ZodMap,...ht(n)});class Xc extends bt{_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==Fe.set)return Re(a,{code:be.invalid_type,expected:Fe.set,received:a.parsedType}),et;const s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(Re(a,{code:be.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(Re(a,{code:be.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return et;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...a.data.values()].map((c,d)=>i._parse(new yi(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Xc({...this._def,minSize:{value:t,message:ze.toString(n)}})}max(t,n){return new Xc({...this._def,maxSize:{value:t,message:ze.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Xc.create=(e,t)=>new Xc({valueType:e,minSize:null,maxSize:null,typeName:Ze.ZodSet,...ht(t)});class wu extends bt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.function)return Re(n,{code:be.invalid_type,expected:Fe.function,received:n.parsedType}),et;function a(l,c){return jv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,wv(),tm].filter(d=>!!d),issueData:{code:be.invalid_arguments,argumentsError:c}})}function s(l,c){return jv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,wv(),tm].filter(d=>!!d),issueData:{code:be.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof rm){const l=this;return Zr(async function(...c){const d=new Ia([]),u=await l._def.args.parseAsync(c,i).catch(f=>{throw d.addIssue(a(c,f)),d}),m=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(m,i).catch(f=>{throw d.addIssue(s(m,f)),d})})}else{const l=this;return Zr(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new Ia([a(c,d.error)]);const u=Reflect.apply(o,this,d.data),m=l._def.returns.safeParse(u,i);if(!m.success)throw new Ia([s(u,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new wu({...this._def,args:vi.create(t).rest(Rc.create())})}returns(t){return new wu({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,a){return new wu({args:t||vi.create([]).rest(Rc.create()),returns:n||Rc.create(),typeName:Ze.ZodFunction,...ht(a)})}}class cp extends bt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}cp.create=(e,t)=>new cp({getter:e,typeName:Ze.ZodLazy,...ht(t)});class dp extends bt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Re(n,{received:n.data,code:be.invalid_literal,expected:this._def.value}),et}return{status:"valid",value:t.data}}get value(){return this._def.value}}dp.create=(e,t)=>new dp({value:e,typeName:Ze.ZodLiteral,...ht(t)});function o9(e,t){return new Tl({values:e,typeName:Ze.ZodEnum,...ht(t)})}class Tl extends bt{constructor(){super(...arguments),Hh.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),a=this._def.values;return Re(n,{expected:Ot.joinValues(a),received:n.parsedType,code:be.invalid_type}),et}if(Nv(this,Hh)||r9(this,Hh,new Set(this._def.values)),!Nv(this,Hh).has(t.data)){const n=this._getOrReturnCtx(t),a=this._def.values;return Re(n,{received:n.data,code:be.invalid_enum_value,options:a}),et}return Zr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Tl.create(t,{...this._def,...n})}exclude(t,n=this._def){return Tl.create(this.options.filter(a=>!t.includes(a)),{...this._def,...n})}}Hh=new WeakMap;Tl.create=o9;class up extends bt{constructor(){super(...arguments),Gh.set(this,void 0)}_parse(t){const n=Ot.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==Fe.string&&a.parsedType!==Fe.number){const s=Ot.objectValues(n);return Re(a,{expected:Ot.joinValues(s),received:a.parsedType,code:be.invalid_type}),et}if(Nv(this,Gh)||r9(this,Gh,new Set(Ot.getValidEnumValues(this._def.values))),!Nv(this,Gh).has(t.data)){const s=Ot.objectValues(n);return Re(a,{received:a.data,code:be.invalid_enum_value,options:s}),et}return Zr(t.data)}get enum(){return this._def.values}}Gh=new WeakMap;up.create=(e,t)=>new up({values:e,typeName:Ze.ZodNativeEnum,...ht(t)});class rm extends bt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.promise&&n.common.async===!1)return Re(n,{code:be.invalid_type,expected:Fe.promise,received:n.parsedType}),et;const a=n.parsedType===Fe.promise?n.data:Promise.resolve(n.data);return Zr(a.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}rm.create=(e,t)=>new rm({type:e,typeName:Ze.ZodPromise,...ht(t)});class Hs extends bt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:a}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Re(a,o),o.fatal?n.abort():n.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return et;const c=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?et:c.status==="dirty"||n.value==="dirty"?eu(c.value):c});{if(n.value==="aborted")return et;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?et:l.status==="dirty"||n.value==="dirty"?eu(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?et:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?et:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Jc(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>Jc(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);Ot.assertNever(s)}}Hs.create=(e,t,n)=>new Hs({schema:e,typeName:Ze.ZodEffects,effect:t,...ht(n)});Hs.createWithPreprocess=(e,t,n)=>new Hs({schema:t,effect:{type:"preprocess",transform:e},typeName:Ze.ZodEffects,...ht(n)});class hi extends bt{_parse(t){return this._getType(t)===Fe.undefined?Zr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}hi.create=(e,t)=>new hi({innerType:e,typeName:Ze.ZodOptional,...ht(t)});class Ol extends bt{_parse(t){return this._getType(t)===Fe.null?Zr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ol.create=(e,t)=>new Ol({innerType:e,typeName:Ze.ZodNullable,...ht(t)});class mp extends bt{_parse(t){const{ctx:n}=this._processInputParams(t);let a=n.data;return n.parsedType===Fe.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}mp.create=(e,t)=>new mp({innerType:e,typeName:Ze.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ht(t)});class hp extends bt{_parse(t){const{ctx:n}=this._processInputParams(t),a={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return np(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ia(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ia(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}hp.create=(e,t)=>new hp({innerType:e,typeName:Ze.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ht(t)});class _v extends bt{_parse(t){if(this._getType(t)!==Fe.nan){const a=this._getOrReturnCtx(t);return Re(a,{code:be.invalid_type,expected:Fe.nan,received:a.parsedType}),et}return{status:"valid",value:t.data}}}_v.create=e=>new _v({typeName:Ze.ZodNaN,...ht(e)});const Epe=Symbol("zod_brand");class TC extends bt{_parse(t){const{ctx:n}=this._processInputParams(t),a=n.data;return this._def.type._parse({data:a,path:n.path,parent:n})}unwrap(){return this._def.type}}class Eg extends bt{_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?et:i.status==="dirty"?(n.dirty(),eu(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?et:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(t,n){return new Eg({in:t,out:n,typeName:Ze.ZodPipeline})}}class fp extends bt{_parse(t){const n=this._def.innerType._parse(t),a=s=>(Jc(s)&&(s.value=Object.freeze(s.value)),s);return np(n)?n.then(s=>a(s)):a(n)}unwrap(){return this._def.innerType}}fp.create=(e,t)=>new fp({innerType:e,typeName:Ze.ZodReadonly,...ht(t)});function hM(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function l9(e,t={},n){return e?nm.create().superRefine((a,s)=>{var i,o;const l=e(a);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const m=hM(t,a),h=(u=(d=m.fatal)!==null&&d!==void 0?d:n)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...m,fatal:h})}});if(!l){const c=hM(t,a),d=(o=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:d})}}):nm.create()}const Rpe={object:bn.lazycreate};var Ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ze||(Ze={}));const Mpe=(e,t={message:`Input not instance of ${e.name}`})=>l9(n=>n instanceof e,t),c9=Ls.create,d9=Cl.create,Dpe=_v.create,Ipe=Al.create,u9=rp.create,Lpe=Qc.create,$pe=kv.create,Fpe=ap.create,Bpe=sp.create,Upe=nm.create,Vpe=Rc.create,qpe=so.create,zpe=Pv.create,Kpe=Us.create,Wpe=bn.create,Hpe=bn.strictCreate,Gpe=ip.create,Ype=D0.create,Jpe=op.create,Qpe=vi.create,Xpe=lp.create,Zpe=Sv.create,ege=Xc.create,tge=wu.create,nge=cp.create,rge=dp.create,age=Tl.create,sge=up.create,ige=rm.create,fM=Hs.create,oge=hi.create,lge=Ol.create,cge=Hs.createWithPreprocess,dge=Eg.create,uge=()=>c9().optional(),mge=()=>d9().optional(),hge=()=>u9().optional(),fge={string:e=>Ls.create({...e,coerce:!0}),number:e=>Cl.create({...e,coerce:!0}),boolean:e=>rp.create({...e,coerce:!0}),bigint:e=>Al.create({...e,coerce:!0}),date:e=>Qc.create({...e,coerce:!0})},pge=et;var rt=Object.freeze({__proto__:null,defaultErrorMap:tm,setErrorMap:cpe,getErrorMap:wv,makeIssue:jv,EMPTY_PATH:dpe,addIssueToContext:Re,ParseStatus:Fr,INVALID:et,DIRTY:eu,OK:Zr,isAborted:Wk,isDirty:Hk,isValid:Jc,isAsync:np,get util(){return Ot},get objectUtil(){return Kk},ZodParsedType:Fe,getParsedType:Mi,ZodType:bt,datetimeRegex:i9,ZodString:Ls,ZodNumber:Cl,ZodBigInt:Al,ZodBoolean:rp,ZodDate:Qc,ZodSymbol:kv,ZodUndefined:ap,ZodNull:sp,ZodAny:nm,ZodUnknown:Rc,ZodNever:so,ZodVoid:Pv,ZodArray:Us,ZodObject:bn,ZodUnion:ip,ZodDiscriminatedUnion:D0,ZodIntersection:op,ZodTuple:vi,ZodRecord:lp,ZodMap:Sv,ZodSet:Xc,ZodFunction:wu,ZodLazy:cp,ZodLiteral:dp,ZodEnum:Tl,ZodNativeEnum:up,ZodPromise:rm,ZodEffects:Hs,ZodTransformer:Hs,ZodOptional:hi,ZodNullable:Ol,ZodDefault:mp,ZodCatch:hp,ZodNaN:_v,BRAND:Epe,ZodBranded:TC,ZodPipeline:Eg,ZodReadonly:fp,custom:l9,Schema:bt,ZodSchema:bt,late:Rpe,get ZodFirstPartyTypeKind(){return Ze},coerce:fge,any:Upe,array:Kpe,bigint:Ipe,boolean:u9,date:Lpe,discriminatedUnion:Ype,effect:fM,enum:age,function:tge,instanceof:Mpe,intersection:Jpe,lazy:nge,literal:rge,map:Zpe,nan:Dpe,nativeEnum:sge,never:qpe,null:Bpe,nullable:lge,number:d9,object:Wpe,oboolean:hge,onumber:mge,optional:oge,ostring:uge,pipeline:dge,preprocess:cge,promise:ige,record:Xpe,set:ege,strictObject:Hpe,string:c9,symbol:$pe,transformer:fM,tuple:Qpe,undefined:Fpe,union:Gpe,unknown:Vpe,void:zpe,NEVER:pge,ZodIssueCode:be,quotelessJson:lpe,ZodError:Ia});const Cv=j.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:Ce("w-full caption-bottom text-sm",e),...t})}));Cv.displayName="Table";const Av=j.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:Ce("[&_tr]:border-b",e),...t}));Av.displayName="TableHeader";const Tv=j.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:Ce("[&_tr:last-child]:border-0",e),...t}));Tv.displayName="TableBody";const gge=j.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:Ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));gge.displayName="TableFooter";const gc=j.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:Ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));gc.displayName="TableRow";const zn=j.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:Ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));zn.displayName="TableHead";const Kn=j.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:Ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Kn.displayName="TableCell";const xge=j.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:Ce("mt-4 text-sm text-muted-foreground",e),...t}));xge.displayName="TableCaption";const am=Bfe,m9=j.createContext({}),wt=({...e})=>r.jsx(m9.Provider,{value:{name:e.name},children:r.jsx(zfe,{...e})}),I0=()=>{const e=j.useContext(m9),t=j.useContext(h9),{getFieldState:n,formState:a}=Og(),s=n(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},h9=j.createContext({}),yt=j.forwardRef(({className:e,...t},n)=>{const a=j.useId();return r.jsx(h9.Provider,{value:{id:a},children:r.jsx("div",{ref:n,className:Ce("space-y-2",e),...t})})});yt.displayName="FormItem";const gt=j.forwardRef(({className:e,...t},n)=>{const{error:a,formItemId:s}=I0();return r.jsx(Be,{ref:n,className:Ce(a&&"text-destructive",e),htmlFor:s,...t})});gt.displayName="FormLabel";const vt=j.forwardRef(({...e},t)=>{const{error:n,formItemId:a,formDescriptionId:s,formMessageId:i}=I0();return r.jsx(_$,{ref:t,id:a,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});vt.displayName="FormControl";const f9=j.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:a}=I0();return r.jsx("p",{ref:n,id:a,className:Ce("text-sm text-muted-foreground",e),...t})});f9.displayName="FormDescription";const jt=j.forwardRef(({className:e,children:t,...n},a)=>{const{error:s,formMessageId:i}=I0(),o=s?String((s==null?void 0:s.message)??""):t;return o?r.jsx("p",{ref:a,id:i,className:Ce("text-sm font-medium text-destructive",e),...n,children:o}):null});jt.displayName="FormMessage";const yge=rt.object({name:rt.string().min(1,""),nameEn:rt.string().optional(),description:rt.string().min(1,""),price:rt.coerce.number().min(1,"0"),priceUnit:rt.string().default(""),image:rt.string().default("/pics/product-placeholder.jpg"),category:rt.string().min(1,""),featured:rt.boolean().default(!1)}),vge=rt.object({name:rt.string().min(1,""),nameEn:rt.string().optional(),description:rt.string().optional(),color:rt.string().default("emerald")});function bge(){const{t:e}=ct(),{toast:t}=Wt(),n=j.useRef(null),[a,s]=j.useState(!1),[i,o]=j.useState(""),[l,c]=j.useState("all"),[d,u]=j.useState("grid"),[m,h]=j.useState("bundles"),[f,g]=j.useState(!1),[p,x]=j.useState(!1),[y,v]=j.useState(!1),[b,N]=j.useState(!1),[w,k]=j.useState(null),[P,_]=j.useState(!1),[T,I]=j.useState(null),[A,R]=j.useState(null),E=Sn(),{data:L=[],isLoading:$}=Le({queryKey:["admin-bundles"],queryFn:async()=>{const{data:O,error:Z}=await Y.from("product_bundles").select("*").order("sort_order",{ascending:!0});return Z?(console.error("Error fetching bundles:",Z),[]):O}}),B=L.filter(O=>{var Z;return i===""||O.name.toLowerCase().includes(i.toLowerCase())||((Z=O.name_en)==null?void 0:Z.toLowerCase().includes(i.toLowerCase()))}),K=Ie({mutationFn:async O=>{const{error:Z}=await Y.from("product_bundles").update({...O,updated_at:new Date().toISOString()}).eq("id",O.id);if(Z)throw Z},onSuccess:()=>{E.invalidateQueries({queryKey:["admin-bundles"]}),t({title:""}),_(!1)},onError:O=>{t({title:"",description:O.message,variant:"destructive"})}}),S=(O,Z)=>{K.mutate({id:O.id,[Z]:!O[Z]})},D={total:L.length,active:L.filter(O=>O.is_active).length,featured:L.filter(O=>O.is_featured).length},{data:G=[]}=Le({queryKey:["product-categories"],queryFn:async()=>{const{data:O,error:Z}=await Y.from("product_categories").select("*").order("created_at",{ascending:!0});return Z?(console.error("Error fetching categories:",Z),[]):(O||[]).map(z=>({id:z.id,name:z.name,nameEn:z.name_en,description:z.description,color:z.color||"emerald"}))}}),q=Zu({resolver:em(yge),defaultValues:{name:"",nameEn:"",description:"",price:0,priceUnit:"",image:"/pics/product-placeholder.jpg",category:"",featured:!1}}),C=Zu({resolver:em(vge),defaultValues:{name:"",nameEn:"",description:"",color:"emerald"}}),{data:X,isLoading:Q}=Le({queryKey:["admin-products"],queryFn:async()=>{const{data:O,error:Z}=await Y.from("products").select("*").order("created_at",{ascending:!1});return Z?(console.error("Error fetching products:",Z),[]):(O||[]).map(z=>({id:z.id,name:z.name,nameEn:z.name_en,description:z.description,price:z.price,priceUnit:z.price_unit,image:z.image,category:z.category,featured:z.featured,erpnextItemCode:z.erpnext_item_code||null}))}}),xe=(X==null?void 0:X.filter(O=>{var ce;const Z=i===""||O.name.toLowerCase().includes(i.toLowerCase())||((ce=O.nameEn)==null?void 0:ce.toLowerCase().includes(i.toLowerCase())),z=l==="all"||O.category===l;return Z&&z}))||[],Pe=O=>{const Z=G.find(z=>z.id===O);return(Z==null?void 0:Z.name)||O},ee=O=>{const Z={emerald:"bg-emerald-500/10 text-emerald-600 border-emerald-200",amber:"bg-amber-500/10 text-amber-600 border-amber-200",rose:"bg-rose-500/10 text-rose-600 border-rose-200",blue:"bg-blue-500/10 text-blue-600 border-blue-200"};return Z[O]||Z.emerald},pe=O=>{I(O),C.reset({name:O.name,nameEn:O.nameEn,description:O.description,color:O.color}),g(!0)},W=()=>{I(null),C.reset({name:"",nameEn:"",description:"",color:"emerald"}),g(!0)},H=()=>{R(null),q.reset({name:"",nameEn:"",description:"",price:0,priceUnit:"",image:"/pics/product-placeholder.jpg",category:"",featured:!1}),x(!0)},ie=O=>{R(O),q.reset({name:O.name,nameEn:O.nameEn||"",description:O.description,price:O.price,priceUnit:O.priceUnit||"",image:O.image,category:O.category,featured:O.featured||!1}),x(!0)},ae=O=>{R(O),v(!0)},le=O=>{R(O),N(!0)},ve=async O=>{var ce;const Z=(ce=O.target.files)==null?void 0:ce[0];if(!Z)return;if(!["image/jpeg","image/png","image/webp"].includes(Z.type)){t({title:"",description:" JPG, PNG  WebP ",variant:"destructive"});return}if(Z.size>5*1024*1024){t({title:"",description:" 5MB",variant:"destructive"});return}s(!0);try{const he=Z.name.split(".").pop()||"jpg",ge=`products/${crypto.randomUUID()}.${he}`,{error:Me}=await Y.storage.from("product-images").upload(ge,Z);if(Me)throw Me;const{data:at}=Y.storage.from("product-images").getPublicUrl(ge);q.setValue("image",at.publicUrl),t({title:""})}catch(he){t({title:"",description:String(he),variant:"destructive"})}finally{s(!1),n.current&&(n.current.value="")}},ne=Ie({mutationFn:async O=>{const Z={name:O.name,name_en:O.nameEn||null,description:O.description,price:O.price,price_unit:O.priceUnit,image:O.image,category:O.category,featured:O.featured};if(A){const{error:z}=await Y.from("products").update(Z).eq("id",A.id);if(z)throw z}else{const{error:z}=await Y.from("products").insert(Z);if(z)throw z}},onSuccess:()=>{E.invalidateQueries({queryKey:["admin-products"]}),x(!1),R(null),q.reset()},onError:O=>{console.error("Error saving product:",O)}}),F=O=>{ne.mutate(O)},me=Ie({mutationFn:async O=>{if(T)await Y.from("product_categories").update({name:O.name,name_en:O.nameEn,description:O.description,color:O.color}).eq("id",T.id);else{const Z=O.name.toLowerCase().replace(/\s+/g,"-");await Y.from("product_categories").insert({id:Z,name:O.name,name_en:O.nameEn,description:O.description,color:O.color})}},onSuccess:()=>{E.invalidateQueries({queryKey:["product-categories"]}),g(!1),C.reset()}}),je=O=>{me.mutate(O)},oe=Ie({mutationFn:async O=>{const{error:Z}=await Y.from("products").delete().eq("id",O);if(Z)throw Z},onSuccess:()=>{E.invalidateQueries({queryKey:["admin-products"]}),N(!1),R(null)},onError:O=>{console.error("Error deleting product:",O)}}),Ee=()=>{A!=null&&A.id&&oe.mutate(A.id)},tt={total:(X==null?void 0:X.length)||0,active:(X==null?void 0:X.length)||0,birdNest:(X==null?void 0:X.filter(O=>O.category==="bird-nest").length)||0,fishMaw:(X==null?void 0:X.filter(O=>O.category==="fish-maw").length)||0};return r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif","data-testid":"text-products-title",children:e("admin.productsPage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.subtitle")})]})}),r.jsxs(Pn,{value:m,onValueChange:O=>h(O),children:[r.jsxs(yn,{className:"grid w-full grid-cols-2 mb-4",children:[r.jsxs(ke,{value:"bundles",className:"gap-2",children:[r.jsx(Hn,{className:"w-4 h-4"}),""]}),r.jsxs(ke,{value:"products",className:"gap-2",children:[r.jsx(Yt,{className:"w-4 h-4"}),""]})]}),r.jsxs(Nt,{value:"bundles",className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Hn,{className:"w-4 h-4 text-primary"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:""})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:D.total})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(pa,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:""})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:D.active})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Lt,{className:"w-4 h-4 text-amber-500"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:""})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-500",children:D.featured})]})})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:"...",className:"pl-9",value:i,onChange:O=>o(O.target.value)})]}),$?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsx("div",{className:"space-y-3",children:B.map(O=>r.jsx(V,{className:O.is_active?"":"opacity-60",children:r.jsx(J,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg bg-muted flex items-center justify-center shrink-0 overflow-hidden",children:O.image?r.jsx("img",{src:O.image,alt:O.name,className:"w-full h-full object-cover"}):r.jsx(Yt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-muted-foreground/50"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 mb-1",children:[r.jsx("span",{className:"font-medium text-sm sm:text-base",children:O.name}),O.is_featured&&r.jsxs(te,{className:"bg-amber-500 text-[10px] sm:text-xs",children:[r.jsx(Lt,{className:"w-2.5 h-2.5 mr-0.5"}),""]}),O.is_hot&&r.jsxs(te,{className:"bg-red-500 text-[10px] sm:text-xs",children:[r.jsx(r0,{className:"w-2.5 h-2.5 mr-0.5"}),""]}),O.is_new&&r.jsxs(te,{className:"bg-green-500 text-[10px] sm:text-xs",children:[r.jsx(xl,{className:"w-2.5 h-2.5 mr-0.5"}),""]}),!O.is_active&&r.jsx(te,{variant:"outline",className:"text-[10px] sm:text-xs",children:""})]}),r.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mb-1 truncate",children:O.target_audience}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsxs("span",{className:"font-bold text-sm sm:text-base text-primary",children:["RM ",(O.price/100).toFixed(0)]}),O.original_price&&O.original_price>O.price&&r.jsxs("span",{className:"text-xs text-muted-foreground line-through",children:["RM ",(O.original_price/100).toFixed(0)]})]}),r.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[O.items.slice(0,3).map((Z,z)=>r.jsxs(te,{variant:"outline",className:"text-[9px] sm:text-[10px] px-1 py-0",children:[Z.flavor," ",Z.quantity]},z)),O.items.length>3&&r.jsxs(te,{variant:"outline",className:"text-[9px] sm:text-[10px] px-1 py-0",children:["+",O.items.length-3]})]})]}),r.jsxs("div",{className:"flex flex-col gap-1.5 shrink-0",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"h-7 sm:h-8 px-2 text-xs",onClick:()=>{k(O),_(!0)},children:[r.jsx(Oa,{className:"w-3 h-3 sm:mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:""})]}),r.jsxs(M,{variant:O.is_featured?"default":"outline",size:"sm",className:"h-7 sm:h-8 px-2 text-xs",onClick:()=>S(O,"is_featured"),children:[r.jsx(Lt,{className:"w-3 h-3 sm:mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:""})]}),r.jsx(M,{variant:O.is_active?"outline":"destructive",size:"sm",className:"h-7 sm:h-8 px-2 text-xs",onClick:()=>S(O,"is_active"),children:O.is_active?r.jsx(pa,{className:"w-3 h-3"}):r.jsx(vl,{className:"w-3 h-3"})})]})]})})},O.id))})]}),r.jsxs(Nt,{value:"products",className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsxs(M,{variant:"outline",className:"gap-2",onClick:W,"data-testid":"button-manage-categories",children:[r.jsx(SZ,{className:"w-4 h-4"}),e("admin.productsPage.manageCategories")]}),r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground",onClick:H,"data-testid":"button-add-product",children:[r.jsx(mn,{className:"w-4 h-4"}),e("admin.productsPage.addProduct")]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Yt,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:tt.total}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.totalProducts")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center",children:r.jsx(Lt,{className:"w-6 h-6 text-green-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-green-500",children:tt.active}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.activeProducts")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/10 flex items-center justify-center",children:r.jsx(xj,{className:"w-6 h-6 text-emerald-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:tt.birdNest}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.categoryBirdNest")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-500/10 flex items-center justify-center",children:r.jsx(xj,{className:"w-6 h-6 text-amber-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:tt.fishMaw}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.categoryFishMaw")})]})]})})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[r.jsxs("span",{className:"text-sm text-muted-foreground mr-2",children:[e("admin.productsPage.categories"),":"]}),r.jsx(te,{variant:l==="all"?"default":"outline",className:"cursor-pointer",onClick:()=>c("all"),"data-testid":"category-all",children:e("admin.productsPage.allCategories")}),G.map(O=>r.jsxs(te,{variant:"outline",className:`cursor-pointer ${l===O.id?ee(O.color):""}`,onClick:()=>c(O.id),"data-testid":`category-${O.id}`,children:[O.name,r.jsx(M,{variant:"ghost",size:"icon",className:"h-4 w-4 ml-1 p-0",onClick:Z=>{Z.stopPropagation(),pe(O)},children:r.jsx(to,{className:"w-3 h-3"})})]},O.id))]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"w-5 h-5 text-primary"}),e("admin.productsPage.productList")," (",xe.length,")"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.productsPage.searchPlaceholder"),className:"pl-9",value:i,onChange:O=>o(O.target.value),"data-testid":"input-search"})]}),r.jsxs("div",{className:"flex border rounded-md",children:[r.jsx(M,{variant:d==="grid"?"secondary":"ghost",size:"icon",onClick:()=>u("grid"),"data-testid":"button-view-grid",children:r.jsx(xj,{className:"w-4 h-4"})}),r.jsx(M,{variant:d==="table"?"secondary":"ghost",size:"icon",onClick:()=>u("table"),"data-testid":"button-view-table",children:r.jsx(Yt,{className:"w-4 h-4"})})]})]})]})}),r.jsx(J,{children:Q?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):xe.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Yt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.productsPage.noProducts")}),r.jsxs(M,{className:"mt-4",onClick:H,children:[r.jsx(mn,{className:"w-4 h-4 mr-2"}),e("admin.productsPage.addFirstProduct")]})]}):d==="grid"?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:xe.map(O=>{const Z=G.find(z=>z.id===O.category);return r.jsxs(V,{className:"overflow-hidden hover-elevate","data-testid":`product-${O.id}`,children:[r.jsxs("div",{className:"aspect-video bg-muted flex items-center justify-center relative",children:[O.image?r.jsx("img",{src:O.image,alt:O.name,className:"w-full h-full object-cover"}):r.jsx(pu,{className:"w-12 h-12 text-muted-foreground/50"}),!O.featured&&r.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:r.jsx(te,{variant:"destructive",children:e("admin.productsPage.unavailable")})})]}),r.jsxs(J,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold",children:O.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:O.nameEn})]}),Z&&r.jsx(te,{variant:"outline",className:ee(Z.color),children:Z.name})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-lg font-bold text-primary",children:["RM ",O.price]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(M,{variant:"ghost",size:"icon",onClick:()=>ae(O),"data-testid":`button-view-${O.id}`,children:r.jsx(pr,{className:"w-4 h-4"})}),r.jsx(M,{variant:"ghost",size:"icon",onClick:()=>ie(O),"data-testid":`button-edit-${O.id}`,children:r.jsx(Oa,{className:"w-4 h-4"})}),r.jsx(M,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>le(O),"data-testid":`button-delete-${O.id}`,children:r.jsx(Dn,{className:"w-4 h-4"})})]})]})]})]},O.id)})}):r.jsxs(Cv,{children:[r.jsx(Av,{children:r.jsxs(gc,{children:[r.jsx(zn,{children:e("admin.productsPage.image")}),r.jsx(zn,{children:e("admin.productsPage.productName")}),r.jsx(zn,{children:e("admin.productsPage.category")}),r.jsx(zn,{className:"text-right",children:e("admin.productsPage.price")}),r.jsx(zn,{children:e("admin.productsPage.status")}),r.jsx(zn,{className:"text-right",children:e("admin.productsPage.actions")})]})}),r.jsx(Tv,{children:xe.map(O=>{const Z=G.find(z=>z.id===O.category);return r.jsxs(gc,{"data-testid":`product-row-${O.id}`,children:[r.jsx(Kn,{children:r.jsx("div",{className:"w-16 h-12 bg-muted rounded flex items-center justify-center overflow-hidden",children:O.image?r.jsx("img",{src:O.image,alt:O.name,className:"w-full h-full object-cover"}):r.jsx(pu,{className:"w-6 h-6 text-muted-foreground/50"})})}),r.jsx(Kn,{children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:O.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:O.nameEn})]})}),r.jsx(Kn,{children:Z&&r.jsx(te,{variant:"outline",className:ee(Z.color),children:Z.name})}),r.jsxs(Kn,{className:"text-right font-bold",children:["RM ",O.price]}),r.jsx(Kn,{children:r.jsx(te,{className:O.featured!==!1?"bg-green-500":"bg-red-500",children:O.featured!==!1?e("admin.productsPage.available"):e("admin.productsPage.unavailable")})}),r.jsx(Kn,{className:"text-right",children:r.jsxs(Tc,{children:[r.jsx(Oc,{asChild:!0,children:r.jsx(M,{variant:"ghost",size:"icon","data-testid":`button-actions-${O.id}`,children:r.jsx(ek,{className:"w-4 h-4"})})}),r.jsxs(dl,{align:"end",children:[r.jsxs(Rr,{onClick:()=>ae(O),children:[r.jsx(pr,{className:"w-4 h-4 mr-2"}),e("admin.productsPage.view")]}),r.jsxs(Rr,{onClick:()=>ie(O),children:[r.jsx(Oa,{className:"w-4 h-4 mr-2"}),e("admin.productsPage.edit")]}),r.jsxs(Rr,{onClick:()=>le(O),className:"text-destructive",children:[r.jsx(Dn,{className:"w-4 h-4 mr-2"}),e("admin.productsPage.delete")]})]})]})})]},O.id)})})]})})]})]})]})]}),r.jsx(lt,{open:P,onOpenChange:_,children:r.jsxs(st,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[r.jsx(it,{children:r.jsx(ot,{className:"text-base sm:text-lg",children:""})}),w&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" ()"}),r.jsx(se,{value:w.name,onChange:O=>k({...w,name:O.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(se,{value:w.name_en||"",onChange:O=>k({...w,name_en:O.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(se,{value:w.name_ms||"",onChange:O=>k({...w,name_ms:O.target.value})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(se,{value:w.target_audience||"",onChange:O=>k({...w,target_audience:O.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(se,{value:w.keywords||"",onChange:O=>k({...w,keywords:O.target.value}),placeholder:""})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" ()"}),r.jsx(se,{type:"number",value:w.price,onChange:O=>k({...w,price:parseInt(O.target.value)||0})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" ()"}),r.jsx(se,{type:"number",value:w.original_price||"",onChange:O=>k({...w,original_price:parseInt(O.target.value)||null})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"URL"}),r.jsx(se,{value:w.image||"",onChange:O=>k({...w,image:O.target.value}),placeholder:"/pics/bundle-image.jpg"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:" (JSON)"}),r.jsx(At,{rows:4,value:JSON.stringify(w.items,null,2),onChange:O=>{try{const Z=JSON.parse(O.target.value);k({...w,items:Z})}catch{}},className:"font-mono text-xs"})]}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx(Nr,{checked:w.is_active,onCheckedChange:O=>k({...w,is_active:O})}),r.jsx("span",{className:"text-sm",children:""})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx(Nr,{checked:w.is_featured,onCheckedChange:O=>k({...w,is_featured:O})}),r.jsx("span",{className:"text-sm",children:""})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx(Nr,{checked:w.is_hot,onCheckedChange:O=>k({...w,is_hot:O})}),r.jsx("span",{className:"text-sm",children:""})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx(Nr,{checked:w.is_new,onCheckedChange:O=>k({...w,is_new:O})}),r.jsx("span",{className:"text-sm",children:""})]})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2",children:[r.jsx(M,{variant:"outline",onClick:()=>_(!1),children:""}),r.jsxs(M,{onClick:()=>K.mutate(w),disabled:K.isPending,children:[K.isPending?r.jsx(fe,{className:"w-4 h-4 mr-1 animate-spin"}):null,""]})]})]})]})}),r.jsx(lt,{open:f,onOpenChange:g,children:r.jsxs(st,{className:"sm:max-w-[500px]",children:[r.jsxs(it,{children:[r.jsx(ot,{children:e(T?"admin.productsPage.editCategory":"admin.productsPage.addCategory")}),r.jsx(Kt,{children:e("admin.productsPage.categoryModalDesc")})]}),r.jsx(am,{...C,children:r.jsxs("form",{onSubmit:C.handleSubmit(je),className:"space-y-4 py-4",children:[r.jsx(wt,{control:C.control,name:"name",render:({field:O})=>r.jsxs(yt,{children:[r.jsx(gt,{children:e("admin.productsPage.categoryName")}),r.jsx(vt,{children:r.jsx(se,{...O,placeholder:e("admin.productsPage.categoryNamePlaceholder"),"data-testid":"input-category-name"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:C.control,name:"nameEn",render:({field:O})=>r.jsxs(yt,{children:[r.jsx(gt,{children:e("admin.productsPage.categoryNameEn")}),r.jsx(vt,{children:r.jsx(se,{...O,placeholder:e("admin.productsPage.categoryNameEnPlaceholder"),"data-testid":"input-category-name-en"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:C.control,name:"description",render:({field:O})=>r.jsxs(yt,{children:[r.jsx(gt,{children:e("admin.productsPage.categoryDescription")}),r.jsx(vt,{children:r.jsx(At,{...O,placeholder:e("admin.productsPage.categoryDescPlaceholder"),"data-testid":"input-category-desc"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:C.control,name:"color",render:({field:O})=>r.jsxs(yt,{children:[r.jsx(gt,{children:e("admin.productsPage.categoryColor")}),r.jsx(vt,{children:r.jsx("div",{className:"flex gap-2",children:["emerald","amber","rose","blue"].map(Z=>r.jsx("button",{type:"button",onClick:()=>O.onChange(Z),className:`w-8 h-8 rounded-full border-2 ${Z==="emerald"?"bg-emerald-500":Z==="amber"?"bg-amber-500":Z==="rose"?"bg-rose-500":"bg-blue-500"} ${O.value===Z?"border-foreground":"border-transparent"}`,"data-testid":`color-${Z}`},Z))})}),r.jsx(jt,{})]})}),r.jsxs(kt,{children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>g(!1),children:e("common.cancel")}),r.jsx(M,{type:"submit","data-testid":"button-save-category",children:e("common.save")})]})]})})]})}),r.jsx(lt,{open:p,onOpenChange:x,children:r.jsxs(st,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(it,{children:[r.jsx(ot,{children:e(A?"admin.productsPage.editProduct":"admin.productsPage.addProduct")}),r.jsx(Kt,{children:e("admin.productsPage.productModalDesc")})]}),r.jsx(am,{...q,children:r.jsxs("form",{onSubmit:q.handleSubmit(F),className:"space-y-4 py-4",children:[r.jsx(wt,{control:q.control,name:"image",render:({field:O})=>r.jsxs(yt,{children:[r.jsx(gt,{children:e("admin.productsPage.productImage")}),r.jsx(vt,{children:r.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[O.value&&O.value!=="/pics/product-placeholder.jpg"?r.jsx("img",{src:O.value,alt:"",className:"w-32 h-32 object-cover mx-auto rounded-lg mb-2"}):r.jsx(pu,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-2"}),r.jsx("input",{type:"file",ref:n,accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:ve}),r.jsx(M,{type:"button",variant:"outline",size:"sm",onClick:()=>{var Z;return(Z=n.current)==null?void 0:Z.click()},disabled:a,"data-testid":"button-upload-image",children:a?r.jsxs(r.Fragment,{children:[r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):e("admin.productsPage.uploadImage")})]})}),r.jsx(jt,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(wt,{control:q.control,name:"name",render:({field:O})=>r.jsxs(yt,{children:[r.jsx(gt,{children:e("admin.productsPage.productNameZh")}),r.jsx(vt,{children:r.jsx(se,{...O,placeholder:e("admin.productsPage.productNameZhPlaceholder"),"data-testid":"input-product-name"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:q.control,name:"nameEn",render:({field:O})=>r.jsxs(yt,{children:[r.jsx(gt,{children:e("admin.productsPage.productNameEn")}),r.jsx(vt,{children:r.jsx(se,{...O,placeholder:e("admin.productsPage.productNameEnPlaceholder"),"data-testid":"input-product-name-en"})}),r.jsx(jt,{})]})})]}),r.jsx(wt,{control:q.control,name:"description",render:({field:O})=>r.jsxs(yt,{children:[r.jsx(gt,{children:e("admin.productsPage.productDescription")}),r.jsx(vt,{children:r.jsx(At,{...O,placeholder:e("admin.productsPage.productDescPlaceholder"),rows:3,"data-testid":"input-product-desc"})}),r.jsx(jt,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(wt,{control:q.control,name:"category",render:({field:O})=>r.jsxs(yt,{children:[r.jsx(gt,{children:e("admin.productsPage.category")}),r.jsxs(Et,{onValueChange:O.onChange,value:O.value,children:[r.jsx(vt,{children:r.jsx(_t,{"data-testid":"select-product-category",children:r.jsx(Rt,{placeholder:e("admin.productsPage.selectCategory")})})}),r.jsx(Ct,{children:G.map(Z=>r.jsx(ye,{value:Z.id,children:Z.name},Z.id))})]}),r.jsx(jt,{})]})}),r.jsx(wt,{control:q.control,name:"price",render:({field:O})=>r.jsxs(yt,{children:[r.jsxs(gt,{children:[e("admin.productsPage.price")," (RM)"]}),r.jsx(vt,{children:r.jsx(se,{...O,type:"number",placeholder:"0.00","data-testid":"input-product-price"})}),r.jsx(jt,{})]})})]}),r.jsx(wt,{control:q.control,name:"priceUnit",render:({field:O})=>r.jsxs(yt,{children:[r.jsx(gt,{children:e("admin.productsPage.weight")}),r.jsx(vt,{children:r.jsx(se,{...O,placeholder:" /  / ","data-testid":"input-product-unit"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:q.control,name:"featured",render:({field:O})=>r.jsxs(yt,{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(gt,{className:"text-base",children:e("admin.productsPage.isFeatured")}),r.jsx(f9,{children:e("admin.productsPage.isFeaturedDesc")})]}),r.jsx(vt,{children:r.jsx(Nr,{checked:O.value,onCheckedChange:O.onChange,"data-testid":"switch-featured"})})]})}),r.jsxs(kt,{children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>x(!1),children:e("common.cancel")}),r.jsx(M,{type:"submit","data-testid":"button-save-product",children:e("common.save")})]})]})})]})}),r.jsx(lt,{open:y,onOpenChange:v,children:r.jsxs(st,{className:"sm:max-w-[500px]",children:[r.jsx(it,{children:r.jsxs(ot,{className:"flex items-center gap-2",children:[r.jsx(pr,{className:"w-5 h-5"}),e("admin.productsPage.productDetails")]})}),A&&r.jsxs("div",{className:"space-y-4 py-4",children:[A.image&&r.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden",children:r.jsx("img",{src:A.image,alt:A.name,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.productNameZh")}),r.jsx("p",{className:"font-medium",children:A.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.productNameEn")}),r.jsx("p",{className:"font-medium",children:A.nameEn||"-"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.productDescription")}),r.jsx("p",{children:A.description||"-"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.category")}),r.jsx(te,{variant:"outline",children:Pe(A.category)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.price")}),r.jsxs("p",{className:"font-bold text-primary",children:["RM ",A.price]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.weight")}),r.jsx("p",{children:A.priceUnit||"-"})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(te,{className:"bg-green-500",children:e("admin.productsPage.available")}),A.featured&&r.jsxs(te,{className:"bg-amber-500",children:[r.jsx(Lt,{className:"w-3 h-3 mr-1"}),e("admin.productsPage.featured")]})]})]}),r.jsxs(kt,{children:[r.jsx(M,{variant:"outline",onClick:()=>v(!1),children:e("common.close")}),r.jsxs(M,{onClick:()=>{v(!1),ie(A)},children:[r.jsx(Oa,{className:"w-4 h-4 mr-2"}),e("admin.productsPage.edit")]})]})]})}),r.jsx(lt,{open:b,onOpenChange:N,children:r.jsxs(st,{className:"sm:max-w-[400px]",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-destructive",children:[r.jsx(Dn,{className:"w-5 h-5"}),e("admin.productsPage.deleteConfirmTitle")]}),r.jsxs(Kt,{children:[e("admin.productsPage.deleteConfirmDesc"),' "',A==null?void 0:A.name,'"']})]}),r.jsxs(kt,{children:[r.jsx(M,{variant:"outline",onClick:()=>N(!1),children:e("common.cancel")}),r.jsx(M,{variant:"destructive",onClick:Ee,"data-testid":"button-confirm-delete",children:e("common.delete")})]})]})})]})}function wge(){const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState(""),[i,o]=j.useState("all"),[l,c]=j.useState(null),[d,u]=j.useState(!1),[m,h]=j.useState(!1),[f,g]=j.useState("date_desc"),[p,x]=j.useState(null),[y,v]=j.useState(!1),{data:b=[],isLoading:N,refetch:w}=Le({queryKey:["admin-members"],queryFn:async()=>{const{data:S,error:D}=await Y.from("members").select("*").order("created_at",{ascending:!1});if(D)return console.error("Error fetching members:",D),[];const{data:G}=await Y.from("users").select("id, email, first_name, last_name, phone, role, created_at"),q=new Map((G==null?void 0:G.map(W=>[W.id,W]))||[]),C=new Set((S==null?void 0:S.map(W=>W.user_id))||[]),{data:X}=await Y.from("orders").select("member_id").not("member_id","is",null),Q=new Map;X==null||X.forEach(W=>{const H=Q.get(W.member_id)||0;Q.set(W.member_id,H+1)});const xe=new Map((S==null?void 0:S.map(W=>[W.id,W.name]))||[]),Pe=new Map;S==null||S.forEach(W=>{if(W.referrer_id){const H=Pe.get(W.referrer_id)||0;Pe.set(W.referrer_id,H+1)}});const ee=(S||[]).map(W=>{var H;return{id:W.id,user_id:W.user_id,name:W.name||"",email:W.email||"",phone:W.phone||"",role:((H=q.get(W.user_id))==null?void 0:H.role)||W.role||"member",points_balance:W.points_balance||0,referral_code:W.referral_code||"",referrer_id:W.referrer_id,created_at:W.created_at,orders_count:Q.get(W.id)||0,referrer_name:W.referrer_id?xe.get(W.referrer_id):void 0,downline_count:Pe.get(W.id)||0,is_registered_only:!1}}),pe=(G||[]).filter(W=>!C.has(W.id)).map(W=>({id:W.id,user_id:W.id,name:[W.first_name,W.last_name].filter(Boolean).join(" ")||W.email||"",email:W.email||"",phone:W.phone||"",role:"user",points_balance:0,referral_code:"",referrer_id:null,created_at:W.created_at,orders_count:0,referrer_name:void 0,downline_count:0,is_registered_only:!0}));return[...ee,...pe]}}),{data:k=[],isLoading:P}=Le({queryKey:["member-network",l==null?void 0:l.id],queryFn:async()=>{if(!(l!=null&&l.id))return[];const{data:S,error:D}=await Y.rpc("get_member_downline",{p_member_id:l.id,p_max_level:10});if(D){console.error("Error fetching network:",D);const{data:G}=await Y.from("members").select("*").eq("referrer_id",l.id);return G||[]}return S||[]},enabled:!!(l!=null&&l.id)&&m}),_=Ie({mutationFn:async({userId:S,role:D,name:G,email:q,phone:C})=>{const{data:X,error:Q}=await Y.rpc("admin_set_user_role",{p_user_id:S,p_new_role:D,p_name:G||null,p_email:q||null,p_phone:C||null});if(Q)throw Q;return X},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-members"]}),t({title:""})},onError:S=>{t({title:"",description:S.message,variant:"destructive"})}}),T=S=>{switch(S){case"user":return{label:"",icon:la,variant:"outline"};case"member":return{label:e("admin.membersPage.roleMember"),icon:Lt,variant:"secondary"};case"partner":return{label:e("admin.membersPage.rolePartner"),icon:Jr,variant:"default"};case"admin":return{label:e("admin.membersPage.roleAdmin"),icon:oa,variant:"destructive"};default:return{label:"",icon:la,variant:"outline"}}},I=S=>{const D=[];return S==="admin"&&D.push({label:e("admin.membersPage.roleAdmin"),icon:oa,variant:"destructive"}),(S==="admin"||S==="partner")&&D.push({label:e("admin.membersPage.rolePartner"),icon:Jr,variant:"default"}),S==="user"?D.push({label:"",icon:la,variant:"outline"}):D.push({label:e("admin.membersPage.roleMember"),icon:Lt,variant:"secondary"}),D},A=Ie({mutationFn:async S=>{if(!S.is_registered_only){await Y.from("partners").delete().eq("member_id",S.id);const{error:G}=await Y.from("members").delete().eq("id",S.id);if(G)throw G}const{error:D}=await Y.from("users").delete().eq("id",S.user_id);if(D)throw D},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-members"]}),v(!1),x(null),u(!1),t({title:""})},onError:S=>{t({title:"",description:S.message,variant:"destructive"})}}),R=()=>{const S=["","","","","","","","",""],D={user:"",member:"",partner:"",admin:""},G=E.map(Pe=>[Pe.name,Pe.email,Pe.phone||"",D[Pe.role]||Pe.role,Pe.referral_code||"",String(Pe.points_balance),String(Pe.orders_count||0),String(Pe.downline_count||0),K(Pe.created_at)]),q=[S,...G].map(Pe=>Pe.map(ee=>`"${ee.replace(/"/g,'""')}"`).join(",")).join(`
`),C="\uFEFF",X=new Blob([C+q],{type:"text/csv;charset=utf-8;"}),Q=URL.createObjectURL(X),xe=document.createElement("a");xe.href=Q,xe.download=`_${new Date().toISOString().slice(0,10)}.csv`,xe.click(),URL.revokeObjectURL(Q)},E=b.filter(S=>{const D=a===""||S.name.toLowerCase().includes(a.toLowerCase())||S.email.toLowerCase().includes(a.toLowerCase())||S.referral_code.toLowerCase().includes(a.toLowerCase()),G=i==="all"||S.role===i;return D&&G}).sort((S,D)=>{switch(f){case"date_asc":return new Date(S.created_at).getTime()-new Date(D.created_at).getTime();case"name":return S.name.localeCompare(D.name,"zh");case"points":return(D.points_balance||0)-(S.points_balance||0);default:return new Date(D.created_at).getTime()-new Date(S.created_at).getTime()}}),L={total:b.length,registered:b.filter(S=>S.role==="user").length,members:b.filter(S=>S.role==="member").length,partners:b.filter(S=>S.role==="partner").length,admins:b.filter(S=>S.role==="admin").length},$=S=>{c(S),u(!0)},B=S=>{c(S),h(!0)},K=S=>new Date(S).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-members-title",children:e("admin.membersPage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.membersPage.subtitle")})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"shrink-0",onClick:()=>w(),disabled:N,children:[r.jsx(od,{className:`w-4 h-4 ${N?"animate-spin":""}`}),r.jsx("span",{className:"hidden sm:inline ml-1.5",children:""})]})]}),r.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2 sm:gap-3 md:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-3",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(Mt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:L.total}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:e("admin.membersPage.totalUsers")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-3",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0",children:r.jsx(la,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-500"})}),r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-500",children:L.registered}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:""})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-3",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-secondary/10 flex items-center justify-center shrink-0",children:r.jsx(Lt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-secondary"})}),r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-secondary",children:L.members}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:e("admin.membersPage.regularMembers")})]})]})}),r.jsx(V,{className:"hidden sm:block",children:r.jsxs(J,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-3",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(Jr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary",children:L.partners}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:e("admin.membersPage.partners")})]})]})}),r.jsx(V,{className:"hidden sm:block",children:r.jsxs(J,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-3",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-red-500/10 flex items-center justify-center shrink-0",children:r.jsx(oa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})}),r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-500",children:L.admins}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:""})]})]})})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"px-3 sm:px-6 py-3 sm:py-4",children:r.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Mt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary shrink-0"}),e("admin.membersPage.memberList")]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsxs(Et,{value:f,onValueChange:S=>g(S),children:[r.jsxs(_t,{className:"h-8 w-8 sm:w-auto sm:h-9 p-0 sm:px-3 border-none shadow-none [&>svg:last-child]:hidden sm:[&>svg:last-child]:block",children:[r.jsx(pZ,{className:"w-4 h-4 sm:hidden"}),r.jsx("span",{className:"hidden sm:inline",children:r.jsx(Rt,{})})]}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"date_desc",children:""}),r.jsx(ye,{value:"date_asc",children:""}),r.jsx(ye,{value:"name",children:""}),r.jsx(ye,{value:"points",children:""})]})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"h-8 px-2 sm:px-3",onClick:R,children:[r.jsx(Vi,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),r.jsx("span",{className:"hidden sm:inline ml-1.5",children:""})]})]})]}),r.jsxs("div",{className:"relative w-full",children:[r.jsx(Fn,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.membersPage.searchPlaceholder"),className:"pl-8 h-9 text-sm",value:a,onChange:S=>s(S.target.value),"data-testid":"input-search"})]})]})}),r.jsx(J,{className:"px-3 sm:px-6",children:r.jsxs(Pn,{value:i,onValueChange:o,children:[r.jsx("div",{className:"overflow-x-auto -mx-1 px-1 pb-1",children:r.jsxs(yn,{className:"inline-flex w-auto min-w-max md:grid md:w-full md:grid-cols-5 h-auto",children:[r.jsxs(ke,{value:"all",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5","data-testid":"tab-all",children:[r.jsx("span",{className:"sm:hidden",children:""}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.membersPage.tabAll")}),r.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",L.total,")"]})]}),r.jsxs(ke,{value:"user",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5","data-testid":"tab-user",children:["",r.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",L.registered,")"]})]}),r.jsxs(ke,{value:"member",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5","data-testid":"tab-member",children:[r.jsx("span",{className:"sm:hidden",children:""}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.membersPage.tabMember")}),r.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",L.members,")"]})]}),r.jsxs(ke,{value:"partner",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5","data-testid":"tab-partner",children:[r.jsx("span",{className:"sm:hidden",children:""}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.membersPage.tabPartner")}),r.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",L.partners,")"]})]}),r.jsxs(ke,{value:"admin",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5","data-testid":"tab-admin",children:[r.jsx("span",{className:"sm:hidden",children:""}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.membersPage.tabAdmin")}),r.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",L.admins,")"]})]})]})}),r.jsx(Nt,{value:i,className:"mt-4",children:N?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):E.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Mt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.membersPage.noMembers")})]}):r.jsx("div",{className:"space-y-2 sm:space-y-3",children:E.map(S=>{const G=T(S.role).icon,q=I(S.role),C=S.is_registered_only;return r.jsx("div",{className:`p-2.5 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors ${C?"border-dashed opacity-80":""}`,"data-testid":`member-${S.id}`,children:r.jsxs("div",{className:"flex items-start gap-2.5 sm:gap-3 md:gap-4",children:[r.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex-shrink-0 flex items-center justify-center ${C?"bg-blue-500/10":"bg-primary/10"}`,children:r.jsx(G,{className:`w-4 h-4 sm:w-5 sm:h-5 ${C?"text-blue-500":"text-primary"}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-1.5 min-w-0",children:[r.jsx("span",{className:"font-medium text-sm sm:text-base truncate max-w-[120px] sm:max-w-none",children:S.name}),q.map(X=>r.jsx(te,{variant:X.variant,className:"text-[10px] sm:text-xs px-1.5 sm:px-2 py-0",children:X.label},X.label))]}),r.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 sm:hidden",children:[!C&&r.jsx(M,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>B(S),"data-testid":`button-network-${S.id}`,children:r.jsx(hc,{className:"w-3.5 h-3.5"})}),r.jsxs(Tc,{children:[r.jsx(Oc,{asChild:!0,children:r.jsx(M,{variant:"ghost",size:"icon",className:"h-7 w-7",children:r.jsx(NZ,{className:"w-3.5 h-3.5"})})}),r.jsxs(dl,{align:"end",children:[r.jsxs(Rr,{onClick:()=>$(S),children:[r.jsx(pr,{className:"w-4 h-4 mr-2"}),""]}),r.jsxs(Rr,{className:"text-red-500 focus:text-red-500",onClick:()=>{x(S),v(!0)},children:[r.jsx(Dn,{className:"w-4 h-4 mr-2"}),""]})]})]})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 sm:gap-x-3 gap-y-0.5 text-xs sm:text-sm text-muted-foreground mt-0.5",children:[S.referral_code&&r.jsx("span",{className:"font-mono",children:S.referral_code}),r.jsxs("span",{className:"flex items-center gap-1 truncate max-w-[160px] sm:max-w-none",children:[r.jsx(cl,{className:"w-3 h-3 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:S.email})]}),S.phone&&r.jsxs("span",{className:"hidden md:flex items-center gap-1",children:[r.jsx(Ds,{className:"w-3 h-3"}),S.phone]})]}),S.referrer_name&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[": ",S.referrer_name]}),!C&&r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mt-1 sm:mt-1.5 md:hidden text-[11px] sm:text-xs text-muted-foreground",children:[r.jsxs("span",{children:[S.points_balance," ",e("admin.membersPage.points")]}),r.jsxs("span",{children:[S.orders_count," "]}),r.jsxs("span",{children:[S.downline_count," "]})]}),C&&r.jsxs("p",{className:"text-[11px] sm:text-xs text-muted-foreground mt-1 sm:mt-1.5 md:hidden",children:[" ",K(S.created_at)]})]}),r.jsxs("div",{className:"hidden sm:flex items-center gap-2 md:gap-4 flex-shrink-0",children:[C?r.jsx("div",{className:"text-right hidden md:block",children:r.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",K(S.created_at)]})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-right hidden md:block",children:[r.jsxs("p",{className:"text-sm",children:[S.points_balance," ",e("admin.membersPage.points")]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.orders_count,"   ",S.downline_count," "]})]}),r.jsx(M,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>B(S),"data-testid":`button-network-${S.id}`,children:r.jsx(hc,{className:"w-4 h-4"})})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>$(S),"data-testid":`button-view-${S.id}`,children:[r.jsx(pr,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.membersPage.viewDetails")})]})]})]})},S.id)})})})]})})]})]}),r.jsx(lt,{open:d,onOpenChange:u,children:r.jsxs(st,{className:"max-w-lg max-h-[90dvh] overflow-y-auto",children:[r.jsx(it,{children:r.jsxs(ot,{className:"text-base sm:text-lg truncate",children:[l!=null&&l.is_registered_only?"":""," - ",l==null?void 0:l.name]})}),l&&r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[l.referral_code?r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"font-mono font-bold text-base sm:text-lg text-primary",children:l.referral_code})]}):r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx(te,{variant:"outline",className:"mt-1 text-xs",children:"  "})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsxs(Et,{value:l.role,onValueChange:S=>_.mutate({userId:l.user_id,role:S,name:l.name,email:l.email,phone:l.phone}),disabled:_.isPending,children:[r.jsx(_t,{className:"w-full h-9 text-sm",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[l.is_registered_only&&r.jsx(ye,{value:"user",children:""}),r.jsx(ye,{value:"member",children:""}),r.jsx(ye,{value:"partner",children:""}),r.jsx(ye,{value:"admin",children:""})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"text-sm break-all",children:l.email})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"text-sm",children:l.phone||"-"})]})]}),!l.is_registered_only&&r.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"font-bold",children:l.points_balance})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"font-bold",children:l.orders_count})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"font-bold",children:l.downline_count})]})]}),l.referrer_name&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"text-sm",children:l.referrer_name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"text-sm",children:K(l.created_at)})]}),r.jsx("div",{className:"pt-2 border-t",children:r.jsxs(M,{variant:"outline",size:"sm",className:"text-red-500 border-red-200 hover:bg-red-50 hover:text-red-600 w-full",onClick:()=>{x(l),v(!0)},children:[r.jsx(Dn,{className:"w-4 h-4 mr-1.5"}),""]})})]})]})}),r.jsx(lt,{open:m,onOpenChange:h,children:r.jsxs(st,{className:"max-w-2xl max-h-[85dvh] overflow-y-auto",children:[r.jsx(it,{children:r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(hc,{className:"w-4 h-4 sm:w-5 sm:h-5 shrink-0"}),r.jsxs("span",{className:"truncate",children:[l==null?void 0:l.name," "]})]})}),P?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):k.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hc,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:""})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[" ",k.length," "]}),k.map(S=>{const D=T(S.role);return r.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 sm:p-3 border rounded-lg",style:{marginLeft:`${Math.min((S.level-1)*12,48)}px`},children:[r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[r.jsxs(te,{variant:"outline",className:"text-[10px] sm:text-xs shrink-0 px-1.5",children:["L",S.level]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("span",{className:"font-medium text-sm sm:text-base truncate block",children:S.name}),r.jsx(te,{variant:D.variant,className:"text-[10px] sm:text-xs mt-0.5",children:D.label})]})]}),r.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground font-mono shrink-0",children:S.referral_code})]},S.id)})]})]})}),r.jsx($q,{open:y,onOpenChange:v,children:r.jsxs(vC,{children:[r.jsxs(bC,{children:[r.jsx(jC,{children:""}),r.jsxs(NC,{children:[" ",r.jsx("span",{className:"font-medium text-foreground",children:p==null?void 0:p.name}),"",p==null?void 0:p.email,""]})]}),r.jsxs(wC,{children:[r.jsx(PC,{disabled:A.isPending,children:""}),r.jsxs(kC,{className:"bg-red-500 hover:bg-red-600",disabled:A.isPending,onClick:()=>p&&A.mutate(p),children:[A.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-1.5 animate-spin"}),""]})]})]})})]})}function jge(){const{t:e}=ct(),{data:t=[],isLoading:n,refetch:a}=Le({queryKey:["admin-bonus-pool-cycles"],queryFn:async()=>{const{data:u,error:m}=await Y.from("bonus_pool_cycles").select("*").order("cycle_number",{ascending:!1}).limit(10);return m?(console.error("Error fetching bonus pool cycles:",m),[]):(u||[]).map(h=>({id:h.id,cycle_number:h.cycle_number,start_date:h.start_date,end_date:h.end_date,total_pool:h.total_pool||0,total_rwa_tokens:h.total_rwa_tokens||0,per_token_value:h.per_token_value||0,participating_partners:h.participating_partners||0,sales_in_cycle:h.sales_in_cycle||0,status:h.status||"pending",created_at:h.created_at}))}}),s=t.find(u=>u.status==="active")||t[0],i=t.filter(u=>u.status==="settled"),l=s?(u=>{const m=new Date(u),h=new Date,f=Math.ceil((m.getTime()-h.getTime())/(1e3*60*60*24));return Math.max(0,f)})(s.end_date):0,c=s?(10-l)/10*100:0,d=u=>new Date(u).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return n?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(ut,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-bonus-pool-title",children:e("admin.bonusPoolPage.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.bonusPoolPage.subtitle")})]}),r.jsxs(M,{variant:"outline",className:"gap-2",onClick:()=>a(),"data-testid":"button-refresh",children:[r.jsx(od,{className:"w-4 h-4"}),e("admin.bonusPoolPage.refreshData")]})]}),s?r.jsxs(V,{className:"bg-gradient-to-r from-secondary/10 to-primary/10 border-secondary/20",children:[r.jsxs(Te,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(nk,{className:"w-6 h-6 text-secondary"}),e("admin.bonusPoolPage.currentCycle")," #",s.cycle_number]}),r.jsx(te,{className:s.status==="active"?"bg-green-500 text-white":"bg-yellow-500",children:s.status==="active"?e("admin.bonusPoolPage.inProgress"):s.status})]}),r.jsxs(hn,{children:[d(s.start_date)," ~ ",d(s.end_date)]})]}),r.jsxs(J,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:e("admin.bonusPoolPage.cycleProgress")}),r.jsxs("span",{children:[10-l,"/10 ",e("admin.bonusPoolPage.days")]})]}),r.jsx(Qm,{value:c,className:"h-3"}),r.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Tt,{className:"w-4 h-4"}),e("admin.bonusPoolPage.daysRemaining").replace("{days}",String(l))]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-background rounded-lg",children:[r.jsx(Xr,{className:"w-6 h-6 mx-auto text-secondary mb-2"}),r.jsxs("p",{className:"text-2xl font-bold text-secondary",children:["RM ",(s.total_pool/100).toLocaleString()]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.bonusPoolPage.currentPool")})]}),r.jsxs("div",{className:"text-center p-4 bg-background rounded-lg",children:[r.jsx(Mn,{className:"w-6 h-6 mx-auto text-primary mb-2"}),r.jsxs("p",{className:"text-2xl font-bold text-primary",children:["RM ",(s.per_token_value/100).toFixed(2)]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.bonusPoolPage.perTokenValue")})]}),r.jsxs("div",{className:"text-center p-4 bg-background rounded-lg",children:[r.jsx(Mt,{className:"w-6 h-6 mx-auto text-primary mb-2"}),r.jsx("p",{className:"text-2xl font-bold",children:s.participating_partners}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.bonusPoolPage.participatingPartners")})]}),r.jsxs("div",{className:"text-center p-4 bg-background rounded-lg",children:[r.jsx(nr,{className:"w-6 h-6 mx-auto text-green-500 mb-2"}),r.jsxs("p",{className:"text-2xl font-bold",children:["RM ",(s.sales_in_cycle/100).toLocaleString()]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.bonusPoolPage.cycleSales")})]})]})]})]}):r.jsx(V,{children:r.jsxs(J,{className:"p-12 text-center",children:[r.jsx(nk,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:""})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"w-5 h-5 text-primary"}),e("admin.bonusPoolPage.cycleSettings")]})}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:e("admin.bonusPoolPage.cycleLength")}),r.jsxs("span",{className:"font-medium",children:["10 ",e("admin.bonusPoolPage.days")]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:e("admin.bonusPoolPage.salesPoolRatio")}),r.jsx("span",{className:"font-medium text-secondary",children:"30%"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:e("admin.bonusPoolPage.totalRwaTokens")}),r.jsxs("span",{className:"font-medium",children:[(s==null?void 0:s.total_rwa_tokens)||0," ",e("admin.bonusPoolPage.tokens")]})]}),r.jsx(M,{className:"w-full",variant:"outline","data-testid":"button-edit-settings",children:e("admin.bonusPoolPage.editSettings")})]})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(dg,{className:"w-5 h-5 text-primary"}),e("admin.bonusPoolPage.dividendNote")]})}),r.jsxs(J,{className:"space-y-3 text-sm text-muted-foreground",children:[r.jsx("p",{children:e("admin.bonusPoolPage.dividendDesc1")}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:e("admin.bonusPoolPage.dividendRule1")}),r.jsx("li",{children:e("admin.bonusPoolPage.dividendRule2")}),r.jsx("li",{children:e("admin.bonusPoolPage.dividendRule3")})]})]})]})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Tt,{className:"w-5 h-5 text-primary"}),e("admin.bonusPoolPage.historyCycles")]})}),r.jsx(J,{children:i.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Tt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:""})]}):r.jsx("div",{className:"space-y-3",children:i.map(u=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`cycle-${u.cycle_number}`,children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"font-medium",children:[e("admin.bonusPoolPage.cycle")," #",u.cycle_number]}),r.jsx(te,{variant:"outline",children:e("admin.bonusPoolPage.settled")})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[d(u.start_date)," ~ ",d(u.end_date)]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-secondary",children:["RM ",(u.total_pool/100).toLocaleString()]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("admin.bonusPoolPage.perToken")," RM ",(u.per_token_value/100).toFixed(2),"  ",u.participating_partners," ",e("admin.bonusPoolPage.people")]})]})]},u.id))})})]})]})})}const Nge=rt.object({name:rt.string().min(1,""),sku:rt.string().min(1,"SKU"),categoryId:rt.string().optional(),stock:rt.coerce.number().min(0,""),minStock:rt.coerce.number().min(0,""),unit:rt.string().min(1,"")});function kge(){const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState(""),[i,o]=j.useState("all"),[l,c]=j.useState(!1),[d,u]=j.useState(!1),[m,h]=j.useState(null),[f,g]=j.useState(""),[p,x]=j.useState(""),[y,v]=j.useState(""),[b,N]=j.useState(!1),w=Zu({resolver:em(Nge),defaultValues:{name:"",sku:"",categoryId:void 0,stock:0,minStock:10,unit:""}}),k=()=>{const C="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let X="INV-";for(let Q=0;Q<6;Q++)X+=C.charAt(Math.floor(Math.random()*C.length));w.setValue("sku",X)},P=Ie({mutationFn:async C=>{let X="normal";C.stock===0?X="out_of_stock":C.stock<C.minStock?X="low":C.stock<C.minStock*2&&(X="critical");const{error:Q}=await Y.from("inventory_items").insert({name:C.name,sku:C.sku,category_id:C.categoryId||null,stock:C.stock,min_stock:C.minStock,unit:C.unit,status:X});if(Q)throw Q},onSuccess:()=>{n.invalidateQueries({queryKey:["inventory-items"]}),N(!1),w.reset(),t({title:""})},onError:C=>{t({title:"",description:String(C),variant:"destructive"})}}),{data:_=[]}=Le({queryKey:["inventory-categories"],queryFn:async()=>{const{data:C,error:X}=await Y.from("inventory_categories").select("*").order("name");return X?(console.error("Error fetching categories:",X),[]):C||[]}}),{data:T=[],isLoading:I}=Le({queryKey:["inventory-items"],queryFn:async()=>{const{data:C,error:X}=await Y.from("inventory_items").select("*").order("name");return X?(console.error("Error fetching inventory:",X),[]):C||[]}}),{data:A=[],isLoading:R}=Le({queryKey:["inventory-ledger"],queryFn:async()=>{const{data:C,error:X}=await Y.from("inventory_ledger").select("*, item:inventory_items(name)").order("created_at",{ascending:!1}).limit(20);return X?(console.error("Error fetching ledger:",X),[]):(C||[]).map(Q=>{var xe;return{...Q,item_name:((xe=Q.item)==null?void 0:xe.name)||""}})}}),E=Ie({mutationFn:async({itemId:C,type:X,quantity:Q,movementType:xe,note:Pe})=>{const{error:ee}=await Y.from("inventory_ledger").insert({item_id:C,type:X,quantity:Q,movement_type:xe,note:Pe,operator:""});if(ee)throw ee;const pe=T.find(ie=>ie.id===C);if(!pe)throw new Error("Item not found");const W=X==="in"?pe.stock+Q:Math.max(0,pe.stock-Q),{error:H}=await Y.from("inventory_items").update({stock:W}).eq("id",C);if(H)throw H},onSuccess:()=>{n.invalidateQueries({queryKey:["inventory-items"]}),n.invalidateQueries({queryKey:["inventory-ledger"]}),c(!1),u(!1),h(null),g(""),x(""),v(""),t({title:""})},onError:C=>{t({title:"",description:String(C),variant:"destructive"})}}),L=()=>{!m||!f||!p||E.mutate({itemId:m.id,type:"in",quantity:parseInt(f),movementType:p,note:y})},$=()=>{!m||!f||!p||E.mutate({itemId:m.id,type:"out",quantity:parseInt(f),movementType:p,note:y})},B=T.filter(C=>{const X=a===""||C.name.toLowerCase().includes(a.toLowerCase())||C.sku.toLowerCase().includes(a.toLowerCase()),Q=i==="all"||C.category_id===i;return X&&Q}),K={totalSku:T.length,lowStock:T.filter(C=>C.status==="low").length,critical:T.filter(C=>C.status==="critical"||C.status==="out_of_stock").length},S=C=>{switch(C){case"normal":return r.jsx(te,{className:"bg-green-500",children:e("admin.inventoryPage.statusNormal")});case"low":return r.jsx(te,{className:"bg-yellow-500",children:e("admin.inventoryPage.statusLow")});case"critical":return r.jsx(te,{className:"bg-red-500",children:e("admin.inventoryPage.statusCritical")});case"out_of_stock":return r.jsx(te,{className:"bg-red-700",children:""});default:return r.jsx(te,{variant:"outline",children:e("admin.inventoryPage.statusUnknown")})}},D=C=>{const X={blue:"bg-blue-500/10 text-blue-600 border-blue-200",green:"bg-green-500/10 text-green-600 border-green-200",purple:"bg-purple-500/10 text-purple-600 border-purple-200",amber:"bg-amber-500/10 text-amber-600 border-amber-200"};return X[C]||X.blue},G=C=>new Date(C).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return I||R?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif","data-testid":"text-inventory-title",children:e("admin.inventoryPage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.inventoryPage.subtitle")})]}),r.jsxs(Tc,{children:[r.jsx(Oc,{asChild:!0,children:r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground shrink-0",size:"sm","data-testid":"button-add-stock",children:[r.jsx(mn,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.inventoryPage.addStock")}),r.jsx("span",{className:"sm:hidden",children:""})]})}),r.jsxs(dl,{children:[r.jsxs(Rr,{onClick:()=>{h(null),c(!0)},"data-testid":"menu-stock-in",children:[r.jsx(nr,{className:"w-4 h-4 mr-2 text-green-500"}),e("admin.inventoryPage.stockIn")]}),r.jsxs(Rr,{onClick:()=>{h(null),u(!0)},"data-testid":"menu-stock-out",children:[r.jsx(Ca,{className:"w-4 h-4 mr-2 text-red-500"}),e("admin.inventoryPage.stockOut")]}),r.jsxs(Rr,{onClick:()=>{w.reset(),k(),N(!0)},"data-testid":"menu-new-item",children:[r.jsx(mn,{className:"w-4 h-4 mr-2 text-primary"}),""]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-4",children:[r.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(X1,{className:"w-4 h-4 sm:w-6 sm:h-6 text-primary"})}),r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:K.totalSku}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:e("admin.inventoryPage.productSku")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-4",children:[r.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:r.jsx(yl,{className:"w-4 h-4 sm:w-6 sm:h-6 text-yellow-500"})}),r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:K.lowStock}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:e("admin.inventoryPage.lowStock")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-4",children:[r.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-red-500/10 flex items-center justify-center shrink-0",children:r.jsx(yl,{className:"w-4 h-4 sm:w-6 sm:h-6 text-red-500"})}),r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-500",children:K.critical}),r.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:e("admin.inventoryPage.criticalStock")})]})]})})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[r.jsxs("span",{className:"text-sm text-muted-foreground mr-2",children:[e("admin.inventoryPage.categories"),":"]}),r.jsx(te,{variant:i==="all"?"default":"outline",className:"cursor-pointer",onClick:()=>o("all"),"data-testid":"category-all",children:e("admin.inventoryPage.allCategories")}),_.map(C=>r.jsx(te,{variant:"outline",className:`cursor-pointer ${i===C.id?D(C.color):""}`,onClick:()=>o(C.id),"data-testid":`category-${C.id}`,children:C.name},C.id))]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Yt,{className:"w-5 h-5 text-primary"}),e("admin.inventoryPage.inventoryStatus")]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.inventoryPage.searchPlaceholder"),className:"pl-9",value:a,onChange:C=>s(C.target.value),"data-testid":"input-search"})]})]})}),r.jsx(J,{children:B.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(X1,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:""})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"md:hidden space-y-3",children:B.map(C=>{const X=_.find(Q=>Q.id===C.category_id);return r.jsxs("div",{className:"border rounded-lg p-3 space-y-2","data-testid":`inventory-card-${C.id}`,children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"font-medium text-sm truncate",children:C.name}),r.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:C.sku})]}),r.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[S(C.status),r.jsxs(Tc,{children:[r.jsx(Oc,{asChild:!0,children:r.jsx(M,{variant:"ghost",size:"icon",className:"h-7 w-7","data-testid":`button-actions-${C.id}`,children:r.jsx(ek,{className:"w-4 h-4"})})}),r.jsxs(dl,{align:"end",children:[r.jsxs(Rr,{onClick:()=>{h(C),c(!0)},children:[r.jsx(nr,{className:"w-4 h-4 mr-2 text-green-500"}),e("admin.inventoryPage.stockIn")]}),r.jsxs(Rr,{onClick:()=>{h(C),u(!0)},children:[r.jsx(Ca,{className:"w-4 h-4 mr-2 text-red-500"}),e("admin.inventoryPage.stockOut")]})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("div",{className:"flex items-center gap-2",children:X&&r.jsx(te,{variant:"outline",className:`text-xs ${D(X.color)}`,children:X.name})}),r.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[r.jsxs("span",{className:"font-bold",children:[C.stock," ",r.jsx("span",{className:"text-muted-foreground font-normal",children:C.unit})]}),r.jsxs("span",{className:"text-muted-foreground",children:["/ ",e("admin.inventoryPage.minStock"),": ",C.min_stock]})]})]})]},C.id)})}),r.jsx("div",{className:"hidden md:block",children:r.jsxs(Cv,{children:[r.jsx(Av,{children:r.jsxs(gc,{children:[r.jsx(zn,{children:e("admin.inventoryPage.itemName")}),r.jsx(zn,{children:e("admin.inventoryPage.sku")}),r.jsx(zn,{children:e("admin.inventoryPage.category")}),r.jsx(zn,{className:"text-center",children:e("admin.inventoryPage.currentStock")}),r.jsx(zn,{className:"text-center",children:e("admin.inventoryPage.minStock")}),r.jsx(zn,{children:e("admin.inventoryPage.status")}),r.jsx(zn,{className:"text-right",children:e("admin.inventoryPage.actions")})]})}),r.jsx(Tv,{children:B.map(C=>{const X=_.find(Q=>Q.id===C.category_id);return r.jsxs(gc,{"data-testid":`inventory-row-${C.id}`,children:[r.jsx(Kn,{className:"font-medium",children:C.name}),r.jsx(Kn,{className:"text-muted-foreground",children:C.sku}),r.jsx(Kn,{children:X&&r.jsx(te,{variant:"outline",className:D(X.color),children:X.name})}),r.jsxs(Kn,{className:"text-center font-bold",children:[C.stock," ",C.unit]}),r.jsxs(Kn,{className:"text-center text-muted-foreground",children:[C.min_stock," ",C.unit]}),r.jsx(Kn,{children:S(C.status)}),r.jsx(Kn,{className:"text-right",children:r.jsxs(Tc,{children:[r.jsx(Oc,{asChild:!0,children:r.jsx(M,{variant:"ghost",size:"icon","data-testid":`button-actions-${C.id}`,children:r.jsx(ek,{className:"w-4 h-4"})})}),r.jsxs(dl,{align:"end",children:[r.jsxs(Rr,{onClick:()=>{h(C),c(!0)},children:[r.jsx(nr,{className:"w-4 h-4 mr-2 text-green-500"}),e("admin.inventoryPage.stockIn")]}),r.jsxs(Rr,{onClick:()=>{h(C),u(!0)},children:[r.jsx(Ca,{className:"w-4 h-4 mr-2 text-red-500"}),e("admin.inventoryPage.stockOut")]})]})]})})]},C.id)})})]})})]})})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(nr,{className:"w-5 h-5 text-primary"}),e("admin.inventoryPage.recentChanges")]})}),r.jsx(J,{children:A.length===0?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:""})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"md:hidden space-y-3",children:A.map(C=>r.jsxs("div",{className:"border rounded-lg p-3 space-y-2","data-testid":`ledger-card-${C.id}`,children:[r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.jsx(te,{className:`shrink-0 text-xs ${C.type==="in"?"bg-green-500":"bg-red-500"}`,children:C.type==="in"?e("admin.inventoryPage.stockIn"):e("admin.inventoryPage.stockOut")}),r.jsx("span",{className:"text-xs text-muted-foreground",children:G(C.created_at)})]}),r.jsxs("span",{className:`font-bold text-sm shrink-0 ${C.type==="in"?"text-green-500":"text-red-500"}`,children:[C.type==="in"?"+":"-",C.quantity]})]}),r.jsx("p",{className:"text-sm font-medium truncate",children:C.item_name}),(C.note||C.movement_type||C.operator)&&r.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[r.jsx("span",{className:"truncate",children:C.note||C.movement_type}),C.operator&&r.jsx("span",{className:"shrink-0 ml-2",children:C.operator})]})]},C.id))}),r.jsx("div",{className:"hidden md:block",children:r.jsxs(Cv,{children:[r.jsx(Av,{children:r.jsxs(gc,{children:[r.jsx(zn,{children:e("admin.inventoryPage.date")}),r.jsx(zn,{children:e("admin.inventoryPage.type")}),r.jsx(zn,{children:e("admin.inventoryPage.product")}),r.jsx(zn,{className:"text-center",children:e("admin.inventoryPage.quantity")}),r.jsx(zn,{children:e("admin.inventoryPage.note")}),r.jsx(zn,{children:e("admin.inventoryPage.operator")})]})}),r.jsx(Tv,{children:A.map(C=>r.jsxs(gc,{"data-testid":`ledger-row-${C.id}`,children:[r.jsx(Kn,{children:G(C.created_at)}),r.jsx(Kn,{children:r.jsx(te,{className:C.type==="in"?"bg-green-500":"bg-red-500",children:C.type==="in"?e("admin.inventoryPage.stockIn"):e("admin.inventoryPage.stockOut")})}),r.jsx(Kn,{className:"font-medium",children:C.item_name}),r.jsxs(Kn,{className:`text-center font-bold ${C.type==="in"?"text-green-500":"text-red-500"}`,children:[C.type==="in"?"+":"-",C.quantity]}),r.jsx(Kn,{className:"text-muted-foreground",children:C.note||C.movement_type}),r.jsx(Kn,{children:C.operator||"-"})]},C.id))})]})})]})})]})]}),r.jsx(lt,{open:l,onOpenChange:c,children:r.jsxs(st,{className:"sm:max-w-[500px] max-h-[90dvh] overflow-y-auto",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2",children:[r.jsx(nr,{className:"w-5 h-5 text-green-500"}),e("admin.inventoryPage.stockIn")]}),r.jsx(Kt,{children:e("admin.inventoryPage.stockInDesc")})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{children:e("admin.inventoryPage.selectProduct")}),r.jsxs(Et,{value:(m==null?void 0:m.id)||"",onValueChange:C=>h(T.find(X=>X.id===C)||null),children:[r.jsx(_t,{"data-testid":"select-product-in",children:r.jsx(Rt,{placeholder:e("admin.inventoryPage.selectProductPlaceholder")})}),r.jsx(Ct,{children:T.map(C=>r.jsxs(ye,{value:C.id,children:[C.name," (",C.sku,")"]},C.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"qty-in",children:e("admin.inventoryPage.quantity")}),r.jsx(se,{id:"qty-in",type:"number",placeholder:"0",value:f,onChange:C=>g(C.target.value),"data-testid":"input-qty-in"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{children:e("admin.inventoryPage.stockInType")}),r.jsxs(Et,{value:p,onValueChange:x,children:[r.jsx(_t,{"data-testid":"select-in-type",children:r.jsx(Rt,{placeholder:e("admin.inventoryPage.selectType")})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"production",children:e("admin.inventoryPage.typeProduction")}),r.jsx(ye,{value:"purchase",children:e("admin.inventoryPage.typePurchase")}),r.jsx(ye,{value:"return",children:e("admin.inventoryPage.typeReturn")}),r.jsx(ye,{value:"adjust",children:e("admin.inventoryPage.typeAdjust")})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"note-in",children:e("admin.inventoryPage.note")}),r.jsx(At,{id:"note-in",placeholder:e("admin.inventoryPage.notePlaceholder"),value:y,onChange:C=>v(C.target.value),"data-testid":"input-note-in"})]})]}),r.jsxs(kt,{children:[r.jsx(M,{variant:"outline",onClick:()=>c(!1),children:e("common.cancel")}),r.jsxs(M,{onClick:L,className:"bg-green-500 hover:bg-green-600",disabled:E.isPending,"data-testid":"button-confirm-in",children:[r.jsx(nr,{className:"w-4 h-4 mr-2"}),e("admin.inventoryPage.confirmStockIn")]})]})]})}),r.jsx(lt,{open:b,onOpenChange:N,children:r.jsxs(st,{className:"sm:max-w-[500px] max-h-[90dvh] overflow-y-auto",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2",children:[r.jsx(mn,{className:"w-5 h-5 text-primary"}),""]}),r.jsx(Kt,{children:""})]}),r.jsx(am,{...w,children:r.jsxs("form",{onSubmit:w.handleSubmit(C=>P.mutate(C)),className:"space-y-4 py-4",children:[r.jsx(wt,{control:w.control,name:"name",render:({field:C})=>r.jsxs(yt,{children:[r.jsx(gt,{children:""}),r.jsx(vt,{children:r.jsx(se,{...C,placeholder:"","data-testid":"input-new-item-name"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:w.control,name:"sku",render:({field:C})=>r.jsxs(yt,{children:[r.jsx(gt,{children:"SKU"}),r.jsx(vt,{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(se,{...C,placeholder:"INV-XXXXXX","data-testid":"input-new-item-sku"}),r.jsx(M,{type:"button",variant:"outline",size:"sm",onClick:k,children:r.jsx(od,{className:"w-4 h-4"})})]})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:w.control,name:"categoryId",render:({field:C})=>r.jsxs(yt,{children:[r.jsx(gt,{children:""}),r.jsxs(Et,{onValueChange:C.onChange,value:C.value,children:[r.jsx(vt,{children:r.jsx(_t,{"data-testid":"select-new-item-category",children:r.jsx(Rt,{placeholder:""})})}),r.jsx(Ct,{children:_.map(X=>r.jsx(ye,{value:X.id,children:X.name},X.id))})]}),r.jsx(jt,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(wt,{control:w.control,name:"stock",render:({field:C})=>r.jsxs(yt,{children:[r.jsx(gt,{children:""}),r.jsx(vt,{children:r.jsx(se,{...C,type:"number",placeholder:"0","data-testid":"input-new-item-stock"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:w.control,name:"minStock",render:({field:C})=>r.jsxs(yt,{children:[r.jsx(gt,{children:""}),r.jsx(vt,{children:r.jsx(se,{...C,type:"number",placeholder:"10","data-testid":"input-new-item-min-stock"})}),r.jsx(jt,{})]})})]}),r.jsx(wt,{control:w.control,name:"unit",render:({field:C})=>r.jsxs(yt,{children:[r.jsx(gt,{children:""}),r.jsx(vt,{children:r.jsx(se,{...C,placeholder:" /  / kg","data-testid":"input-new-item-unit"})}),r.jsx(jt,{})]})}),r.jsxs(kt,{children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>N(!1),children:""}),r.jsxs(M,{type:"submit",disabled:P.isPending,"data-testid":"button-confirm-new-item",children:[P.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})})]})}),r.jsx(lt,{open:d,onOpenChange:u,children:r.jsxs(st,{className:"sm:max-w-[500px] max-h-[90dvh] overflow-y-auto",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2",children:[r.jsx(Ca,{className:"w-5 h-5 text-red-500"}),e("admin.inventoryPage.stockOut")]}),r.jsx(Kt,{children:e("admin.inventoryPage.stockOutDesc")})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{children:e("admin.inventoryPage.selectProduct")}),r.jsxs(Et,{value:(m==null?void 0:m.id)||"",onValueChange:C=>h(T.find(X=>X.id===C)||null),children:[r.jsx(_t,{"data-testid":"select-product-out",children:r.jsx(Rt,{placeholder:e("admin.inventoryPage.selectProductPlaceholder")})}),r.jsx(Ct,{children:T.map(C=>r.jsxs(ye,{value:C.id,children:[C.name," (",C.sku,") - ",e("admin.inventoryPage.currentStock"),": ",C.stock]},C.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"qty-out",children:e("admin.inventoryPage.quantity")}),r.jsx(se,{id:"qty-out",type:"number",placeholder:"0",value:f,onChange:C=>g(C.target.value),"data-testid":"input-qty-out"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{children:e("admin.inventoryPage.stockOutType")}),r.jsxs(Et,{value:p,onValueChange:x,children:[r.jsx(_t,{"data-testid":"select-out-type",children:r.jsx(Rt,{placeholder:e("admin.inventoryPage.selectType")})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"sales",children:e("admin.inventoryPage.typeSales")}),r.jsx(ye,{value:"production",children:e("admin.inventoryPage.typeProductionUse")}),r.jsx(ye,{value:"damage",children:e("admin.inventoryPage.typeDamage")}),r.jsx(ye,{value:"adjust",children:e("admin.inventoryPage.typeAdjust")})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Be,{htmlFor:"note-out",children:e("admin.inventoryPage.note")}),r.jsx(At,{id:"note-out",placeholder:e("admin.inventoryPage.notePlaceholder"),value:y,onChange:C=>v(C.target.value),"data-testid":"input-note-out"})]})]}),r.jsxs(kt,{children:[r.jsx(M,{variant:"outline",onClick:()=>u(!1),children:e("common.cancel")}),r.jsxs(M,{onClick:$,className:"bg-red-500 hover:bg-red-600",disabled:E.isPending,"data-testid":"button-confirm-out",children:[r.jsx(Ca,{className:"w-4 h-4 mr-2"}),e("admin.inventoryPage.confirmStockOut")]})]})]})})]})}const Pge=rt.object({name:rt.string().min(1,""),contactPerson:rt.string().optional(),phone:rt.string().optional(),email:rt.string().optional(),address:rt.string().optional(),category:rt.string().optional(),notes:rt.string().optional()}),Sge=rt.object({supplierId:rt.string().min(1,""),expectedDate:rt.string().optional(),notes:rt.string().optional(),items:rt.array(rt.object({itemName:rt.string().min(1,""),quantity:rt.coerce.number().min(1,"1"),unitPrice:rt.coerce.number().min(.01,"0")})).min(1,"")});function _ge(){const{t:e}=ct(),{toast:t}=Wt(),{member:n}=Qt(),a=Sn(),[s,i]=j.useState(""),[o,l]=j.useState("orders"),[c,d]=j.useState(!1),[u,m]=j.useState(!1),[h,f]=j.useState(!1),[g,p]=j.useState(null),[x,y]=j.useState("info"),v=j.useRef(null),b=j.useRef(null),[N,w]=j.useState(!1),[k,P]=j.useState(!1),[_,T]=j.useState(""),[I,A]=j.useState(""),R=Zu({resolver:em(Pge),defaultValues:{name:"",contactPerson:"",phone:"",email:"",address:"",category:"",notes:""}}),E=Zu({resolver:em(Sge),defaultValues:{supplierId:"",expectedDate:"",notes:"",items:[{itemName:"",quantity:1,unitPrice:0}]}}),{fields:L,append:$,remove:B}=ape({control:E.control,name:"items"}),K=()=>{const ce=new Date().toISOString().slice(0,10).replace(/-/g,""),he=Math.floor(1e3+Math.random()*9e3);return`PO-${ce}-${he}`},S=()=>{const ce=new Date().toISOString().slice(0,10).replace(/-/g,""),he=Math.floor(1e3+Math.random()*9e3);return`BILL-${ce}-${he}`},{data:D={}}=Le({queryKey:["member-names"],queryFn:async()=>{const{data:z}=await Y.from("members").select("id, name"),ce={};return(z||[]).forEach(he=>{ce[he.id]=he.name}),ce}}),G=Ie({mutationFn:async z=>{const{error:ce}=await Y.from("suppliers").insert({name:z.name,contact_person:z.contactPerson||null,phone:z.phone||null,email:z.email||null,address:z.address||null,category:z.category||null,notes:z.notes||null});if(ce)throw ce},onSuccess:()=>{a.invalidateQueries({queryKey:["admin-suppliers"]}),d(!1),R.reset(),t({title:""})},onError:z=>{t({title:"",description:String(z),variant:"destructive"})}}),q=Ie({mutationFn:async z=>{const ce=F.find(at=>at.id===z.supplierId),he=z.items.map(at=>({name:at.itemName,quantity:at.quantity,unit_price:Math.round(at.unitPrice*100),total:Math.round(at.quantity*at.unitPrice*100)})),ge=he.reduce((at,rn)=>at+rn.total,0),{error:Me}=await Y.from("purchase_orders").insert({order_number:K(),supplier_id:z.supplierId,supplier_name:(ce==null?void 0:ce.name)||"",items:he,total_amount:ge,status:"pending",expected_date:z.expectedDate||null,notes:z.notes||null,created_by:(n==null?void 0:n.id)||null});if(Me)throw Me},onSuccess:()=>{a.invalidateQueries({queryKey:["admin-purchase-orders"]}),m(!1),E.reset(),t({title:""})},onError:z=>{t({title:"",description:String(z),variant:"destructive"})}}),X=(E.watch("items")||[]).reduce((z,ce)=>z+(ce.quantity||0)*(ce.unitPrice||0),0),Q=Ie({mutationFn:async z=>{const{id:ce,...he}=z,{error:ge}=await Y.from("purchase_orders").update(he).eq("id",ce);if(ge)throw ge},onSuccess:()=>{a.invalidateQueries({queryKey:["admin-purchase-orders"]}),t({title:""})},onError:z=>{t({title:"",description:String(z),variant:"destructive"})}}),xe=()=>{!g||!(n!=null&&n.id)||(Q.mutate({id:g.id,status:"approved",approved_by:n.id,approved_at:new Date().toISOString()}),p({...g,status:"approved",approved_by:n.id,approved_at:new Date().toISOString()}))},Pe=()=>{if(!g)return;const z=I?Math.round(parseFloat(I)*100):null;Q.mutate({id:g.id,invoice_number:_||null,invoice_amount:z}),p({...g,invoice_number:_||null,invoice_amount:z})},ee=async z=>{if(g){w(!0);try{const ce=z.name.split(".").pop(),he=`invoices/${g.id}-${Date.now()}.${ce}`,{error:ge}=await Y.storage.from("purchase-docs").upload(he,z);if(ge)throw ge;const{data:{publicUrl:Me}}=Y.storage.from("purchase-docs").getPublicUrl(he);await Q.mutateAsync({id:g.id,invoice_url:Me}),p({...g,invoice_url:Me}),t({title:""})}catch(ce){t({title:"",description:String(ce),variant:"destructive"})}finally{w(!1)}}},pe=()=>{!g||!(n!=null&&n.id)||(Q.mutate({id:g.id,bank_status:"maker_done",bank_maker_id:n.id,bank_maker_at:new Date().toISOString()}),p({...g,bank_status:"maker_done",bank_maker_id:n.id,bank_maker_at:new Date().toISOString()}))},W=()=>{!g||!(n!=null&&n.id)||(Q.mutate({id:g.id,bank_status:"approver_done",bank_approver_id:n.id,bank_approver_at:new Date().toISOString()}),p({...g,bank_status:"approver_done",bank_approver_id:n.id,bank_approver_at:new Date().toISOString()}))},H=async z=>{if(g){P(!0);try{const ce=z.name.split(".").pop(),he=`receipts/${g.id}-${Date.now()}.${ce}`,{error:ge}=await Y.storage.from("purchase-docs").upload(he,z);if(ge)throw ge;const{data:{publicUrl:Me}}=Y.storage.from("purchase-docs").getPublicUrl(he),at=S(),{data:rn,error:Qn}=await Y.from("bills").insert({bill_number:at,type:"purchase",category:"",amount:g.invoice_amount||g.total_amount,description:` ${g.order_number} - ${g.supplier_name}`,status:"paid",paid_date:new Date().toISOString(),vendor:g.supplier_name,reference_type:"purchase_order",reference_id:g.id,created_by:n==null?void 0:n.id}).select("id").single();if(Qn)throw Qn;await Q.mutateAsync({id:g.id,receipt_url:Me,paid_at:new Date().toISOString(),bank_status:"paid",bill_id:rn.id,status:"received"}),p({...g,receipt_url:Me,paid_at:new Date().toISOString(),bank_status:"paid",bill_id:rn.id,status:"received"}),t({title:""})}catch(ce){t({title:"",description:String(ce),variant:"destructive"})}finally{P(!1)}}},ie=()=>{g&&(Q.mutate({id:g.id,status:"shipped"}),p({...g,status:"shipped"}))},ae=()=>{g&&(Q.mutate({id:g.id,status:"received",received_date:new Date().toISOString()}),p({...g,status:"received",received_date:new Date().toISOString()}))},le=z=>{p(z),T(z.invoice_number||""),A(z.invoice_amount?(z.invoice_amount/100).toString():""),y("info"),f(!0)},{data:ve=[],isLoading:ne}=Le({queryKey:["admin-purchase-orders"],queryFn:async()=>{const{data:z,error:ce}=await Y.from("purchase_orders").select("*").order("created_at",{ascending:!1});return ce?(console.error("Error fetching purchase orders:",ce),[]):z||[]}}),{data:F=[],isLoading:me}=Le({queryKey:["admin-suppliers"],queryFn:async()=>{const{data:z,error:ce}=await Y.from("suppliers").select("*").order("name");return ce?(console.error("Error fetching suppliers:",ce),[]):z||[]}}),je=z=>{switch(z){case"pending":return{label:"",icon:Tt,color:"text-yellow-500",bg:"bg-yellow-500/10"};case"approved":return{label:"",icon:De,color:"text-blue-500",bg:"bg-blue-500/10"};case"shipped":return{label:"",icon:os,color:"text-primary",bg:"bg-primary/10"};case"received":return{label:"",icon:Yt,color:"text-green-500",bg:"bg-green-500/10"};default:return{label:"",icon:Tt,color:"text-muted-foreground",bg:"bg-muted"}}},oe=z=>{switch(z){case"pending":return{label:"",color:"text-yellow-500",bg:"bg-yellow-500/10"};case"maker_done":return{label:"Maker",color:"text-blue-500",bg:"bg-blue-500/10"};case"approver_done":return{label:"Approver",color:"text-primary",bg:"bg-primary/10"};case"paid":return{label:"",color:"text-green-500",bg:"bg-green-500/10"};case"failed":return{label:"",color:"text-red-500",bg:"bg-red-500/10"};default:return{label:"",color:"text-muted-foreground",bg:"bg-muted"}}},Ee=ve.filter(z=>s===""||z.order_number.toLowerCase().includes(s.toLowerCase())||z.supplier_name.toLowerCase().includes(s.toLowerCase())),tt=z=>z?new Date(z).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",O=z=>z?new Date(z).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-";return ne||me?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-purchase-title",children:e("admin.purchasePage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.purchasePage.subtitle")})]}),r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:()=>{E.reset({supplierId:"",expectedDate:"",notes:"",items:[{itemName:"",quantity:1,unitPrice:0}]}),m(!0)},"data-testid":"button-new-po",children:[r.jsx(mn,{className:"w-4 h-4"}),e("admin.purchasePage.newPo")]})]}),r.jsxs(Pn,{value:o,onValueChange:l,children:[r.jsxs(yn,{className:"grid w-full grid-cols-2",children:[r.jsx(ke,{value:"orders","data-testid":"tab-orders",children:e("admin.purchasePage.purchaseOrders")}),r.jsx(ke,{value:"suppliers","data-testid":"tab-suppliers",children:e("admin.purchasePage.suppliers")})]}),r.jsx(Nt,{value:"orders",className:"mt-4",children:r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Qo,{className:"w-5 h-5 text-primary"}),e("admin.purchasePage.purchaseOrders")," (",ve.length,")"]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.purchasePage.searchPlaceholder"),className:"pl-9",value:s,onChange:z=>i(z.target.value),"data-testid":"input-search"})]})]})}),r.jsx(J,{children:Ee.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Qo,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:""})]}):r.jsx("div",{className:"space-y-3",children:Ee.map(z=>{const ce=je(z.status),he=ce.icon,ge=oe(z.bank_status);return r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3","data-testid":`po-${z.order_number}`,children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[r.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center shrink-0 ${ce.bg}`,children:r.jsx(he,{className:`w-4 h-4 sm:w-5 sm:h-5 ${ce.color}`})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[r.jsx("span",{className:"font-mono text-xs sm:text-sm",children:z.order_number}),r.jsx(te,{variant:"outline",className:"text-xs",children:ce.label}),z.bank_status&&z.bank_status!=="pending"&&r.jsx(te,{className:`${ge.bg} ${ge.color} text-xs`,children:ge.label})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[r.jsx("span",{className:"truncate",children:z.supplier_name}),r.jsx("span",{className:"shrink-0",children:tt(z.created_at)})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 pl-12 sm:pl-0",children:[r.jsxs("span",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(z.total_amount/100).toLocaleString()]}),r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>le(z),"data-testid":`button-view-${z.order_number}`,children:[r.jsx(pr,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:""})]})]})]},z.id)})})})]})}),r.jsx(Nt,{value:"suppliers",className:"mt-4",children:r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(as,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.purchasePage.supplierList")]}),r.jsxs(M,{variant:"outline",className:"gap-2 w-full sm:w-auto",onClick:()=>{R.reset(),d(!0)},"data-testid":"button-add-supplier",children:[r.jsx(mn,{className:"w-4 h-4"}),e("admin.purchasePage.addSupplier")]})]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:F.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(as,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:""})]}):r.jsx("div",{className:"space-y-3",children:F.map(z=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg gap-3","data-testid":`supplier-${z.id}`,children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[r.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(as,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:z.name}),r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:[z.contact_person||"-","  ",z.phone||"-"]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 sm:gap-4 pl-12 sm:pl-0",children:[r.jsxs(te,{variant:"outline",className:"text-xs",children:[z.total_orders??0," "]}),r.jsx(M,{variant:"outline",size:"sm",className:"h-8","data-testid":`button-edit-${z.id}`,children:""})]})]},z.id))})})]})})]})]}),r.jsx(lt,{open:c,onOpenChange:d,children:r.jsxs(st,{className:"w-[95vw] max-w-[500px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(as,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),""]}),r.jsx(Kt,{className:"text-sm",children:""})]}),r.jsx(am,{...R,children:r.jsxs("form",{onSubmit:R.handleSubmit(z=>G.mutate(z)),className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[r.jsx(wt,{control:R.control,name:"name",render:({field:z})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:" *"}),r.jsx(vt,{children:r.jsx(se,{...z,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-supplier-name"})}),r.jsx(jt,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsx(wt,{control:R.control,name:"contactPerson",render:({field:z})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(se,{...z,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-supplier-contact"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:R.control,name:"phone",render:({field:z})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(se,{...z,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-supplier-phone"})}),r.jsx(jt,{})]})})]}),r.jsx(wt,{control:R.control,name:"email",render:({field:z})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(se,{...z,type:"email",placeholder:"",className:"h-9 sm:h-10","data-testid":"input-supplier-email"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:R.control,name:"address",render:({field:z})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(se,{...z,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-supplier-address"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:R.control,name:"category",render:({field:z})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(se,{...z,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-supplier-category"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:R.control,name:"notes",render:({field:z})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(At,{...z,placeholder:"",className:"min-h-[80px]","data-testid":"input-supplier-notes"})}),r.jsx(jt,{})]})}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>d(!1),className:"w-full sm:w-auto",children:""}),r.jsxs(M,{type:"submit",disabled:G.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-supplier",children:[G.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})})]})}),r.jsx(lt,{open:u,onOpenChange:m,children:r.jsxs(st,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Qo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),""]}),r.jsx(Kt,{className:"text-sm",children:""})]}),r.jsx(am,{...E,children:r.jsxs("form",{onSubmit:E.handleSubmit(z=>q.mutate(z)),className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[r.jsx(wt,{control:E.control,name:"supplierId",render:({field:z})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:" *"}),r.jsxs(Et,{onValueChange:z.onChange,value:z.value,children:[r.jsx(vt,{children:r.jsx(_t,{className:"h-9 sm:h-10","data-testid":"select-po-supplier",children:r.jsx(Rt,{placeholder:""})})}),r.jsx(Ct,{children:F.map(ce=>r.jsx(ye,{value:ce.id,children:ce.name},ce.id))})]}),r.jsx(jt,{})]})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(gt,{className:"text-sm",children:" *"}),r.jsxs(M,{type:"button",variant:"outline",size:"sm",className:"h-8 text-xs sm:text-sm",onClick:()=>$({itemName:"",quantity:1,unitPrice:0}),children:[r.jsx(mn,{className:"w-3.5 h-3.5 mr-1"})," "]})]}),r.jsx("div",{className:"space-y-3",children:L.map((z,ce)=>r.jsx("div",{className:"p-2.5 sm:p-3 border rounded-lg space-y-2 sm:space-y-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-2",children:[r.jsx(wt,{control:E.control,name:`items.${ce}.itemName`,render:({field:he})=>r.jsxs(yt,{className:"flex-1",children:[r.jsx(gt,{className:"text-xs sm:text-sm",children:ce===0?"":r.jsx("span",{className:"sm:hidden",children:""})}),r.jsx(vt,{children:r.jsx(se,{...he,placeholder:"",className:"h-9 sm:h-10"})}),r.jsx(jt,{})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(wt,{control:E.control,name:`items.${ce}.quantity`,render:({field:he})=>r.jsxs(yt,{className:"w-20 sm:w-24",children:[r.jsx(gt,{className:"text-xs sm:text-sm",children:ce===0?"":r.jsx("span",{className:"sm:hidden",children:""})}),r.jsx(vt,{children:r.jsx(se,{...he,type:"number",min:1,placeholder:"1",className:"h-9 sm:h-10"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:E.control,name:`items.${ce}.unitPrice`,render:({field:he})=>r.jsxs(yt,{className:"w-24 sm:w-28",children:[r.jsx(gt,{className:"text-xs sm:text-sm",children:ce===0?"(RM)":r.jsx("span",{className:"sm:hidden",children:""})}),r.jsx(vt,{children:r.jsx(se,{...he,type:"number",step:"0.01",placeholder:"0.00",className:"h-9 sm:h-10"})}),r.jsx(jt,{})]})}),L.length>1&&r.jsx(M,{type:"button",variant:"ghost",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 mt-auto shrink-0",onClick:()=>B(ce),children:r.jsx(Dn,{className:"w-4 h-4 text-destructive"})})]})]})},z.id))}),r.jsxs("div",{className:"text-right mt-2 font-bold text-primary text-sm sm:text-base",children:[": RM ",X.toFixed(2)]})]}),r.jsx(wt,{control:E.control,name:"expectedDate",render:({field:z})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(se,{...z,type:"date",className:"h-9 sm:h-10","data-testid":"input-po-expected-date"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:E.control,name:"notes",render:({field:z})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(At,{...z,placeholder:"",className:"min-h-[80px]","data-testid":"input-po-notes"})}),r.jsx(jt,{})]})}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>m(!1),className:"w-full sm:w-auto",children:""}),r.jsxs(M,{type:"submit",disabled:q.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-po",children:[q.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})})]})}),r.jsx(lt,{open:h,onOpenChange:f,children:r.jsxs(st,{className:"w-[95vw] max-w-[800px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsx(it,{children:r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Qo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),r.jsxs("span",{className:"truncate",children:[" - ",g==null?void 0:g.order_number]})]})}),g&&r.jsxs(Pn,{value:x,onValueChange:y,className:"mt-2 sm:mt-4",children:[r.jsxs(yn,{className:"grid w-full grid-cols-4 h-auto p-1",children:[r.jsxs(ke,{value:"info",className:"flex flex-col sm:flex-row gap-0.5 sm:gap-1 text-[10px] sm:text-xs px-1 sm:px-3 py-1.5 sm:py-2",children:[r.jsx(qi,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{className:"sm:hidden",children:""})]}),r.jsxs(ke,{value:"invoice",className:"flex flex-col sm:flex-row gap-0.5 sm:gap-1 text-[10px] sm:text-xs px-1 sm:px-3 py-1.5 sm:py-2",children:[r.jsx(qO,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:"/"}),r.jsx("span",{className:"sm:hidden",children:""})]}),r.jsxs(ke,{value:"payment",className:"flex flex-col sm:flex-row gap-0.5 sm:gap-1 text-[10px] sm:text-xs px-1 sm:px-3 py-1.5 sm:py-2",children:[r.jsx(Lr,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{className:"sm:hidden",children:""})]}),r.jsxs(ke,{value:"receipt",className:"flex flex-col sm:flex-row gap-0.5 sm:gap-1 text-[10px] sm:text-xs px-1 sm:px-3 py-1.5 sm:py-2",children:[r.jsx(Xr,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:""}),r.jsx("span",{className:"sm:hidden",children:""})]})]}),r.jsxs(Nt,{value:"info",className:"space-y-3 sm:space-y-4 mt-3 sm:mt-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:g.supplier_name})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx(te,{className:`${je(g.status).bg} text-xs`,children:je(g.status).label})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Kr,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," "]}),r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:g.created_by?D[g.created_by]||g.created_by:"-"})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(ur,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," "]}),r.jsx("p",{className:"font-medium text-sm sm:text-base",children:O(g.created_at)})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(De,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," "]}),r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:g.approved_by?D[g.approved_by]||g.approved_by:"-"})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"font-medium text-sm sm:text-base",children:O(g.approved_at)})]})]}),r.jsx(Qr,{}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-2",children:""}),r.jsx("div",{className:"border rounded-lg divide-y",children:Array.isArray(g.items)&&g.items.map((z,ce)=>r.jsxs("div",{className:"flex items-center justify-between p-2.5 sm:p-3 gap-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:z.name}),r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[z.quantity,"  RM ",(z.unit_price/100).toFixed(2)]})]}),r.jsxs("p",{className:"font-bold text-sm sm:text-base shrink-0",children:["RM ",(z.total/100).toFixed(2)]})]},ce))}),r.jsxs("div",{className:"flex justify-between items-center mt-2 sm:mt-3 pt-2 sm:pt-3 border-t",children:[r.jsx("span",{className:"font-medium text-sm sm:text-base",children:""}),r.jsxs("span",{className:"text-lg sm:text-xl font-bold text-primary",children:["RM ",(g.total_amount/100).toLocaleString()]})]})]}),g.notes&&r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:""}),r.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg",children:g.notes})]})]}),g.status==="pending"&&r.jsx("div",{className:"flex justify-end pt-2 sm:pt-4",children:r.jsxs(M,{onClick:xe,disabled:Q.isPending,className:"w-full sm:w-auto",children:[Q.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r.jsx(De,{className:"w-4 h-4 mr-2"}),""]})}),g.status==="approved"&&r.jsx("div",{className:"flex justify-end gap-2 pt-2 sm:pt-4",children:r.jsxs(M,{variant:"outline",onClick:ie,disabled:Q.isPending,className:"w-full sm:w-auto",children:[r.jsx(os,{className:"w-4 h-4 mr-2"}),""]})}),g.status==="shipped"&&r.jsx("div",{className:"flex justify-end gap-2 pt-2 sm:pt-4",children:r.jsxs(M,{onClick:ae,disabled:Q.isPending,className:"w-full sm:w-auto",children:[r.jsx(Yt,{className:"w-4 h-4 mr-2"}),""]})})]}),r.jsxs(Nt,{value:"invoice",className:"space-y-3 sm:space-y-4 mt-3 sm:mt-4",children:[r.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg space-y-3 sm:space-y-4",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[r.jsx(qO,{className:"w-4 h-4 text-primary"}),""]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx(se,{value:_,onChange:z=>T(z.target.value),placeholder:"",className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:" (RM)"}),r.jsx(se,{type:"number",step:"0.01",value:I,onChange:z=>A(z.target.value),placeholder:"0.00",className:"h-9 sm:h-10"})]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsx(M,{variant:"outline",size:"sm",onClick:Pe,disabled:Q.isPending,className:"w-full sm:w-auto",children:""})})]}),r.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg space-y-3 sm:space-y-4",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[r.jsx(dy,{className:"w-4 h-4 text-primary"}),""]}),r.jsx("input",{type:"file",ref:v,className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:z=>{var he;const ce=(he=z.target.files)==null?void 0:he[0];ce&&ee(ce)}}),g.invoice_url?r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-green-500/10 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx(De,{className:"w-5 h-5 text-green-500 shrink-0"}),r.jsx("span",{className:"text-sm truncate",children:""})]}),r.jsxs("div",{className:"flex gap-2 pl-7 sm:pl-0",children:[r.jsx(M,{variant:"outline",size:"sm",className:"h-8 flex-1 sm:flex-none",asChild:!0,children:r.jsxs("a",{href:g.invoice_url,target:"_blank",rel:"noopener noreferrer",children:[r.jsx(fu,{className:"w-4 h-4 mr-1"}),""]})}),r.jsx(M,{variant:"outline",size:"sm",className:"h-8 flex-1 sm:flex-none",onClick:()=>{var z;return(z=v.current)==null?void 0:z.click()},children:""})]})]}):r.jsxs(M,{variant:"outline",onClick:()=>{var z;return(z=v.current)==null?void 0:z.click()},disabled:N,className:"w-full sm:w-auto",children:[N?r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(dy,{className:"w-4 h-4 mr-2"})," (PDF/)"]})]})]}),r.jsxs(Nt,{value:"payment",className:"space-y-3 sm:space-y-4 mt-3 sm:mt-4",children:[r.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[r.jsx(Lr,{className:"w-4 h-4 text-primary"}),""]}),r.jsx(te,{className:`${oe(g.bank_status).bg} text-xs`,children:oe(g.bank_status).label})]}),r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsx("div",{className:`p-2.5 sm:p-3 rounded-lg border ${g.bank_maker_id?"bg-green-500/5 border-green-500/20":"bg-muted/50"}`,children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm ${g.bank_maker_id?"bg-green-500 text-white":"bg-muted-foreground/20"}`,children:"1"}),r.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Maker "})]}),g.bank_maker_id?r.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground pl-7 sm:pl-0",children:[D[g.bank_maker_id]||g.bank_maker_id,"  ",O(g.bank_maker_at)]}):g.status==="approved"&&!g.bank_maker_id&&r.jsx(M,{size:"sm",onClick:pe,disabled:Q.isPending,className:"h-8 ml-7 sm:ml-0 w-fit",children:""})]})}),r.jsx("div",{className:`p-2.5 sm:p-3 rounded-lg border ${g.bank_approver_id?"bg-green-500/5 border-green-500/20":"bg-muted/50"}`,children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm ${g.bank_approver_id?"bg-green-500 text-white":"bg-muted-foreground/20"}`,children:"2"}),r.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Approver "})]}),g.bank_approver_id?r.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground pl-7 sm:pl-0",children:[D[g.bank_approver_id]||g.bank_approver_id,"  ",O(g.bank_approver_at)]}):g.bank_status==="maker_done"&&r.jsx(M,{size:"sm",onClick:W,disabled:Q.isPending,className:"h-8 ml-7 sm:ml-0 w-fit",children:""})]})}),r.jsx("div",{className:`p-2.5 sm:p-3 rounded-lg border ${g.bank_status==="paid"?"bg-green-500/5 border-green-500/20":"bg-muted/50"}`,children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm ${g.bank_status==="paid"?"bg-green-500 text-white":"bg-muted-foreground/20"}`,children:"3"}),r.jsx("span",{className:"font-medium text-sm sm:text-base",children:""})]}),g.paid_at&&r.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground pl-7 sm:pl-0",children:O(g.paid_at)})]})})]}),g.bank_status==="approver_done"&&!g.receipt_url&&r.jsxs("div",{className:"p-2.5 sm:p-3 bg-yellow-500/10 rounded-lg flex items-start gap-2",children:[r.jsx(Wu,{className:"w-4 h-4 text-yellow-500 mt-0.5 shrink-0"}),r.jsx("p",{className:"text-xs sm:text-sm",children:'"" Receipt '})]})]}),r.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:""}),r.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsxs("span",{children:["RM ",(g.total_amount/100).toFixed(2)]})]}),g.invoice_amount&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:""}),r.jsxs("span",{children:["RM ",(g.invoice_amount/100).toFixed(2)]})]}),r.jsx(Qr,{}),r.jsxs("div",{className:"flex justify-between font-bold text-sm sm:text-base",children:[r.jsx("span",{children:""}),r.jsxs("span",{className:"text-primary",children:["RM ",((g.invoice_amount||g.total_amount)/100).toFixed(2)]})]})]})]})]}),r.jsx(Nt,{value:"receipt",className:"space-y-3 sm:space-y-4 mt-3 sm:mt-4",children:r.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg space-y-3 sm:space-y-4",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[r.jsx(Xr,{className:"w-4 h-4 text-primary"})," (Receipt)"]}),r.jsx("input",{type:"file",ref:b,className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:z=>{var he;const ce=(he=z.target.files)==null?void 0:he[0];ce&&H(ce)}}),g.receipt_url?r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-green-500/10 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx(De,{className:"w-5 h-5 text-green-500 shrink-0"}),r.jsx("span",{className:"text-sm truncate",children:""})]}),r.jsx(M,{variant:"outline",size:"sm",className:"h-8 w-full sm:w-auto",asChild:!0,children:r.jsxs("a",{href:g.receipt_url,target:"_blank",rel:"noopener noreferrer",children:[r.jsx(fu,{className:"w-4 h-4 mr-1"}),""]})})]}),g.paid_at&&r.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[": ",O(g.paid_at)]}),g.bill_id&&r.jsx("div",{className:"p-2.5 sm:p-3 bg-primary/5 rounded-lg",children:r.jsxs("p",{className:"text-xs sm:text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"ID: "}),r.jsx("span",{className:"font-mono text-xs break-all",children:g.bill_id})]})})]}):r.jsx(r.Fragment,{children:g.bank_status==="approver_done"?r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsxs("ul",{className:"text-xs sm:text-sm text-muted-foreground list-disc list-inside space-y-0.5 sm:space-y-1",children:[r.jsx("li",{children:""}),r.jsx("li",{children:""}),r.jsx("li",{children:""})]}),r.jsxs(M,{onClick:()=>{var z;return(z=b.current)==null?void 0:z.click()},disabled:k,className:"w-full sm:w-auto",children:[k?r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(dy,{className:"w-4 h-4 mr-2"}),""]})]}):r.jsx("div",{className:"p-2.5 sm:p-3 bg-muted rounded-lg text-xs sm:text-sm text-muted-foreground",children:"Maker  Approver"})})]})})]}),r.jsx(kt,{className:"mt-3 sm:mt-4",children:r.jsx(M,{variant:"outline",onClick:()=>f(!1),className:"w-full sm:w-auto",children:""})})]})})]})}function Cge(){const{t:e}=ct(),[t,n]=j.useState(""),{data:a=[],isLoading:s}=Le({queryKey:["admin-shipments"],queryFn:async()=>{const{data:d,error:u}=await Y.from("shipments").select("*").order("created_at",{ascending:!1});return u?(console.error("Error fetching shipments:",u),[]):d||[]}}),i=d=>{switch(d){case"pending":return{label:e("admin.logisticsPage.pendingShipment"),icon:Tt,color:"text-yellow-500",bg:"bg-yellow-500/10"};case"in_transit":return{label:e("admin.logisticsPage.inTransit"),icon:os,color:"text-blue-500",bg:"bg-blue-500/10"};case"delivered":return{label:e("admin.logisticsPage.delivered"),icon:De,color:"text-green-500",bg:"bg-green-500/10"};default:return{label:e("admin.logisticsPage.statusUnknown"),icon:Yt,color:"text-muted-foreground",bg:"bg-muted"}}},o=a.filter(d=>t===""||d.shipment_number.toLowerCase().includes(t.toLowerCase())||d.order_number&&d.order_number.toLowerCase().includes(t.toLowerCase())||d.destination.toLowerCase().includes(t.toLowerCase())),l={total:a.length,inTransit:a.filter(d=>d.status==="in_transit").length,pending:a.filter(d=>d.status==="pending").length,delivered:a.filter(d=>d.status==="delivered").length},c=d=>d?new Date(d).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-";return s?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(ut,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-logistics-title",children:e("admin.logisticsPage.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.logisticsPage.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold",children:l.total}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.logisticsPage.totalShipments")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:l.pending}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.logisticsPage.pendingShipment")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-500",children:l.inTransit}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.logisticsPage.inTransit")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-green-500",children:l.delivered}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.logisticsPage.delivered")})]})})]}),r.jsx(V,{className:"bg-gradient-to-r from-blue-500/10 to-primary/10 border-blue-500/20",children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:r.jsx(Wf,{className:"w-6 h-6 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold",children:e("admin.logisticsPage.coldChainMonitor")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.logisticsPage.tempNormal")})]}),r.jsxs(te,{className:"ml-auto bg-green-500 text-white gap-1",children:[r.jsx(De,{className:"w-3 h-3"}),e("admin.logisticsPage.statusNormal")]})]})}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(os,{className:"w-5 h-5 text-primary"}),e("admin.logisticsPage.shipmentList")]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.logisticsPage.searchPlaceholder"),className:"pl-9",value:t,onChange:d=>n(d.target.value),"data-testid":"input-search"})]})]})}),r.jsx(J,{children:o.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(os,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:""})]}):r.jsx("div",{className:"space-y-3",children:o.map(d=>{const u=i(d.status),m=u.icon;return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`shipment-${d.shipment_number}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${u.bg}`,children:r.jsx(m,{className:`w-5 h-5 ${u.color}`})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-mono text-sm",children:d.shipment_number}),r.jsx(te,{variant:"outline",children:u.label})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[r.jsxs("span",{children:[e("admin.logisticsPage.order"),": ",d.order_number||"-"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Il,{className:"w-3 h-3"}),d.destination]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right hidden md:block",children:[r.jsxs("p",{className:"text-sm font-medium flex items-center gap-1",children:[r.jsx(Wf,{className:"w-4 h-4 text-blue-500"}),d.temperature]}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["ETA: ",c(d.eta)]})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1","data-testid":`button-track-${d.shipment_number}`,children:[r.jsx(pr,{className:"w-4 h-4"}),e("admin.logisticsPage.track")]})]})]},d.id)})})})]})]})})}const Age=rt.object({billNumber:rt.string().min(1),type:rt.enum(["purchase","logistics","operation"],{required_error:""}),vendor:rt.string().min(1,""),amount:rt.coerce.number().min(.01,"0"),dueDate:rt.string().min(1,""),category:rt.string().optional(),description:rt.string().optional(),notes:rt.string().optional()});function Tge(){const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState(""),[i,o]=j.useState("all"),[l,c]=j.useState(!1),[d,u]=j.useState(!1),[m,h]=j.useState(null),f=()=>{const E=new Date().toISOString().slice(0,10).replace(/-/g,""),L=Math.floor(1e3+Math.random()*9e3);return`BILL-${E}-${L}`},g=Zu({resolver:em(Age),defaultValues:{billNumber:"",type:"purchase",vendor:"",amount:0,dueDate:"",category:"",description:"",notes:""}}),p=Ie({mutationFn:async R=>{const{error:E}=await Y.from("bills").insert({bill_number:R.billNumber,type:R.type,vendor:R.vendor,amount:Math.round(R.amount*100),due_date:R.dueDate,category:R.category||null,description:R.description||null,notes:R.notes||null,status:"pending"});if(E)throw E},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-bills"]}),c(!1),g.reset(),t({title:""})},onError:R=>{t({title:"",description:String(R),variant:"destructive"})}}),x=Ie({mutationFn:async R=>{const{error:E}=await Y.from("bills").update({status:"paid",paid_date:new Date().toISOString()}).eq("id",R);if(E)throw E},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-bills"]}),m&&h({...m,status:"paid",paid_date:new Date().toISOString()}),t({title:""})},onError:R=>{t({title:"",description:String(R),variant:"destructive"})}}),y=()=>{g.reset({billNumber:f(),type:"purchase",vendor:"",amount:0,dueDate:"",category:"",description:"",notes:""}),c(!0)},v=R=>{h(R),u(!0)},{data:b=[],isLoading:N}=Le({queryKey:["admin-bills"],queryFn:async()=>{const{data:R,error:E}=await Y.from("bills").select("*").order("due_date",{ascending:!0});return E?(console.error("Error fetching bills:",E),[]):R||[]}}),{data:w}=Le({queryKey:["linked-po",m==null?void 0:m.reference_id],queryFn:async()=>{if(!(m!=null&&m.reference_id)||m.reference_type!=="purchase_order")return null;const{data:R}=await Y.from("purchase_orders").select("id, order_number, supplier_name, total_amount, status, created_at").eq("id",m.reference_id).single();return R},enabled:!!(m!=null&&m.reference_id)&&(m==null?void 0:m.reference_type)==="purchase_order"}),k=R=>{switch(R){case"pending":return{label:e("admin.billsPage.statusPending"),icon:Tt,color:"text-yellow-500",bg:"bg-yellow-500/10"};case"paid":return{label:e("admin.billsPage.statusPaid"),icon:De,color:"text-green-500",bg:"bg-green-500/10"};case"overdue":return{label:e("admin.billsPage.statusOverdue"),icon:Wu,color:"text-red-500",bg:"bg-red-500/10"};default:return{label:e("admin.billsPage.statusUnknown"),icon:Tt,color:"text-muted-foreground",bg:"bg-muted"}}},P=R=>{switch(R){case"purchase":return e("admin.billsPage.typePurchase");case"logistics":return e("admin.billsPage.typeLogistics");case"operation":return e("admin.billsPage.typeOperation");default:return R}},_=b.filter(R=>{const E=a===""||R.bill_number.toLowerCase().includes(a.toLowerCase())||R.vendor.toLowerCase().includes(a.toLowerCase()),L=i==="all"||R.status===i;return E&&L}),T={total:b.reduce((R,E)=>R+E.amount,0),pending:b.filter(R=>R.status==="pending").reduce((R,E)=>R+E.amount,0),overdue:b.filter(R=>R.status==="overdue").reduce((R,E)=>R+E.amount,0)},I=R=>R?new Date(R).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",A=R=>R?new Date(R).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-";return N?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-bills-title",children:e("admin.billsPage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.billsPage.subtitle")})]}),r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:y,"data-testid":"button-add-bill",children:[r.jsx(mn,{className:"w-4 h-4"}),e("admin.billsPage.addBill")]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(Xr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("p",{className:"text-lg sm:text-2xl font-bold truncate",children:["RM ",(T.total/100).toLocaleString()]}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.billsPage.totalBills")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:r.jsx(Tt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500 truncate",children:["RM ",(T.pending/100).toLocaleString()]}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.billsPage.pendingPayment")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-red-500/10 flex items-center justify-center shrink-0",children:r.jsx(Wu,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-red-500 truncate",children:["RM ",(T.overdue/100).toLocaleString()]}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.billsPage.overdue")})]})]})})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(qi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.billsPage.billList")]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.billsPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:a,onChange:R=>s(R.target.value),"data-testid":"input-search"})]})]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:r.jsxs(Pn,{value:i,onValueChange:o,children:[r.jsxs(yn,{className:"grid w-full grid-cols-4 h-auto p-1",children:[r.jsx(ke,{value:"all",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-all",children:e("admin.billsPage.tabAll")}),r.jsxs(ke,{value:"pending",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-pending",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.billsPage.statusPending")}),r.jsx("span",{className:"sm:hidden",children:""})]}),r.jsxs(ke,{value:"paid",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-paid",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.billsPage.statusPaid")}),r.jsx("span",{className:"sm:hidden",children:""})]}),r.jsxs(ke,{value:"overdue",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-overdue",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.billsPage.statusOverdue")}),r.jsx("span",{className:"sm:hidden",children:""})]})]}),r.jsx(Nt,{value:i,className:"mt-3 sm:mt-4",children:_.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(qi,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.billsPage.noBills")})]}):r.jsx("div",{className:"space-y-2 sm:space-y-3",children:_.map(R=>{const E=k(R.status),L=E.icon;return r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg gap-3","data-testid":`bill-${R.bill_number}`,children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[r.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center shrink-0 ${E.bg}`,children:r.jsx(L,{className:`w-4 h-4 sm:w-5 sm:h-5 ${E.color}`})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[r.jsx("span",{className:"font-mono text-xs sm:text-sm",children:R.bill_number}),r.jsx(te,{variant:"outline",className:"text-xs",children:E.label}),r.jsx(te,{variant:"secondary",className:"text-xs hidden sm:inline-flex",children:P(R.type)})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[r.jsx("span",{className:"truncate",children:R.vendor}),r.jsx("span",{className:"shrink-0",children:I(R.due_date)})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-4 pl-12 sm:pl-0",children:[r.jsxs("span",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(R.amount/100).toLocaleString()]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>v(R),"data-testid":`button-view-${R.bill_number}`,children:[r.jsx(pr,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:""})]}),r.jsx(M,{variant:"outline",size:"sm",className:"gap-1 h-8","data-testid":`button-download-${R.bill_number}`,children:r.jsx(Vi,{className:"w-4 h-4"})})]})]})]},R.id)})})})]})})]})]}),r.jsx(lt,{open:l,onOpenChange:c,children:r.jsxs(st,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(mn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),""]}),r.jsx(Kt,{className:"text-sm",children:""})]}),r.jsx(am,{...g,children:r.jsxs("form",{onSubmit:g.handleSubmit(R=>p.mutate(R)),className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[r.jsx(wt,{control:g.control,name:"billNumber",render:({field:R})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(se,{...R,readOnly:!0,className:"bg-muted h-9 sm:h-10","data-testid":"input-bill-number"})}),r.jsx(jt,{})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsx(wt,{control:g.control,name:"type",render:({field:R})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsxs(Et,{onValueChange:R.onChange,value:R.value,children:[r.jsx(vt,{children:r.jsx(_t,{className:"h-9 sm:h-10","data-testid":"select-bill-type",children:r.jsx(Rt,{placeholder:""})})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"purchase",children:e("admin.billsPage.typePurchase")}),r.jsx(ye,{value:"logistics",children:e("admin.billsPage.typeLogistics")}),r.jsx(ye,{value:"operation",children:e("admin.billsPage.typeOperation")})]})]}),r.jsx(jt,{})]})}),r.jsx(wt,{control:g.control,name:"vendor",render:({field:R})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(se,{...R,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-bill-vendor"})}),r.jsx(jt,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsx(wt,{control:g.control,name:"amount",render:({field:R})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:" (RM)"}),r.jsx(vt,{children:r.jsx(se,{...R,type:"number",step:"0.01",placeholder:"0.00",className:"h-9 sm:h-10","data-testid":"input-bill-amount"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:g.control,name:"dueDate",render:({field:R})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(se,{...R,type:"date",className:"h-9 sm:h-10","data-testid":"input-bill-due-date"})}),r.jsx(jt,{})]})})]}),r.jsx(wt,{control:g.control,name:"category",render:({field:R})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(se,{...R,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-bill-category"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:g.control,name:"description",render:({field:R})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(At,{...R,placeholder:"",className:"min-h-[80px]","data-testid":"input-bill-desc"})}),r.jsx(jt,{})]})}),r.jsx(wt,{control:g.control,name:"notes",render:({field:R})=>r.jsxs(yt,{children:[r.jsx(gt,{className:"text-sm",children:""}),r.jsx(vt,{children:r.jsx(At,{...R,placeholder:"",className:"min-h-[80px]","data-testid":"input-bill-notes"})}),r.jsx(jt,{})]})}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:""}),r.jsxs(M,{type:"submit",disabled:p.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-add-bill",children:[p.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})})]})}),r.jsx(lt,{open:d,onOpenChange:u,children:r.jsxs(st,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsx(it,{children:r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(qi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),r.jsxs("span",{className:"truncate",children:[" - ",m==null?void 0:m.bill_number]})]})}),m&&r.jsxs("div",{className:"space-y-4 sm:space-y-6 py-2 sm:py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx(te,{className:`${k(m.status).bg} text-xs`,children:k(m.status).label})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx(te,{variant:"secondary",className:"text-xs",children:P(m.type)})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(as,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," "]}),r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:m.vendor})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Xr,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," "]}),r.jsxs("p",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(m.amount/100).toLocaleString()]})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(ur,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," "]}),r.jsx("p",{className:"font-medium text-sm sm:text-base",children:I(m.due_date)})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"font-medium text-sm sm:text-base",children:I(m.paid_date)})]})]}),m.category&&r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"text-sm sm:text-base",children:m.category})]}),m.description&&r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg",children:m.description})]}),m.notes&&r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),r.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg",children:m.notes})]}),w&&r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg bg-primary/5",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2 mb-3 text-sm sm:text-base",children:[r.jsx(Qo,{className:"w-4 h-4 text-primary"}),""]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 text-sm",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:""}),r.jsx("p",{className:"font-mono text-xs sm:text-sm",children:w.order_number})]}),r.jsxs("div",{className:"space-y-0.5",children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:""}),r.jsx("p",{className:"text-xs sm:text-sm truncate",children:w.supplier_name})]}),r.jsxs("div",{className:"space-y-0.5",children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:""}),r.jsxs("p",{className:"text-xs sm:text-sm",children:["RM ",(w.total_amount/100).toLocaleString()]})]}),r.jsxs("div",{className:"space-y-0.5",children:[r.jsx("p",{className:"text-xs text-muted-foreground",children:""}),r.jsx("p",{className:"text-xs sm:text-sm",children:A(w.created_at)})]})]}),r.jsx("div",{className:"mt-3 pt-3 border-t",children:r.jsxs(M,{variant:"outline",size:"sm",className:"h-8 gap-1 w-full sm:w-auto",children:[r.jsx(fu,{className:"w-4 h-4"}),""]})})]})]}),m.status==="pending"&&r.jsx("div",{className:"flex justify-end pt-2 sm:pt-4",children:r.jsxs(M,{onClick:()=>x.mutate(m.id),disabled:x.isPending,className:"w-full sm:w-auto",children:[x.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r.jsx(De,{className:"w-4 h-4 mr-2"}),""]})})]}),r.jsx(kt,{className:"mt-3 sm:mt-4",children:r.jsx(M,{variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:""})})]})})]})}function Oge(){const{t:e}=ct(),[t,n]=j.useState("all"),{data:a=[],isLoading:s}=Le({queryKey:["admin-finance-transactions"],queryFn:async()=>{const{data:h,error:f}=await Y.from("finance_transactions").select("*").order("date",{ascending:!1}).limit(50);return f?(console.error("Error fetching transactions:",f),[]):h||[]}}),{data:i,isLoading:o}=Le({queryKey:["admin-finance-summary"],queryFn:async()=>{const{data:h,error:f}=await Y.rpc("get_finance_summary");if(f){console.log("Finance summary function not available:",f.message);const g=a.filter(x=>x.type==="income").reduce((x,y)=>x+y.amount,0),p=a.filter(x=>x.type==="expense").reduce((x,y)=>x+y.amount,0);return{total_revenue:g,total_expenses:p,total_profit:g-p,partner_payouts:0,bonus_pool_payouts:0}}return(h==null?void 0:h[0])||{total_revenue:0,total_expenses:0,total_profit:0,partner_payouts:0,bonus_pool_payouts:0}}}),l=a.filter(h=>h.type==="expense").reduce((h,f)=>(h[f.category]=(h[f.category]||0)+f.amount,h),{}),c=Object.values(l).reduce((h,f)=>h+f,0),d=t==="all"?a:a.filter(h=>h.type===t),u=h=>new Date(h).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return s||o?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(ut,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-finance-title",children:e("admin.financePage.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.financePage.subtitle")})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(M,{variant:"outline",className:"gap-2","data-testid":"button-export",children:[r.jsx(Vi,{className:"w-4 h-4"}),e("admin.financePage.exportReport")]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(V,{className:"bg-gradient-to-br from-green-500/10 to-green-500/5 border-green-500/20",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center",children:r.jsx(Mn,{className:"w-6 h-6 text-green-500"})}),r.jsxs(te,{className:"bg-green-500 text-white gap-1",children:[r.jsx(nr,{className:"w-3 h-3"}),""]})]}),r.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["RM ",(((i==null?void 0:i.total_revenue)||0)/100).toLocaleString()]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.financePage.monthlyRevenue")})]})}),r.jsx(V,{className:"bg-gradient-to-br from-red-500/10 to-red-500/5 border-red-500/20",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:r.jsx(VZ,{className:"w-6 h-6 text-red-500"})}),r.jsxs(te,{variant:"outline",className:"text-red-500 gap-1",children:[r.jsx(nr,{className:"w-3 h-3"}),""]})]}),r.jsxs("p",{className:"text-3xl font-bold text-red-500",children:["RM ",(((i==null?void 0:i.total_expenses)||0)/100).toLocaleString()]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.financePage.monthlyExpenses")})]})}),r.jsx(V,{className:"bg-gradient-to-br from-primary/10 to-secondary/10 border-primary/20",children:r.jsxs(J,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center",children:r.jsx(Xr,{className:"w-6 h-6 text-primary"})}),r.jsxs(te,{className:"bg-primary text-primary-foreground gap-1",children:[r.jsx(nr,{className:"w-3 h-3"}),""]})]}),r.jsxs("p",{className:"text-3xl font-bold text-primary",children:["RM ",(((i==null?void 0:i.total_profit)||0)/100).toLocaleString()]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.financePage.monthlyProfit")})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(t0,{className:"w-5 h-5 text-primary"}),e("admin.financePage.expenseBreakdown")]})}),r.jsx(J,{className:"space-y-4",children:Object.entries(l).length===0?r.jsx("p",{className:"text-center py-4 text-muted-foreground",children:""}):Object.entries(l).map(([h,f])=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[r.jsx("span",{children:h}),r.jsxs("span",{className:"font-bold",children:["RM ",(f/100).toLocaleString()," (",c>0?(f/c*100).toFixed(0):0,"%)"]})]},h))})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(Xr,{className:"w-5 h-5 text-secondary"}),e("admin.financePage.partnerExpenses")]})}),r.jsxs(J,{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-secondary/10 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{children:e("admin.financePage.cashbackPayout")}),r.jsxs("span",{className:"font-bold text-secondary",children:["RM ",(((i==null?void 0:i.partner_payouts)||0)/100).toLocaleString()]})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.financePage.cashbackDesc")})]}),r.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{children:e("admin.financePage.bonusPoolPayout")}),r.jsxs("span",{className:"font-bold text-primary",children:["RM ",(((i==null?void 0:i.bonus_pool_payouts)||0)/100).toLocaleString()]})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.financePage.bonusPoolDesc")})]})]})]})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(ur,{className:"w-5 h-5 text-primary"}),e("admin.financePage.recentTransactions")]})}),r.jsx(J,{children:r.jsxs(Pn,{value:t,onValueChange:n,children:[r.jsxs(yn,{className:"grid w-full grid-cols-3",children:[r.jsx(ke,{value:"all","data-testid":"tab-all",children:e("admin.financePage.tabAll")}),r.jsx(ke,{value:"income","data-testid":"tab-income",children:e("admin.financePage.tabIncome")}),r.jsx(ke,{value:"expense","data-testid":"tab-expense",children:e("admin.financePage.tabExpense")})]}),r.jsx(Nt,{value:t,className:"mt-4",children:d.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ur,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:""})]}):r.jsx("div",{className:"space-y-3",children:d.map(h=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`transaction-${h.id}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${h.type==="income"?"bg-green-500/10":"bg-red-500/10"}`,children:h.type==="income"?r.jsx(nr,{className:"w-5 h-5 text-green-500"}):r.jsx(Ca,{className:"w-5 h-5 text-red-500"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:h.description||h.category}),r.jsx(te,{variant:"outline",children:h.category})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:u(h.date)})]})]}),r.jsxs("span",{className:`font-bold ${h.type==="income"?"text-green-500":"text-red-500"}`,children:[h.type==="income"?"+":"-","RM ",(h.amount/100).toLocaleString()]})]},h.id))})})]})})]})]})})}const eN=["planned","material_prep","cleaning","cooking","cold_storage","inspection","completed"];function Ege(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),s=String(Math.floor(Math.random()*1e4)).padStart(4,"0");return`BATCH-${t}${n}${a}-${s}`}function Rge(){const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState(""),[i,o]=j.useState(null),[l,c]=j.useState("batches"),[d,u]=j.useState(!1),[m,h]=j.useState(""),[f,g]=j.useState(""),[p,x]=j.useState(""),[y,v]=j.useState(""),[b,N]=j.useState(""),[w,k]=j.useState(!1),[P,_]=j.useState(""),[T,I]=j.useState(""),[A,R]=j.useState("g"),{data:E=[],isLoading:L}=Le({queryKey:["admin-production-batches"],queryFn:async()=>{const{data:ne,error:F}=await Y.from("production_batches").select("*").order("planned_date",{ascending:!1});return F?(console.error("Error fetching batches:",F),[]):ne||[]}}),{data:$=[],isLoading:B}=Le({queryKey:["admin-production-materials",i],queryFn:async()=>{let ne=Y.from("production_materials").select("*");i&&(ne=ne.eq("batch_id",i));const{data:F,error:me}=await ne.order("created_at",{ascending:!1}).limit(50);return me?(console.error("Error fetching materials:",me),[]):F||[]}}),{data:K=[]}=Le({queryKey:["products-list"],queryFn:async()=>{const{data:ne}=await Y.from("products").select("id, name").order("name");return ne||[]}}),{data:S=[]}=Le({queryKey:["inventory-items-list"],queryFn:async()=>{const{data:ne}=await Y.from("inventory_items").select("id, name, sku, stock, unit").order("name");return ne||[]}}),{data:D=[]}=Le({queryKey:["product-bom",b],enabled:!!b,queryFn:async()=>{try{const{data:ne,error:F}=await Y.from("product_bom").select("*, inventory_items(name, stock, unit)").eq("product_id",b);if(F)throw F;return ne||[]}catch{return[]}}}),G=Ie({mutationFn:async()=>{const ne=K.find(Ee=>Ee.id===m);if(!ne)throw new Error("");const F=parseInt(f);if(isNaN(F)||F<1)throw new Error("1");if(!p)throw new Error("");const me=Ege(),{data:je,error:oe}=await Y.from("production_batches").insert({batch_number:me,product_id:m,product_name:ne.name,planned_qty:F,status:"planned",current_step:0,total_steps:5,planned_date:p,notes:y||null}).select().single();if(oe)throw oe;try{const{data:Ee}=await Y.from("product_bom").select("*, inventory_items(name)").eq("product_id",m);if(Ee&&Ee.length>0){const tt=Ee.map(O=>{var Z;return{batch_id:je.id,material_name:((Z=O.inventory_items)==null?void 0:Z.name)||"Unknown",inventory_item_id:O.inventory_item_id,planned_qty:O.quantity*F,unit:O.unit}});await Y.from("production_materials").insert(tt)}}catch{}return je},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-production-batches"]}),u(!1),h(""),g(""),x(""),v(""),t({title:e("admin.operationSuccess")})},onError:ne=>{t({title:e("admin.operationFailed"),description:ne.message,variant:"destructive"})}}),q=Ie({mutationFn:async ne=>{const F=E.find(tt=>tt.id===ne);if(!F)throw new Error("Batch not found");const me=eN.indexOf(F.status);if(me<0||me>=eN.length-1)throw new Error("Cannot advance");const je=eN[me+1],oe={status:je,current_step:me+1,updated_at:new Date().toISOString()};je==="material_prep"&&!F.started_at&&(oe.started_at=new Date().toISOString()),je==="completed"&&(oe.completed_at=new Date().toISOString());const{error:Ee}=await Y.from("production_batches").update(oe).eq("id",ne);if(Ee)throw Ee},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-production-batches"]}),t({title:e("admin.operationSuccess")})},onError:ne=>{t({title:e("admin.operationFailed"),description:ne.message,variant:"destructive"})}}),C=Ie({mutationFn:async ne=>{const F=E.find(Ee=>Ee.id===ne),{data:me,error:je}=await Y.from("production_materials").select("*").eq("batch_id",ne);if(je||!me)throw new Error("");const oe=me.filter(Ee=>Ee.inventory_item_id);if(oe.length===0)throw new Error("");for(const Ee of oe){const{data:tt}=await Y.from("inventory_items").select("stock, name").eq("id",Ee.inventory_item_id).single();if(!tt||tt.stock<Math.round(Ee.planned_qty))throw new Error(`${(tt==null?void 0:tt.name)||Ee.material_name}  ( ${Ee.planned_qty} ${Ee.unit},  ${(tt==null?void 0:tt.stock)??0})`)}for(const Ee of oe){const{data:tt}=await Y.from("inventory_items").select("stock").eq("id",Ee.inventory_item_id).single();if(!tt)continue;const O=Math.round(Ee.planned_qty);await Y.from("inventory_items").update({stock:Math.max(0,tt.stock-O),updated_at:new Date().toISOString()}).eq("id",Ee.inventory_item_id),await Y.from("inventory_ledger").insert({item_id:Ee.inventory_item_id,type:"out",quantity:O,movement_type:"production",note:` ${(F==null?void 0:F.batch_number)||ne}`}),await Y.from("production_materials").update({actual_qty:Ee.planned_qty}).eq("id",Ee.id)}},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-production-batches"]}),n.invalidateQueries({queryKey:["admin-production-materials"]}),n.invalidateQueries({queryKey:["inventory-items-list"]}),t({title:e("admin.operationSuccess"),description:e("admin.productionPage.materialsExtracted")})},onError:ne=>{t({title:e("admin.operationFailed"),description:ne.message,variant:"destructive"})}}),X=Ie({mutationFn:async()=>{if(!b)throw new Error("");if(!P)throw new Error("");const ne=parseFloat(T);if(isNaN(ne)||ne<=0)throw new Error("0");const{error:F}=await Y.from("product_bom").insert({product_id:b,inventory_item_id:P,quantity:ne,unit:A});if(F)throw F.code==="23505"?new Error(""):F},onSuccess:()=>{n.invalidateQueries({queryKey:["product-bom",b]}),k(!1),_(""),I(""),R("g"),t({title:e("admin.operationSuccess")})},onError:ne=>{t({title:e("admin.operationFailed"),description:ne.message,variant:"destructive"})}}),Q=Ie({mutationFn:async ne=>{const{error:F}=await Y.from("product_bom").delete().eq("id",ne);if(F)throw F},onSuccess:()=>{n.invalidateQueries({queryKey:["product-bom",b]}),t({title:e("admin.operationSuccess")})}}),xe=[e("admin.productionPage.stepMaterialPrep"),e("admin.productionPage.stepCleaning"),e("admin.productionPage.stepCooking"),e("admin.productionPage.stepColdStorage"),e("admin.productionPage.stepInspection")],Pe=xe.length,ee={planned:0,material_prep:1,cleaning:2,cooking:3,cold_storage:4,inspection:5,completed:5,cancelled:0},pe=ne=>ee[ne]??0,W=E.filter(ne=>a===""||ne.batch_number.toLowerCase().includes(a.toLowerCase())||ne.product_name.toLowerCase().includes(a.toLowerCase())),H={total:E.length,inProgress:E.filter(ne=>!["planned","completed","cancelled"].includes(ne.status)).length,completed:E.filter(ne=>ne.status==="completed").length,planned:E.filter(ne=>ne.status==="planned").length},ie=ne=>{switch(ne){case"planned":return r.jsxs(te,{variant:"outline",children:[r.jsx(Tt,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusPlanned")]});case"material_prep":return r.jsxs(te,{className:"bg-blue-500",children:[r.jsx(Yt,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusMaterialPrep")]});case"cleaning":return r.jsxs(te,{className:"bg-cyan-500",children:[r.jsx(yZ,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusCleaning")]});case"cooking":return r.jsxs(te,{className:"bg-orange-500",children:[r.jsx(Wf,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusCooking")]});case"cold_storage":return r.jsxs(te,{className:"bg-indigo-500",children:[r.jsx(Wf,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusColdStorage")]});case"inspection":return r.jsxs(te,{className:"bg-purple-500",children:[r.jsx(Qo,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusInspection")]});case"completed":return r.jsxs(te,{className:"bg-green-500",children:[r.jsx(De,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusCompleted")]});case"cancelled":return r.jsxs(te,{className:"bg-red-500",children:[r.jsx(yl,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusCancelled")]});default:return r.jsx(te,{variant:"outline",children:e("admin.productionPage.statusUnknown")})}},ae=ne=>ne?new Date(ne).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",le=ne=>ne?new Date(ne).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-";return L||B?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-serif","data-testid":"text-production-title",children:e("admin.productionPage.title")}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.subtitle")})]}),r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground self-start sm:self-auto",onClick:()=>u(!0),"data-testid":"button-new-batch",children:[r.jsx(mn,{className:"w-4 h-4"}),e("admin.productionPage.newBatch")]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(ly,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:H.total}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productionPage.totalBatches")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-500/10 flex items-center justify-center",children:r.jsx(FO,{className:"w-6 h-6 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:H.inProgress}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productionPage.inProgress")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center",children:r.jsx(De,{className:"w-6 h-6 text-green-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:H.completed}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productionPage.completed")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/10 flex items-center justify-center",children:r.jsx(Tt,{className:"w-6 h-6 text-blue-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold",children:H.planned}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productionPage.planned")})]})]})})]}),r.jsxs(Pn,{value:l,onValueChange:c,className:"space-y-4",children:[r.jsxs(yn,{className:"grid grid-cols-3 w-full max-w-md",children:[r.jsx(ke,{value:"batches","data-testid":"tab-batches",children:e("admin.productionPage.batchList")}),r.jsx(ke,{value:"materials","data-testid":"tab-materials",children:e("admin.productionPage.materialUsage")}),r.jsx(ke,{value:"bom","data-testid":"tab-bom",children:e("admin.productionPage.bomTab")})]}),r.jsx(Nt,{value:"batches",className:"space-y-4",children:r.jsxs(V,{children:[r.jsx(Te,{className:"pb-3",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[r.jsx(Oe,{className:"text-lg",children:e("admin.productionPage.batchList")}),r.jsxs("div",{className:"relative w-full sm:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.productionPage.searchPlaceholder"),className:"pl-9",value:a,onChange:ne=>s(ne.target.value),"data-testid":"input-search-batch"})]})]})}),r.jsx(J,{children:W.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ly,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.noBatches")})]}):r.jsx("div",{className:"space-y-4",children:W.map(ne=>r.jsxs("div",{className:"border rounded-lg p-4 hover-elevate cursor-pointer",onClick:()=>o(ne.id===i?null:ne.id),"data-testid":`batch-${ne.id}`,children:[r.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-3 gap-2",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx(ly,{className:"w-5 h-5 text-primary flex-shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:ne.batch_number}),r.jsx("p",{className:"text-sm text-muted-foreground truncate",children:ne.product_name})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-1.5 sm:gap-3 flex-shrink-0",children:[ie(ne.status),r.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[e("admin.productionPage.qty"),": ",ne.actual_qty??ne.planned_qty]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:e("admin.productionPage.progress")}),r.jsxs("span",{children:[pe(ne.status),"/",Pe," ",e("admin.productionPage.steps")]})]}),r.jsx(Qm,{value:pe(ne.status)/Pe*100,className:"h-2"}),r.jsx("div",{className:"flex justify-between text-[10px] sm:text-xs text-muted-foreground gap-1",children:xe.map((F,me)=>r.jsx("span",{className:`text-center truncate ${me<pe(ne.status)?"text-primary font-medium":""}`,children:F},me))})]}),i===ne.id&&r.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.plannedDate")}),r.jsx("p",{className:"font-medium",children:ae(ne.planned_date)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.startTime")}),r.jsx("p",{className:"font-medium",children:le(ne.started_at)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.plannedQty")}),r.jsx("p",{className:"font-medium",children:ne.planned_qty})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.actualQty")}),r.jsx("p",{className:"font-medium",children:ne.actual_qty??"-"})]})]}),$.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.materialReq")}),r.jsx("div",{className:"bg-muted/50 rounded p-3 space-y-1.5",children:$.map(F=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:F.material_name}),r.jsxs("span",{className:F.actual_qty!=null?"text-green-600 font-medium":"",children:[F.actual_qty!=null?` ${F.actual_qty}`:F.planned_qty," ",F.unit]})]},F.id))})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[ne.status!=="completed"&&ne.status!=="cancelled"&&r.jsxs(M,{size:"sm",className:"gap-1",onClick:F=>{F.stopPropagation(),q.mutate(ne.id)},disabled:q.isPending,"data-testid":`button-next-step-${ne.id}`,children:[q.isPending?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):r.jsx(FO,{className:"w-4 h-4"}),e("admin.productionPage.nextStep")]}),ne.status==="material_prep"&&$.some(F=>F.inventory_item_id&&F.actual_qty==null)&&r.jsxs(M,{size:"sm",variant:"outline",className:"gap-1",onClick:F=>{F.stopPropagation(),C.mutate(ne.id)},disabled:C.isPending,children:[C.isPending?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):r.jsx(hZ,{className:"w-4 h-4"}),e("admin.productionPage.extractMaterials")]}),ne.status==="completed"&&r.jsxs(M,{size:"sm",variant:"outline","data-testid":`button-view-report-${ne.id}`,children:[r.jsx(Qo,{className:"w-4 h-4 mr-1"}),e("admin.productionPage.viewReport")]})]})]})]},ne.id))})})]})}),r.jsx(Nt,{value:"materials",className:"space-y-4",children:r.jsxs(V,{children:[r.jsx(Te,{children:r.jsx(Oe,{className:"text-lg",children:e("admin.productionPage.materialUsage")})}),r.jsx(J,{children:$.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Yt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.noMaterials")})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b text-left text-sm text-muted-foreground",children:[r.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.materialName")}),r.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.plannedUsage")}),r.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.actualUsage")}),r.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.wastage")}),r.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.wastageRate")})]})}),r.jsx("tbody",{children:$.map(ne=>r.jsxs("tr",{className:"border-b last:border-0",children:[r.jsx("td",{className:"py-3 font-medium",children:ne.material_name}),r.jsxs("td",{className:"py-3",children:[ne.planned_qty," ",ne.unit]}),r.jsxs("td",{className:"py-3",children:[ne.actual_qty??"-"," ",ne.unit]}),r.jsx("td",{className:"py-3",children:r.jsxs("span",{className:ne.wastage>0?"text-orange-500":"text-green-500",children:[ne.wastage," ",ne.unit]})}),r.jsx("td",{className:"py-3",children:r.jsxs(te,{variant:ne.planned_qty>0&&ne.wastage/ne.planned_qty>.05?"destructive":"outline",children:[ne.planned_qty>0?(ne.wastage/ne.planned_qty*100).toFixed(1):"0.0","%"]})})]},ne.id))})]})})})]})}),r.jsx(Nt,{value:"bom",className:"space-y-4",children:r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsx(Oe,{className:"text-lg",children:e("admin.productionPage.bomTab")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Et,{value:b,onValueChange:N,children:[r.jsx(_t,{className:"w-48",children:r.jsx(Rt,{placeholder:e("admin.productionPage.selectProduct")})}),r.jsx(Ct,{children:K.map(ne=>r.jsx(ye,{value:ne.id,children:ne.name},ne.id))})]}),b&&r.jsxs(M,{size:"sm",onClick:()=>k(!0),className:"gap-1",children:[r.jsx(mn,{className:"w-4 h-4"}),e("admin.productionPage.addBomEntry")]})]})]})}),r.jsx(J,{children:b?D.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Yt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.noBom")})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b text-left text-sm text-muted-foreground",children:[r.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.materialName")}),r.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.quantityPerUnit")}),r.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.unit")}),r.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.currentStock")}),r.jsx("th",{className:"pb-3 font-medium w-16"})]})}),r.jsx("tbody",{children:D.map(ne=>{var F,me,je,oe;return r.jsxs("tr",{className:"border-b last:border-0",children:[r.jsx("td",{className:"py-3 font-medium",children:((F=ne.inventory_items)==null?void 0:F.name)||"-"}),r.jsx("td",{className:"py-3",children:ne.quantity}),r.jsx("td",{className:"py-3",children:ne.unit}),r.jsx("td",{className:"py-3",children:r.jsxs("span",{className:(((me=ne.inventory_items)==null?void 0:me.stock)??0)<=0?"text-red-500":"",children:[((je=ne.inventory_items)==null?void 0:je.stock)??"-"," ",((oe=ne.inventory_items)==null?void 0:oe.unit)||""]})}),r.jsx("td",{className:"py-3",children:r.jsx(M,{size:"sm",variant:"ghost",className:"text-red-500 hover:text-red-600 h-8 w-8 p-0",onClick:()=>Q.mutate(ne.id),disabled:Q.isPending,children:r.jsx(Dn,{className:"w-4 h-4"})})})]},ne.id)})})]})}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(qi,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.noProductSelected")})]})})]})})]})]}),r.jsx(lt,{open:d,onOpenChange:u,children:r.jsxs(st,{className:"max-w-md",children:[r.jsx(it,{children:r.jsx(ot,{children:e("admin.productionPage.createBatch")})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.product")}),r.jsxs(Et,{value:m,onValueChange:h,children:[r.jsx(_t,{children:r.jsx(Rt,{placeholder:e("admin.productionPage.selectProduct")})}),r.jsx(Ct,{children:K.map(ne=>r.jsx(ye,{value:ne.id,children:ne.name},ne.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.plannedQty")}),r.jsx(se,{type:"number",min:1,placeholder:"100",value:f,onChange:ne=>g(ne.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.plannedDate")}),r.jsx(se,{type:"date",value:p,onChange:ne=>x(ne.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.notesLabel")}),r.jsx(At,{placeholder:e("admin.productionPage.notesPlaceholder"),value:y,onChange:ne=>v(ne.target.value),rows:3})]}),r.jsxs(M,{className:"w-full",onClick:()=>G.mutate(),disabled:G.isPending||!m||!f||!p,children:[G.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.productionPage.createBatch")]})]})]})}),r.jsx(lt,{open:w,onOpenChange:k,children:r.jsxs(st,{className:"max-w-md",children:[r.jsx(it,{children:r.jsx(ot,{children:e("admin.productionPage.addBomEntry")})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.selectMaterial")}),r.jsxs(Et,{value:P,onValueChange:_,children:[r.jsx(_t,{children:r.jsx(Rt,{placeholder:e("admin.productionPage.selectMaterial")})}),r.jsx(Ct,{children:S.map(ne=>r.jsxs(ye,{value:ne.id,children:[ne.name," (",ne.sku,") - ",e("admin.productionPage.currentStock"),": ",ne.stock," ",ne.unit]},ne.id))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.quantityPerUnit")}),r.jsx(se,{type:"number",step:"0.01",min:.01,placeholder:"50",value:T,onChange:ne=>I(ne.target.value)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.unit")}),r.jsxs(Et,{value:A,onValueChange:R,children:[r.jsx(_t,{children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"g",children:"g ()"}),r.jsx(ye,{value:"kg",children:"kg ()"}),r.jsx(ye,{value:"ml",children:"ml ()"}),r.jsx(ye,{value:"L",children:"L ()"}),r.jsx(ye,{value:"",children:""}),r.jsx(ye,{value:"",children:""}),r.jsx(ye,{value:"",children:""})]})]})]}),r.jsxs(M,{className:"w-full",onClick:()=>X.mutate(),disabled:X.isPending||!P||!T,children:[X.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.productionPage.addBomEntry")]})]})]})})]})}function Mge(){var R,E,L,$;const{t:e}=ct(),{user:t}=Qt(),{toast:n}=Wt(),a=Sn(),[s,i]=j.useState("pending"),[o,l]=j.useState(null),[c,d]=j.useState(!1),[u,m]=j.useState(!1),[h,f]=j.useState(""),{data:g=[],isLoading:p}=Le({queryKey:["admin-withdrawals"],queryFn:async()=>{const{data:B,error:K}=await Y.from("withdrawal_requests").select("*, partners(user_id, members(name, email, phone))").order("created_at",{ascending:!1}).limit(200);return K?(console.error("Error fetching withdrawals:",K),[]):B||[]}}),x=g.filter(B=>B.status==="pending"),y=g.filter(B=>B.status==="processing"),v=g.filter(B=>B.status==="completed"),b=g.filter(B=>B.status==="rejected"),N={pendingCount:x.length,pendingAmount:x.reduce((B,K)=>B+K.amount,0),processingCount:y.length,processingAmount:y.reduce((B,K)=>B+K.amount,0),completedCount:v.length,completedAmount:v.reduce((B,K)=>B+K.amount,0),rejectedCount:b.length},w=Ie({mutationFn:async B=>{const K=await _oe(B,(t==null?void 0:t.id)||"");if(K.error)throw K.error;return K},onSuccess:()=>{a.invalidateQueries({queryKey:["admin-withdrawals"]}),n({title:e("admin.withdrawals.approveSuccess")}),d(!1)},onError:B=>{n({title:e("admin.withdrawals.approveFailed"),description:B.message,variant:"destructive"})}}),k=Ie({mutationFn:async B=>{const K=await Coe(B);if(K.error)throw K.error;return K},onSuccess:()=>{a.invalidateQueries({queryKey:["admin-withdrawals"]}),n({title:e("admin.withdrawals.completeSuccess")}),d(!1)},onError:B=>{n({title:e("admin.withdrawals.completeFailed"),description:B.message,variant:"destructive"})}}),P=Ie({mutationFn:async({requestId:B,reason:K})=>{const S=await Aoe(B,(t==null?void 0:t.id)||"",K);if(S.error)throw S.error;return S},onSuccess:()=>{a.invalidateQueries({queryKey:["admin-withdrawals"]}),n({title:e("admin.withdrawals.rejectSuccess")}),m(!1),d(!1),f("")},onError:B=>{n({title:e("admin.withdrawals.rejectFailed"),description:B.message,variant:"destructive"})}}),_=B=>{switch(B){case"pending":return r.jsxs(te,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/30",children:[r.jsx(Tt,{className:"w-3 h-3 mr-1"}),e("admin.withdrawals.statusPending")]});case"processing":return r.jsxs(te,{variant:"outline",className:"bg-blue-500/10 text-blue-600 border-blue-500/30",children:[r.jsx(fe,{className:"w-3 h-3 mr-1 animate-spin"}),e("admin.withdrawals.statusProcessing")]});case"completed":return r.jsxs(te,{className:"bg-green-500",children:[r.jsx(De,{className:"w-3 h-3 mr-1"}),e("admin.withdrawals.statusCompleted")]});case"rejected":return r.jsxs(te,{variant:"destructive",children:[r.jsx(Bs,{className:"w-3 h-3 mr-1"}),e("admin.withdrawals.statusRejected")]});default:return r.jsx(te,{variant:"outline",children:B})}},T=B=>B?new Date(B).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",I=B=>{var K,S;return((S=(K=B.partners)==null?void 0:K.members)==null?void 0:S.name)||B.account_name||"-"},A=s==="all"?g:g.filter(B=>B.status===s);return p?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(ut,{children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.withdrawals.title")}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.withdrawals.subtitle")})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[r.jsx(V,{className:"border-yellow-500/20",children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[r.jsx(Tt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-yellow-500 shrink-0"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:e("admin.withdrawals.pendingRequests")})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-600",children:N.pendingCount}),r.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["RM ",(N.pendingAmount/100).toLocaleString()]})]})}),r.jsx(V,{className:"border-blue-500/20",children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[r.jsx(fe,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-500 shrink-0"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:e("admin.withdrawals.processingRequests")})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:N.processingCount}),r.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["RM ",(N.processingAmount/100).toLocaleString()]})]})}),r.jsx(V,{className:"border-green-500/20",children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[r.jsx(De,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-500 shrink-0"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:e("admin.withdrawals.completedRequests")})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:N.completedCount}),r.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["RM ",(N.completedAmount/100).toLocaleString()]})]})}),r.jsx(V,{className:"border-red-500/20",children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[r.jsx(Bs,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-red-500 shrink-0"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:e("admin.withdrawals.rejectedRequests")})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-500",children:N.rejectedCount})]})})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(ms,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.withdrawals.requestsList")]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:r.jsxs(Pn,{value:s,onValueChange:i,children:[r.jsxs(yn,{className:"grid w-full grid-cols-5 mb-4",children:[r.jsx(ke,{value:"pending",className:"text-[10px] sm:text-xs",children:e("admin.withdrawals.tabPending")}),r.jsx(ke,{value:"processing",className:"text-[10px] sm:text-xs",children:e("admin.withdrawals.tabProcessing")}),r.jsx(ke,{value:"completed",className:"text-[10px] sm:text-xs",children:e("admin.withdrawals.tabCompleted")}),r.jsx(ke,{value:"rejected",className:"text-[10px] sm:text-xs",children:e("admin.withdrawals.tabRejected")}),r.jsx(ke,{value:"all",className:"text-[10px] sm:text-xs",children:e("admin.withdrawals.tabAll")})]}),r.jsx(Nt,{value:s,children:A.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ms,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.withdrawals.noRequests")})]}):r.jsx("div",{className:"space-y-2 sm:space-y-3",children:A.map(B=>{var K;return r.jsxs("div",{className:"border rounded-lg p-3 sm:p-4 cursor-pointer hover:bg-muted/30 transition-colors",onClick:()=>{l(B),d(!0)},children:[r.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:I(B)}),r.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:T(B.created_at)})]}),r.jsxs("div",{className:"text-right shrink-0",children:[r.jsxs("p",{className:"font-bold text-sm sm:text-base text-primary",children:["RM ",(B.amount/100).toFixed(2)]}),_(B.status)]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-xs text-muted-foreground",children:[r.jsx("span",{children:B.bank_name||"-"}),r.jsx("span",{children:""}),r.jsxs("span",{children:["****",((K=B.account_number)==null?void 0:K.slice(-4))||"----"]}),r.jsx("span",{children:""}),r.jsx("span",{children:B.account_name||"-"})]})]},B.id)})})})]})})]}),r.jsx(lt,{open:c,onOpenChange:d,children:r.jsxs(st,{className:"max-w-md max-h-[90dvh] overflow-y-auto",children:[r.jsx(it,{children:r.jsx(ot,{className:"text-base sm:text-lg",children:e("admin.withdrawals.requestDetail")})}),o&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center py-4 bg-primary/5 rounded-lg",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:e("admin.withdrawals.withdrawAmount")}),r.jsxs("p",{className:"text-3xl font-bold text-primary",children:["RM ",(o.amount/100).toFixed(2)]}),r.jsx("div",{className:"mt-2",children:_(o.status)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:e("admin.withdrawals.partnerInfo")}),r.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 space-y-1.5 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.name")}),r.jsx("span",{className:"font-medium",children:I(o)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.email")}),r.jsx("span",{className:"font-medium",children:((E=(R=o.partners)==null?void 0:R.members)==null?void 0:E.email)||"-"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.phone")}),r.jsx("span",{className:"font-medium",children:(($=(L=o.partners)==null?void 0:L.members)==null?void 0:$.phone)||"-"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:e("admin.withdrawals.bankInfo")}),r.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 space-y-1.5 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.bankName")}),r.jsx("span",{className:"font-medium",children:o.bank_name||"-"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.accountNumber")}),r.jsx("span",{className:"font-medium font-mono",children:o.account_number||"-"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.accountName")}),r.jsx("span",{className:"font-medium",children:o.account_name||"-"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:e("admin.withdrawals.timeline")}),r.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 space-y-1.5 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.submittedAt")}),r.jsx("span",{children:T(o.created_at)})]}),o.processed_at&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.processedAt")}),r.jsx("span",{children:T(o.processed_at)})]}),o.notes&&r.jsxs("div",{className:"mt-2 p-2 bg-red-500/10 rounded text-red-600 text-xs",children:[r.jsxs("span",{className:"font-medium",children:[e("admin.withdrawals.rejectReasonLabel"),":"]})," ",o.notes]})]})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2",children:[o.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs(M,{variant:"destructive",size:"sm",className:"w-full sm:w-auto",onClick:()=>{m(!0)},children:[r.jsx(tF,{className:"w-4 h-4 mr-1.5"}),e("admin.withdrawals.reject")]}),r.jsxs(M,{size:"sm",className:"w-full sm:w-auto",onClick:()=>w.mutate(o.id),disabled:w.isPending,children:[w.isPending?r.jsx(fe,{className:"w-4 h-4 mr-1.5 animate-spin"}):r.jsx(De,{className:"w-4 h-4 mr-1.5"}),e("admin.withdrawals.approve")]})]}),o.status==="processing"&&r.jsxs(M,{size:"sm",className:"w-full sm:w-auto bg-green-500 hover:bg-green-600",onClick:()=>k.mutate(o.id),disabled:k.isPending,children:[k.isPending?r.jsx(fe,{className:"w-4 h-4 mr-1.5 animate-spin"}):r.jsx(De,{className:"w-4 h-4 mr-1.5"}),e("admin.withdrawals.markComplete")]})]})]})]})}),r.jsx(lt,{open:u,onOpenChange:m,children:r.jsxs(st,{className:"max-w-sm",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base",children:[r.jsx(yl,{className:"w-5 h-5 text-red-500"}),e("admin.withdrawals.rejectTitle")]}),r.jsx(Kt,{className:"text-xs sm:text-sm",children:e("admin.withdrawals.rejectDesc")})]}),r.jsx(At,{placeholder:e("admin.withdrawals.rejectPlaceholder"),value:h,onChange:B=>f(B.target.value),rows:3}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2",children:[r.jsx(M,{variant:"outline",size:"sm",onClick:()=>m(!1),children:e("admin.withdrawals.cancel")}),r.jsxs(M,{variant:"destructive",size:"sm",disabled:!h.trim()||P.isPending,onClick:()=>{o&&P.mutate({requestId:o.id,reason:h.trim()})},children:[P.isPending?r.jsx(fe,{className:"w-4 h-4 mr-1.5 animate-spin"}):r.jsx(Bs,{className:"w-4 h-4 mr-1.5"}),e("admin.withdrawals.confirmReject")]})]})]})})]})})}const tN={name:"",name_en:null,name_ms:null,description:null,description_en:null,description_ms:null,target_audience:null,target_audience_en:null,target_audience_ms:null,keywords:null,keywords_en:null,keywords_ms:null,price:0,original_price:null,image:null,items:[],sort_order:0,is_active:!0,is_featured:!1,is_hot:!1,is_new:!0};function Dge(){const{toast:e}=Wt(),t=Sn(),[n,a]=j.useState(""),[s,i]=j.useState(null),[o,l]=j.useState(!1),[c,d]=j.useState(!1),[u,m]=j.useState(!1),[h,f]=j.useState(tN),[g,p]=j.useState(!1),x=j.useRef(null),{data:y=[],isLoading:v}=Le({queryKey:["admin-bundles"],queryFn:async()=>{const{data:S,error:D}=await Y.from("product_bundles").select("*").order("sort_order",{ascending:!0});return D?(console.error("Error fetching bundles:",D),[]):S}}),{data:b=[]}=Le({queryKey:["admin-products-list"],queryFn:async()=>{const{data:S,error:D}=await Y.from("products").select("id, name, price, image, category").eq("is_active",!0).order("name");return D?(console.error("Error fetching products:",D),[]):S}}),N=y.filter(S=>{var D;return n===""||S.name.toLowerCase().includes(n.toLowerCase())||((D=S.name_en)==null?void 0:D.toLowerCase().includes(n.toLowerCase()))}),w=Ie({mutationFn:async S=>{const{error:D}=await Y.from("product_bundles").insert(S);if(D)throw D},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-bundles"]}),e({title:""}),l(!1),f(tN)},onError:S=>{e({title:"",description:S.message,variant:"destructive"})}}),k=Ie({mutationFn:async S=>{const{error:D}=await Y.from("product_bundles").update({...S,updated_at:new Date().toISOString()}).eq("id",S.id);if(D)throw D},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-bundles"]}),e({title:""}),l(!1)},onError:S=>{e({title:"",description:S.message,variant:"destructive"})}}),P=Ie({mutationFn:async S=>{const{error:D}=await Y.from("product_bundles").delete().eq("id",S);if(D)throw D},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-bundles"]}),e({title:""}),d(!1),i(null)},onError:S=>{e({title:"",description:S.message,variant:"destructive"})}}),_=(S,D)=>{k.mutate({id:S.id,[D]:!S[D]})},T=async S=>{if(!S)return;if(!["image/jpeg","image/png","image/webp"].includes(S.type)){e({title:" JPGPNG  WebP ",variant:"destructive"});return}if(S.size>5*1024*1024){e({title:" 5MB",variant:"destructive"});return}p(!0);try{const G=S.name.split(".").pop(),q=`bundles/${Date.now()}-${Math.random().toString(36).slice(2)}.${G}`,{error:C}=await Y.storage.from("product-images").upload(q,S);if(C)throw C;const{data:{publicUrl:X}}=Y.storage.from("product-images").getPublicUrl(q);f({...h,image:X}),e({title:""})}catch(G){e({title:"",description:String(G),variant:"destructive"})}finally{p(!1)}},I=(S,D)=>{f(D?{...h,items:[...h.items,{flavor:S.name,quantity:1,productId:S.id}]}:{...h,items:h.items.filter(G=>G.productId!==S.id&&G.flavor!==S.name)})},A=(S,D)=>{const G=[...h.items];G[S]={...G[S],quantity:Math.max(1,D)},f({...h,items:G})},R=S=>{f({...h,items:h.items.filter((D,G)=>G!==S)})},E=()=>{m(!0),f(tN),l(!0)},L=S=>{m(!1),i(S),f({name:S.name,name_en:S.name_en,name_ms:S.name_ms,description:S.description,description_en:S.description_en,description_ms:S.description_ms,target_audience:S.target_audience,target_audience_en:S.target_audience_en,target_audience_ms:S.target_audience_ms,keywords:S.keywords,keywords_en:S.keywords_en,keywords_ms:S.keywords_ms,price:S.price,original_price:S.original_price,image:S.image,items:S.items,sort_order:S.sort_order,is_active:S.is_active,is_featured:S.is_featured,is_hot:S.is_hot,is_new:S.is_new}),l(!0)},$=()=>{if(!h.name){e({title:"",variant:"destructive"});return}if(h.items.length===0){e({title:"",variant:"destructive"});return}if(h.price<=0){e({title:"",variant:"destructive"});return}u?w.mutate(h):s&&k.mutate({id:s.id,...h})},B={total:y.length,active:y.filter(S=>S.is_active).length,featured:y.filter(S=>S.is_featured).length},K=(S,D)=>h.items.some(G=>G.productId===S||G.flavor===D);return v?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(ut,{children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:""}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""})]}),r.jsxs(M,{className:"gap-2 w-full sm:w-auto",onClick:E,children:[r.jsx(mn,{className:"w-4 h-4"}),""]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Yt,{className:"w-4 h-4 text-primary"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:""})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:B.total})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(pa,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:""})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:B.active})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Lt,{className:"w-4 h-4 text-amber-500"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:""})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-500",children:B.featured})]})})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:"...",className:"pl-9",value:n,onChange:S=>a(S.target.value)})]}),r.jsx("div",{className:"space-y-3",children:N.length===0?r.jsx(V,{children:r.jsx(J,{className:"p-8 text-center text-muted-foreground",children:'""'})}):N.map(S=>r.jsx(V,{className:S.is_active?"":"opacity-60",children:r.jsx(J,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg bg-muted flex items-center justify-center shrink-0 overflow-hidden",children:S.image?r.jsx("img",{src:S.image,alt:S.name,className:"w-full h-full object-cover"}):r.jsx(Yt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-muted-foreground/50"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 mb-1",children:[r.jsx("span",{className:"font-medium text-sm sm:text-base",children:S.name}),S.is_featured&&r.jsxs(te,{className:"bg-amber-500 text-[10px] sm:text-xs",children:[r.jsx(Lt,{className:"w-2.5 h-2.5 mr-0.5"}),""]}),S.is_hot&&r.jsxs(te,{className:"bg-red-500 text-[10px] sm:text-xs",children:[r.jsx(r0,{className:"w-2.5 h-2.5 mr-0.5"}),""]}),S.is_new&&r.jsxs(te,{className:"bg-green-500 text-[10px] sm:text-xs",children:[r.jsx(xl,{className:"w-2.5 h-2.5 mr-0.5"}),""]}),!S.is_active&&r.jsx(te,{variant:"outline",className:"text-[10px] sm:text-xs",children:""})]}),r.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mb-1 truncate",children:S.target_audience}),r.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:S.keywords}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsxs("span",{className:"font-bold text-sm sm:text-base text-primary",children:["RM ",(S.price/100).toFixed(2)]}),S.original_price&&S.original_price>S.price&&r.jsxs("span",{className:"text-xs text-muted-foreground line-through",children:["RM ",(S.original_price/100).toFixed(2)]})]}),r.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[S.items.slice(0,4).map((D,G)=>r.jsxs(te,{variant:"outline",className:"text-[9px] sm:text-[10px] px-1 py-0",children:[D.flavor," ",D.quantity]},G)),S.items.length>4&&r.jsxs(te,{variant:"outline",className:"text-[9px] sm:text-[10px] px-1 py-0",children:["+",S.items.length-4]})]})]}),r.jsxs("div",{className:"flex flex-col gap-1.5 shrink-0",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"h-7 sm:h-8 px-2 text-xs",onClick:()=>L(S),children:[r.jsx(Oa,{className:"w-3 h-3 sm:mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:""})]}),r.jsxs(M,{variant:S.is_featured?"default":"outline",size:"sm",className:"h-7 sm:h-8 px-2 text-xs",onClick:()=>_(S,"is_featured"),children:[r.jsx(Lt,{className:"w-3 h-3 sm:mr-1"}),r.jsx("span",{className:"hidden sm:inline",children:""})]}),r.jsx(M,{variant:S.is_active?"outline":"destructive",size:"sm",className:"h-7 sm:h-8 px-2 text-xs",onClick:()=>_(S,"is_active"),children:S.is_active?r.jsx(pa,{className:"w-3 h-3"}):r.jsx(vl,{className:"w-3 h-3"})}),r.jsx(M,{variant:"outline",size:"sm",className:"h-7 sm:h-8 px-2 text-xs text-red-500",onClick:()=>{i(S),d(!0)},children:r.jsx(Dn,{className:"w-3 h-3"})})]})]})})},S.id))}),r.jsx(lt,{open:o,onOpenChange:l,children:r.jsxs(st,{className:"w-[95vw] max-w-2xl max-h-[90dvh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsx(ot,{className:"text-base sm:text-lg",children:u?"":""}),r.jsx(Kt,{className:"text-sm",children:""})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg bg-muted flex items-center justify-center overflow-hidden shrink-0",children:h.image?r.jsx("img",{src:h.image,alt:"Bundle",className:"w-full h-full object-cover"}):r.jsx(pu,{className:"w-8 h-8 text-muted-foreground/50"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",ref:x,className:"hidden",accept:"image/jpeg,image/png,image/webp",onChange:S=>{var G;const D=(G=S.target.files)==null?void 0:G[0];D&&T(D)}}),r.jsxs(M,{variant:"outline",size:"sm",onClick:()=>{var S;return(S=x.current)==null?void 0:S.click()},disabled:g,className:"w-full sm:w-auto",children:[g?r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(dy,{className:"w-4 h-4 mr-2"}),""]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" JPGPNGWebP 5MB"}),h.image&&r.jsx(se,{value:h.image,onChange:S=>f({...h,image:S.target.value}),placeholder:"URL",className:"mt-2 h-8 text-xs"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" () *"}),r.jsx(se,{value:h.name,onChange:S=>f({...h,name:S.target.value}),placeholder:"",className:"h-9"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(se,{value:h.name_en||"",onChange:S=>f({...h,name_en:S.target.value||null}),className:"h-9"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(se,{value:h.name_ms||"",onChange:S=>f({...h,name_ms:S.target.value||null}),className:"h-9"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(se,{value:h.target_audience||"",onChange:S=>f({...h,target_audience:S.target.value||null}),placeholder:"",className:"h-9"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(se,{value:h.keywords||"",onChange:S=>f({...h,keywords:S.target.value||null}),placeholder:"",className:"h-9"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(At,{value:h.description||"",onChange:S=>f({...h,description:S.target.value||null}),placeholder:"...",rows:2})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" (RM) *"}),r.jsx(se,{type:"number",step:"0.01",value:h.price/100,onChange:S=>f({...h,price:Math.round(parseFloat(S.target.value)*100)||0}),className:"h-9"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" (RM)"}),r.jsx(se,{type:"number",step:"0.01",value:h.original_price?h.original_price/100:"",onChange:S=>f({...h,original_price:S.target.value?Math.round(parseFloat(S.target.value)*100):null}),className:"h-9"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:" *"}),r.jsx("div",{className:"border rounded-lg p-3 max-h-48 overflow-y-auto space-y-2",children:b.length===0?r.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:""}):b.map(S=>r.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[r.jsx(kg,{checked:K(S.id,S.name),onCheckedChange:D=>I(S,!!D)}),r.jsx("div",{className:"w-10 h-10 rounded bg-muted flex items-center justify-center overflow-hidden shrink-0",children:S.image?r.jsx("img",{src:S.image,alt:S.name,className:"w-full h-full object-cover"}):r.jsx(Yt,{className:"w-4 h-4 text-muted-foreground/50"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:S.name}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["RM ",(S.price/100).toFixed(2)]})]})]},S.id))})]}),h.items.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:""}),r.jsx("div",{className:"space-y-2",children:h.items.map((S,D)=>r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded-lg",children:[r.jsx("span",{className:"flex-1 text-sm truncate",children:S.flavor}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(M,{variant:"outline",size:"sm",className:"h-7 w-7 p-0",onClick:()=>A(D,S.quantity-1),children:"-"}),r.jsx(se,{type:"number",min:1,value:S.quantity,onChange:G=>A(D,parseInt(G.target.value)||1),className:"w-14 h-7 text-center text-sm"}),r.jsx(M,{variant:"outline",size:"sm",className:"h-7 w-7 p-0",onClick:()=>A(D,S.quantity+1),children:"+"})]}),r.jsx(M,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-red-500",onClick:()=>R(D),children:r.jsx(vl,{className:"w-4 h-4"})})]},D))})]}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx(Nr,{checked:h.is_active,onCheckedChange:S=>f({...h,is_active:S})}),r.jsx("span",{className:"text-sm",children:""})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx(Nr,{checked:h.is_featured,onCheckedChange:S=>f({...h,is_featured:S})}),r.jsx("span",{className:"text-sm",children:""})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx(Nr,{checked:h.is_hot,onCheckedChange:S=>f({...h,is_hot:S})}),r.jsx("span",{className:"text-sm",children:""})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx(Nr,{checked:h.is_new,onCheckedChange:S=>f({...h,is_new:S})}),r.jsx("span",{className:"text-sm",children:""})]})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 pt-4",children:[r.jsx(M,{variant:"outline",onClick:()=>l(!1),className:"w-full sm:w-auto",children:""}),r.jsxs(M,{onClick:$,disabled:w.isPending||k.isPending,className:"w-full sm:w-auto",children:[(w.isPending||k.isPending)&&r.jsx(fe,{className:"w-4 h-4 mr-1 animate-spin"}),u?"":""]})]})]})]})}),r.jsx(lt,{open:c,onOpenChange:d,children:r.jsxs(st,{className:"w-[95vw] max-w-md",children:[r.jsxs(it,{children:[r.jsx(ot,{children:""}),r.jsxs(Kt,{children:[' "',s==null?void 0:s.name,'" ']})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2",children:[r.jsx(M,{variant:"outline",onClick:()=>d(!1),className:"w-full sm:w-auto",children:""}),r.jsxs(M,{variant:"destructive",onClick:()=>s&&P.mutate(s.id),disabled:P.isPending,className:"w-full sm:w-auto",children:[P.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-1 animate-spin"}),""]})]})]})})]})})}function Ige(){var x,y,v,b;const{toast:e}=Wt(),t=Sn(),{data:n,isLoading:a}=Le({queryKey:["site-settings"],queryFn:async()=>{const{data:N,error:w}=await Y.from("site_settings").select("*");if(w)throw w;const k={};for(const P of N||[])k[P.id]=P.value;return k}}),{data:s=[]}=Le({queryKey:["admin-bundles-list"],queryFn:async()=>{const{data:N,error:w}=await Y.from("product_bundles").select("id, name, is_active, is_featured").eq("is_active",!0).order("sort_order");if(w)throw w;return N}}),[i,o]=j.useState(null),[l,c]=j.useState(null),[d,u]=j.useState(!1),[m,h]=j.useState(!1),f=()=>{n!=null&&n.hero&&(o({...n.hero}),u(!0))},g=()=>{n!=null&&n.featured_bundles&&(c({...n.featured_bundles}),h(!0))},p=Ie({mutationFn:async({id:N,value:w})=>{const{error:k}=await Y.from("site_settings").update({value:w,updated_at:new Date().toISOString()}).eq("id",N);if(k)throw k},onSuccess:()=>{t.invalidateQueries({queryKey:["site-settings"]}),e({title:""}),u(!1),h(!1)},onError:N=>{e({title:"",description:N.message,variant:"destructive"})}});return a?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(ut,{children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:""}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Hero"})]}),r.jsxs(V,{children:[r.jsxs(Te,{className:"p-4 sm:p-6",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(cg,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),"Hero "]}),r.jsx(hn,{className:"text-xs sm:text-sm",children:""})]}),r.jsx(J,{className:"p-4 sm:p-6 pt-0",children:(n==null?void 0:n.hero)&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),r.jsx("p",{className:"font-medium text-sm",children:n.hero.title})]}),r.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),r.jsx("p",{className:"font-medium text-sm",children:n.hero.button_text})]})]}),r.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),r.jsx("p",{className:"text-sm",children:n.hero.subtitle})]}),r.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),r.jsx("p",{className:"text-xs font-mono truncate",children:n.hero.background_image})]}),r.jsxs(M,{onClick:f,className:"w-full sm:w-auto",children:[r.jsx(qZ,{className:"w-4 h-4 mr-1.5"})," Hero "]})]})})]}),r.jsxs(V,{children:[r.jsxs(Te,{className:"p-4 sm:p-6",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Lt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500"}),""]}),r.jsx(hn,{className:"text-xs sm:text-sm",children:""})]}),r.jsx(J,{className:"p-4 sm:p-6 pt-0",children:(n==null?void 0:n.featured_bundles)&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[r.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:""}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.filter(N=>N.is_featured).map(N=>r.jsxs(te,{className:"bg-amber-500",children:[r.jsx(Lt,{className:"w-3 h-3 mr-1"}),N.name]},N.id)),s.filter(N=>N.is_featured).length===0&&r.jsx("span",{className:"text-sm text-muted-foreground",children:""})]})]}),r.jsxs(M,{onClick:g,className:"w-full sm:w-auto",children:[r.jsx(Yt,{className:"w-4 h-4 mr-1.5"}),""]})]})})]}),r.jsxs(V,{className:"bg-gradient-to-br from-emerald-900/10 to-emerald-950/10 border-emerald-500/20",children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsx(Oe,{className:"text-base sm:text-lg",children:""})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0",children:r.jsxs("div",{className:"aspect-video bg-gradient-to-br from-emerald-900 to-emerald-950 rounded-lg overflow-hidden relative",children:[((x=n==null?void 0:n.hero)==null?void 0:x.background_image)&&r.jsx("img",{src:n.hero.background_image,alt:"Hero",className:"absolute inset-0 w-full h-full object-cover opacity-30 grayscale"}),r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white p-4 text-center",children:[r.jsx("p",{className:"text-amber-400 text-xs sm:text-sm mb-1",children:"LOVE YOUNG"}),r.jsx("h2",{className:"text-lg sm:text-2xl font-bold mb-2",children:(y=n==null?void 0:n.hero)==null?void 0:y.title}),r.jsx("p",{className:"text-xs sm:text-sm opacity-80 mb-4",children:(v=n==null?void 0:n.hero)==null?void 0:v.subtitle}),r.jsx(M,{size:"sm",className:"bg-amber-500 hover:bg-amber-600 text-xs",children:(b=n==null?void 0:n.hero)==null?void 0:b.button_text})]})]})})]}),r.jsx(lt,{open:d,onOpenChange:u,children:r.jsxs(st,{className:"max-w-lg max-h-[90dvh] overflow-y-auto",children:[r.jsx(it,{children:r.jsx(ot,{children:" Hero "})}),i&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" ()"}),r.jsx(se,{value:i.title,onChange:N=>o({...i,title:N.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" ()"}),r.jsx(se,{value:i.title_en,onChange:N=>o({...i,title_en:N.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" ()"}),r.jsx(se,{value:i.title_ms,onChange:N=>o({...i,title_ms:N.target.value})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" ()"}),r.jsx(At,{value:i.subtitle,onChange:N=>o({...i,subtitle:N.target.value}),rows:2})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" ()"}),r.jsx(At,{value:i.subtitle_en,onChange:N=>o({...i,subtitle_en:N.target.value}),rows:2})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" ()"}),r.jsx(At,{value:i.subtitle_ms,onChange:N=>o({...i,subtitle_ms:N.target.value}),rows:2})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" ()"}),r.jsx(se,{value:i.button_text,onChange:N=>o({...i,button_text:N.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" ()"}),r.jsx(se,{value:i.button_text_en,onChange:N=>o({...i,button_text_en:N.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" ()"}),r.jsx(se,{value:i.button_text_ms,onChange:N=>o({...i,button_text_ms:N.target.value})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:""}),r.jsx(se,{value:i.button_link,onChange:N=>o({...i,button_link:N.target.value}),placeholder:"/#products"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:" URL"}),r.jsx(se,{value:i.background_image,onChange:N=>o({...i,background_image:N.target.value}),placeholder:"/pics/hero-background.jpg"})]}),r.jsxs(kt,{children:[r.jsx(M,{variant:"outline",onClick:()=>u(!1),children:""}),r.jsxs(M,{onClick:()=>p.mutate({id:"hero",value:i}),disabled:p.isPending,children:[p.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-1 animate-spin"}),""]})]})]})]})}),r.jsx(lt,{open:m,onOpenChange:h,children:r.jsxs(st,{className:"max-w-lg max-h-[90dvh] overflow-y-auto",children:[r.jsx(it,{children:r.jsx(ot,{children:""})}),l&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"is_featured"}),r.jsx("div",{className:"space-y-2",children:s.map(N=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${N.is_featured?"bg-amber-500/10 border-amber-500/30":"bg-muted/30"}`,children:[r.jsx("span",{className:"text-sm font-medium",children:N.name}),N.is_featured?r.jsxs(te,{className:"bg-amber-500",children:[r.jsx(Lt,{className:"w-3 h-3 mr-1"}),""]}):r.jsx(te,{variant:"outline",children:""})]},N.id))}),r.jsx("p",{className:"text-xs text-muted-foreground",children:'""'}),r.jsx(kt,{children:r.jsx(M,{variant:"outline",onClick:()=>h(!1),children:""})})]})]})})]})})}const Tx={name:"",platform:"facebook",objective:"awareness",budget_type:"daily",budget_amount:"",start_date:"",end_date:"",notes:""};function Lge(){const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState(""),[i,o]=j.useState("all"),[l,c]=j.useState(!1),[d,u]=j.useState(!1),[m,h]=j.useState(!1),[f,g]=j.useState(null),[p,x]=j.useState(null),[y,v]=j.useState(Tx),{data:b=[],isLoading:N}=Le({queryKey:["admin-marketing-campaigns"],queryFn:async()=>{const{data:C,error:X}=await Y.from("marketing_campaigns").select("*").order("created_at",{ascending:!1});return X?(console.error("Error fetching campaigns:",X),[]):C||[]}}),w=Ie({mutationFn:async C=>{const{error:X}=await Y.from("marketing_campaigns").insert({name:C.name,platform:C.platform,objective:C.objective,status:"draft",budget_type:C.budget_type,budget_amount:Math.round(parseFloat(C.budget_amount)*100),spent_amount:0,start_date:C.start_date||null,end_date:C.end_date||null,notes:C.notes||null});if(X)throw X},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-campaigns"]}),c(!1),v(Tx),t({title:e("admin.metaAdsPage.campaignCreated")})},onError:C=>{t({title:e("admin.metaAdsPage.createFailed"),description:String(C),variant:"destructive"})}}),k=Ie({mutationFn:async C=>{const{id:X,...Q}=C,{error:xe}=await Y.from("marketing_campaigns").update({name:Q.name,platform:Q.platform,objective:Q.objective,budget_type:Q.budget_type,budget_amount:Math.round(parseFloat(Q.budget_amount)*100),start_date:Q.start_date||null,end_date:Q.end_date||null,notes:Q.notes||null,updated_at:new Date().toISOString()}).eq("id",X);if(xe)throw xe},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-campaigns"]}),c(!1),x(null),v(Tx),t({title:e("admin.metaAdsPage.campaignUpdated")})},onError:C=>{t({title:e("admin.metaAdsPage.updateFailed"),description:String(C),variant:"destructive"})}}),P=Ie({mutationFn:async C=>{const{error:X}=await Y.from("marketing_campaigns").delete().eq("id",C);if(X)throw X},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-campaigns"]}),h(!1),g(null),t({title:e("admin.metaAdsPage.campaignDeleted")})},onError:C=>{t({title:e("admin.metaAdsPage.deleteFailed"),description:String(C),variant:"destructive"})}}),_=Ie({mutationFn:async({id:C,status:X})=>{const{error:Q}=await Y.from("marketing_campaigns").update({status:X,updated_at:new Date().toISOString()}).eq("id",C);if(Q)throw Q},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-campaigns"]}),t({title:e("admin.metaAdsPage.statusUpdated")})},onError:C=>{t({title:e("admin.metaAdsPage.updateFailed"),description:String(C),variant:"destructive"})}}),T=()=>{x(null),v(Tx),c(!0)},I=C=>{x(C),v({name:C.name,platform:C.platform,objective:C.objective,budget_type:C.budget_type,budget_amount:(C.budget_amount/100).toString(),start_date:C.start_date||"",end_date:C.end_date||"",notes:C.notes||""}),c(!0)},A=C=>{g(C),u(!0)},R=C=>{g(C),h(!0)},E=()=>{if(!y.name.trim()){t({title:e("admin.metaAdsPage.nameRequired"),variant:"destructive"});return}if(!y.budget_amount||parseFloat(y.budget_amount)<=0){t({title:e("admin.metaAdsPage.budgetRequired"),variant:"destructive"});return}p?k.mutate({...y,id:p.id}):w.mutate(y)},L=C=>{switch(C){case"active":return{label:e("admin.metaAdsPage.statusActive"),icon:De,color:"text-green-500",bg:"bg-green-500/10"};case"paused":return{label:e("admin.metaAdsPage.statusPaused"),icon:VO,color:"text-yellow-500",bg:"bg-yellow-500/10"};case"draft":return{label:e("admin.metaAdsPage.statusDraft"),icon:BO,color:"text-blue-500",bg:"bg-blue-500/10"};case"completed":return{label:e("admin.metaAdsPage.statusCompleted"),icon:De,color:"text-muted-foreground",bg:"bg-muted"};default:return{label:e("admin.metaAdsPage.statusUnknown"),icon:Tt,color:"text-muted-foreground",bg:"bg-muted"}}},$=C=>{switch(C){case"facebook":return{label:"Facebook",icon:PZ,color:"text-blue-600",bg:"bg-blue-600/10"};case"instagram":return{label:"Instagram",icon:CZ,color:"text-pink-500",bg:"bg-pink-500/10"};case"both":return{label:"Facebook + Instagram",icon:UO,color:"text-purple-500",bg:"bg-purple-500/10"};default:return{label:C,icon:Oo,color:"text-muted-foreground",bg:"bg-muted"}}},B=C=>{switch(C){case"awareness":return e("admin.metaAdsPage.objectiveAwareness");case"traffic":return e("admin.metaAdsPage.objectiveTraffic");case"engagement":return e("admin.metaAdsPage.objectiveEngagement");case"leads":return e("admin.metaAdsPage.objectiveLeads");case"sales":return e("admin.metaAdsPage.objectiveSales");case"app_promotion":return e("admin.metaAdsPage.objectiveAppPromotion");default:return C}},K=C=>{switch(C){case"daily":return e("admin.metaAdsPage.budgetDaily");case"lifetime":return e("admin.metaAdsPage.budgetLifetime");default:return C}},S=b.filter(C=>{const X=a===""||C.name.toLowerCase().includes(a.toLowerCase()),Q=i==="all"||C.status===i;return X&&Q}),D={total:b.length,active:b.filter(C=>C.status==="active").length,totalSpend:b.reduce((C,X)=>C+X.spent_amount,0),totalBudget:b.reduce((C,X)=>C+X.budget_amount,0)},G=C=>C?new Date(C).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",q=C=>C?new Date(C).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-";return N?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-meta-ads-title",children:e("admin.metaAdsPage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.metaAdsPage.subtitle")})]}),r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:T,"data-testid":"button-new-campaign",children:[r.jsx(mn,{className:"w-4 h-4"}),e("admin.metaAdsPage.newCampaign")]})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(Oo,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:D.total}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.metaAdsPage.totalCampaigns")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:r.jsx(De,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:D.active}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.metaAdsPage.activeCampaigns")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:r.jsx(Xr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500 truncate",children:["RM ",(D.totalSpend/100).toLocaleString()]}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.metaAdsPage.totalSpend")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0",children:r.jsx(Jo,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-blue-500 truncate",children:["RM ",(D.totalBudget/100).toLocaleString()]}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.metaAdsPage.totalBudget")})]})]})})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Oo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.metaAdsPage.campaignList")]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.metaAdsPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:a,onChange:C=>s(C.target.value),"data-testid":"input-search"})]})]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:r.jsxs(Pn,{value:i,onValueChange:o,children:[r.jsxs(yn,{className:"grid w-full grid-cols-5 h-auto p-1",children:[r.jsx(ke,{value:"all",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-all",children:e("admin.metaAdsPage.tabAll")}),r.jsxs(ke,{value:"active",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-active",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.metaAdsPage.statusActive")}),r.jsx("span",{className:"sm:hidden",children:e("admin.metaAdsPage.statusActive")})]}),r.jsxs(ke,{value:"paused",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-paused",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.metaAdsPage.statusPaused")}),r.jsx("span",{className:"sm:hidden",children:e("admin.metaAdsPage.statusPaused")})]}),r.jsxs(ke,{value:"draft",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-draft",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.metaAdsPage.statusDraft")}),r.jsx("span",{className:"sm:hidden",children:e("admin.metaAdsPage.statusDraft")})]}),r.jsxs(ke,{value:"completed",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-completed",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.metaAdsPage.statusCompleted")}),r.jsx("span",{className:"sm:hidden",children:e("admin.metaAdsPage.statusCompleted")})]})]}),r.jsx(Nt,{value:i,className:"mt-3 sm:mt-4",children:S.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Oo,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.metaAdsPage.noCampaigns")})]}):r.jsx("div",{className:"space-y-2 sm:space-y-3",children:S.map(C=>{const X=L(C.status),Q=X.icon,xe=$(C.platform),Pe=xe.icon;return r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3","data-testid":`campaign-${C.id}`,children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[r.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center shrink-0 ${X.bg}`,children:r.jsx(Q,{className:`w-4 h-4 sm:w-5 sm:h-5 ${X.color}`})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[r.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:C.name}),r.jsx(te,{variant:"outline",className:"text-xs",children:X.label}),r.jsxs(te,{className:`${xe.bg} ${xe.color} text-xs`,children:[r.jsx(Pe,{className:"w-3 h-3 mr-1"}),xe.label]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Pa,{className:"w-3 h-3"}),B(C.objective)]}),r.jsxs("span",{className:"shrink-0",children:[K(C.budget_type),": RM ",(C.budget_amount/100).toLocaleString()]}),r.jsxs("span",{className:"shrink-0 hidden sm:inline",children:[G(C.start_date)," ~ ",G(C.end_date)]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-4 pl-12 sm:pl-0",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("span",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(C.spent_amount/100).toLocaleString()]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.metaAdsPage.spent")})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>A(C),"data-testid":`button-view-${C.id}`,children:[r.jsx(pr,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.metaAdsPage.details")})]}),r.jsx(M,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>I(C),"data-testid":`button-edit-${C.id}`,children:r.jsx(BO,{className:"w-4 h-4"})}),r.jsx(M,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>R(C),"data-testid":`button-delete-${C.id}`,children:r.jsx(Dn,{className:"w-4 h-4 text-destructive"})})]})]})]},C.id)})})})]})})]})]}),r.jsx(lt,{open:l,onOpenChange:c,children:r.jsxs(st,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Oo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e(p?"admin.metaAdsPage.editCampaign":"admin.metaAdsPage.newCampaign")]}),r.jsx(Kt,{className:"text-sm",children:e(p?"admin.metaAdsPage.editCampaignDesc":"admin.metaAdsPage.newCampaignDesc")})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-sm font-medium",children:[e("admin.metaAdsPage.campaignName")," *"]}),r.jsx(se,{value:y.name,onChange:C=>v({...y,name:C.target.value}),placeholder:e("admin.metaAdsPage.campaignNamePlaceholder"),className:"h-9 sm:h-10","data-testid":"input-campaign-name"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.metaAdsPage.platform")}),r.jsxs(Et,{value:y.platform,onValueChange:C=>v({...y,platform:C}),children:[r.jsx(_t,{className:"h-9 sm:h-10","data-testid":"select-platform",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"facebook",children:"Facebook"}),r.jsx(ye,{value:"instagram",children:"Instagram"}),r.jsx(ye,{value:"both",children:"Facebook + Instagram"})]})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.metaAdsPage.objective")}),r.jsxs(Et,{value:y.objective,onValueChange:C=>v({...y,objective:C}),children:[r.jsx(_t,{className:"h-9 sm:h-10","data-testid":"select-objective",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"awareness",children:e("admin.metaAdsPage.objectiveAwareness")}),r.jsx(ye,{value:"traffic",children:e("admin.metaAdsPage.objectiveTraffic")}),r.jsx(ye,{value:"engagement",children:e("admin.metaAdsPage.objectiveEngagement")}),r.jsx(ye,{value:"leads",children:e("admin.metaAdsPage.objectiveLeads")}),r.jsx(ye,{value:"sales",children:e("admin.metaAdsPage.objectiveSales")}),r.jsx(ye,{value:"app_promotion",children:e("admin.metaAdsPage.objectiveAppPromotion")})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.metaAdsPage.budgetType")}),r.jsxs(Et,{value:y.budget_type,onValueChange:C=>v({...y,budget_type:C}),children:[r.jsx(_t,{className:"h-9 sm:h-10","data-testid":"select-budget-type",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"daily",children:e("admin.metaAdsPage.budgetDaily")}),r.jsx(ye,{value:"lifetime",children:e("admin.metaAdsPage.budgetLifetime")})]})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-sm font-medium",children:[e("admin.metaAdsPage.budgetAmount")," (RM) *"]}),r.jsx(se,{type:"number",step:"0.01",value:y.budget_amount,onChange:C=>v({...y,budget_amount:C.target.value}),placeholder:"0.00",className:"h-9 sm:h-10","data-testid":"input-budget-amount"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.metaAdsPage.startDate")}),r.jsx(se,{type:"date",value:y.start_date,onChange:C=>v({...y,start_date:C.target.value}),className:"h-9 sm:h-10","data-testid":"input-start-date"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.metaAdsPage.endDate")}),r.jsx(se,{type:"date",value:y.end_date,onChange:C=>v({...y,end_date:C.target.value}),className:"h-9 sm:h-10","data-testid":"input-end-date"})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.metaAdsPage.notes")}),r.jsx(At,{value:y.notes,onChange:C=>v({...y,notes:C.target.value}),placeholder:e("admin.metaAdsPage.notesPlaceholder"),className:"min-h-[80px]","data-testid":"input-campaign-notes"})]})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:e("admin.metaAdsPage.cancel")}),r.jsxs(M,{onClick:E,disabled:w.isPending||k.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-campaign",children:[(w.isPending||k.isPending)&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e(p?"admin.metaAdsPage.save":"admin.metaAdsPage.create")]})]})]})}),r.jsx(lt,{open:d,onOpenChange:u,children:r.jsxs(st,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsx(it,{children:r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Oo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),r.jsxs("span",{className:"truncate",children:[e("admin.metaAdsPage.campaignDetails")," - ",f==null?void 0:f.name]})]})}),f&&r.jsxs("div",{className:"space-y-4 sm:space-y-6 py-2 sm:py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.metaAdsPage.status")}),r.jsx(te,{className:`${L(f.status).bg} text-xs`,children:L(f.status).label})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.metaAdsPage.platform")}),r.jsx(te,{className:`${$(f.platform).bg} ${$(f.platform).color} text-xs`,children:$(f.platform).label})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Pa,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," ",e("admin.metaAdsPage.objective")]}),r.jsx("p",{className:"font-medium text-sm sm:text-base",children:B(f.objective)})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Xr,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," ",e("admin.metaAdsPage.budget")]}),r.jsxs("p",{className:"font-medium text-sm sm:text-base",children:["RM ",(f.budget_amount/100).toLocaleString()," (",K(f.budget_type),")"]})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Mn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," ",e("admin.metaAdsPage.spent")]}),r.jsxs("p",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(f.spent_amount/100).toLocaleString()]})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(ur,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," ",e("admin.metaAdsPage.dateRange")]}),r.jsxs("p",{className:"font-medium text-sm sm:text-base",children:[G(f.start_date)," ~ ",G(f.end_date)]})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.metaAdsPage.createdAt")}),r.jsx("p",{className:"font-medium text-sm sm:text-base",children:q(f.created_at)})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.metaAdsPage.updatedAt")}),r.jsx("p",{className:"font-medium text-sm sm:text-base",children:q(f.updated_at)})]})]}),r.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:e("admin.metaAdsPage.budgetUsage")}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[f.budget_amount>0?Math.min(100,Math.round(f.spent_amount/f.budget_amount*100)):0,"%"]})]}),r.jsx("div",{className:"w-full h-2 bg-muted rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${f.budget_amount>0?Math.min(100,f.spent_amount/f.budget_amount*100):0}%`}})}),r.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["RM ",(f.spent_amount/100).toLocaleString()," ",e("admin.metaAdsPage.spent")]}),r.jsxs("span",{children:["RM ",(f.budget_amount/100).toLocaleString()," ",e("admin.metaAdsPage.budget")]})]})]}),f.ad_account_id&&r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.metaAdsPage.adAccountId")}),r.jsx("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:f.ad_account_id})]}),f.notes&&r.jsxs(r.Fragment,{children:[r.jsx(Qr,{}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.metaAdsPage.notes")}),r.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg",children:f.notes})]})]}),r.jsx(Qr,{}),r.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg bg-primary/5",children:[r.jsxs("h4",{className:"font-medium flex items-center gap-2 mb-3 text-sm sm:text-base",children:[r.jsx(UO,{className:"w-4 h-4 text-primary"}),e("admin.metaAdsPage.adSets")]}),r.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground text-center py-6",children:e("admin.metaAdsPage.noAdSets")})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 justify-end pt-2 sm:pt-4",children:[f.status==="draft"&&r.jsxs(M,{onClick:()=>{_.mutate({id:f.id,status:"active"}),g({...f,status:"active"})},disabled:_.isPending,className:"w-full sm:w-auto",children:[_.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r.jsx(De,{className:"w-4 h-4 mr-2"}),e("admin.metaAdsPage.activate")]}),f.status==="active"&&r.jsxs(M,{variant:"outline",onClick:()=>{_.mutate({id:f.id,status:"paused"}),g({...f,status:"paused"})},disabled:_.isPending,className:"w-full sm:w-auto",children:[_.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r.jsx(VO,{className:"w-4 h-4 mr-2"}),e("admin.metaAdsPage.pause")]}),f.status==="paused"&&r.jsxs(M,{onClick:()=>{_.mutate({id:f.id,status:"active"}),g({...f,status:"active"})},disabled:_.isPending,className:"w-full sm:w-auto",children:[_.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r.jsx(De,{className:"w-4 h-4 mr-2"}),e("admin.metaAdsPage.resume")]})]})]}),r.jsx(kt,{className:"mt-3 sm:mt-4",children:r.jsx(M,{variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:e("admin.metaAdsPage.close")})})]})}),r.jsx(lt,{open:m,onOpenChange:h,children:r.jsxs(st,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Dn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-destructive"}),e("admin.metaAdsPage.deleteCampaign")]}),r.jsx(Kt,{className:"text-sm",children:e("admin.metaAdsPage.deleteConfirm")})]}),f&&r.jsx("div",{className:"py-2 sm:py-4",children:r.jsxs("p",{className:"text-sm",children:[e("admin.metaAdsPage.deleteWarning")," ",r.jsx("span",{className:"font-bold",children:f.name})]})}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>h(!1),className:"w-full sm:w-auto",children:e("admin.metaAdsPage.cancel")}),r.jsxs(M,{variant:"destructive",onClick:()=>f&&P.mutate(f.id),disabled:P.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-delete",children:[P.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.metaAdsPage.confirmDelete")]})]})]})})]})}function $ge(){return r.jsx(ut,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:""}),r.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),r.jsxs(V,{children:[r.jsx(Te,{children:r.jsxs(Oe,{className:"flex items-center gap-2",children:[r.jsx(jZ,{className:"w-5 h-5 text-primary"}),""]})}),r.jsx(J,{children:r.jsx("p",{className:"text-muted-foreground",children:""})})]})]})})}const Fge=["facebook","instagram","xiaohongshu","tiktok","youtube","website"],Bge=["post","story","reel","video","article","live"],Ox={title:"",description:"",platform:"",content_type:"",scheduled_date:"",scheduled_time:"",assigned_to:"",content_url:"",notes:""};function Uge(){const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState(""),[i,o]=j.useState("all"),[l,c]=j.useState("list"),[d,u]=j.useState(!1),[m,h]=j.useState(!1),[f,g]=j.useState(null),[p,x]=j.useState(null),[y,v]=j.useState(Ox),[b,N]=j.useState(()=>new Date),{data:w=[],isLoading:k}=Le({queryKey:["admin-media-plans"],queryFn:async()=>{const{data:H,error:ie}=await Y.from("media_publishing_plan").select("*").order("scheduled_date",{ascending:!0});return ie?(console.error("Error fetching media plans:",ie),[]):H||[]}}),P=Ie({mutationFn:async H=>{const{error:ie}=await Y.from("media_publishing_plan").insert({title:H.title,description:H.description||null,platform:H.platform,content_type:H.content_type,status:"planned",scheduled_date:H.scheduled_date||null,scheduled_time:H.scheduled_time||null,assigned_to:H.assigned_to||null,content_url:H.content_url||null,notes:H.notes||null});if(ie)throw ie},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-media-plans"]}),u(!1),v(Ox),t({title:e("admin.mediaPlanPage.createSuccess")})},onError:H=>{t({title:e("admin.mediaPlanPage.createError"),description:String(H),variant:"destructive"})}}),_=Ie({mutationFn:async({id:H,data:ie})=>{const{error:ae}=await Y.from("media_publishing_plan").update({title:ie.title,description:ie.description||null,platform:ie.platform,content_type:ie.content_type,scheduled_date:ie.scheduled_date||null,scheduled_time:ie.scheduled_time||null,assigned_to:ie.assigned_to||null,content_url:ie.content_url||null,notes:ie.notes||null,updated_at:new Date().toISOString()}).eq("id",H);if(ae)throw ae},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-media-plans"]}),u(!1),g(null),v(Ox),t({title:e("admin.mediaPlanPage.updateSuccess")})},onError:H=>{t({title:e("admin.mediaPlanPage.updateError"),description:String(H),variant:"destructive"})}}),T=Ie({mutationFn:async H=>{const{error:ie}=await Y.from("media_publishing_plan").delete().eq("id",H);if(ie)throw ie},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-media-plans"]}),h(!1),x(null),t({title:e("admin.mediaPlanPage.deleteSuccess")})},onError:H=>{t({title:e("admin.mediaPlanPage.deleteError"),description:String(H),variant:"destructive"})}}),I=()=>{g(null),v(Ox),u(!0)},A=H=>{g(H),v({title:H.title,description:H.description||"",platform:H.platform,content_type:H.content_type,scheduled_date:H.scheduled_date||"",scheduled_time:H.scheduled_time||"",assigned_to:H.assigned_to||"",content_url:H.content_url||"",notes:H.notes||""}),u(!0)},R=H=>{x(H),h(!0)},E=()=>{if(!y.title||!y.platform||!y.content_type){t({title:e("admin.mediaPlanPage.validationError"),variant:"destructive"});return}f?_.mutate({id:f.id,data:y}):P.mutate(y)},L=H=>{switch(H){case"facebook":return{label:"Facebook",color:"bg-blue-500/10 text-blue-600"};case"instagram":return{label:"Instagram",color:"bg-pink-500/10 text-pink-600"};case"xiaohongshu":return{label:e("admin.mediaPlanPage.platformXiaohongshu"),color:"bg-red-500/10 text-red-600"};case"tiktok":return{label:"TikTok",color:"bg-slate-800/10 text-slate-700"};case"youtube":return{label:"YouTube",color:"bg-red-600/10 text-red-700"};case"website":return{label:e("admin.mediaPlanPage.platformWebsite"),color:"bg-green-500/10 text-green-600"};default:return{label:H,color:"bg-muted text-muted-foreground"}}},$=H=>{switch(H){case"post":return e("admin.mediaPlanPage.typePost");case"story":return e("admin.mediaPlanPage.typeStory");case"reel":return e("admin.mediaPlanPage.typeReel");case"video":return e("admin.mediaPlanPage.typeVideo");case"article":return e("admin.mediaPlanPage.typeArticle");case"live":return e("admin.mediaPlanPage.typeLive");default:return H}},B=H=>{switch(H){case"planned":return{label:e("admin.mediaPlanPage.statusPlanned"),color:"bg-yellow-500/10 text-yellow-600"};case"in_progress":return{label:e("admin.mediaPlanPage.statusInProgress"),color:"bg-blue-500/10 text-blue-600"};case"ready":return{label:e("admin.mediaPlanPage.statusReady"),color:"bg-purple-500/10 text-purple-600"};case"published":return{label:e("admin.mediaPlanPage.statusPublished"),color:"bg-green-500/10 text-green-600"};default:return{label:H,color:"bg-muted text-muted-foreground"}}},K=w.filter(H=>{const ie=a===""||H.title.toLowerCase().includes(a.toLowerCase())||H.assigned_to&&H.assigned_to.toLowerCase().includes(a.toLowerCase()),ae=i==="all"||H.status===i;return ie&&ae}),S={total:w.length,planned:w.filter(H=>H.status==="planned").length,in_progress:w.filter(H=>H.status==="in_progress").length,published:w.filter(H=>H.status==="published").length},D=H=>H?new Date(H).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",G=b.getFullYear(),q=b.getMonth(),C=new Date(G,q+1,0).getDate(),X=new Date(G,q,1).getDay(),Q=[];for(let H=0;H<X;H++)Q.push(null);for(let H=1;H<=C;H++)Q.push(H);const xe=H=>{const ie=`${G}-${String(q+1).padStart(2,"0")}-${String(H).padStart(2,"0")}`;return w.filter(ae=>ae.scheduled_date===ie)},Pe=()=>{N(new Date(G,q-1,1))},ee=()=>{N(new Date(G,q+1,1))},pe=[e("admin.mediaPlanPage.sun"),e("admin.mediaPlanPage.mon"),e("admin.mediaPlanPage.tue"),e("admin.mediaPlanPage.wed"),e("admin.mediaPlanPage.thu"),e("admin.mediaPlanPage.fri"),e("admin.mediaPlanPage.sat")],W=P.isPending||_.isPending;return k?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-media-plan-title",children:e("admin.mediaPlanPage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.mediaPlanPage.subtitle")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex border rounded-lg overflow-hidden",children:[r.jsx(M,{variant:l==="list"?"default":"ghost",size:"sm",className:"rounded-none h-9",onClick:()=>c("list"),"data-testid":"button-view-list",children:r.jsx(EZ,{className:"w-4 h-4"})}),r.jsx(M,{variant:l==="calendar"?"default":"ghost",size:"sm",className:"rounded-none h-9",onClick:()=>c("calendar"),"data-testid":"button-view-calendar",children:r.jsx(TZ,{className:"w-4 h-4"})})]}),r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground",onClick:I,"data-testid":"button-new-plan",children:[r.jsx(mn,{className:"w-4 h-4"}),e("admin.mediaPlanPage.newPlan")]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(ur,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:S.total}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.mediaPlanPage.totalPlans")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:r.jsx(ur,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:S.planned}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.mediaPlanPage.statusPlanned")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0",children:r.jsx(ur,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-500",children:S.in_progress}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.mediaPlanPage.statusInProgress")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:r.jsx(ur,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:S.published}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.mediaPlanPage.statusPublished")})]})]})})]}),l==="list"&&r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(ur,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.mediaPlanPage.planList")]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.mediaPlanPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:a,onChange:H=>s(H.target.value),"data-testid":"input-search"})]})]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:r.jsxs(Pn,{value:i,onValueChange:o,children:[r.jsxs(yn,{className:"grid w-full grid-cols-5 h-auto p-1",children:[r.jsx(ke,{value:"all",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-all",children:e("admin.mediaPlanPage.tabAll")}),r.jsxs(ke,{value:"planned",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-planned",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.mediaPlanPage.statusPlanned")}),r.jsx("span",{className:"sm:hidden",children:e("admin.mediaPlanPage.statusPlannedShort")})]}),r.jsxs(ke,{value:"in_progress",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-in-progress",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.mediaPlanPage.statusInProgress")}),r.jsx("span",{className:"sm:hidden",children:e("admin.mediaPlanPage.statusInProgressShort")})]}),r.jsx(ke,{value:"ready",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-ready",children:e("admin.mediaPlanPage.statusReady")}),r.jsxs(ke,{value:"published",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-published",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.mediaPlanPage.statusPublished")}),r.jsx("span",{className:"sm:hidden",children:e("admin.mediaPlanPage.statusPublishedShort")})]})]}),r.jsx(Nt,{value:i,className:"mt-3 sm:mt-4",children:K.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ur,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.mediaPlanPage.noPlans")})]}):r.jsx("div",{className:"space-y-2 sm:space-y-3",children:K.map(H=>{const ie=L(H.platform),ae=B(H.status);return r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3","data-testid":`plan-${H.id}`,children:[r.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[r.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center shrink-0 ${ie.color}`,children:r.jsx(ur,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[r.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:H.title}),r.jsx(te,{className:`text-xs ${ae.color}`,children:ae.label})]}),r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap mt-1",children:[r.jsx(te,{variant:"outline",className:`text-xs ${ie.color}`,children:ie.label}),r.jsx(te,{variant:"secondary",className:"text-xs",children:$(H.content_type)}),H.scheduled_date&&r.jsxs("span",{className:"text-xs text-muted-foreground",children:[D(H.scheduled_date),H.scheduled_time?` ${H.scheduled_time}`:""]})]}),H.assigned_to&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:[e("admin.mediaPlanPage.assignedTo"),": ",H.assigned_to]})]})]}),r.jsxs("div",{className:"flex items-center gap-1 pl-12 sm:pl-0 shrink-0",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>A(H),"data-testid":`button-edit-${H.id}`,children:[r.jsx(Oa,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.mediaPlanPage.edit")})]}),r.jsx(M,{variant:"outline",size:"sm",className:"gap-1 h-8 text-destructive hover:text-destructive",onClick:()=>R(H),"data-testid":`button-delete-${H.id}`,children:r.jsx(Dn,{className:"w-4 h-4"})})]})]},H.id)})})})]})})]}),l==="calendar"&&r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(M,{variant:"outline",size:"sm",onClick:Pe,"data-testid":"button-prev-month",children:""}),r.jsx(Oe,{className:"text-base sm:text-lg",children:b.toLocaleDateString("zh-CN",{year:"numeric",month:"long"})}),r.jsx(M,{variant:"outline",size:"sm",onClick:ee,"data-testid":"button-next-month",children:""})]})}),r.jsxs(J,{className:"p-2 sm:p-6 pt-0 sm:pt-0",children:[r.jsx("div",{className:"grid grid-cols-7 gap-px mb-1",children:pe.map(H=>r.jsx("div",{className:"text-center text-xs sm:text-sm font-medium text-muted-foreground py-2",children:H},H))}),r.jsx("div",{className:"grid grid-cols-7 gap-px border rounded-lg overflow-hidden bg-border",children:Q.map((H,ie)=>{const ae=H?xe(H):[],le=new Date,ve=H===le.getDate()&&q===le.getMonth()&&G===le.getFullYear();return r.jsx("div",{className:`bg-background min-h-[60px] sm:min-h-[90px] p-1 sm:p-2 ${H?"":"bg-muted/30"}`,children:H&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`text-xs sm:text-sm font-medium mb-0.5 sm:mb-1 ${ve?"bg-primary text-primary-foreground w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center":"text-muted-foreground"}`,children:H}),r.jsxs("div",{className:"space-y-0.5",children:[ae.slice(0,3).map(ne=>{const F=L(ne.platform);return r.jsxs("div",{className:`text-[10px] sm:text-xs px-1 py-0.5 rounded truncate cursor-pointer ${F.color}`,title:`${ne.title} (${F.label})`,onClick:()=>A(ne),children:[r.jsx("span",{className:"hidden sm:inline",children:ne.title}),r.jsx("span",{className:"sm:hidden",children:F.label.slice(0,2)})]},ne.id)}),ae.length>3&&r.jsxs("div",{className:"text-[10px] sm:text-xs text-muted-foreground pl-1",children:["+",ae.length-3]})]})]})},ie)})})]})]})]}),r.jsx(lt,{open:d,onOpenChange:u,children:r.jsxs(st,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[f?r.jsx(Oa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}):r.jsx(mn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e(f?"admin.mediaPlanPage.editPlan":"admin.mediaPlanPage.newPlan")]}),r.jsx(Kt,{className:"text-sm",children:e(f?"admin.mediaPlanPage.editPlanDesc":"admin.mediaPlanPage.newPlanDesc")})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-sm font-medium",children:[e("admin.mediaPlanPage.fieldTitle")," *"]}),r.jsx(se,{value:y.title,onChange:H=>v({...y,title:H.target.value}),placeholder:e("admin.mediaPlanPage.fieldTitlePlaceholder"),className:"h-9 sm:h-10","data-testid":"input-plan-title"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.mediaPlanPage.fieldDescription")}),r.jsx(At,{value:y.description,onChange:H=>v({...y,description:H.target.value}),placeholder:e("admin.mediaPlanPage.fieldDescriptionPlaceholder"),className:"min-h-[80px]","data-testid":"input-plan-description"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-sm font-medium",children:[e("admin.mediaPlanPage.fieldPlatform")," *"]}),r.jsxs(Et,{value:y.platform,onValueChange:H=>v({...y,platform:H}),children:[r.jsx(_t,{className:"h-9 sm:h-10","data-testid":"select-plan-platform",children:r.jsx(Rt,{placeholder:e("admin.mediaPlanPage.fieldPlatformPlaceholder")})}),r.jsx(Ct,{children:Fge.map(H=>r.jsx(ye,{value:H,children:L(H).label},H))})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-sm font-medium",children:[e("admin.mediaPlanPage.fieldContentType")," *"]}),r.jsxs(Et,{value:y.content_type,onValueChange:H=>v({...y,content_type:H}),children:[r.jsx(_t,{className:"h-9 sm:h-10","data-testid":"select-plan-content-type",children:r.jsx(Rt,{placeholder:e("admin.mediaPlanPage.fieldContentTypePlaceholder")})}),r.jsx(Ct,{children:Bge.map(H=>r.jsx(ye,{value:H,children:$(H)},H))})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.mediaPlanPage.fieldScheduledDate")}),r.jsx(se,{type:"date",value:y.scheduled_date,onChange:H=>v({...y,scheduled_date:H.target.value}),className:"h-9 sm:h-10","data-testid":"input-plan-date"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.mediaPlanPage.fieldScheduledTime")}),r.jsx(se,{type:"time",value:y.scheduled_time,onChange:H=>v({...y,scheduled_time:H.target.value}),className:"h-9 sm:h-10","data-testid":"input-plan-time"})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.mediaPlanPage.fieldAssignedTo")}),r.jsx(se,{value:y.assigned_to,onChange:H=>v({...y,assigned_to:H.target.value}),placeholder:e("admin.mediaPlanPage.fieldAssignedToPlaceholder"),className:"h-9 sm:h-10","data-testid":"input-plan-assigned"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.mediaPlanPage.fieldContentUrl")}),r.jsx(se,{value:y.content_url,onChange:H=>v({...y,content_url:H.target.value}),placeholder:e("admin.mediaPlanPage.fieldContentUrlPlaceholder"),className:"h-9 sm:h-10","data-testid":"input-plan-url"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.mediaPlanPage.fieldNotes")}),r.jsx(At,{value:y.notes,onChange:H=>v({...y,notes:H.target.value}),placeholder:e("admin.mediaPlanPage.fieldNotesPlaceholder"),className:"min-h-[80px]","data-testid":"input-plan-notes"})]})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:e("admin.mediaPlanPage.cancel")}),r.jsxs(M,{onClick:E,disabled:W,className:"w-full sm:w-auto","data-testid":"button-confirm-plan",children:[W&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e(f?"admin.mediaPlanPage.save":"admin.mediaPlanPage.create")]})]})]})}),r.jsx(lt,{open:m,onOpenChange:h,children:r.jsxs(st,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Dn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-destructive"}),e("admin.mediaPlanPage.deleteConfirmTitle")]}),r.jsx(Kt,{className:"text-sm",children:e("admin.mediaPlanPage.deleteConfirmDesc","").replace("{{title}}",(p==null?void 0:p.title)||"")})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>h(!1),className:"w-full sm:w-auto",children:e("admin.mediaPlanPage.cancel")}),r.jsxs(M,{variant:"destructive",onClick:()=>p&&T.mutate(p.id),disabled:T.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-delete",children:[T.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.mediaPlanPage.delete")]})]})]})})]})}const Ex={name:"",description:"",platform:"facebook",total_budget:"",daily_budget:"",start_date:"",end_date:"",kpi_targets:"",notes:""};function Vge(){const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState(""),[i,o]=j.useState("all"),[l,c]=j.useState(!1),[d,u]=j.useState(!1),[m,h]=j.useState(null),[f,g]=j.useState(null),[p,x]=j.useState(Ex),[y,v]=j.useState(""),{data:b=[],isLoading:N}=Le({queryKey:["admin-ad-placement-plans"],queryFn:async()=>{const{data:q,error:C}=await Y.from("ad_placement_plans").select("*").order("created_at",{ascending:!1});return C?(console.error("Error fetching ad placement plans:",C),[]):q||[]}}),w=Ie({mutationFn:async q=>{const{error:C}=await Y.from("ad_placement_plans").insert({name:q.name,description:q.description||null,platform:q.platform,total_budget:parseFloat(q.total_budget)||0,daily_budget:parseFloat(q.daily_budget)||0,start_date:q.start_date||null,end_date:q.end_date||null,kpi_targets:q.kpi_targets||null,approval_notes:q.notes||null,status:"draft"});if(C)throw C},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ad-placement-plans"]}),c(!1),x(Ex),h(null),t({title:e("admin.adPlacementPage.planCreated")})},onError:q=>{t({title:e("admin.adPlacementPage.createFailed"),description:String(q),variant:"destructive"})}}),k=Ie({mutationFn:async({id:q,data:C})=>{const{error:X}=await Y.from("ad_placement_plans").update({name:C.name,description:C.description||null,platform:C.platform,total_budget:parseFloat(C.total_budget)||0,daily_budget:parseFloat(C.daily_budget)||0,start_date:C.start_date||null,end_date:C.end_date||null,kpi_targets:C.kpi_targets||null,approval_notes:C.notes||null,updated_at:new Date().toISOString()}).eq("id",q);if(X)throw X},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ad-placement-plans"]}),c(!1),x(Ex),h(null),t({title:e("admin.adPlacementPage.planUpdated")})},onError:q=>{t({title:e("admin.adPlacementPage.updateFailed"),description:String(q),variant:"destructive"})}}),P=Ie({mutationFn:async q=>{const{error:C}=await Y.from("ad_placement_plans").delete().eq("id",q);if(C)throw C},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ad-placement-plans"]}),u(!1),g(null),t({title:e("admin.adPlacementPage.planDeleted")})},onError:q=>{t({title:e("admin.adPlacementPage.deleteFailed"),description:String(q),variant:"destructive"})}}),_=Ie({mutationFn:async q=>{const{error:C}=await Y.from("ad_placement_plans").update({status:"pending_approval",updated_at:new Date().toISOString()}).eq("id",q);if(C)throw C},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ad-placement-plans"]}),t({title:e("admin.adPlacementPage.submittedForApproval")})},onError:q=>{t({title:e("admin.adPlacementPage.submitFailed"),description:String(q),variant:"destructive"})}}),T=Ie({mutationFn:async({id:q,notes:C})=>{const{error:X}=await Y.from("ad_placement_plans").update({status:"approved",approval_notes:C||null,approved_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",q);if(X)throw X},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ad-placement-plans"]}),v(""),t({title:e("admin.adPlacementPage.planApproved")})},onError:q=>{t({title:e("admin.adPlacementPage.approveFailed"),description:String(q),variant:"destructive"})}}),I=Ie({mutationFn:async({id:q,notes:C})=>{const{error:X}=await Y.from("ad_placement_plans").update({status:"draft",approval_notes:C||null,updated_at:new Date().toISOString()}).eq("id",q);if(X)throw X},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ad-placement-plans"]}),v(""),t({title:e("admin.adPlacementPage.planRejected")})},onError:q=>{t({title:e("admin.adPlacementPage.rejectFailed"),description:String(q),variant:"destructive"})}}),A=()=>{h(null),x(Ex),c(!0)},R=q=>{h(q),x({name:q.name,description:q.description||"",platform:q.platform,total_budget:String(q.total_budget),daily_budget:String(q.daily_budget),start_date:q.start_date||"",end_date:q.end_date||"",kpi_targets:q.kpi_targets||"",notes:q.approval_notes||""}),c(!0)},E=q=>{g(q),u(!0)},L=()=>{if(!p.name.trim()){t({title:e("admin.adPlacementPage.nameRequired"),variant:"destructive"});return}m?k.mutate({id:m.id,data:p}):w.mutate(p)},$=q=>{switch(q){case"draft":return{label:e("admin.adPlacementPage.statusDraft"),color:"text-gray-500",bg:"bg-gray-500/10",icon:Tt};case"pending_approval":return{label:e("admin.adPlacementPage.statusPending"),color:"text-yellow-500",bg:"bg-yellow-500/10",icon:Tt};case"approved":return{label:e("admin.adPlacementPage.statusApproved"),color:"text-green-500",bg:"bg-green-500/10",icon:De};case"active":return{label:e("admin.adPlacementPage.statusActive"),color:"text-blue-500",bg:"bg-blue-500/10",icon:Pa};case"completed":return{label:e("admin.adPlacementPage.statusCompleted"),color:"text-gray-500",bg:"bg-gray-500/10",icon:De};default:return{label:q,color:"text-muted-foreground",bg:"bg-muted",icon:Tt}}},B=q=>{switch(q){case"facebook":return"Facebook";case"instagram":return"Instagram";case"both":return"Facebook + Instagram";case"xiaohongshu":return e("admin.adPlacementPage.platformXiaohongshu");case"google":return"Google";case"tiktok":return"TikTok";default:return q}},K=q=>q?new Date(q).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",S=b.filter(q=>{const C=a===""||q.name.toLowerCase().includes(a.toLowerCase())||q.platform.toLowerCase().includes(a.toLowerCase()),X=i==="all"||i==="pending"&&q.status==="pending_approval"||i!=="pending"&&q.status===i;return C&&X}),D={total:b.length,pending:b.filter(q=>q.status==="pending_approval").length,active:b.filter(q=>q.status==="active").length,totalBudget:b.reduce((q,C)=>q+(C.total_budget||0),0)},G=w.isPending||k.isPending;return N?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-ad-placement-title",children:e("admin.adPlacementPage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.adPlacementPage.subtitle")})]}),r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:A,"data-testid":"button-new-plan",children:[r.jsx(mn,{className:"w-4 h-4"}),e("admin.adPlacementPage.newPlan")]})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(Pa,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:D.total}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.adPlacementPage.totalPlans")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:r.jsx(Tt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:D.pending}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.adPlacementPage.pendingApproval")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0",children:r.jsx(De,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-500",children:D.active}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.adPlacementPage.activePlans")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:r.jsx(Pa,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-green-500 truncate",children:["RM ",D.totalBudget.toLocaleString()]}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.adPlacementPage.totalBudget")})]})]})})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Pa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.adPlacementPage.planList")]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.adPlacementPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:a,onChange:q=>s(q.target.value),"data-testid":"input-search"})]})]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:r.jsxs(Pn,{value:i,onValueChange:o,children:[r.jsxs(yn,{className:"grid w-full grid-cols-6 h-auto p-1",children:[r.jsx(ke,{value:"all",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-all",children:e("admin.adPlacementPage.tabAll")}),r.jsxs(ke,{value:"draft",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-draft",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.adPlacementPage.statusDraft")}),r.jsx("span",{className:"sm:hidden",children:e("admin.adPlacementPage.tabDraftShort","Draft")})]}),r.jsxs(ke,{value:"pending",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-pending",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.adPlacementPage.statusPending")}),r.jsx("span",{className:"sm:hidden",children:e("admin.adPlacementPage.tabPendingShort","Pending")})]}),r.jsxs(ke,{value:"approved",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-approved",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.adPlacementPage.statusApproved")}),r.jsx("span",{className:"sm:hidden",children:e("admin.adPlacementPage.tabApprovedShort","Approved")})]}),r.jsxs(ke,{value:"active",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-active",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.adPlacementPage.statusActive")}),r.jsx("span",{className:"sm:hidden",children:e("admin.adPlacementPage.tabActiveShort","Active")})]}),r.jsxs(ke,{value:"completed",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-completed",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.adPlacementPage.statusCompleted")}),r.jsx("span",{className:"sm:hidden",children:e("admin.adPlacementPage.tabCompletedShort","Done")})]})]}),r.jsx(Nt,{value:i,className:"mt-3 sm:mt-4",children:S.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Pa,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.adPlacementPage.noPlans")})]}):r.jsx("div",{className:"space-y-2 sm:space-y-3",children:S.map(q=>{const C=$(q.status),X=C.icon;return r.jsx("div",{className:"p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors","data-testid":`plan-${q.id}`,children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 min-w-0",children:[r.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center shrink-0 ${C.bg}`,children:r.jsx(X,{className:`w-4 h-4 sm:w-5 sm:h-5 ${C.color}`})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[r.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:q.name}),r.jsx(te,{variant:"secondary",className:"text-xs",children:B(q.platform)}),r.jsx(te,{variant:"outline",className:`text-xs ${C.color}`,children:C.label})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground mt-1 flex-wrap",children:[r.jsxs("span",{children:[e("admin.adPlacementPage.budget"),": RM ",q.total_budget.toLocaleString()]}),r.jsxs("span",{children:[e("admin.adPlacementPage.dailyBudgetLabel"),": RM ",q.daily_budget.toLocaleString()]}),q.start_date&&q.end_date&&r.jsxs("span",{className:"shrink-0",children:[K(q.start_date)," ~ ",K(q.end_date)]})]}),q.approval_notes&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-1 bg-muted px-2 py-1 rounded",children:[e("admin.adPlacementPage.approvalNotes"),": ",q.approval_notes]})]})]}),r.jsxs("div",{className:"flex items-center gap-1.5 pl-12 sm:pl-0 shrink-0",children:[q.status==="draft"&&r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>_.mutate(q.id),disabled:_.isPending,"data-testid":`button-submit-${q.id}`,children:[_.isPending?r.jsx(fe,{className:"w-3.5 h-3.5 animate-spin"}):r.jsx(De,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.adPlacementPage.submitForApproval")}),r.jsx("span",{className:"sm:hidden",children:e("admin.adPlacementPage.submitShort","Submit")})]}),q.status==="pending_approval"&&r.jsxs(r.Fragment,{children:[r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs text-green-600 hover:text-green-700",onClick:()=>T.mutate({id:q.id,notes:y}),disabled:T.isPending,"data-testid":`button-approve-${q.id}`,children:[r.jsx(De,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.adPlacementPage.approve")})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs text-red-600 hover:text-red-700",onClick:()=>I.mutate({id:q.id,notes:y}),disabled:I.isPending,"data-testid":`button-reject-${q.id}`,children:[r.jsx(Bs,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.adPlacementPage.reject")})]})]}),(q.status==="draft"||q.status==="pending_approval")&&r.jsx(M,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>R(q),"data-testid":`button-edit-${q.id}`,children:r.jsx(Oa,{className:"w-3.5 h-3.5"})}),r.jsx(M,{variant:"outline",size:"sm",className:"gap-1 h-8 text-destructive hover:text-destructive",onClick:()=>E(q),"data-testid":`button-delete-${q.id}`,children:r.jsx(Dn,{className:"w-3.5 h-3.5"})})]})]})},q.id)})})})]})})]})]}),r.jsx(lt,{open:l,onOpenChange:c,children:r.jsxs(st,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Pa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e(m?"admin.adPlacementPage.editPlan":"admin.adPlacementPage.createPlan")]}),r.jsx(Kt,{className:"text-sm",children:e(m?"admin.adPlacementPage.editPlanDescription":"admin.adPlacementPage.createPlanDescription")})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-sm font-medium",children:[e("admin.adPlacementPage.planName")," *"]}),r.jsx(se,{value:p.name,onChange:q=>x({...p,name:q.target.value}),placeholder:e("admin.adPlacementPage.planNamePlaceholder"),className:"h-9 sm:h-10","data-testid":"input-plan-name"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.adPlacementPage.description")}),r.jsx(At,{value:p.description,onChange:q=>x({...p,description:q.target.value}),placeholder:e("admin.adPlacementPage.descriptionPlaceholder"),className:"min-h-[80px]","data-testid":"input-plan-description"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-sm font-medium",children:[e("admin.adPlacementPage.platform")," *"]}),r.jsxs(Et,{value:p.platform,onValueChange:q=>x({...p,platform:q}),children:[r.jsx(_t,{className:"h-9 sm:h-10","data-testid":"select-platform",children:r.jsx(Rt,{placeholder:e("admin.adPlacementPage.selectPlatform")})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"facebook",children:"Facebook"}),r.jsx(ye,{value:"instagram",children:"Instagram"}),r.jsx(ye,{value:"both",children:"Facebook + Instagram"}),r.jsx(ye,{value:"xiaohongshu",children:e("admin.adPlacementPage.platformXiaohongshu")}),r.jsx(ye,{value:"google",children:"Google"}),r.jsx(ye,{value:"tiktok",children:"TikTok"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-sm font-medium",children:[e("admin.adPlacementPage.totalBudget")," (RM)"]}),r.jsx(se,{type:"number",step:"0.01",value:p.total_budget,onChange:q=>x({...p,total_budget:q.target.value}),placeholder:"0.00",className:"h-9 sm:h-10","data-testid":"input-total-budget"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-sm font-medium",children:[e("admin.adPlacementPage.dailyBudget")," (RM)"]}),r.jsx(se,{type:"number",step:"0.01",value:p.daily_budget,onChange:q=>x({...p,daily_budget:q.target.value}),placeholder:"0.00",className:"h-9 sm:h-10","data-testid":"input-daily-budget"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.adPlacementPage.startDate")}),r.jsx(se,{type:"date",value:p.start_date,onChange:q=>x({...p,start_date:q.target.value}),className:"h-9 sm:h-10","data-testid":"input-start-date"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.adPlacementPage.endDate")}),r.jsx(se,{type:"date",value:p.end_date,onChange:q=>x({...p,end_date:q.target.value}),className:"h-9 sm:h-10","data-testid":"input-end-date"})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.adPlacementPage.kpiTargets")}),r.jsx(At,{value:p.kpi_targets,onChange:q=>x({...p,kpi_targets:q.target.value}),placeholder:e("admin.adPlacementPage.kpiTargetsPlaceholder"),className:"min-h-[80px] font-mono text-sm","data-testid":"input-kpi-targets"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.adPlacementPage.notes")}),r.jsx(At,{value:p.notes,onChange:q=>x({...p,notes:q.target.value}),placeholder:e("admin.adPlacementPage.notesPlaceholder"),className:"min-h-[80px]","data-testid":"input-plan-notes"})]})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:e("admin.adPlacementPage.cancel")}),r.jsxs(M,{onClick:L,disabled:G,className:"w-full sm:w-auto","data-testid":"button-confirm-plan",children:[G&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e(m?"admin.adPlacementPage.save":"admin.adPlacementPage.create")]})]})]})}),r.jsx(lt,{open:d,onOpenChange:u,children:r.jsxs(st,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Dn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-destructive"}),e("admin.adPlacementPage.confirmDelete")]}),r.jsx(Kt,{className:"text-sm",children:e("admin.adPlacementPage.confirmDeleteDescription","Are you sure you want to delete this plan? This action cannot be undone.")})]}),f&&r.jsxs("div",{className:"py-2 sm:py-4",children:[r.jsx("p",{className:"text-sm font-medium",children:f.name}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[B(f.platform)," - RM ",f.total_budget.toLocaleString()]})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:e("admin.adPlacementPage.cancel")}),r.jsxs(M,{variant:"destructive",onClick:()=>f&&P.mutate(f.id),disabled:P.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-delete",children:[P.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.adPlacementPage.delete")]})]})]})})]})}var qge=Array.isArray,xa=qge,zge=typeof zg=="object"&&zg&&zg.Object===Object&&zg,p9=zge,Kge=p9,Wge=typeof self=="object"&&self&&self.Object===Object&&self,Hge=Kge||Wge||Function("return this")(),Ni=Hge,Gge=Ni,Yge=Gge.Symbol,Rg=Yge,pM=Rg,g9=Object.prototype,Jge=g9.hasOwnProperty,Qge=g9.toString,Ph=pM?pM.toStringTag:void 0;function Xge(e){var t=Jge.call(e,Ph),n=e[Ph];try{e[Ph]=void 0;var a=!0}catch{}var s=Qge.call(e);return a&&(t?e[Ph]=n:delete e[Ph]),s}var Zge=Xge,exe=Object.prototype,txe=exe.toString;function nxe(e){return txe.call(e)}var rxe=nxe,gM=Rg,axe=Zge,sxe=rxe,ixe="[object Null]",oxe="[object Undefined]",xM=gM?gM.toStringTag:void 0;function lxe(e){return e==null?e===void 0?oxe:ixe:xM&&xM in Object(e)?axe(e):sxe(e)}var po=lxe;function cxe(e){return e!=null&&typeof e=="object"}var go=cxe,dxe=po,uxe=go,mxe="[object Symbol]";function hxe(e){return typeof e=="symbol"||uxe(e)&&dxe(e)==mxe}var Xm=hxe,fxe=xa,pxe=Xm,gxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xxe=/^\w*$/;function yxe(e,t){if(fxe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||pxe(e)?!0:xxe.test(e)||!gxe.test(e)||t!=null&&e in Object(t)}var OC=yxe;function vxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ul=vxe;const Zm=Vt(Ul);var bxe=po,wxe=Ul,jxe="[object AsyncFunction]",Nxe="[object Function]",kxe="[object GeneratorFunction]",Pxe="[object Proxy]";function Sxe(e){if(!wxe(e))return!1;var t=bxe(e);return t==Nxe||t==kxe||t==jxe||t==Pxe}var EC=Sxe;const nt=Vt(EC);var _xe=Ni,Cxe=_xe["__core-js_shared__"],Axe=Cxe,nN=Axe,yM=function(){var e=/[^.]+$/.exec(nN&&nN.keys&&nN.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Txe(e){return!!yM&&yM in e}var Oxe=Txe,Exe=Function.prototype,Rxe=Exe.toString;function Mxe(e){if(e!=null){try{return Rxe.call(e)}catch{}try{return e+""}catch{}}return""}var x9=Mxe,Dxe=EC,Ixe=Oxe,Lxe=Ul,$xe=x9,Fxe=/[\\^$.*+?()[\]{}|]/g,Bxe=/^\[object .+?Constructor\]$/,Uxe=Function.prototype,Vxe=Object.prototype,qxe=Uxe.toString,zxe=Vxe.hasOwnProperty,Kxe=RegExp("^"+qxe.call(zxe).replace(Fxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wxe(e){if(!Lxe(e)||Ixe(e))return!1;var t=Dxe(e)?Kxe:Bxe;return t.test($xe(e))}var Hxe=Wxe;function Gxe(e,t){return e==null?void 0:e[t]}var Yxe=Gxe,Jxe=Hxe,Qxe=Yxe;function Xxe(e,t){var n=Qxe(e,t);return Jxe(n)?n:void 0}var md=Xxe,Zxe=md,eye=Zxe(Object,"create"),L0=eye,vM=L0;function tye(){this.__data__=vM?vM(null):{},this.size=0}var nye=tye;function rye(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var aye=rye,sye=L0,iye="__lodash_hash_undefined__",oye=Object.prototype,lye=oye.hasOwnProperty;function cye(e){var t=this.__data__;if(sye){var n=t[e];return n===iye?void 0:n}return lye.call(t,e)?t[e]:void 0}var dye=cye,uye=L0,mye=Object.prototype,hye=mye.hasOwnProperty;function fye(e){var t=this.__data__;return uye?t[e]!==void 0:hye.call(t,e)}var pye=fye,gye=L0,xye="__lodash_hash_undefined__";function yye(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gye&&t===void 0?xye:t,this}var vye=yye,bye=nye,wye=aye,jye=dye,Nye=pye,kye=vye;function eh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}eh.prototype.clear=bye;eh.prototype.delete=wye;eh.prototype.get=jye;eh.prototype.has=Nye;eh.prototype.set=kye;var Pye=eh;function Sye(){this.__data__=[],this.size=0}var _ye=Sye;function Cye(e,t){return e===t||e!==e&&t!==t}var RC=Cye,Aye=RC;function Tye(e,t){for(var n=e.length;n--;)if(Aye(e[n][0],t))return n;return-1}var $0=Tye,Oye=$0,Eye=Array.prototype,Rye=Eye.splice;function Mye(e){var t=this.__data__,n=Oye(t,e);if(n<0)return!1;var a=t.length-1;return n==a?t.pop():Rye.call(t,n,1),--this.size,!0}var Dye=Mye,Iye=$0;function Lye(e){var t=this.__data__,n=Iye(t,e);return n<0?void 0:t[n][1]}var $ye=Lye,Fye=$0;function Bye(e){return Fye(this.__data__,e)>-1}var Uye=Bye,Vye=$0;function qye(e,t){var n=this.__data__,a=Vye(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}var zye=qye,Kye=_ye,Wye=Dye,Hye=$ye,Gye=Uye,Yye=zye;function th(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}th.prototype.clear=Kye;th.prototype.delete=Wye;th.prototype.get=Hye;th.prototype.has=Gye;th.prototype.set=Yye;var F0=th,Jye=md,Qye=Ni,Xye=Jye(Qye,"Map"),MC=Xye,bM=Pye,Zye=F0,eve=MC;function tve(){this.size=0,this.__data__={hash:new bM,map:new(eve||Zye),string:new bM}}var nve=tve;function rve(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ave=rve,sve=ave;function ive(e,t){var n=e.__data__;return sve(t)?n[typeof t=="string"?"string":"hash"]:n.map}var B0=ive,ove=B0;function lve(e){var t=ove(this,e).delete(e);return this.size-=t?1:0,t}var cve=lve,dve=B0;function uve(e){return dve(this,e).get(e)}var mve=uve,hve=B0;function fve(e){return hve(this,e).has(e)}var pve=fve,gve=B0;function xve(e,t){var n=gve(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}var yve=xve,vve=nve,bve=cve,wve=mve,jve=pve,Nve=yve;function nh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var a=e[t];this.set(a[0],a[1])}}nh.prototype.clear=vve;nh.prototype.delete=bve;nh.prototype.get=wve;nh.prototype.has=jve;nh.prototype.set=Nve;var DC=nh,y9=DC,kve="Expected a function";function IC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(kve);var n=function(){var a=arguments,s=t?t.apply(this,a):a[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,a);return n.cache=i.set(s,o)||i,o};return n.cache=new(IC.Cache||y9),n}IC.Cache=y9;var v9=IC;const Pve=Vt(v9);var Sve=v9,_ve=500;function Cve(e){var t=Sve(e,function(a){return n.size===_ve&&n.clear(),a}),n=t.cache;return t}var Ave=Cve,Tve=Ave,Ove=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Eve=/\\(\\)?/g,Rve=Tve(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ove,function(n,a,s,i){t.push(s?i.replace(Eve,"$1"):a||n)}),t}),Mve=Rve;function Dve(e,t){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=t(e[n],n,e);return s}var LC=Dve,wM=Rg,Ive=LC,Lve=xa,$ve=Xm,Fve=1/0,jM=wM?wM.prototype:void 0,NM=jM?jM.toString:void 0;function b9(e){if(typeof e=="string")return e;if(Lve(e))return Ive(e,b9)+"";if($ve(e))return NM?NM.call(e):"";var t=e+"";return t=="0"&&1/e==-Fve?"-0":t}var Bve=b9,Uve=Bve;function Vve(e){return e==null?"":Uve(e)}var w9=Vve,qve=xa,zve=OC,Kve=Mve,Wve=w9;function Hve(e,t){return qve(e)?e:zve(e,t)?[e]:Kve(Wve(e))}var j9=Hve,Gve=Xm,Yve=1/0;function Jve(e){if(typeof e=="string"||Gve(e))return e;var t=e+"";return t=="0"&&1/e==-Yve?"-0":t}var U0=Jve,Qve=j9,Xve=U0;function Zve(e,t){t=Qve(t,e);for(var n=0,a=t.length;e!=null&&n<a;)e=e[Xve(t[n++])];return n&&n==a?e:void 0}var $C=Zve,ebe=$C;function tbe(e,t,n){var a=e==null?void 0:ebe(e,t);return a===void 0?n:a}var N9=tbe;const La=Vt(N9);function nbe(e){return e==null}var rbe=nbe;const mt=Vt(rbe);var abe=po,sbe=xa,ibe=go,obe="[object String]";function lbe(e){return typeof e=="string"||!sbe(e)&&ibe(e)&&abe(e)==obe}var cbe=lbe;const Mg=Vt(cbe);var k9={exports:{}},Ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC=Symbol.for("react.element"),BC=Symbol.for("react.portal"),V0=Symbol.for("react.fragment"),q0=Symbol.for("react.strict_mode"),z0=Symbol.for("react.profiler"),K0=Symbol.for("react.provider"),W0=Symbol.for("react.context"),dbe=Symbol.for("react.server_context"),H0=Symbol.for("react.forward_ref"),G0=Symbol.for("react.suspense"),Y0=Symbol.for("react.suspense_list"),J0=Symbol.for("react.memo"),Q0=Symbol.for("react.lazy"),ube=Symbol.for("react.offscreen"),P9;P9=Symbol.for("react.module.reference");function gs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case FC:switch(e=e.type,e){case V0:case z0:case q0:case G0:case Y0:return e;default:switch(e=e&&e.$$typeof,e){case dbe:case W0:case H0:case Q0:case J0:case K0:return e;default:return t}}case BC:return t}}}Ht.ContextConsumer=W0;Ht.ContextProvider=K0;Ht.Element=FC;Ht.ForwardRef=H0;Ht.Fragment=V0;Ht.Lazy=Q0;Ht.Memo=J0;Ht.Portal=BC;Ht.Profiler=z0;Ht.StrictMode=q0;Ht.Suspense=G0;Ht.SuspenseList=Y0;Ht.isAsyncMode=function(){return!1};Ht.isConcurrentMode=function(){return!1};Ht.isContextConsumer=function(e){return gs(e)===W0};Ht.isContextProvider=function(e){return gs(e)===K0};Ht.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===FC};Ht.isForwardRef=function(e){return gs(e)===H0};Ht.isFragment=function(e){return gs(e)===V0};Ht.isLazy=function(e){return gs(e)===Q0};Ht.isMemo=function(e){return gs(e)===J0};Ht.isPortal=function(e){return gs(e)===BC};Ht.isProfiler=function(e){return gs(e)===z0};Ht.isStrictMode=function(e){return gs(e)===q0};Ht.isSuspense=function(e){return gs(e)===G0};Ht.isSuspenseList=function(e){return gs(e)===Y0};Ht.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===V0||e===z0||e===q0||e===G0||e===Y0||e===ube||typeof e=="object"&&e!==null&&(e.$$typeof===Q0||e.$$typeof===J0||e.$$typeof===K0||e.$$typeof===W0||e.$$typeof===H0||e.$$typeof===P9||e.getModuleId!==void 0)};Ht.typeOf=gs;k9.exports=Ht;var mbe=k9.exports,hbe=po,fbe=go,pbe="[object Number]";function gbe(e){return typeof e=="number"||fbe(e)&&hbe(e)==pbe}var S9=gbe;const xbe=Vt(S9);var ybe=S9;function vbe(e){return ybe(e)&&e!=+e}var bbe=vbe;const Dg=Vt(bbe);var Wr=function(t){return t===0?0:t>0?1:-1},xc=function(t){return Mg(t)&&t.indexOf("%")===t.length-1},Se=function(t){return xbe(t)&&!Dg(t)},ir=function(t){return Se(t)||Mg(t)},wbe=0,rh=function(t){var n=++wbe;return"".concat(t||"").concat(n)},Hr=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(t)&&!Mg(t))return a;var i;if(xc(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Dg(i)&&(i=a),s&&i>n&&(i=n),i},$o=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},jbe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,a={},s=0;s<n;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},_a=function(t,n){return Se(t)&&Se(n)?function(a){return t+a*(n-t)}:function(){return n}};function Ov(e,t,n){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):La(a,t))===n})}function ju(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function Yk(e){"@babel/helpers - typeof";return Yk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yk(e)}var Nbe=["viewBox","children"],kbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kM=["points","pathLength"],rN={svg:Nbe,polygon:kM,polyline:kM},UC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ev=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!Zm(a))return null;var s={};return Object.keys(a).forEach(function(i){UC.includes(i)&&(s[i]=n||function(o){return a[i](a,o)})}),s},Pbe=function(t,n,a){return function(s){return t(n,a,s),null}},Zc=function(t,n,a){if(!Zm(t)||Yk(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];UC.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Pbe(o,n,a))}),s},Sbe=["children"],_be=["children"];function PM(e,t){if(e==null)return{};var n=Cbe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Cbe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Jk(e){"@babel/helpers - typeof";return Jk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jk(e)}var SM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Wi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},_M=null,aN=null,VC=function e(t){if(t===_M&&Array.isArray(aN))return aN;var n=[];return j.Children.forEach(t,function(a){mt(a)||(mbe.isFragment(a)?n=n.concat(e(a.props.children)):n.push(a))}),aN=n,_M=t,n};function $a(e,t){var n=[],a=[];return Array.isArray(t)?a=t.map(function(s){return Wi(s)}):a=[Wi(t)],VC(e).forEach(function(s){var i=La(s,"type.displayName")||La(s,"type.name");a.indexOf(i)!==-1&&n.push(s)}),n}function Na(e,t){var n=$a(e,t);return n&&n[0]}var CM=function(t){if(!t||!t.props)return!1;var n=t.props,a=n.width,s=n.height;return!(!Se(a)||a<=0||!Se(s)||s<=0)},Abe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Tbe=function(t){return t&&t.type&&Mg(t.type)&&Abe.indexOf(t.type)>=0},Obe=function(t){return t&&Jk(t)==="object"&&"clipDot"in t},Ebe=function(t,n,a,s){var i,o=(i=rN==null?void 0:rN[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!nt(t)&&(s&&o.includes(n)||kbe.includes(n))||a&&UC.includes(n)},He=function(t,n,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(j.isValidElement(t)&&(s=t.props),!Zm(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;Ebe((l=s)===null||l===void 0?void 0:l[o],o,n,a)&&(i[o]=s[o])}),i},Qk=function e(t,n){if(t===n)return!0;var a=j.Children.count(t);if(a!==j.Children.count(n))return!1;if(a===0)return!0;if(a===1)return AM(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var i=t[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!AM(i,o))return!1}return!0},AM=function(t,n){if(mt(t)&&mt(n))return!0;if(!mt(t)&&!mt(n)){var a=t.props||{},s=a.children,i=PM(a,Sbe),o=n.props||{},l=o.children,c=PM(o,_be);return s&&l?ju(i,c)&&Qk(s,l):!s&&!l?ju(i,c):!1}return!1},TM=function(t,n){var a=[],s={};return VC(t).forEach(function(i,o){if(Tbe(i))a.push(i);else if(i){var l=Wi(i.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!s[l])){var m=d(i,l,o);a.push(m),s[l]=!0}}}),a},Rbe=function(t){var n=t&&t.type;return n&&SM[n]?SM[n]:null},Mbe=function(t,n){return VC(n).indexOf(t)},Dbe=["children","width","height","viewBox","className","style","title","desc"];function Xk(){return Xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xk.apply(this,arguments)}function Ibe(e,t){if(e==null)return{};var n=Lbe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Lbe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Zk(e){var t=e.children,n=e.width,a=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=Ibe(e,Dbe),u=s||{width:n,height:a,x:0,y:0},m=ft("recharts-surface",i);return U.createElement("svg",Xk({},He(d,!0,"svg"),{className:m,width:n,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),U.createElement("title",null,l),U.createElement("desc",null,c),t)}var $be=["children","className"];function eP(){return eP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},eP.apply(this,arguments)}function Fbe(e,t){if(e==null)return{};var n=Bbe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Bbe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var $t=U.forwardRef(function(e,t){var n=e.children,a=e.className,s=Fbe(e,$be),i=ft("recharts-layer",a);return U.createElement("g",eP({className:i},He(s,!0),{ref:t}),n)}),Vs=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function Ube(e,t,n){var a=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(s);++a<s;)i[a]=e[a+t];return i}var Vbe=Ube,qbe=Vbe;function zbe(e,t,n){var a=e.length;return n=n===void 0?a:n,!t&&n>=a?e:qbe(e,t,n)}var Kbe=zbe,Wbe="\\ud800-\\udfff",Hbe="\\u0300-\\u036f",Gbe="\\ufe20-\\ufe2f",Ybe="\\u20d0-\\u20ff",Jbe=Hbe+Gbe+Ybe,Qbe="\\ufe0e\\ufe0f",Xbe="\\u200d",Zbe=RegExp("["+Xbe+Wbe+Jbe+Qbe+"]");function e0e(e){return Zbe.test(e)}var _9=e0e;function t0e(e){return e.split("")}var n0e=t0e,C9="\\ud800-\\udfff",r0e="\\u0300-\\u036f",a0e="\\ufe20-\\ufe2f",s0e="\\u20d0-\\u20ff",i0e=r0e+a0e+s0e,o0e="\\ufe0e\\ufe0f",l0e="["+C9+"]",tP="["+i0e+"]",nP="\\ud83c[\\udffb-\\udfff]",c0e="(?:"+tP+"|"+nP+")",A9="[^"+C9+"]",T9="(?:\\ud83c[\\udde6-\\uddff]){2}",O9="[\\ud800-\\udbff][\\udc00-\\udfff]",d0e="\\u200d",E9=c0e+"?",R9="["+o0e+"]?",u0e="(?:"+d0e+"(?:"+[A9,T9,O9].join("|")+")"+R9+E9+")*",m0e=R9+E9+u0e,h0e="(?:"+[A9+tP+"?",tP,T9,O9,l0e].join("|")+")",f0e=RegExp(nP+"(?="+nP+")|"+h0e+m0e,"g");function p0e(e){return e.match(f0e)||[]}var g0e=p0e,x0e=n0e,y0e=_9,v0e=g0e;function b0e(e){return y0e(e)?v0e(e):x0e(e)}var w0e=b0e,j0e=Kbe,N0e=_9,k0e=w0e,P0e=w9;function S0e(e){return function(t){t=P0e(t);var n=N0e(t)?k0e(t):void 0,a=n?n[0]:t.charAt(0),s=n?j0e(n,1).join(""):t.slice(1);return a[e]()+s}}var _0e=S0e,C0e=_0e,A0e=C0e("toUpperCase"),T0e=A0e;const X0=Vt(T0e);function en(e){return function(){return e}}const M9=Math.cos,Rv=Math.sin,Ys=Math.sqrt,Mv=Math.PI,Z0=2*Mv,rP=Math.PI,aP=2*rP,rc=1e-6,O0e=aP-rc;function D9(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function E0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return D9;const n=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class R0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?D9:E0e(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,s){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,n,a,s,i,o){this._append`C${+t},${+n},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,a,s,i){if(t=+t,n=+n,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=a-t,d=s-n,u=o-t,m=l-n,h=u*u+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>rc)if(!(Math.abs(m*c-d*u)>rc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let f=a-o,g=s-l,p=c*c+d*d,x=f*f+g*g,y=Math.sqrt(p),v=Math.sqrt(h),b=i*Math.tan((rP-Math.acos((p+h-x)/(2*y*v)))/2),N=b/v,w=b/y;Math.abs(N-1)>rc&&this._append`L${t+N*u},${n+N*m}`,this._append`A${i},${i},0,0,${+(m*f>u*g)},${this._x1=t+w*c},${this._y1=n+w*d}`}}arc(t,n,a,s,i,o){if(t=+t,n=+n,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(s),c=a*Math.sin(s),d=t+l,u=n+c,m=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>rc||Math.abs(this._y1-u)>rc)&&this._append`L${d},${u}`,a&&(h<0&&(h=h%aP+aP),h>O0e?this._append`A${a},${a},0,1,${m},${t-l},${n-c}A${a},${a},0,1,${m},${this._x1=d},${this._y1=u}`:h>rc&&this._append`A${a},${a},0,${+(h>=rP)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=n+a*Math.sin(i)}`)}rect(t,n,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function qC(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new R0e(t)}function zC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function I9(e){this._context=e}I9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ew(e){return new I9(e)}function L9(e){return e[0]}function $9(e){return e[1]}function F9(e,t){var n=en(!0),a=null,s=ew,i=null,o=qC(l);e=typeof e=="function"?e:e===void 0?L9:en(e),t=typeof t=="function"?t:t===void 0?$9:en(t);function l(c){var d,u=(c=zC(c)).length,m,h=!1,f;for(a==null&&(i=s(f=o())),d=0;d<=u;++d)!(d<u&&n(m=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(m,d,c),+t(m,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:en(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:en(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:en(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,a!=null&&(i=s(a)),l):s},l.context=function(c){return arguments.length?(c==null?a=i=null:i=s(a=c),l):a},l}function Rx(e,t,n){var a=null,s=en(!0),i=null,o=ew,l=null,c=qC(d);e=typeof e=="function"?e:e===void 0?L9:en(+e),t=typeof t=="function"?t:en(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?$9:en(+n);function d(m){var h,f,g,p=(m=zC(m)).length,x,y=!1,v,b=new Array(p),N=new Array(p);for(i==null&&(l=o(v=c())),h=0;h<=p;++h){if(!(h<p&&s(x=m[h],h,m))===y)if(y=!y)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=f;--g)l.point(b[g],N[g]);l.lineEnd(),l.areaEnd()}y&&(b[h]=+e(x,h,m),N[h]=+t(x,h,m),l.point(a?+a(x,h,m):b[h],n?+n(x,h,m):N[h]))}if(v)return l=null,v+""||null}function u(){return F9().defined(s).curve(o).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:en(+m),a=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:en(+m),d):e},d.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:en(+m),d):a},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:en(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:en(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:en(+m),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(a).y(t)},d.defined=function(m){return arguments.length?(s=typeof m=="function"?m:en(!!m),d):s},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class B9{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function M0e(e){return new B9(e,!0)}function D0e(e){return new B9(e,!1)}const KC={draw(e,t){const n=Ys(t/Mv);e.moveTo(n,0),e.arc(0,0,n,0,Z0)}},I0e={draw(e,t){const n=Ys(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},U9=Ys(1/3),L0e=U9*2,$0e={draw(e,t){const n=Ys(t/L0e),a=n*U9;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},F0e={draw(e,t){const n=Ys(t),a=-n/2;e.rect(a,a,n,n)}},B0e=.8908130915292852,V9=Rv(Mv/10)/Rv(7*Mv/10),U0e=Rv(Z0/10)*V9,V0e=-M9(Z0/10)*V9,q0e={draw(e,t){const n=Ys(t*B0e),a=U0e*n,s=V0e*n;e.moveTo(0,-n),e.lineTo(a,s);for(let i=1;i<5;++i){const o=Z0*i/5,l=M9(o),c=Rv(o);e.lineTo(c*n,-l*n),e.lineTo(l*a-c*s,c*a+l*s)}e.closePath()}},sN=Ys(3),z0e={draw(e,t){const n=-Ys(t/(sN*3));e.moveTo(0,n*2),e.lineTo(-sN*n,-n),e.lineTo(sN*n,-n),e.closePath()}},Wa=-.5,Ha=Ys(3)/2,sP=1/Ys(12),K0e=(sP/2+1)*3,W0e={draw(e,t){const n=Ys(t/K0e),a=n/2,s=n*sP,i=a,o=n*sP+n,l=-i,c=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Wa*a-Ha*s,Ha*a+Wa*s),e.lineTo(Wa*i-Ha*o,Ha*i+Wa*o),e.lineTo(Wa*l-Ha*c,Ha*l+Wa*c),e.lineTo(Wa*a+Ha*s,Wa*s-Ha*a),e.lineTo(Wa*i+Ha*o,Wa*o-Ha*i),e.lineTo(Wa*l+Ha*c,Wa*c-Ha*l),e.closePath()}};function H0e(e,t){let n=null,a=qC(s);e=typeof e=="function"?e:en(e||KC),t=typeof t=="function"?t:en(t===void 0?64:+t);function s(){let i;if(n||(n=i=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:en(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:en(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function Dv(){}function Iv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function q9(e){this._context=e}q9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Iv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Iv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G0e(e){return new q9(e)}function z9(e){this._context=e}z9.prototype={areaStart:Dv,areaEnd:Dv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Iv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y0e(e){return new z9(e)}function K9(e){this._context=e}K9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:Iv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J0e(e){return new K9(e)}function W9(e){this._context=e}W9.prototype={areaStart:Dv,areaEnd:Dv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Q0e(e){return new W9(e)}function OM(e){return e<0?-1:1}function EM(e,t,n){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(n-e._y1)/(s||a<0&&-0),l=(i*s+o*a)/(a+s);return(OM(i)+OM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function RM(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function iN(e,t,n){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,s+l*t,i-l,o-l*n,i,o)}function Lv(e){this._context=e}Lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iN(this,this._t0,RM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,iN(this,RM(this,n=EM(this,e,t)),n);break;default:iN(this,this._t0,n=EM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function H9(e){this._context=new G9(e)}(H9.prototype=Object.create(Lv.prototype)).point=function(e,t){Lv.prototype.point.call(this,t,e)};function G9(e){this._context=e}G9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,s,i){this._context.bezierCurveTo(t,e,a,n,i,s)}};function X0e(e){return new Lv(e)}function Z0e(e){return new H9(e)}function Y9(e){this._context=e}Y9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var a=MM(e),s=MM(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function MM(e){var t,n=e.length-1,a,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)a=s[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(s[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function ewe(e){return new Y9(e)}function tw(e,t){this._context=e,this._t=t}tw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function twe(e){return new tw(e,.5)}function nwe(e){return new tw(e,0)}function rwe(e){return new tw(e,1)}function sm(e,t){if((o=e.length)>1)for(var n=1,a,s,i=e[t[0]],o,l=i.length;n<o;++n)for(s=i,i=e[t[n]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function iP(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function awe(e,t){return e[t]}function swe(e){const t=[];return t.key=e,t}function iwe(){var e=en([]),t=iP,n=sm,a=awe;function s(i){var o=Array.from(e.apply(this,arguments),swe),l,c=o.length,d=-1,u;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+a(m,o[l].key,d,i)]).data=m;for(l=0,u=zC(t(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:en(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:en(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?iP:typeof i=="function"?i:en(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??sm,s):n},s}function owe(e,t){if((a=e.length)>0){for(var n,a,s=0,i=e[0].length,o;s<i;++s){for(o=n=0;n<a;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<a;++n)e[n][s][1]/=o}sm(e,t)}}function lwe(e,t){if((s=e.length)>0){for(var n=0,a=e[t[0]],s,i=a.length;n<i;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;a[n][1]+=a[n][0]=-l/2}sm(e,t)}}function cwe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,a=1,s,i,o;a<i;++a){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],m=u[a][1]||0,h=u[a-1][1]||0,f=(m-h)/2,g=0;g<l;++g){var p=e[t[g]],x=p[a][1]||0,y=p[a-1][1]||0;f+=x-y}c+=m,d+=f*m}s[a-1][1]+=s[a-1][0]=n,c&&(n-=d/c)}s[a-1][1]+=s[a-1][0]=n,sm(e,t)}}function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}var dwe=["type","size","sizeType"];function oP(){return oP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oP.apply(this,arguments)}function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function IM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(n),!0).forEach(function(a){uwe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function uwe(e,t,n){return t=mwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mwe(e){var t=hwe(e,"string");return pp(t)=="symbol"?t:t+""}function hwe(e,t){if(pp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(pp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fwe(e,t){if(e==null)return{};var n=pwe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function pwe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var J9={symbolCircle:KC,symbolCross:I0e,symbolDiamond:$0e,symbolSquare:F0e,symbolStar:q0e,symbolTriangle:z0e,symbolWye:W0e},gwe=Math.PI/180,xwe=function(t){var n="symbol".concat(X0(t));return J9[n]||KC},ywe=function(t,n,a){if(n==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*gwe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},vwe=function(t,n){J9["symbol".concat(X0(t))]=n},WC=function(t){var n=t.type,a=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=fwe(t,dwe),d=IM(IM({},c),{},{type:a,size:i,sizeType:l}),u=function(){var x=xwe(a),y=H0e().type(x).size(ywe(i,l,a));return y()},m=d.className,h=d.cx,f=d.cy,g=He(d,!0);return h===+h&&f===+f&&i===+i?U.createElement("path",oP({},g,{className:ft("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(f,")"),d:u()})):null};WC.registerSymbol=vwe;function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lP.apply(this,arguments)}function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function bwe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(n),!0).forEach(function(a){gp(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function wwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jwe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,X9(a.key),a)}}function Nwe(e,t,n){return t&&jwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kwe(e,t,n){return t=$v(t),Pwe(e,Q9()?Reflect.construct(t,n||[],$v(e).constructor):t.apply(e,n))}function Pwe(e,t){if(t&&(im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Swe(e)}function Swe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q9=function(){return!!e})()}function $v(e){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(e)}function _we(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cP(e,t)}function cP(e,t){return cP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},cP(e,t)}function gp(e,t,n){return t=X9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X9(e){var t=Cwe(e,"string");return im(t)=="symbol"?t:t+""}function Cwe(e,t){if(im(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(im(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ga=32,HC=function(e){function t(){return wwe(this,t),kwe(this,t,arguments)}return _we(t,e),Nwe(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=Ga/2,o=Ga/6,l=Ga/3,c=a.inactive?s:a.color;if(a.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Ga,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ga,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return U.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ga/8,"h").concat(Ga,"v").concat(Ga*3/4,"h").concat(-Ga,"z"),className:"recharts-legend-icon"});if(U.isValidElement(a.legendIcon)){var d=bwe({},a);return delete d.legendIcon,U.cloneElement(a.legendIcon,d)}return U.createElement(WC,{fill:c,cx:i,cy:i,size:Ga,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:Ga,height:Ga},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,g){var p=f.formatter||c,x=ft(gp(gp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=nt(f.value)?null:f.value;Vs(!nt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=f.inactive?d:f.color;return U.createElement("li",lP({className:x,style:m,key:"legend-item-".concat(g)},Zc(a.props,f,g)),U.createElement(Zk,{width:o,height:o,viewBox:u,style:h},a.renderIcon(f)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},p?p(y,f,g):y))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,o=a.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);gp(HC,"displayName","Legend");gp(HC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Awe=F0;function Twe(){this.__data__=new Awe,this.size=0}var Owe=Twe;function Ewe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Rwe=Ewe;function Mwe(e){return this.__data__.get(e)}var Dwe=Mwe;function Iwe(e){return this.__data__.has(e)}var Lwe=Iwe,$we=F0,Fwe=MC,Bwe=DC,Uwe=200;function Vwe(e,t){var n=this.__data__;if(n instanceof $we){var a=n.__data__;if(!Fwe||a.length<Uwe-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new Bwe(a)}return n.set(e,t),this.size=n.size,this}var qwe=Vwe,zwe=F0,Kwe=Owe,Wwe=Rwe,Hwe=Dwe,Gwe=Lwe,Ywe=qwe;function ah(e){var t=this.__data__=new zwe(e);this.size=t.size}ah.prototype.clear=Kwe;ah.prototype.delete=Wwe;ah.prototype.get=Hwe;ah.prototype.has=Gwe;ah.prototype.set=Ywe;var Z9=ah,Jwe="__lodash_hash_undefined__";function Qwe(e){return this.__data__.set(e,Jwe),this}var Xwe=Qwe;function Zwe(e){return this.__data__.has(e)}var eje=Zwe,tje=DC,nje=Xwe,rje=eje;function Fv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new tje;++t<n;)this.add(e[t])}Fv.prototype.add=Fv.prototype.push=nje;Fv.prototype.has=rje;var ez=Fv;function aje(e,t){for(var n=-1,a=e==null?0:e.length;++n<a;)if(t(e[n],n,e))return!0;return!1}var tz=aje;function sje(e,t){return e.has(t)}var nz=sje,ije=ez,oje=tz,lje=nz,cje=1,dje=2;function uje(e,t,n,a,s,i){var o=n&cje,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var m=-1,h=!0,f=n&dje?new ije:void 0;for(i.set(e,t),i.set(t,e);++m<l;){var g=e[m],p=t[m];if(a)var x=o?a(p,g,m,t,e,i):a(g,p,m,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(f){if(!oje(t,function(y,v){if(!lje(f,v)&&(g===y||s(g,y,n,a,i)))return f.push(v)})){h=!1;break}}else if(!(g===p||s(g,p,n,a,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var rz=uje,mje=Ni,hje=mje.Uint8Array,fje=hje;function pje(e){var t=-1,n=Array(e.size);return e.forEach(function(a,s){n[++t]=[s,a]}),n}var gje=pje;function xje(e){var t=-1,n=Array(e.size);return e.forEach(function(a){n[++t]=a}),n}var GC=xje,$M=Rg,FM=fje,yje=RC,vje=rz,bje=gje,wje=GC,jje=1,Nje=2,kje="[object Boolean]",Pje="[object Date]",Sje="[object Error]",_je="[object Map]",Cje="[object Number]",Aje="[object RegExp]",Tje="[object Set]",Oje="[object String]",Eje="[object Symbol]",Rje="[object ArrayBuffer]",Mje="[object DataView]",BM=$M?$M.prototype:void 0,oN=BM?BM.valueOf:void 0;function Dje(e,t,n,a,s,i,o){switch(n){case Mje:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Rje:return!(e.byteLength!=t.byteLength||!i(new FM(e),new FM(t)));case kje:case Pje:case Cje:return yje(+e,+t);case Sje:return e.name==t.name&&e.message==t.message;case Aje:case Oje:return e==t+"";case _je:var l=bje;case Tje:var c=a&jje;if(l||(l=wje),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;a|=Nje,o.set(e,t);var u=vje(l(e),l(t),a,s,i,o);return o.delete(e),u;case Eje:if(oN)return oN.call(e)==oN.call(t)}return!1}var Ije=Dje;function Lje(e,t){for(var n=-1,a=t.length,s=e.length;++n<a;)e[s+n]=t[n];return e}var az=Lje,$je=az,Fje=xa;function Bje(e,t,n){var a=t(e);return Fje(e)?a:$je(a,n(e))}var Uje=Bje;function Vje(e,t){for(var n=-1,a=e==null?0:e.length,s=0,i=[];++n<a;){var o=e[n];t(o,n,e)&&(i[s++]=o)}return i}var qje=Vje;function zje(){return[]}var Kje=zje,Wje=qje,Hje=Kje,Gje=Object.prototype,Yje=Gje.propertyIsEnumerable,UM=Object.getOwnPropertySymbols,Jje=UM?function(e){return e==null?[]:(e=Object(e),Wje(UM(e),function(t){return Yje.call(e,t)}))}:Hje,Qje=Jje;function Xje(e,t){for(var n=-1,a=Array(e);++n<e;)a[n]=t(n);return a}var Zje=Xje,eNe=po,tNe=go,nNe="[object Arguments]";function rNe(e){return tNe(e)&&eNe(e)==nNe}var aNe=rNe,VM=aNe,sNe=go,sz=Object.prototype,iNe=sz.hasOwnProperty,oNe=sz.propertyIsEnumerable,lNe=VM(function(){return arguments}())?VM:function(e){return sNe(e)&&iNe.call(e,"callee")&&!oNe.call(e,"callee")},YC=lNe,Bv={exports:{}};function cNe(){return!1}var dNe=cNe;Bv.exports;(function(e,t){var n=Ni,a=dNe,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||a;e.exports=d})(Bv,Bv.exports);var iz=Bv.exports,uNe=9007199254740991,mNe=/^(?:0|[1-9]\d*)$/;function hNe(e,t){var n=typeof e;return t=t??uNe,!!t&&(n=="number"||n!="symbol"&&mNe.test(e))&&e>-1&&e%1==0&&e<t}var JC=hNe,fNe=9007199254740991;function pNe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fNe}var QC=pNe,gNe=po,xNe=QC,yNe=go,vNe="[object Arguments]",bNe="[object Array]",wNe="[object Boolean]",jNe="[object Date]",NNe="[object Error]",kNe="[object Function]",PNe="[object Map]",SNe="[object Number]",_Ne="[object Object]",CNe="[object RegExp]",ANe="[object Set]",TNe="[object String]",ONe="[object WeakMap]",ENe="[object ArrayBuffer]",RNe="[object DataView]",MNe="[object Float32Array]",DNe="[object Float64Array]",INe="[object Int8Array]",LNe="[object Int16Array]",$Ne="[object Int32Array]",FNe="[object Uint8Array]",BNe="[object Uint8ClampedArray]",UNe="[object Uint16Array]",VNe="[object Uint32Array]",ln={};ln[MNe]=ln[DNe]=ln[INe]=ln[LNe]=ln[$Ne]=ln[FNe]=ln[BNe]=ln[UNe]=ln[VNe]=!0;ln[vNe]=ln[bNe]=ln[ENe]=ln[wNe]=ln[RNe]=ln[jNe]=ln[NNe]=ln[kNe]=ln[PNe]=ln[SNe]=ln[_Ne]=ln[CNe]=ln[ANe]=ln[TNe]=ln[ONe]=!1;function qNe(e){return yNe(e)&&xNe(e.length)&&!!ln[gNe(e)]}var zNe=qNe;function KNe(e){return function(t){return e(t)}}var oz=KNe,Uv={exports:{}};Uv.exports;(function(e,t){var n=p9,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Uv,Uv.exports);var WNe=Uv.exports,HNe=zNe,GNe=oz,qM=WNe,zM=qM&&qM.isTypedArray,YNe=zM?GNe(zM):HNe,lz=YNe,JNe=Zje,QNe=YC,XNe=xa,ZNe=iz,e1e=JC,t1e=lz,n1e=Object.prototype,r1e=n1e.hasOwnProperty;function a1e(e,t){var n=XNe(e),a=!n&&QNe(e),s=!n&&!a&&ZNe(e),i=!n&&!a&&!s&&t1e(e),o=n||a||s||i,l=o?JNe(e.length,String):[],c=l.length;for(var d in e)(t||r1e.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||e1e(d,c)))&&l.push(d);return l}var s1e=a1e,i1e=Object.prototype;function o1e(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||i1e;return e===n}var l1e=o1e;function c1e(e,t){return function(n){return e(t(n))}}var cz=c1e,d1e=cz,u1e=d1e(Object.keys,Object),m1e=u1e,h1e=l1e,f1e=m1e,p1e=Object.prototype,g1e=p1e.hasOwnProperty;function x1e(e){if(!h1e(e))return f1e(e);var t=[];for(var n in Object(e))g1e.call(e,n)&&n!="constructor"&&t.push(n);return t}var y1e=x1e,v1e=EC,b1e=QC;function w1e(e){return e!=null&&b1e(e.length)&&!v1e(e)}var Ig=w1e,j1e=s1e,N1e=y1e,k1e=Ig;function P1e(e){return k1e(e)?j1e(e):N1e(e)}var nw=P1e,S1e=Uje,_1e=Qje,C1e=nw;function A1e(e){return S1e(e,C1e,_1e)}var T1e=A1e,KM=T1e,O1e=1,E1e=Object.prototype,R1e=E1e.hasOwnProperty;function M1e(e,t,n,a,s,i){var o=n&O1e,l=KM(e),c=l.length,d=KM(t),u=d.length;if(c!=u&&!o)return!1;for(var m=c;m--;){var h=l[m];if(!(o?h in t:R1e.call(t,h)))return!1}var f=i.get(e),g=i.get(t);if(f&&g)return f==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var x=o;++m<c;){h=l[m];var y=e[h],v=t[h];if(a)var b=o?a(v,y,h,t,e,i):a(y,v,h,e,t,i);if(!(b===void 0?y===v||s(y,v,n,a,i):b)){p=!1;break}x||(x=h=="constructor")}if(p&&!x){var N=e.constructor,w=t.constructor;N!=w&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof w=="function"&&w instanceof w)&&(p=!1)}return i.delete(e),i.delete(t),p}var D1e=M1e,I1e=md,L1e=Ni,$1e=I1e(L1e,"DataView"),F1e=$1e,B1e=md,U1e=Ni,V1e=B1e(U1e,"Promise"),q1e=V1e,z1e=md,K1e=Ni,W1e=z1e(K1e,"Set"),dz=W1e,H1e=md,G1e=Ni,Y1e=H1e(G1e,"WeakMap"),J1e=Y1e,dP=F1e,uP=MC,mP=q1e,hP=dz,fP=J1e,uz=po,sh=x9,WM="[object Map]",Q1e="[object Object]",HM="[object Promise]",GM="[object Set]",YM="[object WeakMap]",JM="[object DataView]",X1e=sh(dP),Z1e=sh(uP),eke=sh(mP),tke=sh(hP),nke=sh(fP),ac=uz;(dP&&ac(new dP(new ArrayBuffer(1)))!=JM||uP&&ac(new uP)!=WM||mP&&ac(mP.resolve())!=HM||hP&&ac(new hP)!=GM||fP&&ac(new fP)!=YM)&&(ac=function(e){var t=uz(e),n=t==Q1e?e.constructor:void 0,a=n?sh(n):"";if(a)switch(a){case X1e:return JM;case Z1e:return WM;case eke:return HM;case tke:return GM;case nke:return YM}return t});var rke=ac,lN=Z9,ake=rz,ske=Ije,ike=D1e,QM=rke,XM=xa,ZM=iz,oke=lz,lke=1,eD="[object Arguments]",tD="[object Array]",Mx="[object Object]",cke=Object.prototype,nD=cke.hasOwnProperty;function dke(e,t,n,a,s,i){var o=XM(e),l=XM(t),c=o?tD:QM(e),d=l?tD:QM(t);c=c==eD?Mx:c,d=d==eD?Mx:d;var u=c==Mx,m=d==Mx,h=c==d;if(h&&ZM(e)){if(!ZM(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new lN),o||oke(e)?ake(e,t,n,a,s,i):ske(e,t,c,n,a,s,i);if(!(n&lke)){var f=u&&nD.call(e,"__wrapped__"),g=m&&nD.call(t,"__wrapped__");if(f||g){var p=f?e.value():e,x=g?t.value():t;return i||(i=new lN),s(p,x,n,a,i)}}return h?(i||(i=new lN),ike(e,t,n,a,s,i)):!1}var uke=dke,mke=uke,rD=go;function mz(e,t,n,a,s){return e===t?!0:e==null||t==null||!rD(e)&&!rD(t)?e!==e&&t!==t:mke(e,t,n,a,mz,s)}var XC=mz,hke=Z9,fke=XC,pke=1,gke=2;function xke(e,t,n,a){var s=n.length,i=s,o=!a;if(e==null)return!i;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=n[s];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var m=new hke;if(a)var h=a(d,u,c,e,t,m);if(!(h===void 0?fke(u,d,pke|gke,a,m):h))return!1}}return!0}var yke=xke,vke=Ul;function bke(e){return e===e&&!vke(e)}var hz=bke,wke=hz,jke=nw;function Nke(e){for(var t=jke(e),n=t.length;n--;){var a=t[n],s=e[a];t[n]=[a,s,wke(s)]}return t}var kke=Nke;function Pke(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var fz=Pke,Ske=yke,_ke=kke,Cke=fz;function Ake(e){var t=_ke(e);return t.length==1&&t[0][2]?Cke(t[0][0],t[0][1]):function(n){return n===e||Ske(n,e,t)}}var Tke=Ake;function Oke(e,t){return e!=null&&t in Object(e)}var Eke=Oke,Rke=j9,Mke=YC,Dke=xa,Ike=JC,Lke=QC,$ke=U0;function Fke(e,t,n){t=Rke(t,e);for(var a=-1,s=t.length,i=!1;++a<s;){var o=$ke(t[a]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++a!=s?i:(s=e==null?0:e.length,!!s&&Lke(s)&&Ike(o,s)&&(Dke(e)||Mke(e)))}var Bke=Fke,Uke=Eke,Vke=Bke;function qke(e,t){return e!=null&&Vke(e,t,Uke)}var zke=qke,Kke=XC,Wke=N9,Hke=zke,Gke=OC,Yke=hz,Jke=fz,Qke=U0,Xke=1,Zke=2;function ePe(e,t){return Gke(e)&&Yke(t)?Jke(Qke(e),t):function(n){var a=Wke(n,e);return a===void 0&&a===t?Hke(n,e):Kke(t,a,Xke|Zke)}}var tPe=ePe;function nPe(e){return e}var ih=nPe;function rPe(e){return function(t){return t==null?void 0:t[e]}}var aPe=rPe,sPe=$C;function iPe(e){return function(t){return sPe(t,e)}}var oPe=iPe,lPe=aPe,cPe=oPe,dPe=OC,uPe=U0;function mPe(e){return dPe(e)?lPe(uPe(e)):cPe(e)}var hPe=mPe,fPe=Tke,pPe=tPe,gPe=ih,xPe=xa,yPe=hPe;function vPe(e){return typeof e=="function"?e:e==null?gPe:typeof e=="object"?xPe(e)?pPe(e[0],e[1]):fPe(e):yPe(e)}var ki=vPe;function bPe(e,t,n,a){for(var s=e.length,i=n+(a?1:-1);a?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var pz=bPe;function wPe(e){return e!==e}var jPe=wPe;function NPe(e,t,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===t)return a;return-1}var kPe=NPe,PPe=pz,SPe=jPe,_Pe=kPe;function CPe(e,t,n){return t===t?_Pe(e,t,n):PPe(e,SPe,n)}var APe=CPe,TPe=APe;function OPe(e,t){var n=e==null?0:e.length;return!!n&&TPe(e,t,0)>-1}var EPe=OPe;function RPe(e,t,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(t,e[a]))return!0;return!1}var MPe=RPe;function DPe(){}var IPe=DPe,cN=dz,LPe=IPe,$Pe=GC,FPe=1/0,BPe=cN&&1/$Pe(new cN([,-0]))[1]==FPe?function(e){return new cN(e)}:LPe,UPe=BPe,VPe=ez,qPe=EPe,zPe=MPe,KPe=nz,WPe=UPe,HPe=GC,GPe=200;function YPe(e,t,n){var a=-1,s=qPe,i=e.length,o=!0,l=[],c=l;if(n)o=!1,s=zPe;else if(i>=GPe){var d=t?null:WPe(e);if(d)return HPe(d);o=!1,s=KPe,c=new VPe}else c=t?[]:l;e:for(;++a<i;){var u=e[a],m=t?t(u):u;if(u=n||u!==0?u:0,o&&m===m){for(var h=c.length;h--;)if(c[h]===m)continue e;t&&c.push(m),l.push(u)}else s(c,m,n)||(c!==l&&c.push(m),l.push(u))}return l}var JPe=YPe,QPe=ki,XPe=JPe;function ZPe(e,t){return e&&e.length?XPe(e,QPe(t)):[]}var eSe=ZPe;const aD=Vt(eSe);function gz(e,t,n){return t===!0?aD(e,n):nt(t)?aD(e,t):e}function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}var tSe=["ref"];function sD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(n),!0).forEach(function(a){rw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function nSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iD(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yz(a.key),a)}}function rSe(e,t,n){return t&&iD(e.prototype,t),n&&iD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aSe(e,t,n){return t=Vv(t),sSe(e,xz()?Reflect.construct(t,n||[],Vv(e).constructor):t.apply(e,n))}function sSe(e,t){if(t&&(om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iSe(e)}function iSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xz=function(){return!!e})()}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vv(e)}function oSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pP(e,t)}function pP(e,t){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},pP(e,t)}function rw(e,t,n){return t=yz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yz(e){var t=lSe(e,"string");return om(t)=="symbol"?t:t+""}function lSe(e,t){if(om(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(om(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cSe(e,t){if(e==null)return{};var n=dSe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function dSe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function uSe(e){return e.value}function mSe(e,t){if(U.isValidElement(e))return U.cloneElement(e,t);if(typeof e=="function")return U.createElement(e,t);t.ref;var n=cSe(t,tSe);return U.createElement(HC,n)}var oD=1,Hi=function(e){function t(){var n;nSe(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=aSe(this,t,[].concat(s)),rw(n,"lastBoundingBox",{width:-1,height:-1}),n}return oSe(t,e),rSe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>oD||Math.abs(s.height-this.lastBoundingBox.height)>oD)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_i({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,m,h;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();m={left:((d||0)-f.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return _i(_i({},m),h)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,m=_i(_i({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return U.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(f){a.wrapperNode=f}},mSe(i,_i(_i({},this.props),{},{payload:gz(u,d,uSe)})))}}],[{key:"getWithHeight",value:function(a,s){var i=_i(_i({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&Se(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||s}:null}}])}(j.PureComponent);rw(Hi,"displayName","Legend");rw(Hi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lD=Rg,hSe=YC,fSe=xa,cD=lD?lD.isConcatSpreadable:void 0;function pSe(e){return fSe(e)||hSe(e)||!!(cD&&e&&e[cD])}var gSe=pSe,xSe=az,ySe=gSe;function vz(e,t,n,a,s){var i=-1,o=e.length;for(n||(n=ySe),s||(s=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?vz(l,t-1,n,a,s):xSe(s,l):a||(s[s.length]=l)}return s}var bz=vz;function vSe(e){return function(t,n,a){for(var s=-1,i=Object(t),o=a(t),l=o.length;l--;){var c=o[e?l:++s];if(n(i[c],c,i)===!1)break}return t}}var bSe=vSe,wSe=bSe,jSe=wSe(),NSe=jSe,kSe=NSe,PSe=nw;function SSe(e,t){return e&&kSe(e,t,PSe)}var wz=SSe,_Se=Ig;function CSe(e,t){return function(n,a){if(n==null)return n;if(!_Se(n))return e(n,a);for(var s=n.length,i=t?s:-1,o=Object(n);(t?i--:++i<s)&&a(o[i],i,o)!==!1;);return n}}var ASe=CSe,TSe=wz,OSe=ASe,ESe=OSe(TSe),ZC=ESe,RSe=ZC,MSe=Ig;function DSe(e,t){var n=-1,a=MSe(e)?Array(e.length):[];return RSe(e,function(s,i,o){a[++n]=t(s,i,o)}),a}var jz=DSe;function ISe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var LSe=ISe,dD=Xm;function $Se(e,t){if(e!==t){var n=e!==void 0,a=e===null,s=e===e,i=dD(e),o=t!==void 0,l=t===null,c=t===t,d=dD(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||a&&o&&c||!n&&c||!s)return 1;if(!a&&!i&&!d&&e<t||d&&n&&s&&!a&&!i||l&&n&&s||!o&&s||!c)return-1}return 0}var FSe=$Se,BSe=FSe;function USe(e,t,n){for(var a=-1,s=e.criteria,i=t.criteria,o=s.length,l=n.length;++a<o;){var c=BSe(s[a],i[a]);if(c){if(a>=l)return c;var d=n[a];return c*(d=="desc"?-1:1)}}return e.index-t.index}var VSe=USe,dN=LC,qSe=$C,zSe=ki,KSe=jz,WSe=LSe,HSe=oz,GSe=VSe,YSe=ih,JSe=xa;function QSe(e,t,n){t.length?t=dN(t,function(i){return JSe(i)?function(o){return qSe(o,i.length===1?i[0]:i)}:i}):t=[YSe];var a=-1;t=dN(t,HSe(zSe));var s=KSe(e,function(i,o,l){var c=dN(t,function(d){return d(i)});return{criteria:c,index:++a,value:i}});return WSe(s,function(i,o){return GSe(i,o,n)})}var XSe=QSe;function ZSe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var e_e=ZSe,t_e=e_e,uD=Math.max;function n_e(e,t,n){return t=uD(t===void 0?e.length-1:t,0),function(){for(var a=arguments,s=-1,i=uD(a.length-t,0),o=Array(i);++s<i;)o[s]=a[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=a[s];return l[t]=n(o),t_e(e,this,l)}}var r_e=n_e;function a_e(e){return function(){return e}}var s_e=a_e,i_e=md,o_e=function(){try{var e=i_e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Nz=o_e,l_e=s_e,mD=Nz,c_e=ih,d_e=mD?function(e,t){return mD(e,"toString",{configurable:!0,enumerable:!1,value:l_e(t),writable:!0})}:c_e,u_e=d_e,m_e=800,h_e=16,f_e=Date.now;function p_e(e){var t=0,n=0;return function(){var a=f_e(),s=h_e-(a-n);if(n=a,s>0){if(++t>=m_e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var g_e=p_e,x_e=u_e,y_e=g_e,v_e=y_e(x_e),b_e=v_e,w_e=ih,j_e=r_e,N_e=b_e;function k_e(e,t){return N_e(j_e(e,t,w_e),e+"")}var P_e=k_e,S_e=RC,__e=Ig,C_e=JC,A_e=Ul;function T_e(e,t,n){if(!A_e(n))return!1;var a=typeof t;return(a=="number"?__e(n)&&C_e(t,n.length):a=="string"&&t in n)?S_e(n[t],e):!1}var aw=T_e,O_e=bz,E_e=XSe,R_e=P_e,hD=aw,M_e=R_e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&hD(e,t[0],t[1])?t=[]:n>2&&hD(t[0],t[1],t[2])&&(t=[t[0]]),E_e(e,O_e(t,1),[])}),D_e=M_e;const eA=Vt(D_e);function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function gP(){return gP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},gP.apply(this,arguments)}function I_e(e,t){return B_e(e)||F_e(e,t)||$_e(e,t)||L_e()}function L_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $_e(e,t){if(e){if(typeof e=="string")return fD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fD(e,t)}}function fD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function F_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function B_e(e){if(Array.isArray(e))return e}function pD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function uN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(n),!0).forEach(function(a){U_e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function U_e(e,t,n){return t=V_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_e(e){var t=q_e(e,"string");return xp(t)=="symbol"?t:t+""}function q_e(e,t){if(xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(xp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z_e(e){return Array.isArray(e)&&ir(e[0])&&ir(e[1])?e.join(" ~ "):e}var K_e=function(t){var n=t.separator,a=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,m=t.formatter,h=t.itemSorter,f=t.wrapperClassName,g=t.labelClassName,p=t.label,x=t.labelFormatter,y=t.accessibilityLayer,v=y===void 0?!1:y,b=function(){if(u&&u.length){var R={padding:0,margin:0},E=(h?eA(u,h):u).map(function(L,$){if(L.type==="none")return null;var B=uN({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),K=L.formatter||m||z_e,S=L.value,D=L.name,G=S,q=D;if(K&&G!=null&&q!=null){var C=K(S,D,L,$,u);if(Array.isArray(C)){var X=I_e(C,2);G=X[0],q=X[1]}else G=C}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:B},ir(q)?U.createElement("span",{className:"recharts-tooltip-item-name"},q):null,ir(q)?U.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,U.createElement("span",{className:"recharts-tooltip-item-value"},G),U.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:R},E)}return null},N=uN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=uN({margin:0},d),k=!mt(p),P=k?p:"",_=ft("recharts-default-tooltip",f),T=ft("recharts-tooltip-label",g);k&&x&&u!==void 0&&u!==null&&(P=x(p,u));var I=v?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",gP({className:_,style:N},I),U.createElement("p",{className:T,style:w},U.isValidElement(P)?P:"".concat(P)),b())};function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function Dx(e,t,n){return t=W_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_e(e){var t=H_e(e,"string");return yp(t)=="symbol"?t:t+""}function H_e(e,t){if(yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(yp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sh="recharts-tooltip-wrapper",G_e={visibility:"hidden"};function Y_e(e){var t=e.coordinate,n=e.translateX,a=e.translateY;return ft(Sh,Dx(Dx(Dx(Dx({},"".concat(Sh,"-right"),Se(n)&&t&&Se(t.x)&&n>=t.x),"".concat(Sh,"-left"),Se(n)&&t&&Se(t.x)&&n<t.x),"".concat(Sh,"-bottom"),Se(a)&&t&&Se(t.y)&&a>=t.y),"".concat(Sh,"-top"),Se(a)&&t&&Se(t.y)&&a<t.y))}function gD(e){var t=e.allowEscapeViewBox,n=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Se(i[a]))return i[a];var u=n[a]-l-s,m=n[a]+s;if(t[a])return o[a]?u:m;if(o[a]){var h=u,f=c[a];return h<f?Math.max(m,c[a]):Math.max(u,c[a])}var g=m+l,p=c[a]+d;return g>p?Math.max(u,c[a]):Math.max(m,c[a])}function J_e(e){var t=e.translateX,n=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Q_e(e){var t=e.allowEscapeViewBox,n=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,m;return o.height>0&&o.width>0&&n?(u=gD({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=gD({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=J_e({translateX:u,translateY:m,useTranslate3d:l})):d=G_e,{cssProperties:d,cssClasses:Y_e({translateX:u,translateY:m,coordinate:n})}}function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function xD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function yD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(n),!0).forEach(function(a){yP(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function X_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z_e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Pz(a.key),a)}}function e2e(e,t,n){return t&&Z_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t2e(e,t,n){return t=qv(t),n2e(e,kz()?Reflect.construct(t,n||[],qv(e).constructor):t.apply(e,n))}function n2e(e,t){if(t&&(lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r2e(e)}function r2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!e})()}function qv(e){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(e)}function a2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xP(e,t)}function xP(e,t){return xP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},xP(e,t)}function yP(e,t,n){return t=Pz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pz(e){var t=s2e(e,"string");return lm(t)=="symbol"?t:t+""}function s2e(e,t){if(lm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(lm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vD=1,i2e=function(e){function t(){var n;X_e(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t2e(this,t,[].concat(s)),yP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),yP(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return a2e(t,e),e2e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>vD||Math.abs(a.height-this.state.lastBoundingBox.height)>vD)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,m=s.hasPayload,h=s.isAnimationActive,f=s.offset,g=s.position,p=s.reverseDirection,x=s.useTranslate3d,y=s.viewBox,v=s.wrapperStyle,b=Q_e({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),N=b.cssClasses,w=b.cssProperties,k=yD(yD({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},v);return U.createElement("div",{tabIndex:-1,className:N,style:k,ref:function(_){a.wrapperNode=_}},d)}}])}(j.PureComponent),o2e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fi={isSsr:o2e(),get:function(t){return fi[t]},set:function(t,n){if(typeof t=="string")fi[t]=n;else{var a=Object.keys(t);a&&a.length&&a.forEach(function(s){fi[s]=t[s]})}}};function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function bD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function wD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(n),!0).forEach(function(a){tA(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function l2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c2e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_z(a.key),a)}}function d2e(e,t,n){return t&&c2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u2e(e,t,n){return t=zv(t),m2e(e,Sz()?Reflect.construct(t,n||[],zv(e).constructor):t.apply(e,n))}function m2e(e,t){if(t&&(cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h2e(e)}function h2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sz=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(e)}function f2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vP(e,t)}function vP(e,t){return vP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},vP(e,t)}function tA(e,t,n){return t=_z(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _z(e){var t=p2e(e,"string");return cm(t)=="symbol"?t:t+""}function p2e(e,t){if(cm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g2e(e){return e.dataKey}function x2e(e,t){return U.isValidElement(e)?U.cloneElement(e,t):typeof e=="function"?U.createElement(e,t):U.createElement(K_e,t)}var Xa=function(e){function t(){return l2e(this,t),u2e(this,t,arguments)}return f2e(t,e),d2e(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,m=s.filterNull,h=s.isAnimationActive,f=s.offset,g=s.payload,p=s.payloadUniqBy,x=s.position,y=s.reverseDirection,v=s.useTranslate3d,b=s.viewBox,N=s.wrapperStyle,w=g??[];m&&w.length&&(w=gz(g.filter(function(P){return P.value!=null&&(P.hide!==!0||a.props.includeHidden)}),p,g2e));var k=w.length>0;return U.createElement(i2e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:k,offset:f,position:x,reverseDirection:y,useTranslate3d:v,viewBox:b,wrapperStyle:N},x2e(d,wD(wD({},this.props),{},{payload:w})))}}])}(j.PureComponent);tA(Xa,"displayName","Tooltip");tA(Xa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var y2e=Ni,v2e=function(){return y2e.Date.now()},b2e=v2e,w2e=/\s/;function j2e(e){for(var t=e.length;t--&&w2e.test(e.charAt(t)););return t}var N2e=j2e,k2e=N2e,P2e=/^\s+/;function S2e(e){return e&&e.slice(0,k2e(e)+1).replace(P2e,"")}var _2e=S2e,C2e=_2e,jD=Ul,A2e=Xm,ND=NaN,T2e=/^[-+]0x[0-9a-f]+$/i,O2e=/^0b[01]+$/i,E2e=/^0o[0-7]+$/i,R2e=parseInt;function M2e(e){if(typeof e=="number")return e;if(A2e(e))return ND;if(jD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=jD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=C2e(e);var n=O2e.test(e);return n||E2e.test(e)?R2e(e.slice(2),n?2:8):T2e.test(e)?ND:+e}var Cz=M2e,D2e=Ul,mN=b2e,kD=Cz,I2e="Expected a function",L2e=Math.max,$2e=Math.min;function F2e(e,t,n){var a,s,i,o,l,c,d=0,u=!1,m=!1,h=!0;if(typeof e!="function")throw new TypeError(I2e);t=kD(t)||0,D2e(n)&&(u=!!n.leading,m="maxWait"in n,i=m?L2e(kD(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h);function f(k){var P=a,_=s;return a=s=void 0,d=k,o=e.apply(_,P),o}function g(k){return d=k,l=setTimeout(y,t),u?f(k):o}function p(k){var P=k-c,_=k-d,T=t-P;return m?$2e(T,i-_):T}function x(k){var P=k-c,_=k-d;return c===void 0||P>=t||P<0||m&&_>=i}function y(){var k=mN();if(x(k))return v(k);l=setTimeout(y,p(k))}function v(k){return l=void 0,h&&a?f(k):(a=s=void 0,o)}function b(){l!==void 0&&clearTimeout(l),d=0,a=c=s=l=void 0}function N(){return l===void 0?o:v(mN())}function w(){var k=mN(),P=x(k);if(a=arguments,s=this,c=k,P){if(l===void 0)return g(c);if(m)return clearTimeout(l),l=setTimeout(y,t),f(c)}return l===void 0&&(l=setTimeout(y,t)),o}return w.cancel=b,w.flush=N,w}var B2e=F2e,U2e=B2e,V2e=Ul,q2e="Expected a function";function z2e(e,t,n){var a=!0,s=!0;if(typeof e!="function")throw new TypeError(q2e);return V2e(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),U2e(e,t,{leading:a,maxWait:t,trailing:s})}var K2e=z2e;const Az=Vt(K2e);function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function PD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ix(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(n),!0).forEach(function(a){W2e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function W2e(e,t,n){return t=H2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H2e(e){var t=G2e(e,"string");return vp(t)=="symbol"?t:t+""}function G2e(e,t){if(vp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(vp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y2e(e,t){return Z2e(e)||X2e(e,t)||Q2e(e,t)||J2e()}function J2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q2e(e,t){if(e){if(typeof e=="string")return SD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SD(e,t)}}function SD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function X2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Z2e(e){if(Array.isArray(e))return e}var hN=j.forwardRef(function(e,t){var n=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,m=e.minHeight,h=e.maxHeight,f=e.children,g=e.debounce,p=g===void 0?0:g,x=e.id,y=e.className,v=e.onResize,b=e.style,N=b===void 0?{}:b,w=j.useRef(null),k=j.useRef();k.current=v,j.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var P=j.useState({containerWidth:s.width,containerHeight:s.height}),_=Y2e(P,2),T=_[0],I=_[1],A=j.useCallback(function(E,L){I(function($){var B=Math.round(E),K=Math.round(L);return $.containerWidth===B&&$.containerHeight===K?$:{containerWidth:B,containerHeight:K}})},[]);j.useEffect(function(){var E=function(D){var G,q=D[0].contentRect,C=q.width,X=q.height;A(C,X),(G=k.current)===null||G===void 0||G.call(k,C,X)};p>0&&(E=Az(E,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(E),$=w.current.getBoundingClientRect(),B=$.width,K=$.height;return A(B,K),L.observe(w.current),function(){L.disconnect()}},[A,p]);var R=j.useMemo(function(){var E=T.containerWidth,L=T.containerHeight;if(E<0||L<0)return null;Vs(xc(o)||xc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Vs(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=xc(o)?E:o,B=xc(c)?L:c;n&&n>0&&($?B=$/n:B&&($=B*n),h&&B>h&&(B=h)),Vs($>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,B,o,c,u,m,n);var K=!Array.isArray(f)&&Wi(f.type).endsWith("Chart");return U.Children.map(f,function(S){return U.isValidElement(S)?j.cloneElement(S,Ix({width:$,height:B},K?{style:Ix({height:"100%",width:"100%",maxHeight:B,maxWidth:$},S.props.style)}:{})):S})},[n,f,c,h,m,u,T,o]);return U.createElement("div",{id:x?"".concat(x):void 0,className:ft("recharts-responsive-container",y),style:Ix(Ix({},N),{},{width:o,height:c,minWidth:u,minHeight:m,maxHeight:h}),ref:w},R)}),sw=function(t){return null};sw.displayName="Cell";function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function bP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(n),!0).forEach(function(a){eCe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function eCe(e,t,n){return t=tCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tCe(e){var t=nCe(e,"string");return bp(t)=="symbol"?t:t+""}function nCe(e,t){if(bp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(bp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _d={widthCache:{},cacheCount:0},rCe=2e3,aCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CD="recharts_measurement_span";function sCe(e){var t=bP({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var ff=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fi.isSsr)return{width:0,height:0};var a=sCe(n),s=JSON.stringify({text:t,copyStyle:a});if(_d.widthCache[s])return _d.widthCache[s];try{var i=document.getElementById(CD);i||(i=document.createElement("span"),i.setAttribute("id",CD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=bP(bP({},aCe),a);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return _d.widthCache[s]=c,++_d.cacheCount>rCe&&(_d.cacheCount=0,_d.widthCache={}),c}catch{return{width:0,height:0}}},iCe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function Kv(e,t){return dCe(e)||cCe(e,t)||lCe(e,t)||oCe()}function oCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lCe(e,t){if(e){if(typeof e=="string")return AD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AD(e,t)}}function AD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function cCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function dCe(e){if(Array.isArray(e))return e}function uCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TD(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,hCe(a.key),a)}}function mCe(e,t,n){return t&&TD(e.prototype,t),n&&TD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hCe(e){var t=fCe(e,"string");return wp(t)=="symbol"?t:t+""}function fCe(e,t){if(wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(wp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var OD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ED=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Tz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xCe=Object.keys(Tz),tu="NaN";function yCe(e,t){return e*Tz[t]}var Lx=function(){function e(t,n){uCe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!pCe.test(n)&&(this.num=NaN,this.unit=""),xCe.includes(n)&&(this.num=yCe(t,n),this.unit="px")}return mCe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,s=(a=gCe.exec(n))!==null&&a!==void 0?a:[],i=Kv(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function Oz(e){if(e.includes(tu))return tu;for(var t=e;t.includes("*")||t.includes("/");){var n,a=(n=OD.exec(t))!==null&&n!==void 0?n:[],s=Kv(a,4),i=s[1],o=s[2],l=s[3],c=Lx.parse(i??""),d=Lx.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return tu;t=t.replace(OD,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,h=(m=ED.exec(t))!==null&&m!==void 0?m:[],f=Kv(h,4),g=f[1],p=f[2],x=f[3],y=Lx.parse(g??""),v=Lx.parse(x??""),b=p==="+"?y.add(v):y.subtract(v);if(b.isNaN())return tu;t=t.replace(ED,b.toString())}return t}var RD=/\(([^()]*)\)/;function vCe(e){for(var t=e;t.includes("(");){var n=RD.exec(t),a=Kv(n,2),s=a[1];t=t.replace(RD,Oz(s))}return t}function bCe(e){var t=e.replace(/\s+/g,"");return t=vCe(t),t=Oz(t),t}function wCe(e){try{return bCe(e)}catch{return tu}}function fN(e){var t=wCe(e.slice(5,-1));return t===tu?"":t}var jCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],NCe=["dx","dy","angle","className","breakAll"];function wP(){return wP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wP.apply(this,arguments)}function MD(e,t){if(e==null)return{};var n=kCe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function kCe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function DD(e,t){return CCe(e)||_Ce(e,t)||SCe(e,t)||PCe()}function PCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SCe(e,t){if(e){if(typeof e=="string")return ID(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ID(e,t)}}function ID(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _Ce(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function CCe(e){if(Array.isArray(e))return e}var Ez=/[ \f\n\r\t\v\u2028\u2029]+/,Rz=function(t){var n=t.children,a=t.breakAll,s=t.style;try{var i=[];mt(n)||(a?i=n.toString().split(""):i=n.toString().split(Ez));var o=i.map(function(c){return{word:c,width:ff(c,s).width}}),l=a?0:ff("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},ACe=function(t,n,a,s,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Se(o),m=l,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(B,K){var S=K.word,D=K.width,G=B[B.length-1];if(G&&(s==null||i||G.width+D+a<Number(s)))G.words.push(S),G.width+=D+a;else{var q={words:[S],width:D};B.push(q)}return B},[])},f=h(n),g=function($){return $.reduce(function(B,K){return B.width>K.width?B:K})};if(!u)return f;for(var p="",x=function($){var B=m.slice(0,$),K=Rz({breakAll:d,style:c,children:B+p}).wordsWithComputedWidth,S=h(K),D=S.length>o||g(S).width>Number(s);return[D,S]},y=0,v=m.length-1,b=0,N;y<=v&&b<=m.length-1;){var w=Math.floor((y+v)/2),k=w-1,P=x(k),_=DD(P,2),T=_[0],I=_[1],A=x(w),R=DD(A,1),E=R[0];if(!T&&!E&&(y=w+1),T&&E&&(v=w-1),!T&&E){N=I;break}b++}return N||f},LD=function(t){var n=mt(t)?[]:t.toString().split(Ez);return[{words:n}]},TCe=function(t){var n=t.width,a=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||a)&&!fi.isSsr){var c,d,u=Rz({breakAll:o,children:s,style:i});if(u){var m=u.wordsWithComputedWidth,h=u.spaceWidth;c=m,d=h}else return LD(s);return ACe({breakAll:o,children:s,maxLines:l,style:i},c,d,n,a)}return LD(s)},$D="#808080",ed=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,m=u===void 0?!1:u,h=t.textAnchor,f=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,x=t.fill,y=x===void 0?$D:x,v=MD(t,jCe),b=j.useMemo(function(){return TCe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:m,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,m,v.style,v.width]),N=v.dx,w=v.dy,k=v.angle,P=v.className,_=v.breakAll,T=MD(v,NCe);if(!ir(a)||!ir(i))return null;var I=a+(Se(N)?N:0),A=i+(Se(w)?w:0),R;switch(p){case"start":R=fN("calc(".concat(d,")"));break;case"middle":R=fN("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:R=fN("calc(".concat(b.length-1," * -").concat(l,")"));break}var E=[];if(m){var L=b[0].width,$=v.width;E.push("scale(".concat((Se($)?$/L:1)/L,")"))}return k&&E.push("rotate(".concat(k,", ").concat(I,", ").concat(A,")")),E.length&&(T.transform=E.join(" ")),U.createElement("text",wP({},He(T,!0),{x:I,y:A,className:ft("recharts-text",P),textAnchor:f,fill:y.includes("url")?$D:y}),b.map(function(B,K){var S=B.words.join(_?"":" ");return U.createElement("tspan",{x:I,dy:K===0?R:l,key:"".concat(S,"-").concat(K)},S)}))};function ml(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function OCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nA(e){let t,n,a;e.length!==2?(t=ml,n=(l,c)=>ml(e(l),c),a=(l,c)=>e(l)-c):(t=e===ml||e===OCe?e:ECe,n=e,a=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;n(l[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;n(l[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function o(l,c,d=0,u=l.length){const m=s(l,c,d,u-1);return m>d&&a(l[m-1],c)>-a(l[m],c)?m-1:m}return{left:s,center:o,right:i}}function ECe(){return 0}function Mz(e){return e===null?NaN:+e}function*RCe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const MCe=nA(ml),Lg=MCe.right;nA(Mz).center;class FD extends Map{constructor(t,n=LCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(BD(this,t))}has(t){return super.has(BD(this,t))}set(t,n){return super.set(DCe(this,t),n)}delete(t){return super.delete(ICe(this,t))}}function BD({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function DCe({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function ICe({_intern:e,_key:t},n){const a=t(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function LCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $Ce(e=ml){if(e===ml)return Dz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||a===0?a:(e(n,n)===0)-(e(t,t)===0)}}function Dz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const FCe=Math.sqrt(50),BCe=Math.sqrt(10),UCe=Math.sqrt(2);function Wv(e,t,n){const a=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=FCe?10:i>=BCe?5:i>=UCe?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=n&&n<2?Wv(e,t,n*2):[l,c,d]}function jP(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const a=t<e,[s,i,o]=a?Wv(t,e,n):Wv(e,t,n);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(a)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function NP(e,t,n){return t=+t,e=+e,n=+n,Wv(e,t,n)[2]}function kP(e,t,n){t=+t,e=+e,n=+n;const a=t<e,s=a?NP(t,e,n):NP(e,t,n);return(a?-1:1)*(s<0?1/-s:s)}function UD(e,t){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function VD(e,t){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function Iz(e,t,n=0,a=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(s=s===void 0?Dz:$Ce(s);a>n;){if(a-n>600){const c=a-n+1,d=t-n+1,u=Math.log(c),m=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),f=Math.max(n,Math.floor(t-d*m/c+h)),g=Math.min(a,Math.floor(t+(c-d)*m/c+h));Iz(e,t,f,g,s)}const i=e[t];let o=n,l=a;for(_h(e,n,t),s(e[a],i)>0&&_h(e,n,a);o<l;){for(_h(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[n],i)===0?_h(e,n,l):(++l,_h(e,l,a)),l<=t&&(n=l+1),t<=l&&(a=l-1)}return e}function _h(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function VCe(e,t,n){if(e=Float64Array.from(RCe(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return VD(e);if(t>=1)return UD(e);var a,s=(a-1)*t,i=Math.floor(s),o=UD(Iz(e,i).subarray(0,i+1)),l=VD(e.subarray(i+1));return o+(l-o)*(s-i)}}function qCe(e,t,n=Mz){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function zCe(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++a<s;)i[a]=e+a*n;return i}function xs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const PP=Symbol("implicit");function rA(){var e=new FD,t=[],n=[],a=PP;function s(i){let o=e.get(i);if(o===void 0){if(a!==PP)return a;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new FD;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return rA(t,n).unknown(a)},xs.apply(s,arguments),s}function jp(){var e=rA().unknown(void 0),t=e.domain,n=e.range,a=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function m(){var h=t().length,f=s<a,g=f?s:a,p=f?a:s;i=(p-g)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*u,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=zCe(h).map(function(y){return g+i*y});return n(f?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),m()):t()},e.range=function(h){return arguments.length?([a,s]=h,a=+a,s=+s,m()):[a,s]},e.rangeRound=function(h){return[a,s]=h,a=+a,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,m()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),m()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),m()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,m()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),m()):u},e.copy=function(){return jp(t(),[a,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},xs.apply(m(),arguments)}function Lz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Lz(t())},e}function pf(){return Lz(jp.apply(null,arguments).paddingInner(1))}function aA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $z(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function $g(){}var Np=.7,Hv=1/Np,Nu="\\s*([+-]?\\d+)\\s*",kp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KCe=/^#([0-9a-f]{3,8})$/,WCe=new RegExp(`^rgb\\(${Nu},${Nu},${Nu}\\)$`),HCe=new RegExp(`^rgb\\(${pi},${pi},${pi}\\)$`),GCe=new RegExp(`^rgba\\(${Nu},${Nu},${Nu},${kp}\\)$`),YCe=new RegExp(`^rgba\\(${pi},${pi},${pi},${kp}\\)$`),JCe=new RegExp(`^hsl\\(${kp},${pi},${pi}\\)$`),QCe=new RegExp(`^hsla\\(${kp},${pi},${pi},${kp}\\)$`),qD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aA($g,Pp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zD,formatHex:zD,formatHex8:XCe,formatHsl:ZCe,formatRgb:KD,toString:KD});function zD(){return this.rgb().formatHex()}function XCe(){return this.rgb().formatHex8()}function ZCe(){return Fz(this).formatHsl()}function KD(){return this.rgb().formatRgb()}function Pp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=KCe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?WD(t):n===3?new da(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$x(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$x(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WCe.exec(e))?new da(t[1],t[2],t[3],1):(t=HCe.exec(e))?new da(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=GCe.exec(e))?$x(t[1],t[2],t[3],t[4]):(t=YCe.exec(e))?$x(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JCe.exec(e))?YD(t[1],t[2]/100,t[3]/100,1):(t=QCe.exec(e))?YD(t[1],t[2]/100,t[3]/100,t[4]):qD.hasOwnProperty(e)?WD(qD[e]):e==="transparent"?new da(NaN,NaN,NaN,0):null}function WD(e){return new da(e>>16&255,e>>8&255,e&255,1)}function $x(e,t,n,a){return a<=0&&(e=t=n=NaN),new da(e,t,n,a)}function eAe(e){return e instanceof $g||(e=Pp(e)),e?(e=e.rgb(),new da(e.r,e.g,e.b,e.opacity)):new da}function SP(e,t,n,a){return arguments.length===1?eAe(e):new da(e,t,n,a??1)}function da(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}aA(da,SP,$z($g,{brighter(e){return e=e==null?Hv:Math.pow(Hv,e),new da(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Np:Math.pow(Np,e),new da(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new da(Mc(this.r),Mc(this.g),Mc(this.b),Gv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HD,formatHex:HD,formatHex8:tAe,formatRgb:GD,toString:GD}));function HD(){return`#${yc(this.r)}${yc(this.g)}${yc(this.b)}`}function tAe(){return`#${yc(this.r)}${yc(this.g)}${yc(this.b)}${yc((isNaN(this.opacity)?1:this.opacity)*255)}`}function GD(){const e=Gv(this.opacity);return`${e===1?"rgb(":"rgba("}${Mc(this.r)}, ${Mc(this.g)}, ${Mc(this.b)}${e===1?")":`, ${e})`}`}function Gv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yc(e){return e=Mc(e),(e<16?"0":"")+e.toString(16)}function YD(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ms(e,t,n,a)}function Fz(e){if(e instanceof Ms)return new Ms(e.h,e.s,e.l,e.opacity);if(e instanceof $g||(e=Pp(e)),!e)return new Ms;if(e instanceof Ms)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(t,n,a),i=Math.max(t,n,a),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(n-a)/l+(n<a)*6:n===i?o=(a-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Ms(o,l,c,e.opacity)}function nAe(e,t,n,a){return arguments.length===1?Fz(e):new Ms(e,t,n,a??1)}function Ms(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}aA(Ms,nAe,$z($g,{brighter(e){return e=e==null?Hv:Math.pow(Hv,e),new Ms(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Np:Math.pow(Np,e),new Ms(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,s=2*n-a;return new da(pN(e>=240?e-240:e+120,s,a),pN(e,s,a),pN(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Ms(JD(this.h),Fx(this.s),Fx(this.l),Gv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gv(this.opacity);return`${e===1?"hsl(":"hsla("}${JD(this.h)}, ${Fx(this.s)*100}%, ${Fx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JD(e){return e=(e||0)%360,e<0?e+360:e}function Fx(e){return Math.max(0,Math.min(1,e||0))}function pN(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const sA=e=>()=>e;function rAe(e,t){return function(n){return e+n*t}}function aAe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function sAe(e){return(e=+e)==1?Bz:function(t,n){return n-t?aAe(t,n,e):sA(isNaN(t)?n:t)}}function Bz(e,t){var n=t-e;return n?rAe(e,n):sA(isNaN(e)?t:e)}const QD=function e(t){var n=sAe(t);function a(s,i){var o=n((s=SP(s)).r,(i=SP(i)).r),l=n(s.g,i.g),c=n(s.b,i.b),d=Bz(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return a.gamma=e,a}(1);function iAe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<n;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function oAe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lAe(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n),o;for(o=0;o<a;++o)s[o]=oh(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<a;++o)i[o]=s[o](l);return i}}function cAe(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function Yv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function dAe(e,t){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=oh(e[s],t[s]):a[s]=t[s];return function(i){for(s in n)a[s]=n[s](i);return a}}var _P=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gN=new RegExp(_P.source,"g");function uAe(e){return function(){return e}}function mAe(e){return function(t){return e(t)+""}}function hAe(e,t){var n=_P.lastIndex=gN.lastIndex=0,a,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=_P.exec(e))&&(s=gN.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Yv(a,s)})),n=gN.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?mAe(c[0].x):uAe(t):(t=c.length,function(d){for(var u=0,m;u<t;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function oh(e,t){var n=typeof t,a;return t==null||n==="boolean"?sA(t):(n==="number"?Yv:n==="string"?(a=Pp(t))?(t=a,QD):hAe:t instanceof Pp?QD:t instanceof Date?cAe:oAe(t)?iAe:Array.isArray(t)?lAe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dAe:Yv)(e,t)}function iA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function fAe(e,t){t===void 0&&(t=e,e=oh);for(var n=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);n<a;)i[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function pAe(e){return function(){return e}}function Jv(e){return+e}var XD=[0,1];function Gr(e){return e}function CP(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:pAe(isNaN(t)?NaN:.5)}function gAe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function xAe(e,t,n){var a=e[0],s=e[1],i=t[0],o=t[1];return s<a?(a=CP(s,a),i=n(o,i)):(a=CP(a,s),i=n(i,o)),function(l){return i(a(l))}}function yAe(e,t,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)s[o]=CP(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=Lg(e,l,1,a)-1;return i[c](s[c](l))}}function Fg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function iw(){var e=XD,t=XD,n=oh,a,s,i,o=Gr,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==Gr&&(o=gAe(e[0],e[h-1])),l=h>2?yAe:xAe,c=d=null,m}function m(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(a),t,n)))(a(o(h)))}return m.invert=function(h){return o(s((d||(d=l(t,e.map(a),Yv)))(h)))},m.domain=function(h){return arguments.length?(e=Array.from(h,Jv),u()):e.slice()},m.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},m.rangeRound=function(h){return t=Array.from(h),n=iA,u()},m.clamp=function(h){return arguments.length?(o=h?!0:Gr,u()):o!==Gr},m.interpolate=function(h){return arguments.length?(n=h,u()):n},m.unknown=function(h){return arguments.length?(i=h,m):i},function(h,f){return a=h,s=f,u()}}function oA(){return iw()(Gr,Gr)}function vAe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function dm(e){return e=Qv(Math.abs(e)),e?e[1]:NaN}function bAe(e,t){return function(n,a){for(var s=n.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),i.push(n.substring(s-=l,s+l)),!((c+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function wAe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var jAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sp(e){if(!(t=jAe.exec(e)))throw new Error("invalid format: "+e);var t;return new lA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sp.prototype=lA.prototype;function lA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function NAe(e){e:for(var t=e.length,n=1,a=-1,s;n<t;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var Uz;function kAe(e,t){var n=Qv(e,t);if(!n)return e+"";var a=n[0],s=n[1],i=s-(Uz=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Qv(e,Math.max(0,t+i-1))[0]}function ZD(e,t){var n=Qv(e,t);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const e4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vAe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ZD(e*100,t),r:ZD,s:kAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function t4(e){return e}var n4=Array.prototype.map,r4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function PAe(e){var t=e.grouping===void 0||e.thousands===void 0?t4:bAe(n4.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?t4:wAe(n4.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=Sp(m);var h=m.fill,f=m.align,g=m.sign,p=m.symbol,x=m.zero,y=m.width,v=m.comma,b=m.precision,N=m.trim,w=m.type;w==="n"?(v=!0,w="g"):e4[w]||(b===void 0&&(b=12),N=!0,w="g"),(x||h==="0"&&f==="=")&&(x=!0,h="0",f="=");var k=p==="$"?n:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",P=p==="$"?a:/[%p]/.test(w)?o:"",_=e4[w],T=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(A){var R=k,E=P,L,$,B;if(w==="c")E=_(A)+E,A="";else{A=+A;var K=A<0||1/A<0;if(A=isNaN(A)?c:_(Math.abs(A),b),N&&(A=NAe(A)),K&&+A==0&&g!=="+"&&(K=!1),R=(K?g==="("?g:l:g==="-"||g==="("?"":g)+R,E=(w==="s"?r4[8+Uz/3]:"")+E+(K&&g==="("?")":""),T){for(L=-1,$=A.length;++L<$;)if(B=A.charCodeAt(L),48>B||B>57){E=(B===46?s+A.slice(L+1):A.slice(L))+E,A=A.slice(0,L);break}}}v&&!x&&(A=t(A,1/0));var S=R.length+A.length+E.length,D=S<y?new Array(y-S+1).join(h):"";switch(v&&x&&(A=t(D+A,D.length?y-E.length:1/0),D=""),f){case"<":A=R+A+E+D;break;case"=":A=R+D+A+E;break;case"^":A=D.slice(0,S=D.length>>1)+R+A+E+D.slice(S);break;default:A=D+R+A+E;break}return i(A)}return I.toString=function(){return m+""},I}function u(m,h){var f=d((m=Sp(m),m.type="f",m)),g=Math.max(-8,Math.min(8,Math.floor(dm(h)/3)))*3,p=Math.pow(10,-g),x=r4[8+g/3];return function(y){return f(p*y)+x}}return{format:d,formatPrefix:u}}var Bx,cA,Vz;SAe({thousands:",",grouping:[3],currency:["$",""]});function SAe(e){return Bx=PAe(e),cA=Bx.format,Vz=Bx.formatPrefix,Bx}function _Ae(e){return Math.max(0,-dm(Math.abs(e)))}function CAe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dm(t)/3)))*3-dm(Math.abs(e)))}function AAe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dm(t)-dm(e))+1}function qz(e,t,n,a){var s=kP(e,t,n),i;switch(a=Sp(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=CAe(s,o))&&(a.precision=i),Vz(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=AAe(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=_Ae(s))&&(a.precision=i-(a.type==="%")*2);break}}return cA(a)}function Vl(e){var t=e.domain;return e.ticks=function(n){var a=t();return jP(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=t();return qz(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),s=0,i=a.length-1,o=a[s],l=a[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=NP(o,l,n),d===c)return a[s]=o,a[i]=l,t(a);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function Xv(){var e=oA();return e.copy=function(){return Fg(e,Xv())},xs.apply(e,arguments),Vl(e)}function zz(e){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,Jv),n):e.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return zz(e).unknown(t)},e=arguments.length?Array.from(e,Jv):[0,1],Vl(n)}function Kz(e,t){e=e.slice();var n=0,a=e.length-1,s=e[n],i=e[a],o;return i<s&&(o=n,n=a,a=o,o=s,s=i,i=o),e[n]=t.floor(s),e[a]=t.ceil(i),e}function a4(e){return Math.log(e)}function s4(e){return Math.exp(e)}function TAe(e){return-Math.log(-e)}function OAe(e){return-Math.exp(-e)}function EAe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function RAe(e){return e===10?EAe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function MAe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function i4(e){return(t,n)=>-e(-t,n)}function dA(e){const t=e(a4,s4),n=t.domain;let a=10,s,i;function o(){return s=MAe(a),i=RAe(a),n()[0]<0?(s=i4(s),i=i4(i),e(TAe,OAe)):e(a4,s4),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let h=s(d),f=s(u),g,p;const x=l==null?10:+l;let y=[];if(!(a%1)&&f-h<x){if(h=Math.floor(h),f=Math.ceil(f),d>0){for(;h<=f;++h)for(g=1;g<a;++g)if(p=h<0?g/i(-h):g*i(h),!(p<d)){if(p>u)break;y.push(p)}}else for(;h<=f;++h)for(g=a-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<d)){if(p>u)break;y.push(p)}y.length*2<x&&(y=jP(d,u,x))}else y=jP(h,f,Math.min(f-h,x)).map(i);return m?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=Sp(c)).precision==null&&(c.trim=!0),c=cA(c)),l===1/0)return c;const d=Math.max(1,a*l/t.ticks().length);return u=>{let m=u/i(Math.round(s(u)));return m*a<a-.5&&(m*=a),m<=d?c(u):""}},t.nice=()=>n(Kz(n(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function Wz(){const e=dA(iw()).domain([1,10]);return e.copy=()=>Fg(e,Wz()).base(e.base()),xs.apply(e,arguments),e}function o4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function l4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uA(e){var t=1,n=e(o4(t),l4(t));return n.constant=function(a){return arguments.length?e(o4(t=+a),l4(t)):t},Vl(n)}function Hz(){var e=uA(iw());return e.copy=function(){return Fg(e,Hz()).constant(e.constant())},xs.apply(e,arguments)}function c4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function DAe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function IAe(e){return e<0?-e*e:e*e}function mA(e){var t=e(Gr,Gr),n=1;function a(){return n===1?e(Gr,Gr):n===.5?e(DAe,IAe):e(c4(n),c4(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,a()):n},Vl(t)}function hA(){var e=mA(iw());return e.copy=function(){return Fg(e,hA()).exponent(e.exponent())},xs.apply(e,arguments),e}function LAe(){return hA.apply(null,arguments).exponent(.5)}function d4(e){return Math.sign(e)*e*e}function $Ae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Gz(){var e=oA(),t=[0,1],n=!1,a;function s(i){var o=$Ae(e(i));return isNaN(o)?a:n?Math.round(o):o}return s.invert=function(i){return e.invert(d4(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Jv)).map(d4)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return Gz(e.domain(),t).round(n).clamp(e.clamp()).unknown(a)},xs.apply(s,arguments),Vl(s)}function Yz(){var e=[],t=[],n=[],a;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=qCe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:t[Lg(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ml),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return n.slice()},i.copy=function(){return Yz().domain(e).range(t).unknown(a)},xs.apply(i,arguments)}function Jz(){var e=0,t=1,n=1,a=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Lg(a,c,0,n)]:i}function l(){var c=-1;for(a=new Array(n);++c<n;)a[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=n?[a[n-1],t]:[a[d-1],a[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return Jz().domain([e,t]).range(s).unknown(i)},xs.apply(Vl(o),arguments)}function Qz(){var e=[.5],t=[0,1],n,a=1;function s(i){return i!=null&&i<=i?t[Lg(e,i,0,a)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Qz().domain(e).range(t).unknown(n)},xs.apply(s,arguments)}const xN=new Date,yN=new Date;function or(e,t,n,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},s.filter=i=>or(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(s.count=(i,o)=>(xN.setTime(+i),yN.setTime(+o),e(xN),e(yN),Math.floor(n(xN,yN))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Zv=or(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?or(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Zv);Zv.range;const $i=1e3,ss=$i*60,Fi=ss*60,io=Fi*24,fA=io*7,u4=io*30,vN=io*365,vc=or(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getUTCSeconds());vc.range;const pA=or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$i)},(e,t)=>{e.setTime(+e+t*ss)},(e,t)=>(t-e)/ss,e=>e.getMinutes());pA.range;const gA=or(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ss)},(e,t)=>(t-e)/ss,e=>e.getUTCMinutes());gA.range;const xA=or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$i-e.getMinutes()*ss)},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getHours());xA.range;const yA=or(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getUTCHours());yA.range;const Bg=or(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ss)/io,e=>e.getDate()-1);Bg.range;const ow=or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/io,e=>e.getUTCDate()-1);ow.range;const Xz=or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/io,e=>Math.floor(e/io));Xz.range;function hd(e){return or(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ss)/fA)}const lw=hd(0),eb=hd(1),FAe=hd(2),BAe=hd(3),um=hd(4),UAe=hd(5),VAe=hd(6);lw.range;eb.range;FAe.range;BAe.range;um.range;UAe.range;VAe.range;function fd(e){return or(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/fA)}const cw=fd(0),tb=fd(1),qAe=fd(2),zAe=fd(3),mm=fd(4),KAe=fd(5),WAe=fd(6);cw.range;tb.range;qAe.range;zAe.range;mm.range;KAe.range;WAe.range;const vA=or(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vA.range;const bA=or(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bA.range;const oo=or(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());oo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:or(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});oo.range;const lo=or(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());lo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:or(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});lo.range;function Zz(e,t,n,a,s,i){const o=[[vc,1,$i],[vc,5,5*$i],[vc,15,15*$i],[vc,30,30*$i],[i,1,ss],[i,5,5*ss],[i,15,15*ss],[i,30,30*ss],[s,1,Fi],[s,3,3*Fi],[s,6,6*Fi],[s,12,12*Fi],[a,1,io],[a,2,2*io],[n,1,fA],[t,1,u4],[t,3,3*u4],[e,1,vN]];function l(d,u,m){const h=u<d;h&&([d,u]=[u,d]);const f=m&&typeof m.range=="function"?m:c(d,u,m),g=f?f.range(d,+u+1):[];return h?g.reverse():g}function c(d,u,m){const h=Math.abs(u-d)/m,f=nA(([,,x])=>x).right(o,h);if(f===o.length)return e.every(kP(d/vN,u/vN,m));if(f===0)return Zv.every(Math.max(kP(d,u,m),1));const[g,p]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return g.every(p)}return[l,c]}const[HAe,GAe]=Zz(lo,bA,cw,Xz,yA,gA),[YAe,JAe]=Zz(oo,vA,lw,Bg,xA,pA);function bN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ch(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function QAe(e){var t=e.dateTime,n=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Ah(s),u=Th(s),m=Ah(i),h=Th(i),f=Ah(o),g=Th(o),p=Ah(l),x=Th(l),y=Ah(c),v=Th(c),b={a:K,A:S,b:D,B:G,c:null,d:x4,e:x4,f:bTe,g:TTe,G:ETe,H:xTe,I:yTe,j:vTe,L:eK,m:wTe,M:jTe,p:q,q:C,Q:b4,s:w4,S:NTe,u:kTe,U:PTe,V:STe,w:_Te,W:CTe,x:null,X:null,y:ATe,Y:OTe,Z:RTe,"%":v4},N={a:X,A:Q,b:xe,B:Pe,c:null,d:y4,e:y4,f:LTe,g:HTe,G:YTe,H:MTe,I:DTe,j:ITe,L:nK,m:$Te,M:FTe,p:ee,q:pe,Q:b4,s:w4,S:BTe,u:UTe,U:VTe,V:qTe,w:zTe,W:KTe,x:null,X:null,y:WTe,Y:GTe,Z:JTe,"%":v4},w={a:I,A,b:R,B:E,c:L,d:p4,e:p4,f:hTe,g:f4,G:h4,H:g4,I:g4,j:cTe,L:mTe,m:lTe,M:dTe,p:T,q:oTe,Q:pTe,s:gTe,S:uTe,u:nTe,U:rTe,V:aTe,w:tTe,W:sTe,x:$,X:B,y:f4,Y:h4,Z:iTe,"%":fTe};b.x=k(n,b),b.X=k(a,b),b.c=k(t,b),N.x=k(n,N),N.X=k(a,N),N.c=k(t,N);function k(W,H){return function(ie){var ae=[],le=-1,ve=0,ne=W.length,F,me,je;for(ie instanceof Date||(ie=new Date(+ie));++le<ne;)W.charCodeAt(le)===37&&(ae.push(W.slice(ve,le)),(me=m4[F=W.charAt(++le)])!=null?F=W.charAt(++le):me=F==="e"?" ":"0",(je=H[F])&&(F=je(ie,me)),ae.push(F),ve=le+1);return ae.push(W.slice(ve,le)),ae.join("")}}function P(W,H){return function(ie){var ae=Ch(1900,void 0,1),le=_(ae,W,ie+="",0),ve,ne;if(le!=ie.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(H&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(ve=wN(Ch(ae.y,0,1)),ne=ve.getUTCDay(),ve=ne>4||ne===0?tb.ceil(ve):tb(ve),ve=ow.offset(ve,(ae.V-1)*7),ae.y=ve.getUTCFullYear(),ae.m=ve.getUTCMonth(),ae.d=ve.getUTCDate()+(ae.w+6)%7):(ve=bN(Ch(ae.y,0,1)),ne=ve.getDay(),ve=ne>4||ne===0?eb.ceil(ve):eb(ve),ve=Bg.offset(ve,(ae.V-1)*7),ae.y=ve.getFullYear(),ae.m=ve.getMonth(),ae.d=ve.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),ne="Z"in ae?wN(Ch(ae.y,0,1)).getUTCDay():bN(Ch(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(ne+5)%7:ae.w+ae.U*7-(ne+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,wN(ae)):bN(ae)}}function _(W,H,ie,ae){for(var le=0,ve=H.length,ne=ie.length,F,me;le<ve;){if(ae>=ne)return-1;if(F=H.charCodeAt(le++),F===37){if(F=H.charAt(le++),me=w[F in m4?H.charAt(le++):F],!me||(ae=me(W,ie,ae))<0)return-1}else if(F!=ie.charCodeAt(ae++))return-1}return ae}function T(W,H,ie){var ae=d.exec(H.slice(ie));return ae?(W.p=u.get(ae[0].toLowerCase()),ie+ae[0].length):-1}function I(W,H,ie){var ae=f.exec(H.slice(ie));return ae?(W.w=g.get(ae[0].toLowerCase()),ie+ae[0].length):-1}function A(W,H,ie){var ae=m.exec(H.slice(ie));return ae?(W.w=h.get(ae[0].toLowerCase()),ie+ae[0].length):-1}function R(W,H,ie){var ae=y.exec(H.slice(ie));return ae?(W.m=v.get(ae[0].toLowerCase()),ie+ae[0].length):-1}function E(W,H,ie){var ae=p.exec(H.slice(ie));return ae?(W.m=x.get(ae[0].toLowerCase()),ie+ae[0].length):-1}function L(W,H,ie){return _(W,t,H,ie)}function $(W,H,ie){return _(W,n,H,ie)}function B(W,H,ie){return _(W,a,H,ie)}function K(W){return o[W.getDay()]}function S(W){return i[W.getDay()]}function D(W){return c[W.getMonth()]}function G(W){return l[W.getMonth()]}function q(W){return s[+(W.getHours()>=12)]}function C(W){return 1+~~(W.getMonth()/3)}function X(W){return o[W.getUTCDay()]}function Q(W){return i[W.getUTCDay()]}function xe(W){return c[W.getUTCMonth()]}function Pe(W){return l[W.getUTCMonth()]}function ee(W){return s[+(W.getUTCHours()>=12)]}function pe(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var H=k(W+="",b);return H.toString=function(){return W},H},parse:function(W){var H=P(W+="",!1);return H.toString=function(){return W},H},utcFormat:function(W){var H=k(W+="",N);return H.toString=function(){return W},H},utcParse:function(W){var H=P(W+="",!0);return H.toString=function(){return W},H}}}var m4={"-":"",_:" ",0:"0"},gr=/^\s*\d+/,XAe=/^%/,ZAe=/[\\^$*+?|[\]().{}]/g;function Ft(e,t,n){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<n?new Array(n-i+1).join(t)+s:s)}function eTe(e){return e.replace(ZAe,"\\$&")}function Ah(e){return new RegExp("^(?:"+e.map(eTe).join("|")+")","i")}function Th(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function tTe(e,t,n){var a=gr.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function nTe(e,t,n){var a=gr.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function rTe(e,t,n){var a=gr.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function aTe(e,t,n){var a=gr.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function sTe(e,t,n){var a=gr.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function h4(e,t,n){var a=gr.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function f4(e,t,n){var a=gr.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function iTe(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function oTe(e,t,n){var a=gr.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function lTe(e,t,n){var a=gr.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function p4(e,t,n){var a=gr.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function cTe(e,t,n){var a=gr.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function g4(e,t,n){var a=gr.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function dTe(e,t,n){var a=gr.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function uTe(e,t,n){var a=gr.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function mTe(e,t,n){var a=gr.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function hTe(e,t,n){var a=gr.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function fTe(e,t,n){var a=XAe.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function pTe(e,t,n){var a=gr.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function gTe(e,t,n){var a=gr.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function x4(e,t){return Ft(e.getDate(),t,2)}function xTe(e,t){return Ft(e.getHours(),t,2)}function yTe(e,t){return Ft(e.getHours()%12||12,t,2)}function vTe(e,t){return Ft(1+Bg.count(oo(e),e),t,3)}function eK(e,t){return Ft(e.getMilliseconds(),t,3)}function bTe(e,t){return eK(e,t)+"000"}function wTe(e,t){return Ft(e.getMonth()+1,t,2)}function jTe(e,t){return Ft(e.getMinutes(),t,2)}function NTe(e,t){return Ft(e.getSeconds(),t,2)}function kTe(e){var t=e.getDay();return t===0?7:t}function PTe(e,t){return Ft(lw.count(oo(e)-1,e),t,2)}function tK(e){var t=e.getDay();return t>=4||t===0?um(e):um.ceil(e)}function STe(e,t){return e=tK(e),Ft(um.count(oo(e),e)+(oo(e).getDay()===4),t,2)}function _Te(e){return e.getDay()}function CTe(e,t){return Ft(eb.count(oo(e)-1,e),t,2)}function ATe(e,t){return Ft(e.getFullYear()%100,t,2)}function TTe(e,t){return e=tK(e),Ft(e.getFullYear()%100,t,2)}function OTe(e,t){return Ft(e.getFullYear()%1e4,t,4)}function ETe(e,t){var n=e.getDay();return e=n>=4||n===0?um(e):um.ceil(e),Ft(e.getFullYear()%1e4,t,4)}function RTe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ft(t/60|0,"0",2)+Ft(t%60,"0",2)}function y4(e,t){return Ft(e.getUTCDate(),t,2)}function MTe(e,t){return Ft(e.getUTCHours(),t,2)}function DTe(e,t){return Ft(e.getUTCHours()%12||12,t,2)}function ITe(e,t){return Ft(1+ow.count(lo(e),e),t,3)}function nK(e,t){return Ft(e.getUTCMilliseconds(),t,3)}function LTe(e,t){return nK(e,t)+"000"}function $Te(e,t){return Ft(e.getUTCMonth()+1,t,2)}function FTe(e,t){return Ft(e.getUTCMinutes(),t,2)}function BTe(e,t){return Ft(e.getUTCSeconds(),t,2)}function UTe(e){var t=e.getUTCDay();return t===0?7:t}function VTe(e,t){return Ft(cw.count(lo(e)-1,e),t,2)}function rK(e){var t=e.getUTCDay();return t>=4||t===0?mm(e):mm.ceil(e)}function qTe(e,t){return e=rK(e),Ft(mm.count(lo(e),e)+(lo(e).getUTCDay()===4),t,2)}function zTe(e){return e.getUTCDay()}function KTe(e,t){return Ft(tb.count(lo(e)-1,e),t,2)}function WTe(e,t){return Ft(e.getUTCFullYear()%100,t,2)}function HTe(e,t){return e=rK(e),Ft(e.getUTCFullYear()%100,t,2)}function GTe(e,t){return Ft(e.getUTCFullYear()%1e4,t,4)}function YTe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?mm(e):mm.ceil(e),Ft(e.getUTCFullYear()%1e4,t,4)}function JTe(){return"+0000"}function v4(){return"%"}function b4(e){return+e}function w4(e){return Math.floor(+e/1e3)}var Cd,aK,sK;QTe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QTe(e){return Cd=QAe(e),aK=Cd.format,Cd.parse,sK=Cd.utcFormat,Cd.utcParse,Cd}function XTe(e){return new Date(e)}function ZTe(e){return e instanceof Date?+e:+new Date(+e)}function wA(e,t,n,a,s,i,o,l,c,d){var u=oA(),m=u.invert,h=u.domain,f=d(".%L"),g=d(":%S"),p=d("%I:%M"),x=d("%I %p"),y=d("%a %d"),v=d("%b %d"),b=d("%B"),N=d("%Y");function w(k){return(c(k)<k?f:l(k)<k?g:o(k)<k?p:i(k)<k?x:a(k)<k?s(k)<k?y:v:n(k)<k?b:N)(k)}return u.invert=function(k){return new Date(m(k))},u.domain=function(k){return arguments.length?h(Array.from(k,ZTe)):h().map(XTe)},u.ticks=function(k){var P=h();return e(P[0],P[P.length-1],k??10)},u.tickFormat=function(k,P){return P==null?w:d(P)},u.nice=function(k){var P=h();return(!k||typeof k.range!="function")&&(k=t(P[0],P[P.length-1],k??10)),k?h(Kz(P,k)):u},u.copy=function(){return Fg(u,wA(e,t,n,a,s,i,o,l,c,d))},u}function eOe(){return xs.apply(wA(YAe,JAe,oo,vA,lw,Bg,xA,pA,vc,aK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tOe(){return xs.apply(wA(HAe,GAe,lo,bA,cw,ow,yA,gA,vc,sK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dw(){var e=0,t=1,n,a,s,i,o=Gr,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(s===0?.5:(m=(i(m)-n)*s,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=i(e=+e),a=i(t=+t),s=n===a?0:1/(a-n),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function u(m){return function(h){var f,g;return arguments.length?([f,g]=h,o=m(f,g),d):[o(0),o(1)]}}return d.range=u(oh),d.rangeRound=u(iA),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,n=m(e),a=m(t),s=n===a?0:1/(a-n),d}}function ql(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iK(){var e=Vl(dw()(Gr));return e.copy=function(){return ql(e,iK())},xo.apply(e,arguments)}function oK(){var e=dA(dw()).domain([1,10]);return e.copy=function(){return ql(e,oK()).base(e.base())},xo.apply(e,arguments)}function lK(){var e=uA(dw());return e.copy=function(){return ql(e,lK()).constant(e.constant())},xo.apply(e,arguments)}function jA(){var e=mA(dw());return e.copy=function(){return ql(e,jA()).exponent(e.exponent())},xo.apply(e,arguments)}function nOe(){return jA.apply(null,arguments).exponent(.5)}function cK(){var e=[],t=Gr;function n(a){if(a!=null&&!isNaN(a=+a))return t((Lg(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ml),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,i)=>VCe(e,i/a))},n.copy=function(){return cK(t).domain(e)},xo.apply(n,arguments)}function uw(){var e=0,t=.5,n=1,a=1,s,i,o,l,c,d=Gr,u,m=!1,h;function f(p){return isNaN(p=+p)?h:(p=.5+((p=+u(p))-i)*(a*p<a*i?l:c),d(m?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t,n]=p,s=u(e=+e),i=u(t=+t),o=u(n=+n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,f):[e,t,n]},f.clamp=function(p){return arguments.length?(m=!!p,f):m},f.interpolator=function(p){return arguments.length?(d=p,f):d};function g(p){return function(x){var y,v,b;return arguments.length?([y,v,b]=x,d=fAe(p,[y,v,b]),f):[d(0),d(.5),d(1)]}}return f.range=g(oh),f.rangeRound=g(iA),f.unknown=function(p){return arguments.length?(h=p,f):h},function(p){return u=p,s=p(e),i=p(t),o=p(n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,f}}function dK(){var e=Vl(uw()(Gr));return e.copy=function(){return ql(e,dK())},xo.apply(e,arguments)}function uK(){var e=dA(uw()).domain([.1,1,10]);return e.copy=function(){return ql(e,uK()).base(e.base())},xo.apply(e,arguments)}function mK(){var e=uA(uw());return e.copy=function(){return ql(e,mK()).constant(e.constant())},xo.apply(e,arguments)}function NA(){var e=mA(uw());return e.copy=function(){return ql(e,NA()).exponent(e.exponent())},xo.apply(e,arguments)}function rOe(){return NA.apply(null,arguments).exponent(.5)}const j4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jp,scaleDiverging:dK,scaleDivergingLog:uK,scaleDivergingPow:NA,scaleDivergingSqrt:rOe,scaleDivergingSymlog:mK,scaleIdentity:zz,scaleImplicit:PP,scaleLinear:Xv,scaleLog:Wz,scaleOrdinal:rA,scalePoint:pf,scalePow:hA,scaleQuantile:Yz,scaleQuantize:Jz,scaleRadial:Gz,scaleSequential:iK,scaleSequentialLog:oK,scaleSequentialPow:jA,scaleSequentialQuantile:cK,scaleSequentialSqrt:nOe,scaleSequentialSymlog:lK,scaleSqrt:LAe,scaleSymlog:Hz,scaleThreshold:Qz,scaleTime:eOe,scaleUtc:tOe,tickFormat:qz},Symbol.toStringTag,{value:"Module"}));var aOe=Xm;function sOe(e,t,n){for(var a=-1,s=e.length;++a<s;){var i=e[a],o=t(i);if(o!=null&&(l===void 0?o===o&&!aOe(o):n(o,l)))var l=o,c=i}return c}var mw=sOe;function iOe(e,t){return e>t}var hK=iOe,oOe=mw,lOe=hK,cOe=ih;function dOe(e){return e&&e.length?oOe(e,cOe,lOe):void 0}var uOe=dOe;const hw=Vt(uOe);function mOe(e,t){return e<t}var fK=mOe,hOe=mw,fOe=fK,pOe=ih;function gOe(e){return e&&e.length?hOe(e,pOe,fOe):void 0}var xOe=gOe;const fw=Vt(xOe);var yOe=LC,vOe=ki,bOe=jz,wOe=xa;function jOe(e,t){var n=wOe(e)?yOe:bOe;return n(e,vOe(t))}var NOe=jOe,kOe=bz,POe=NOe;function SOe(e,t){return kOe(POe(e,t),1)}var _Oe=SOe;const COe=Vt(_Oe);var AOe=XC;function TOe(e,t){return AOe(e,t)}var OOe=TOe;const Ug=Vt(OOe);var lh=1e9,EOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},PA,xn=!0,fs="[DecimalError] ",Dc=fs+"Invalid argument: ",kA=fs+"Exponent out of range: ",ch=Math.floor,sc=Math.pow,ROe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Aa,cr=1e7,cn=7,pK=9007199254740991,nb=ch(pK/cn),qe={};qe.absoluteValue=qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};qe.comparedTo=qe.cmp=function(e){var t,n,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,n=a<s?a:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};qe.decimalPlaces=qe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*cn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};qe.dividedBy=qe.div=function(e){return Gi(this,new this.constructor(e))};qe.dividedToIntegerBy=qe.idiv=function(e){var t=this,n=t.constructor;return Jt(Gi(t,new n(e),0,1),n.precision)};qe.equals=qe.eq=function(e){return!this.cmp(e)};qe.exponent=function(){return Gn(this)};qe.greaterThan=qe.gt=function(e){return this.cmp(e)>0};qe.greaterThanOrEqualTo=qe.gte=function(e){return this.cmp(e)>=0};qe.isInteger=qe.isint=function(){return this.e>this.d.length-2};qe.isNegative=qe.isneg=function(){return this.s<0};qe.isPositive=qe.ispos=function(){return this.s>0};qe.isZero=function(){return this.s===0};qe.lessThan=qe.lt=function(e){return this.cmp(e)<0};qe.lessThanOrEqualTo=qe.lte=function(e){return this.cmp(e)<1};qe.logarithm=qe.log=function(e){var t,n=this,a=n.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Aa))throw Error(fs+"NaN");if(n.s<1)throw Error(fs+(n.s?"NaN":"-Infinity"));return n.eq(Aa)?new a(0):(xn=!1,t=Gi(_p(n,i),_p(e,i),i),xn=!0,Jt(t,s))};qe.minus=qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yK(t,e):gK(t,(e.s=-e.s,e))};qe.modulo=qe.mod=function(e){var t,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(fs+"NaN");return n.s?(xn=!1,t=Gi(n,e,0,1).times(e),xn=!0,n.minus(t)):Jt(new a(n),s)};qe.naturalExponential=qe.exp=function(){return xK(this)};qe.naturalLogarithm=qe.ln=function(){return _p(this)};qe.negated=qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};qe.plus=qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gK(t,e):yK(t,(e.s=-e.s,e))};qe.precision=qe.sd=function(e){var t,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Dc+e);if(t=Gn(s)+1,a=s.d.length-1,n=a*cn+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&t>n?t:n};qe.squareRoot=qe.sqrt=function(){var e,t,n,a,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(fs+"NaN")}for(e=Gn(l),xn=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=oi(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=ch((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(s.toString()),n=c.precision,s=o=n+3;;)if(i=a,a=i.plus(Gi(l,i,o+2)).times(.5),oi(i.d).slice(0,o)===(t=oi(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Jt(i,n+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;o+=4}return xn=!0,Jt(a,n)};qe.times=qe.mul=function(e){var t,n,a,s,i,o,l,c,d,u=this,m=u.constructor,h=u.d,f=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,n=u.e+e.e,c=h.length,d=f.length,c<d&&(i=h,h=f,f=i,o=c,c=d,d=o),i=[],o=c+d,a=o;a--;)i.push(0);for(a=d;--a>=0;){for(t=0,s=c+a;s>a;)l=i[s]+f[a]*h[s-a-1]+t,i[s--]=l%cr|0,t=l/cr|0;i[s]=(i[s]+t)%cr|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,xn?Jt(e,m.precision):e};qe.toDecimalPlaces=qe.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(bi(e,0,lh),t===void 0?t=a.rounding:bi(t,0,8),Jt(n,e+Gn(n)+1,t))};qe.toExponential=function(e,t){var n,a=this,s=a.constructor;return e===void 0?n=td(a,!0):(bi(e,0,lh),t===void 0?t=s.rounding:bi(t,0,8),a=Jt(new s(a),e+1,t),n=td(a,!0,e+1)),n};qe.toFixed=function(e,t){var n,a,s=this,i=s.constructor;return e===void 0?td(s):(bi(e,0,lh),t===void 0?t=i.rounding:bi(t,0,8),a=Jt(new i(s),e+Gn(s)+1,t),n=td(a.abs(),!1,e+Gn(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};qe.toInteger=qe.toint=function(){var e=this,t=e.constructor;return Jt(new t(e),Gn(e)+1,t.rounding)};qe.toNumber=function(){return+this};qe.toPower=qe.pow=function(e){var t,n,a,s,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Aa);if(l=new c(l),!l.s){if(e.s<1)throw Error(fs+"Infinity");return l}if(l.eq(Aa))return l;if(a=c.precision,e.eq(Aa))return Jt(l,a);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=u<0?-u:u)<=pK){for(s=new c(Aa),t=Math.ceil(a/cn+4),xn=!1;n%2&&(s=s.times(l),k4(s.d,t)),n=ch(n/2),n!==0;)l=l.times(l),k4(l.d,t);return xn=!0,e.s<0?new c(Aa).div(s):Jt(s,a)}}else if(i<0)throw Error(fs+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,xn=!1,s=e.times(_p(l,a+d)),xn=!0,s=xK(s),s.s=i,s};qe.toPrecision=function(e,t){var n,a,s=this,i=s.constructor;return e===void 0?(n=Gn(s),a=td(s,n<=i.toExpNeg||n>=i.toExpPos)):(bi(e,1,lh),t===void 0?t=i.rounding:bi(t,0,8),s=Jt(new i(s),e,t),n=Gn(s),a=td(s,e<=n||n<=i.toExpNeg,e)),a};qe.toSignificantDigits=qe.tosd=function(e,t){var n=this,a=n.constructor;return e===void 0?(e=a.precision,t=a.rounding):(bi(e,1,lh),t===void 0?t=a.rounding:bi(t,0,8)),Jt(new a(n),e,t)};qe.toString=qe.valueOf=qe.val=qe.toJSON=qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Gn(e),n=e.constructor;return td(e,t<=n.toExpNeg||t>=n.toExpPos)};function gK(e,t){var n,a,s,i,o,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),xn?Jt(t,m):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(a=c,i=-i,l=d.length):(a=d,s=o,l=c.length),o=Math.ceil(m/cn),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,a=d,d=c,c=a),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/cr|0,c[i]%=cr;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,xn?Jt(t,m):t}function bi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Dc+e)}function oi(e){var t,n,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)a=e[t]+"",n=cn-a.length,n&&(i+=Eo(n)),i+=a;o=e[t],a=o+"",n=cn-a.length,n&&(i+=Eo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Gi=function(){function e(a,s){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*s+o,a[l]=i%cr|0,o=i/cr|0;return o&&a.unshift(o),a}function t(a,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(a[l]!=s[l]){c=a[l]>s[l]?1:-1;break}return c}function n(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*cr+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var l,c,d,u,m,h,f,g,p,x,y,v,b,N,w,k,P,_,T=a.constructor,I=a.s==s.s?1:-1,A=a.d,R=s.d;if(!a.s)return new T(a);if(!s.s)throw Error(fs+"Division by zero");for(c=a.e-s.e,P=R.length,w=A.length,f=new T(I),g=f.d=[],d=0;R[d]==(A[d]||0);)++d;if(R[d]>(A[d]||0)&&--c,i==null?v=i=T.precision:o?v=i+(Gn(a)-Gn(s))+1:v=i,v<0)return new T(0);if(v=v/cn+2|0,d=0,P==1)for(u=0,R=R[0],v++;(d<w||u)&&v--;d++)b=u*cr+(A[d]||0),g[d]=b/R|0,u=b%R|0;else{for(u=cr/(R[0]+1)|0,u>1&&(R=e(R,u),A=e(A,u),P=R.length,w=A.length),N=P,p=A.slice(0,P),x=p.length;x<P;)p[x++]=0;_=R.slice(),_.unshift(0),k=R[0],R[1]>=cr/2&&++k;do u=0,l=t(R,p,P,x),l<0?(y=p[0],P!=x&&(y=y*cr+(p[1]||0)),u=y/k|0,u>1?(u>=cr&&(u=cr-1),m=e(R,u),h=m.length,x=p.length,l=t(m,p,h,x),l==1&&(u--,n(m,P<h?_:R,h))):(u==0&&(l=u=1),m=R.slice()),h=m.length,h<x&&m.unshift(0),n(p,m,x),l==-1&&(x=p.length,l=t(R,p,P,x),l<1&&(u++,n(p,P<x?_:R,x))),x=p.length):l===0&&(u++,p=[0]),g[d++]=u,l&&p[0]?p[x++]=A[N]||0:(p=[A[N]],x=1);while((N++<w||p[0]!==void 0)&&v--)}return g[0]||g.shift(),f.e=c,Jt(f,o?i+Gn(f)+1:i)}}();function xK(e,t){var n,a,s,i,o,l,c=0,d=0,u=e.constructor,m=u.precision;if(Gn(e)>16)throw Error(kA+Gn(e));if(!e.s)return new u(Aa);for(t==null?(xn=!1,l=m):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(a=Math.log(sc(2,d))/Math.LN10*2+5|0,l+=a,n=s=i=new u(Aa),u.precision=l;;){if(s=Jt(s.times(e),l),n=n.times(++c),o=i.plus(Gi(s,n,l)),oi(o.d).slice(0,l)===oi(i.d).slice(0,l)){for(;d--;)i=Jt(i.times(i),l);return u.precision=m,t==null?(xn=!0,Jt(i,m)):i}i=o}}function Gn(e){for(var t=e.e*cn,n=e.d[0];n>=10;n/=10)t++;return t}function jN(e,t,n){if(t>e.LN10.sd())throw xn=!0,n&&(e.precision=n),Error(fs+"LN10 precision limit exceeded");return Jt(new e(e.LN10),t)}function Eo(e){for(var t="";e--;)t+="0";return t}function _p(e,t){var n,a,s,i,o,l,c,d,u,m=1,h=10,f=e,g=f.d,p=f.constructor,x=p.precision;if(f.s<1)throw Error(fs+(f.s?"NaN":"-Infinity"));if(f.eq(Aa))return new p(0);if(t==null?(xn=!1,d=x):d=t,f.eq(10))return t==null&&(xn=!0),jN(p,d);if(d+=h,p.precision=d,n=oi(g),a=n.charAt(0),i=Gn(f),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)f=f.times(e),n=oi(f.d),a=n.charAt(0),m++;i=Gn(f),a>1?(f=new p("0."+n),i++):f=new p(a+"."+n.slice(1))}else return c=jN(p,d+2,x).times(i+""),f=_p(new p(a+"."+n.slice(1)),d-h).plus(c),p.precision=x,t==null?(xn=!0,Jt(f,x)):f;for(l=o=f=Gi(f.minus(Aa),f.plus(Aa),d),u=Jt(f.times(f),d),s=3;;){if(o=Jt(o.times(u),d),c=l.plus(Gi(o,new p(s),d)),oi(c.d).slice(0,d)===oi(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(jN(p,d+2,x).times(i+""))),l=Gi(l,new p(m),d),p.precision=x,t==null?(xn=!0,Jt(l,x)):l;l=c,s+=2}}function N4(e,t){var n,a,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,n=n-a-1,e.e=ch(n/cn),e.d=[],a=(n+1)%cn,n<0&&(a+=cn),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=cn;a<s;)e.d.push(+t.slice(a,a+=cn));t=t.slice(a),a=cn-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),xn&&(e.e>nb||e.e<-nb))throw Error(kA+n)}else e.s=0,e.e=0,e.d=[0];return e}function Jt(e,t,n){var a,s,i,o,l,c,d,u,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=cn,s=t,d=m[u=0];else{if(u=Math.ceil((a+1)/cn),i=m.length,u>=i)return e;for(d=i=m[u],o=1;i>=10;i/=10)o++;a%=cn,s=a-cn+o}if(n!==void 0&&(i=sc(10,o-s-1),l=d/i%10|0,c=t<0||m[u+1]!==void 0||d%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(a>0?s>0?d/sc(10,o-s):0:m[u-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(i=Gn(e),m.length=1,t=t-i-1,m[0]=sc(10,(cn-t%cn)%cn),e.e=ch(-t/cn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=u,i=1,u--):(m.length=u+1,i=sc(10,cn-a),m[u]=s>0?(d/sc(10,o-s)%sc(10,s)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==cr&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=cr)break;m[u--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(xn&&(e.e>nb||e.e<-nb))throw Error(kA+Gn(e));return e}function yK(e,t){var n,a,s,i,o,l,c,d,u,m,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),xn?Jt(t,f):t;if(c=e.d,m=t.d,a=t.e,d=e.e,c=c.slice(),o=d-a,o){for(u=o<0,u?(n=c,o=-o,l=m.length):(n=m,a=d,l=c.length),s=Math.max(Math.ceil(f/cn),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=m.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){u=c[s]<m[s];break}o=0}for(u&&(n=c,c=m,m=n,t.s=-t.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>o;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=cr-1;--c[i],c[s]+=cr}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,xn?Jt(t,f):t):new h(0)}function td(e,t,n){var a,s=Gn(e),i=oi(e.d),o=i.length;return t?(n&&(a=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Eo(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Eo(-s-1)+i,n&&(a=n-o)>0&&(i+=Eo(a))):s>=o?(i+=Eo(s+1-o),n&&(a=n-s-1)>0&&(i=i+"."+Eo(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-o)>0&&(s+1===o&&(i+="."),i+=Eo(a))),e.s<0?"-"+i:i}function k4(e,t){if(e.length>t)return e.length=t,!0}function vK(e){var t,n,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Dc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return N4(o,i.toString())}else if(typeof i!="string")throw Error(Dc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,ROe.test(i))N4(o,i);else throw Error(Dc+i)}if(s.prototype=qe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=vK,s.config=s.set=MOe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(n=a[t++])||(e[n]=this[n]);return s.config(e),s}function MOe(e){if(!e||typeof e!="object")throw Error(fs+"Object expected");var t,n,a,s=["precision",1,lh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[n=s[t]])!==void 0)if(ch(a)===a&&a>=s[t+1]&&a<=s[t+2])this[n]=a;else throw Error(Dc+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(Dc+n+": "+a);return this}var PA=vK(EOe);Aa=new PA(1);const Gt=PA;function DOe(e){return FOe(e)||$Oe(e)||LOe(e)||IOe()}function IOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LOe(e,t){if(e){if(typeof e=="string")return AP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AP(e,t)}}function $Oe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function FOe(e){if(Array.isArray(e))return AP(e)}function AP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var BOe=function(t){return t},bK={"@@functional/placeholder":!0},wK=function(t){return t===bK},P4=function(t){return function n(){return arguments.length===0||arguments.length===1&&wK(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},UOe=function e(t,n){return t===1?n:P4(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==bK}).length;return o>=t?n.apply(void 0,s):e(t-o,P4(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=s.map(function(m){return wK(m)?c.shift():m});return n.apply(void 0,DOe(u).concat(c))}))})},pw=function(t){return UOe(t.length,t)},TP=function(t,n){for(var a=[],s=t;s<n;++s)a[s-t]=s;return a},VOe=pw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),qOe=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return BOe;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},OP=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},jK=function(t){var n=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,a=t.apply(void 0,i)),a}};function zOe(e){var t;return e===0?t=1:t=Math.floor(new Gt(e).abs().log(10).toNumber())+1,t}function KOe(e,t,n){for(var a=new Gt(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(n),s++;return i}var WOe=pw(function(e,t,n){var a=+e,s=+t;return a+n*(s-a)}),HOe=pw(function(e,t,n){var a=t-+e;return a=a||1/0,(n-e)/a}),GOe=pw(function(e,t,n){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});const gw={rangeStep:KOe,getDigitCount:zOe,interpolateNumber:WOe,uninterpolateNumber:HOe,uninterpolateTruncation:GOe};function EP(e){return QOe(e)||JOe(e)||NK(e)||YOe()}function YOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function QOe(e){if(Array.isArray(e))return RP(e)}function Cp(e,t){return eEe(e)||ZOe(e,t)||NK(e,t)||XOe()}function XOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NK(e,t){if(e){if(typeof e=="string")return RP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RP(e,t)}}function RP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ZOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],a=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));a=!0);}catch(c){s=!0,i=c}finally{try{!a&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function eEe(e){if(Array.isArray(e))return e}function kK(e){var t=Cp(e,2),n=t[0],a=t[1],s=n,i=a;return n>a&&(s=a,i=n),[s,i]}function PK(e,t,n){if(e.lte(0))return new Gt(0);var a=gw.getDigitCount(e.toNumber()),s=new Gt(10).pow(a),i=e.div(s),o=a!==1?.05:.1,l=new Gt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new Gt(Math.ceil(c))}function tEe(e,t,n){var a=1,s=new Gt(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(a=new Gt(10).pow(gw.getDigitCount(e)-1),s=new Gt(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Gt(Math.floor(e)))}else e===0?s=new Gt(Math.floor((t-1)/2)):n||(s=new Gt(Math.floor(e)));var o=Math.floor((t-1)/2),l=qOe(VOe(function(c){return s.add(new Gt(c-o).mul(a)).toNumber()}),TP);return l(0,t)}function SK(e,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Gt(0),tickMin:new Gt(0),tickMax:new Gt(0)};var i=PK(new Gt(t).sub(e).div(n-1),a,s),o;e<=0&&t>=0?o=new Gt(0):(o=new Gt(e).add(t).div(2),o=o.sub(new Gt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Gt(t).sub(o).div(i).toNumber()),d=l+c+1;return d>n?SK(e,t,n,a,s+1):(d<n&&(c=t>0?c+(n-d):c,l=t>0?l:l+(n-d)),{step:i,tickMin:o.sub(new Gt(l).mul(i)),tickMax:o.add(new Gt(c).mul(i))})}function nEe(e){var t=Cp(e,2),n=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=kK([n,a]),c=Cp(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var m=u===1/0?[d].concat(EP(TP(0,s-1).map(function(){return 1/0}))):[].concat(EP(TP(0,s-1).map(function(){return-1/0})),[u]);return n>a?OP(m):m}if(d===u)return tEe(d,s,i);var h=SK(d,u,o,i),f=h.step,g=h.tickMin,p=h.tickMax,x=gw.rangeStep(g,p.add(new Gt(.1).mul(f)),f);return n>a?OP(x):x}function rEe(e,t){var n=Cp(e,2),a=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=kK([a,s]),l=Cp(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[a,s];if(c===d)return[c];var u=Math.max(t,2),m=PK(new Gt(d).sub(c).div(u-1),i,0),h=[].concat(EP(gw.rangeStep(new Gt(c),new Gt(d).sub(new Gt(.99).mul(m)),m)),[d]);return a>s?OP(h):h}var aEe=jK(nEe),sEe=jK(rEe),iEe="Invariant failed";function nd(e,t){throw new Error(iEe)}var oEe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rb.apply(this,arguments)}function lEe(e,t){return mEe(e)||uEe(e,t)||dEe(e,t)||cEe()}function cEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dEe(e,t){if(e){if(typeof e=="string")return S4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S4(e,t)}}function S4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function uEe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function mEe(e){if(Array.isArray(e))return e}function hEe(e,t){if(e==null)return{};var n=fEe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function fEe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function pEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gEe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AK(a.key),a)}}function xEe(e,t,n){return t&&gEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yEe(e,t,n){return t=ab(t),vEe(e,_K()?Reflect.construct(t,n||[],ab(e).constructor):t.apply(e,n))}function vEe(e,t){if(t&&(hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bEe(e)}function bEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_K=function(){return!!e})()}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ab(e)}function wEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MP(e,t)}function MP(e,t){return MP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},MP(e,t)}function CK(e,t,n){return t=AK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AK(e){var t=jEe(e,"string");return hm(t)=="symbol"?t:t+""}function jEe(e,t){if(hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(hm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vg=function(e){function t(){return pEe(this,t),yEe(this,t,arguments)}return wEe(t,e),xEe(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,o=a.width,l=a.dataKey,c=a.data,d=a.dataPointFormatter,u=a.xAxis,m=a.yAxis,h=hEe(a,oEe),f=He(h,!1);this.props.direction==="x"&&u.type!=="number"&&nd();var g=c.map(function(p){var x=d(p,l),y=x.x,v=x.y,b=x.value,N=x.errorVal;if(!N)return null;var w=[],k,P;if(Array.isArray(N)){var _=lEe(N,2);k=_[0],P=_[1]}else k=P=N;if(i==="vertical"){var T=u.scale,I=v+s,A=I+o,R=I-o,E=T(b-k),L=T(b+P);w.push({x1:L,y1:A,x2:L,y2:R}),w.push({x1:E,y1:I,x2:L,y2:I}),w.push({x1:E,y1:A,x2:E,y2:R})}else if(i==="horizontal"){var $=m.scale,B=y+s,K=B-o,S=B+o,D=$(b-k),G=$(b+P);w.push({x1:K,y1:G,x2:S,y2:G}),w.push({x1:B,y1:D,x2:B,y2:G}),w.push({x1:K,y1:D,x2:S,y2:D})}return U.createElement($t,rb({className:"recharts-errorBar",key:"bar-".concat(w.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},f),w.map(function(q){return U.createElement("line",rb({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return U.createElement($t,{className:"recharts-errorBars"},g)}}])}(U.Component);CK(Vg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});CK(Vg,"displayName","ErrorBar");function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Gl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(a){NEe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function NEe(e,t,n){return t=kEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kEe(e){var t=PEe(e,"string");return Ap(t)=="symbol"?t:t+""}function PEe(e,t){if(Ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Ap(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TK=function(t){var n=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Na(n,Hi);if(!o)return null;var l=Hi.defaultProps,c=l!==void 0?Gl(Gl({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(a||[]).reduce(function(u,m){var h=m.item,f=m.props,g=f.sectors||f.data||[];return u.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(a||[]).map(function(u){var m=u.item,h=m.type.defaultProps,f=h!==void 0?Gl(Gl({},h),m.props):{},g=f.dataKey,p=f.name,x=f.legendType,y=f.hide;return{inactive:y,dataKey:g,type:c.iconType||x||"square",color:SA(m),value:p||g,payload:f}}),Gl(Gl(Gl({},c),Hi.getWithHeight(o,s)),{},{payload:d,item:o})};function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function C4(e){return AEe(e)||CEe(e)||_Ee(e)||SEe()}function SEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(e,t){if(e){if(typeof e=="string")return DP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DP(e,t)}}function CEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AEe(e){if(Array.isArray(e))return DP(e)}function DP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function A4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(n),!0).forEach(function(a){ku(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ku(e,t,n){return t=TEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TEe(e){var t=OEe(e,"string");return Tp(t)=="symbol"?t:t+""}function OEe(e,t){if(Tp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Tp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ar(e,t,n){return mt(e)||mt(t)?n:ir(t)?La(e,t,n):nt(t)?t(e):n}function gf(e,t,n,a){var s=COe(e,function(l){return ar(l,t)});if(n==="number"){var i=s.filter(function(l){return Se(l)||parseFloat(l)});return i.length?[fw(i),hw(i)]:[1/0,-1/0]}var o=a?s.filter(function(l){return!mt(l)}):s;return o.map(function(l){return ir(l)||l instanceof Date?l:""})}var EEe=function(t){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?s[d-1].coordinate:s[l-1].coordinate,m=s[d].coordinate,h=d>=l-1?s[0].coordinate:s[d+1].coordinate,f=void 0;if(Wr(m-u)!==Wr(h-m)){var g=[];if(Wr(h-m)===Wr(c[1]-c[0])){f=h;var p=m+c[1]-c[0];g[0]=Math.min(p,(p+u)/2),g[1]=Math.max(p,(p+u)/2)}else{f=u;var x=h+c[1]-c[0];g[0]=Math.min(m,(x+m)/2),g[1]=Math.max(m,(x+m)/2)}var y=[Math.min(m,(f+m)/2),Math.max(m,(f+m)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){o=s[d].index;break}}else{var v=Math.min(u,h),b=Math.max(u,h);if(t>(v+m)/2&&t<=(b+m)/2){o=s[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(a[N].coordinate+a[N+1].coordinate)/2||N>0&&N<l-1&&t>(a[N].coordinate+a[N-1].coordinate)/2&&t<=(a[N].coordinate+a[N+1].coordinate)/2||N===l-1&&t>(a[N].coordinate+a[N-1].coordinate)/2){o=a[N].index;break}return o},SA=function(t){var n,a=t,s=a.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?On(On({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},REe=function(t){var n=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,m=Object.keys(u),h=0,f=m.length;h<f;h++){var g=u[m[h]],p=g.items,x=g.cateAxisId,y=p.filter(function(P){return Wi(P.type).indexOf("Bar")>=0});if(y&&y.length){var v=y[0].type.defaultProps,b=v!==void 0?On(On({},v),y[0].props):y[0].props,N=b.barSize,w=b[x];o[w]||(o[w]=[]);var k=mt(N)?n:N;o[w].push({item:y[0],stackList:y.slice(1),barSize:mt(k)?void 0:Hr(k,a,0)})}}return o},MEe=function(t){var n=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=Hr(n,s,0,!0),u,m=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=s/c,g=o.reduce(function(N,w){return N+w.barSize||0},0);g+=(c-1)*d,g>=s&&(g-=(c-1)*d,d=0),g>=s&&f>0&&(h=!0,f*=.9,g=c*f);var p=(s-g)/2>>0,x={offset:p-d,size:0};u=o.reduce(function(N,w){var k={item:w.item,position:{offset:x.offset+x.size+d,size:h?f:w.barSize}},P=[].concat(C4(N),[k]);return x=P[P.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){P.push({item:_,position:x})}),P},m)}else{var y=Hr(a,s,0,!0);s-2*y-(c-1)*d<=0&&(d=0);var v=(s-2*y-(c-1)*d)/c;v>1&&(v>>=0);var b=l===+l?Math.min(v,l):v;u=o.reduce(function(N,w,k){var P=[].concat(C4(N),[{item:w.item,position:{offset:y+(v+d)*k+(v-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){P.push({item:_,position:P[P.length-1].position})}),P},m)}return u},DEe=function(t,n,a,s){var i=a.children,o=a.width,l=a.margin,c=o-(l.left||0)-(l.right||0),d=TK({children:i,legendWidth:c});if(d){var u=s||{},m=u.width,h=u.height,f=d.align,g=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&f!=="center"&&Se(t[f]))return On(On({},t),{},ku({},f,t[f]+(m||0)));if((p==="horizontal"||p==="vertical"&&f==="center")&&g!=="middle"&&Se(t[g]))return On(On({},t),{},ku({},g,t[g]+(h||0)))}return t},IEe=function(t,n,a){return mt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},OK=function(t,n,a,s,i){var o=n.props.children,l=$a(o,Vg).filter(function(d){return IEe(s,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var m=ar(u,a);if(mt(m))return d;var h=Array.isArray(m)?[fw(m),hw(m)]:[m,m],f=c.reduce(function(g,p){var x=ar(u,p,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),v=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0])}return null},LEe=function(t,n,a,s,i){var o=n.map(function(l){return OK(t,l,a,i,s)}).filter(function(l){return!mt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},EK=function(t,n,a,s,i){var o=n.map(function(c){var d=c.props.dataKey;return a==="number"&&d&&OK(t,c,d,s)||gf(t,d,a,i)});if(a==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,m=d.length;u<m;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},RK=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},MK=function(t,n,a,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===a&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(a),l},Bi=function(t,n,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||a)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Wr(l[0]-l[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(m){var h=i?i.indexOf(m):m;return{coordinate:s(h)+d,value:m,offset:d}});return u.filter(function(m){return!Dg(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,h){return{coordinate:s(m)+d,value:m,index:h,offset:d}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+d,value:m,offset:d}}):s.domain().map(function(m,h){return{coordinate:s(m)+d,value:i?i[m]:m,index:h,offset:d}})},NN=new WeakMap,Ux=function(t,n){if(typeof n!="function")return t;NN.has(t)||NN.set(t,new WeakMap);var a=NN.get(t);if(a.has(n))return a.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,s),s},DK=function(t,n,a){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:jp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Xv(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:pf(),realScaleType:"point"}:i==="category"?{scale:jp(),realScaleType:"band"}:{scale:Xv(),realScaleType:"linear"};if(Mg(s)){var c="scale".concat(X0(s));return{scale:(j4[c]||pf)(),realScaleType:j4[c]?c:"point"}}return nt(s)?{scale:s}:{scale:pf(),realScaleType:"point"}},T4=1e-4,IK=function(t){var n=t.domain();if(!(!n||n.length<=2)){var a=n.length,s=t.range(),i=Math.min(s[0],s[1])-T4,o=Math.max(s[0],s[1])+T4,l=t(n[0]),c=t(n[a-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[a-1]])}},$Ee=function(t,n){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===n)return t[a].position;return null},FEe=function(t,n){if(!n||n.length!==2||!Se(n[0])||!Se(n[1]))return t;var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Se(t[0])||t[0]<a)&&(i[0]=a),(!Se(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},BEe=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0,l=0;l<n;++l){var c=Dg(t[l][a][1])?t[l][a][0]:t[l][a][1];c>=0?(t[l][a][0]=i,t[l][a][1]=i+c,i=t[l][a][1]):(t[l][a][0]=o,t[l][a][1]=o+c,o=t[l][a][1])}},UEe=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0;o<n;++o){var l=Dg(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=i,t[o][a][1]=i+l,i=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},VEe={sign:BEe,expand:owe,none:sm,silhouette:lwe,wiggle:cwe,positive:UEe},qEe=function(t,n,a){var s=n.map(function(l){return l.props.dataKey}),i=VEe[a],o=iwe().keys(s).value(function(l,c){return+ar(l,c,0)}).order(iP).offset(i);return o(t)},zEe=function(t,n,a,s,i,o){if(!t)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(m,h){var f,g=(f=h.type)!==null&&f!==void 0&&f.defaultProps?On(On({},h.type.defaultProps),h.props):h.props,p=g.stackId,x=g.hide;if(x)return m;var y=g[a],v=m[y]||{hasStack:!1,stackGroups:{}};if(ir(p)){var b=v.stackGroups[p]||{numericAxisId:a,cateAxisId:s,items:[]};b.items.push(h),v.hasStack=!0,v.stackGroups[p]=b}else v.stackGroups[rh("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[h]};return On(On({},m),{},ku({},y,v))},c),u={};return Object.keys(d).reduce(function(m,h){var f=d[h];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(p,x){var y=f.stackGroups[x];return On(On({},p),{},ku({},x,{numericAxisId:a,cateAxisId:s,items:y.items,stackedData:qEe(t,y.items,i)}))},g)}return On(On({},m),{},ku({},h,f))},u)},LK=function(t,n){var a=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=a||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=aEe(d,i,l);return t.domain([fw(u),hw(u)]),{niceTicks:u}}if(i&&s==="number"){var m=t.domain(),h=sEe(m,i,l);return{niceTicks:h}}return null};function O4(e){var t=e.axis,n=e.ticks,a=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!mt(s[t.dataKey])){var l=Ov(n,"value",s[t.dataKey]);if(l)return l.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var c=ar(s,mt(o)?t.dataKey:o);return mt(c)?null:t.scale(c)}var E4=function(t){var n=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return a[l]?a[l].coordinate+s:null;var c=ar(o,n.dataKey,n.domain[l]);return mt(c)?null:n.scale(c)-i/2+s},KEe=function(t){var n=t.numericAxis,a=n.scale.domain();if(n.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},WEe=function(t,n){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?On(On({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(ir(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},HEe=function(t){return t.reduce(function(n,a){return[fw(a.concat([n[0]]).filter(Se)),hw(a.concat([n[1]]).filter(Se))]},[1/0,-1/0])},$K=function(t,n,a){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var m=HEe(u.slice(n,a+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},R4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IP=function(t,n,a){if(nt(t))return t(n,a);if(!Array.isArray(t))return n;var s=[];if(Se(t[0]))s[0]=a?t[0]:Math.min(t[0],n[0]);else if(R4.test(t[0])){var i=+R4.exec(t[0])[1];s[0]=n[0]-i}else nt(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(Se(t[1]))s[1]=a?t[1]:Math.max(t[1],n[1]);else if(M4.test(t[1])){var o=+M4.exec(t[1])[1];s[1]=n[1]+o}else nt(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},sb=function(t,n,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&n&&n.length>=2){for(var i=eA(n,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},D4=function(t,n,a){return!t||!t.length||Ug(t,La(a,"type.defaultProps.domain"))?n:t},FK=function(t,n){var a=t.type.defaultProps?On(On({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,o=a.unit,l=a.formatter,c=a.tooltipType,d=a.chartType,u=a.hide;return On(On({},He(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:SA(t),value:ar(n,s),type:c,payload:n,chartType:d,hide:u})};function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function I4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(n),!0).forEach(function(a){BK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function BK(e,t,n){return t=GEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GEe(e){var t=YEe(e,"string");return Op(t)=="symbol"?t:t+""}function YEe(e,t){if(Op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Op(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JEe(e,t){return eRe(e)||ZEe(e,t)||XEe(e,t)||QEe()}function QEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XEe(e,t){if(e){if(typeof e=="string")return L4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L4(e,t)}}function L4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ZEe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function eRe(e){if(Array.isArray(e))return e}var ib=Math.PI/180,tRe=function(t){return t*180/Math.PI},nn=function(t,n,a,s){return{x:t+Math.cos(-ib*s)*a,y:n+Math.sin(-ib*s)*a}},UK=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},nRe=function(t,n,a,s,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=Hr(t.cx,o,o/2),m=Hr(t.cy,l,l/2),h=UK(o,l,a),f=Hr(t.innerRadius,h,0),g=Hr(t.outerRadius,h,h*.8),p=Object.keys(n);return p.reduce(function(x,y){var v=n[y],b=v.domain,N=v.reversed,w;if(mt(v.range))s==="angleAxis"?w=[c,d]:s==="radiusAxis"&&(w=[f,g]),N&&(w=[w[1],w[0]]);else{w=v.range;var k=w,P=JEe(k,2);c=P[0],d=P[1]}var _=DK(v,i),T=_.realScaleType,I=_.scale;I.domain(b).range(w),IK(I);var A=LK(I,Ei(Ei({},v),{},{realScaleType:T})),R=Ei(Ei(Ei({},v),A),{},{range:w,radius:g,realScaleType:T,scale:I,cx:u,cy:m,innerRadius:f,outerRadius:g,startAngle:c,endAngle:d});return Ei(Ei({},x),{},BK({},y,R))},{})},rRe=function(t,n){var a=t.x,s=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-o,2))},aRe=function(t,n){var a=t.x,s=t.y,i=n.cx,o=n.cy,l=rRe({x:a,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(a-i)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:tRe(d),angleInRadian:d}},sRe=function(t){var n=t.startAngle,a=t.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:a-o*360}},iRe=function(t,n){var a=n.startAngle,s=n.endAngle,i=Math.floor(a/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},$4=function(t,n){var a=t.x,s=t.y,i=aRe({x:a,y:s},n),o=i.radius,l=i.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=sRe(n),m=u.startAngle,h=u.endAngle,f=l,g;if(m<=h){for(;f>h;)f-=360;for(;f<m;)f+=360;g=f>=m&&f<=h}else{for(;f>m;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=m}return g?Ei(Ei({},n),{},{radius:o,angle:iRe(f,n)}):null},VK=function(t){return!j.isValidElement(t)&&!nt(t)&&typeof t!="boolean"?t.className:""};function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}var oRe=["offset"];function lRe(e){return mRe(e)||uRe(e)||dRe(e)||cRe()}function cRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dRe(e,t){if(e){if(typeof e=="string")return LP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LP(e,t)}}function uRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mRe(e){if(Array.isArray(e))return LP(e)}function LP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function hRe(e,t){if(e==null)return{};var n=fRe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function fRe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(a){pRe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function pRe(e,t,n){return t=gRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gRe(e){var t=xRe(e,"string");return Ep(t)=="symbol"?t:t+""}function xRe(e,t){if(Ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Ep(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Rp.apply(this,arguments)}var yRe=function(t){var n=t.value,a=t.formatter,s=mt(t.children)?n:t.children;return nt(a)?a(s):s},vRe=function(t,n){var a=Wr(n-t),s=Math.min(Math.abs(n-t),360);return a*s},bRe=function(t,n,a){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,m=c.innerRadius,h=c.outerRadius,f=c.startAngle,g=c.endAngle,p=c.clockWise,x=(m+h)/2,y=vRe(f,g),v=y>=0?1:-1,b,N;s==="insideStart"?(b=f+v*o,N=p):s==="insideEnd"?(b=g-v*o,N=!p):s==="end"&&(b=g+v*o,N=p),N=y<=0?N:!N;var w=nn(d,u,x,b),k=nn(d,u,x,b+(N?1:-1)*359),P="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(k.x,",").concat(k.y),_=mt(t.id)?rh("recharts-radial-line-"):t.id;return U.createElement("text",Rp({},a,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",l)}),U.createElement("defs",null,U.createElement("path",{id:_,d:P})),U.createElement("textPath",{xlinkHref:"#".concat(_)},n))},wRe=function(t){var n=t.viewBox,a=t.offset,s=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,m=i.endAngle,h=(u+m)/2;if(s==="outside"){var f=nn(o,l,d+a,h),g=f.x,p=f.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+d)/2,y=nn(o,l,x,h),v=y.x,b=y.y;return{x:v,y:b,textAnchor:"middle",verticalAnchor:"middle"}},jRe=function(t){var n=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,m=u>=0?1:-1,h=m*s,f=m>0?"end":"start",g=m>0?"start":"end",p=d>=0?1:-1,x=p*s,y=p>0?"end":"start",v=p>0?"start":"end";if(i==="top"){var b={x:l+d/2,y:c-m*s,textAnchor:"middle",verticalAnchor:f};return Xn(Xn({},b),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var N={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:g};return Xn(Xn({},N),a?{height:Math.max(a.y+a.height-(c+u),0),width:d}:{})}if(i==="left"){var w={x:l-x,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return Xn(Xn({},w),a?{width:Math.max(w.x-a.x,0),height:u}:{})}if(i==="right"){var k={x:l+d+x,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return Xn(Xn({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:u}:{})}var P=a?{width:d,height:u}:{};return i==="insideLeft"?Xn({x:l+x,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},P):i==="insideRight"?Xn({x:l+d-x,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},P):i==="insideTop"?Xn({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:g},P):i==="insideBottom"?Xn({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:f},P):i==="insideTopLeft"?Xn({x:l+x,y:c+h,textAnchor:v,verticalAnchor:g},P):i==="insideTopRight"?Xn({x:l+d-x,y:c+h,textAnchor:y,verticalAnchor:g},P):i==="insideBottomLeft"?Xn({x:l+x,y:c+u-h,textAnchor:v,verticalAnchor:f},P):i==="insideBottomRight"?Xn({x:l+d-x,y:c+u-h,textAnchor:y,verticalAnchor:f},P):Zm(i)&&(Se(i.x)||xc(i.x))&&(Se(i.y)||xc(i.y))?Xn({x:l+Hr(i.x,d),y:c+Hr(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):Xn({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},NRe=function(t){return"cx"in t&&Se(t.cx)};function mr(e){var t=e.offset,n=t===void 0?5:t,a=hRe(e,oRe),s=Xn({offset:n},a),i=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,u=s.className,m=u===void 0?"":u,h=s.textBreakAll;if(!i||mt(l)&&mt(c)&&!j.isValidElement(d)&&!nt(d))return null;if(j.isValidElement(d))return j.cloneElement(d,s);var f;if(nt(d)){if(f=j.createElement(d,s),j.isValidElement(f))return f}else f=yRe(s);var g=NRe(i),p=He(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return bRe(s,f,p);var x=g?wRe(s):jRe(s);return U.createElement(ed,Rp({className:ft("recharts-label",m)},p,x,{breakAll:h}),f)}mr.displayName="Label";var qK=function(t){var n=t.cx,a=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,m=t.x,h=t.y,f=t.top,g=t.left,p=t.width,x=t.height,y=t.clockWise,v=t.labelViewBox;if(v)return v;if(Se(p)&&Se(x)){if(Se(m)&&Se(h))return{x:m,y:h,width:p,height:x};if(Se(f)&&Se(g))return{x:f,y:g,width:p,height:x}}return Se(m)&&Se(h)?{x:m,y:h,width:0,height:0}:Se(n)&&Se(a)?{cx:n,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},kRe=function(t,n){return t?t===!0?U.createElement(mr,{key:"label-implicit",viewBox:n}):ir(t)?U.createElement(mr,{key:"label-implicit",viewBox:n,value:t}):j.isValidElement(t)?t.type===mr?j.cloneElement(t,{key:"label-implicit",viewBox:n}):U.createElement(mr,{key:"label-implicit",content:t,viewBox:n}):nt(t)?U.createElement(mr,{key:"label-implicit",content:t,viewBox:n}):Zm(t)?U.createElement(mr,Rp({viewBox:n},t,{key:"label-implicit"})):null:null},PRe=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=qK(t),o=$a(s,mr).map(function(c,d){return j.cloneElement(c,{viewBox:n||i,key:"label-".concat(d)})});if(!a)return o;var l=kRe(t.label,n||i);return[l].concat(lRe(o))};mr.parseViewBox=qK;mr.renderCallByParent=PRe;function SRe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var _Re=SRe;const CRe=Vt(_Re);function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}var ARe=["valueAccessor"],TRe=["data","dataKey","clockWise","id","textBreakAll"];function ORe(e){return DRe(e)||MRe(e)||RRe(e)||ERe()}function ERe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RRe(e,t){if(e){if(typeof e=="string")return $P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $P(e,t)}}function MRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DRe(e){if(Array.isArray(e))return $P(e)}function $P(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ob.apply(this,arguments)}function B4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function U4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(n),!0).forEach(function(a){IRe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function IRe(e,t,n){return t=LRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LRe(e){var t=$Re(e,"string");return Mp(t)=="symbol"?t:t+""}function $Re(e,t){if(Mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Mp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V4(e,t){if(e==null)return{};var n=FRe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function FRe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var BRe=function(t){return Array.isArray(t.value)?CRe(t.value):t.value};function Yi(e){var t=e.valueAccessor,n=t===void 0?BRe:t,a=V4(e,ARe),s=a.data,i=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,d=V4(a,TRe);return!s||!s.length?null:U.createElement($t,{className:"recharts-label-list"},s.map(function(u,m){var h=mt(i)?n(u,m):ar(u&&u.payload,i),f=mt(l)?{}:{id:"".concat(l,"-").concat(m)};return U.createElement(mr,ob({},He(u,!0),d,f,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:mr.parseViewBox(mt(o)?u:U4(U4({},u),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Yi.displayName="LabelList";function URe(e,t){return e?e===!0?U.createElement(Yi,{key:"labelList-implicit",data:t}):U.isValidElement(e)||nt(e)?U.createElement(Yi,{key:"labelList-implicit",data:t,content:e}):Zm(e)?U.createElement(Yi,ob({data:t},e,{key:"labelList-implicit"})):null:null}function VRe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=$a(a,Yi).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var i=URe(e.label,t);return[i].concat(ORe(s))}Yi.renderCallByParent=VRe;function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},FP.apply(this,arguments)}function q4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function z4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(n),!0).forEach(function(a){qRe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function qRe(e,t,n){return t=zRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zRe(e){var t=KRe(e,"string");return Dp(t)=="symbol"?t:t+""}function KRe(e,t){if(Dp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Dp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WRe=function(t,n){var a=Wr(n-t),s=Math.min(Math.abs(n-t),359.999);return a*s},Vx=function(t){var n=t.cx,a=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+s,m=Math.asin(c/u)/ib,h=d?i:i+o*m,f=nn(n,a,u,h),g=nn(n,a,s,h),p=d?i-o*m:i,x=nn(n,a,u*Math.cos(m*ib),p);return{center:f,circleTangency:g,lineTangency:x,theta:m}},zK=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=WRe(o,l),d=o+c,u=nn(n,a,i,o),m=nn(n,a,i,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var f=nn(n,a,s,o),g=nn(n,a,s,d);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(n,",").concat(a," Z");return h},HRe=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,m=Wr(u-d),h=Vx({cx:n,cy:a,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),f=h.circleTangency,g=h.lineTangency,p=h.theta,x=Vx({cx:n,cy:a,radius:i,angle:u,sign:-m,cornerRadius:o,cornerIsExternal:c}),y=x.circleTangency,v=x.lineTangency,b=x.theta,N=c?Math.abs(d-u):Math.abs(d-u)-p-b;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):zK({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var k=Vx({cx:n,cy:a,radius:s,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=k.circleTangency,_=k.lineTangency,T=k.theta,I=Vx({cx:n,cy:a,radius:s,angle:u,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=I.circleTangency,R=I.lineTangency,E=I.theta,L=c?Math.abs(d-u):Math.abs(d-u)-T-E;if(L<0&&o===0)return"".concat(w,"L").concat(n,",").concat(a,"Z");w+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(L>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(n,",").concat(a,"Z");return w},GRe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KK=function(t){var n=z4(z4({},GRe),t),a=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,m=n.endAngle,h=n.className;if(o<i||u===m)return null;var f=ft("recharts-sector",h),g=o-i,p=Hr(l,g,0,!0),x;return p>0&&Math.abs(u-m)<360?x=HRe({cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:m}):x=zK({cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:u,endAngle:m}),U.createElement("path",FP({},He(n,!0),{className:f,d:x,role:"img"}))};function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function BP(){return BP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},BP.apply(this,arguments)}function K4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function W4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(n),!0).forEach(function(a){YRe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function YRe(e,t,n){return t=JRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JRe(e){var t=QRe(e,"string");return Ip(t)=="symbol"?t:t+""}function QRe(e,t){if(Ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Ip(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H4={curveBasisClosed:Y0e,curveBasisOpen:J0e,curveBasis:G0e,curveBumpX:M0e,curveBumpY:D0e,curveLinearClosed:Q0e,curveLinear:ew,curveMonotoneX:X0e,curveMonotoneY:Z0e,curveNatural:ewe,curveStep:twe,curveStepAfter:rwe,curveStepBefore:nwe},qx=function(t){return t.x===+t.x&&t.y===+t.y},Oh=function(t){return t.x},Eh=function(t){return t.y},XRe=function(t,n){if(nt(t))return t;var a="curve".concat(X0(t));return(a==="curveMonotone"||a==="curveBump")&&n?H4["".concat(a).concat(n==="vertical"?"Y":"X")]:H4[a]||ew},ZRe=function(t){var n=t.type,a=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=XRe(a,l),m=d?i.filter(function(p){return qx(p)}):i,h;if(Array.isArray(o)){var f=d?o.filter(function(p){return qx(p)}):o,g=m.map(function(p,x){return W4(W4({},p),{},{base:f[x]})});return l==="vertical"?h=Rx().y(Eh).x1(Oh).x0(function(p){return p.base.x}):h=Rx().x(Oh).y1(Eh).y0(function(p){return p.base.y}),h.defined(qx).curve(u),h(g)}return l==="vertical"&&Se(o)?h=Rx().y(Eh).x1(Oh).x0(o):Se(o)?h=Rx().x(Oh).y1(Eh).y0(o):h=F9().x(Oh).y(Eh),h.defined(qx).curve(u),h(m)},lb=function(t){var n=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var o=a&&a.length?ZRe(t):s;return U.createElement("path",BP({},He(t,!1),Ev(t),{className:ft("recharts-curve",n),d:o,ref:i}))},WK={exports:{}},eMe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tMe=eMe,nMe=tMe;function HK(){}function GK(){}GK.resetWarningCache=HK;var rMe=function(){function e(a,s,i,o,l,c){if(c!==nMe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:GK,resetWarningCache:HK};return n.PropTypes=n,n};WK.exports=rMe();var aMe=WK.exports;const Bt=Vt(aMe);var sMe=Object.getOwnPropertyNames,iMe=Object.getOwnPropertySymbols,oMe=Object.prototype.hasOwnProperty;function G4(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function zx(e){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return e(n,a,s);var i=s.cache,o=i.get(n),l=i.get(a);if(o&&l)return o===a&&l===n;i.set(n,a),i.set(a,n);var c=e(n,a,s);return i.delete(n),i.delete(a),c}}function Y4(e){return sMe(e).concat(iMe(e))}var lMe=Object.hasOwn||function(e,t){return oMe.call(e,t)};function pd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var cMe="__v",dMe="__o",uMe="_owner",J4=Object.getOwnPropertyDescriptor,Q4=Object.keys;function mMe(e,t,n){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!n.equals(e[a],t[a],a,a,e,t,n))return!1;return!0}function hMe(e,t){return pd(e.getTime(),t.getTime())}function fMe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function pMe(e,t){return e===t}function X4(e,t,n){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,m=0;(l=d.next())&&!l.done;){if(s[m]){m++;continue}var h=o.value,f=l.value;if(n.equals(h[0],f[0],c,m,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=s[m]=!0;break}m++}if(!u)return!1;c++}return!0}var gMe=pd;function xMe(e,t,n){var a=Q4(e),s=a.length;if(Q4(t).length!==s)return!1;for(;s-- >0;)if(!YK(e,t,n,a[s]))return!1;return!0}function Rh(e,t,n){var a=Y4(e),s=a.length;if(Y4(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=a[s],!YK(e,t,n,i)||(o=J4(e,i),l=J4(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function yMe(e,t){return pd(e.valueOf(),t.valueOf())}function vMe(e,t){return e.source===t.source&&e.flags===t.flags}function Z4(e,t,n){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!s[u]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function bMe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function wMe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function YK(e,t,n,a){return(a===uMe||a===dMe||a===cMe)&&(e.$$typeof||t.$$typeof)?!0:lMe(t,a)&&n.equals(e[a],t[a],a,a,e,t,n)}var jMe="[object Arguments]",NMe="[object Boolean]",kMe="[object Date]",PMe="[object Error]",SMe="[object Map]",_Me="[object Number]",CMe="[object Object]",AMe="[object RegExp]",TMe="[object Set]",OMe="[object String]",EMe="[object URL]",RMe=Array.isArray,e5=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,t5=Object.assign,MMe=Object.prototype.toString.call.bind(Object.prototype.toString);function DMe(e){var t=e.areArraysEqual,n=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,m=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,x){if(g===p)return!0;if(g==null||p==null)return!1;var y=typeof g;if(y!==typeof p)return!1;if(y!=="object")return y==="number"?o(g,p,x):y==="function"?s(g,p,x):!1;var v=g.constructor;if(v!==p.constructor)return!1;if(v===Object)return l(g,p,x);if(RMe(g))return t(g,p,x);if(e5!=null&&e5(g))return m(g,p,x);if(v===Date)return n(g,p,x);if(v===RegExp)return d(g,p,x);if(v===Map)return i(g,p,x);if(v===Set)return u(g,p,x);var b=MMe(g);return b===kMe?n(g,p,x):b===AMe?d(g,p,x):b===SMe?i(g,p,x):b===TMe?u(g,p,x):b===CMe?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,x):b===EMe?h(g,p,x):b===PMe?a(g,p,x):b===jMe?l(g,p,x):b===NMe||b===_Me||b===OMe?c(g,p,x):!1}}function IMe(e){var t=e.circular,n=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?Rh:mMe,areDatesEqual:hMe,areErrorsEqual:fMe,areFunctionsEqual:pMe,areMapsEqual:a?G4(X4,Rh):X4,areNumbersEqual:gMe,areObjectsEqual:a?Rh:xMe,arePrimitiveWrappersEqual:yMe,areRegExpsEqual:vMe,areSetsEqual:a?G4(Z4,Rh):Z4,areTypedArraysEqual:a?Rh:bMe,areUrlsEqual:wMe};if(n&&(s=t5({},s,n(s))),t){var i=zx(s.areArraysEqual),o=zx(s.areMapsEqual),l=zx(s.areObjectsEqual),c=zx(s.areSetsEqual);s=t5({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function LMe(e){return function(t,n,a,s,i,o,l){return e(t,n,l)}}function $Me(e){var t=e.circular,n=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(c,d){var u=a(),m=u.cache,h=m===void 0?t?new WeakMap:void 0:m,f=u.meta;return n(c,d,{cache:h,equals:s,meta:f,strict:i})};if(t)return function(c,d){return n(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,d){return n(c,d,o)}}var FMe=zl();zl({strict:!0});zl({circular:!0});zl({circular:!0,strict:!0});zl({createInternalComparator:function(){return pd}});zl({strict:!0,createInternalComparator:function(){return pd}});zl({circular:!0,createInternalComparator:function(){return pd}});zl({circular:!0,createInternalComparator:function(){return pd},strict:!0});function zl(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=IMe(e),c=DMe(l),d=a?a(c):LMe(c);return $Me({circular:n,comparator:c,createState:s,equals:d,strict:o})}function BMe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function n5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function s(i){n<0&&(n=i),i-n>t?(e(i),n=-1):BMe(s)};requestAnimationFrame(a)}function UP(e){"@babel/helpers - typeof";return UP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UP(e)}function UMe(e){return KMe(e)||zMe(e)||qMe(e)||VMe()}function VMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qMe(e,t){if(e){if(typeof e=="string")return r5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r5(e,t)}}function r5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function zMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KMe(e){if(Array.isArray(e))return e}function WMe(){var e={},t=function(){return null},n=!1,a=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=UMe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){n5(s.bind(null,d),c);return}s(c),n5(s.bind(null,d));return}UP(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function a5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function s5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(n),!0).forEach(function(a){JK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function JK(e,t,n){return t=HMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HMe(e){var t=GMe(e,"string");return Lp(t)==="symbol"?t:String(t)}function GMe(e,t){if(Lp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Lp(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YMe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},JMe=function(t){return t},QMe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xf=function(t,n){return Object.keys(n).reduce(function(a,s){return s5(s5({},a),{},JK({},s,t(s,n[s])))},{})},i5=function(t,n,a){return t.map(function(s){return"".concat(QMe(s)," ").concat(n,"ms ").concat(a)}).join(",")};function XMe(e,t){return tDe(e)||eDe(e,t)||QK(e,t)||ZMe()}function ZMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function tDe(e){if(Array.isArray(e))return e}function nDe(e){return sDe(e)||aDe(e)||QK(e)||rDe()}function rDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QK(e,t){if(e){if(typeof e=="string")return VP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VP(e,t)}}function aDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sDe(e){if(Array.isArray(e))return VP(e)}function VP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var cb=1e-4,XK=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},ZK=function(t,n){return t.map(function(a,s){return a*Math.pow(n,s)}).reduce(function(a,s){return a+s})},o5=function(t,n){return function(a){var s=XK(t,n);return ZK(s,a)}},iDe=function(t,n){return function(a){var s=XK(t,n),i=[].concat(nDe(s.map(function(o,l){return o*l}).slice(1)),[0]);return ZK(i,a)}},l5=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=XMe(d,4);s=u[0],i=u[1],o=u[2],l=u[3]}}}var m=o5(s,o),h=o5(i,l),f=iDe(s,o),g=function(y){return y>1?1:y<0?0:y},p=function(y){for(var v=y>1?1:y,b=v,N=0;N<8;++N){var w=m(b)-v,k=f(b);if(Math.abs(w-v)<cb||k<cb)return h(b);b=g(b-w/k)}return h(b)};return p.isStepper=!1,p},oDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,a=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(u,m,h){var f=-(u-m)*a,g=h*i,p=h+(f-g)*l/1e3,x=h*l/1e3+u;return Math.abs(x-m)<cb&&Math.abs(p)<cb?[m,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},lDe=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return l5(s);case"spring":return oDe();default:if(s.split("(")[0]==="cubic-bezier")return l5(s)}return typeof s=="function"?s:null};function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function c5(e){return uDe(e)||dDe(e)||eW(e)||cDe()}function cDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uDe(e){if(Array.isArray(e))return zP(e)}function d5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d5(Object(n),!0).forEach(function(a){qP(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function qP(e,t,n){return t=mDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mDe(e){var t=hDe(e,"string");return $p(t)==="symbol"?t:String(t)}function hDe(e,t){if($p(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if($p(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fDe(e,t){return xDe(e)||gDe(e,t)||eW(e,t)||pDe()}function pDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eW(e,t){if(e){if(typeof e=="string")return zP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zP(e,t)}}function zP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function gDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function xDe(e){if(Array.isArray(e))return e}var db=function(t,n,a){return t+(n-t)*a},KP=function(t){var n=t.from,a=t.to;return n!==a},yDe=function e(t,n,a){var s=xf(function(i,o){if(KP(o)){var l=t(o.from,o.to,o.velocity),c=fDe(l,2),d=c[0],u=c[1];return br(br({},o),{},{from:d,velocity:u})}return o},n);return a<1?xf(function(i,o){return KP(o)?br(br({},o),{},{velocity:db(o.velocity,s[i].velocity,a),from:db(o.from,s[i].from,a)}):o},n):e(t,s,a-1)};const vDe=function(e,t,n,a,s){var i=YMe(e,t),o=i.reduce(function(x,y){return br(br({},x),{},qP({},y,[e[y],t[y]]))},{}),l=i.reduce(function(x,y){return br(br({},x),{},qP({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,d,u,m=function(){return null},h=function(){return xf(function(y,v){return v.from},l)},f=function(){return!Object.values(l).filter(KP).length},g=function(y){d||(d=y);var v=y-d,b=v/n.dt;l=yDe(n,l,b),s(br(br(br({},e),t),h())),d=y,f()||(c=requestAnimationFrame(m))},p=function(y){u||(u=y);var v=(y-u)/a,b=xf(function(w,k){return db.apply(void 0,c5(k).concat([n(v)]))},o);if(s(br(br(br({},e),t),b)),v<1)c=requestAnimationFrame(m);else{var N=xf(function(w,k){return db.apply(void 0,c5(k).concat([n(1)]))},o);s(br(br(br({},e),t),N))}};return m=n.isStepper?g:p,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}var bDe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wDe(e,t){if(e==null)return{};var n=jDe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function jDe(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function kN(e){return SDe(e)||PDe(e)||kDe(e)||NDe()}function NDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kDe(e,t){if(e){if(typeof e=="string")return WP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WP(e,t)}}function PDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SDe(e){if(Array.isArray(e))return WP(e)}function WP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(n),!0).forEach(function(a){Yh(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Yh(e,t,n){return t=tW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CDe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,tW(a.key),a)}}function ADe(e,t,n){return t&&CDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tW(e){var t=TDe(e,"string");return fm(t)==="symbol"?t:String(t)}function TDe(e,t){if(fm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(fm(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ODe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HP(e,t)}function HP(e,t){return HP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},HP(e,t)}function EDe(e){var t=RDe();return function(){var a=ub(e),s;if(t){var i=ub(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return GP(this,s)}}function GP(e,t){if(t&&(fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YP(e)}function YP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ub(e){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ub(e)}var wi=function(e){ODe(n,e);var t=EDe(n);function n(a,s){var i;_De(this,n),i=t.call(this,a,s);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,m=o.steps,h=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(YP(i)),i.changeStyle=i.changeStyle.bind(YP(i)),!l||f<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),GP(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof h=="function")return i.state={style:d},GP(i);i.state={style:c?Yh({},c,d):d}}else i.state={style:{}};return i}return ADe(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,m=i.from,h=this.state.style;if(l){if(!o){var f={style:c?Yh({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(f);return}if(!(FMe(s.to,u)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||d?m:s.to;if(this.state&&h){var x={style:c?Yh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(x)}this.runAnimation(bs(bs({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,d=s.easing,u=s.begin,m=s.onAnimationEnd,h=s.onAnimationStart,f=vDe(o,l,lDe(d),c,this.changeStyle),g=function(){i.stopJSAnimation=f()};this.manager.start([h,u,g,c,m])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],u=d.style,m=d.duration,h=m===void 0?0:m,f=function(p,x,y){if(y===0)return p;var v=x.duration,b=x.easing,N=b===void 0?"ease":b,w=x.style,k=x.properties,P=x.onAnimationEnd,_=y>0?o[y-1]:x,T=k||Object.keys(w);if(typeof N=="function"||N==="spring")return[].concat(kN(p),[i.runJSAnimation.bind(i,{from:_.style,to:w,duration:v,easing:N}),v]);var I=i5(T,v,N),A=bs(bs(bs({},_.style),w),{},{transition:I});return[].concat(kN(p),[A,v,P]).filter(JMe)};return this.manager.start([c].concat(kN(o.reduce(f,[u,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=WMe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,m=s.onAnimationEnd,h=s.steps,f=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof d=="function"||typeof f=="function"||d==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?Yh({},l,c):c,x=i5(Object.keys(p),o,d);g.start([u,i,bs(bs({},p),{},{transition:x}),o,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=wDe(s,bDe),d=j.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var m=function(f){var g=f.props,p=g.style,x=p===void 0?{}:p,y=g.className,v=j.cloneElement(f,bs(bs({},c),{},{style:bs(bs({},x),u),className:y}));return v};return d===1?m(j.Children.only(i)):U.createElement("div",null,j.Children.map(i,function(h){return m(h)}))}}]),n}(j.PureComponent);wi.displayName="Animate";wi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wi.propTypes={from:Bt.oneOfType([Bt.object,Bt.string]),to:Bt.oneOfType([Bt.object,Bt.string]),attributeName:Bt.string,duration:Bt.number,begin:Bt.number,easing:Bt.oneOfType([Bt.string,Bt.func]),steps:Bt.arrayOf(Bt.shape({duration:Bt.number.isRequired,style:Bt.object.isRequired,easing:Bt.oneOfType([Bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Bt.func]),properties:Bt.arrayOf("string"),onAnimationEnd:Bt.func})),children:Bt.oneOfType([Bt.node,Bt.func]),isActive:Bt.bool,canBegin:Bt.bool,onAnimationEnd:Bt.func,shouldReAnimate:Bt.bool,onAnimationStart:Bt.func,onAnimationReStart:Bt.func};function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mb.apply(this,arguments)}function MDe(e,t){return $De(e)||LDe(e,t)||IDe(e,t)||DDe()}function DDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IDe(e,t){if(e){if(typeof e=="string")return m5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m5(e,t)}}function m5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function LDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function $De(e){if(Array.isArray(e))return e}function h5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function f5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(n),!0).forEach(function(a){FDe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function FDe(e,t,n){return t=BDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BDe(e){var t=UDe(e,"string");return Fp(t)=="symbol"?t:t+""}function UDe(e,t){if(Fp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Fp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p5=function(t,n,a,s,i){var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,u;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],h=0,f=4;h<f;h++)m[h]=i[h]>o?o:i[h];u="M".concat(t,",").concat(n+l*m[0]),m[0]>0&&(u+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+c*m[0],",").concat(n)),u+="L ".concat(t+a-c*m[1],",").concat(n),m[1]>0&&(u+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+a,",").concat(n+l*m[1])),u+="L ".concat(t+a,",").concat(n+s-l*m[2]),m[2]>0&&(u+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+a-c*m[2],",").concat(n+s)),u+="L ".concat(t+c*m[3],",").concat(n+s),m[3]>0&&(u+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+s-l*m[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);u="M ".concat(t,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+c*g,",").concat(n,`
            L `).concat(t+a-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+a,",").concat(n+l*g,`
            L `).concat(t+a,",").concat(n+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+a-c*g,",").concat(n+s,`
            L `).concat(t+c*g,",").concat(n+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t,",").concat(n+s-l*g," Z")}else u="M ".concat(t,",").concat(n," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return u},VDe=function(t,n){if(!t||!n)return!1;var a=t.x,s=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),m=Math.min(o,o+c),h=Math.max(o,o+c);return a>=d&&a<=u&&s>=m&&s<=h}return!1},qDe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_A=function(t){var n=f5(f5({},qDe),t),a=j.useRef(),s=j.useState(-1),i=MDe(s,2),o=i[0],l=i[1];j.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var N=a.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,d=n.y,u=n.width,m=n.height,h=n.radius,f=n.className,g=n.animationEasing,p=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,v=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||u===0||m===0)return null;var b=ft("recharts-rectangle",f);return v?U.createElement(wi,{canBegin:o>0,from:{width:u,height:m,x:c,y:d},to:{width:u,height:m,x:c,y:d},duration:p,animationEasing:g,isActive:v},function(N){var w=N.width,k=N.height,P=N.x,_=N.y;return U.createElement(wi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:y,easing:g},U.createElement("path",mb({},He(n,!0),{className:b,d:p5(P,_,w,k,h),ref:a})))}):U.createElement("path",mb({},He(n,!0),{className:b,d:p5(c,d,u,m,h)}))},zDe=["points","className","baseLinePoints","connectNulls"];function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},nu.apply(this,arguments)}function KDe(e,t){if(e==null)return{};var n=WDe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function WDe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function g5(e){return JDe(e)||YDe(e)||GDe(e)||HDe()}function HDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GDe(e,t){if(e){if(typeof e=="string")return JP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JP(e,t)}}function YDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JDe(e){if(Array.isArray(e))return JP(e)}function JP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var x5=function(t){return t&&t.x===+t.x&&t.y===+t.y},QDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(a){x5(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),x5(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},yf=function(t,n){var a=QDe(t);n&&(a=[a.reduce(function(i,o){return[].concat(g5(i),g5(o))},[])]);var s=a.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},XDe=function(t,n,a){var s=yf(t,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(yf(n.reverse(),a).slice(1))},ZDe=function(t){var n=t.points,a=t.className,s=t.baseLinePoints,i=t.connectNulls,o=KDe(t,zDe);if(!n||!n.length)return null;var l=ft("recharts-polygon",a);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=XDe(n,s,i);return U.createElement("g",{className:l},U.createElement("path",nu({},He(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?U.createElement("path",nu({},He(o,!0),{fill:"none",d:yf(n,i)})):null,c?U.createElement("path",nu({},He(o,!0),{fill:"none",d:yf(s,i)})):null)}var u=yf(n,i);return U.createElement("path",nu({},He(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function QP(){return QP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},QP.apply(this,arguments)}var xw=function(t){var n=t.cx,a=t.cy,s=t.r,i=t.className,o=ft("recharts-dot",i);return n===+n&&a===+a&&s===+s?U.createElement("circle",QP({},He(t,!1),Ev(t),{className:o,cx:n,cy:a,r:s})):null};function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}var e4e=["x","y","top","left","width","height","className"];function XP(){return XP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},XP.apply(this,arguments)}function y5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function t4e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y5(Object(n),!0).forEach(function(a){n4e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function n4e(e,t,n){return t=r4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r4e(e){var t=a4e(e,"string");return Bp(t)=="symbol"?t:t+""}function a4e(e,t){if(Bp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Bp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s4e(e,t){if(e==null)return{};var n=i4e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function i4e(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var o4e=function(t,n,a,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(a)},l4e=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,m=u===void 0?0:u,h=t.height,f=h===void 0?0:h,g=t.className,p=s4e(t,e4e),x=t4e({x:a,y:i,top:l,left:d,width:m,height:f},p);return!Se(a)||!Se(i)||!Se(m)||!Se(f)||!Se(l)||!Se(d)?null:U.createElement("path",XP({},He(x,!0),{className:ft("recharts-cross",g),d:o4e(a,i,m,f,l,d)}))},c4e=mw,d4e=hK,u4e=ki;function m4e(e,t){return e&&e.length?c4e(e,u4e(t),d4e):void 0}var h4e=m4e;const f4e=Vt(h4e);var p4e=mw,g4e=ki,x4e=fK;function y4e(e,t){return e&&e.length?p4e(e,g4e(t),x4e):void 0}var v4e=y4e;const b4e=Vt(v4e);var w4e=["cx","cy","angle","ticks","axisLine"],j4e=["ticks","tick","angle","tickFormatter","stroke"];function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vf.apply(this,arguments)}function v5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Yl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(n),!0).forEach(function(a){yw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function b5(e,t){if(e==null)return{};var n=N4e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function N4e(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function k4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w5(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,rW(a.key),a)}}function P4e(e,t,n){return t&&w5(e.prototype,t),n&&w5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S4e(e,t,n){return t=hb(t),_4e(e,nW()?Reflect.construct(t,n||[],hb(e).constructor):t.apply(e,n))}function _4e(e,t){if(t&&(pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C4e(e)}function C4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nW=function(){return!!e})()}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hb(e)}function A4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZP(e,t)}function ZP(e,t){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ZP(e,t)}function yw(e,t,n){return t=rW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rW(e){var t=T4e(e,"string");return pm(t)=="symbol"?t:t+""}function T4e(e,t){if(pm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(pm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vw=function(e){function t(){return k4e(this,t),S4e(this,t,arguments)}return A4e(t,e),P4e(t,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return nn(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=f4e(l,function(u){return u.coordinate||0}),d=b4e(l,function(u){return u.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=a.axisLine,d=b5(a,w4e),u=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),m=nn(s,i,u[0],o),h=nn(s,i,u[1],o),f=Yl(Yl(Yl({},He(d,!1)),{},{fill:"none"},He(c,!1)),{},{x1:m.x,y1:m.y,x2:h.x,y2:h.y});return U.createElement("line",vf({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,u=b5(s,j4e),m=this.getTickTextAnchor(),h=He(u,!1),f=He(o,!1),g=i.map(function(p,x){var y=a.getTickValueCoord(p),v=Yl(Yl(Yl(Yl({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:d},f),{},{index:x},y),{},{payload:p});return U.createElement($t,vf({className:ft("recharts-polar-radius-axis-tick",VK(o)),key:"tick-".concat(p.coordinate)},Zc(a.props,p,x)),t.renderTickItem(o,v,c?c(p.value,x):p.value))});return U.createElement($t,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,o=a.tick;return!s||!s.length?null:U.createElement($t,{className:ft("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),mr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return U.isValidElement(a)?o=U.cloneElement(a,s):nt(a)?o=a(s):o=U.createElement(ed,vf({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(j.PureComponent);yw(vw,"displayName","PolarRadiusAxis");yw(vw,"axisType","radiusAxis");yw(vw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lc.apply(this,arguments)}function j5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Jl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(n),!0).forEach(function(a){bw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function O4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N5(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sW(a.key),a)}}function E4e(e,t,n){return t&&N5(e.prototype,t),n&&N5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R4e(e,t,n){return t=fb(t),M4e(e,aW()?Reflect.construct(t,n||[],fb(e).constructor):t.apply(e,n))}function M4e(e,t){if(t&&(gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D4e(e)}function D4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aW=function(){return!!e})()}function fb(e){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fb(e)}function I4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}function eS(e,t){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},eS(e,t)}function bw(e,t,n){return t=sW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sW(e){var t=L4e(e,"string");return gm(t)=="symbol"?t:t+""}function L4e(e,t){if(gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $4e=Math.PI/180,k5=1e-5,ww=function(e){function t(){return O4e(this,t),R4e(this,t,arguments)}return I4e(t,e),E4e(t,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,u=d||8,m=nn(i,o,l,a.coordinate),h=nn(i,o,l+(c==="inner"?-1:1)*u,a.coordinate);return{x1:m.x,y1:m.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*$4e),o;return i>k5?o=s==="outer"?"start":"end":i<-k5?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.radius,l=a.axisLine,c=a.axisLineType,d=Jl(Jl({},He(this.props,!1)),{},{fill:"none"},He(l,!1));if(c==="circle")return U.createElement(xw,lc({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var u=this.props.ticks,m=u.map(function(h){return nn(s,i,o,h.coordinate)});return U.createElement(ZDe,lc({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,u=He(this.props,!1),m=He(o,!1),h=Jl(Jl({},u),{},{fill:"none"},He(l,!1)),f=i.map(function(g,p){var x=a.getTickLineCoord(g),y=a.getTickTextAnchor(g),v=Jl(Jl(Jl({textAnchor:y},u),{},{stroke:"none",fill:d},m),{},{index:p,payload:g,x:x.x2,y:x.y2});return U.createElement($t,lc({className:ft("recharts-polar-angle-axis-tick",VK(o)),key:"tick-".concat(g.coordinate)},Zc(a.props,g,p)),l&&U.createElement("line",lc({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,v,c?c(g.value,p):g.value))});return U.createElement($t,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,o=a.axisLine;return i<=0||!s||!s.length?null:U.createElement($t,{className:ft("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var o;return U.isValidElement(a)?o=U.cloneElement(a,s):nt(a)?o=a(s):o=U.createElement(ed,lc({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(j.PureComponent);bw(ww,"displayName","PolarAngleAxis");bw(ww,"axisType","angleAxis");bw(ww,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var F4e=cz,B4e=F4e(Object.getPrototypeOf,Object),U4e=B4e,V4e=po,q4e=U4e,z4e=go,K4e="[object Object]",W4e=Function.prototype,H4e=Object.prototype,iW=W4e.toString,G4e=H4e.hasOwnProperty,Y4e=iW.call(Object);function J4e(e){if(!z4e(e)||V4e(e)!=K4e)return!1;var t=q4e(e);if(t===null)return!0;var n=G4e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&iW.call(n)==Y4e}var Q4e=J4e;const X4e=Vt(Q4e);var Z4e=po,e5e=go,t5e="[object Boolean]";function n5e(e){return e===!0||e===!1||e5e(e)&&Z4e(e)==t5e}var r5e=n5e;const a5e=Vt(r5e);function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pb.apply(this,arguments)}function s5e(e,t){return c5e(e)||l5e(e,t)||o5e(e,t)||i5e()}function i5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o5e(e,t){if(e){if(typeof e=="string")return P5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P5(e,t)}}function P5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function l5e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function c5e(e){if(Array.isArray(e))return e}function S5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function _5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(n),!0).forEach(function(a){d5e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function d5e(e,t,n){return t=u5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u5e(e){var t=m5e(e,"string");return Up(t)=="symbol"?t:t+""}function m5e(e,t){if(Up(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Up(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C5=function(t,n,a,s,i){var o=a-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+a,",").concat(n),l+="L ".concat(t+a-o/2,",").concat(n+i),l+="L ".concat(t+a-o/2-s,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},h5e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f5e=function(t){var n=_5(_5({},h5e),t),a=j.useRef(),s=j.useState(-1),i=s5e(s,2),o=i[0],l=i[1];j.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var b=a.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,m=n.lowerWidth,h=n.height,f=n.className,g=n.animationEasing,p=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||h!==+h||u===0&&m===0||h===0)return null;var v=ft("recharts-trapezoid",f);return y?U.createElement(wi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:m,height:h,x:c,y:d},duration:p,animationEasing:g,isActive:y},function(b){var N=b.upperWidth,w=b.lowerWidth,k=b.height,P=b.x,_=b.y;return U.createElement(wi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:g},U.createElement("path",pb({},He(n,!0),{className:v,d:C5(P,_,N,w,k),ref:a})))}):U.createElement("g",null,U.createElement("path",pb({},He(n,!0),{className:v,d:C5(c,d,u,m,h)})))},p5e=["option","shapeType","propTransformer","activeClassName","isActive"];function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function g5e(e,t){if(e==null)return{};var n=x5e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function x5e(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function A5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function gb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(n),!0).forEach(function(a){y5e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function y5e(e,t,n){return t=v5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v5e(e){var t=b5e(e,"string");return Vp(t)=="symbol"?t:t+""}function b5e(e,t){if(Vp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Vp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w5e(e,t){return gb(gb({},t),e)}function j5e(e,t){return e==="symbols"}function T5(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return U.createElement(_A,n);case"trapezoid":return U.createElement(f5e,n);case"sector":return U.createElement(KK,n);case"symbols":if(j5e(t))return U.createElement(WC,n);break;default:return null}}function N5e(e){return j.isValidElement(e)?e.props:e}function oW(e){var t=e.option,n=e.shapeType,a=e.propTransformer,s=a===void 0?w5e:a,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=g5e(e,p5e),d;if(j.isValidElement(t))d=j.cloneElement(t,gb(gb({},c),N5e(t)));else if(nt(t))d=t(c);else if(X4e(t)&&!a5e(t)){var u=s(t,c);d=U.createElement(T5,{shapeType:n,elementProps:u})}else{var m=c;d=U.createElement(T5,{shapeType:n,elementProps:m})}return l?U.createElement($t,{className:o},d):d}function jw(e,t){return t!=null&&"trapezoids"in e.props}function Nw(e,t){return t!=null&&"sectors"in e.props}function qp(e,t){return t!=null&&"points"in e.props}function k5e(e,t){var n,a,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function P5e(e,t){var n=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return n&&a}function S5e(e,t){var n=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return n&&a&&s}function _5e(e,t){var n;return jw(e,t)?n=k5e:Nw(e,t)?n=P5e:qp(e,t)&&(n=S5e),n}function C5e(e,t){var n;return jw(e,t)?n="trapezoids":Nw(e,t)?n="sectors":qp(e,t)&&(n="points"),n}function A5e(e,t){if(jw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Nw(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return qp(e,t)?t.payload:{}}function T5e(e){var t=e.activeTooltipItem,n=e.graphicalItem,a=e.itemData,s=C5e(n,t),i=A5e(n,t),o=a.filter(function(c,d){var u=Ug(i,c),m=n.props[s].filter(function(g){var p=_5e(n,t);return p(g,t)}),h=n.props[s].indexOf(m[m.length-1]),f=d===h;return u&&f}),l=a.indexOf(o[o.length-1]);return l}var yy;function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ru.apply(this,arguments)}function O5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O5(Object(n),!0).forEach(function(a){ns(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function O5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E5(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cW(a.key),a)}}function E5e(e,t,n){return t&&E5(e.prototype,t),n&&E5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R5e(e,t,n){return t=xb(t),M5e(e,lW()?Reflect.construct(t,n||[],xb(e).constructor):t.apply(e,n))}function M5e(e,t){if(t&&(xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D5e(e)}function D5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lW=function(){return!!e})()}function xb(e){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xb(e)}function I5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}function tS(e,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},tS(e,t)}function ns(e,t,n){return t=cW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cW(e){var t=L5e(e,"string");return xm(t)=="symbol"?t:t+""}function L5e(e,t){if(xm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(xm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yo=function(e){function t(n){var a;return O5e(this,t),a=R5e(this,t,[n]),ns(a,"pieRef",null),ns(a,"sectorRefs",[]),ns(a,"id",rh("recharts-pie-")),ns(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),nt(s)&&s()}),ns(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),nt(s)&&s()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return I5e(t,e),E5e(t,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=He(this.props,!1),m=He(o,!1),h=He(l,!1),f=o&&o.offsetRadius||20,g=a.map(function(p,x){var y=(p.startAngle+p.endAngle)/2,v=nn(p.cx,p.cy,p.outerRadius+f,y),b=Zt(Zt(Zt(Zt({},u),p),{},{stroke:"none"},m),{},{index:x,textAnchor:t.getTextAnchor(v.x,p.cx)},v),N=Zt(Zt(Zt(Zt({},u),p),{},{fill:"none",stroke:p.fill},h),{},{index:x,points:[nn(p.cx,p.cy,p.outerRadius,y),v]}),w=c;return mt(c)&&mt(d)?w="value":mt(c)&&(w=d),U.createElement($t,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,b,ar(p,w)))});return U.createElement($t,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return a.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&a.length!==1)return null;var m=s.isActiveIndex(u),h=c&&s.hasActiveIndex()?c:null,f=m?o:h,g=Zt(Zt({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return U.createElement($t,ru({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Zc(s.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),U.createElement(oW,ru({option:f,isActive:m,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,m=this.state,h=m.prevSectors,f=m.prevIsAnimationActive;return U.createElement(wi,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,x=[],y=i&&i[0],v=y.startAngle;return i.forEach(function(b,N){var w=h&&h[N],k=N>0?La(b,"paddingAngle",0):0;if(w){var P=_a(w.endAngle-w.startAngle,b.endAngle-b.startAngle),_=Zt(Zt({},b),{},{startAngle:v+k,endAngle:v+P(p)+k});x.push(_),v=_.endAngle}else{var T=b.endAngle,I=b.startAngle,A=_a(0,T-I),R=A(p),E=Zt(Zt({},b),{},{startAngle:v+k,endAngle:v+R+k});x.push(E),v=E.endAngle}}),U.createElement($t,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Ug(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,u=s.cy,m=s.innerRadius,h=s.outerRadius,f=s.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Se(d)||!Se(u)||!Se(m)||!Se(h))return null;var p=ft("recharts-pie",l);return U.createElement($t,{tabIndex:this.props.rootTabIndex,className:p,ref:function(y){a.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),mr.renderCallByParent(this.props,null,!1),(!f||g)&&Yi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(U.isValidElement(a))return U.cloneElement(a,s);if(nt(a))return a(s);var o=ft("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return U.createElement(lb,ru({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(a,s,i){if(U.isValidElement(a))return U.cloneElement(a,s);var o=i;if(nt(a)&&(o=a(s),U.isValidElement(o)))return o;var l=ft("recharts-pie-label-text",typeof a!="boolean"&&!nt(a)?a.className:"");return U.createElement(ed,ru({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(j.PureComponent);yy=yo;ns(yo,"displayName","Pie");ns(yo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ns(yo,"parseDeltaAngle",function(e,t){var n=Wr(t-e),a=Math.min(Math.abs(t-e),360);return n*a});ns(yo,"getRealPieData",function(e){var t=e.data,n=e.children,a=He(e,!1),s=$a(n,sw);return t&&t.length?t.map(function(i,o){return Zt(Zt(Zt({payload:i},a),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Zt(Zt({},a),i.props)}):[]});ns(yo,"parseCoordinateOfPie",function(e,t){var n=t.top,a=t.left,s=t.width,i=t.height,o=UK(s,i),l=a+Hr(e.cx,s,s/2),c=n+Hr(e.cy,i,i/2),d=Hr(e.innerRadius,o,0),u=Hr(e.outerRadius,o,o*.8),m=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:m}});ns(yo,"getComposedData",function(e){var t=e.item,n=e.offset,a=t.type.defaultProps!==void 0?Zt(Zt({},t.type.defaultProps),t.props):t.props,s=yy.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,o=a.startAngle,l=a.endAngle,c=a.paddingAngle,d=a.dataKey,u=a.nameKey,m=a.valueKey,h=a.tooltipType,f=Math.abs(a.minAngle),g=yy.parseCoordinateOfPie(a,n),p=yy.parseDeltaAngle(o,l),x=Math.abs(p),y=d;mt(d)&&mt(m)?(Vs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):mt(d)&&(Vs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=m);var v=s.filter(function(_){return ar(_,y,0)!==0}).length,b=(x>=360?v:v-1)*c,N=x-v*f-b,w=s.reduce(function(_,T){var I=ar(T,y,0);return _+(Se(I)?I:0)},0),k;if(w>0){var P;k=s.map(function(_,T){var I=ar(_,y,0),A=ar(_,u,T),R=(Se(I)?I:0)/w,E;T?E=P.endAngle+Wr(p)*c*(I!==0?1:0):E=o;var L=E+Wr(p)*((I!==0?f:0)+R*N),$=(E+L)/2,B=(g.innerRadius+g.outerRadius)/2,K=[{name:A,value:I,payload:_,dataKey:y,type:h}],S=nn(g.cx,g.cy,B,$);return P=Zt(Zt(Zt({percent:R,cornerRadius:i,name:A,tooltipPayload:K,midAngle:$,middleRadius:B,tooltipPosition:S},_),g),{},{value:ar(_,y),startAngle:E,endAngle:L,payload:_,paddingAngle:Wr(p)*c}),P})}return Zt(Zt({},g),{},{sectors:k,data:s})});var $5e=Math.ceil,F5e=Math.max;function B5e(e,t,n,a){for(var s=-1,i=F5e($5e((t-e)/(n||1)),0),o=Array(i);i--;)o[a?i:++s]=e,e+=n;return o}var U5e=B5e,V5e=Cz,R5=1/0,q5e=17976931348623157e292;function z5e(e){if(!e)return e===0?e:0;if(e=V5e(e),e===R5||e===-R5){var t=e<0?-1:1;return t*q5e}return e===e?e:0}var dW=z5e,K5e=U5e,W5e=aw,PN=dW;function H5e(e){return function(t,n,a){return a&&typeof a!="number"&&W5e(t,n,a)&&(n=a=void 0),t=PN(t),n===void 0?(n=t,t=0):n=PN(n),a=a===void 0?t<n?1:-1:PN(a),K5e(t,n,a,e)}}var G5e=H5e,Y5e=G5e,J5e=Y5e(),Q5e=J5e;const yb=Vt(Q5e);function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function M5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function D5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(n),!0).forEach(function(a){uW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function uW(e,t,n){return t=X5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X5e(e){var t=Z5e(e,"string");return zp(t)=="symbol"?t:t+""}function Z5e(e,t){if(zp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(zp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eIe=["Webkit","Moz","O","ms"],tIe=function(t,n){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=eIe.reduce(function(i,o){return D5(D5({},i),{},uW({},o+a,n))},{});return s[t]=n,s};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vb.apply(this,arguments)}function I5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function SN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I5(Object(n),!0).forEach(function(a){ba(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function nIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L5(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,hW(a.key),a)}}function rIe(e,t,n){return t&&L5(e.prototype,t),n&&L5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aIe(e,t,n){return t=bb(t),sIe(e,mW()?Reflect.construct(t,n||[],bb(e).constructor):t.apply(e,n))}function sIe(e,t){if(t&&(ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iIe(e)}function iIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mW=function(){return!!e})()}function bb(e){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bb(e)}function oIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},nS(e,t)}function ba(e,t,n){return t=hW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hW(e){var t=lIe(e,"string");return ym(t)=="symbol"?t:t+""}function lIe(e,t){if(ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(ym(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cIe=function(t){var n=t.data,a=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=pf().domain(yb(0,c)).range([i,i+o-l]),u=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(s),scale:d,scaleValues:u}},$5=function(t){return t.changedTouches&&!!t.changedTouches.length},vm=function(e){function t(n){var a;return nIe(this,t),a=aIe(this,t,[n]),ba(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),ba(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),ba(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),a.detachDragEndListener()}),ba(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),ba(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),ba(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),ba(a,"handleSlideDragStart",function(s){var i=$5(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return oIe(t,e),rIe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,m=Math.min(s,i),h=Math.max(s,i),f=t.getIndexInRange(o,m),g=t.getIndexInRange(o,h);return{startIndex:f-f%c,endIndex:g===u?u:g-g%c}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=ar(i[a],l,a);return nt(o)?o(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,u=c.width,m=c.travellerWidth,h=c.startIndex,f=c.endIndex,g=c.onChange,p=a.pageX-i;p>0?p=Math.min(p,d+u-m-l,d+u-m-o):p<0&&(p=Math.max(p,d-o,d-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==h||x.endIndex!==f)&&g&&g(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=$5(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],u=this.props,m=u.x,h=u.width,f=u.travellerWidth,g=u.onChange,p=u.gap,x=u.data,y={startX:this.state.startX,endX:this.state.endX},v=a.pageX-i;v>0?v=Math.min(v,m+h-f-d):v<0&&(v=Math.max(v,m-d)),y[o]=d+v;var b=this.getIndex(y),N=b.startIndex,w=b.endIndex,k=function(){var _=x.length-1;return o==="startX"&&(l>c?N%p===0:w%p===0)||l<c&&w===_||o==="endX"&&(l>c?w%p===0:N%p===0)||l>c&&w===_};this.setState(ba(ba({},o,d+v),"brushMoveStartX",a.pageX),function(){g&&k()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[s],m=l.indexOf(u);if(m!==-1){var h=m+a;if(!(h===-1||h>=l.length)){var f=l[h];s==="startX"&&f>=d||s==="endX"&&f<=c||this.setState(ba({},s,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.fill,d=a.stroke;return U.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.data,d=a.children,u=a.padding,m=j.Children.only(d);return m?U.cloneElement(m,{x:s,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,m=c.height,h=c.traveller,f=c.ariaLabel,g=c.data,p=c.startIndex,x=c.endIndex,y=Math.max(a,this.props.x),v=SN(SN({},He(this.props,!1)),{},{x:y,y:d,width:u,height:m}),b=f||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return U.createElement($t,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(a,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(a,s)+d,m=Math.max(Math.abs(s-a)-d,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:m,height:l})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,o=a.y,l=a.height,c=a.travellerWidth,d=a.stroke,u=this.state,m=u.startX,h=u.endX,f=5,g={pointerEvents:"none",fill:d};return U.createElement($t,{className:"recharts-brush-texts"},U.createElement(ed,vb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,h)-f,y:o+l/2},g),this.getTextOfTick(s)),U.createElement(ed,vb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,h)+c+f,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,o=a.children,l=a.x,c=a.y,d=a.width,u=a.height,m=a.alwaysShowText,h=this.state,f=h.startX,g=h.endX,p=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,v=h.isTravellerFocused;if(!s||!s.length||!Se(l)||!Se(c)||!Se(d)||!Se(u)||d<=0||u<=0)return null;var b=ft("recharts-brush",i),N=U.Children.count(o)===1,w=tIe("userSelect","none");return U.createElement($t,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(p||x||y||v||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,o=a.width,l=a.height,c=a.stroke,d=Math.floor(i+l/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),U.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return U.isValidElement(a)?i=U.cloneElement(a,s):nt(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,o=a.width,l=a.x,c=a.travellerWidth,d=a.updateId,u=a.startIndex,m=a.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return SN({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?cIe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(f){return s.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);a[c]>s?l=c:o=c}return s>=a[l]?l:o}}])}(j.PureComponent);ba(vm,"displayName","Brush");ba(vm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dIe=ZC;function uIe(e,t){var n;return dIe(e,function(a,s,i){return n=t(a,s,i),!n}),!!n}var mIe=uIe,hIe=tz,fIe=ki,pIe=mIe,gIe=xa,xIe=aw;function yIe(e,t,n){var a=gIe(e)?hIe:pIe;return n&&xIe(e,t,n)&&(t=void 0),a(e,fIe(t))}var vIe=yIe;const bIe=Vt(vIe);var gi=function(t,n){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===n},F5=Nz;function wIe(e,t,n){t=="__proto__"&&F5?F5(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var jIe=wIe,NIe=jIe,kIe=wz,PIe=ki;function SIe(e,t){var n={};return t=PIe(t),kIe(e,function(a,s,i){NIe(n,s,t(a,s,i))}),n}var _Ie=SIe;const CIe=Vt(_Ie);function AIe(e,t){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!t(e[n],n,e))return!1;return!0}var TIe=AIe,OIe=ZC;function EIe(e,t){var n=!0;return OIe(e,function(a,s,i){return n=!!t(a,s,i),n}),n}var RIe=EIe,MIe=TIe,DIe=RIe,IIe=ki,LIe=xa,$Ie=aw;function FIe(e,t,n){var a=LIe(e)?MIe:DIe;return n&&$Ie(e,t,n)&&(t=void 0),a(e,IIe(t))}var BIe=FIe;const fW=Vt(BIe);var UIe=["x","y"];function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rS.apply(this,arguments)}function B5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B5(Object(n),!0).forEach(function(a){VIe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function VIe(e,t,n){return t=qIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qIe(e){var t=zIe(e,"string");return Kp(t)=="symbol"?t:t+""}function zIe(e,t){if(Kp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Kp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KIe(e,t){if(e==null)return{};var n=WIe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function WIe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function HIe(e,t){var n=e.x,a=e.y,s=KIe(e,UIe),i="".concat(n),o=parseInt(i,10),l="".concat(a),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),m="".concat(t.width||s.width),h=parseInt(m,10);return Mh(Mh(Mh(Mh(Mh({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function U5(e){return U.createElement(oW,rS({shapeType:"rectangle",propTransformer:HIe,activeClassName:"recharts-active-bar"},e))}var GIe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=typeof a=="number";return i?t(a,s):(i||nd(),n)}},YIe=["value","background"],pW;function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function JIe(e,t){if(e==null)return{};var n=QIe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function QIe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},wb.apply(this,arguments)}function V5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V5(Object(n),!0).forEach(function(a){Xo(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function XIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q5(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xW(a.key),a)}}function ZIe(e,t,n){return t&&q5(e.prototype,t),n&&q5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function e3e(e,t,n){return t=jb(t),t3e(e,gW()?Reflect.construct(t,n||[],jb(e).constructor):t.apply(e,n))}function t3e(e,t){if(t&&(bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n3e(e)}function n3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gW=function(){return!!e})()}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jb(e)}function r3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aS(e,t)}function aS(e,t){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},aS(e,t)}function Xo(e,t,n){return t=xW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xW(e){var t=a3e(e,"string");return bm(t)=="symbol"?t:t+""}function a3e(e,t){if(bm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(bm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var El=function(e){function t(){var n;XIe(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=e3e(this,t,[].concat(s)),Xo(n,"state",{isAnimationFinished:!1}),Xo(n,"id",rh("recharts-bar-")),Xo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Xo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return r3e(t,e),ZIe(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=He(this.props,!1);return a&&a.map(function(m,h){var f=h===c,g=f?d:o,p=Vn(Vn(Vn({},u),m),{},{isActive:f,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return U.createElement($t,wb({className:"recharts-bar-rectangle"},Zc(s.props,m,h),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(h)}),U.createElement(U5,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,m=s.animationId,h=this.state.prevData;return U.createElement(wi,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,p=i.map(function(x,y){var v=h&&h[y];if(v){var b=_a(v.x,x.x),N=_a(v.y,x.y),w=_a(v.width,x.width),k=_a(v.height,x.height);return Vn(Vn({},x),{},{x:b(g),y:N(g),width:w(g),height:k(g)})}if(o==="horizontal"){var P=_a(0,x.height),_=P(g);return Vn(Vn({},x),{},{y:x.y+x.height-_,height:_})}var T=_a(0,x.width),I=T(g);return Vn(Vn({},x),{},{width:I})});return U.createElement($t,null,a.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Ug(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=He(this.props.background,!1);return i.map(function(d,u){d.value;var m=d.background,h=JIe(d,YIe);if(!m)return null;var f=Vn(Vn(Vn(Vn(Vn({},h),{},{fill:"#eee"},m),c),Zc(a.props,d,u)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return U.createElement(U5,wb({key:"background-bar-".concat(u),option:a.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=$a(u,Vg);if(!m)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,f=function(x,y){var v=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:v,errorVal:ar(x,y)}},g={clipPath:a?"url(#clipPath-".concat(s,")"):null};return U.createElement($t,g,m.map(function(p){return U.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,o=a.className,l=a.xAxis,c=a.yAxis,d=a.left,u=a.top,m=a.width,h=a.height,f=a.isAnimationActive,g=a.background,p=a.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,y=ft("recharts-bar",o),v=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,N=v||b,w=mt(p)?this.id:p;return U.createElement($t,{className:y},v||b?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(w)},U.createElement("rect",{x:v?d:d-m/2,y:b?u:u-h/2,width:v?m:m*2,height:b?h:h*2}))):null,U.createElement($t,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,w),(!f||x)&&Yi.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(j.PureComponent);pW=El;Xo(El,"displayName","Bar");Xo(El,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xo(El,"getComposedData",function(e){var t=e.props,n=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,m=e.displayedData,h=e.offset,f=$Ee(a,n);if(!f)return null;var g=t.layout,p=n.type.defaultProps,x=p!==void 0?Vn(Vn({},p),n.props):n.props,y=x.dataKey,v=x.children,b=x.minPointSize,N=g==="horizontal"?o:i,w=d?N.scale.domain():null,k=KEe({numericAxis:N}),P=$a(v,sw),_=m.map(function(T,I){var A,R,E,L,$,B;d?A=FEe(d[u+I],w):(A=ar(T,y),Array.isArray(A)||(A=[k,A]));var K=GIe(b,pW.defaultProps.minPointSize)(A[1],I);if(g==="horizontal"){var S,D=[o.scale(A[0]),o.scale(A[1])],G=D[0],q=D[1];R=E4({axis:i,ticks:l,bandSize:s,offset:f.offset,entry:T,index:I}),E=(S=q??G)!==null&&S!==void 0?S:void 0,L=f.size;var C=G-q;if($=Number.isNaN(C)?0:C,B={x:R,y:o.y,width:L,height:o.height},Math.abs(K)>0&&Math.abs($)<Math.abs(K)){var X=Wr($||K)*(Math.abs(K)-Math.abs($));E-=X,$+=X}}else{var Q=[i.scale(A[0]),i.scale(A[1])],xe=Q[0],Pe=Q[1];if(R=xe,E=E4({axis:o,ticks:c,bandSize:s,offset:f.offset,entry:T,index:I}),L=Pe-xe,$=f.size,B={x:i.x,y:E,width:i.width,height:$},Math.abs(K)>0&&Math.abs(L)<Math.abs(K)){var ee=Wr(L||K)*(Math.abs(K)-Math.abs(L));L+=ee}}return Vn(Vn(Vn({},T),{},{x:R,y:E,width:L,height:$,value:d?A:A[1],payload:T,background:B},P&&P[I]&&P[I].props),{},{tooltipPayload:[FK(n,T)],tooltipPosition:{x:R+L/2,y:E+$/2}})});return Vn({data:_,layout:g},h)});function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function s3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z5(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yW(a.key),a)}}function i3e(e,t,n){return t&&z5(e.prototype,t),n&&z5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function K5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(n),!0).forEach(function(a){kw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kw(e,t,n){return t=yW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yW(e){var t=o3e(e,"string");return Wp(t)=="symbol"?t:t+""}function o3e(e,t){if(Wp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Wp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vW=function(t,n,a,s,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(n),m={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},h=!!Na(d,El);return u.reduce(function(f,g){var p=n[g],x=p.orientation,y=p.domain,v=p.padding,b=v===void 0?{}:v,N=p.mirror,w=p.reversed,k="".concat(x).concat(N?"Mirror":""),P,_,T,I,A;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var R=y[1]-y[0],E=1/0,L=p.categoricalDomain.sort();if(L.forEach(function(Q,xe){xe>0&&(E=Math.min((Q||0)-(L[xe-1]||0),E))}),Number.isFinite(E)){var $=E/R,B=p.layout==="vertical"?a.height:a.width;if(p.padding==="gap"&&(P=$*B/2),p.padding==="no-gap"){var K=Hr(t.barCategoryGap,$*B),S=$*B/2;P=S-K-(S-K)/B*K}}}s==="xAxis"?_=[a.left+(b.left||0)+(P||0),a.left+a.width-(b.right||0)-(P||0)]:s==="yAxis"?_=c==="horizontal"?[a.top+a.height-(b.bottom||0),a.top+(b.top||0)]:[a.top+(b.top||0)+(P||0),a.top+a.height-(b.bottom||0)-(P||0)]:_=p.range,w&&(_=[_[1],_[0]]);var D=DK(p,i,h),G=D.scale,q=D.realScaleType;G.domain(y).range(_),IK(G);var C=LK(G,Cs(Cs({},p),{},{realScaleType:q}));s==="xAxis"?(A=x==="top"&&!N||x==="bottom"&&N,T=a.left,I=m[k]-A*p.height):s==="yAxis"&&(A=x==="left"&&!N||x==="right"&&N,T=m[k]-A*p.width,I=a.top);var X=Cs(Cs(Cs({},p),C),{},{realScaleType:q,x:T,y:I,scale:G,width:s==="xAxis"?a.width:p.width,height:s==="yAxis"?a.height:p.height});return X.bandSize=sb(X,C),!p.hide&&s==="xAxis"?m[k]+=(A?-1:1)*X.height:p.hide||(m[k]+=(A?-1:1)*X.width),Cs(Cs({},f),{},kw({},g,X))},{})},bW=function(t,n){var a=t.x,s=t.y,i=n.x,o=n.y;return{x:Math.min(a,i),y:Math.min(s,o),width:Math.abs(i-a),height:Math.abs(o-s)}},l3e=function(t){var n=t.x1,a=t.y1,s=t.x2,i=t.y2;return bW({x:n,y:a},{x:s,y:i})},wW=function(){function e(t){s3e(this,e),this.scale=t}return i3e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();kw(wW,"EPS",1e-4);var CA=function(t){var n=Object.keys(t).reduce(function(a,s){return Cs(Cs({},a),{},kw({},s,wW.create(t[s])))},{});return Cs(Cs({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return CIe(s,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return fW(s,function(i,o){return n[o].isInRange(i)})}})};function c3e(e){return(e%180+180)%180}var d3e=function(t){var n=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=c3e(s),o=i*Math.PI/180,l=Math.atan(a/n),c=o>l&&o<Math.PI-l?a/Math.sin(o):n/Math.cos(o);return Math.abs(c)},u3e=ki,m3e=Ig,h3e=nw;function f3e(e){return function(t,n,a){var s=Object(t);if(!m3e(t)){var i=u3e(n);t=h3e(t),n=function(l){return i(s[l],l,s)}}var o=e(t,n,a);return o>-1?s[i?t[o]:o]:void 0}}var p3e=f3e,g3e=dW;function x3e(e){var t=g3e(e),n=t%1;return t===t?n?t-n:t:0}var y3e=x3e,v3e=pz,b3e=ki,w3e=y3e,j3e=Math.max;function N3e(e,t,n){var a=e==null?0:e.length;if(!a)return-1;var s=n==null?0:w3e(n);return s<0&&(s=j3e(a+s,0)),v3e(e,b3e(t),s)}var k3e=N3e,P3e=p3e,S3e=k3e,_3e=P3e(S3e),C3e=_3e;const A3e=Vt(C3e);var T3e=Pve(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),AA=j.createContext(void 0),TA=j.createContext(void 0),jW=j.createContext(void 0),NW=j.createContext({}),kW=j.createContext(void 0),PW=j.createContext(0),SW=j.createContext(0),W5=function(t){var n=t.state,a=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=T3e(i);return U.createElement(AA.Provider,{value:a},U.createElement(TA.Provider,{value:s},U.createElement(NW.Provider,{value:i},U.createElement(jW.Provider,{value:u},U.createElement(kW.Provider,{value:o},U.createElement(PW.Provider,{value:d},U.createElement(SW.Provider,{value:c},l)))))))},O3e=function(){return j.useContext(kW)},_W=function(t){var n=j.useContext(AA);n==null&&nd();var a=n[t];return a==null&&nd(),a},E3e=function(){var t=j.useContext(AA);return $o(t)},R3e=function(){var t=j.useContext(TA),n=A3e(t,function(a){return fW(a.domain,Number.isFinite)});return n||$o(t)},CW=function(t){var n=j.useContext(TA);n==null&&nd();var a=n[t];return a==null&&nd(),a},M3e=function(){var t=j.useContext(jW);return t},D3e=function(){return j.useContext(NW)},OA=function(){return j.useContext(SW)},EA=function(){return j.useContext(PW)};function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function I3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L3e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,TW(a.key),a)}}function $3e(e,t,n){return t&&L3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F3e(e,t,n){return t=Nb(t),B3e(e,AW()?Reflect.construct(t,n||[],Nb(e).constructor):t.apply(e,n))}function B3e(e,t){if(t&&(wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U3e(e)}function U3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AW=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nb(e)}function V3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},sS(e,t)}function H5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function G5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(n),!0).forEach(function(a){RA(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function RA(e,t,n){return t=TW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TW(e){var t=q3e(e,"string");return wm(t)=="symbol"?t:t+""}function q3e(e,t){if(wm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(wm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z3e(e,t){return G3e(e)||H3e(e,t)||W3e(e,t)||K3e()}function K3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W3e(e,t){if(e){if(typeof e=="string")return Y5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y5(e,t)}}function Y5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function H3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function G3e(e){if(Array.isArray(e))return e}function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},iS.apply(this,arguments)}var Y3e=function(t,n){var a;return U.isValidElement(t)?a=U.cloneElement(t,n):nt(t)?a=t(n):a=U.createElement("line",iS({},n,{className:"recharts-reference-line-line"})),a},J3e=function(t,n,a,s,i,o,l,c,d){var u=i.x,m=i.y,h=i.width,f=i.height;if(a){var g=d.y,p=t.y.apply(g,{position:o});if(gi(d,"discard")&&!t.y.isInRange(p))return null;var x=[{x:u+h,y:p},{x:u,y:p}];return c==="left"?x.reverse():x}if(n){var y=d.x,v=t.x.apply(y,{position:o});if(gi(d,"discard")&&!t.x.isInRange(v))return null;var b=[{x:v,y:m+f},{x:v,y:m}];return l==="top"?b.reverse():b}if(s){var N=d.segment,w=N.map(function(k){return t.apply(k,{position:o})});return gi(d,"discard")&&bIe(w,function(k){return!t.isInRange(k)})?null:w}return null};function Q3e(e){var t=e.x,n=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=O3e(),u=_W(s),m=CW(i),h=M3e();if(!d||!h)return null;Vs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=CA({x:u.scale,y:m.scale}),g=ir(t),p=ir(n),x=a&&a.length===2,y=J3e(f,g,p,x,h,e.position,u.orientation,m.orientation,e);if(!y)return null;var v=z3e(y,2),b=v[0],N=b.x,w=b.y,k=v[1],P=k.x,_=k.y,T=gi(e,"hidden")?"url(#".concat(d,")"):void 0,I=G5(G5({clipPath:T},He(e,!0)),{},{x1:N,y1:w,x2:P,y2:_});return U.createElement($t,{className:ft("recharts-reference-line",l)},Y3e(o,I),mr.renderCallByParent(e,l3e({x1:N,y1:w,x2:P,y2:_})))}var MA=function(e){function t(){return I3e(this,t),F3e(this,t,arguments)}return V3e(t,e),$3e(t,[{key:"render",value:function(){return U.createElement(Q3e,this.props)}}])}(U.Component);RA(MA,"displayName","ReferenceLine");RA(MA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oS.apply(this,arguments)}function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function J5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Q5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J5(Object(n),!0).forEach(function(a){Pw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function X3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z3e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,EW(a.key),a)}}function eLe(e,t,n){return t&&Z3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tLe(e,t,n){return t=kb(t),nLe(e,OW()?Reflect.construct(t,n||[],kb(e).constructor):t.apply(e,n))}function nLe(e,t){if(t&&(jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rLe(e)}function rLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OW=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kb(e)}function aLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lS(e,t)}function lS(e,t){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},lS(e,t)}function Pw(e,t,n){return t=EW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EW(e){var t=sLe(e,"string");return jm(t)=="symbol"?t:t+""}function sLe(e,t){if(jm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(jm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iLe=function(t){var n=t.x,a=t.y,s=t.xAxis,i=t.yAxis,o=CA({x:s.scale,y:i.scale}),l=o.apply({x:n,y:a},{bandAware:!0});return gi(t,"discard")&&!o.isInRange(l)?null:l},Sw=function(e){function t(){return X3e(this,t),tLe(this,t,arguments)}return aLe(t,e),eLe(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,o=a.r,l=a.alwaysShow,c=a.clipPathId,d=ir(s),u=ir(i);if(Vs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var m=iLe(this.props);if(!m)return null;var h=m.x,f=m.y,g=this.props,p=g.shape,x=g.className,y=gi(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=Q5(Q5({clipPath:y},He(this.props,!0)),{},{cx:h,cy:f});return U.createElement($t,{className:ft("recharts-reference-dot",x)},t.renderDot(p,v),mr.renderCallByParent(this.props,{x:h-o,y:f-o,width:2*o,height:2*o}))}}])}(U.Component);Pw(Sw,"displayName","ReferenceDot");Pw(Sw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Pw(Sw,"renderDot",function(e,t){var n;return U.isValidElement(e)?n=U.cloneElement(e,t):nt(e)?n=e(t):n=U.createElement(xw,oS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cS.apply(this,arguments)}function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function X5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Z5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(n),!0).forEach(function(a){_w(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function oLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lLe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,MW(a.key),a)}}function cLe(e,t,n){return t&&lLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dLe(e,t,n){return t=Pb(t),uLe(e,RW()?Reflect.construct(t,n||[],Pb(e).constructor):t.apply(e,n))}function uLe(e,t){if(t&&(Nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mLe(e)}function mLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RW=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pb(e)}function hLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},dS(e,t)}function _w(e,t,n){return t=MW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=fLe(e,"string");return Nm(t)=="symbol"?t:t+""}function fLe(e,t){if(Nm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pLe=function(t,n,a,s,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,m=i.yAxis;if(!u||!m)return null;var h=CA({x:u.scale,y:m.scale}),f={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:a?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(d,{position:"end"}):h.y.rangeMax};return gi(i,"discard")&&(!h.isInRange(f)||!h.isInRange(g))?null:bW(f,g)},Cw=function(e){function t(){return oLe(this,t),dLe(this,t,arguments)}return hLe(t,e),cLe(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,o=a.y1,l=a.y2,c=a.className,d=a.alwaysShow,u=a.clipPathId;Vs(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ir(s),h=ir(i),f=ir(o),g=ir(l),p=this.props.shape;if(!m&&!h&&!f&&!g&&!p)return null;var x=pLe(m,h,f,g,this.props);if(!x&&!p)return null;var y=gi(this.props,"hidden")?"url(#".concat(u,")"):void 0;return U.createElement($t,{className:ft("recharts-reference-area",c)},t.renderRect(p,Z5(Z5({clipPath:y},He(this.props,!0)),x)),mr.renderCallByParent(this.props,x))}}])}(U.Component);_w(Cw,"displayName","ReferenceArea");_w(Cw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_w(Cw,"renderRect",function(e,t){var n;return U.isValidElement(e)?n=U.cloneElement(e,t):nt(e)?n=e(t):n=U.createElement(_A,cS({},t,{className:"recharts-reference-area-rect"})),n});function DW(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function gLe(e,t,n){var a={width:e.width+t.width,height:e.height+t.height};return d3e(a,n)}function xLe(e,t,n){var a=n==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:a?s:i,end:a?s+o:i+l}:{start:a?s+o:i+l,end:a?s:i}}function Sb(e,t,n,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function yLe(e,t){return DW(e,t+1)}function vLe(e,t,n,a,s){for(var i=(a||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,m=function(){var g=a==null?void 0:a[c];if(g===void 0)return{v:DW(a,d)};var p=c,x,y=function(){return x===void 0&&(x=n(g,p)),x},v=g.coordinate,b=c===0||Sb(e,v,y,u,l);b||(c=0,u=o,d+=1),b&&(u=v+e*(y()/2+s),c+=d)},h;d<=i.length;)if(h=m(),h)return h.v;return[]}function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(a){bLe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function bLe(e,t,n){return t=wLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wLe(e){var t=jLe(e,"string");return Hp(t)=="symbol"?t:t+""}function jLe(e,t){if(Hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Hp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NLe(e,t,n,a,s){for(var i=(a||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(h){var f=i[h],g,p=function(){return g===void 0&&(g=n(f,h)),g};if(h===o-1){var x=e*(f.coordinate+e*p()/2-c);i[h]=f=Er(Er({},f),{},{tickCoord:x>0?f.coordinate-x*e:f.coordinate})}else i[h]=f=Er(Er({},f),{},{tickCoord:f.coordinate});var y=Sb(e,f.tickCoord,p,l,c);y&&(c=f.tickCoord-e*(p()/2+s),i[h]=Er(Er({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function kLe(e,t,n,a,s,i){var o=(a||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=a[l-1],m=n(u,l-1),h=e*(u.coordinate+e*m/2-d);o[l-1]=u=Er(Er({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var f=Sb(e,u.tickCoord,function(){return m},c,d);f&&(d=u.tickCoord-e*(m/2+s),o[l-1]=Er(Er({},u),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(v){var b=o[v],N,w=function(){return N===void 0&&(N=n(b,v)),N};if(v===0){var k=e*(b.coordinate-e*w()/2-c);o[v]=b=Er(Er({},b),{},{tickCoord:k<0?b.coordinate-k*e:b.coordinate})}else o[v]=b=Er(Er({},b),{},{tickCoord:b.coordinate});var P=Sb(e,b.tickCoord,w,c,d);P&&(c=b.tickCoord+e*(w()/2+s),o[v]=Er(Er({},b),{},{isShow:!0}))},x=0;x<g;x++)p(x);return o}function DA(e,t,n){var a=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,m=e.angle;if(!s||!s.length||!a)return[];if(Se(c)||fi.isSsr)return yLe(s,typeof c=="number"&&Se(c)?c:0);var h=[],f=l==="top"||l==="bottom"?"width":"height",g=u&&f==="width"?ff(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(b,N){var w=nt(d)?d(b.value,N):b.value;return f==="width"?gLe(ff(w,{fontSize:t,letterSpacing:n}),g,m):ff(w,{fontSize:t,letterSpacing:n})[f]},x=s.length>=2?Wr(s[1].coordinate-s[0].coordinate):1,y=xLe(i,x,f);return c==="equidistantPreserveStart"?vLe(x,y,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=kLe(x,y,p,s,o,c==="preserveStartEnd"):h=NLe(x,y,p,s,o),h.filter(function(v){return v.isShow}))}var PLe=["viewBox"],SLe=["viewBox"],_Le=["ticks"];function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},au.apply(this,arguments)}function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(a){IA(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function _N(e,t){if(e==null)return{};var n=CLe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function CLe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function ALe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nI(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,LW(a.key),a)}}function TLe(e,t,n){return t&&nI(e.prototype,t),n&&nI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function OLe(e,t,n){return t=_b(t),ELe(e,IW()?Reflect.construct(t,n||[],_b(e).constructor):t.apply(e,n))}function ELe(e,t){if(t&&(km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RLe(e)}function RLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IW=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_b(e)}function MLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},uS(e,t)}function IA(e,t,n){return t=LW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=DLe(e,"string");return km(t)=="symbol"?t:t+""}function DLe(e,t){if(km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(km(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dh=function(e){function t(n){var a;return ALe(this,t),a=OLe(this,t,[n]),a.state={fontSize:"",letterSpacing:""},a}return MLe(t,e),TLe(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,o=_N(a,PLe),l=this.props,c=l.viewBox,d=_N(l,SLe);return!ju(i,c)||!ju(o,d)||!ju(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,u=s.tickSize,m=s.mirror,h=s.tickMargin,f,g,p,x,y,v,b=m?-1:1,N=a.tickSize||u,w=Se(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":f=g=a.coordinate,x=o+ +!m*c,p=x-b*N,v=p-b*h,y=w;break;case"left":p=x=a.coordinate,g=i+ +!m*l,f=g-b*N,y=f-b*h,v=w;break;case"right":p=x=a.coordinate,g=i+ +m*l,f=g+b*N,y=f+b*h,v=w;break;default:f=g=a.coordinate,x=o+ +m*c,p=x+b*N,v=p+b*h,y=w;break}return{line:{x1:f,y1:p,x2:g,y2:x},tick:{x:y,y:v}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.orientation,d=a.mirror,u=a.axisLine,m=Br(Br(Br({},He(this.props,!1)),He(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);m=Br(Br({},m),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);m=Br(Br({},m),{},{x1:s+f*o,y1:i,x2:s+f*o,y2:i+l})}return U.createElement("line",au({},m,{className:ft("recharts-cartesian-axis-line",La(u,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,m=l.tickFormatter,h=l.unit,f=DA(Br(Br({},this.props),{},{ticks:a}),s,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=He(this.props,!1),y=He(u,!1),v=Br(Br({},x),{},{fill:"none"},He(c,!1)),b=f.map(function(N,w){var k=o.getTickLineCoord(N),P=k.line,_=k.tick,T=Br(Br(Br(Br({textAnchor:g,verticalAnchor:p},x),{},{stroke:"none",fill:d},y),_),{},{index:w,payload:N,visibleTicksCount:f.length,tickFormatter:m});return U.createElement($t,au({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Zc(o.props,N,w)),c&&U.createElement("line",au({},v,P,{className:ft("recharts-cartesian-axis-tick-line",La(c,"className"))})),u&&t.renderTickItem(u,T,"".concat(nt(m)?m(N.value,w):N.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var m=this.props,h=m.ticks,f=_N(m,_Le),g=h;return nt(c)&&(g=h&&h.length>0?c(this.props):c(f)),o<=0||l<=0||!g||!g.length?null:U.createElement($t,{className:ft("recharts-cartesian-axis",d),ref:function(x){a.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),mr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return U.isValidElement(a)?o=U.cloneElement(a,s):nt(a)?o=a(s):o=U.createElement(ed,au({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(j.Component);IA(dh,"displayName","CartesianAxis");IA(dh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ILe=["x1","y1","x2","y2","key"],LLe=["offset"];function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function rI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(n),!0).forEach(function(a){$Le(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function $Le(e,t,n){return t=FLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FLe(e){var t=BLe(e,"string");return rd(t)=="symbol"?t:t+""}function BLe(e,t){if(rd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(rd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bc.apply(this,arguments)}function aI(e,t){if(e==null)return{};var n=ULe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ULe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var VLe=function(t){var n=t.fill;if(!n||n==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return U.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function $W(e,t){var n;if(U.isValidElement(e))n=U.cloneElement(e,t);else if(nt(e))n=e(t);else{var a=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=aI(t,ILe),d=He(c,!1);d.offset;var u=aI(d,LLe);n=U.createElement("line",bc({},u,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:l}))}return n}function qLe(e){var t=e.x,n=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Dr(Dr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return $W(s,d)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function zLe(e){var t=e.y,n=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Dr(Dr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return $W(s,d)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function KLe(e){var t=e.horizontalFill,n=e.fillOpacity,a=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,f){return h-f});s!==u[0]&&u.unshift(0);var m=u.map(function(h,f){var g=!u[f+1],p=g?s+o-h:u[f+1]-h;if(p<=0)return null;var x=f%t.length;return U.createElement("rect",{key:"react-".concat(f),y:h,x:a,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function WLe(e){var t=e.vertical,n=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!a||!a.length)return null;var u=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,f){return h-f});i!==u[0]&&u.unshift(0);var m=u.map(function(h,f){var g=!u[f+1],p=g?i+l-h:u[f+1]-h;if(p<=0)return null;var x=f%a.length;return U.createElement("rect",{key:"react-".concat(f),x:h,y:o,width:p,height:c,stroke:"none",fill:a[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var HLe=function(t,n){var a=t.xAxis,s=t.width,i=t.height,o=t.offset;return MK(DA(Dr(Dr(Dr({},dh.defaultProps),a),{},{ticks:Bi(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},GLe=function(t,n){var a=t.yAxis,s=t.width,i=t.height,o=t.offset;return MK(DA(Dr(Dr(Dr({},dh.defaultProps),a),{},{ticks:Bi(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},Ad={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mS(e){var t,n,a,s,i,o,l=OA(),c=EA(),d=D3e(),u=Dr(Dr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ad.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Ad.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:Ad.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ad.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ad.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ad.verticalFill,x:Se(e.x)?e.x:d.left,y:Se(e.y)?e.y:d.top,width:Se(e.width)?e.width:d.width,height:Se(e.height)?e.height:d.height}),m=u.x,h=u.y,f=u.width,g=u.height,p=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,v=E3e(),b=R3e();if(!Se(f)||f<=0||!Se(g)||g<=0||!Se(m)||m!==+m||!Se(h)||h!==+h)return null;var N=u.verticalCoordinatesGenerator||HLe,w=u.horizontalCoordinatesGenerator||GLe,k=u.horizontalPoints,P=u.verticalPoints;if((!k||!k.length)&&nt(w)){var _=x&&x.length,T=w({yAxis:b?Dr(Dr({},b),{},{ticks:_?x:b.ticks}):void 0,width:l,height:c,offset:d},_?!0:p);Vs(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(rd(T),"]")),Array.isArray(T)&&(k=T)}if((!P||!P.length)&&nt(N)){var I=y&&y.length,A=N({xAxis:v?Dr(Dr({},v),{},{ticks:I?y:v.ticks}):void 0,width:l,height:c,offset:d},I?!0:p);Vs(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(rd(A),"]")),Array.isArray(A)&&(P=A)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(VLe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),U.createElement(qLe,bc({},u,{offset:d,horizontalPoints:k,xAxis:v,yAxis:b})),U.createElement(zLe,bc({},u,{offset:d,verticalPoints:P,xAxis:v,yAxis:b})),U.createElement(KLe,bc({},u,{horizontalPoints:k})),U.createElement(WLe,bc({},u,{verticalPoints:P})))}mS.displayName="CartesianGrid";var YLe=["type","layout","connectNulls","ref"],JLe=["key"];function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function sI(e,t){if(e==null)return{};var n=QLe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function QLe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bf.apply(this,arguments)}function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(a){As(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Td(e){return t$e(e)||e$e(e)||ZLe(e)||XLe()}function XLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZLe(e,t){if(e){if(typeof e=="string")return hS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hS(e,t)}}function e$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t$e(e){if(Array.isArray(e))return hS(e)}function hS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function n$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oI(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,BW(a.key),a)}}function r$e(e,t,n){return t&&oI(e.prototype,t),n&&oI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a$e(e,t,n){return t=Cb(t),s$e(e,FW()?Reflect.construct(t,n||[],Cb(e).constructor):t.apply(e,n))}function s$e(e,t){if(t&&(Pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i$e(e)}function i$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FW=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cb(e)}function o$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},fS(e,t)}function As(e,t,n){return t=BW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BW(e){var t=l$e(e,"string");return Pm(t)=="symbol"?t:t+""}function l$e(e,t){if(Pm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Pm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ic=function(e){function t(){var n;n$e(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=a$e(this,t,[].concat(s)),As(n,"state",{isAnimationFinished:!0,totalLength:0}),As(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),As(n,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(y,v){return y+v});if(!d)return n.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),m=o%d,h=l-o,f=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>m){f=[].concat(Td(c.slice(0,g)),[m-p]);break}var x=f.length%2===0?[0,h]:[h];return[].concat(Td(t.repeat(c,u)),Td(f),x).map(function(y){return"".concat(y,"px")}).join(", ")}),As(n,"id",rh("recharts-line-")),As(n,"pathRef",function(o){n.mainCurve=o}),As(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),As(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return o$e(t,e),r$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=$a(u,Vg);if(!m)return null;var h=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:ar(p.payload,x)}},f={clipPath:a?"url(#clipPath-".concat(s,")"):null};return U.createElement($t,f,m.map(function(g){return U.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(a,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,m=He(this.props,!1),h=He(c,!0),f=d.map(function(p,x){var y=va(va(va({key:"dot-".concat(x),r:3},m),h),{},{index:x,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:d});return t.renderDotItem(c,y)}),g={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return U.createElement($t,bf({className:"recharts-line-dots",key:"dots"},g),f)}},{key:"renderCurveStatically",value:function(a,s,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var m=sI(l,YLe),h=va(va(va({},He(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},o),{},{type:c,layout:d,connectNulls:u});return U.createElement(lb,bf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,m=o.animationDuration,h=o.animationEasing,f=o.animationId,g=o.animateNewValues,p=o.width,x=o.height,y=this.state,v=y.prevPoints,b=y.totalLength;return U.createElement(wi,{begin:u,duration:m,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var w=N.t;if(v){var k=v.length/l.length,P=l.map(function(R,E){var L=Math.floor(E*k);if(v[L]){var $=v[L],B=_a($.x,R.x),K=_a($.y,R.y);return va(va({},R),{},{x:B(w),y:K(w)})}if(g){var S=_a(p*2,R.x),D=_a(x/2,R.y);return va(va({},R),{},{x:S(w),y:D(w)})}return va(va({},R),{},{x:R.x,y:R.y})});return i.renderCurveStatically(P,a,s)}var _=_a(0,b),T=_(w),I;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});I=i.getStrokeDasharray(T,b,A)}else I=i.generateSimpleStrokeDasharray(b,T);return i.renderCurveStatically(l,a,s,{strokeDasharray:I})})}},{key:"renderCurve",value:function(a,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Ug(d,o))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(o,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.xAxis,u=s.yAxis,m=s.top,h=s.left,f=s.width,g=s.height,p=s.isAnimationActive,x=s.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,v=l.length===1,b=ft("recharts-line",c),N=d&&d.allowDataOverflow,w=u&&u.allowDataOverflow,k=N||w,P=mt(x)?this.id:x,_=(a=He(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},T=_.r,I=T===void 0?3:T,A=_.strokeWidth,R=A===void 0?2:A,E=Obe(o)?o:{},L=E.clipDot,$=L===void 0?!0:L,B=I*2+R;return U.createElement($t,{className:b},N||w?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(P)},U.createElement("rect",{x:N?h:h-f/2,y:w?m:m-g/2,width:N?f:f*2,height:w?g:g*2})),!$&&U.createElement("clipPath",{id:"clipPath-dots-".concat(P)},U.createElement("rect",{x:h-B/2,y:m-B/2,width:f+B,height:g+B}))):null,!v&&this.renderCurve(k,P),this.renderErrorBar(k,P),(v||o)&&this.renderDots(k,$,P),(!p||y)&&Yi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(Td(a),[0]):a,o=[],l=0;l<s;++l)o=[].concat(Td(o),Td(i));return o}},{key:"renderDotItem",value:function(a,s){var i;if(U.isValidElement(a))i=U.cloneElement(a,s);else if(nt(a))i=a(s);else{var o=s.key,l=sI(s,JLe),c=ft("recharts-line-dot",typeof a!="boolean"?a.className:"");i=U.createElement(xw,bf({key:o},l,{className:c}))}return i}}])}(j.PureComponent);As(Ic,"displayName","Line");As(Ic,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});As(Ic,"getComposedData",function(e){var t=e.props,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,m=c.map(function(h,f){var g=ar(h,o);return u==="horizontal"?{x:O4({axis:n,ticks:s,bandSize:l,entry:h,index:f}),y:mt(g)?null:a.scale(g),value:g,payload:h}:{x:mt(g)?null:n.scale(g),y:O4({axis:a,ticks:i,bandSize:l,entry:h,index:f}),value:g,payload:h}});return va({points:m,layout:u},d)});function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function c$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d$e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,qW(a.key),a)}}function u$e(e,t,n){return t&&d$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m$e(e,t,n){return t=Ab(t),h$e(e,UW()?Reflect.construct(t,n||[],Ab(e).constructor):t.apply(e,n))}function h$e(e,t){if(t&&(Sm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f$e(e)}function f$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UW=function(){return!!e})()}function Ab(e){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ab(e)}function p$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pS(e,t)}function pS(e,t){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},pS(e,t)}function VW(e,t,n){return t=qW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qW(e){var t=g$e(e,"string");return Sm(t)=="symbol"?t:t+""}function g$e(e,t){if(Sm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Sm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},gS.apply(this,arguments)}function x$e(e){var t=e.xAxisId,n=OA(),a=EA(),s=_W(t);return s==null?null:U.createElement(dh,gS({},s,{className:ft("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Bi(o,!0)}}))}var _m=function(e){function t(){return c$e(this,t),m$e(this,t,arguments)}return p$e(t,e),u$e(t,[{key:"render",value:function(){return U.createElement(x$e,this.props)}}])}(U.Component);VW(_m,"displayName","XAxis");VW(_m,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function y$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v$e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WW(a.key),a)}}function b$e(e,t,n){return t&&v$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w$e(e,t,n){return t=Tb(t),j$e(e,zW()?Reflect.construct(t,n||[],Tb(e).constructor):t.apply(e,n))}function j$e(e,t){if(t&&(Cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N$e(e)}function N$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tb(e)}function k$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xS(e,t)}function xS(e,t){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},xS(e,t)}function KW(e,t,n){return t=WW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WW(e){var t=P$e(e,"string");return Cm(t)=="symbol"?t:t+""}function P$e(e,t){if(Cm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yS.apply(this,arguments)}var S$e=function(t){var n=t.yAxisId,a=OA(),s=EA(),i=CW(n);return i==null?null:U.createElement(dh,yS({},i,{className:ft("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(l){return Bi(l,!0)}}))},Am=function(e){function t(){return y$e(this,t),w$e(this,t,arguments)}return k$e(t,e),b$e(t,[{key:"render",value:function(){return U.createElement(S$e,this.props)}}])}(U.Component);KW(Am,"displayName","YAxis");KW(Am,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function lI(e){return T$e(e)||A$e(e)||C$e(e)||_$e()}function _$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C$e(e,t){if(e){if(typeof e=="string")return vS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vS(e,t)}}function A$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T$e(e){if(Array.isArray(e))return vS(e)}function vS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var bS=function(t,n,a,s,i){var o=$a(t,MA),l=$a(t,Sw),c=[].concat(lI(o),lI(l)),d=$a(t,Cw),u="".concat(s,"Id"),m=s[0],h=n;if(c.length&&(h=c.reduce(function(p,x){if(x.props[u]===a&&gi(x.props,"extendDomain")&&Se(x.props[m])){var y=x.props[m];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),d.length){var f="".concat(m,"1"),g="".concat(m,"2");h=d.reduce(function(p,x){if(x.props[u]===a&&gi(x.props,"extendDomain")&&Se(x.props[f])&&Se(x.props[g])){var y=x.props[f],v=x.props[g];return[Math.min(p[0],y,v),Math.max(p[1],y,v)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,x){return Se(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},h)),h},HW={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,m||c,h),g=n?n+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],f]:c._events[g].push(f):(c._events[g]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)t.call(u,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,f=m.length,g=new Array(f);h<f;h++)g[h]=m[h].fn;return g},l.prototype.listenerCount=function(d){var u=n?n+d:d,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,u,m,h,f,g){var p=n?n+d:d;if(!this._events[p])return!1;var x=this._events[p],y=arguments.length,v,b;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,m),!0;case 4:return x.fn.call(x.context,u,m,h),!0;case 5:return x.fn.call(x.context,u,m,h,f),!0;case 6:return x.fn.call(x.context,u,m,h,f,g),!0}for(b=1,v=new Array(y-1);b<y;b++)v[b-1]=arguments[b];x.fn.apply(x.context,v)}else{var N=x.length,w;for(b=0;b<N;b++)switch(x[b].once&&this.removeListener(d,x[b].fn,void 0,!0),y){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,u);break;case 3:x[b].fn.call(x[b].context,u,m);break;case 4:x[b].fn.call(x[b].context,u,m,h);break;default:if(!v)for(w=1,v=new Array(y-1);w<y;w++)v[w-1]=arguments[w];x[b].fn.apply(x[b].context,v)}}return!0},l.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},l.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},l.prototype.removeListener=function(d,u,m,h){var f=n?n+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!h||g.once)&&(!m||g.context===m)&&o(this,f);else{for(var p=0,x=[],y=g.length;p<y;p++)(g[p].fn!==u||h&&!g[p].once||m&&g[p].context!==m)&&x.push(g[p]);x.length?this._events[f]=x.length===1?x[0]:x:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(HW);var O$e=HW.exports;const E$e=Vt(O$e);var CN=new E$e,AN="recharts.syncMouseEvents";function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}function R$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M$e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,GW(a.key),a)}}function D$e(e,t,n){return t&&M$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TN(e,t,n){return t=GW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=I$e(e,"string");return Gp(t)=="symbol"?t:t+""}function I$e(e,t){if(Gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Gp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var L$e=function(){function e(){R$e(this,e),TN(this,"activeIndex",0),TN(this,"coordinateList",[]),TN(this,"layout","horizontal")}return D$e(e,[{key:"setDetails",value:function(n){var a,s=n.coordinateList,i=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,m=u===void 0?null:u,h=n.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((a=window)===null||a===void 0?void 0:a.scrollY)||0,m=i+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:m,pageY:h})}}}])}();function $$e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&Se(a)&&Se(s))return!0}return!1}function F$e(e,t,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function YW(e){var t=e.cx,n=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,o=nn(t,n,a,s),l=nn(t,n,a,i);return{points:[o,l],cx:t,cy:n,radius:a,startAngle:s,endAngle:i}}function B$e(e,t,n){var a,s,i,o;if(e==="horizontal")a=t.x,i=a,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,a=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,m=t.angle,h=nn(l,c,d,m),f=nn(l,c,u,m);a=h.x,s=h.y,i=f.x,o=f.y}else return YW(t);return[{x:a,y:s},{x:i,y:o}]}function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Kx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(a){U$e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function U$e(e,t,n){return t=V$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V$e(e){var t=q$e(e,"string");return Yp(t)=="symbol"?t:t+""}function q$e(e,t){if(Yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Yp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z$e(e){var t,n,a=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,m=e.layout,h=e.chartName,f=(t=a.props.cursor)!==null&&t!==void 0?t:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!f||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,p=lb;if(h==="ScatterChart")g=o,p=l4e;else if(h==="BarChart")g=F$e(m,o,c,u),p=_A;else if(m==="radial"){var x=YW(o),y=x.cx,v=x.cy,b=x.radius,N=x.startAngle,w=x.endAngle;g={cx:y,cy:v,startAngle:N,endAngle:w,innerRadius:b,outerRadius:b},p=KK}else g={points:B$e(m,o,c)},p=lb;var k=Kx(Kx(Kx(Kx({stroke:"#ccc",pointerEvents:"none"},c),g),He(f,!1)),{},{payload:l,payloadIndex:d,className:ft("recharts-tooltip-cursor",f.className)});return j.isValidElement(f)?j.cloneElement(f,k):j.createElement(p,k)}var K$e=["item"],W$e=["children","className","width","height","style","compact","title","desc"];function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},su.apply(this,arguments)}function dI(e,t){return Y$e(e)||G$e(e,t)||QW(e,t)||H$e()}function H$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Y$e(e){if(Array.isArray(e))return e}function uI(e,t){if(e==null)return{};var n=J$e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function J$e(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Q$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X$e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XW(a.key),a)}}function Z$e(e,t,n){return t&&X$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eFe(e,t,n){return t=Ob(t),tFe(e,JW()?Reflect.construct(t,n||[],Ob(e).constructor):t.apply(e,n))}function tFe(e,t){if(t&&(Tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nFe(e)}function nFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ob(e)}function rFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wS(e,t)}function wS(e,t){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},wS(e,t)}function Om(e){return iFe(e)||sFe(e)||QW(e)||aFe()}function aFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QW(e,t){if(e){if(typeof e=="string")return jS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jS(e,t)}}function sFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iFe(e){if(Array.isArray(e))return jS(e)}function jS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(a){Ye(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ye(e,t,n){return t=XW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XW(e){var t=oFe(e,"string");return Tm(t)=="symbol"?t:t+""}function oFe(e,t){if(Tm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Tm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lFe={xAxis:["bottom","top"],yAxis:["left","right"]},cFe={width:"100%",height:"100%"},ZW={x:0,y:0};function Wx(e){return e}var dFe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},uFe=function(t,n,a,s){var i=n.find(function(u){return u&&u.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return ue(ue(ue({},s),nn(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=s.angle;return ue(ue(ue({},s),nn(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return ZW},Aw=function(t,n){var a=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(a??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Om(l),Om(d)):l},[]);return o.length>0?o:t&&t.length&&Se(s)&&Se(i)?t.slice(s,i+1):[]};function e7(e){return e==="number"?[0,"auto"]:void 0}var NS=function(t,n,a,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Aw(n,t);return a<0||!i||!i.length||a>=l.length?null:i.reduce(function(c,d){var u,m=(u=d.props.data)!==null&&u!==void 0?u:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=m===void 0?l:m;h=Ov(f,o.dataKey,s)}else h=m&&m[a]||l[a];return h?[].concat(Om(c),[FK(d,h)]):c},[])},hI=function(t,n,a,s){var i=s||{x:t.chartX,y:t.chartY},o=dFe(i,a),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=EEe(o,l,d,c);if(u>=0&&d){var m=d[u]&&d[u].value,h=NS(t,n,u,m),f=uFe(a,l,u,i);return{activeTooltipIndex:u,activeLabel:m,activePayload:h,activeCoordinate:f}}return null},mFe=function(t,n){var a=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,m=t.children,h=t.stackOffset,f=RK(u,i);return a.reduce(function(g,p){var x,y=p.type.defaultProps!==void 0?ue(ue({},p.type.defaultProps),p.props):p.props,v=y.type,b=y.dataKey,N=y.allowDataOverflow,w=y.allowDuplicatedCategory,k=y.scale,P=y.ticks,_=y.includeHidden,T=y[o];if(g[T])return g;var I=Aw(t.data,{graphicalItems:s.filter(function(C){var X,Q=o in C.props?C.props[o]:(X=C.type.defaultProps)===null||X===void 0?void 0:X[o];return Q===T}),dataStartIndex:c,dataEndIndex:d}),A=I.length,R,E,L;$$e(y.domain,N,v)&&(R=IP(y.domain,null,N),f&&(v==="number"||k!=="auto")&&(L=gf(I,b,"category")));var $=e7(v);if(!R||R.length===0){var B,K=(B=y.domain)!==null&&B!==void 0?B:$;if(b){if(R=gf(I,b,v),v==="category"&&f){var S=jbe(R);w&&S?(E=R,R=yb(0,A)):w||(R=D4(K,R,p).reduce(function(C,X){return C.indexOf(X)>=0?C:[].concat(Om(C),[X])},[]))}else if(v==="category")w?R=R.filter(function(C){return C!==""&&!mt(C)}):R=D4(K,R,p).reduce(function(C,X){return C.indexOf(X)>=0||X===""||mt(X)?C:[].concat(Om(C),[X])},[]);else if(v==="number"){var D=LEe(I,s.filter(function(C){var X,Q,xe=o in C.props?C.props[o]:(X=C.type.defaultProps)===null||X===void 0?void 0:X[o],Pe="hide"in C.props?C.props.hide:(Q=C.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return xe===T&&(_||!Pe)}),b,i,u);D&&(R=D)}f&&(v==="number"||k!=="auto")&&(L=gf(I,b,"category"))}else f?R=yb(0,A):l&&l[T]&&l[T].hasStack&&v==="number"?R=h==="expand"?[0,1]:$K(l[T].stackGroups,c,d):R=EK(I,s.filter(function(C){var X=o in C.props?C.props[o]:C.type.defaultProps[o],Q="hide"in C.props?C.props.hide:C.type.defaultProps.hide;return X===T&&(_||!Q)}),v,u,!0);if(v==="number")R=bS(m,R,T,i,P),K&&(R=IP(K,R,N));else if(v==="category"&&K){var G=K,q=R.every(function(C){return G.indexOf(C)>=0});q&&(R=G)}}return ue(ue({},g),{},Ye({},T,ue(ue({},y),{},{axisType:i,domain:R,categoricalDomain:L,duplicateDomain:E,originalDomain:(x=y.domain)!==null&&x!==void 0?x:$,isCategorical:f,layout:u})))},{})},hFe=function(t,n){var a=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,m=t.children,h=Aw(t.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:d}),f=h.length,g=RK(u,i),p=-1;return a.reduce(function(x,y){var v=y.type.defaultProps!==void 0?ue(ue({},y.type.defaultProps),y.props):y.props,b=v[o],N=e7("number");if(!x[b]){p++;var w;return g?w=yb(0,f):l&&l[b]&&l[b].hasStack?(w=$K(l[b].stackGroups,c,d),w=bS(m,w,b,i)):(w=IP(N,EK(h,a.filter(function(k){var P,_,T=o in k.props?k.props[o]:(P=k.type.defaultProps)===null||P===void 0?void 0:P[o],I="hide"in k.props?k.props.hide:(_=k.type.defaultProps)===null||_===void 0?void 0:_.hide;return T===b&&!I}),"number",u),s.defaultProps.allowDataOverflow),w=bS(m,w,b,i)),ue(ue({},x),{},Ye({},b,ue(ue({axisType:i},s.defaultProps),{},{hide:!0,orientation:La(lFe,"".concat(i,".").concat(p%2),null),domain:w,originalDomain:N,isCategorical:g,layout:u})))}return x},{})},fFe=function(t,n){var a=n.axisType,s=a===void 0?"xAxis":a,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.children,m="".concat(s,"Id"),h=$a(u,i),f={};return h&&h.length?f=mFe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(f=hFe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),f},pFe=function(t){var n=$o(t),a=Bi(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:eA(a,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:sb(n,a)}},fI=function(t){var n=t.children,a=t.defaultShowTooltip,s=Na(n,vm),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},gFe=function(t){return!t||!t.length?!1:t.some(function(n){var a=Wi(n&&n.type);return a&&a.indexOf("Bar")>=0})},pI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xFe=function(t,n){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=a.width,u=a.height,m=a.children,h=a.margin||{},f=Na(m,vm),g=Na(m,Hi),p=Object.keys(c).reduce(function(w,k){var P=c[k],_=P.orientation;return!P.mirror&&!P.hide?ue(ue({},w),{},Ye({},_,w[_]+P.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(w,k){var P=o[k],_=P.orientation;return!P.mirror&&!P.hide?ue(ue({},w),{},Ye({},_,La(w,"".concat(_))+P.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=ue(ue({},x),p),v=y.bottom;f&&(y.bottom+=f.props.height||vm.defaultProps.height),g&&n&&(y=DEe(y,s,a,n));var b=d-y.left-y.right,N=u-y.top-y.bottom;return ue(ue({brushBottom:v},y),{},{width:Math.max(b,0),height:Math.max(N,0)})},yFe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},LA=function(t){var n=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,m=t.defaultProps,h=function(y,v){var b=v.graphicalItems,N=v.stackGroups,w=v.offset,k=v.updateId,P=v.dataStartIndex,_=v.dataEndIndex,T=y.barSize,I=y.layout,A=y.barGap,R=y.barCategoryGap,E=y.maxBarSize,L=pI(I),$=L.numericAxisName,B=L.cateAxisName,K=gFe(b),S=[];return b.forEach(function(D,G){var q=Aw(y.data,{graphicalItems:[D],dataStartIndex:P,dataEndIndex:_}),C=D.type.defaultProps!==void 0?ue(ue({},D.type.defaultProps),D.props):D.props,X=C.dataKey,Q=C.maxBarSize,xe=C["".concat($,"Id")],Pe=C["".concat(B,"Id")],ee={},pe=c.reduce(function(tt,O){var Z=v["".concat(O.axisType,"Map")],z=C["".concat(O.axisType,"Id")];Z&&Z[z]||O.axisType==="zAxis"||nd();var ce=Z[z];return ue(ue({},tt),{},Ye(Ye({},O.axisType,ce),"".concat(O.axisType,"Ticks"),Bi(ce)))},ee),W=pe[B],H=pe["".concat(B,"Ticks")],ie=N&&N[xe]&&N[xe].hasStack&&WEe(D,N[xe].stackGroups),ae=Wi(D.type).indexOf("Bar")>=0,le=sb(W,H),ve=[],ne=K&&REe({barSize:T,stackGroups:N,totalSize:yFe(pe,B)});if(ae){var F,me,je=mt(Q)?E:Q,oe=(F=(me=sb(W,H,!0))!==null&&me!==void 0?me:je)!==null&&F!==void 0?F:0;ve=MEe({barGap:A,barCategoryGap:R,bandSize:oe!==le?oe:le,sizeList:ne[Pe],maxBarSize:je}),oe!==le&&(ve=ve.map(function(tt){return ue(ue({},tt),{},{position:ue(ue({},tt.position),{},{offset:tt.position.offset-oe/2})})}))}var Ee=D&&D.type&&D.type.getComposedData;Ee&&S.push({props:ue(ue({},Ee(ue(ue({},pe),{},{displayedData:q,props:y,dataKey:X,item:D,bandSize:le,barPosition:ve,offset:w,stackedData:ie,layout:I,dataStartIndex:P,dataEndIndex:_}))),{},Ye(Ye(Ye({key:D.key||"item-".concat(G)},$,pe[$]),B,pe[B]),"animationId",k)),childIndex:Mbe(D,y.children),item:D})}),S},f=function(y,v){var b=y.props,N=y.dataStartIndex,w=y.dataEndIndex,k=y.updateId;if(!CM({props:b}))return null;var P=b.children,_=b.layout,T=b.stackOffset,I=b.data,A=b.reverseStackOrder,R=pI(_),E=R.numericAxisName,L=R.cateAxisName,$=$a(P,a),B=zEe(I,$,"".concat(E,"Id"),"".concat(L,"Id"),T,A),K=c.reduce(function(C,X){var Q="".concat(X.axisType,"Map");return ue(ue({},C),{},Ye({},Q,fFe(b,ue(ue({},X),{},{graphicalItems:$,stackGroups:X.axisType===E&&B,dataStartIndex:N,dataEndIndex:w}))))},{}),S=xFe(ue(ue({},K),{},{props:b,graphicalItems:$}),v==null?void 0:v.legendBBox);Object.keys(K).forEach(function(C){K[C]=u(b,K[C],S,C.replace("Map",""),n)});var D=K["".concat(L,"Map")],G=pFe(D),q=h(b,ue(ue({},K),{},{dataStartIndex:N,dataEndIndex:w,updateId:k,graphicalItems:$,stackGroups:B,offset:S}));return ue(ue({formattedGraphicalItems:q,graphicalItems:$,offset:S,stackGroups:B},G),K)},g=function(x){function y(v){var b,N,w;return Q$e(this,y),w=eFe(this,y,[v]),Ye(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ye(w,"accessibilityManager",new L$e),Ye(w,"handleLegendBBoxUpdate",function(k){if(k){var P=w.state,_=P.dataStartIndex,T=P.dataEndIndex,I=P.updateId;w.setState(ue({legendBBox:k},f({props:w.props,dataStartIndex:_,dataEndIndex:T,updateId:I},ue(ue({},w.state),{},{legendBBox:k}))))}}),Ye(w,"handleReceiveSyncEvent",function(k,P,_){if(w.props.syncId===k){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(P)}}),Ye(w,"handleBrushChange",function(k){var P=k.startIndex,_=k.endIndex;if(P!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return ue({dataStartIndex:P,dataEndIndex:_},f({props:w.props,dataStartIndex:P,dataEndIndex:_,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:P,dataEndIndex:_})}}),Ye(w,"handleMouseEnter",function(k){var P=w.getMouseInfo(k);if(P){var _=ue(ue({},P),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var T=w.props.onMouseEnter;nt(T)&&T(_,k)}}),Ye(w,"triggeredAfterMouseMove",function(k){var P=w.getMouseInfo(k),_=P?ue(ue({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var T=w.props.onMouseMove;nt(T)&&T(_,k)}),Ye(w,"handleItemMouseEnter",function(k){w.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ye(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ye(w,"handleMouseMove",function(k){k.persist(),w.throttleTriggeredAfterMouseMove(k)}),Ye(w,"handleMouseLeave",function(k){w.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var _=w.props.onMouseLeave;nt(_)&&_(P,k)}),Ye(w,"handleOuterEvent",function(k){var P=Rbe(k),_=La(w.props,"".concat(P));if(P&&nt(_)){var T,I;/.*touch.*/i.test(P)?I=w.getMouseInfo(k.changedTouches[0]):I=w.getMouseInfo(k),_((T=I)!==null&&T!==void 0?T:{},k)}}),Ye(w,"handleClick",function(k){var P=w.getMouseInfo(k);if(P){var _=ue(ue({},P),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var T=w.props.onClick;nt(T)&&T(_,k)}}),Ye(w,"handleMouseDown",function(k){var P=w.props.onMouseDown;if(nt(P)){var _=w.getMouseInfo(k);P(_,k)}}),Ye(w,"handleMouseUp",function(k){var P=w.props.onMouseUp;if(nt(P)){var _=w.getMouseInfo(k);P(_,k)}}),Ye(w,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ye(w,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseDown(k.changedTouches[0])}),Ye(w,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&w.handleMouseUp(k.changedTouches[0])}),Ye(w,"handleDoubleClick",function(k){var P=w.props.onDoubleClick;if(nt(P)){var _=w.getMouseInfo(k);P(_,k)}}),Ye(w,"handleContextMenu",function(k){var P=w.props.onContextMenu;if(nt(P)){var _=w.getMouseInfo(k);P(_,k)}}),Ye(w,"triggerSyncEvent",function(k){w.props.syncId!==void 0&&CN.emit(AN,w.props.syncId,k,w.eventEmitterSymbol)}),Ye(w,"applySyncEvent",function(k){var P=w.props,_=P.layout,T=P.syncMethod,I=w.state.updateId,A=k.dataStartIndex,R=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)w.setState(ue({dataStartIndex:A,dataEndIndex:R},f({props:w.props,dataStartIndex:A,dataEndIndex:R,updateId:I},w.state)));else if(k.activeTooltipIndex!==void 0){var E=k.chartX,L=k.chartY,$=k.activeTooltipIndex,B=w.state,K=B.offset,S=B.tooltipTicks;if(!K)return;if(typeof T=="function")$=T(S,k);else if(T==="value"){$=-1;for(var D=0;D<S.length;D++)if(S[D].value===k.activeLabel){$=D;break}}var G=ue(ue({},K),{},{x:K.left,y:K.top}),q=Math.min(E,G.x+G.width),C=Math.min(L,G.y+G.height),X=S[$]&&S[$].value,Q=NS(w.state,w.props.data,$),xe=S[$]?{x:_==="horizontal"?S[$].coordinate:q,y:_==="horizontal"?C:S[$].coordinate}:ZW;w.setState(ue(ue({},k),{},{activeLabel:X,activeCoordinate:xe,activePayload:Q,activeTooltipIndex:$}))}else w.setState(k)}),Ye(w,"renderCursor",function(k){var P,_=w.state,T=_.isTooltipActive,I=_.activeCoordinate,A=_.activePayload,R=_.offset,E=_.activeTooltipIndex,L=_.tooltipAxisBandSize,$=w.getTooltipEventType(),B=(P=k.props.active)!==null&&P!==void 0?P:T,K=w.props.layout,S=k.key||"_recharts-cursor";return U.createElement(z$e,{key:S,activeCoordinate:I,activePayload:A,activeTooltipIndex:E,chartName:n,element:k,isActive:B,layout:K,offset:R,tooltipAxisBandSize:L,tooltipEventType:$})}),Ye(w,"renderPolarAxis",function(k,P,_){var T=La(k,"type.axisType"),I=La(w.state,"".concat(T,"Map")),A=k.type.defaultProps,R=A!==void 0?ue(ue({},A),k.props):k.props,E=I&&I[R["".concat(T,"Id")]];return j.cloneElement(k,ue(ue({},E),{},{className:ft(T,E.className),key:k.key||"".concat(P,"-").concat(_),ticks:Bi(E,!0)}))}),Ye(w,"renderPolarGrid",function(k){var P=k.props,_=P.radialLines,T=P.polarAngles,I=P.polarRadius,A=w.state,R=A.radiusAxisMap,E=A.angleAxisMap,L=$o(R),$=$o(E),B=$.cx,K=$.cy,S=$.innerRadius,D=$.outerRadius;return j.cloneElement(k,{polarAngles:Array.isArray(T)?T:Bi($,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(I)?I:Bi(L,!0).map(function(G){return G.coordinate}),cx:B,cy:K,innerRadius:S,outerRadius:D,key:k.key||"polar-grid",radialLines:_})}),Ye(w,"renderLegend",function(){var k=w.state.formattedGraphicalItems,P=w.props,_=P.children,T=P.width,I=P.height,A=w.props.margin||{},R=T-(A.left||0)-(A.right||0),E=TK({children:_,formattedGraphicalItems:k,legendWidth:R,legendContent:d});if(!E)return null;var L=E.item,$=uI(E,K$e);return j.cloneElement(L,ue(ue({},$),{},{chartWidth:T,chartHeight:I,margin:A,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ye(w,"renderTooltip",function(){var k,P=w.props,_=P.children,T=P.accessibilityLayer,I=Na(_,Xa);if(!I)return null;var A=w.state,R=A.isTooltipActive,E=A.activeCoordinate,L=A.activePayload,$=A.activeLabel,B=A.offset,K=(k=I.props.active)!==null&&k!==void 0?k:R;return j.cloneElement(I,{viewBox:ue(ue({},B),{},{x:B.left,y:B.top}),active:K,label:$,payload:K?L:[],coordinate:E,accessibilityLayer:T})}),Ye(w,"renderBrush",function(k){var P=w.props,_=P.margin,T=P.data,I=w.state,A=I.offset,R=I.dataStartIndex,E=I.dataEndIndex,L=I.updateId;return j.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Ux(w.handleBrushChange,k.props.onChange),data:T,x:Se(k.props.x)?k.props.x:A.left,y:Se(k.props.y)?k.props.y:A.top+A.height+A.brushBottom-(_.bottom||0),width:Se(k.props.width)?k.props.width:A.width,startIndex:R,endIndex:E,updateId:"brush-".concat(L)})}),Ye(w,"renderReferenceElement",function(k,P,_){if(!k)return null;var T=w,I=T.clipPathId,A=w.state,R=A.xAxisMap,E=A.yAxisMap,L=A.offset,$=k.type.defaultProps||{},B=k.props,K=B.xAxisId,S=K===void 0?$.xAxisId:K,D=B.yAxisId,G=D===void 0?$.yAxisId:D;return j.cloneElement(k,{key:k.key||"".concat(P,"-").concat(_),xAxis:R[S],yAxis:E[G],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:I})}),Ye(w,"renderActivePoints",function(k){var P=k.item,_=k.activePoint,T=k.basePoint,I=k.childIndex,A=k.isRange,R=[],E=P.props.key,L=P.item.type.defaultProps!==void 0?ue(ue({},P.item.type.defaultProps),P.item.props):P.item.props,$=L.activeDot,B=L.dataKey,K=ue(ue({index:I,dataKey:B,cx:_.x,cy:_.y,r:4,fill:SA(P.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},He($,!1)),Ev($));return R.push(y.renderActiveDot($,K,"".concat(E,"-activePoint-").concat(I))),T?R.push(y.renderActiveDot($,ue(ue({},K),{},{cx:T.x,cy:T.y}),"".concat(E,"-basePoint-").concat(I))):A&&R.push(null),R}),Ye(w,"renderGraphicChild",function(k,P,_){var T=w.filterFormatItem(k,P,_);if(!T)return null;var I=w.getTooltipEventType(),A=w.state,R=A.isTooltipActive,E=A.tooltipAxis,L=A.activeTooltipIndex,$=A.activeLabel,B=w.props.children,K=Na(B,Xa),S=T.props,D=S.points,G=S.isRange,q=S.baseLine,C=T.item.type.defaultProps!==void 0?ue(ue({},T.item.type.defaultProps),T.item.props):T.item.props,X=C.activeDot,Q=C.hide,xe=C.activeBar,Pe=C.activeShape,ee=!!(!Q&&R&&K&&(X||xe||Pe)),pe={};I!=="axis"&&K&&K.props.trigger==="click"?pe={onClick:Ux(w.handleItemMouseEnter,k.props.onClick)}:I!=="axis"&&(pe={onMouseLeave:Ux(w.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Ux(w.handleItemMouseEnter,k.props.onMouseEnter)});var W=j.cloneElement(k,ue(ue({},T.props),pe));function H(O){return typeof E.dataKey=="function"?E.dataKey(O.payload):null}if(ee)if(L>=0){var ie,ae;if(E.dataKey&&!E.allowDuplicatedCategory){var le=typeof E.dataKey=="function"?H:"payload.".concat(E.dataKey.toString());ie=Ov(D,le,$),ae=G&&q&&Ov(q,le,$)}else ie=D==null?void 0:D[L],ae=G&&q&&q[L];if(Pe||xe){var ve=k.props.activeIndex!==void 0?k.props.activeIndex:L;return[j.cloneElement(k,ue(ue(ue({},T.props),pe),{},{activeIndex:ve})),null,null]}if(!mt(ie))return[W].concat(Om(w.renderActivePoints({item:T,activePoint:ie,basePoint:ae,childIndex:L,isRange:G})))}else{var ne,F=(ne=w.getItemByXY(w.state.activeCoordinate))!==null&&ne!==void 0?ne:{graphicalItem:W},me=F.graphicalItem,je=me.item,oe=je===void 0?k:je,Ee=me.childIndex,tt=ue(ue(ue({},T.props),pe),{},{activeIndex:Ee});return[j.cloneElement(oe,tt),null,null]}return G?[W,null,null]:[W,null]}),Ye(w,"renderCustomized",function(k,P,_){return j.cloneElement(k,ue(ue({key:"recharts-customized-".concat(_)},w.props),w.state))}),Ye(w,"renderMap",{CartesianGrid:{handler:Wx,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Wx},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Wx},YAxis:{handler:Wx},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=v.id)!==null&&b!==void 0?b:rh("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=Az(w.triggeredAfterMouseMove,(N=v.throttleDelay)!==null&&N!==void 0?N:1e3/60),w.state={},w}return rFe(y,x),Z$e(y,[{key:"componentDidMount",value:function(){var b,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,N=b.children,w=b.data,k=b.height,P=b.layout,_=Na(N,Xa);if(_){var T=_.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,A=NS(this.state,w,T,I),R=this.state.tooltipTicks[T].coordinate,E=(this.state.offset.top+k)/2,L=P==="horizontal",$=L?{x:R,y:E}:{y:R,x:E},B=this.state.formattedGraphicalItems.find(function(S){var D=S.item;return D.type.name==="Scatter"});B&&($=ue(ue({},$),B.props.points[T].tooltipPosition),A=B.props.points[T].tooltipPayload);var K={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:I,activePayload:A,activeCoordinate:$};this.setState(K),this.renderCursor(_),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,k;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(b){Qk([Na(b.children,Xa)],[Na(this.props.children,Xa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Na(this.props.children,Xa);if(b&&typeof b.props.shared=="boolean"){var N=b.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var N=this.container,w=N.getBoundingClientRect(),k=iCe(w),P={chartX:Math.round(b.pageX-k.left),chartY:Math.round(b.pageY-k.top)},_=w.width/N.offsetWidth||1,T=this.inRange(P.chartX,P.chartY,_);if(!T)return null;var I=this.state,A=I.xAxisMap,R=I.yAxisMap,E=this.getTooltipEventType(),L=hI(this.state,this.props.data,this.props.layout,T);if(E!=="axis"&&A&&R){var $=$o(A).scale,B=$o(R).scale,K=$&&$.invert?$.invert(P.chartX):null,S=B&&B.invert?B.invert(P.chartY):null;return ue(ue({},P),{},{xValue:K,yValue:S},L)}return L?ue(ue({},P),L):null}},{key:"inRange",value:function(b,N){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,P=b/w,_=N/w;if(k==="horizontal"||k==="vertical"){var T=this.state.offset,I=P>=T.left&&P<=T.left+T.width&&_>=T.top&&_<=T.top+T.height;return I?{x:P,y:_}:null}var A=this.state,R=A.angleAxisMap,E=A.radiusAxisMap;if(R&&E){var L=$o(R);return $4({x:P,y:_},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,N=this.getTooltipEventType(),w=Na(b,Xa),k={};w&&N==="axis"&&(w.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Ev(this.props,this.handleOuterEvent);return ue(ue({},P),k)}},{key:"addListener",value:function(){CN.on(AN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){CN.removeListener(AN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,N,w){for(var k=this.state.formattedGraphicalItems,P=0,_=k.length;P<_;P++){var T=k[P];if(T.item===b||T.props.key===b.key||N===Wi(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,N=this.state.offset,w=N.left,k=N.top,P=N.height,_=N.width;return U.createElement("defs",null,U.createElement("clipPath",{id:b},U.createElement("rect",{x:w,y:k,height:P,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(N,w){var k=dI(w,2),P=k[0],_=k[1];return ue(ue({},N),{},Ye({},P,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(N,w){var k=dI(w,2),P=k[0],_=k[1];return ue(ue({},N),{},Ye({},P,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(b){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(b){var N=this.state,w=N.formattedGraphicalItems,k=N.activeItem;if(w&&w.length)for(var P=0,_=w.length;P<_;P++){var T=w[P],I=T.props,A=T.item,R=A.type.defaultProps!==void 0?ue(ue({},A.type.defaultProps),A.props):A.props,E=Wi(A.type);if(E==="Bar"){var L=(I.data||[]).find(function(S){return VDe(b,S)});if(L)return{graphicalItem:T,payload:L}}else if(E==="RadialBar"){var $=(I.data||[]).find(function(S){return $4(b,S)});if($)return{graphicalItem:T,payload:$}}else if(jw(T,k)||Nw(T,k)||qp(T,k)){var B=T5e({graphicalItem:T,activeTooltipItem:k,itemData:R.data}),K=R.activeIndex===void 0?B:R.activeIndex;return{graphicalItem:ue(ue({},T),{},{childIndex:K}),payload:qp(T,k)?R.data[B]:T.props.data[B]}}}return null}},{key:"render",value:function(){var b=this;if(!CM(this))return null;var N=this.props,w=N.children,k=N.className,P=N.width,_=N.height,T=N.style,I=N.compact,A=N.title,R=N.desc,E=uI(N,W$e),L=He(E,!1);if(I)return U.createElement(W5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(Zk,su({},L,{width:P,height:_,title:A,desc:R}),this.renderClipPath(),TM(w,this.renderMap)));if(this.props.accessibilityLayer){var $,B;L.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,L.role=(B=this.props.role)!==null&&B!==void 0?B:"application",L.onKeyDown=function(S){b.accessibilityManager.keyboardEvent(S)},L.onFocus=function(){b.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return U.createElement(W5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",su({className:ft("recharts-wrapper",k),style:ue({position:"relative",cursor:"default",width:P,height:_},T)},K,{ref:function(D){b.container=D}}),U.createElement(Zk,su({},L,{width:P,height:_,title:A,desc:R,style:cFe}),this.renderClipPath(),TM(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Ye(g,"displayName",n),Ye(g,"defaultProps",ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ye(g,"getDerivedStateFromProps",function(x,y){var v=x.dataKey,b=x.data,N=x.children,w=x.width,k=x.height,P=x.layout,_=x.stackOffset,T=x.margin,I=y.dataStartIndex,A=y.dataEndIndex;if(y.updateId===void 0){var R=fI(x);return ue(ue(ue({},R),{},{updateId:0},f(ue(ue({props:x},R),{},{updateId:0}),y)),{},{prevDataKey:v,prevData:b,prevWidth:w,prevHeight:k,prevLayout:P,prevStackOffset:_,prevMargin:T,prevChildren:N})}if(v!==y.prevDataKey||b!==y.prevData||w!==y.prevWidth||k!==y.prevHeight||P!==y.prevLayout||_!==y.prevStackOffset||!ju(T,y.prevMargin)){var E=fI(x),L={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=ue(ue({},hI(y,b,P)),{},{updateId:y.updateId+1}),B=ue(ue(ue({},E),L),$);return ue(ue(ue({},B),f(ue({props:x},B),y)),{},{prevDataKey:v,prevData:b,prevWidth:w,prevHeight:k,prevLayout:P,prevStackOffset:_,prevMargin:T,prevChildren:N})}if(!Qk(N,y.prevChildren)){var K,S,D,G,q=Na(N,vm),C=q&&(K=(S=q.props)===null||S===void 0?void 0:S.startIndex)!==null&&K!==void 0?K:I,X=q&&(D=(G=q.props)===null||G===void 0?void 0:G.endIndex)!==null&&D!==void 0?D:A,Q=C!==I||X!==A,xe=!mt(b),Pe=xe&&!Q?y.updateId:y.updateId+1;return ue(ue({updateId:Pe},f(ue(ue({props:x},y),{},{updateId:Pe,dataStartIndex:C,dataEndIndex:X}),y)),{},{prevChildren:N,dataStartIndex:C,dataEndIndex:X})}return null}),Ye(g,"renderActiveDot",function(x,y,v){var b;return j.isValidElement(x)?b=j.cloneElement(x,y):nt(x)?b=x(y):b=U.createElement(xw,y),U.createElement($t,{className:"recharts-active-dot",key:v},b)});var p=j.forwardRef(function(y,v){return U.createElement(g,su({},y,{ref:v}))});return p.displayName=g.displayName,p},vFe=LA({chartName:"LineChart",GraphicalChild:Ic,axisComponents:[{axisType:"xAxis",AxisComp:_m},{axisType:"yAxis",AxisComp:Am}],formatAxisMap:vW}),bFe=LA({chartName:"BarChart",GraphicalChild:El,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_m},{axisType:"yAxis",AxisComp:Am}],formatAxisMap:vW}),wFe=LA({chartName:"PieChart",GraphicalChild:yo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ww},{axisType:"radiusAxis",AxisComp:vw}],formatAxisMap:nRe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Ql=["#8b5cf6","#ec4899","#f59e0b","#10b981","#3b82f6"],jFe=[{date:"01/01",impressions:1200,clicks:45,conversions:5},{date:"01/02",impressions:1500,clicks:60,conversions:8},{date:"01/03",impressions:1800,clicks:72,conversions:12},{date:"01/04",impressions:1350,clicks:54,conversions:6},{date:"01/05",impressions:2100,clicks:88,conversions:15},{date:"01/06",impressions:1900,clicks:76,conversions:10},{date:"01/07",impressions:2400,clicks:102,conversions:18}],NFe=[{platform:"Facebook",spend:1200,impressions:8500,clicks:320},{platform:"Instagram",spend:950,impressions:6200,clicks:280},{platform:"Xiaohongshu",spend:680,impressions:4100,clicks:195}],kFe=[{name:"Facebook",value:1200},{name:"Instagram",value:950},{name:"Xiaohongshu",value:680}],PFe=[{name:"Spring Collection Launch",platform:"Facebook",spend:580,impressions:3200,clicks:145,conversions:12,roas:3.2},{name:"New Arrivals Promo",platform:"Instagram",spend:420,impressions:2800,clicks:120,conversions:9,roas:2.8},{name:"Brand Awareness",platform:"Xiaohongshu",spend:350,impressions:2100,clicks:95,conversions:7,roas:2.5},{name:"Summer Sale Preview",platform:"Facebook",spend:310,impressions:1900,clicks:82,conversions:6,roas:2.1},{name:"Product Showcase",platform:"Instagram",spend:280,impressions:1600,clicks:68,conversions:5,roas:1.9}];function SFe(){const{t:e}=ct(),[t,n]=j.useState("7d"),[a,s]=j.useState("all"),i=p=>{switch(p){case"7d":return 7;case"30d":return 30;case"90d":return 90}},{data:o=[],isLoading:l}=Le({queryKey:["admin-performance",t,a],queryFn:async()=>{const p=i(t),x=new Date;x.setDate(x.getDate()-p);const y=x.toISOString().slice(0,10);let v=Y.from("marketing_performance").select("*, marketing_campaigns(id, name, platform, status)").gte("date",y).order("date",{ascending:!0});a!=="all"&&(v=v.eq("platform",a));const{data:b,error:N}=await v;return N?(console.error("Error fetching performance data:",N),[]):b||[]}}),c=o.length>0,d=c?{totalSpend:o.reduce((p,x)=>p+(x.spend||0),0),totalImpressions:o.reduce((p,x)=>p+(x.impressions||0),0),totalClicks:o.reduce((p,x)=>p+(x.clicks||0),0),totalConversions:o.reduce((p,x)=>p+(x.conversions||0),0),avgCtr:o.length>0?o.reduce((p,x)=>p+(x.ctr||0),0)/o.length:0,avgRoas:o.length>0?o.reduce((p,x)=>p+(x.roas||0),0)/o.length:0}:{totalSpend:2830,totalImpressions:12270,totalClicks:497,totalConversions:74,avgCtr:4.05,avgRoas:2.5},u=c?(()=>{const p={};return o.forEach(x=>{const y=x.date.slice(5).replace("-","/");p[y]||(p[y]={date:y,impressions:0,clicks:0,conversions:0}),p[y].impressions+=x.impressions||0,p[y].clicks+=x.clicks||0,p[y].conversions+=x.conversions||0}),Object.values(p)})():jFe,m=c?(()=>{const p={};return o.forEach(x=>{const y=x.platform||"Unknown";p[y]||(p[y]={platform:y,spend:0,impressions:0,clicks:0}),p[y].spend+=x.spend||0,p[y].impressions+=x.impressions||0,p[y].clicks+=x.clicks||0}),Object.values(p)})():NFe,h=c?(()=>{const p={};return o.forEach(x=>{const y=x.platform||"Unknown";p[y]=(p[y]||0)+(x.spend||0)}),Object.entries(p).map(([x,y])=>({name:x,value:y}))})():kFe,f=c?(()=>{const p={};return o.forEach(x=>{var N,w;const y=x.campaign_id,v=((N=x.marketing_campaigns)==null?void 0:N.name)||y,b=((w=x.marketing_campaigns)==null?void 0:w.platform)||x.platform||"Unknown";p[y]||(p[y]={name:v,platform:b,spend:0,impressions:0,clicks:0,conversions:0,roas:0,count:0}),p[y].spend+=x.spend||0,p[y].impressions+=x.impressions||0,p[y].clicks+=x.clicks||0,p[y].conversions+=x.conversions||0,p[y].roas+=x.roas||0,p[y].count+=1}),Object.values(p).map(x=>({...x,roas:x.count>0?x.roas/x.count:0})).sort((x,y)=>y.spend-x.spend).slice(0,10)})():PFe,g=p=>{switch(p.toLowerCase()){case"facebook":return"bg-blue-500/10 text-blue-600";case"instagram":return"bg-pink-500/10 text-pink-600";case"xiaohongshu":return"bg-red-500/10 text-red-600";default:return"bg-muted text-muted-foreground"}};return l?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(ut,{children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-performance-title",children:e("admin.performanceReportsPage.title","Ad Performance Reports")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.performanceReportsPage.subtitle","Monitor KPIs across all advertising platforms")})]}),r.jsx(V,{children:r.jsx(J,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground shrink-0",children:[e("admin.performanceReportsPage.dateRange","Date Range"),":"]}),r.jsx("div",{className:"flex gap-1",children:[{key:"7d",label:e("admin.performanceReportsPage.last7Days","Last 7 Days")},{key:"30d",label:e("admin.performanceReportsPage.last30Days","Last 30 Days")},{key:"90d",label:e("admin.performanceReportsPage.last90Days","Last 90 Days")}].map(p=>r.jsx(M,{variant:t===p.key?"default":"outline",size:"sm",className:"h-8 text-xs sm:text-sm",onClick:()=>n(p.key),"data-testid":`btn-range-${p.key}`,children:p.label},p.key))})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground shrink-0",children:[e("admin.performanceReportsPage.platform","Platform"),":"]}),r.jsx("div",{className:"flex gap-1 flex-wrap",children:[{key:"all",label:e("admin.performanceReportsPage.all","All")},{key:"facebook",label:"Facebook"},{key:"instagram",label:"Instagram"},{key:"xiaohongshu",label:"Xiaohongshu"}].map(p=>r.jsx(M,{variant:a===p.key?"default":"outline",size:"sm",className:"h-8 text-xs sm:text-sm",onClick:()=>s(p.key),"data-testid":`btn-platform-${p.key}`,children:p.label},p.key))})]})]})})}),!c&&r.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground bg-muted/50 border border-dashed rounded-lg p-2.5 sm:p-3 text-center",children:e("admin.performanceReportsPage.sampleDataNotice","Showing sample data. Connect your marketing campaigns to see real performance metrics.")}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:r.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-purple-500/10 flex items-center justify-center shrink-0",children:r.jsx(Xr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-500"})})}),r.jsxs("p",{className:"text-lg sm:text-xl font-bold truncate",children:["RM ",d.totalSpend.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.performanceReportsPage.totalSpend","Total Spend")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:r.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0",children:r.jsx(pr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-500"})})}),r.jsx("p",{className:"text-lg sm:text-xl font-bold truncate",children:d.totalImpressions.toLocaleString()}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.performanceReportsPage.totalImpressions","Total Impressions")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:r.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-pink-500/10 flex items-center justify-center shrink-0",children:r.jsx(DZ,{className:"w-4 h-4 sm:w-5 sm:h-5 text-pink-500"})})}),r.jsx("p",{className:"text-lg sm:text-xl font-bold truncate",children:d.totalClicks.toLocaleString()}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.performanceReportsPage.totalClicks","Total Clicks")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:r.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:r.jsx(Wc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"})})}),r.jsx("p",{className:"text-lg sm:text-xl font-bold truncate",children:d.totalConversions.toLocaleString()}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.performanceReportsPage.totalConversions","Total Conversions")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:r.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-amber-500/10 flex items-center justify-center shrink-0",children:r.jsx(Mn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500"})})}),r.jsxs("p",{className:"text-lg sm:text-xl font-bold truncate",children:[d.avgCtr.toFixed(2),"%"]}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.performanceReportsPage.avgCtr","Avg CTR")})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:r.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-emerald-500/10 flex items-center justify-center shrink-0",children:r.jsx(Jo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-500"})})}),r.jsxs("p",{className:"text-lg sm:text-xl font-bold truncate",children:[d.avgRoas.toFixed(2),"x"]}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.performanceReportsPage.avgRoas","Avg ROAS")})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs(V,{className:"lg:col-span-2",children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Mn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.performanceReportsPage.dailyTrend","Daily Trend")]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:r.jsx(hN,{width:"100%",height:300,children:r.jsxs(vFe,{data:u,children:[r.jsx(mS,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(_m,{dataKey:"date",tick:{fontSize:12}}),r.jsx(Am,{tick:{fontSize:12}}),r.jsx(Xa,{}),r.jsx(Hi,{}),r.jsx(Ic,{type:"monotone",dataKey:"impressions",stroke:Ql[0],strokeWidth:2,dot:{r:3},name:e("admin.performanceReportsPage.impressions","Impressions")}),r.jsx(Ic,{type:"monotone",dataKey:"clicks",stroke:Ql[1],strokeWidth:2,dot:{r:3},name:e("admin.performanceReportsPage.clicks","Clicks")}),r.jsx(Ic,{type:"monotone",dataKey:"conversions",stroke:Ql[3],strokeWidth:2,dot:{r:3},name:e("admin.performanceReportsPage.conversions","Conversions")})]})})})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Jo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.performanceReportsPage.platformComparison","Platform Comparison")]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:r.jsx(hN,{width:"100%",height:300,children:r.jsxs(bFe,{data:m,children:[r.jsx(mS,{strokeDasharray:"3 3",className:"opacity-30"}),r.jsx(_m,{dataKey:"platform",tick:{fontSize:12}}),r.jsx(Am,{tick:{fontSize:12}}),r.jsx(Xa,{}),r.jsx(Hi,{}),r.jsx(El,{dataKey:"spend",fill:Ql[0],name:e("admin.performanceReportsPage.spend","Spend"),radius:[4,4,0,0]}),r.jsx(El,{dataKey:"clicks",fill:Ql[1],name:e("admin.performanceReportsPage.clicks","Clicks"),radius:[4,4,0,0]})]})})})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Xr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.performanceReportsPage.budgetAllocation","Budget Allocation")]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:r.jsx(hN,{width:"100%",height:300,children:r.jsxs(wFe,{children:[r.jsx(yo,{data:h,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:4,dataKey:"value",label:({name:p,percent:x})=>`${p} ${(x*100).toFixed(0)}%`,children:h.map((p,x)=>r.jsx(sw,{fill:Ql[x%Ql.length]},`cell-${x}`))}),r.jsx(Xa,{formatter:p=>`RM ${p.toLocaleString()}`}),r.jsx(Hi,{})]})})})]})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Jo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.performanceReportsPage.topCampaigns","Top Campaigns")]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:f.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Jo,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.performanceReportsPage.noCampaigns","No campaign data available")})]}):r.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.jsxs("div",{className:"hidden sm:grid sm:grid-cols-7 gap-4 px-4 py-2 text-xs text-muted-foreground font-medium border-b",children:[r.jsx("span",{className:"col-span-2",children:e("admin.performanceReportsPage.campaign","Campaign")}),r.jsx("span",{className:"text-right",children:e("admin.performanceReportsPage.spend","Spend")}),r.jsx("span",{className:"text-right",children:e("admin.performanceReportsPage.impressions","Impressions")}),r.jsx("span",{className:"text-right",children:e("admin.performanceReportsPage.clicks","Clicks")}),r.jsx("span",{className:"text-right",children:e("admin.performanceReportsPage.conversions","Conversions")}),r.jsx("span",{className:"text-right",children:e("admin.performanceReportsPage.roas","ROAS")})]}),f.map((p,x)=>r.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-7 gap-2 sm:gap-4 p-3 sm:px-4 sm:py-3 border rounded-lg sm:items-center","data-testid":`campaign-row-${x}`,children:[r.jsxs("div",{className:"sm:col-span-2 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm truncate",children:p.name}),r.jsx(te,{variant:"secondary",className:`text-xs mt-0.5 ${g(p.platform)}`,children:p.platform})]}),r.jsxs("div",{className:"grid grid-cols-4 sm:contents gap-2 text-sm",children:[r.jsxs("div",{className:"sm:text-right",children:[r.jsx("span",{className:"text-xs text-muted-foreground sm:hidden",children:"Spend"}),r.jsxs("p",{className:"font-medium sm:font-normal",children:["RM ",p.spend.toLocaleString()]})]}),r.jsxs("div",{className:"sm:text-right",children:[r.jsx("span",{className:"text-xs text-muted-foreground sm:hidden",children:"Impr."}),r.jsx("p",{children:p.impressions.toLocaleString()})]}),r.jsxs("div",{className:"sm:text-right",children:[r.jsx("span",{className:"text-xs text-muted-foreground sm:hidden",children:"Clicks"}),r.jsx("p",{children:p.clicks.toLocaleString()})]}),r.jsxs("div",{className:"sm:text-right",children:[r.jsx("span",{className:"text-xs text-muted-foreground sm:hidden",children:"Conv."}),r.jsx("p",{children:p.conversions})]}),r.jsx("div",{className:"sm:text-right hidden sm:block",children:r.jsxs(te,{variant:"outline",className:"text-xs font-mono",children:[p.roas.toFixed(1),"x"]})})]}),r.jsx("div",{className:"flex justify-end sm:hidden",children:r.jsxs(te,{variant:"outline",className:"text-xs font-mono",children:["ROAS: ",p.roas.toFixed(1),"x"]})})]},x))]})})]})]})})}const _Fe={id:"default",business_phone_id:"",whatsapp_business_account_id:"",access_token:"",webhook_verify_token:"",webhook_url:"",business_name:"",business_description:"",business_address:"",business_email:"",business_website:"",admin_phone_numbers:[],notification_enabled:!1,auto_reply_enabled:!1,auto_reply_message:"",working_hours:{start:"09:00",end:"18:00"}};function CFe(){var xe,Pe;const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState("api"),[i,o]=j.useState(_Fe),[l,c]=j.useState(!1),[d,u]=j.useState(null),[m,h]=j.useState({name:"",language:"zh_CN",category:"UTILITY",body_text:"",footer_text:"",variables:""}),[f,g]=j.useState("order_notification"),[p,x]=j.useState("all"),[y,v]=j.useState(""),[b,N]=j.useState(!1),{data:w,isLoading:k}=Le({queryKey:["whatsapp-config"],queryFn:async()=>{const{data:ee,error:pe}=await Y.from("whatsapp_config").select("*").eq("id","default").single();if(pe&&pe.code!=="PGRST116")return console.error("Error fetching whatsapp config:",pe),null;if(ee){const W=ee;return o({id:W.id,business_phone_id:W.business_phone_id||"",whatsapp_business_account_id:W.whatsapp_business_account_id||"",access_token:W.access_token||"",webhook_verify_token:W.webhook_verify_token||"",webhook_url:W.webhook_url||"",business_name:W.business_name||"",business_description:W.business_description||"",business_address:W.business_address||"",business_email:W.business_email||"",business_website:W.business_website||"",admin_phone_numbers:W.admin_phone_numbers||[],notification_enabled:W.notification_enabled??!1,auto_reply_enabled:W.auto_reply_enabled??!1,auto_reply_message:W.auto_reply_message||"",working_hours:W.working_hours||{start:"09:00",end:"18:00"}}),W}return null}}),{data:P=[],isLoading:_}=Le({queryKey:["whatsapp-templates"],queryFn:async()=>{const{data:ee,error:pe}=await Y.from("whatsapp_templates").select("*").order("created_at",{ascending:!1});return pe?(console.error("Error fetching whatsapp templates:",pe),[]):ee||[]}}),{data:T=[],isLoading:I}=Le({queryKey:["whatsapp-push-history"],queryFn:async()=>{const{data:ee,error:pe}=await Y.from("whatsapp_messages").select("*").eq("sender_type","admin").order("created_at",{ascending:!1}).limit(50);return pe?(console.error("Error fetching push history:",pe),[]):ee||[]}}),A=Ie({mutationFn:async()=>{const ee={id:"default",business_phone_id:i.business_phone_id||null,whatsapp_business_account_id:i.whatsapp_business_account_id||null,access_token:i.access_token||null,webhook_verify_token:i.webhook_verify_token||null,webhook_url:i.webhook_url||null,business_name:i.business_name||null,business_description:i.business_description||null,business_address:i.business_address||null,business_email:i.business_email||null,business_website:i.business_website||null,admin_phone_numbers:i.admin_phone_numbers,notification_enabled:i.notification_enabled,auto_reply_enabled:i.auto_reply_enabled,auto_reply_message:i.auto_reply_message||null,working_hours:i.working_hours,updated_at:new Date().toISOString()},{error:pe}=await Y.from("whatsapp_config").upsert(ee,{onConflict:"id"});if(pe)throw pe},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp-config"]}),t({title:e("admin.whatsappConfigPage.configSaved")})},onError:ee=>{t({title:e("admin.whatsappConfigPage.configSaveFailed"),description:String(ee),variant:"destructive"})}}),R=Ie({mutationFn:async()=>{const ee=m.variables?m.variables.split(",").map(W=>W.trim()).filter(Boolean):null,pe={name:m.name,language:m.language,category:m.category,body_text:m.body_text,footer_text:m.footer_text||null,variables:ee,status:"draft"};if(d){const{error:W}=await Y.from("whatsapp_templates").update({...pe,updated_at:new Date().toISOString()}).eq("id",d.id);if(W)throw W}else{const{error:W}=await Y.from("whatsapp_templates").insert(pe);if(W)throw W}},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp-templates"]}),c(!1),u(null),$(),t({title:e(d?"admin.whatsappConfigPage.templateUpdated":"admin.whatsappConfigPage.templateCreated")})},onError:ee=>{t({title:e("admin.whatsappConfigPage.templateSaveFailed"),description:String(ee),variant:"destructive"})}}),E=Ie({mutationFn:async ee=>{const{error:pe}=await Y.from("whatsapp_templates").delete().eq("id",ee);if(pe)throw pe},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp-templates"]}),t({title:e("admin.whatsappConfigPage.templateDeleted")})},onError:ee=>{t({title:e("admin.whatsappConfigPage.templateDeleteFailed"),description:String(ee),variant:"destructive"})}}),L=Ie({mutationFn:async()=>{N(!0);const{error:ee}=await Y.from("whatsapp_messages").insert({sender_type:"admin",content:y,push_type:f,push_target:p});if(ee)throw ee},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp-push-history"]}),v(""),t({title:e("admin.whatsappConfigPage.pushSent")}),N(!1)},onError:ee=>{t({title:e("admin.whatsappConfigPage.pushFailed"),description:String(ee),variant:"destructive"}),N(!1)}}),$=()=>{h({name:"",language:"zh_CN",category:"UTILITY",body_text:"",footer_text:"",variables:""})},B=()=>{u(null),$(),c(!0)},K=ee=>{u(ee),h({name:ee.name,language:ee.language,category:ee.category,body_text:ee.body_text,footer_text:ee.footer_text||"",variables:ee.variables?ee.variables.join(", "):""}),c(!0)},S=ee=>{switch(ee){case"MARKETING":return"bg-purple-500/10 text-purple-600";case"UTILITY":return"bg-blue-500/10 text-blue-600";case"AUTHENTICATION":return"bg-orange-500/10 text-orange-600";default:return"bg-muted text-muted-foreground"}},D=ee=>{switch(ee){case"approved":return"bg-green-500/10 text-green-600";case"pending":return"bg-yellow-500/10 text-yellow-600";case"rejected":return"bg-red-500/10 text-red-600";case"draft":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},G=ee=>{switch(ee){case"order_notification":return e("admin.whatsappConfigPage.pushTypeOrder");case"customer_message":return e("admin.whatsappConfigPage.pushTypeCustomer");case"system_notification":return e("admin.whatsappConfigPage.pushTypeSystem");case"marketing_push":return e("admin.whatsappConfigPage.pushTypeMarketing");default:return ee}},q=ee=>ee?new Date(ee).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",C=(i.admin_phone_numbers||[]).join(", ");if(k||_||I)return r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})});const Q=[{key:"api",label:e("admin.whatsappConfigPage.apiConfig"),icon:to},{key:"profile",label:e("admin.whatsappConfigPage.businessProfile"),icon:ll},{key:"templates",label:e("admin.whatsappConfigPage.messageTemplates"),icon:Io},{key:"push",label:e("admin.whatsappConfigPage.adminPush"),icon:gl}];return r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.whatsappConfigPage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.whatsappConfigPage.subtitle")})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map(ee=>{const pe=ee.icon;return r.jsxs(M,{variant:a===ee.key?"default":"outline",size:"sm",className:"gap-1.5 text-xs sm:text-sm",onClick:()=>s(ee.key),children:[r.jsx(pe,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:ee.label}),r.jsxs("span",{className:"sm:hidden",children:[ee.key==="api"&&e("admin.whatsappConfigPage.apiConfig"),ee.key==="profile"&&e("admin.whatsappConfigPage.businessProfile"),ee.key==="templates"&&e("admin.whatsappConfigPage.messageTemplates"),ee.key==="push"&&e("admin.whatsappConfigPage.adminPush")]})]},ee.key)})}),a==="api"&&r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(to,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.apiConfig")]})}),r.jsxs(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.businessPhoneId")}),r.jsx(se,{value:i.business_phone_id||"",onChange:ee=>o({...i,business_phone_id:ee.target.value}),placeholder:"e.g. 1234567890",className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.whatsappBusinessAccountId")}),r.jsx(se,{value:i.whatsapp_business_account_id||"",onChange:ee=>o({...i,whatsapp_business_account_id:ee.target.value}),placeholder:"e.g. 9876543210",className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.accessToken")}),r.jsx(se,{type:"password",value:i.access_token||"",onChange:ee=>o({...i,access_token:ee.target.value}),placeholder:"EAAx...",className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.webhookVerifyToken")}),r.jsx(se,{value:i.webhook_verify_token||"",onChange:ee=>o({...i,webhook_verify_token:ee.target.value}),placeholder:"your_verify_token",className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.webhookUrl")}),r.jsx(se,{value:i.webhook_url||"",onChange:ee=>o({...i,webhook_url:ee.target.value}),placeholder:"https://your-domain.com/api/whatsapp/webhook",className:"h-9 sm:h-10"})]}),r.jsx("div",{className:"flex justify-end pt-2",children:r.jsxs(M,{onClick:()=>A.mutate(),disabled:A.isPending,className:"w-full sm:w-auto",children:[A.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.whatsappConfigPage.saveConfig")]})})]})]}),a==="profile"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(ll,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.businessInfo")]})}),r.jsxs(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.businessName")}),r.jsx(se,{value:i.business_name||"",onChange:ee=>o({...i,business_name:ee.target.value}),className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.businessDescription")}),r.jsx(At,{value:i.business_description||"",onChange:ee=>o({...i,business_description:ee.target.value}),className:"min-h-[80px]"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-xs sm:text-sm font-medium flex items-center gap-1",children:[r.jsx(cl,{className:"w-3.5 h-3.5"}),e("admin.whatsappConfigPage.businessEmail")]}),r.jsx(se,{type:"email",value:i.business_email||"",onChange:ee=>o({...i,business_email:ee.target.value}),className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-xs sm:text-sm font-medium flex items-center gap-1",children:[r.jsx(ll,{className:"w-3.5 h-3.5"}),e("admin.whatsappConfigPage.businessWebsite")]}),r.jsx(se,{value:i.business_website||"",onChange:ee=>o({...i,business_website:ee.target.value}),className:"h-9 sm:h-10"})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.businessAddress")}),r.jsx(se,{value:i.business_address||"",onChange:ee=>o({...i,business_address:ee.target.value}),className:"h-9 sm:h-10"})]})]})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Ds,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.adminPhones")]})}),r.jsxs(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.adminPhoneNumbers")}),r.jsx(se,{value:C,onChange:ee=>o({...i,admin_phone_numbers:ee.target.value.split(",").map(pe=>pe.trim()).filter(Boolean)}),placeholder:"e.g. +60123456789, +60198765432",className:"h-9 sm:h-10"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.whatsappConfigPage.adminPhoneHint")})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gl,{className:"w-4 h-4 text-primary"}),r.jsx("span",{className:"text-sm font-medium",children:e("admin.whatsappConfigPage.notificationEnabled")})]}),r.jsx(Nr,{checked:i.notification_enabled,onCheckedChange:ee=>o({...i,notification_enabled:ee})})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Io,{className:"w-4 h-4 text-primary"}),r.jsx("span",{className:"text-sm font-medium",children:e("admin.whatsappConfigPage.autoReplyEnabled")})]}),r.jsx(Nr,{checked:i.auto_reply_enabled,onCheckedChange:ee=>o({...i,auto_reply_enabled:ee})})]}),i.auto_reply_enabled&&r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.autoReplyMessage")}),r.jsx(At,{value:i.auto_reply_message||"",onChange:ee=>o({...i,auto_reply_message:ee.target.value}),placeholder:e("admin.whatsappConfigPage.autoReplyPlaceholder"),className:"min-h-[80px]"})]})]})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Tt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.workingHours")]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.workingHoursStart")}),r.jsx(se,{type:"time",value:((xe=i.working_hours)==null?void 0:xe.start)||"09:00",onChange:ee=>{var pe;return o({...i,working_hours:{start:ee.target.value,end:((pe=i.working_hours)==null?void 0:pe.end)||"18:00"}})},className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.workingHoursEnd")}),r.jsx(se,{type:"time",value:((Pe=i.working_hours)==null?void 0:Pe.end)||"18:00",onChange:ee=>{var pe;return o({...i,working_hours:{start:((pe=i.working_hours)==null?void 0:pe.start)||"09:00",end:ee.target.value}})},className:"h-9 sm:h-10"})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(M,{onClick:()=>A.mutate(),disabled:A.isPending,className:"w-full sm:w-auto",children:[A.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.whatsappConfigPage.saveConfig")]})})]}),a==="templates"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs("h2",{className:"text-base sm:text-lg font-medium flex items-center gap-2",children:[r.jsx(Io,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.messageTemplates")," (",P.length,")"]}),r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:B,children:[r.jsx(mn,{className:"w-4 h-4"}),e("admin.whatsappConfigPage.newTemplate")]})]}),P.length===0?r.jsx(V,{children:r.jsx(J,{className:"p-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Io,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.whatsappConfigPage.noTemplates")})]})})}):r.jsx("div",{className:"space-y-3",children:P.map(ee=>r.jsx(V,{children:r.jsx(J,{className:"p-3 sm:p-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[r.jsxs("div",{className:"min-w-0 flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:"font-medium text-sm sm:text-base",children:ee.name}),r.jsx(te,{variant:"outline",className:"text-xs",children:ee.language}),r.jsx(te,{className:`text-xs ${S(ee.category)}`,children:ee.category}),r.jsx(te,{className:`text-xs ${D(ee.status)}`,children:ee.status})]}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2",children:ee.body_text}),ee.variables&&ee.variables.length>0&&r.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[r.jsxs("span",{className:"text-xs text-muted-foreground",children:[e("admin.whatsappConfigPage.variables"),":"]}),ee.variables.map((pe,W)=>r.jsx(te,{variant:"outline",className:"text-xs",children:pe},W))]})]}),r.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"h-8 gap-1",onClick:()=>K(ee),children:[r.jsx(Oa,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappConfigPage.edit")})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"h-8 gap-1 text-destructive hover:text-destructive",onClick:()=>E.mutate(ee.id),disabled:E.isPending,children:[r.jsx(Dn,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappConfigPage.delete")})]})]})]})})},ee.id))})]}),a==="push"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(cy,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.sendPush")]})}),r.jsxs(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.pushType")}),r.jsxs(Et,{value:f,onValueChange:g,children:[r.jsx(_t,{className:"h-9 sm:h-10",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"order_notification",children:e("admin.whatsappConfigPage.pushTypeOrder")}),r.jsx(ye,{value:"customer_message",children:e("admin.whatsappConfigPage.pushTypeCustomer")}),r.jsx(ye,{value:"system_notification",children:e("admin.whatsappConfigPage.pushTypeSystem")}),r.jsx(ye,{value:"marketing_push",children:e("admin.whatsappConfigPage.pushTypeMarketing")})]})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.pushTarget")}),r.jsxs(Et,{value:p,onValueChange:x,children:[r.jsx(_t,{className:"h-9 sm:h-10",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"all",children:e("admin.whatsappConfigPage.pushTargetAll")}),(i.admin_phone_numbers||[]).map(ee=>r.jsx(ye,{value:ee,children:ee},ee))]})]})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.pushContent")}),r.jsx(At,{value:y,onChange:ee=>v(ee.target.value),placeholder:e("admin.whatsappConfigPage.pushContentPlaceholder"),className:"min-h-[100px]"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(M,{onClick:()=>L.mutate(),disabled:b||!y.trim(),className:"w-full sm:w-auto gap-2",children:[b?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):r.jsx(cy,{className:"w-4 h-4"}),e("admin.whatsappConfigPage.sendButton")]})})]})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Tt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.pushHistory")]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:T.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(cy,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.whatsappConfigPage.noPushHistory")})]}):r.jsx("div",{className:"space-y-2 sm:space-y-3",children:T.map(ee=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 border rounded-lg gap-2",children:[r.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[ee.push_type&&r.jsx(te,{variant:"outline",className:"text-xs",children:G(ee.push_type)}),ee.push_target&&r.jsx(te,{variant:"secondary",className:"text-xs",children:ee.push_target==="all"?e("admin.whatsappConfigPage.pushTargetAll"):ee.push_target})]}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2",children:ee.content})]}),r.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:q(ee.created_at)})]},ee.id))})})]})]})]}),r.jsx(lt,{open:l,onOpenChange:c,children:r.jsxs(st,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Io,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e(d?"admin.whatsappConfigPage.editTemplate":"admin.whatsappConfigPage.newTemplate")]}),r.jsx(Kt,{className:"text-sm",children:e(d?"admin.whatsappConfigPage.editTemplateDesc":"admin.whatsappConfigPage.newTemplateDesc")})]}),r.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-xs sm:text-sm font-medium",children:[e("admin.whatsappConfigPage.templateName")," *"]}),r.jsx(se,{value:m.name,onChange:ee=>h({...m,name:ee.target.value}),placeholder:e("admin.whatsappConfigPage.templateNamePlaceholder"),className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.templateLanguage")}),r.jsxs(Et,{value:m.language,onValueChange:ee=>h({...m,language:ee}),children:[r.jsx(_t,{className:"h-9 sm:h-10",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"zh_CN",children:"zh_CN"}),r.jsx(ye,{value:"en",children:"en"}),r.jsx(ye,{value:"ms",children:"ms"})]})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.templateCategory")}),r.jsxs(Et,{value:m.category,onValueChange:ee=>h({...m,category:ee}),children:[r.jsx(_t,{className:"h-9 sm:h-10",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"MARKETING",children:"MARKETING"}),r.jsx(ye,{value:"UTILITY",children:"UTILITY"}),r.jsx(ye,{value:"AUTHENTICATION",children:"AUTHENTICATION"})]})]})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{className:"text-xs sm:text-sm font-medium",children:[e("admin.whatsappConfigPage.templateBody")," *"]}),r.jsx(At,{value:m.body_text,onChange:ee=>h({...m,body_text:ee.target.value}),placeholder:e("admin.whatsappConfigPage.templateBodyPlaceholder"),className:"min-h-[120px]"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.templateFooter")}),r.jsx(se,{value:m.footer_text,onChange:ee=>h({...m,footer_text:ee.target.value}),placeholder:e("admin.whatsappConfigPage.templateFooterPlaceholder"),className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.templateVariables")}),r.jsx(se,{value:m.variables,onChange:ee=>h({...m,variables:ee.target.value}),placeholder:"e.g. customer_name, order_id, amount",className:"h-9 sm:h-10"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.whatsappConfigPage.templateVariablesHint")})]})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>{c(!1),u(null),$()},className:"w-full sm:w-auto",children:e("admin.whatsappConfigPage.cancel")}),r.jsxs(M,{onClick:()=>R.mutate(),disabled:R.isPending||!m.name.trim()||!m.body_text.trim(),className:"w-full sm:w-auto",children:[R.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e(d?"admin.whatsappConfigPage.updateTemplate":"admin.whatsappConfigPage.createTemplate")]})]})]})})]})}function AFe(){const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState(""),[i,o]=j.useState("all"),[l,c]=j.useState(!1),[d,u]=j.useState(null),[m,h]=j.useState(""),[f,g]=j.useState(""),[p,x]=j.useState(""),[y,v]=j.useState(""),[b,N]=j.useState("pending"),[w,k]=j.useState("unpaid"),[P,_]=j.useState(""),[T,I]=j.useState(!1),[A,R]=j.useState(null),[E,L]=j.useState(!1),[$,B]=j.useState(null),[K,S]=j.useState(""),{data:D=[],isLoading:G}=Le({queryKey:["admin-whatsapp-orders"],queryFn:async()=>{const{data:oe,error:Ee}=await Y.from("whatsapp_orders").select("*").order("created_at",{ascending:!1});return Ee?(console.error("Error fetching whatsapp orders:",Ee),[]):oe||[]}}),q=Ie({mutationFn:async oe=>{const{error:Ee}=await Y.from("whatsapp_orders").insert(oe);if(Ee)throw Ee},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-orders"]}),c(!1),Q(),t({title:e("admin.whatsappOrdersPage.orderCreated")})},onError:oe=>{t({title:e("admin.whatsappOrdersPage.createFailed"),description:String(oe),variant:"destructive"})}}),C=Ie({mutationFn:async oe=>{const{id:Ee,...tt}=oe,{error:O}=await Y.from("whatsapp_orders").update({...tt,updated_at:new Date().toISOString()}).eq("id",Ee);if(O)throw O},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-orders"]}),c(!1),Q(),t({title:e("admin.whatsappOrdersPage.orderUpdated")})},onError:oe=>{t({title:e("admin.whatsappOrdersPage.updateFailed"),description:String(oe),variant:"destructive"})}}),X=Ie({mutationFn:async oe=>{const{error:Ee}=await Y.from("whatsapp_orders").delete().eq("id",oe);if(Ee)throw Ee},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-orders"]}),t({title:e("admin.whatsappOrdersPage.orderDeleted")})},onError:oe=>{t({title:e("admin.whatsappOrdersPage.deleteFailed"),description:String(oe),variant:"destructive"})}}),Q=()=>{u(null),h(""),g(""),x(""),v(""),N("pending"),k("unpaid"),_("")},xe=()=>{Q(),c(!0)},Pe=oe=>{u(oe),h(oe.customer_phone),g(oe.customer_name),x(oe.order_data?JSON.stringify(oe.order_data,null,2):""),v((oe.total_amount/100).toString()),N(oe.status),k(oe.payment_status),_(oe.notes||""),c(!0)},ee=oe=>{R(oe),I(!0)},pe=oe=>{B(oe),S(""),L(!0)},W=()=>{!$||!K.trim()||(t({title:e("admin.whatsappOrdersPage.notificationSent"),description:`${$.customer_name} - ${K}`}),L(!1),S(""))},H=()=>{let oe=null;if(p.trim())try{oe=JSON.parse(p)}catch{t({title:e("admin.whatsappOrdersPage.invalidJson"),variant:"destructive"});return}const Ee=Math.round(parseFloat(y||"0")*100);if(!m.trim()||!f.trim()){t({title:e("admin.whatsappOrdersPage.requiredFields"),variant:"destructive"});return}d?C.mutate({id:d.id,customer_phone:m,customer_name:f,order_data:oe,total_amount:Ee,status:b,payment_status:w,notes:P||null}):q.mutate({customer_phone:m,customer_name:f,order_data:oe,total_amount:Ee,status:b,payment_status:w,notes:P||null})},ie=oe=>{confirm(e("admin.whatsappOrdersPage.confirmDelete"))&&X.mutate(oe.id)},ae=D.filter(oe=>{const Ee=a===""||oe.customer_phone.toLowerCase().includes(a.toLowerCase())||oe.customer_name.toLowerCase().includes(a.toLowerCase()),tt=i==="all"||oe.status===i;return Ee&&tt}),le={total:D.length,pending:D.filter(oe=>oe.status==="pending").length,paid:D.filter(oe=>oe.payment_status==="paid").length,revenue:D.filter(oe=>oe.payment_status==="paid").reduce((oe,Ee)=>oe+Ee.total_amount,0)},ve=oe=>{switch(oe){case"paid":return r.jsx(te,{className:"bg-green-500/10 text-green-500 border-green-500/20",children:e("admin.whatsappOrdersPage.paymentPaid")});case"refunded":return r.jsx(te,{className:"bg-gray-500/10 text-gray-500 border-gray-500/20",children:e("admin.whatsappOrdersPage.paymentRefunded")});default:return r.jsx(te,{className:"bg-red-500/10 text-red-500 border-red-500/20",children:e("admin.whatsappOrdersPage.paymentUnpaid")})}},ne=oe=>{switch(oe){case"confirmed":return r.jsx(te,{variant:"outline",className:"text-blue-500 border-blue-500/30",children:e("admin.whatsappOrdersPage.statusConfirmed")});case"processing":return r.jsx(te,{variant:"outline",className:"text-yellow-500 border-yellow-500/30",children:e("admin.whatsappOrdersPage.statusProcessing")});case"shipped":return r.jsx(te,{variant:"outline",className:"text-primary border-primary/30",children:e("admin.whatsappOrdersPage.statusShipped")});case"delivered":return r.jsx(te,{variant:"outline",className:"text-green-500 border-green-500/30",children:e("admin.whatsappOrdersPage.statusDelivered")});default:return r.jsx(te,{variant:"outline",className:"text-yellow-500 border-yellow-500/30",children:e("admin.whatsappOrdersPage.statusPending")})}},F=oe=>oe?new Date(oe).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",me=oe=>oe?new Date(oe).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",je=oe=>{if(!oe)return"-";try{return Array.isArray(oe)?oe.map(Ee=>`${Ee.name||"Item"} x${Ee.quantity||1}`).join(", "):typeof oe=="object"?JSON.stringify(oe).slice(0,80)+"...":String(oe).slice(0,80)}catch{return"-"}};return G?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-whatsapp-orders-title",children:e("admin.whatsappOrdersPage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.subtitle")})]}),r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:xe,"data-testid":"button-new-order",children:[r.jsx(mn,{className:"w-4 h-4"}),e("admin.whatsappOrdersPage.newOrder")]})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(Rn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:le.total}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappOrdersPage.totalOrders")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:r.jsx(Ds,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:le.pending}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappOrdersPage.pendingOrders")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:r.jsx(Es,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:le.paid}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappOrdersPage.paidOrders")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(Rn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-primary truncate",children:["RM ",(le.revenue/100).toLocaleString()]}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappOrdersPage.totalRevenue")})]})]})})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Es,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappOrdersPage.orderList")]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.whatsappOrdersPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:a,onChange:oe=>s(oe.target.value),"data-testid":"input-search"})]})]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:r.jsxs(Pn,{value:i,onValueChange:o,children:[r.jsxs(yn,{className:"grid w-full grid-cols-6 h-auto p-1",children:[r.jsx(ke,{value:"all",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-all",children:e("admin.whatsappOrdersPage.tabAll")}),r.jsxs(ke,{value:"pending",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-pending",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.statusPending")}),r.jsx("span",{className:"sm:hidden",children:e("admin.whatsappOrdersPage.tabPendingShort")})]}),r.jsxs(ke,{value:"confirmed",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-confirmed",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.statusConfirmed")}),r.jsx("span",{className:"sm:hidden",children:e("admin.whatsappOrdersPage.tabConfirmedShort")})]}),r.jsxs(ke,{value:"processing",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-processing",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.statusProcessing")}),r.jsx("span",{className:"sm:hidden",children:e("admin.whatsappOrdersPage.tabProcessingShort")})]}),r.jsxs(ke,{value:"shipped",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-shipped",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.statusShipped")}),r.jsx("span",{className:"sm:hidden",children:e("admin.whatsappOrdersPage.tabShippedShort")})]}),r.jsxs(ke,{value:"delivered",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-delivered",children:[r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.statusDelivered")}),r.jsx("span",{className:"sm:hidden",children:e("admin.whatsappOrdersPage.tabDeliveredShort")})]})]}),r.jsx(Nt,{value:i,className:"mt-3 sm:mt-4",children:ae.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Rn,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.whatsappOrdersPage.noOrders")})]}):r.jsx("div",{className:"space-y-2 sm:space-y-3",children:ae.map(oe=>r.jsxs("div",{className:"flex flex-col p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3","data-testid":`order-${oe.id}`,children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:r.jsx(Ds,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[r.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:oe.customer_name}),ve(oe.payment_status),ne(oe.status)]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ds,{className:"w-3 h-3"}),oe.customer_phone]}),r.jsx("span",{className:"shrink-0",children:F(oe.created_at)})]})]})]}),r.jsx("div",{className:"flex items-center gap-2 pl-12 sm:pl-0",children:r.jsxs("span",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(oe.total_amount/100).toLocaleString()]})})]}),r.jsx("div",{className:"pl-12 sm:pl-14",children:r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:je(oe.order_data)})}),r.jsxs("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 pl-12 sm:pl-14",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>ee(oe),"data-testid":`button-view-${oe.id}`,children:[r.jsx(pr,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.viewDetails")})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>Pe(oe),"data-testid":`button-edit-${oe.id}`,children:[r.jsx(Oa,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.edit")})]}),oe.conversation_id&&r.jsx(M,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",asChild:!0,children:r.jsxs("a",{href:`/admin/whatsapp/conversations/${oe.conversation_id}`,"data-testid":`button-conversation-${oe.id}`,children:[r.jsx(Es,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.viewConversation")})]})}),r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>pe(oe),"data-testid":`button-notify-${oe.id}`,children:[r.jsx(gl,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.notifyAdmin")})]}),oe.order_id&&r.jsx(M,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",asChild:!0,children:r.jsxs("a",{href:`/admin/orders/${oe.order_id}`,"data-testid":`button-link-order-${oe.id}`,children:[r.jsx(Rn,{className:"w-3.5 h-3.5"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.linkToOrder")})]})}),r.jsx(M,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs text-destructive hover:text-destructive",onClick:()=>ie(oe),"data-testid":`button-delete-${oe.id}`,children:r.jsx(Dn,{className:"w-3.5 h-3.5"})})]})]},oe.id))})})]})})]})]}),r.jsx(lt,{open:l,onOpenChange:c,children:r.jsxs(st,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[d?r.jsx(Oa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}):r.jsx(mn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e(d?"admin.whatsappOrdersPage.editOrder":"admin.whatsappOrdersPage.createOrder")]}),r.jsx(Kt,{className:"text-sm",children:e(d?"admin.whatsappOrdersPage.editOrderDesc":"admin.whatsappOrdersPage.createOrderDesc")})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsxs("label",{className:"text-xs sm:text-sm font-medium",children:[e("admin.whatsappOrdersPage.customerPhone")," *"]}),r.jsx(se,{value:m,onChange:oe=>h(oe.target.value),placeholder:"+60123456789",className:"h-9 sm:h-10","data-testid":"input-customer-phone"})]}),r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsxs("label",{className:"text-xs sm:text-sm font-medium",children:[e("admin.whatsappOrdersPage.customerName")," *"]}),r.jsx(se,{value:f,onChange:oe=>g(oe.target.value),placeholder:e("admin.whatsappOrdersPage.customerNamePlaceholder"),className:"h-9 sm:h-10","data-testid":"input-customer-name"})]})]}),r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappOrdersPage.orderData")}),r.jsx(At,{value:p,onChange:oe=>x(oe.target.value),placeholder:e("admin.whatsappOrdersPage.orderDataPlaceholder"),className:"min-h-[100px] font-mono text-xs sm:text-sm","data-testid":"input-order-data"})]}),r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsxs("label",{className:"text-xs sm:text-sm font-medium",children:[e("admin.whatsappOrdersPage.totalAmount")," (RM)"]}),r.jsx(se,{type:"number",step:"0.01",value:y,onChange:oe=>v(oe.target.value),placeholder:"0.00",className:"h-9 sm:h-10","data-testid":"input-total-amount"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappOrdersPage.orderStatus")}),r.jsxs(Et,{value:b,onValueChange:N,children:[r.jsx(_t,{className:"h-9 sm:h-10","data-testid":"select-status",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"pending",children:e("admin.whatsappOrdersPage.statusPending")}),r.jsx(ye,{value:"confirmed",children:e("admin.whatsappOrdersPage.statusConfirmed")}),r.jsx(ye,{value:"processing",children:e("admin.whatsappOrdersPage.statusProcessing")}),r.jsx(ye,{value:"shipped",children:e("admin.whatsappOrdersPage.statusShipped")}),r.jsx(ye,{value:"delivered",children:e("admin.whatsappOrdersPage.statusDelivered")})]})]})]}),r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappOrdersPage.paymentStatus")}),r.jsxs(Et,{value:w,onValueChange:k,children:[r.jsx(_t,{className:"h-9 sm:h-10","data-testid":"select-payment-status",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"unpaid",children:e("admin.whatsappOrdersPage.paymentUnpaid")}),r.jsx(ye,{value:"paid",children:e("admin.whatsappOrdersPage.paymentPaid")}),r.jsx(ye,{value:"refunded",children:e("admin.whatsappOrdersPage.paymentRefunded")})]})]})]})]}),r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappOrdersPage.notes")}),r.jsx(At,{value:P,onChange:oe=>_(oe.target.value),placeholder:e("admin.whatsappOrdersPage.notesPlaceholder"),className:"min-h-[80px]","data-testid":"input-notes"})]})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:e("admin.whatsappOrdersPage.cancel")}),r.jsxs(M,{onClick:H,disabled:q.isPending||C.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-order",children:[(q.isPending||C.isPending)&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e(d?"admin.whatsappOrdersPage.save":"admin.whatsappOrdersPage.create")]})]})]})}),r.jsx(lt,{open:T,onOpenChange:I,children:r.jsxs(st,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(pr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappOrdersPage.orderDetails")]}),r.jsxs(Kt,{className:"text-sm",children:[A==null?void 0:A.customer_name," - ",A==null?void 0:A.customer_phone]})]}),A&&r.jsxs("div",{className:"space-y-4 sm:space-y-6 py-2 sm:py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.customerName")}),r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:A.customer_name})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Ds,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),e("admin.whatsappOrdersPage.customerPhone")]}),r.jsx("p",{className:"font-medium text-sm sm:text-base",children:A.customer_phone})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.orderStatus")}),ne(A.status)]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.paymentStatus")}),ve(A.payment_status)]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.totalAmount")}),r.jsxs("p",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(A.total_amount/100).toLocaleString()]})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.createdAt")}),r.jsx("p",{className:"font-medium text-sm sm:text-base",children:me(A.created_at)})]})]}),A.order_data&&r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.orderData")}),r.jsx("pre",{className:"text-xs bg-muted p-2.5 sm:p-3 rounded-lg overflow-x-auto max-h-48",children:JSON.stringify(A.order_data,null,2)})]}),A.notes&&r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.notes")}),r.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg",children:A.notes})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[A.conversation_id&&r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.conversationId")}),r.jsx(M,{variant:"outline",size:"sm",className:"h-8 gap-1 w-full sm:w-auto",asChild:!0,children:r.jsxs("a",{href:`/admin/whatsapp/conversations/${A.conversation_id}`,children:[r.jsx(Es,{className:"w-4 h-4"}),e("admin.whatsappOrdersPage.viewConversation")]})})]}),A.order_id&&r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.linkedOrderId")}),r.jsx(M,{variant:"outline",size:"sm",className:"h-8 gap-1 w-full sm:w-auto",asChild:!0,children:r.jsxs("a",{href:`/admin/orders/${A.order_id}`,children:[r.jsx(Rn,{className:"w-4 h-4"}),e("admin.whatsappOrdersPage.linkToOrder")]})})]})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.updatedAt")}),r.jsx("p",{className:"text-xs sm:text-sm",children:me(A.updated_at)})]})]}),r.jsx(kt,{className:"mt-3 sm:mt-4",children:r.jsx(M,{variant:"outline",onClick:()=>I(!1),className:"w-full sm:w-auto",children:e("admin.whatsappOrdersPage.close")})})]})}),r.jsx(lt,{open:E,onOpenChange:L,children:r.jsxs(st,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(gl,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappOrdersPage.notifyAdminTitle")]}),r.jsx(Kt,{className:"text-sm",children:$?`${$.customer_name} - ${$.customer_phone}`:""})]}),r.jsx("div",{className:"space-y-3 py-2 sm:py-4",children:r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappOrdersPage.notificationMessage")}),r.jsx(At,{value:K,onChange:oe=>S(oe.target.value),placeholder:e("admin.whatsappOrdersPage.notificationPlaceholder"),className:"min-h-[80px]","data-testid":"input-notify-message"})]})}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>L(!1),className:"w-full sm:w-auto",children:e("admin.whatsappOrdersPage.cancel")}),r.jsxs(M,{onClick:W,disabled:!K.trim(),className:"w-full sm:w-auto gap-2","data-testid":"button-send-notification",children:[r.jsx(cy,{className:"w-4 h-4"}),e("admin.whatsappOrdersPage.send")]})]})]})})]})}function TFe(){const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState(""),[i,o]=j.useState("all"),[l,c]=j.useState(!1),[d,u]=j.useState(!1),[m,h]=j.useState(null),[f,g]=j.useState(""),[p,x]=j.useState(""),[y,v]=j.useState(""),[b,N]=j.useState("manual"),{data:w=[],isLoading:k}=Le({queryKey:["admin-whatsapp-registrations"],queryFn:async()=>{const{data:Q,error:xe}=await Y.from("whatsapp_registrations").select("*").order("created_at",{ascending:!1});return xe?(console.error("Error fetching whatsapp registrations:",xe),[]):Q||[]}}),P=Ie({mutationFn:async Q=>{const{error:xe}=await Y.from("whatsapp_registrations").insert({customer_phone:Q.customer_phone,customer_name:Q.customer_name||null,email:Q.email||null,registration_source:Q.registration_source,status:"pending"});if(xe)throw xe},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-registrations"]}),u(!1),T(),t({title:e("admin.whatsappMembersPage.createSuccess")})},onError:Q=>{t({title:e("admin.whatsappMembersPage.createError"),description:String(Q),variant:"destructive"})}}),_=Ie({mutationFn:async Q=>{const{error:xe}=await Y.from("whatsapp_registrations").delete().eq("id",Q);if(xe)throw xe},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-registrations"]}),c(!1),h(null),t({title:e("admin.whatsappMembersPage.deleteSuccess")})},onError:Q=>{t({title:e("admin.whatsappMembersPage.deleteError"),description:String(Q),variant:"destructive"})}}),T=()=>{g(""),x(""),v(""),N("manual")},I=()=>{T(),u(!0)},A=()=>{if(!f.trim()){t({title:e("admin.whatsappMembersPage.phoneRequired"),variant:"destructive"});return}P.mutate({customer_phone:f.trim(),customer_name:p.trim(),email:y.trim(),registration_source:b})},R=Q=>{h(Q),c(!0)},E=Q=>{_.mutate(Q)},L=w.filter(Q=>{const xe=a===""||Q.customer_phone.toLowerCase().includes(a.toLowerCase())||(Q.customer_name||"").toLowerCase().includes(a.toLowerCase())||(Q.email||"").toLowerCase().includes(a.toLowerCase()),Pe=i==="all"||Q.status===i;return xe&&Pe}),$=w.length,B=w.filter(Q=>Q.status==="completed").length,K=w.filter(Q=>Q.status==="pending").length,S=$>0?(B/$*100).toFixed(1):"0.0",D=Q=>{switch(Q){case"pending":return r.jsx(te,{className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:e("admin.whatsappMembersPage.statusPending")});case"completed":return r.jsx(te,{className:"bg-green-500/10 text-green-600 border-green-500/20",children:e("admin.whatsappMembersPage.statusCompleted")});case"failed":return r.jsx(te,{className:"bg-red-500/10 text-red-600 border-red-500/20",children:e("admin.whatsappMembersPage.statusFailed")});default:return r.jsx(te,{variant:"outline",children:Q})}},G=Q=>{switch(Q){case"whatsapp":return r.jsx(te,{variant:"secondary",children:"WhatsApp"});case"manual":return r.jsx(te,{variant:"outline",children:e("admin.whatsappMembersPage.sourceManual")});case"referral":return r.jsx(te,{className:"bg-primary/10 text-primary border-primary/20",children:e("admin.whatsappMembersPage.sourceReferral")});default:return r.jsx(te,{variant:"outline",children:Q})}},q=Q=>Q?new Date(Q).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",C=Q=>Q?new Date(Q).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",X=[{value:"all",label:e("admin.whatsappMembersPage.tabAll")},{value:"pending",label:e("admin.whatsappMembersPage.statusPending")},{value:"completed",label:e("admin.whatsappMembersPage.statusCompleted")},{value:"failed",label:e("admin.whatsappMembersPage.statusFailed")}];return k?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.whatsappMembersPage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.whatsappMembersPage.subtitle")})]}),r.jsxs(M,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:I,children:[r.jsx(mn,{className:"w-4 h-4"}),e("admin.whatsappMembersPage.addRegistration")]})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(Mt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:$}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappMembersPage.totalRegistrations")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:r.jsx(De,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:B}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappMembersPage.completedCount")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:r.jsx(fe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:K}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappMembersPage.pendingCount")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(la,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("p",{className:"text-lg sm:text-2xl font-bold",children:[S,"%"]}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappMembersPage.conversionRate")})]})]})})]}),r.jsx(V,{children:r.jsxs(J,{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4 mb-4",children:[r.jsxs("h2",{className:"flex items-center gap-2 text-base sm:text-lg font-semibold",children:[r.jsx(la,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappMembersPage.registrationList")]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.whatsappMembersPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:a,onChange:Q=>s(Q.target.value)})]})]}),r.jsx("div",{className:"flex gap-1 p-1 bg-muted rounded-lg mb-4",children:X.map(Q=>r.jsx("button",{className:`flex-1 text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3 rounded-md transition-colors ${i===Q.value?"bg-background text-foreground shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,onClick:()=>o(Q.value),children:Q.label},Q.value))}),L.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(la,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.whatsappMembersPage.noRegistrations")})]}):r.jsx("div",{className:"space-y-2 sm:space-y-3",children:L.map(Q=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3",children:[r.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 min-w-0",children:[r.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(Ds,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),r.jsxs("div",{className:"min-w-0 space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[r.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:Q.customer_phone}),G(Q.registration_source),D(Q.status)]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground flex-wrap",children:[Q.customer_name&&r.jsxs("span",{className:"flex items-center gap-1 truncate",children:[r.jsx(Mt,{className:"w-3 h-3"}),Q.customer_name]}),Q.email&&r.jsxs("span",{className:"flex items-center gap-1 truncate",children:[r.jsx(cl,{className:"w-3 h-3"}),Q.email]}),r.jsx("span",{className:"shrink-0",children:q(Q.created_at)})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-1 pl-12 sm:pl-0",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>R(Q),children:[r.jsx(pr,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappMembersPage.viewDetail")})]}),r.jsx(M,{variant:"outline",size:"sm",className:"gap-1 h-8 text-destructive hover:text-destructive",onClick:()=>E(Q.id),children:r.jsx(Dn,{className:"w-4 h-4"})})]})]},Q.id))})]})})]}),r.jsx(lt,{open:l,onOpenChange:c,children:r.jsxs(st,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(la,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappMembersPage.registrationDetail")]}),r.jsx(Kt,{className:"text-sm",children:e("admin.whatsappMembersPage.registrationDetailDesc")})]}),m&&r.jsxs("div",{className:"space-y-4 sm:space-y-6 py-2 sm:py-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Ds,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),e("admin.whatsappMembersPage.phone")]}),r.jsx("p",{className:"font-medium text-sm sm:text-base",children:m.customer_phone})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(Mt,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),e("admin.whatsappMembersPage.name")]}),r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:m.customer_name||"-"})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[r.jsx(cl,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),e("admin.whatsappMembersPage.email")]}),r.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:m.email||"-"})]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappMembersPage.status")}),D(m.status)]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappMembersPage.source")}),G(m.registration_source)]}),r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappMembersPage.createdAt")}),r.jsx("p",{className:"font-medium text-sm sm:text-base",children:C(m.created_at)})]})]}),m.conversation_id&&r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappMembersPage.conversationId")}),r.jsx("p",{className:"font-mono text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg break-all",children:m.conversation_id})]}),m.member_id&&r.jsx("div",{className:"p-3 sm:p-4 border rounded-lg bg-green-500/5 border-green-500/20",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(De,{className:"w-5 h-5 text-green-500 shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm sm:text-base",children:e("admin.whatsappMembersPage.memberLinked")}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground font-mono break-all",children:m.member_id})]})]}),r.jsx(M,{variant:"outline",size:"sm",className:"h-8 w-full sm:w-auto",asChild:!0,children:r.jsxs("a",{href:`/admin/members/${m.member_id}`,children:[r.jsx(pr,{className:"w-4 h-4 mr-1"}),e("admin.whatsappMembersPage.viewMemberProfile")]})})]})}),m.metadata&&r.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappMembersPage.metadata")}),r.jsx("pre",{className:"text-xs bg-muted p-2.5 sm:p-3 rounded-lg overflow-x-auto",children:JSON.stringify(m.metadata,null,2)})]})]}),r.jsx(kt,{className:"mt-3 sm:mt-4",children:r.jsx(M,{variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:e("admin.whatsappMembersPage.close")})})]})}),r.jsx(lt,{open:d,onOpenChange:u,children:r.jsxs(st,{className:"w-[95vw] max-w-[500px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(mn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappMembersPage.addRegistration")]}),r.jsx(Kt,{className:"text-sm",children:e("admin.whatsappMembersPage.addRegistrationDesc")})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[r.jsx(Ds,{className:"w-3.5 h-3.5"}),e("admin.whatsappMembersPage.phone")," *"]}),r.jsx(se,{value:f,onChange:Q=>g(Q.target.value),placeholder:e("admin.whatsappMembersPage.phonePlaceholder"),className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[r.jsx(Mt,{className:"w-3.5 h-3.5"}),e("admin.whatsappMembersPage.name")]}),r.jsx(se,{value:p,onChange:Q=>x(Q.target.value),placeholder:e("admin.whatsappMembersPage.namePlaceholder"),className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[r.jsx(cl,{className:"w-3.5 h-3.5"}),e("admin.whatsappMembersPage.email")]}),r.jsx(se,{type:"email",value:y,onChange:Q=>v(Q.target.value),placeholder:e("admin.whatsappMembersPage.emailPlaceholder"),className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:e("admin.whatsappMembersPage.source")}),r.jsxs(Et,{value:b,onValueChange:N,children:[r.jsx(_t,{className:"h-9 sm:h-10",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"whatsapp",children:"WhatsApp"}),r.jsx(ye,{value:"manual",children:e("admin.whatsappMembersPage.sourceManual")}),r.jsx(ye,{value:"referral",children:e("admin.whatsappMembersPage.sourceReferral")})]})]})]})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:e("admin.whatsappMembersPage.cancel")}),r.jsxs(M,{onClick:A,disabled:P.isPending,className:"w-full sm:w-auto",children:[P.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.whatsappMembersPage.confirm")]})]})]})})]})}const OFe={business_plan:Mt,product_info:nF,order_service:Wc,sales_support:Yy};function EFe(){const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState("config"),[i,o]=j.useState(""),[l,c]=j.useState(!1),[d,u]=j.useState(null),[m,h]=j.useState(!1),[f,g]=j.useState(null),[p,x]=j.useState(""),[y,v]=j.useState(""),[b,N]=j.useState(""),[w,k]=j.useState(""),[P,_]=j.useState(""),[T,I]=j.useState(""),[A,R]=j.useState(.7),[E,L]=j.useState(1024),[$,B]=j.useState("zh"),{data:K=[],isLoading:S}=Le({queryKey:["ai-bot-configs"],queryFn:async()=>{const{data:F,error:me}=await Y.from("ai_bot_config").select("*").order("created_at",{ascending:!0});return me?(console.error("Error fetching bot configs:",me),[]):F||[]}}),{data:D=[],isLoading:G}=Le({queryKey:["ai-conversations"],queryFn:async()=>{const{data:F,error:me}=await Y.from("ai_conversations").select("*").order("started_at",{ascending:!1});return me?(console.error("Error fetching conversations:",me),[]):F||[]}}),{data:q=[],isLoading:C}=Le({queryKey:["ai-messages",f==null?void 0:f.id],queryFn:async()=>{if(!f)return[];const{data:F,error:me}=await Y.from("ai_messages").select("*").eq("conversation_id",f.id).order("created_at",{ascending:!0});return me?(console.error("Error fetching messages:",me),[]):F||[]},enabled:!!(f!=null&&f.id)}),{data:X={}}=Le({queryKey:["ai-bot-stats",K.map(F=>F.id).join(",")],queryFn:async()=>{if(K.length===0)return{};const F={};for(const me of K){const{data:je,error:oe}=await Y.from("ai_conversations").select("id, satisfaction_rating").eq("bot_id",me.id);if(oe){F[me.id]={totalConversations:0,avgSatisfaction:0};continue}const Ee=je||[],tt=Ee.filter(Z=>Z.satisfaction_rating!=null),O=tt.length>0?tt.reduce((Z,z)=>Z+(z.satisfaction_rating||0),0)/tt.length:0;F[me.id]={totalConversations:Ee.length,avgSatisfaction:Math.round(O*10)/10}}return F},enabled:K.length>0}),Q=Ie({mutationFn:async({id:F,is_enabled:me})=>{const{error:je}=await Y.from("ai_bot_config").update({is_enabled:me,updated_at:new Date().toISOString()}).eq("id",F);if(je)throw je},onSuccess:()=>{n.invalidateQueries({queryKey:["ai-bot-configs"]}),t({title:e("admin.aiCustomerServicePage.toggleSuccess")})},onError:F=>{t({title:e("admin.aiCustomerServicePage.toggleError"),description:String(F),variant:"destructive"})}}),xe=Ie({mutationFn:async F=>{const{id:me,...je}=F,{error:oe}=await Y.from("ai_bot_config").update({...je,updated_at:new Date().toISOString()}).eq("id",me);if(oe)throw oe},onSuccess:()=>{n.invalidateQueries({queryKey:["ai-bot-configs"]}),c(!1),t({title:e("admin.aiCustomerServicePage.updateSuccess")})},onError:F=>{t({title:e("admin.aiCustomerServicePage.updateError"),description:String(F),variant:"destructive"})}}),Pe=F=>{u(F),x(F.description||""),v(F.system_prompt||""),N(F.knowledge_base?JSON.stringify(F.knowledge_base,null,2):""),k(F.greeting_message||""),_(F.fallback_message||""),I(F.model||"gpt-4o-mini"),R(F.temperature??.7),L(F.max_tokens??1024),B(F.response_language||"zh"),c(!0)},ee=()=>{if(!d)return;let F=null;if(b.trim())try{F=JSON.parse(b)}catch{t({title:e("admin.aiCustomerServicePage.invalidJson"),variant:"destructive"});return}xe.mutate({id:d.id,description:p,system_prompt:y,knowledge_base:F,greeting_message:w,fallback_message:P,model:T,temperature:A,max_tokens:E,response_language:$})},pe=F=>{g(F),h(!0)},W=F=>{switch(F){case"active":return r.jsx(te,{className:"bg-green-500/10 text-green-500 border-green-500/20",children:e("admin.aiCustomerServicePage.statusActive")});case"completed":return r.jsx(te,{className:"bg-gray-500/10 text-gray-500 border-gray-500/20",children:e("admin.aiCustomerServicePage.statusCompleted")});case"escalated":return r.jsx(te,{className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",children:e("admin.aiCustomerServicePage.statusEscalated")});case"failed":return r.jsx(te,{className:"bg-red-500/10 text-red-500 border-red-500/20",children:e("admin.aiCustomerServicePage.statusFailed")});default:return r.jsx(te,{variant:"outline",children:F})}},H=F=>F?new Date(F).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",ie=F=>F?new Date(F).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",ae=F=>F==null?r.jsx("span",{className:"text-xs text-muted-foreground",children:"-"}):r.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(me=>r.jsx(Lt,{className:`w-3.5 h-3.5 ${me<=F?"text-yellow-500 fill-yellow-500":"text-muted-foreground/30"}`},me))}),le={total:D.length,active:D.filter(F=>F.status==="active").length,escalated:D.filter(F=>F.status==="escalated").length,avgSatisfaction:D.filter(F=>F.satisfaction_rating!=null).length>0?Math.round(D.filter(F=>F.satisfaction_rating!=null).reduce((F,me)=>F+(me.satisfaction_rating||0),0)/D.filter(F=>F.satisfaction_rating!=null).length*10)/10:0},ve=D.filter(F=>{var je,oe,Ee;if(i==="")return!0;const me=i.toLowerCase();return((je=F.customer_phone)==null?void 0:je.toLowerCase().includes(me))||((oe=F.customer_name)==null?void 0:oe.toLowerCase().includes(me))||((Ee=F.bot_id)==null?void 0:Ee.toLowerCase().includes(me))});return S||G?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsxs(ut,{children:[r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.aiCustomerServicePage.title")}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.subtitle")})]})}),r.jsxs("div",{className:"flex gap-2 border-b",children:[r.jsxs("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${a==="config"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>s("config"),children:[r.jsx(to,{className:"w-4 h-4 inline-block mr-1.5 -mt-0.5"}),e("admin.aiCustomerServicePage.botConfig")]}),r.jsxs("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${a==="conversations"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>s("conversations"),children:[r.jsx(Es,{className:"w-4 h-4 inline-block mr-1.5 -mt-0.5"}),e("admin.aiCustomerServicePage.conversations")]})]}),a==="config"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:K.map(F=>{const me=OFe[F.id]||cf,je=X[F.id]||{totalConversations:0,avgSatisfaction:0};return r.jsxs(V,{className:"relative",children:[r.jsx(Te,{className:"p-4 sm:p-6 pb-2 sm:pb-3",children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(me,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx(Oe,{className:"text-sm sm:text-base truncate",children:F.name}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2",children:F.description})]})]}),r.jsx(Nr,{checked:F.is_enabled,onCheckedChange:oe=>Q.mutate({id:F.id,is_enabled:oe})})]})}),r.jsxs(J,{className:"p-4 sm:p-6 pt-2 sm:pt-3 space-y-3",children:[F.tags&&F.tags.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1.5",children:F.tags.map((oe,Ee)=>r.jsx(te,{variant:"secondary",className:"text-xs",children:oe},Ee))}),r.jsxs("div",{className:"flex items-center gap-4 text-xs sm:text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Es,{className:"w-3.5 h-3.5"}),r.jsxs("span",{children:[je.totalConversations," ",e("admin.aiCustomerServicePage.totalConversations")]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Lt,{className:"w-3.5 h-3.5"}),r.jsxs("span",{children:[je.avgSatisfaction>0?je.avgSatisfaction:"-"," ",e("admin.aiCustomerServicePage.avgSatisfaction")]})]})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"w-full gap-2",onClick:()=>Pe(F),children:[r.jsx(Oa,{className:"w-4 h-4"}),e("admin.aiCustomerServicePage.configure")]})]})]},F.id)})}),a==="conversations"&&r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(Es,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:le.total}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.aiCustomerServicePage.statTotal")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:r.jsx($Z,{className:"w-5 h-5 text-green-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:le.active}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.aiCustomerServicePage.statActive")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:r.jsx(yl,{className:"w-5 h-5 text-yellow-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:le.escalated}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.aiCustomerServicePage.statEscalated")})]})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4 flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:r.jsx(Lt,{className:"w-5 h-5 text-yellow-500"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:le.avgSatisfaction||"-"}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.aiCustomerServicePage.statAvgSatisfaction")})]})]})})]}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[r.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(cf,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.aiCustomerServicePage.conversationList")]}),r.jsxs("div",{className:"relative w-full md:w-64",children:[r.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(se,{placeholder:e("admin.aiCustomerServicePage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:i,onChange:F=>o(F.target.value)})]})]})}),r.jsx(J,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:ve.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Es,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:e("admin.aiCustomerServicePage.noConversations")})]}):r.jsx("div",{className:"space-y-2 sm:space-y-3",children:ve.map(F=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer gap-3",onClick:()=>pe(F),children:[r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[r.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:r.jsx(cf,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[r.jsx(te,{variant:"outline",className:"text-xs",children:F.bot_id}),W(F.status)]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground mt-0.5",children:[r.jsx("span",{className:"truncate",children:F.customer_phone}),r.jsx("span",{className:"shrink-0",children:H(F.started_at)})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 pl-12 sm:pl-0",children:[r.jsxs("div",{className:"flex items-center gap-3 text-xs sm:text-sm text-muted-foreground",children:[r.jsxs("span",{children:[F.message_count," ",e("admin.aiCustomerServicePage.messages")]}),r.jsxs("span",{children:[F.total_tokens," tokens"]})]}),r.jsx("div",{className:"shrink-0",children:ae(F.satisfaction_rating)})]})]},F.id))})})]})]})]}),r.jsx(lt,{open:l,onOpenChange:c,children:r.jsxs(st,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(to,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.aiCustomerServicePage.configureBot")]}),r.jsx(Kt,{className:"text-sm",children:e("admin.aiCustomerServicePage.configureBotDesc")})]}),d&&r.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldName")}),r.jsx(se,{value:d.name,readOnly:!0,className:"bg-muted h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldDescription")}),r.jsx(At,{value:p,onChange:F=>x(F.target.value),className:"min-h-[60px]"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldSystemPrompt")}),r.jsx(At,{value:y,onChange:F=>v(F.target.value),className:"min-h-[160px] font-mono text-xs sm:text-sm"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldKnowledgeBase")}),r.jsx(At,{value:b,onChange:F=>N(F.target.value),placeholder:"JSON format",className:"min-h-[120px] font-mono text-xs sm:text-sm"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldGreetingMessage")}),r.jsx(At,{value:w,onChange:F=>k(F.target.value),className:"min-h-[80px]"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldFallbackMessage")}),r.jsx(At,{value:P,onChange:F=>_(F.target.value),className:"min-h-[80px]"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldModel")}),r.jsxs(Et,{value:T,onValueChange:I,children:[r.jsx(_t,{className:"h-9 sm:h-10",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"gpt-4o-mini",children:"gpt-4o-mini"}),r.jsx(ye,{value:"gpt-4o",children:"gpt-4o"}),r.jsx(ye,{value:"claude-3-haiku",children:"claude-3-haiku"})]})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldTemperature")}),r.jsx(se,{type:"number",min:0,max:1,step:.1,value:A,onChange:F=>R(parseFloat(F.target.value)||0),className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldMaxTokens")}),r.jsx(se,{type:"number",min:1,value:E,onChange:F=>L(parseInt(F.target.value)||1024),className:"h-9 sm:h-10"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldResponseLanguage")}),r.jsxs(Et,{value:$,onValueChange:B,children:[r.jsx(_t,{className:"h-9 sm:h-10",children:r.jsx(Rt,{})}),r.jsxs(Ct,{children:[r.jsx(ye,{value:"zh",children:"zh"}),r.jsx(ye,{value:"en",children:"en"}),r.jsx(ye,{value:"ms",children:"ms"})]})]})]})]})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[r.jsx(M,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:e("admin.aiCustomerServicePage.cancel")}),r.jsxs(M,{onClick:ee,disabled:xe.isPending,className:"w-full sm:w-auto",children:[xe.isPending&&r.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.aiCustomerServicePage.save")]})]})]})}),r.jsx(lt,{open:m,onOpenChange:h,children:r.jsxs(st,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[r.jsxs(it,{children:[r.jsxs(ot,{className:"flex items-center gap-2 text-base sm:text-lg",children:[r.jsx(Es,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.aiCustomerServicePage.conversationDetail")]}),r.jsx(Kt,{className:"text-sm",children:f&&r.jsxs("span",{children:[f.customer_phone,f.customer_name?` - ${f.customer_name}`:""]})})]}),f&&r.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs sm:text-sm",children:[r.jsx(te,{variant:"outline",children:f.bot_id}),W(f.status),r.jsxs("span",{className:"text-muted-foreground",children:[f.message_count," ",e("admin.aiCustomerServicePage.messages")]}),r.jsxs("span",{className:"text-muted-foreground",children:[f.total_tokens," tokens"]}),f.satisfaction_rating!=null&&r.jsx("div",{className:"flex items-center gap-1",children:ae(f.satisfaction_rating)})]}),r.jsx("div",{className:"border rounded-lg p-3 sm:p-4 space-y-3 max-h-[50vh] overflow-y-auto bg-muted/20",children:C?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(fe,{className:"w-6 h-6 animate-spin text-primary"})}):q.length===0?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground text-sm",children:e("admin.aiCustomerServicePage.noMessages")})}):q.map(F=>{if(F.role==="system")return r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xs italic text-muted-foreground",children:F.content}),r.jsx("p",{className:"text-[10px] text-muted-foreground/60 mt-0.5",children:ie(F.created_at)})]},F.id);const me=F.role==="user";return r.jsx("div",{className:`flex ${me?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[80%] space-y-1 ${me?"items-end":"items-start"}`,children:[r.jsx("div",{className:`rounded-lg px-3 py-2 text-sm ${me?"bg-primary/10 text-foreground":"bg-muted text-foreground"}`,children:r.jsx("p",{className:"whitespace-pre-wrap break-words",children:F.content})}),r.jsxs("div",{className:`flex items-center gap-2 text-[10px] text-muted-foreground/60 ${me?"justify-end":"justify-start"}`,children:[r.jsx("span",{children:F.role}),F.tokens_used!=null&&r.jsxs("span",{children:[F.tokens_used," tokens"]}),F.confidence!=null&&r.jsxs("span",{children:[e("admin.aiCustomerServicePage.confidence"),": ",(F.confidence*100).toFixed(0),"%"]}),r.jsx("span",{children:ie(F.created_at)})]})]})},F.id)})})]}),r.jsx(kt,{className:"mt-3 sm:mt-4",children:r.jsx(M,{variant:"outline",onClick:()=>h(!1),className:"w-full sm:w-auto",children:e("admin.aiCustomerServicePage.close")})})]})})]})}const RFe={openai:cf,whatsapp:Io,meta_ads:Oo,general:to,payment:tk,email:tk,storage:Z1},MFe={openai:"OpenAI API",whatsapp:"WhatsApp Cloud API",meta_ads:"Meta Marketing API",general:"General",payment:"Payment",email:"Email",storage:"Storage"};function DFe(){const{t:e}=ct(),{toast:t}=Wt(),n=Sn(),[a,s]=j.useState(!1),[i,o]=j.useState(null),[l,c]=j.useState(""),[d,u]=j.useState({}),[m,h]=j.useState(null),{data:f=[],isLoading:g}=Le({queryKey:["admin-system-config"],queryFn:async()=>{const{data:w,error:k}=await Y.from("system_config").select("*").order("category",{ascending:!0});if(k)throw k;return w}}),p=Ie({mutationFn:async({id:w,value:k})=>{const{error:P}=await Y.from("system_config").update({config_value:k,updated_at:new Date().toISOString()}).eq("id",w);if(P)throw P},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-system-config"]}),t({title:e("admin.saveSuccess")}),s(!1)},onError:w=>t({title:e("admin.operationFailed"),description:w.message,variant:"destructive"})}),x=Ie({mutationFn:async w=>{h(w);const k=f.find(T=>T.id===w);if(!k)throw new Error("Config not found");let P;if(!k.config_value)P={status:"failed",message:"No value configured"};else switch(k.category){case"openai":P=k.config_key==="api_key"&&k.config_value.startsWith("sk-")?{status:"success",message:"API key format valid. Deploy edge function for full test."}:k.config_key==="api_key"?{status:"failed",message:"Invalid API key format. Should start with 'sk-'"}:{status:"success",message:"Configuration saved"};break;case"whatsapp":P=k.config_value.length>10?{status:"success",message:"Value configured. Deploy edge function for live test."}:{status:"failed",message:"Value too short"};break;case"meta_ads":P=k.config_value.length>5?{status:"success",message:"Value configured. Deploy edge function for live test."}:{status:"failed",message:"Value appears invalid"};break;default:P={status:"success",message:"Configuration saved"}}const{error:_}=await Y.from("system_config").update({test_status:P.status,test_message:P.message,last_tested_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",w);if(_)throw _;return P},onSuccess:w=>{n.invalidateQueries({queryKey:["admin-system-config"]}),h(null),w.status==="success"?t({title:"Connection test passed"}):t({title:"Connection test failed",description:w.message,variant:"destructive"})},onError:w=>{h(null),t({title:e("admin.operationFailed"),description:w.message,variant:"destructive"})}}),y=Ie({mutationFn:async()=>{for(const w of f)await x.mutateAsync(w.id)}}),v=f.reduce((w,k)=>(w[k.category]||(w[k.category]=[]),w[k.category].push(k),w),{}),b={total:f.length,success:f.filter(w=>w.test_status==="success").length,failed:f.filter(w=>w.test_status==="failed").length,untested:f.filter(w=>w.test_status==="untested"||!w.test_status).length,configured:f.filter(w=>w.config_value).length},N=w=>{u(k=>({...k,[w]:!k[w]}))};return g?r.jsx(ut,{children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):r.jsx(ut,{children:r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.systemHealthPage.title")}),r.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.systemHealthPage.subtitle")})]}),r.jsxs(M,{className:"gap-2 w-full sm:w-auto",onClick:()=>y.mutate(),disabled:y.isPending,children:[y.isPending?r.jsx(fe,{className:"w-4 h-4 animate-spin"}):r.jsx(od,{className:"w-4 h-4"}),e("admin.systemHealthPage.testAll")]})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4",children:[r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Z1,{className:"w-4 h-4 text-primary"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("admin.systemHealthPage.totalConfigs")})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:b.total})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(De,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("admin.systemHealthPage.connected")})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:b.success})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Bs,{className:"w-4 h-4 text-red-500"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("admin.systemHealthPage.failed")})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-500",children:b.failed})]})}),r.jsx(V,{children:r.jsxs(J,{className:"p-3 sm:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(yl,{className:"w-4 h-4 text-amber-500"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("admin.systemHealthPage.untested")})]}),r.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-500",children:b.untested})]})})]}),Object.entries(v).map(([w,k])=>{const P=RFe[w]||to;return r.jsxs(V,{children:[r.jsx(Te,{className:"p-3 sm:p-4 pb-2",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-sm sm:text-base",children:[r.jsx(P,{className:"w-4 h-4 text-primary"}),MFe[w]||w,r.jsxs(te,{variant:"outline",className:"ml-auto text-[10px]",children:[k.filter(_=>_.config_value).length,"/",k.length," configured"]})]})}),r.jsx(J,{className:"p-3 sm:p-4 pt-0 space-y-2",children:k.map(_=>r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 p-2.5 sm:p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[r.jsx("span",{className:"text-xs sm:text-sm font-medium",children:_.description||_.config_key}),_.test_status==="success"&&r.jsx(De,{className:"w-3.5 h-3.5 text-green-500 shrink-0"}),_.test_status==="failed"&&r.jsx(Bs,{className:"w-3.5 h-3.5 text-red-500 shrink-0"}),(!_.test_status||_.test_status==="untested")&&r.jsx(yl,{className:"w-3.5 h-3.5 text-amber-400 shrink-0"})]}),r.jsxs("div",{className:"flex items-center gap-1.5",children:[_.config_value?r.jsx("span",{className:"text-[10px] sm:text-xs font-mono text-muted-foreground truncate max-w-[200px] sm:max-w-[300px]",children:_.is_secret&&!d[_.id]?"":_.config_value}):r.jsx("span",{className:"text-[10px] sm:text-xs text-amber-500 italic",children:"Not configured"}),_.is_secret&&_.config_value&&r.jsx(M,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>N(_.id),children:d[_.id]?r.jsx(kZ,{className:"w-3 h-3"}):r.jsx(pr,{className:"w-3 h-3"})})]}),_.test_message&&r.jsx("p",{className:`text-[9px] sm:text-[10px] mt-0.5 ${_.test_status==="failed"?"text-red-500":"text-green-600"}`,children:_.test_message}),_.last_tested_at&&r.jsxs("p",{className:"text-[9px] sm:text-[10px] text-muted-foreground",children:["Last tested: ",new Date(_.last_tested_at).toLocaleString()]})]}),r.jsxs("div",{className:"flex gap-1.5 shrink-0",children:[r.jsxs(M,{variant:"outline",size:"sm",className:"h-7 sm:h-8 px-2 text-xs gap-1",onClick:()=>{o(_),c(_.config_value||""),s(!0)},children:[r.jsx(tk,{className:"w-3 h-3"}),r.jsx("span",{className:"hidden sm:inline",children:e("common.edit")})]}),r.jsxs(M,{variant:"outline",size:"sm",className:"h-7 sm:h-8 px-2 text-xs gap-1",onClick:()=>x.mutate(_.id),disabled:m===_.id,children:[m===_.id?r.jsx(fe,{className:"w-3 h-3 animate-spin"}):r.jsx(zZ,{className:"w-3 h-3"}),r.jsx("span",{className:"hidden sm:inline",children:"Test"})]})]})]},_.id))})]},w)}),r.jsxs(V,{children:[r.jsx(Te,{className:"p-3 sm:p-4 pb-2",children:r.jsxs(Oe,{className:"flex items-center gap-2 text-sm sm:text-base",children:[r.jsx(Z1,{className:"w-4 h-4 text-primary"}),"Supabase Database",r.jsxs(te,{className:"ml-auto bg-green-100 text-green-700 text-[10px]",children:[r.jsx(De,{className:"w-3 h-3 mr-1"}),"Connected"]})]})}),r.jsx(J,{className:"p-3 sm:p-4 pt-0",children:r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(De,{className:"w-3.5 h-3.5 text-green-500"}),r.jsx("span",{children:"Database connection"})]}),r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(De,{className:"w-3.5 h-3.5 text-green-500"}),r.jsx("span",{children:"Auth service"})]}),r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(De,{className:"w-3.5 h-3.5 text-green-500"}),r.jsx("span",{children:"RLS policies active"})]}),r.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[r.jsx(eF,{className:"w-3.5 h-3.5 text-primary"}),r.jsx("span",{children:"Real-time subscriptions"})]})]})})]}),r.jsx(lt,{open:a,onOpenChange:s,children:r.jsxs(st,{className:"max-w-md",children:[r.jsxs(it,{children:[r.jsx(ot,{className:"text-sm sm:text-base",children:(i==null?void 0:i.description)||(i==null?void 0:i.config_key)}),r.jsx(Kt,{className:"text-xs",children:i==null?void 0:i.id})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(se,{type:i!=null&&i.is_secret?"password":"text",value:l,onChange:w=>c(w.target.value),placeholder:"Enter value..."}),r.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Category: ",i==null?void 0:i.category," | Key: ",i==null?void 0:i.config_key,(i==null?void 0:i.is_secret)&&" | This value is stored securely"]})]}),r.jsxs(kt,{className:"flex-col sm:flex-row gap-2",children:[r.jsx(M,{variant:"outline",size:"sm",onClick:()=>s(!1),children:e("common.cancel")}),r.jsxs(M,{size:"sm",className:"gap-1",onClick:()=>i&&p.mutate({id:i.id,value:l}),disabled:p.isPending,children:[p.isPending?r.jsx(fe,{className:"w-3.5 h-3.5 animate-spin"}):r.jsx(dF,{className:"w-3.5 h-3.5"}),e("common.save")]})]})]})})]})})}function IFe(){const[e]=za();return j.useEffect(()=>{window.scrollTo(0,0)},[e]),null}function LFe(){return r.jsxs(r.Fragment,{children:[r.jsx(IFe,{}),r.jsxs(lY,{children:[r.jsx(We,{path:"/",component:mme}),r.jsx(We,{path:"/brand",component:fme}),r.jsx(We,{path:"/products",component:wme}),r.jsx(We,{path:"/order-tracking",component:jme}),r.jsx(We,{path:"/christmas",component:Sme}),r.jsx(We,{path:"/partner/join",component:ghe}),r.jsx(We,{path:"/partner",component:uhe}),r.jsx(We,{path:"/checkout/success",component:xhe}),r.jsx(We,{path:"/auth/login",component:Wre}),r.jsx(We,{path:"/auth/callback",component:Hre}),r.jsx(We,{path:"/member",children:r.jsx(Qs,{children:r.jsx(khe,{})})}),r.jsx(We,{path:"/member/settings",children:r.jsx(Qs,{children:r.jsx(The,{})})}),r.jsx(We,{path:"/member/notifications",children:r.jsx(Qs,{children:r.jsx(Mhe,{})})}),r.jsx(We,{path:"/member/help",children:r.jsx(Qs,{children:r.jsx(Ihe,{})})}),r.jsx(We,{path:"/member/orders",children:r.jsx(Qs,{children:r.jsx(Fhe,{})})}),r.jsx(We,{path:"/member/addresses",children:r.jsx(Qs,{children:r.jsx(Bhe,{})})}),r.jsx(We,{path:"/member/points",children:r.jsx(Qs,{children:r.jsx(Ghe,{})})}),r.jsx(We,{path:"/member/payment",children:r.jsx(Qs,{children:r.jsx(sfe,{})})}),r.jsx(We,{path:"/member/referrals",children:r.jsx(Qs,{children:r.jsx(ife,{})})}),r.jsx(We,{path:"/member/materials",children:r.jsx(Qs,{children:r.jsx(eM,{})})}),r.jsx(We,{path:"/member/partner",children:r.jsx(jo,{children:r.jsx(ZR,{})})}),r.jsx(We,{path:"/member/partner/referrals",children:r.jsx(jo,{children:r.jsx(cfe,{})})}),r.jsx(We,{path:"/member/partner/materials",children:r.jsx(jo,{children:r.jsx(eM,{})})}),r.jsx(We,{path:"/member/partner/ly-points",children:r.jsx(jo,{children:r.jsx(ufe,{})})}),r.jsx(We,{path:"/member/partner/wallet",children:r.jsx(jo,{children:r.jsx(mfe,{})})}),r.jsx(We,{path:"/member/partner/rwa",children:r.jsx(jo,{children:r.jsx(hfe,{})})}),r.jsx(We,{path:"/member/partner/earnings",children:r.jsx(jo,{children:r.jsx(ffe,{})})}),r.jsx(We,{path:"/partner/dashboard",children:r.jsx(jo,{children:r.jsx(ZR,{})})}),r.jsx(We,{path:"/admin",children:r.jsx(sn,{children:r.jsx(vfe,{})})}),r.jsx(We,{path:"/admin/partners",children:r.jsx(sn,{children:r.jsx(bfe,{})})}),r.jsx(We,{path:"/admin/orders",children:r.jsx(sn,{children:r.jsx(Lfe,{})})}),r.jsx(We,{path:"/admin/products",children:r.jsx(sn,{children:r.jsx(bge,{})})}),r.jsx(We,{path:"/admin/members",children:r.jsx(sn,{children:r.jsx(wge,{})})}),r.jsx(We,{path:"/admin/bonus-pool",children:r.jsx(sn,{children:r.jsx(jge,{})})}),r.jsx(We,{path:"/admin/inventory",children:r.jsx(sn,{children:r.jsx(kge,{})})}),r.jsx(We,{path:"/admin/production",children:r.jsx(sn,{children:r.jsx(Rge,{})})}),r.jsx(We,{path:"/admin/purchase",children:r.jsx(sn,{children:r.jsx(_ge,{})})}),r.jsx(We,{path:"/admin/logistics",children:r.jsx(sn,{children:r.jsx(Cge,{})})}),r.jsx(We,{path:"/admin/bills",children:r.jsx(sn,{children:r.jsx(Tge,{})})}),r.jsx(We,{path:"/admin/finance",children:r.jsx(sn,{children:r.jsx(Oge,{})})}),r.jsx(We,{path:"/admin/withdrawals",children:r.jsx(sn,{children:r.jsx(Mge,{})})}),r.jsx(We,{path:"/admin/bundles",children:r.jsx(sn,{children:r.jsx(Dge,{})})}),r.jsx(We,{path:"/admin/site-settings",children:r.jsx(sn,{children:r.jsx(Ige,{})})}),r.jsx(We,{path:"/admin/marketing/meta-ads",children:r.jsx(sn,{children:r.jsx(Lge,{})})}),r.jsx(We,{path:"/admin/marketing/xiaohongshu",children:r.jsx(sn,{children:r.jsx($ge,{})})}),r.jsx(We,{path:"/admin/marketing/media-plan",children:r.jsx(sn,{children:r.jsx(Uge,{})})}),r.jsx(We,{path:"/admin/marketing/ad-placement",children:r.jsx(sn,{children:r.jsx(Vge,{})})}),r.jsx(We,{path:"/admin/marketing/reports",children:r.jsx(sn,{children:r.jsx(SFe,{})})}),r.jsx(We,{path:"/admin/whatsapp/config",children:r.jsx(sn,{children:r.jsx(CFe,{})})}),r.jsx(We,{path:"/admin/whatsapp/orders",children:r.jsx(sn,{children:r.jsx(AFe,{})})}),r.jsx(We,{path:"/admin/whatsapp/members",children:r.jsx(sn,{children:r.jsx(TFe,{})})}),r.jsx(We,{path:"/admin/whatsapp/ai-service",children:r.jsx(sn,{children:r.jsx(EFe,{})})}),r.jsx(We,{path:"/admin/system-health",children:r.jsx(sn,{children:r.jsx(DFe,{})})}),r.jsx(We,{component:Ore})]})]})}function $Fe({children:e}){const t=qt(a=>a.loading),n=qt(a=>a.user);return j.useEffect(()=>{_re()},[]),t&&!n?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsx(r.Fragment,{children:e})}function FFe(){return r.jsx(Are,{children:r.jsx(CY,{client:zs,children:r.jsx(yre,{children:r.jsxs(Qte,{children:[r.jsx(See,{}),r.jsxs($Fe,{children:[r.jsx(LFe,{}),r.jsx(Tre,{})]})]})})})})}FL(document.getElementById("root")).render(r.jsx(FFe,{}));
