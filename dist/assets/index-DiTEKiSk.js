var oE=e=>{throw TypeError(e)};var zj=(e,t,n)=>t.has(e)||oE("Cannot "+n);var de=(e,t,n)=>(zj(e,t,"read from private field"),n?n.call(e):t.get(e)),xt=(e,t,n)=>t.has(e)?oE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),rt=(e,t,n,r)=>(zj(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$t=(e,t,n)=>(zj(e,t,"access private method"),n);var Wx=(e,t,n,r)=>({set _(s){rt(e,t,s,n)},get _(){return de(e,t,r)}});function rG(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iL={exports:{}},z0={},oL={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex=Symbol.for("react.element"),sG=Symbol.for("react.portal"),iG=Symbol.for("react.fragment"),oG=Symbol.for("react.strict_mode"),lG=Symbol.for("react.profiler"),cG=Symbol.for("react.provider"),dG=Symbol.for("react.context"),uG=Symbol.for("react.forward_ref"),mG=Symbol.for("react.suspense"),hG=Symbol.for("react.memo"),pG=Symbol.for("react.lazy"),lE=Symbol.iterator;function fG(e){return e===null||typeof e!="object"?null:(e=lE&&e[lE]||e["@@iterator"],typeof e=="function"?e:null)}var lL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cL=Object.assign,dL={};function wh(e,t,n){this.props=e,this.context=t,this.refs=dL,this.updater=n||lL}wh.prototype.isReactComponent={};wh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uL(){}uL.prototype=wh.prototype;function KS(e,t,n){this.props=e,this.context=t,this.refs=dL,this.updater=n||lL}var zS=KS.prototype=new uL;zS.constructor=KS;cL(zS,wh.prototype);zS.isPureReactComponent=!0;var cE=Array.isArray,mL=Object.prototype.hasOwnProperty,WS={current:null},hL={key:!0,ref:!0,__self:!0,__source:!0};function pL(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)mL.call(t,r)&&!hL.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ex,type:e,key:i,ref:o,props:s,_owner:WS.current}}function gG(e,t){return{$$typeof:ex,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function HS(e){return typeof e=="object"&&e!==null&&e.$$typeof===ex}function xG(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dE=/\/+/g;function Wj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xG(""+e.key):t.toString(36)}function Zy(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ex:case sG:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Wj(o,0):r,cE(s)?(n="",e!=null&&(n=e.replace(dE,"$&/")+"/"),Zy(s,t,n,"",function(d){return d})):s!=null&&(HS(s)&&(s=gG(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dE,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",cE(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Wj(i,l);o+=Zy(i,t,n,c,s)}else if(c=fG(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Wj(i,l++),o+=Zy(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gx(e,t,n){if(e==null)return e;var r=[],s=0;return Zy(e,r,"","",function(i){return t.call(n,i,s++)}),r}function yG(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tr={current:null},ev={transition:null},vG={ReactCurrentDispatcher:Tr,ReactCurrentBatchConfig:ev,ReactCurrentOwner:WS};function fL(){throw Error("act(...) is not supported in production builds of React.")}Gt.Children={map:Gx,forEach:function(e,t,n){Gx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gx(e,function(){t++}),t},toArray:function(e){return Gx(e,function(t){return t})||[]},only:function(e){if(!HS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Gt.Component=wh;Gt.Fragment=iG;Gt.Profiler=lG;Gt.PureComponent=KS;Gt.StrictMode=oG;Gt.Suspense=mG;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vG;Gt.act=fL;Gt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=cL({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=WS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)mL.call(t,c)&&!hL.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ex,type:e.type,key:s,ref:i,props:r,_owner:o}};Gt.createContext=function(e){return e={$$typeof:dG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cG,_context:e},e.Consumer=e};Gt.createElement=pL;Gt.createFactory=function(e){var t=pL.bind(null,e);return t.type=e,t};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(e){return{$$typeof:uG,render:e}};Gt.isValidElement=HS;Gt.lazy=function(e){return{$$typeof:pG,_payload:{_status:-1,_result:e},_init:yG}};Gt.memo=function(e,t){return{$$typeof:hG,type:e,compare:t===void 0?null:t}};Gt.startTransition=function(e){var t=ev.transition;ev.transition={};try{e()}finally{ev.transition=t}};Gt.unstable_act=fL;Gt.useCallback=function(e,t){return Tr.current.useCallback(e,t)};Gt.useContext=function(e){return Tr.current.useContext(e)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(e){return Tr.current.useDeferredValue(e)};Gt.useEffect=function(e,t){return Tr.current.useEffect(e,t)};Gt.useId=function(){return Tr.current.useId()};Gt.useImperativeHandle=function(e,t,n){return Tr.current.useImperativeHandle(e,t,n)};Gt.useInsertionEffect=function(e,t){return Tr.current.useInsertionEffect(e,t)};Gt.useLayoutEffect=function(e,t){return Tr.current.useLayoutEffect(e,t)};Gt.useMemo=function(e,t){return Tr.current.useMemo(e,t)};Gt.useReducer=function(e,t,n){return Tr.current.useReducer(e,t,n)};Gt.useRef=function(e){return Tr.current.useRef(e)};Gt.useState=function(e){return Tr.current.useState(e)};Gt.useSyncExternalStore=function(e,t,n){return Tr.current.useSyncExternalStore(e,t,n)};Gt.useTransition=function(){return Tr.current.useTransition()};Gt.version="18.3.1";oL.exports=Gt;var y=oL.exports;const X=ia(y),gL=rG({__proto__:null,default:X},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bG=y,wG=Symbol.for("react.element"),jG=Symbol.for("react.fragment"),NG=Object.prototype.hasOwnProperty,kG=bG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PG={key:!0,ref:!0,__self:!0,__source:!0};function xL(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)NG.call(t,r)&&!PG.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:wG,type:e,key:i,ref:o,props:s,_owner:kG.current}}z0.Fragment=jG;z0.jsx=xL;z0.jsxs=xL;iL.exports=z0;var a=iL.exports,yL={exports:{}},js={},vL={exports:{}},bL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,R){var J=M.length;M.push(R);e:for(;0<J;){var ie=J-1>>>1,F=M[ie];if(0<s(F,R))M[ie]=R,M[J]=F,J=ie;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var R=M[0],J=M.pop();if(J!==R){M[0]=J;e:for(var ie=0,F=M.length,le=F>>>1;ie<le;){var q=2*(ie+1)-1,ve=M[q],ye=q+1,H=M[ye];if(0>s(ve,J))ye<F&&0>s(H,ve)?(M[ie]=H,M[ye]=J,ie=ye):(M[ie]=ve,M[q]=J,ie=q);else if(ye<F&&0>s(H,J))M[ie]=H,M[ye]=J,ie=ye;else break e}}return R}function s(M,R){var J=M.sortIndex-R.sortIndex;return J!==0?J:M.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,g=!1,f=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var R=n(d);R!==null;){if(R.callback===null)r(d);else if(R.startTime<=M)r(d),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(d)}}function N(M){if(f=!1,v(M),!g)if(n(c)!==null)g=!0,K(w);else{var R=n(d);R!==null&&Y(N,R.startTime-M)}}function w(M,R){g=!1,f&&(f=!1,b(_),_=-1),p=!0;var J=h;try{for(v(R),m=n(c);m!==null&&(!(m.expirationTime>R)||M&&!A());){var ie=m.callback;if(typeof ie=="function"){m.callback=null,h=m.priorityLevel;var F=ie(m.expirationTime<=R);R=e.unstable_now(),typeof F=="function"?m.callback=F:m===n(c)&&r(c),v(R)}else r(c);m=n(c)}if(m!==null)var le=!0;else{var q=n(d);q!==null&&Y(N,q.startTime-R),le=!1}return le}finally{m=null,h=J,p=!1}}var P=!1,k=null,_=-1,S=5,O=-1;function A(){return!(e.unstable_now()-O<S)}function E(){if(k!==null){var M=e.unstable_now();O=M;var R=!0;try{R=k(!0,M)}finally{R?D():(P=!1,k=null)}}else P=!1}var D;if(typeof j=="function")D=function(){j(E)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,z=B.port2;B.port1.onmessage=E,D=function(){z.postMessage(null)}}else D=function(){x(E,0)};function K(M){k=M,P||(P=!0,D())}function Y(M,R){_=x(function(){M(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,K(w))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var J=h;h=R;try{return M()}finally{h=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,R){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var J=h;h=M;try{return R()}finally{h=J}},e.unstable_scheduleCallback=function(M,R,J){var ie=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ie+J:ie):J=ie,M){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=J+F,M={id:u++,callback:R,priorityLevel:M,startTime:J,expirationTime:F,sortIndex:-1},J>ie?(M.sortIndex=J,t(d,M),n(c)===null&&M===n(d)&&(f?(b(_),_=-1):f=!0,Y(N,J-ie))):(M.sortIndex=F,t(c,M),g||p||(g=!0,K(w))),M},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(M){var R=h;return function(){var J=h;h=R;try{return M.apply(this,arguments)}finally{h=J}}}})(bL);vL.exports=bL;var _G=vL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SG=y,vs=_G;function Re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wL=new Set,yf={};function Wd(e,t){_m(e,t),_m(e+"Capture",t)}function _m(e,t){for(yf[e]=t,e=0;e<t.length;e++)wL.add(t[e])}var Vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G1=Object.prototype.hasOwnProperty,CG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uE={},mE={};function AG(e){return G1.call(mE,e)?!0:G1.call(uE,e)?!1:CG.test(e)?mE[e]=!0:(uE[e]=!0,!1)}function TG(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function EG(e,t,n,r){if(t===null||typeof t>"u"||TG(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Er(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){er[e]=new Er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];er[t]=new Er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){er[e]=new Er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){er[e]=new Er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){er[e]=new Er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){er[e]=new Er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){er[e]=new Er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){er[e]=new Er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){er[e]=new Er(e,5,!1,e.toLowerCase(),null,!1,!1)});var GS=/[\-:]([a-z])/g;function YS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(GS,YS);er[t]=new Er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(GS,YS);er[t]=new Er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(GS,YS);er[t]=new Er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){er[e]=new Er(e,1,!1,e.toLowerCase(),null,!1,!1)});er.xlinkHref=new Er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){er[e]=new Er(e,1,!1,e.toLowerCase(),null,!0,!0)});function JS(e,t,n,r){var s=er.hasOwnProperty(t)?er[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(EG(t,n,s,r)&&(n=null),r||s===null?AG(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nl=SG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yx=Symbol.for("react.element"),ku=Symbol.for("react.portal"),Pu=Symbol.for("react.fragment"),QS=Symbol.for("react.strict_mode"),Y1=Symbol.for("react.profiler"),jL=Symbol.for("react.provider"),NL=Symbol.for("react.context"),XS=Symbol.for("react.forward_ref"),J1=Symbol.for("react.suspense"),Q1=Symbol.for("react.suspense_list"),ZS=Symbol.for("react.memo"),wl=Symbol.for("react.lazy"),kL=Symbol.for("react.offscreen"),hE=Symbol.iterator;function np(e){return e===null||typeof e!="object"?null:(e=hE&&e[hE]||e["@@iterator"],typeof e=="function"?e:null)}var Za=Object.assign,Hj;function Tp(e){if(Hj===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hj=t&&t[1]||""}return`
`+Hj+e}var Gj=!1;function Yj(e,t){if(!e||Gj)return"";Gj=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gj=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Tp(e):""}function OG(e){switch(e.tag){case 5:return Tp(e.type);case 16:return Tp("Lazy");case 13:return Tp("Suspense");case 19:return Tp("SuspenseList");case 0:case 2:case 15:return e=Yj(e.type,!1),e;case 11:return e=Yj(e.type.render,!1),e;case 1:return e=Yj(e.type,!0),e;default:return""}}function X1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pu:return"Fragment";case ku:return"Portal";case Y1:return"Profiler";case QS:return"StrictMode";case J1:return"Suspense";case Q1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case NL:return(e.displayName||"Context")+".Consumer";case jL:return(e._context.displayName||"Context")+".Provider";case XS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ZS:return t=e.displayName||null,t!==null?t:X1(e.type)||"Memo";case wl:t=e._payload,e=e._init;try{return X1(e(t))}catch{}}return null}function DG(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X1(t);case 8:return t===QS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MG(e){var t=PL(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jx(e){e._valueTracker||(e._valueTracker=MG(e))}function _L(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=PL(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Sv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Z1(e,t){var n=t.checked;return Za({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pE(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function SL(e,t){t=t.checked,t!=null&&JS(e,"checked",t,!1)}function ek(e,t){SL(e,t);var n=rc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tk(e,t.type,n):t.hasOwnProperty("defaultValue")&&tk(e,t.type,rc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fE(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tk(e,t,n){(t!=="number"||Sv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ep=Array.isArray;function Ju(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rc(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ak(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Re(91));return Za({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gE(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Re(92));if(Ep(n)){if(1<n.length)throw Error(Re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rc(n)}}function CL(e,t){var n=rc(t.value),r=rc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nk(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qx,TL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qx=Qx||document.createElement("div"),Qx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RG=["Webkit","ms","Moz","O"];Object.keys(Hp).forEach(function(e){RG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hp[t]=Hp[e]})});function EL(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hp.hasOwnProperty(e)&&Hp[e]?(""+t).trim():t+"px"}function OL(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=EL(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var IG=Za({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rk(e,t){if(t){if(IG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Re(62))}}function sk(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ik=null;function eC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ok=null,Qu=null,Xu=null;function yE(e){if(e=nx(e)){if(typeof ok!="function")throw Error(Re(280));var t=e.stateNode;t&&(t=J0(t),ok(e.stateNode,e.type,t))}}function DL(e){Qu?Xu?Xu.push(e):Xu=[e]:Qu=e}function ML(){if(Qu){var e=Qu,t=Xu;if(Xu=Qu=null,yE(e),t)for(e=0;e<t.length;e++)yE(t[e])}}function RL(e,t){return e(t)}function IL(){}var Jj=!1;function LL(e,t,n){if(Jj)return e(t,n);Jj=!0;try{return RL(e,t,n)}finally{Jj=!1,(Qu!==null||Xu!==null)&&(IL(),ML())}}function bf(e,t){var n=e.stateNode;if(n===null)return null;var r=J0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Re(231,t,typeof n));return n}var lk=!1;if(Vo)try{var rp={};Object.defineProperty(rp,"passive",{get:function(){lk=!0}}),window.addEventListener("test",rp,rp),window.removeEventListener("test",rp,rp)}catch{lk=!1}function LG(e,t,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Gp=!1,Cv=null,Av=!1,ck=null,$G={onError:function(e){Gp=!0,Cv=e}};function FG(e,t,n,r,s,i,o,l,c){Gp=!1,Cv=null,LG.apply($G,arguments)}function BG(e,t,n,r,s,i,o,l,c){if(FG.apply(this,arguments),Gp){if(Gp){var d=Cv;Gp=!1,Cv=null}else throw Error(Re(198));Av||(Av=!0,ck=d)}}function Hd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $L(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vE(e){if(Hd(e)!==e)throw Error(Re(188))}function UG(e){var t=e.alternate;if(!t){if(t=Hd(e),t===null)throw Error(Re(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return vE(s),e;if(i===r)return vE(s),t;i=i.sibling}throw Error(Re(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(Re(189))}}if(n.alternate!==r)throw Error(Re(190))}if(n.tag!==3)throw Error(Re(188));return n.stateNode.current===n?e:t}function FL(e){return e=UG(e),e!==null?BL(e):null}function BL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=BL(e);if(t!==null)return t;e=e.sibling}return null}var UL=vs.unstable_scheduleCallback,bE=vs.unstable_cancelCallback,qG=vs.unstable_shouldYield,VG=vs.unstable_requestPaint,dn=vs.unstable_now,KG=vs.unstable_getCurrentPriorityLevel,tC=vs.unstable_ImmediatePriority,qL=vs.unstable_UserBlockingPriority,Tv=vs.unstable_NormalPriority,zG=vs.unstable_LowPriority,VL=vs.unstable_IdlePriority,W0=null,qi=null;function WG(e){if(qi&&typeof qi.onCommitFiberRoot=="function")try{qi.onCommitFiberRoot(W0,e,void 0,(e.current.flags&128)===128)}catch{}}var yi=Math.clz32?Math.clz32:YG,HG=Math.log,GG=Math.LN2;function YG(e){return e>>>=0,e===0?32:31-(HG(e)/GG|0)|0}var Xx=64,Zx=4194304;function Op(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ev(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Op(l):(i&=o,i!==0&&(r=Op(i)))}else o=n&~s,o!==0?r=Op(o):i!==0&&(r=Op(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yi(t),s=1<<n,r|=e[n],t&=~s;return r}function JG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QG(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-yi(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=JG(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function dk(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KL(){var e=Xx;return Xx<<=1,!(Xx&4194240)&&(Xx=64),e}function Qj(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tx(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yi(t),e[t]=n}function XG(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-yi(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function aC(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yi(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var da=0;function zL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WL,nC,HL,GL,YL,uk=!1,ey=[],zl=null,Wl=null,Hl=null,wf=new Map,jf=new Map,Pl=[],ZG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wE(e,t){switch(e){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Wl=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":wf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jf.delete(t.pointerId)}}function sp(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=nx(t),t!==null&&nC(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function eY(e,t,n,r,s){switch(t){case"focusin":return zl=sp(zl,e,t,n,r,s),!0;case"dragenter":return Wl=sp(Wl,e,t,n,r,s),!0;case"mouseover":return Hl=sp(Hl,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return wf.set(i,sp(wf.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,jf.set(i,sp(jf.get(i)||null,e,t,n,r,s)),!0}return!1}function JL(e){var t=Jc(e.target);if(t!==null){var n=Hd(t);if(n!==null){if(t=n.tag,t===13){if(t=$L(n),t!==null){e.blockedOn=t,YL(e.priority,function(){HL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mk(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ik=r,n.target.dispatchEvent(r),ik=null}else return t=nx(n),t!==null&&nC(t),e.blockedOn=n,!1;t.shift()}return!0}function jE(e,t,n){tv(e)&&n.delete(t)}function tY(){uk=!1,zl!==null&&tv(zl)&&(zl=null),Wl!==null&&tv(Wl)&&(Wl=null),Hl!==null&&tv(Hl)&&(Hl=null),wf.forEach(jE),jf.forEach(jE)}function ip(e,t){e.blockedOn===t&&(e.blockedOn=null,uk||(uk=!0,vs.unstable_scheduleCallback(vs.unstable_NormalPriority,tY)))}function Nf(e){function t(s){return ip(s,e)}if(0<ey.length){ip(ey[0],e);for(var n=1;n<ey.length;n++){var r=ey[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zl!==null&&ip(zl,e),Wl!==null&&ip(Wl,e),Hl!==null&&ip(Hl,e),wf.forEach(t),jf.forEach(t),n=0;n<Pl.length;n++)r=Pl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pl.length&&(n=Pl[0],n.blockedOn===null);)JL(n),n.blockedOn===null&&Pl.shift()}var Zu=nl.ReactCurrentBatchConfig,Ov=!0;function aY(e,t,n,r){var s=da,i=Zu.transition;Zu.transition=null;try{da=1,rC(e,t,n,r)}finally{da=s,Zu.transition=i}}function nY(e,t,n,r){var s=da,i=Zu.transition;Zu.transition=null;try{da=4,rC(e,t,n,r)}finally{da=s,Zu.transition=i}}function rC(e,t,n,r){if(Ov){var s=mk(e,t,n,r);if(s===null)oN(e,t,r,Dv,n),wE(e,r);else if(eY(s,e,t,n,r))r.stopPropagation();else if(wE(e,r),t&4&&-1<ZG.indexOf(e)){for(;s!==null;){var i=nx(s);if(i!==null&&WL(i),i=mk(e,t,n,r),i===null&&oN(e,t,r,Dv,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else oN(e,t,r,null,n)}}var Dv=null;function mk(e,t,n,r){if(Dv=null,e=eC(r),e=Jc(e),e!==null)if(t=Hd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$L(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dv=e,null}function QL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KG()){case tC:return 1;case qL:return 4;case Tv:case zG:return 16;case VL:return 536870912;default:return 16}default:return 16}}var Fl=null,sC=null,av=null;function XL(){if(av)return av;var e,t=sC,n=t.length,r,s="value"in Fl?Fl.value:Fl.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return av=s.slice(e,1<r?1-r:void 0)}function nv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ty(){return!0}function NE(){return!1}function Ns(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ty:NE,this.isPropagationStopped=NE,this}return Za(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ty)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ty)},persist:function(){},isPersistent:ty}),t}var jh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iC=Ns(jh),ax=Za({},jh,{view:0,detail:0}),rY=Ns(ax),Xj,Zj,op,H0=Za({},ax,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==op&&(op&&e.type==="mousemove"?(Xj=e.screenX-op.screenX,Zj=e.screenY-op.screenY):Zj=Xj=0,op=e),Xj)},movementY:function(e){return"movementY"in e?e.movementY:Zj}}),kE=Ns(H0),sY=Za({},H0,{dataTransfer:0}),iY=Ns(sY),oY=Za({},ax,{relatedTarget:0}),eN=Ns(oY),lY=Za({},jh,{animationName:0,elapsedTime:0,pseudoElement:0}),cY=Ns(lY),dY=Za({},jh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uY=Ns(dY),mY=Za({},jh,{data:0}),PE=Ns(mY),hY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fY[e])?!!t[e]:!1}function oC(){return gY}var xY=Za({},ax,{key:function(e){if(e.key){var t=hY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oC,charCode:function(e){return e.type==="keypress"?nv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yY=Ns(xY),vY=Za({},H0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_E=Ns(vY),bY=Za({},ax,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oC}),wY=Ns(bY),jY=Za({},jh,{propertyName:0,elapsedTime:0,pseudoElement:0}),NY=Ns(jY),kY=Za({},H0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PY=Ns(kY),_Y=[9,13,27,32],lC=Vo&&"CompositionEvent"in window,Yp=null;Vo&&"documentMode"in document&&(Yp=document.documentMode);var SY=Vo&&"TextEvent"in window&&!Yp,ZL=Vo&&(!lC||Yp&&8<Yp&&11>=Yp),SE=" ",CE=!1;function e$(e,t){switch(e){case"keyup":return _Y.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _u=!1;function CY(e,t){switch(e){case"compositionend":return t$(t);case"keypress":return t.which!==32?null:(CE=!0,SE);case"textInput":return e=t.data,e===SE&&CE?null:e;default:return null}}function AY(e,t){if(_u)return e==="compositionend"||!lC&&e$(e,t)?(e=XL(),av=sC=Fl=null,_u=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ZL&&t.locale!=="ko"?null:t.data;default:return null}}var TY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TY[e.type]:t==="textarea"}function a$(e,t,n,r){DL(r),t=Mv(t,"onChange"),0<t.length&&(n=new iC("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jp=null,kf=null;function EY(e){h$(e,0)}function G0(e){var t=Au(e);if(_L(t))return e}function OY(e,t){if(e==="change")return t}var n$=!1;if(Vo){var tN;if(Vo){var aN="oninput"in document;if(!aN){var TE=document.createElement("div");TE.setAttribute("oninput","return;"),aN=typeof TE.oninput=="function"}tN=aN}else tN=!1;n$=tN&&(!document.documentMode||9<document.documentMode)}function EE(){Jp&&(Jp.detachEvent("onpropertychange",r$),kf=Jp=null)}function r$(e){if(e.propertyName==="value"&&G0(kf)){var t=[];a$(t,kf,e,eC(e)),LL(EY,t)}}function DY(e,t,n){e==="focusin"?(EE(),Jp=t,kf=n,Jp.attachEvent("onpropertychange",r$)):e==="focusout"&&EE()}function MY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return G0(kf)}function RY(e,t){if(e==="click")return G0(t)}function IY(e,t){if(e==="input"||e==="change")return G0(t)}function LY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ji=typeof Object.is=="function"?Object.is:LY;function Pf(e,t){if(ji(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!G1.call(t,s)||!ji(e[s],t[s]))return!1}return!0}function OE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function DE(e,t){var n=OE(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=OE(n)}}function s$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?s$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function i$(){for(var e=window,t=Sv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sv(e.document)}return t}function cC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $Y(e){var t=i$(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&s$(n.ownerDocument.documentElement,n)){if(r!==null&&cC(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=DE(n,i);var o=DE(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var FY=Vo&&"documentMode"in document&&11>=document.documentMode,Su=null,hk=null,Qp=null,pk=!1;function ME(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pk||Su==null||Su!==Sv(r)||(r=Su,"selectionStart"in r&&cC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qp&&Pf(Qp,r)||(Qp=r,r=Mv(hk,"onSelect"),0<r.length&&(t=new iC("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Su)))}function ay(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cu={animationend:ay("Animation","AnimationEnd"),animationiteration:ay("Animation","AnimationIteration"),animationstart:ay("Animation","AnimationStart"),transitionend:ay("Transition","TransitionEnd")},nN={},o$={};Vo&&(o$=document.createElement("div").style,"AnimationEvent"in window||(delete Cu.animationend.animation,delete Cu.animationiteration.animation,delete Cu.animationstart.animation),"TransitionEvent"in window||delete Cu.transitionend.transition);function Y0(e){if(nN[e])return nN[e];if(!Cu[e])return e;var t=Cu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in o$)return nN[e]=t[n];return e}var l$=Y0("animationend"),c$=Y0("animationiteration"),d$=Y0("animationstart"),u$=Y0("transitionend"),m$=new Map,RE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yc(e,t){m$.set(e,t),Wd(t,[e])}for(var rN=0;rN<RE.length;rN++){var sN=RE[rN],BY=sN.toLowerCase(),UY=sN[0].toUpperCase()+sN.slice(1);yc(BY,"on"+UY)}yc(l$,"onAnimationEnd");yc(c$,"onAnimationIteration");yc(d$,"onAnimationStart");yc("dblclick","onDoubleClick");yc("focusin","onFocus");yc("focusout","onBlur");yc(u$,"onTransitionEnd");_m("onMouseEnter",["mouseout","mouseover"]);_m("onMouseLeave",["mouseout","mouseover"]);_m("onPointerEnter",["pointerout","pointerover"]);_m("onPointerLeave",["pointerout","pointerover"]);Wd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dp));function IE(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,BG(r,t,void 0,e),e.currentTarget=null}function h$(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;IE(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;IE(s,l,d),i=c}}}if(Av)throw e=ck,Av=!1,ck=null,e}function Oa(e,t){var n=t[vk];n===void 0&&(n=t[vk]=new Set);var r=e+"__bubble";n.has(r)||(p$(t,e,2,!1),n.add(r))}function iN(e,t,n){var r=0;t&&(r|=4),p$(n,e,r,t)}var ny="_reactListening"+Math.random().toString(36).slice(2);function _f(e){if(!e[ny]){e[ny]=!0,wL.forEach(function(n){n!=="selectionchange"&&(qY.has(n)||iN(n,!1,e),iN(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ny]||(t[ny]=!0,iN("selectionchange",!1,t))}}function p$(e,t,n,r){switch(QL(t)){case 1:var s=aY;break;case 4:s=nY;break;default:s=rC}n=s.bind(null,t,n,e),s=void 0,!lk||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function oN(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Jc(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}LL(function(){var d=i,u=eC(n),m=[];e:{var h=m$.get(e);if(h!==void 0){var p=iC,g=e;switch(e){case"keypress":if(nv(n)===0)break e;case"keydown":case"keyup":p=yY;break;case"focusin":g="focus",p=eN;break;case"focusout":g="blur",p=eN;break;case"beforeblur":case"afterblur":p=eN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=iY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=wY;break;case l$:case c$:case d$:p=cY;break;case u$:p=NY;break;case"scroll":p=rY;break;case"wheel":p=PY;break;case"copy":case"cut":case"paste":p=uY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_E}var f=(t&4)!==0,x=!f&&e==="scroll",b=f?h!==null?h+"Capture":null:h;f=[];for(var j=d,v;j!==null;){v=j;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,b!==null&&(N=bf(j,b),N!=null&&f.push(Sf(j,N,v)))),x)break;j=j.return}0<f.length&&(h=new p(h,g,null,n,u),m.push({event:h,listeners:f}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==ik&&(g=n.relatedTarget||n.fromElement)&&(Jc(g)||g[Ko]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=d,g=g?Jc(g):null,g!==null&&(x=Hd(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=d),p!==g)){if(f=kE,N="onMouseLeave",b="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(f=_E,N="onPointerLeave",b="onPointerEnter",j="pointer"),x=p==null?h:Au(p),v=g==null?h:Au(g),h=new f(N,j+"leave",p,n,u),h.target=x,h.relatedTarget=v,N=null,Jc(u)===d&&(f=new f(b,j+"enter",g,n,u),f.target=v,f.relatedTarget=x,N=f),x=N,p&&g)t:{for(f=p,b=g,j=0,v=f;v;v=ru(v))j++;for(v=0,N=b;N;N=ru(N))v++;for(;0<j-v;)f=ru(f),j--;for(;0<v-j;)b=ru(b),v--;for(;j--;){if(f===b||b!==null&&f===b.alternate)break t;f=ru(f),b=ru(b)}f=null}else f=null;p!==null&&LE(m,h,p,f,!1),g!==null&&x!==null&&LE(m,x,g,f,!0)}}e:{if(h=d?Au(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=OY;else if(AE(h))if(n$)w=IY;else{w=MY;var P=DY}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=RY);if(w&&(w=w(e,d))){a$(m,w,n,u);break e}P&&P(e,h,d),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&tk(h,"number",h.value)}switch(P=d?Au(d):window,e){case"focusin":(AE(P)||P.contentEditable==="true")&&(Su=P,hk=d,Qp=null);break;case"focusout":Qp=hk=Su=null;break;case"mousedown":pk=!0;break;case"contextmenu":case"mouseup":case"dragend":pk=!1,ME(m,n,u);break;case"selectionchange":if(FY)break;case"keydown":case"keyup":ME(m,n,u)}var k;if(lC)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else _u?e$(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(ZL&&n.locale!=="ko"&&(_u||_!=="onCompositionStart"?_==="onCompositionEnd"&&_u&&(k=XL()):(Fl=u,sC="value"in Fl?Fl.value:Fl.textContent,_u=!0)),P=Mv(d,_),0<P.length&&(_=new PE(_,e,null,n,u),m.push({event:_,listeners:P}),k?_.data=k:(k=t$(n),k!==null&&(_.data=k)))),(k=SY?CY(e,n):AY(e,n))&&(d=Mv(d,"onBeforeInput"),0<d.length&&(u=new PE("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:d}),u.data=k))}h$(m,t)})}function Sf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mv(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=bf(e,n),i!=null&&r.unshift(Sf(e,i,s)),i=bf(e,t),i!=null&&r.push(Sf(e,i,s))),e=e.return}return r}function ru(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function LE(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=bf(n,i),c!=null&&o.unshift(Sf(n,c,l))):s||(c=bf(n,i),c!=null&&o.push(Sf(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var VY=/\r\n?/g,KY=/\u0000|\uFFFD/g;function $E(e){return(typeof e=="string"?e:""+e).replace(VY,`
`).replace(KY,"")}function ry(e,t,n){if(t=$E(t),$E(e)!==t&&n)throw Error(Re(425))}function Rv(){}var fk=null,gk=null;function xk(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yk=typeof setTimeout=="function"?setTimeout:void 0,zY=typeof clearTimeout=="function"?clearTimeout:void 0,FE=typeof Promise=="function"?Promise:void 0,WY=typeof queueMicrotask=="function"?queueMicrotask:typeof FE<"u"?function(e){return FE.resolve(null).then(e).catch(HY)}:yk;function HY(e){setTimeout(function(){throw e})}function lN(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Nf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Nf(t)}function Gl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function BE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nh=Math.random().toString(36).slice(2),Ii="__reactFiber$"+Nh,Cf="__reactProps$"+Nh,Ko="__reactContainer$"+Nh,vk="__reactEvents$"+Nh,GY="__reactListeners$"+Nh,YY="__reactHandles$"+Nh;function Jc(e){var t=e[Ii];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ko]||n[Ii]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=BE(e);e!==null;){if(n=e[Ii])return n;e=BE(e)}return t}e=n,n=e.parentNode}return null}function nx(e){return e=e[Ii]||e[Ko],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Au(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Re(33))}function J0(e){return e[Cf]||null}var bk=[],Tu=-1;function vc(e){return{current:e}}function Ia(e){0>Tu||(e.current=bk[Tu],bk[Tu]=null,Tu--)}function Pa(e,t){Tu++,bk[Tu]=e.current,e.current=t}var sc={},fr=vc(sc),Vr=vc(!1),kd=sc;function Sm(e,t){var n=e.type.contextTypes;if(!n)return sc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Kr(e){return e=e.childContextTypes,e!=null}function Iv(){Ia(Vr),Ia(fr)}function UE(e,t,n){if(fr.current!==sc)throw Error(Re(168));Pa(fr,t),Pa(Vr,n)}function f$(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Re(108,DG(e)||"Unknown",s));return Za({},n,r)}function Lv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sc,kd=fr.current,Pa(fr,e),Pa(Vr,Vr.current),!0}function qE(e,t,n){var r=e.stateNode;if(!r)throw Error(Re(169));n?(e=f$(e,t,kd),r.__reactInternalMemoizedMergedChildContext=e,Ia(Vr),Ia(fr),Pa(fr,e)):Ia(Vr),Pa(Vr,n)}var No=null,Q0=!1,cN=!1;function g$(e){No===null?No=[e]:No.push(e)}function JY(e){Q0=!0,g$(e)}function bc(){if(!cN&&No!==null){cN=!0;var e=0,t=da;try{var n=No;for(da=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}No=null,Q0=!1}catch(s){throw No!==null&&(No=No.slice(e+1)),UL(tC,bc),s}finally{da=t,cN=!1}}return null}var Eu=[],Ou=0,$v=null,Fv=0,Ms=[],Rs=0,Pd=null,_o=1,So="";function Fc(e,t){Eu[Ou++]=Fv,Eu[Ou++]=$v,$v=e,Fv=t}function x$(e,t,n){Ms[Rs++]=_o,Ms[Rs++]=So,Ms[Rs++]=Pd,Pd=e;var r=_o;e=So;var s=32-yi(r)-1;r&=~(1<<s),n+=1;var i=32-yi(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_o=1<<32-yi(t)+s|n<<s|r,So=i+e}else _o=1<<i|n<<s|r,So=e}function dC(e){e.return!==null&&(Fc(e,1),x$(e,1,0))}function uC(e){for(;e===$v;)$v=Eu[--Ou],Eu[Ou]=null,Fv=Eu[--Ou],Eu[Ou]=null;for(;e===Pd;)Pd=Ms[--Rs],Ms[Rs]=null,So=Ms[--Rs],Ms[Rs]=null,_o=Ms[--Rs],Ms[Rs]=null}var us=null,ls=null,Va=!1,di=null;function y$(e,t){var n=$s(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function VE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,us=e,ls=Gl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,us=e,ls=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pd!==null?{id:_o,overflow:So}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$s(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,us=e,ls=null,!0):!1;default:return!1}}function wk(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jk(e){if(Va){var t=ls;if(t){var n=t;if(!VE(e,t)){if(wk(e))throw Error(Re(418));t=Gl(n.nextSibling);var r=us;t&&VE(e,t)?y$(r,n):(e.flags=e.flags&-4097|2,Va=!1,us=e)}}else{if(wk(e))throw Error(Re(418));e.flags=e.flags&-4097|2,Va=!1,us=e}}}function KE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;us=e}function sy(e){if(e!==us)return!1;if(!Va)return KE(e),Va=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xk(e.type,e.memoizedProps)),t&&(t=ls)){if(wk(e))throw v$(),Error(Re(418));for(;t;)y$(e,t),t=Gl(t.nextSibling)}if(KE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ls=Gl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ls=null}}else ls=us?Gl(e.stateNode.nextSibling):null;return!0}function v$(){for(var e=ls;e;)e=Gl(e.nextSibling)}function Cm(){ls=us=null,Va=!1}function mC(e){di===null?di=[e]:di.push(e)}var QY=nl.ReactCurrentBatchConfig;function lp(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Re(309));var r=n.stateNode}if(!r)throw Error(Re(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Re(284));if(!n._owner)throw Error(Re(290,e))}return e}function iy(e,t){throw e=Object.prototype.toString.call(t),Error(Re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zE(e){var t=e._init;return t(e._payload)}function b$(e){function t(b,j){if(e){var v=b.deletions;v===null?(b.deletions=[j],b.flags|=16):v.push(j)}}function n(b,j){if(!e)return null;for(;j!==null;)t(b,j),j=j.sibling;return null}function r(b,j){for(b=new Map;j!==null;)j.key!==null?b.set(j.key,j):b.set(j.index,j),j=j.sibling;return b}function s(b,j){return b=Xl(b,j),b.index=0,b.sibling=null,b}function i(b,j,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<j?(b.flags|=2,j):v):(b.flags|=2,j)):(b.flags|=1048576,j)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,j,v,N){return j===null||j.tag!==6?(j=gN(v,b.mode,N),j.return=b,j):(j=s(j,v),j.return=b,j)}function c(b,j,v,N){var w=v.type;return w===Pu?u(b,j,v.props.children,N,v.key):j!==null&&(j.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===wl&&zE(w)===j.type)?(N=s(j,v.props),N.ref=lp(b,j,v),N.return=b,N):(N=dv(v.type,v.key,v.props,null,b.mode,N),N.ref=lp(b,j,v),N.return=b,N)}function d(b,j,v,N){return j===null||j.tag!==4||j.stateNode.containerInfo!==v.containerInfo||j.stateNode.implementation!==v.implementation?(j=xN(v,b.mode,N),j.return=b,j):(j=s(j,v.children||[]),j.return=b,j)}function u(b,j,v,N,w){return j===null||j.tag!==7?(j=gd(v,b.mode,N,w),j.return=b,j):(j=s(j,v),j.return=b,j)}function m(b,j,v){if(typeof j=="string"&&j!==""||typeof j=="number")return j=gN(""+j,b.mode,v),j.return=b,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Yx:return v=dv(j.type,j.key,j.props,null,b.mode,v),v.ref=lp(b,null,j),v.return=b,v;case ku:return j=xN(j,b.mode,v),j.return=b,j;case wl:var N=j._init;return m(b,N(j._payload),v)}if(Ep(j)||np(j))return j=gd(j,b.mode,v,null),j.return=b,j;iy(b,j)}return null}function h(b,j,v,N){var w=j!==null?j.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:l(b,j,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yx:return v.key===w?c(b,j,v,N):null;case ku:return v.key===w?d(b,j,v,N):null;case wl:return w=v._init,h(b,j,w(v._payload),N)}if(Ep(v)||np(v))return w!==null?null:u(b,j,v,N,null);iy(b,v)}return null}function p(b,j,v,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(v)||null,l(j,b,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Yx:return b=b.get(N.key===null?v:N.key)||null,c(j,b,N,w);case ku:return b=b.get(N.key===null?v:N.key)||null,d(j,b,N,w);case wl:var P=N._init;return p(b,j,v,P(N._payload),w)}if(Ep(N)||np(N))return b=b.get(v)||null,u(j,b,N,w,null);iy(j,N)}return null}function g(b,j,v,N){for(var w=null,P=null,k=j,_=j=0,S=null;k!==null&&_<v.length;_++){k.index>_?(S=k,k=null):S=k.sibling;var O=h(b,k,v[_],N);if(O===null){k===null&&(k=S);break}e&&k&&O.alternate===null&&t(b,k),j=i(O,j,_),P===null?w=O:P.sibling=O,P=O,k=S}if(_===v.length)return n(b,k),Va&&Fc(b,_),w;if(k===null){for(;_<v.length;_++)k=m(b,v[_],N),k!==null&&(j=i(k,j,_),P===null?w=k:P.sibling=k,P=k);return Va&&Fc(b,_),w}for(k=r(b,k);_<v.length;_++)S=p(k,b,_,v[_],N),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?_:S.key),j=i(S,j,_),P===null?w=S:P.sibling=S,P=S);return e&&k.forEach(function(A){return t(b,A)}),Va&&Fc(b,_),w}function f(b,j,v,N){var w=np(v);if(typeof w!="function")throw Error(Re(150));if(v=w.call(v),v==null)throw Error(Re(151));for(var P=w=null,k=j,_=j=0,S=null,O=v.next();k!==null&&!O.done;_++,O=v.next()){k.index>_?(S=k,k=null):S=k.sibling;var A=h(b,k,O.value,N);if(A===null){k===null&&(k=S);break}e&&k&&A.alternate===null&&t(b,k),j=i(A,j,_),P===null?w=A:P.sibling=A,P=A,k=S}if(O.done)return n(b,k),Va&&Fc(b,_),w;if(k===null){for(;!O.done;_++,O=v.next())O=m(b,O.value,N),O!==null&&(j=i(O,j,_),P===null?w=O:P.sibling=O,P=O);return Va&&Fc(b,_),w}for(k=r(b,k);!O.done;_++,O=v.next())O=p(k,b,_,O.value,N),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?_:O.key),j=i(O,j,_),P===null?w=O:P.sibling=O,P=O);return e&&k.forEach(function(E){return t(b,E)}),Va&&Fc(b,_),w}function x(b,j,v,N){if(typeof v=="object"&&v!==null&&v.type===Pu&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Yx:e:{for(var w=v.key,P=j;P!==null;){if(P.key===w){if(w=v.type,w===Pu){if(P.tag===7){n(b,P.sibling),j=s(P,v.props.children),j.return=b,b=j;break e}}else if(P.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===wl&&zE(w)===P.type){n(b,P.sibling),j=s(P,v.props),j.ref=lp(b,P,v),j.return=b,b=j;break e}n(b,P);break}else t(b,P);P=P.sibling}v.type===Pu?(j=gd(v.props.children,b.mode,N,v.key),j.return=b,b=j):(N=dv(v.type,v.key,v.props,null,b.mode,N),N.ref=lp(b,j,v),N.return=b,b=N)}return o(b);case ku:e:{for(P=v.key;j!==null;){if(j.key===P)if(j.tag===4&&j.stateNode.containerInfo===v.containerInfo&&j.stateNode.implementation===v.implementation){n(b,j.sibling),j=s(j,v.children||[]),j.return=b,b=j;break e}else{n(b,j);break}else t(b,j);j=j.sibling}j=xN(v,b.mode,N),j.return=b,b=j}return o(b);case wl:return P=v._init,x(b,j,P(v._payload),N)}if(Ep(v))return g(b,j,v,N);if(np(v))return f(b,j,v,N);iy(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,j!==null&&j.tag===6?(n(b,j.sibling),j=s(j,v),j.return=b,b=j):(n(b,j),j=gN(v,b.mode,N),j.return=b,b=j),o(b)):n(b,j)}return x}var Am=b$(!0),w$=b$(!1),Bv=vc(null),Uv=null,Du=null,hC=null;function pC(){hC=Du=Uv=null}function fC(e){var t=Bv.current;Ia(Bv),e._currentValue=t}function Nk(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function em(e,t){Uv=e,hC=Du=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($r=!0),e.firstContext=null)}function Vs(e){var t=e._currentValue;if(hC!==e)if(e={context:e,memoizedValue:t,next:null},Du===null){if(Uv===null)throw Error(Re(308));Du=e,Uv.dependencies={lanes:0,firstContext:e}}else Du=Du.next=e;return t}var Qc=null;function gC(e){Qc===null?Qc=[e]:Qc.push(e)}function j$(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,gC(t)):(n.next=s.next,s.next=n),t.interleaved=n,zo(e,r)}function zo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jl=!1;function xC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Eo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Zt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,zo(e,n)}return s=r.interleaved,s===null?(t.next=t,gC(r)):(t.next=s.next,s.next=t),r.interleaved=t,zo(e,n)}function rv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,aC(e,n)}}function WE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qv(e,t,n,r){var s=e.updateQueue;jl=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,f=l;switch(h=t,p=n,f.tag){case 1:if(g=f.payload,typeof g=="function"){m=g.call(p,m,h);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=f.payload,h=typeof g=="function"?g.call(p,m,h):g,h==null)break e;m=Za({},m,h);break e;case 2:jl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=m):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Sd|=o,e.lanes=o,e.memoizedState=m}}function HE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Re(191,s));s.call(r)}}}var rx={},Vi=vc(rx),Af=vc(rx),Tf=vc(rx);function Xc(e){if(e===rx)throw Error(Re(174));return e}function yC(e,t){switch(Pa(Tf,t),Pa(Af,e),Pa(Vi,rx),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nk(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nk(t,e)}Ia(Vi),Pa(Vi,t)}function Tm(){Ia(Vi),Ia(Af),Ia(Tf)}function k$(e){Xc(Tf.current);var t=Xc(Vi.current),n=nk(t,e.type);t!==n&&(Pa(Af,e),Pa(Vi,n))}function vC(e){Af.current===e&&(Ia(Vi),Ia(Af))}var Ja=vc(0);function Vv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dN=[];function bC(){for(var e=0;e<dN.length;e++)dN[e]._workInProgressVersionPrimary=null;dN.length=0}var sv=nl.ReactCurrentDispatcher,uN=nl.ReactCurrentBatchConfig,_d=0,Xa=null,An=null,Bn=null,Kv=!1,Xp=!1,Ef=0,XY=0;function tr(){throw Error(Re(321))}function wC(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ji(e[n],t[n]))return!1;return!0}function jC(e,t,n,r,s,i){if(_d=i,Xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sv.current=e===null||e.memoizedState===null?aJ:nJ,e=n(r,s),Xp){i=0;do{if(Xp=!1,Ef=0,25<=i)throw Error(Re(301));i+=1,Bn=An=null,t.updateQueue=null,sv.current=rJ,e=n(r,s)}while(Xp)}if(sv.current=zv,t=An!==null&&An.next!==null,_d=0,Bn=An=Xa=null,Kv=!1,t)throw Error(Re(300));return e}function NC(){var e=Ef!==0;return Ef=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?Xa.memoizedState=Bn=e:Bn=Bn.next=e,Bn}function Ks(){if(An===null){var e=Xa.alternate;e=e!==null?e.memoizedState:null}else e=An.next;var t=Bn===null?Xa.memoizedState:Bn.next;if(t!==null)Bn=t,An=e;else{if(e===null)throw Error(Re(310));An=e,e={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},Bn===null?Xa.memoizedState=Bn=e:Bn=Bn.next=e}return Bn}function Of(e,t){return typeof t=="function"?t(e):t}function mN(e){var t=Ks(),n=t.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=e;var r=An,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((_d&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,Xa.lanes|=u,Sd|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,ji(r,t.memoizedState)||($r=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Xa.lanes|=i,Sd|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hN(e){var t=Ks(),n=t.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ji(i,t.memoizedState)||($r=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function P$(){}function _$(e,t){var n=Xa,r=Ks(),s=t(),i=!ji(r.memoizedState,s);if(i&&(r.memoizedState=s,$r=!0),r=r.queue,kC(A$.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Bn!==null&&Bn.memoizedState.tag&1){if(n.flags|=2048,Df(9,C$.bind(null,n,r,s,t),void 0,null),Vn===null)throw Error(Re(349));_d&30||S$(n,t,s)}return s}function S$(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xa.updateQueue,t===null?(t={lastEffect:null,stores:null},Xa.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function C$(e,t,n,r){t.value=n,t.getSnapshot=r,T$(t)&&E$(e)}function A$(e,t,n){return n(function(){T$(t)&&E$(e)})}function T$(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ji(e,n)}catch{return!0}}function E$(e){var t=zo(e,1);t!==null&&vi(t,e,1,-1)}function GE(e){var t=Ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Of,lastRenderedState:e},t.queue=e,e=e.dispatch=tJ.bind(null,Xa,e),[t.memoizedState,e]}function Df(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xa.updateQueue,t===null?(t={lastEffect:null,stores:null},Xa.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function O$(){return Ks().memoizedState}function iv(e,t,n,r){var s=Ei();Xa.flags|=e,s.memoizedState=Df(1|t,n,void 0,r===void 0?null:r)}function X0(e,t,n,r){var s=Ks();r=r===void 0?null:r;var i=void 0;if(An!==null){var o=An.memoizedState;if(i=o.destroy,r!==null&&wC(r,o.deps)){s.memoizedState=Df(t,n,i,r);return}}Xa.flags|=e,s.memoizedState=Df(1|t,n,i,r)}function YE(e,t){return iv(8390656,8,e,t)}function kC(e,t){return X0(2048,8,e,t)}function D$(e,t){return X0(4,2,e,t)}function M$(e,t){return X0(4,4,e,t)}function R$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function I$(e,t,n){return n=n!=null?n.concat([e]):null,X0(4,4,R$.bind(null,t,e),n)}function PC(){}function L$(e,t){var n=Ks();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wC(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $$(e,t){var n=Ks();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wC(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function F$(e,t,n){return _d&21?(ji(n,t)||(n=KL(),Xa.lanes|=n,Sd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$r=!0),e.memoizedState=n)}function ZY(e,t){var n=da;da=n!==0&&4>n?n:4,e(!0);var r=uN.transition;uN.transition={};try{e(!1),t()}finally{da=n,uN.transition=r}}function B$(){return Ks().memoizedState}function eJ(e,t,n){var r=Ql(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U$(e))q$(t,n);else if(n=j$(e,t,n,r),n!==null){var s=_r();vi(n,e,r,s),V$(n,t,r)}}function tJ(e,t,n){var r=Ql(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U$(e))q$(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ji(l,o)){var c=t.interleaved;c===null?(s.next=s,gC(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=j$(e,t,s,r),n!==null&&(s=_r(),vi(n,e,r,s),V$(n,t,r))}}function U$(e){var t=e.alternate;return e===Xa||t!==null&&t===Xa}function q$(e,t){Xp=Kv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function V$(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,aC(e,n)}}var zv={readContext:Vs,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},aJ={readContext:Vs,useCallback:function(e,t){return Ei().memoizedState=[e,t===void 0?null:t],e},useContext:Vs,useEffect:YE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,iv(4194308,4,R$.bind(null,t,e),n)},useLayoutEffect:function(e,t){return iv(4194308,4,e,t)},useInsertionEffect:function(e,t){return iv(4,2,e,t)},useMemo:function(e,t){var n=Ei();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ei();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eJ.bind(null,Xa,e),[r.memoizedState,e]},useRef:function(e){var t=Ei();return e={current:e},t.memoizedState=e},useState:GE,useDebugValue:PC,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=GE(!1),t=e[0];return e=ZY.bind(null,e[1]),Ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xa,s=Ei();if(Va){if(n===void 0)throw Error(Re(407));n=n()}else{if(n=t(),Vn===null)throw Error(Re(349));_d&30||S$(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,YE(A$.bind(null,r,i,e),[e]),r.flags|=2048,Df(9,C$.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ei(),t=Vn.identifierPrefix;if(Va){var n=So,r=_o;n=(r&~(1<<32-yi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ef++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=XY++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nJ={readContext:Vs,useCallback:L$,useContext:Vs,useEffect:kC,useImperativeHandle:I$,useInsertionEffect:D$,useLayoutEffect:M$,useMemo:$$,useReducer:mN,useRef:O$,useState:function(){return mN(Of)},useDebugValue:PC,useDeferredValue:function(e){var t=Ks();return F$(t,An.memoizedState,e)},useTransition:function(){var e=mN(Of)[0],t=Ks().memoizedState;return[e,t]},useMutableSource:P$,useSyncExternalStore:_$,useId:B$,unstable_isNewReconciler:!1},rJ={readContext:Vs,useCallback:L$,useContext:Vs,useEffect:kC,useImperativeHandle:I$,useInsertionEffect:D$,useLayoutEffect:M$,useMemo:$$,useReducer:hN,useRef:O$,useState:function(){return hN(Of)},useDebugValue:PC,useDeferredValue:function(e){var t=Ks();return An===null?t.memoizedState=e:F$(t,An.memoizedState,e)},useTransition:function(){var e=hN(Of)[0],t=Ks().memoizedState;return[e,t]},useMutableSource:P$,useSyncExternalStore:_$,useId:B$,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){t=Za({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function kk(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Za({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Z0={isMounted:function(e){return(e=e._reactInternals)?Hd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_r(),s=Ql(e),i=Eo(r,s);i.payload=t,n!=null&&(i.callback=n),t=Yl(e,i,s),t!==null&&(vi(t,e,s,r),rv(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_r(),s=Ql(e),i=Eo(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yl(e,i,s),t!==null&&(vi(t,e,s,r),rv(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_r(),r=Ql(e),s=Eo(n,r);s.tag=2,t!=null&&(s.callback=t),t=Yl(e,s,r),t!==null&&(vi(t,e,r,n),rv(t,e,r))}};function JE(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Pf(n,r)||!Pf(s,i):!0}function K$(e,t,n){var r=!1,s=sc,i=t.contextType;return typeof i=="object"&&i!==null?i=Vs(i):(s=Kr(t)?kd:fr.current,r=t.contextTypes,i=(r=r!=null)?Sm(e,s):sc),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Z0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function QE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Z0.enqueueReplaceState(t,t.state,null)}function Pk(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},xC(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Vs(i):(i=Kr(t)?kd:fr.current,s.context=Sm(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(kk(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Z0.enqueueReplaceState(s,s.state,null),qv(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Em(e,t){try{var n="",r=t;do n+=OG(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function pN(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _k(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sJ=typeof WeakMap=="function"?WeakMap:Map;function z$(e,t,n){n=Eo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hv||(Hv=!0,Ik=r),_k(e,t)},n}function W$(e,t,n){n=Eo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){_k(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_k(e,t),typeof r!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function XE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sJ;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=vJ.bind(null,e,t,n),t.then(e,e))}function ZE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function eO(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Eo(-1,1),t.tag=2,Yl(n,t,1))),n.lanes|=1),e)}var iJ=nl.ReactCurrentOwner,$r=!1;function br(e,t,n,r){t.child=e===null?w$(t,null,n,r):Am(t,e.child,n,r)}function tO(e,t,n,r,s){n=n.render;var i=t.ref;return em(t,s),r=jC(e,t,n,r,i,s),n=NC(),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wo(e,t,s)):(Va&&n&&dC(t),t.flags|=1,br(e,t,r,s),t.child)}function aO(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!DC(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,H$(e,t,i,r,s)):(e=dv(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Pf,n(o,r)&&e.ref===t.ref)return Wo(e,t,s)}return t.flags|=1,e=Xl(i,r),e.ref=t.ref,e.return=t,t.child=e}function H$(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Pf(i,r)&&e.ref===t.ref)if($r=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&($r=!0);else return t.lanes=e.lanes,Wo(e,t,s)}return Sk(e,t,n,r,s)}function G$(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pa(Ru,ts),ts|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pa(Ru,ts),ts|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Pa(Ru,ts),ts|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Pa(Ru,ts),ts|=r;return br(e,t,s,n),t.child}function Y$(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sk(e,t,n,r,s){var i=Kr(n)?kd:fr.current;return i=Sm(t,i),em(t,s),n=jC(e,t,n,r,i,s),r=NC(),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wo(e,t,s)):(Va&&r&&dC(t),t.flags|=1,br(e,t,n,s),t.child)}function nO(e,t,n,r,s){if(Kr(n)){var i=!0;Lv(t)}else i=!1;if(em(t,s),t.stateNode===null)ov(e,t),K$(t,n,r),Pk(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Vs(d):(d=Kr(n)?kd:fr.current,d=Sm(t,d));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&QE(t,o,r,d),jl=!1;var h=t.memoizedState;o.state=h,qv(t,r,o,s),c=t.memoizedState,l!==r||h!==c||Vr.current||jl?(typeof u=="function"&&(kk(t,n,u,r),c=t.memoizedState),(l=jl||JE(t,n,l,r,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,N$(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:ni(t.type,l),o.props=d,m=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Vs(c):(c=Kr(n)?kd:fr.current,c=Sm(t,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&QE(t,o,r,c),jl=!1,h=t.memoizedState,o.state=h,qv(t,r,o,s);var g=t.memoizedState;l!==m||h!==g||Vr.current||jl?(typeof p=="function"&&(kk(t,n,p,r),g=t.memoizedState),(d=jl||JE(t,n,d,r,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ck(e,t,n,r,i,s)}function Ck(e,t,n,r,s,i){Y$(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&qE(t,n,!1),Wo(e,t,i);r=t.stateNode,iJ.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Am(t,e.child,null,i),t.child=Am(t,null,l,i)):br(e,t,l,i),t.memoizedState=r.state,s&&qE(t,n,!0),t.child}function J$(e){var t=e.stateNode;t.pendingContext?UE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&UE(e,t.context,!1),yC(e,t.containerInfo)}function rO(e,t,n,r,s){return Cm(),mC(s),t.flags|=256,br(e,t,n,r),t.child}var Ak={dehydrated:null,treeContext:null,retryLane:0};function Tk(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q$(e,t,n){var r=t.pendingProps,s=Ja.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Pa(Ja,s&1),e===null)return jk(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=aw(o,r,0,null),e=gd(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Tk(n),t.memoizedState=Ak,e):_C(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return oJ(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Xl(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Xl(l,i):(i=gd(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Tk(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ak,r}return i=e.child,e=i.sibling,r=Xl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _C(e,t){return t=aw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oy(e,t,n,r){return r!==null&&mC(r),Am(t,e.child,null,n),e=_C(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oJ(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=pN(Error(Re(422))),oy(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=aw({mode:"visible",children:r.children},s,0,null),i=gd(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Am(t,e.child,null,o),t.child.memoizedState=Tk(o),t.memoizedState=Ak,i);if(!(t.mode&1))return oy(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Re(419)),r=pN(i,r,void 0),oy(e,t,o,r)}if(l=(o&e.childLanes)!==0,$r||l){if(r=Vn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zo(e,s),vi(r,e,s,-1))}return OC(),r=pN(Error(Re(421))),oy(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=bJ.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ls=Gl(s.nextSibling),us=t,Va=!0,di=null,e!==null&&(Ms[Rs++]=_o,Ms[Rs++]=So,Ms[Rs++]=Pd,_o=e.id,So=e.overflow,Pd=t),t=_C(t,r.children),t.flags|=4096,t)}function sO(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nk(e.return,t,n)}function fN(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function X$(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(br(e,t,r.children,n),r=Ja.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sO(e,n,t);else if(e.tag===19)sO(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pa(Ja,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Vv(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fN(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vv(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fN(t,!0,n,null,i);break;case"together":fN(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ov(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Re(153));if(t.child!==null){for(e=t.child,n=Xl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lJ(e,t,n){switch(t.tag){case 3:J$(t),Cm();break;case 5:k$(t);break;case 1:Kr(t.type)&&Lv(t);break;case 4:yC(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Pa(Bv,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pa(Ja,Ja.current&1),t.flags|=128,null):n&t.child.childLanes?Q$(e,t,n):(Pa(Ja,Ja.current&1),e=Wo(e,t,n),e!==null?e.sibling:null);Pa(Ja,Ja.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return X$(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pa(Ja,Ja.current),r)break;return null;case 22:case 23:return t.lanes=0,G$(e,t,n)}return Wo(e,t,n)}var Z$,Ek,eF,tF;Z$=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ek=function(){};eF=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Xc(Vi.current);var i=null;switch(n){case"input":s=Z1(e,s),r=Z1(e,r),i=[];break;case"select":s=Za({},s,{value:void 0}),r=Za({},r,{value:void 0}),i=[];break;case"textarea":s=ak(e,s),r=ak(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Rv)}rk(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(yf.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(yf.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Oa("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};tF=function(e,t,n,r){n!==r&&(t.flags|=4)};function cp(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ar(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cJ(e,t,n){var r=t.pendingProps;switch(uC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ar(t),null;case 1:return Kr(t.type)&&Iv(),ar(t),null;case 3:return r=t.stateNode,Tm(),Ia(Vr),Ia(fr),bC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,di!==null&&(Fk(di),di=null))),Ek(e,t),ar(t),null;case 5:vC(t);var s=Xc(Tf.current);if(n=t.type,e!==null&&t.stateNode!=null)eF(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Re(166));return ar(t),null}if(e=Xc(Vi.current),sy(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ii]=t,r[Cf]=i,e=(t.mode&1)!==0,n){case"dialog":Oa("cancel",r),Oa("close",r);break;case"iframe":case"object":case"embed":Oa("load",r);break;case"video":case"audio":for(s=0;s<Dp.length;s++)Oa(Dp[s],r);break;case"source":Oa("error",r);break;case"img":case"image":case"link":Oa("error",r),Oa("load",r);break;case"details":Oa("toggle",r);break;case"input":pE(r,i),Oa("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Oa("invalid",r);break;case"textarea":gE(r,i),Oa("invalid",r)}rk(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ry(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ry(r.textContent,l,e),s=["children",""+l]):yf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Oa("scroll",r)}switch(n){case"input":Jx(r),fE(r,i,!0);break;case"textarea":Jx(r),xE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Rv)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AL(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ii]=t,e[Cf]=r,Z$(e,t,!1,!1),t.stateNode=e;e:{switch(o=sk(n,r),n){case"dialog":Oa("cancel",e),Oa("close",e),s=r;break;case"iframe":case"object":case"embed":Oa("load",e),s=r;break;case"video":case"audio":for(s=0;s<Dp.length;s++)Oa(Dp[s],e);s=r;break;case"source":Oa("error",e),s=r;break;case"img":case"image":case"link":Oa("error",e),Oa("load",e),s=r;break;case"details":Oa("toggle",e),s=r;break;case"input":pE(e,r),s=Z1(e,r),Oa("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Za({},r,{value:void 0}),Oa("invalid",e);break;case"textarea":gE(e,r),s=ak(e,r),Oa("invalid",e);break;default:s=r}rk(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?OL(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&TL(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&vf(e,c):typeof c=="number"&&vf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Oa("scroll",e):c!=null&&JS(e,i,c,o))}switch(n){case"input":Jx(e),fE(e,r,!1);break;case"textarea":Jx(e),xE(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rc(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ju(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ju(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Rv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ar(t),null;case 6:if(e&&t.stateNode!=null)tF(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Re(166));if(n=Xc(Tf.current),Xc(Vi.current),sy(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ii]=t,(i=r.nodeValue!==n)&&(e=us,e!==null))switch(e.tag){case 3:ry(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ry(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ii]=t,t.stateNode=r}return ar(t),null;case 13:if(Ia(Ja),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Va&&ls!==null&&t.mode&1&&!(t.flags&128))v$(),Cm(),t.flags|=98560,i=!1;else if(i=sy(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Re(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Re(317));i[Ii]=t}else Cm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ar(t),i=!1}else di!==null&&(Fk(di),di=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ja.current&1?Dn===0&&(Dn=3):OC())),t.updateQueue!==null&&(t.flags|=4),ar(t),null);case 4:return Tm(),Ek(e,t),e===null&&_f(t.stateNode.containerInfo),ar(t),null;case 10:return fC(t.type._context),ar(t),null;case 17:return Kr(t.type)&&Iv(),ar(t),null;case 19:if(Ia(Ja),i=t.memoizedState,i===null)return ar(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)cp(i,!1);else{if(Dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Vv(e),o!==null){for(t.flags|=128,cp(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pa(Ja,Ja.current&1|2),t.child}e=e.sibling}i.tail!==null&&dn()>Om&&(t.flags|=128,r=!0,cp(i,!1),t.lanes=4194304)}else{if(!r)if(e=Vv(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Va)return ar(t),null}else 2*dn()-i.renderingStartTime>Om&&n!==1073741824&&(t.flags|=128,r=!0,cp(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=dn(),t.sibling=null,n=Ja.current,Pa(Ja,r?n&1|2:n&1),t):(ar(t),null);case 22:case 23:return EC(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ts&1073741824&&(ar(t),t.subtreeFlags&6&&(t.flags|=8192)):ar(t),null;case 24:return null;case 25:return null}throw Error(Re(156,t.tag))}function dJ(e,t){switch(uC(t),t.tag){case 1:return Kr(t.type)&&Iv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tm(),Ia(Vr),Ia(fr),bC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vC(t),null;case 13:if(Ia(Ja),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Re(340));Cm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ia(Ja),null;case 4:return Tm(),null;case 10:return fC(t.type._context),null;case 22:case 23:return EC(),null;case 24:return null;default:return null}}var ly=!1,cr=!1,uJ=typeof WeakSet=="function"?WeakSet:Set,it=null;function Mu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nn(e,t,r)}else n.current=null}function Ok(e,t,n){try{n()}catch(r){nn(e,t,r)}}var iO=!1;function mJ(e,t){if(fk=Ov,e=i$(),cC(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===e)break t;if(h===n&&++d===s&&(l=o),h===i&&++u===r&&(c=o),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gk={focusedElem:e,selectionRange:n},Ov=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var f=g.memoizedProps,x=g.memoizedState,b=t.stateNode,j=b.getSnapshotBeforeUpdate(t.elementType===t.type?f:ni(t.type,f),x);b.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(N){nn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return g=iO,iO=!1,g}function Zp(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ok(t,n,i)}s=s.next}while(s!==r)}}function ew(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Dk(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function aF(e){var t=e.alternate;t!==null&&(e.alternate=null,aF(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ii],delete t[Cf],delete t[vk],delete t[GY],delete t[YY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nF(e){return e.tag===5||e.tag===3||e.tag===4}function oO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nF(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mk(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rv));else if(r!==4&&(e=e.child,e!==null))for(Mk(e,t,n),e=e.sibling;e!==null;)Mk(e,t,n),e=e.sibling}function Rk(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rk(e,t,n),e=e.sibling;e!==null;)Rk(e,t,n),e=e.sibling}var Jn=null,si=!1;function hl(e,t,n){for(n=n.child;n!==null;)rF(e,t,n),n=n.sibling}function rF(e,t,n){if(qi&&typeof qi.onCommitFiberUnmount=="function")try{qi.onCommitFiberUnmount(W0,n)}catch{}switch(n.tag){case 5:cr||Mu(n,t);case 6:var r=Jn,s=si;Jn=null,hl(e,t,n),Jn=r,si=s,Jn!==null&&(si?(e=Jn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Jn.removeChild(n.stateNode));break;case 18:Jn!==null&&(si?(e=Jn,n=n.stateNode,e.nodeType===8?lN(e.parentNode,n):e.nodeType===1&&lN(e,n),Nf(e)):lN(Jn,n.stateNode));break;case 4:r=Jn,s=si,Jn=n.stateNode.containerInfo,si=!0,hl(e,t,n),Jn=r,si=s;break;case 0:case 11:case 14:case 15:if(!cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ok(n,t,o),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!cr&&(Mu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){nn(n,t,l)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:n.mode&1?(cr=(r=cr)||n.memoizedState!==null,hl(e,t,n),cr=r):hl(e,t,n);break;default:hl(e,t,n)}}function lO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uJ),t.forEach(function(r){var s=wJ.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ys(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jn=l.stateNode,si=!1;break e;case 3:Jn=l.stateNode.containerInfo,si=!0;break e;case 4:Jn=l.stateNode.containerInfo,si=!0;break e}l=l.return}if(Jn===null)throw Error(Re(160));rF(i,o,s),Jn=null,si=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){nn(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sF(t,e),t=t.sibling}function sF(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ys(t,e),Ti(e),r&4){try{Zp(3,e,e.return),ew(3,e)}catch(f){nn(e,e.return,f)}try{Zp(5,e,e.return)}catch(f){nn(e,e.return,f)}}break;case 1:Ys(t,e),Ti(e),r&512&&n!==null&&Mu(n,n.return);break;case 5:if(Ys(t,e),Ti(e),r&512&&n!==null&&Mu(n,n.return),e.flags&32){var s=e.stateNode;try{vf(s,"")}catch(f){nn(e,e.return,f)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&SL(s,i),sk(l,o);var d=sk(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?OL(s,m):u==="dangerouslySetInnerHTML"?TL(s,m):u==="children"?vf(s,m):JS(s,u,m,d)}switch(l){case"input":ek(s,i);break;case"textarea":CL(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ju(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ju(s,!!i.multiple,i.defaultValue,!0):Ju(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cf]=i}catch(f){nn(e,e.return,f)}}break;case 6:if(Ys(t,e),Ti(e),r&4){if(e.stateNode===null)throw Error(Re(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(f){nn(e,e.return,f)}}break;case 3:if(Ys(t,e),Ti(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nf(t.containerInfo)}catch(f){nn(e,e.return,f)}break;case 4:Ys(t,e),Ti(e);break;case 13:Ys(t,e),Ti(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(AC=dn())),r&4&&lO(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(cr=(d=cr)||u,Ys(t,e),cr=d):Ys(t,e),Ti(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(it=e,u=e.child;u!==null;){for(m=it=u;it!==null;){switch(h=it,p=h.child,h.tag){case 0:case 11:case 14:case 15:Zp(4,h,h.return);break;case 1:Mu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(f){nn(r,n,f)}}break;case 5:Mu(h,h.return);break;case 22:if(h.memoizedState!==null){dO(m);continue}}p!==null?(p.return=h,it=p):dO(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=EL("display",o))}catch(f){nn(e,e.return,f)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(f){nn(e,e.return,f)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ys(t,e),Ti(e),r&4&&lO(e);break;case 21:break;default:Ys(t,e),Ti(e)}}function Ti(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nF(n)){var r=n;break e}n=n.return}throw Error(Re(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vf(s,""),r.flags&=-33);var i=oO(e);Rk(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=oO(e);Mk(e,l,o);break;default:throw Error(Re(161))}}catch(c){nn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hJ(e,t,n){it=e,iF(e)}function iF(e,t,n){for(var r=(e.mode&1)!==0;it!==null;){var s=it,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ly;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||cr;l=ly;var d=cr;if(ly=o,(cr=c)&&!d)for(it=s;it!==null;)o=it,c=o.child,o.tag===22&&o.memoizedState!==null?uO(s):c!==null?(c.return=o,it=c):uO(s);for(;i!==null;)it=i,iF(i),i=i.sibling;it=s,ly=l,cr=d}cO(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,it=i):cO(e)}}function cO(e){for(;it!==null;){var t=it;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cr||ew(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!cr)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&HE(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}HE(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Nf(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}cr||t.flags&512&&Dk(t)}catch(h){nn(t,t.return,h)}}if(t===e){it=null;break}if(n=t.sibling,n!==null){n.return=t.return,it=n;break}it=t.return}}function dO(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var n=t.sibling;if(n!==null){n.return=t.return,it=n;break}it=t.return}}function uO(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ew(4,t)}catch(c){nn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){nn(t,s,c)}}var i=t.return;try{Dk(t)}catch(c){nn(t,i,c)}break;case 5:var o=t.return;try{Dk(t)}catch(c){nn(t,o,c)}}}catch(c){nn(t,t.return,c)}if(t===e){it=null;break}var l=t.sibling;if(l!==null){l.return=t.return,it=l;break}it=t.return}}var pJ=Math.ceil,Wv=nl.ReactCurrentDispatcher,SC=nl.ReactCurrentOwner,Bs=nl.ReactCurrentBatchConfig,Zt=0,Vn=null,Nn=null,Xn=0,ts=0,Ru=vc(0),Dn=0,Mf=null,Sd=0,tw=0,CC=0,ef=null,Ir=null,AC=0,Om=1/0,bo=null,Hv=!1,Ik=null,Jl=null,cy=!1,Bl=null,Gv=0,tf=0,Lk=null,lv=-1,cv=0;function _r(){return Zt&6?dn():lv!==-1?lv:lv=dn()}function Ql(e){return e.mode&1?Zt&2&&Xn!==0?Xn&-Xn:QY.transition!==null?(cv===0&&(cv=KL()),cv):(e=da,e!==0||(e=window.event,e=e===void 0?16:QL(e.type)),e):1}function vi(e,t,n,r){if(50<tf)throw tf=0,Lk=null,Error(Re(185));tx(e,n,r),(!(Zt&2)||e!==Vn)&&(e===Vn&&(!(Zt&2)&&(tw|=n),Dn===4&&_l(e,Xn)),zr(e,r),n===1&&Zt===0&&!(t.mode&1)&&(Om=dn()+500,Q0&&bc()))}function zr(e,t){var n=e.callbackNode;QG(e,t);var r=Ev(e,e===Vn?Xn:0);if(r===0)n!==null&&bE(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bE(n),t===1)e.tag===0?JY(mO.bind(null,e)):g$(mO.bind(null,e)),WY(function(){!(Zt&6)&&bc()}),n=null;else{switch(zL(r)){case 1:n=tC;break;case 4:n=qL;break;case 16:n=Tv;break;case 536870912:n=VL;break;default:n=Tv}n=pF(n,oF.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oF(e,t){if(lv=-1,cv=0,Zt&6)throw Error(Re(327));var n=e.callbackNode;if(tm()&&e.callbackNode!==n)return null;var r=Ev(e,e===Vn?Xn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yv(e,r);else{t=r;var s=Zt;Zt|=2;var i=cF();(Vn!==e||Xn!==t)&&(bo=null,Om=dn()+500,fd(e,t));do try{xJ();break}catch(l){lF(e,l)}while(!0);pC(),Wv.current=i,Zt=s,Nn!==null?t=0:(Vn=null,Xn=0,t=Dn)}if(t!==0){if(t===2&&(s=dk(e),s!==0&&(r=s,t=$k(e,s))),t===1)throw n=Mf,fd(e,0),_l(e,r),zr(e,dn()),n;if(t===6)_l(e,r);else{if(s=e.current.alternate,!(r&30)&&!fJ(s)&&(t=Yv(e,r),t===2&&(i=dk(e),i!==0&&(r=i,t=$k(e,i))),t===1))throw n=Mf,fd(e,0),_l(e,r),zr(e,dn()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Re(345));case 2:Bc(e,Ir,bo);break;case 3:if(_l(e,r),(r&130023424)===r&&(t=AC+500-dn(),10<t)){if(Ev(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){_r(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=yk(Bc.bind(null,e,Ir,bo),t);break}Bc(e,Ir,bo);break;case 4:if(_l(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-yi(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=dn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pJ(r/1960))-r,10<r){e.timeoutHandle=yk(Bc.bind(null,e,Ir,bo),r);break}Bc(e,Ir,bo);break;case 5:Bc(e,Ir,bo);break;default:throw Error(Re(329))}}}return zr(e,dn()),e.callbackNode===n?oF.bind(null,e):null}function $k(e,t){var n=ef;return e.current.memoizedState.isDehydrated&&(fd(e,t).flags|=256),e=Yv(e,t),e!==2&&(t=Ir,Ir=n,t!==null&&Fk(t)),e}function Fk(e){Ir===null?Ir=e:Ir.push.apply(Ir,e)}function fJ(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ji(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _l(e,t){for(t&=~CC,t&=~tw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yi(t),r=1<<n;e[n]=-1,t&=~r}}function mO(e){if(Zt&6)throw Error(Re(327));tm();var t=Ev(e,0);if(!(t&1))return zr(e,dn()),null;var n=Yv(e,t);if(e.tag!==0&&n===2){var r=dk(e);r!==0&&(t=r,n=$k(e,r))}if(n===1)throw n=Mf,fd(e,0),_l(e,t),zr(e,dn()),n;if(n===6)throw Error(Re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bc(e,Ir,bo),zr(e,dn()),null}function TC(e,t){var n=Zt;Zt|=1;try{return e(t)}finally{Zt=n,Zt===0&&(Om=dn()+500,Q0&&bc())}}function Cd(e){Bl!==null&&Bl.tag===0&&!(Zt&6)&&tm();var t=Zt;Zt|=1;var n=Bs.transition,r=da;try{if(Bs.transition=null,da=1,e)return e()}finally{da=r,Bs.transition=n,Zt=t,!(Zt&6)&&bc()}}function EC(){ts=Ru.current,Ia(Ru)}function fd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zY(n)),Nn!==null)for(n=Nn.return;n!==null;){var r=n;switch(uC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Iv();break;case 3:Tm(),Ia(Vr),Ia(fr),bC();break;case 5:vC(r);break;case 4:Tm();break;case 13:Ia(Ja);break;case 19:Ia(Ja);break;case 10:fC(r.type._context);break;case 22:case 23:EC()}n=n.return}if(Vn=e,Nn=e=Xl(e.current,null),Xn=ts=t,Dn=0,Mf=null,CC=tw=Sd=0,Ir=ef=null,Qc!==null){for(t=0;t<Qc.length;t++)if(n=Qc[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Qc=null}return e}function lF(e,t){do{var n=Nn;try{if(pC(),sv.current=zv,Kv){for(var r=Xa.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kv=!1}if(_d=0,Bn=An=Xa=null,Xp=!1,Ef=0,SC.current=null,n===null||n.return===null){Dn=1,Mf=t,Nn=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Xn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ZE(o);if(p!==null){p.flags&=-257,eO(p,o,l,i,t),p.mode&1&&XE(i,d,t),t=p,c=d;var g=t.updateQueue;if(g===null){var f=new Set;f.add(c),t.updateQueue=f}else g.add(c);break e}else{if(!(t&1)){XE(i,d,t),OC();break e}c=Error(Re(426))}}else if(Va&&l.mode&1){var x=ZE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),eO(x,o,l,i,t),mC(Em(c,l));break e}}i=c=Em(c,l),Dn!==4&&(Dn=2),ef===null?ef=[i]:ef.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=z$(i,c,t);WE(i,b);break e;case 1:l=c;var j=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof j.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Jl===null||!Jl.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=W$(i,l,t);WE(i,N);break e}}i=i.return}while(i!==null)}uF(n)}catch(w){t=w,Nn===n&&n!==null&&(Nn=n=n.return);continue}break}while(!0)}function cF(){var e=Wv.current;return Wv.current=zv,e===null?zv:e}function OC(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Vn===null||!(Sd&268435455)&&!(tw&268435455)||_l(Vn,Xn)}function Yv(e,t){var n=Zt;Zt|=2;var r=cF();(Vn!==e||Xn!==t)&&(bo=null,fd(e,t));do try{gJ();break}catch(s){lF(e,s)}while(!0);if(pC(),Zt=n,Wv.current=r,Nn!==null)throw Error(Re(261));return Vn=null,Xn=0,Dn}function gJ(){for(;Nn!==null;)dF(Nn)}function xJ(){for(;Nn!==null&&!qG();)dF(Nn)}function dF(e){var t=hF(e.alternate,e,ts);e.memoizedProps=e.pendingProps,t===null?uF(e):Nn=t,SC.current=null}function uF(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dJ(n,t),n!==null){n.flags&=32767,Nn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dn=6,Nn=null;return}}else if(n=cJ(n,t,ts),n!==null){Nn=n;return}if(t=t.sibling,t!==null){Nn=t;return}Nn=t=e}while(t!==null);Dn===0&&(Dn=5)}function Bc(e,t,n){var r=da,s=Bs.transition;try{Bs.transition=null,da=1,yJ(e,t,n,r)}finally{Bs.transition=s,da=r}return null}function yJ(e,t,n,r){do tm();while(Bl!==null);if(Zt&6)throw Error(Re(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Re(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(XG(e,i),e===Vn&&(Nn=Vn=null,Xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cy||(cy=!0,pF(Tv,function(){return tm(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bs.transition,Bs.transition=null;var o=da;da=1;var l=Zt;Zt|=4,SC.current=null,mJ(e,n),sF(n,e),$Y(gk),Ov=!!fk,gk=fk=null,e.current=n,hJ(n),VG(),Zt=l,da=o,Bs.transition=i}else e.current=n;if(cy&&(cy=!1,Bl=e,Gv=s),i=e.pendingLanes,i===0&&(Jl=null),WG(n.stateNode),zr(e,dn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Hv)throw Hv=!1,e=Ik,Ik=null,e;return Gv&1&&e.tag!==0&&tm(),i=e.pendingLanes,i&1?e===Lk?tf++:(tf=0,Lk=e):tf=0,bc(),null}function tm(){if(Bl!==null){var e=zL(Gv),t=Bs.transition,n=da;try{if(Bs.transition=null,da=16>e?16:e,Bl===null)var r=!1;else{if(e=Bl,Bl=null,Gv=0,Zt&6)throw Error(Re(331));var s=Zt;for(Zt|=4,it=e.current;it!==null;){var i=it,o=i.child;if(it.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(it=d;it!==null;){var u=it;switch(u.tag){case 0:case 11:case 15:Zp(8,u,i)}var m=u.child;if(m!==null)m.return=u,it=m;else for(;it!==null;){u=it;var h=u.sibling,p=u.return;if(aF(u),u===d){it=null;break}if(h!==null){h.return=p,it=h;break}it=p}}}var g=i.alternate;if(g!==null){var f=g.child;if(f!==null){g.child=null;do{var x=f.sibling;f.sibling=null,f=x}while(f!==null)}}it=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,it=o;else e:for(;it!==null;){if(i=it,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zp(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,it=b;break e}it=i.return}}var j=e.current;for(it=j;it!==null;){o=it;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,it=v;else e:for(o=j;it!==null;){if(l=it,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ew(9,l)}}catch(w){nn(l,l.return,w)}if(l===o){it=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,it=N;break e}it=l.return}}if(Zt=s,bc(),qi&&typeof qi.onPostCommitFiberRoot=="function")try{qi.onPostCommitFiberRoot(W0,e)}catch{}r=!0}return r}finally{da=n,Bs.transition=t}}return!1}function hO(e,t,n){t=Em(n,t),t=z$(e,t,1),e=Yl(e,t,1),t=_r(),e!==null&&(tx(e,1,t),zr(e,t))}function nn(e,t,n){if(e.tag===3)hO(e,e,n);else for(;t!==null;){if(t.tag===3){hO(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jl===null||!Jl.has(r))){e=Em(n,e),e=W$(t,e,1),t=Yl(t,e,1),e=_r(),t!==null&&(tx(t,1,e),zr(t,e));break}}t=t.return}}function vJ(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_r(),e.pingedLanes|=e.suspendedLanes&n,Vn===e&&(Xn&n)===n&&(Dn===4||Dn===3&&(Xn&130023424)===Xn&&500>dn()-AC?fd(e,0):CC|=n),zr(e,t)}function mF(e,t){t===0&&(e.mode&1?(t=Zx,Zx<<=1,!(Zx&130023424)&&(Zx=4194304)):t=1);var n=_r();e=zo(e,t),e!==null&&(tx(e,t,n),zr(e,n))}function bJ(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mF(e,n)}function wJ(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Re(314))}r!==null&&r.delete(t),mF(e,n)}var hF;hF=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vr.current)$r=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $r=!1,lJ(e,t,n);$r=!!(e.flags&131072)}else $r=!1,Va&&t.flags&1048576&&x$(t,Fv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ov(e,t),e=t.pendingProps;var s=Sm(t,fr.current);em(t,n),s=jC(null,t,r,e,s,n);var i=NC();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kr(r)?(i=!0,Lv(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xC(t),s.updater=Z0,t.stateNode=s,s._reactInternals=t,Pk(t,r,e,n),t=Ck(null,t,r,!0,i,n)):(t.tag=0,Va&&i&&dC(t),br(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ov(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=NJ(r),e=ni(r,e),s){case 0:t=Sk(null,t,r,e,n);break e;case 1:t=nO(null,t,r,e,n);break e;case 11:t=tO(null,t,r,e,n);break e;case 14:t=aO(null,t,r,ni(r.type,e),n);break e}throw Error(Re(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ni(r,s),Sk(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ni(r,s),nO(e,t,r,s,n);case 3:e:{if(J$(t),e===null)throw Error(Re(387));r=t.pendingProps,i=t.memoizedState,s=i.element,N$(e,t),qv(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Em(Error(Re(423)),t),t=rO(e,t,r,n,s);break e}else if(r!==s){s=Em(Error(Re(424)),t),t=rO(e,t,r,n,s);break e}else for(ls=Gl(t.stateNode.containerInfo.firstChild),us=t,Va=!0,di=null,n=w$(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cm(),r===s){t=Wo(e,t,n);break e}br(e,t,r,n)}t=t.child}return t;case 5:return k$(t),e===null&&jk(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,xk(r,s)?o=null:i!==null&&xk(r,i)&&(t.flags|=32),Y$(e,t),br(e,t,o,n),t.child;case 6:return e===null&&jk(t),null;case 13:return Q$(e,t,n);case 4:return yC(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Am(t,null,r,n):br(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ni(r,s),tO(e,t,r,s,n);case 7:return br(e,t,t.pendingProps,n),t.child;case 8:return br(e,t,t.pendingProps.children,n),t.child;case 12:return br(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Pa(Bv,r._currentValue),r._currentValue=o,i!==null)if(ji(i.value,o)){if(i.children===s.children&&!Vr.current){t=Wo(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Eo(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Nk(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Re(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Nk(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}br(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,em(t,n),s=Vs(s),r=r(s),t.flags|=1,br(e,t,r,n),t.child;case 14:return r=t.type,s=ni(r,t.pendingProps),s=ni(r.type,s),aO(e,t,r,s,n);case 15:return H$(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ni(r,s),ov(e,t),t.tag=1,Kr(r)?(e=!0,Lv(t)):e=!1,em(t,n),K$(t,r,s),Pk(t,r,s,n),Ck(null,t,r,!0,e,n);case 19:return X$(e,t,n);case 22:return G$(e,t,n)}throw Error(Re(156,t.tag))};function pF(e,t){return UL(e,t)}function jJ(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(e,t,n,r){return new jJ(e,t,n,r)}function DC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NJ(e){if(typeof e=="function")return DC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===XS)return 11;if(e===ZS)return 14}return 2}function Xl(e,t){var n=e.alternate;return n===null?(n=$s(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function dv(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")DC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pu:return gd(n.children,s,i,t);case QS:o=8,s|=8;break;case Y1:return e=$s(12,n,t,s|2),e.elementType=Y1,e.lanes=i,e;case J1:return e=$s(13,n,t,s),e.elementType=J1,e.lanes=i,e;case Q1:return e=$s(19,n,t,s),e.elementType=Q1,e.lanes=i,e;case kL:return aw(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jL:o=10;break e;case NL:o=9;break e;case XS:o=11;break e;case ZS:o=14;break e;case wl:o=16,r=null;break e}throw Error(Re(130,e==null?e:typeof e,""))}return t=$s(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function gd(e,t,n,r){return e=$s(7,e,r,t),e.lanes=n,e}function aw(e,t,n,r){return e=$s(22,e,r,t),e.elementType=kL,e.lanes=n,e.stateNode={isHidden:!1},e}function gN(e,t,n){return e=$s(6,e,null,t),e.lanes=n,e}function xN(e,t,n){return t=$s(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kJ(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qj(0),this.expirationTimes=Qj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qj(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function MC(e,t,n,r,s,i,o,l,c){return e=new kJ(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$s(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xC(i),e}function PJ(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ku,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function fF(e){if(!e)return sc;e=e._reactInternals;e:{if(Hd(e)!==e||e.tag!==1)throw Error(Re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Re(171))}if(e.tag===1){var n=e.type;if(Kr(n))return f$(e,n,t)}return t}function gF(e,t,n,r,s,i,o,l,c){return e=MC(n,r,!0,e,s,i,o,l,c),e.context=fF(null),n=e.current,r=_r(),s=Ql(n),i=Eo(r,s),i.callback=t??null,Yl(n,i,s),e.current.lanes=s,tx(e,s,r),zr(e,r),e}function nw(e,t,n,r){var s=t.current,i=_r(),o=Ql(s);return n=fF(n),t.context===null?t.context=n:t.pendingContext=n,t=Eo(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yl(s,t,o),e!==null&&(vi(e,s,o,i),rv(e,s,o)),o}function Jv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function RC(e,t){pO(e,t),(e=e.alternate)&&pO(e,t)}function _J(){return null}var xF=typeof reportError=="function"?reportError:function(e){console.error(e)};function IC(e){this._internalRoot=e}rw.prototype.render=IC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Re(409));nw(e,t,null,null)};rw.prototype.unmount=IC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cd(function(){nw(null,e,null,null)}),t[Ko]=null}};function rw(e){this._internalRoot=e}rw.prototype.unstable_scheduleHydration=function(e){if(e){var t=GL();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pl.length&&t!==0&&t<Pl[n].priority;n++);Pl.splice(n,0,e),n===0&&JL(e)}};function LC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fO(){}function SJ(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Jv(o);i.call(d)}}var o=gF(t,r,e,0,null,!1,!1,"",fO);return e._reactRootContainer=o,e[Ko]=o.current,_f(e.nodeType===8?e.parentNode:e),Cd(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Jv(c);l.call(d)}}var c=MC(e,0,!1,null,null,!1,!1,"",fO);return e._reactRootContainer=c,e[Ko]=c.current,_f(e.nodeType===8?e.parentNode:e),Cd(function(){nw(t,c,n,r)}),c}function iw(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Jv(o);l.call(c)}}nw(t,o,e,s)}else o=SJ(n,t,e,s,r);return Jv(o)}WL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Op(t.pendingLanes);n!==0&&(aC(t,n|1),zr(t,dn()),!(Zt&6)&&(Om=dn()+500,bc()))}break;case 13:Cd(function(){var r=zo(e,1);if(r!==null){var s=_r();vi(r,e,1,s)}}),RC(e,1)}};nC=function(e){if(e.tag===13){var t=zo(e,134217728);if(t!==null){var n=_r();vi(t,e,134217728,n)}RC(e,134217728)}};HL=function(e){if(e.tag===13){var t=Ql(e),n=zo(e,t);if(n!==null){var r=_r();vi(n,e,t,r)}RC(e,t)}};GL=function(){return da};YL=function(e,t){var n=da;try{return da=e,t()}finally{da=n}};ok=function(e,t,n){switch(t){case"input":if(ek(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=J0(r);if(!s)throw Error(Re(90));_L(r),ek(r,s)}}}break;case"textarea":CL(e,n);break;case"select":t=n.value,t!=null&&Ju(e,!!n.multiple,t,!1)}};RL=TC;IL=Cd;var CJ={usingClientEntryPoint:!1,Events:[nx,Au,J0,DL,ML,TC]},dp={findFiberByHostInstance:Jc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AJ={bundleType:dp.bundleType,version:dp.version,rendererPackageName:dp.rendererPackageName,rendererConfig:dp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=FL(e),e===null?null:e.stateNode},findFiberByHostInstance:dp.findFiberByHostInstance||_J,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dy.isDisabled&&dy.supportsFiber)try{W0=dy.inject(AJ),qi=dy}catch{}}js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CJ;js.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LC(t))throw Error(Re(200));return PJ(e,t,null,n)};js.createRoot=function(e,t){if(!LC(e))throw Error(Re(299));var n=!1,r="",s=xF;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=MC(e,1,!1,null,null,n,!1,r,s),e[Ko]=t.current,_f(e.nodeType===8?e.parentNode:e),new IC(t)};js.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Re(188)):(e=Object.keys(e).join(","),Error(Re(268,e)));return e=FL(t),e=e===null?null:e.stateNode,e};js.flushSync=function(e){return Cd(e)};js.hydrate=function(e,t,n){if(!sw(t))throw Error(Re(200));return iw(null,e,t,!0,n)};js.hydrateRoot=function(e,t,n){if(!LC(e))throw Error(Re(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=xF;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=gF(t,null,e,1,n??null,s,!1,i,o),e[Ko]=t.current,_f(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new rw(t)};js.render=function(e,t,n){if(!sw(t))throw Error(Re(200));return iw(null,e,t,!1,n)};js.unmountComponentAtNode=function(e){if(!sw(e))throw Error(Re(40));return e._reactRootContainer?(Cd(function(){iw(null,null,e,!1,function(){e._reactRootContainer=null,e[Ko]=null})}),!0):!1};js.unstable_batchedUpdates=TC;js.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sw(n))throw Error(Re(200));if(e==null||e._reactInternals===void 0)throw Error(Re(38));return iw(e,t,n,!1,r)};js.version="18.3.1-next-f1338f8080-20240426";function yF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yF)}catch(e){console.error(e)}}yF(),yL.exports=js;var Gd=yL.exports;const TJ=ia(Gd);var vF,gO=Gd;vF=gO.createRoot,gO.hydrateRoot;function EJ(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var bF={exports:{}},wF={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=y;function OJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DJ=typeof Object.is=="function"?Object.is:OJ,MJ=Dm.useState,RJ=Dm.useEffect,IJ=Dm.useLayoutEffect,LJ=Dm.useDebugValue;function $J(e,t){var n=t(),r=MJ({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return IJ(function(){s.value=n,s.getSnapshot=t,yN(s)&&i({inst:s})},[e,n,t]),RJ(function(){return yN(s)&&i({inst:s}),e(function(){yN(s)&&i({inst:s})})},[e]),LJ(n),n}function yN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!DJ(e,n)}catch{return!0}}function FJ(e,t){return t()}var BJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?FJ:$J;wF.useSyncExternalStore=Dm.useSyncExternalStore!==void 0?Dm.useSyncExternalStore:BJ;bF.exports=wF;var UJ=bF.exports;const qJ=gL.useInsertionEffect,VJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jF=VJ?y.useLayoutEffect:y.useEffect,KJ=qJ||jF,$C=e=>{const t=y.useRef([e,(...n)=>t[0](...n)]).current;return KJ(()=>{t[0]=e}),t[1]},zJ="popstate",FC="pushState",BC="replaceState",WJ="hashchange",xO=[zJ,FC,BC,WJ],HJ=e=>{for(const t of xO)addEventListener(t,e);return()=>{for(const t of xO)removeEventListener(t,e)}},NF=(e,t)=>UJ.useSyncExternalStore(HJ,e,t),GJ=()=>location.search,YJ=({ssrSearch:e=""}={})=>NF(GJ,()=>e),yO=()=>location.pathname,JJ=({ssrPath:e}={})=>NF(yO,e?()=>e:yO),QJ=(e,{replace:t=!1,state:n=null}={})=>history[t?BC:FC](n,"",e),XJ=(e={})=>[JJ(e),QJ],vO=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[vO]>"u"){for(const e of[FC,BC]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,vO,{value:!0})}const ZJ=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",kF=(e="")=>e==="/"?"":e,eQ=(e,t)=>e[0]==="~"?e.slice(1):kF(t)+e,tQ=(e="",t)=>ZJ(Bk(kF(e)),Bk(t)),aQ=e=>e[0]==="?"?e.slice(1):e,Bk=e=>{try{return decodeURI(e)}catch{return e}},nQ=e=>Bk(aQ(e)),PF={hook:XJ,searchHook:YJ,parser:EJ,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},_F=y.createContext(PF),kh=()=>y.useContext(_F),SF={},CF=y.createContext(SF),rQ=()=>y.useContext(CF),ow=e=>{const[t,n]=e.hook(e);return[tQ(e.base,t),$C((r,s)=>n(eQ(r,e.base),s))]},Or=()=>ow(kh()),sQ=()=>{const e=kh();return nQ(e.searchHook(e))},AF=(e,t,n,r)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((m,h)=>[m,c[h]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...r?[l]:[]]:[!1,null]},iQ=({children:e,...t})=>{var u,m;const n=kh(),r=t.hook?PF:n;let s=r;const[i,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs);let l=y.useRef({}),c=l.current,d=c;for(let h in r){const p=h==="base"?r[h]+(t[h]||""):t[h]||r[h];c===d&&p!==d[h]&&(l.current=d={...d}),d[h]=p,p!==r[h]&&(s=d)}return y.createElement(_F.Provider,{value:s,children:e})},bO=({children:e,component:t},n)=>t?y.createElement(t,{params:n}):typeof e=="function"?e(n):e,oQ=e=>{let t=y.useRef(SF),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},dt=({path:e,nest:t,match:n,...r})=>{const s=kh(),[i]=ow(s),[o,l,c]=n??AF(s.parser,e,i,t),d=oQ({...rQ(),...l});if(!o)return null;const u=c?y.createElement(iQ,{base:c},bO(r,d)):bO(r,d);return y.createElement(CF.Provider,{value:d,children:u})},sn=y.forwardRef((e,t)=>{const n=kh(),[r,s]=ow(n),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:m,state:h,...p}=e,g=$C(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),s(o,e)))}),f=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&y.isValidElement(d)?y.cloneElement(d,{onClick:g,href:f}):y.createElement("a",{...p,onClick:g,href:f,className:u!=null&&u.call?u(r===o):u,children:d,ref:t})}),TF=e=>Array.isArray(e)?e.flatMap(t=>TF(t&&t.type===y.Fragment?t.props.children:t)):[e],lQ=({children:e,location:t})=>{const n=kh(),[r]=ow(n);for(const s of TF(e)){let i=0;if(y.isValidElement(s)&&(i=AF(n.parser,s.props.path,t||r,s.props.nest))[0])return y.cloneElement(s,{match:i})}return null},uy=e=>{const{to:t,href:n=t}=e,[,r]=Or(),s=$C(()=>r(t||n,e));return jF(()=>{s()},[]),null};var Ph=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ad=typeof window>"u"||"Deno"in globalThis;function Es(){}function cQ(e,t){return typeof e=="function"?e(t):e}function Uk(e){return typeof e=="number"&&e>=0&&e!==1/0}function EF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function am(e,t){return typeof e=="function"?e(t):e}function ui(e,t){return typeof e=="function"?e(t):e}function wO(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==UC(o,t.options))return!1}else if(!Rf(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function jO(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Td(t.options.mutationKey)!==Td(i))return!1}else if(!Rf(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function UC(e,t){return((t==null?void 0:t.queryKeyHashFn)||Td)(e)}function Td(e){return JSON.stringify(e,(t,n)=>qk(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Rf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Rf(e[n],t[n])):!1}function OF(e,t){if(e===t)return e;const n=NO(e)&&NO(t);if(n||qk(e)&&qk(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const u=n?d:i[d];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=OF(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function Qv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function NO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qk(e){if(!kO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!kO(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function kO(e){return Object.prototype.toString.call(e)==="[object Object]"}function dQ(e){return new Promise(t=>{setTimeout(t,e)})}function Vk(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?OF(e,t):t}function uQ(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function mQ(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var qC=Symbol();function DF(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ld,Tl,hm,J3,hQ=(J3=class extends Ph{constructor(){super();xt(this,ld);xt(this,Tl);xt(this,hm);rt(this,hm,t=>{if(!Ad&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){de(this,Tl)||this.setEventListener(de(this,hm))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,Tl))==null||t.call(this),rt(this,Tl,void 0))}setEventListener(t){var n;rt(this,hm,t),(n=de(this,Tl))==null||n.call(this),rt(this,Tl,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){de(this,ld)!==t&&(rt(this,ld,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof de(this,ld)=="boolean"?de(this,ld):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ld=new WeakMap,Tl=new WeakMap,hm=new WeakMap,J3),VC=new hQ,pm,El,fm,Q3,pQ=(Q3=class extends Ph{constructor(){super();xt(this,pm,!0);xt(this,El);xt(this,fm);rt(this,fm,t=>{if(!Ad&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){de(this,El)||this.setEventListener(de(this,fm))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,El))==null||t.call(this),rt(this,El,void 0))}setEventListener(t){var n;rt(this,fm,t),(n=de(this,El))==null||n.call(this),rt(this,El,t(this.setOnline.bind(this)))}setOnline(t){de(this,pm)!==t&&(rt(this,pm,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return de(this,pm)}},pm=new WeakMap,El=new WeakMap,fm=new WeakMap,Q3),Xv=new pQ;function Kk(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function fQ(e){return Math.min(1e3*2**e,3e4)}function MF(e){return(e??"online")==="online"?Xv.isOnline():!0}var RF=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function vN(e){return e instanceof RF}function IF(e){let t=!1,n=0,r=!1,s;const i=Kk(),o=f=>{var x;r||(h(new RF(f)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>VC.isFocused()&&(e.networkMode==="always"||Xv.isOnline())&&e.canRun(),u=()=>MF(e.networkMode)&&e.canRun(),m=f=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,f),s==null||s(),i.resolve(f))},h=f=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,f),s==null||s(),i.reject(f))},p=()=>new Promise(f=>{var x;s=b=>{(r||d())&&f(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var f;s=void 0,r||(f=e.onContinue)==null||f.call(e)}),g=()=>{if(r)return;let f;const x=n===0?e.initialPromise:void 0;try{f=x??e.fn()}catch(b){f=Promise.reject(b)}Promise.resolve(f).then(m).catch(b=>{var P;if(r)return;const j=e.retry??(Ad?0:3),v=e.retryDelay??fQ,N=typeof v=="function"?v(n,b):v,w=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,b);if(t||!w){h(b);return}n++,(P=e.onFail)==null||P.call(e,n,b),dQ(N).then(()=>d()?void 0:p()).then(()=>{t?h(b):g()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():p().then(g),i)}}function gQ(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Tn=gQ(),cd,X3,LF=(X3=class{constructor(){xt(this,cd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Uk(this.gcTime)&&rt(this,cd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ad?1/0:5*60*1e3))}clearGcTimeout(){de(this,cd)&&(clearTimeout(de(this,cd)),rt(this,cd,void 0))}},cd=new WeakMap,X3),gm,xm,Ts,rr,Jg,dd,ri,yo,Z3,xQ=(Z3=class extends LF{constructor(t){super();xt(this,ri);xt(this,gm);xt(this,xm);xt(this,Ts);xt(this,rr);xt(this,Jg);xt(this,dd);rt(this,dd,!1),rt(this,Jg,t.defaultOptions),this.setOptions(t.options),this.observers=[],rt(this,Ts,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,rt(this,gm,yQ(this.options)),this.state=t.state??de(this,gm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=de(this,rr))==null?void 0:t.promise}setOptions(t){this.options={...de(this,Jg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&de(this,Ts).remove(this)}setData(t,n){const r=Vk(this.state.data,t,this.options);return $t(this,ri,yo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){$t(this,ri,yo).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=de(this,rr))==null?void 0:r.promise;return(s=de(this,rr))==null||s.cancel(t),n?n.then(Es).catch(Es):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(de(this,gm))}isActive(){return this.observers.some(t=>ui(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!EF(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=de(this,rr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=de(this,rr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),de(this,Ts).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(de(this,rr)&&(de(this,dd)?de(this,rr).cancel({revert:!0}):de(this,rr).cancelRetry()),this.scheduleGc()),de(this,Ts).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$t(this,ri,yo).call(this,{type:"invalidate"})}fetch(t,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(de(this,rr))return de(this,rr).continueRetry(),de(this,rr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(rt(this,dd,!0),r.signal)})},i=()=>{const m=DF(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),rt(this,dd,!1),this.options.persister?this.options.persister(m,h,this):m(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),rt(this,xm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&$t(this,ri,yo).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=m=>{var h,p,g,f;vN(m)&&m.silent||$t(this,ri,yo).call(this,{type:"error",error:m}),vN(m)||((p=(h=de(this,Ts).config).onError)==null||p.call(h,m,this),(f=(g=de(this,Ts).config).onSettled)==null||f.call(g,this.state.data,m,this)),this.scheduleGc()};return rt(this,rr,IF({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var h,p,g,f;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){l(x);return}(p=(h=de(this,Ts).config).onSuccess)==null||p.call(h,m,this),(f=(g=de(this,Ts).config).onSettled)==null||f.call(g,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,h)=>{$t(this,ri,yo).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{$t(this,ri,yo).call(this,{type:"pause"})},onContinue:()=>{$t(this,ri,yo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),de(this,rr).start()}},gm=new WeakMap,xm=new WeakMap,Ts=new WeakMap,rr=new WeakMap,Jg=new WeakMap,dd=new WeakMap,ri=new WeakSet,yo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$F(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return vN(s)&&s.revert&&de(this,xm)?{...de(this,xm),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Tn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),de(this,Ts).notify({query:this,type:"updated",action:t})})},Z3);function $F(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MF(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function yQ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Oi,eL,vQ=(eL=class extends Ph{constructor(t={}){super();xt(this,Oi);this.config=t,rt(this,Oi,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??UC(s,n);let o=this.get(i);return o||(o=new xQ({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){de(this,Oi).has(t.queryHash)||(de(this,Oi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=de(this,Oi).get(t.queryHash);n&&(t.destroy(),n===t&&de(this,Oi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return de(this,Oi).get(t)}getAll(){return[...de(this,Oi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>wO(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>wO(t,r)):n}notify(t){Tn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Tn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Oi=new WeakMap,eL),Di,yr,ud,Mi,yl,tL,bQ=(tL=class extends LF{constructor(t){super();xt(this,Mi);xt(this,Di);xt(this,yr);xt(this,ud);this.mutationId=t.mutationId,rt(this,yr,t.mutationCache),rt(this,Di,[]),this.state=t.state||FF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){de(this,Di).includes(t)||(de(this,Di).push(t),this.clearGcTimeout(),de(this,yr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){rt(this,Di,de(this,Di).filter(n=>n!==t)),this.scheduleGc(),de(this,yr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){de(this,Di).length||(this.state.status==="pending"?this.scheduleGc():de(this,yr).remove(this))}continue(){var t;return((t=de(this,ud))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,l,c,d,u,m,h,p,g,f,x,b,j,v,N,w,P,k;rt(this,ud,IF({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(_,S)=>{$t(this,Mi,yl).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{$t(this,Mi,yl).call(this,{type:"pause"})},onContinue:()=>{$t(this,Mi,yl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>de(this,yr).canRun(this)}));const n=this.state.status==="pending",r=!de(this,ud).canStart();try{if(!n){$t(this,Mi,yl).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(s=de(this,yr).config).onMutate)==null?void 0:i.call(s,t,this));const S=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));S!==this.state.context&&$t(this,Mi,yl).call(this,{type:"pending",context:S,variables:t,isPaused:r})}const _=await de(this,ud).start();return await((d=(c=de(this,yr).config).onSuccess)==null?void 0:d.call(c,_,t,this.state.context,this)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,_,t,this.state.context)),await((p=(h=de(this,yr).config).onSettled)==null?void 0:p.call(h,_,null,this.state.variables,this.state.context,this)),await((f=(g=this.options).onSettled)==null?void 0:f.call(g,_,null,t,this.state.context)),$t(this,Mi,yl).call(this,{type:"success",data:_}),_}catch(_){try{throw await((b=(x=de(this,yr).config).onError)==null?void 0:b.call(x,_,t,this.state.context,this)),await((v=(j=this.options).onError)==null?void 0:v.call(j,_,t,this.state.context)),await((w=(N=de(this,yr).config).onSettled)==null?void 0:w.call(N,void 0,_,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,_,t,this.state.context)),_}finally{$t(this,Mi,yl).call(this,{type:"error",error:_})}}finally{de(this,yr).runNext(this)}}},Di=new WeakMap,yr=new WeakMap,ud=new WeakMap,Mi=new WeakSet,yl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tn.batch(()=>{de(this,Di).forEach(r=>{r.onMutationUpdate(t)}),de(this,yr).notify({mutation:this,type:"updated",action:t})})},tL);function FF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var es,Qg,aL,wQ=(aL=class extends Ph{constructor(t={}){super();xt(this,es);xt(this,Qg);this.config=t,rt(this,es,new Map),rt(this,Qg,Date.now())}build(t,n,r){const s=new bQ({mutationCache:this,mutationId:++Wx(this,Qg)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=my(t),r=de(this,es).get(n)??[];r.push(t),de(this,es).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=my(t);if(de(this,es).has(n)){const s=(r=de(this,es).get(n))==null?void 0:r.filter(i=>i!==t);s&&(s.length===0?de(this,es).delete(n):de(this,es).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=de(this,es).get(my(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=de(this,es).get(my(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Tn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...de(this,es).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>jO(n,r))}findAll(t={}){return this.getAll().filter(n=>jO(t,n))}notify(t){Tn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Tn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Es))))}},es=new WeakMap,Qg=new WeakMap,aL);function my(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function PO(e){return{onFetch:(t,n)=>{var u,m,h,p,g;const r=t.options,s=(h=(m=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let f=!1;const x=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},b=DF(t.options,t.fetchOptions),j=async(v,N,w)=>{if(f)return Promise.reject();if(N==null&&v.pages.length)return Promise.resolve(v);const P={queryKey:t.queryKey,pageParam:N,direction:w?"backward":"forward",meta:t.options.meta};x(P);const k=await b(P),{maxPages:_}=t.options,S=w?mQ:uQ;return{pages:S(v.pages,k,_),pageParams:S(v.pageParams,N,_)}};if(s&&i.length){const v=s==="backward",N=v?jQ:_O,w={pages:i,pageParams:o},P=N(r,w);l=await j(w,P,v)}else{const v=e??i.length;do{const N=c===0?o[0]??r.initialPageParam:_O(r,l);if(c>0&&N==null)break;l=await j(l,N),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var f,x;return(x=(f=t.options).persister)==null?void 0:x.call(f,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function _O(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function jQ(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var en,Ol,Dl,ym,vm,Ml,bm,wm,nL,NQ=(nL=class{constructor(e={}){xt(this,en);xt(this,Ol);xt(this,Dl);xt(this,ym);xt(this,vm);xt(this,Ml);xt(this,bm);xt(this,wm);rt(this,en,e.queryCache||new vQ),rt(this,Ol,e.mutationCache||new wQ),rt(this,Dl,e.defaultOptions||{}),rt(this,ym,new Map),rt(this,vm,new Map),rt(this,Ml,0)}mount(){Wx(this,Ml)._++,de(this,Ml)===1&&(rt(this,bm,VC.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,en).onFocus())})),rt(this,wm,Xv.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,en).onOnline())})))}unmount(){var e,t;Wx(this,Ml)._--,de(this,Ml)===0&&((e=de(this,bm))==null||e.call(this),rt(this,bm,void 0),(t=de(this,wm))==null||t.call(this),rt(this,wm,void 0))}isFetching(e){return de(this,en).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return de(this,Ol).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=de(this,en).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=de(this,en).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(am(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return de(this,en).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=de(this,en).get(r.queryHash),i=s==null?void 0:s.state.data,o=cQ(t,i);if(o!==void 0)return de(this,en).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Tn.batch(()=>de(this,en).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=de(this,en).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=de(this,en);Tn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=de(this,en),r={type:"active",...e};return Tn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Tn.batch(()=>de(this,en).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Es).catch(Es)}invalidateQueries(e={},t={}){return Tn.batch(()=>{if(de(this,en).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Tn.batch(()=>de(this,en).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Es)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Es)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=de(this,en).build(this,t);return n.isStaleByTime(am(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Es).catch(Es)}fetchInfiniteQuery(e){return e.behavior=PO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Es).catch(Es)}ensureInfiniteQueryData(e){return e.behavior=PO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xv.isOnline()?de(this,Ol).resumePausedMutations():Promise.resolve()}getQueryCache(){return de(this,en)}getMutationCache(){return de(this,Ol)}getDefaultOptions(){return de(this,Dl)}setDefaultOptions(e){rt(this,Dl,e)}setQueryDefaults(e,t){de(this,ym).set(Td(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...de(this,ym).values()];let n={};return t.forEach(r=>{Rf(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){de(this,vm).set(Td(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...de(this,vm).values()];let n={};return t.forEach(r=>{Rf(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...de(this,Dl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=UC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===qC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...de(this,Dl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){de(this,en).clear(),de(this,Ol).clear()}},en=new WeakMap,Ol=new WeakMap,Dl=new WeakMap,ym=new WeakMap,vm=new WeakMap,Ml=new WeakMap,bm=new WeakMap,wm=new WeakMap,nL),Mr,Qt,Xg,vr,md,jm,Rl,Ri,Zg,Nm,km,hd,pd,Il,Pm,sa,Mp,zk,Wk,Hk,Gk,Yk,Jk,Qk,BF,rL,kQ=(rL=class extends Ph{constructor(t,n){super();xt(this,sa);xt(this,Mr);xt(this,Qt);xt(this,Xg);xt(this,vr);xt(this,md);xt(this,jm);xt(this,Rl);xt(this,Ri);xt(this,Zg);xt(this,Nm);xt(this,km);xt(this,hd);xt(this,pd);xt(this,Il);xt(this,Pm,new Set);this.options=n,rt(this,Mr,t),rt(this,Ri,null),rt(this,Rl,Kk()),this.options.experimental_prefetchInRender||de(this,Rl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(de(this,Qt).addObserver(this),SO(de(this,Qt),this.options)?$t(this,sa,Mp).call(this):this.updateResult(),$t(this,sa,Gk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xk(de(this,Qt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xk(de(this,Qt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$t(this,sa,Yk).call(this),$t(this,sa,Jk).call(this),de(this,Qt).removeObserver(this)}setOptions(t,n){const r=this.options,s=de(this,Qt);if(this.options=de(this,Mr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ui(this.options.enabled,de(this,Qt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$t(this,sa,Qk).call(this),de(this,Qt).setOptions(this.options),r._defaulted&&!Qv(this.options,r)&&de(this,Mr).getQueryCache().notify({type:"observerOptionsUpdated",query:de(this,Qt),observer:this});const i=this.hasListeners();i&&CO(de(this,Qt),s,this.options,r)&&$t(this,sa,Mp).call(this),this.updateResult(n),i&&(de(this,Qt)!==s||ui(this.options.enabled,de(this,Qt))!==ui(r.enabled,de(this,Qt))||am(this.options.staleTime,de(this,Qt))!==am(r.staleTime,de(this,Qt)))&&$t(this,sa,zk).call(this);const o=$t(this,sa,Wk).call(this);i&&(de(this,Qt)!==s||ui(this.options.enabled,de(this,Qt))!==ui(r.enabled,de(this,Qt))||o!==de(this,Il))&&$t(this,sa,Hk).call(this,o)}getOptimisticResult(t){const n=de(this,Mr).getQueryCache().build(de(this,Mr),t),r=this.createResult(n,t);return _Q(this,r)&&(rt(this,vr,r),rt(this,jm,this.options),rt(this,md,de(this,Qt).state)),r}getCurrentResult(){return de(this,vr)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){de(this,Pm).add(t)}getCurrentQuery(){return de(this,Qt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=de(this,Mr).defaultQueryOptions(t),r=de(this,Mr).getQueryCache().build(de(this,Mr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return $t(this,sa,Mp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),de(this,vr)))}createResult(t,n){var _;const r=de(this,Qt),s=this.options,i=de(this,vr),o=de(this,md),l=de(this,jm),d=t!==r?t.state:de(this,Xg),{state:u}=t;let m={...u},h=!1,p;if(n._optimisticResults){const S=this.hasListeners(),O=!S&&SO(t,n),A=S&&CO(t,r,n,s);(O||A)&&(m={...m,...$F(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:g,errorUpdatedAt:f,status:x}=m;if(n.select&&m.data!==void 0)if(i&&m.data===(o==null?void 0:o.data)&&n.select===de(this,Zg))p=de(this,Nm);else try{rt(this,Zg,n.select),p=n.select(m.data),p=Vk(i==null?void 0:i.data,p,n),rt(this,Nm,p),rt(this,Ri,null)}catch(S){rt(this,Ri,S)}else p=m.data;if(n.placeholderData!==void 0&&p===void 0&&x==="pending"){let S;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))S=i.data;else if(S=typeof n.placeholderData=="function"?n.placeholderData((_=de(this,km))==null?void 0:_.state.data,de(this,km)):n.placeholderData,n.select&&S!==void 0)try{S=n.select(S),rt(this,Ri,null)}catch(O){rt(this,Ri,O)}S!==void 0&&(x="success",p=Vk(i==null?void 0:i.data,S,n),h=!0)}de(this,Ri)&&(g=de(this,Ri),p=de(this,Nm),f=Date.now(),x="error");const b=m.fetchStatus==="fetching",j=x==="pending",v=x==="error",N=j&&b,w=p!==void 0,k={status:x,fetchStatus:m.fetchStatus,isPending:j,isSuccess:x==="success",isError:v,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:m.dataUpdatedAt,error:g,errorUpdatedAt:f,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!j,isLoadingError:v&&!w,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:v&&w,isStale:KC(t,n),refetch:this.refetch,promise:de(this,Rl)};if(this.options.experimental_prefetchInRender){const S=E=>{k.status==="error"?E.reject(k.error):k.data!==void 0&&E.resolve(k.data)},O=()=>{const E=rt(this,Rl,k.promise=Kk());S(E)},A=de(this,Rl);switch(A.status){case"pending":t.queryHash===r.queryHash&&S(A);break;case"fulfilled":(k.status==="error"||k.data!==A.value)&&O();break;case"rejected":(k.status!=="error"||k.error!==A.reason)&&O();break}}return k}updateResult(t){const n=de(this,vr),r=this.createResult(de(this,Qt),this.options);if(rt(this,md,de(this,Qt).state),rt(this,jm,this.options),de(this,md).data!==void 0&&rt(this,km,de(this,Qt)),Qv(r,n))return;rt(this,vr,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!de(this,Pm).size)return!0;const c=new Set(l??de(this,Pm));return this.options.throwOnError&&c.add("error"),Object.keys(de(this,vr)).some(d=>{const u=d;return de(this,vr)[u]!==n[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),$t(this,sa,BF).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$t(this,sa,Gk).call(this)}},Mr=new WeakMap,Qt=new WeakMap,Xg=new WeakMap,vr=new WeakMap,md=new WeakMap,jm=new WeakMap,Rl=new WeakMap,Ri=new WeakMap,Zg=new WeakMap,Nm=new WeakMap,km=new WeakMap,hd=new WeakMap,pd=new WeakMap,Il=new WeakMap,Pm=new WeakMap,sa=new WeakSet,Mp=function(t){$t(this,sa,Qk).call(this);let n=de(this,Qt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Es)),n},zk=function(){$t(this,sa,Yk).call(this);const t=am(this.options.staleTime,de(this,Qt));if(Ad||de(this,vr).isStale||!Uk(t))return;const r=EF(de(this,vr).dataUpdatedAt,t)+1;rt(this,hd,setTimeout(()=>{de(this,vr).isStale||this.updateResult()},r))},Wk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(de(this,Qt)):this.options.refetchInterval)??!1},Hk=function(t){$t(this,sa,Jk).call(this),rt(this,Il,t),!(Ad||ui(this.options.enabled,de(this,Qt))===!1||!Uk(de(this,Il))||de(this,Il)===0)&&rt(this,pd,setInterval(()=>{(this.options.refetchIntervalInBackground||VC.isFocused())&&$t(this,sa,Mp).call(this)},de(this,Il)))},Gk=function(){$t(this,sa,zk).call(this),$t(this,sa,Hk).call(this,$t(this,sa,Wk).call(this))},Yk=function(){de(this,hd)&&(clearTimeout(de(this,hd)),rt(this,hd,void 0))},Jk=function(){de(this,pd)&&(clearInterval(de(this,pd)),rt(this,pd,void 0))},Qk=function(){const t=de(this,Mr).getQueryCache().build(de(this,Mr),this.options);if(t===de(this,Qt))return;const n=de(this,Qt);rt(this,Qt,t),rt(this,Xg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},BF=function(t){Tn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(de(this,vr))}),de(this,Mr).getQueryCache().notify({query:de(this,Qt),type:"observerResultsUpdated"})})},rL);function PQ(e,t){return ui(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function SO(e,t){return PQ(e,t)||e.state.data!==void 0&&Xk(e,t,t.refetchOnMount)}function Xk(e,t,n){if(ui(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&KC(e,t)}return!1}function CO(e,t,n,r){return(e!==t||ui(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&KC(e,n)}function KC(e,t){return ui(t.enabled,e)!==!1&&e.isStaleByTime(am(t.staleTime,e))}function _Q(e,t){return!Qv(e.getCurrentResult(),t)}var Ll,$l,Rr,Po,qo,uv,Zk,sL,SQ=(sL=class extends Ph{constructor(n,r){super();xt(this,qo);xt(this,Ll);xt(this,$l);xt(this,Rr);xt(this,Po);rt(this,Ll,n),this.setOptions(r),this.bindMethods(),$t(this,qo,uv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=de(this,Ll).defaultMutationOptions(n),Qv(this.options,r)||de(this,Ll).getMutationCache().notify({type:"observerOptionsUpdated",mutation:de(this,Rr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Td(r.mutationKey)!==Td(this.options.mutationKey)?this.reset():((s=de(this,Rr))==null?void 0:s.state.status)==="pending"&&de(this,Rr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=de(this,Rr))==null||n.removeObserver(this)}onMutationUpdate(n){$t(this,qo,uv).call(this),$t(this,qo,Zk).call(this,n)}getCurrentResult(){return de(this,$l)}reset(){var n;(n=de(this,Rr))==null||n.removeObserver(this),rt(this,Rr,void 0),$t(this,qo,uv).call(this),$t(this,qo,Zk).call(this)}mutate(n,r){var s;return rt(this,Po,r),(s=de(this,Rr))==null||s.removeObserver(this),rt(this,Rr,de(this,Ll).getMutationCache().build(de(this,Ll),this.options)),de(this,Rr).addObserver(this),de(this,Rr).execute(n)}},Ll=new WeakMap,$l=new WeakMap,Rr=new WeakMap,Po=new WeakMap,qo=new WeakSet,uv=function(){var r;const n=((r=de(this,Rr))==null?void 0:r.state)??FF();rt(this,$l,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Zk=function(n){Tn.batch(()=>{var r,s,i,o,l,c,d,u;if(de(this,Po)&&this.hasListeners()){const m=de(this,$l).variables,h=de(this,$l).context;(n==null?void 0:n.type)==="success"?((s=(r=de(this,Po)).onSuccess)==null||s.call(r,n.data,m,h),(o=(i=de(this,Po)).onSettled)==null||o.call(i,n.data,null,m,h)):(n==null?void 0:n.type)==="error"&&((c=(l=de(this,Po)).onError)==null||c.call(l,n.error,m,h),(u=(d=de(this,Po)).onSettled)==null||u.call(d,void 0,n.error,m,h))}this.listeners.forEach(m=>{m(de(this,$l))})})},sL),UF=y.createContext(void 0),Aa=e=>{const t=y.useContext(UF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},CQ=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(UF.Provider,{value:e,children:t})),qF=y.createContext(!1),AQ=()=>y.useContext(qF);qF.Provider;function TQ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var EQ=y.createContext(TQ()),OQ=()=>y.useContext(EQ);function VF(e,t){return typeof e=="function"?e(...t):!!e}function eP(){}var DQ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},MQ=e=>{y.useEffect(()=>{e.clearReset()},[e])},RQ=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&VF(n,[e.error,r]),IQ=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},LQ=(e,t)=>e.isLoading&&e.isFetching&&!t,$Q=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,AO=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function FQ(e,t,n){var u,m,h,p,g;const r=Aa(),s=AQ(),i=OQ(),o=r.defaultQueryOptions(e);(m=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||m.call(u,o),o._optimisticResults=s?"isRestoring":"optimistic",IQ(o),DQ(o,i),MQ(i);const l=!r.getQueryCache().get(o.queryHash),[c]=y.useState(()=>new t(r,o)),d=c.getOptimisticResult(o);if(y.useSyncExternalStore(y.useCallback(f=>{const x=s?eP:c.subscribe(Tn.batchCalls(f));return c.updateResult(),x},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),$Q(o,d))throw AO(o,c,i);if(RQ({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,d),o.experimental_prefetchInRender&&!Ad&&LQ(d,s)){const f=l?AO(o,c,i):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;f==null||f.catch(eP).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ae(e,t){return FQ(e,kQ)}function Ce(e,t){const n=Aa(),[r]=y.useState(()=>new SQ(n,e));y.useEffect(()=>{r.setOptions(e)},[r,e]);const s=y.useSyncExternalStore(y.useCallback(o=>r.subscribe(Tn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=y.useCallback((o,l)=>{r.mutate(o,l).catch(eP)},[r]);if(s.error&&VF(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var Li=function(){return Li=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Li.apply(this,arguments)};function _h(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function BQ(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(r.next(u))}catch(m){o(m)}}function c(u){try{d(r.throw(u))}catch(m){o(m)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})}function UQ(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const qQ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class zC extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class VQ extends zC{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class TO extends zC{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class EO extends zC{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tP;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tP||(tP={}));class KQ{constructor(t,{headers:n={},customFetch:r,region:s=tP.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=qQ(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return BQ(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:l,method:c,body:d,signal:u,timeout:m}=r;let h={},{region:p}=r;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let f;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",f=d):typeof d=="string"?(h["Content-Type"]="text/plain",f=d):typeof FormData<"u"&&d instanceof FormData?f=d:(h["Content-Type"]="application/json",f=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?f=JSON.stringify(d):f=d;let x=u;m&&(o=new AbortController,i=setTimeout(()=>o.abort(),m),u?(x=o.signal,u.addEventListener("abort",()=>o.abort())):x=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:f,signal:x}).catch(w=>{throw new VQ(w)}),j=b.headers.get("x-relay-error");if(j&&j==="true")throw new TO(b);if(!b.ok)throw new EO(b);let v=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),N;return v==="application/json"?N=yield b.json():v==="application/octet-stream"||v==="application/pdf"?N=yield b.blob():v==="text/event-stream"?N=b:v==="multipart/form-data"?N=yield b.formData():N=yield b.text(),{data:N,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof EO||l instanceof TO?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var zQ=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},WQ=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,d=i.status,u=i.statusText;if(i.ok){var m,h;if(n.method!=="HEAD"){var p;const b=await i.text();b===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const f=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),x=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");f&&x&&x.length>1&&(c=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,d=406,u="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const f=await i.text();try{o=JSON.parse(f),Array.isArray(o)&&i.status===404&&(l=[],o=null,d=200,u="OK")}catch{i.status===404&&f===""?(d=204,u="No Content"):o={message:f}}if(o&&n.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,d=200,u="OK"),o&&n.shouldThrowOnError)throw new zQ(o)}return{error:o,data:l,count:c,status:d,statusText:u}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var d,u,m,h;const g=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",f=(u=c==null?void 0:c.code)!==null&&u!==void 0?u:"";l=`${(m=i==null?void 0:i.name)!==null&&m!==void 0?m:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,f&&(l+=` (${f})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},HQ=class extends WQ{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const OO=new RegExp("[,()]");var bu=class extends HQ{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&OO.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&OO.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},GQ=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(d=>/\s/.test(d)&&!i?"":(d==='"'&&(i=!i),d)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),r&&c.append("Prefer",`count=${r}`),new bu({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);i.searchParams.set("columns",c.join(","))}}return new bu({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((u,m)=>u.concat(Object.keys(m)),[]);if(d.length>0){const u=[...new Set(d)].map(m=>`"${m}"`);l.searchParams.set("columns",u.join(","))}}return new bu({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new bu({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new bu({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},YQ=class KF{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new GQ(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new KF(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;const u=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(u)),m=r&&Object.values(n).some(u);m?(l="POST",d=n):r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(l="POST",d=n);const h=new Headers(this.headers);return m?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new bu({method:l,url:c,headers:h,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class JQ{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const QQ="2.93.2",XQ=`realtime-js/${QQ}`,ZQ="1.0.0",zF="2.0.0",DO=zF,aP=1e4,eX=1e3,tX=100;var Nl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Nl||(Nl={}));var Cn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Cn||(Cn={}));var ii;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ii||(ii={}));var nP;(function(e){e.websocket="websocket"})(nP||(nP={}));var Hc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Hc||(Hc={}));class aX{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",d=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length+m.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),f=0;g.setUint8(f++,this.KINDS.userBroadcastPush),g.setUint8(f++,c.length),g.setUint8(f++,l.length),g.setUint8(f++,o.length),g.setUint8(f++,d.length),g.setUint8(f++,m.length),g.setUint8(f++,n),Array.from(c,b=>g.setUint8(f++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(f++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(f++,b.charCodeAt(0))),Array.from(d,b=>g.setUint8(f++,b.charCodeAt(0))),Array.from(m,b=>g.setUint8(f++,b.charCodeAt(0)));var x=new Uint8Array(p.byteLength+r.byteLength);return x.set(new Uint8Array(p),0),x.set(new Uint8Array(r),p.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,l,c]=r;return n({join_ref:s,ref:i,topic:o,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const d=r.decode(t.slice(c,c+s));c=c+s;const u=r.decode(t.slice(c,c+i));c=c+i;const m=r.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,g={type:this.BROADCAST_EVENT,event:u,payload:p};return o>0&&(g.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class WF{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ja;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ja||(ja={}));const MO=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=nX(o,e,t,s),i),{}):{}},nX=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?HF(i,o):rP(o)},HF=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return oX(t,n)}switch(e){case ja.bool:return rX(t);case ja.float4:case ja.float8:case ja.int2:case ja.int4:case ja.int8:case ja.numeric:case ja.oid:return sX(t);case ja.json:case ja.jsonb:return iX(t);case ja.timestamp:return lX(t);case ja.abstime:case ja.date:case ja.daterange:case ja.int4range:case ja.int8range:case ja.money:case ja.reltime:case ja.text:case ja.time:case ja.timestamptz:case ja.timetz:case ja.tsrange:case ja.tstzrange:return rP(t);default:return rP(t)}},rP=e=>e,rX=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sX=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},iX=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},oX=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>HF(t,l))}return e},lX=e=>typeof e=="string"?e.replace(" ","T"):e,GF=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class bN{constructor(t,n,r={},s=aP){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var RO;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(RO||(RO={}));class af{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=af.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=af.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=af.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const m=i[d];if(m){const h=u.map(x=>x.presence_ref),p=m.map(x=>x.presence_ref),g=u.filter(x=>p.indexOf(x.presence_ref)<0),f=m.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(l[d]=g),f.length>0&&(c[d]=f)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const m=t[l].map(p=>p.presence_ref),h=u.filter(p=>m.indexOf(p.presence_ref)<0);t[l].unshift(...h)}r(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var IO;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(IO||(IO={}));var nf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nf||(nf={}));var wo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wo||(wo={}));class Iu{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new bN(this,ii.join,this.params,this.timeout),this.rejoinTimer=new WF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ii.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new af(this),this.broadcastEndpointURL=GF(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Cn.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[nf.PRESENCE]&&this.bindings[nf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(wo.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(wo.CLOSED)),this.updateJoinPayload(Object.assign({config:h},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(wo.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,x=(g=f==null?void 0:f.length)!==null&&g!==void 0?g:0,b=[];for(let j=0;j<x;j++){const v=f[j],{filter:{event:N,schema:w,table:P,filter:k}}=v,_=p&&p[j];if(_&&_.event===N&&Iu.isFilterValueEqual(_.schema,w)&&Iu.isFilterValueEqual(_.table,P)&&Iu.isFilterValueEqual(_.filter,k))b.push(Object.assign(Object.assign({},v),{id:_.id}));else{this.unsubscribe(),this.state=Cn.errored,t==null||t(wo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(wo.SUBSCRIBED);return}}).receive("error",p=>{this.state=Cn.errored,t==null||t(wo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Cn.joined&&t===nf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Cn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ii.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new bN(this,ii.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Cn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new bN(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>tX){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=ii;if(r&&[l,c,d,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,f,x;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(f=p.filter)===null||f===void 0?void 0:f.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var g,f,x,b,j,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const N=p.id,w=(g=p.filter)===null||g===void 0?void 0:g.event;return N&&((f=n.ids)===null||f===void 0?void 0:f.includes(N))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const N=(j=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return N==="*"||N===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:f,table:x,commit_timestamp:b,type:j,errors:v}=g;h=Object.assign(Object.assign({},{schema:f,table:x,commit_timestamp:b,eventType:j,new:{},old:{},errors:v}),this._getPayloadRecords(g))}p.callback(h,r)})}_isClosed(){return this.state===Cn.closed}_isJoined(){return this.state===Cn.joined}_isJoining(){return this.state===Cn.joining}_isLeaving(){return this.state===Cn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Iu.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ii.close,{},t)}_onError(t){this._on(ii.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=MO(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=MO(t.columns,t.old_record)),n}}const wN=()=>{},hy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cX=[1e3,2e3,5e3,1e4],dX=1e4,uX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mX{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=aP,this.transport=null,this.heartbeatIntervalMs=hy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wN,this.ref=0,this.reconnectTimer=null,this.vsn=DO,this.logger=wN,this.conn=null,this.sendBuffer=[],this.serializer=new aX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${nP.websocket}`,this.httpEndpoint=GF(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JQ.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Nl.connecting:return Hc.Connecting;case Nl.open:return Hc.Open;case Nl.closing:return Hc.Closing;default:return Hc.Closed}}isConnected(){return this.connectionState()===Hc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Iu(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(eX,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},hy.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",d)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Nl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Nl.open||this.conn.readyState===Nl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ii.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([uX],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:XQ};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ii.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new WF(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,l,c,d,u,m,h,p;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:aP,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:hy.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:wN,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:DO,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:g=>cX[g-1]||dX,this.vsn){case ZQ:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(g,f)=>f(JSON.stringify(g)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(g,f)=>f(JSON.parse(g));break;case zF:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var If=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function hX(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function pX(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function fX(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const l=hX(e.baseUrl,r,s),c=await pX(e.auth),d=await t(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),u=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),h=m&&u?JSON.parse(u):u;if(!d.ok){const p=m?h:void 0,g=p==null?void 0:p.error;throw new If((g==null?void 0:g.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:d.status,headers:d.headers,data:h}}}}function py(e){return e.join("")}var gX=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:py(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${py(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${py(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${py(e.namespace)}`}),!0}catch(t){if(t instanceof If&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof If&&n.status===409)return;throw n}}};function su(e){return e.join("")}var xX=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${su(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof If&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof If&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},yX=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=fX({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new gX(this.client,t),this.tableOps=new xX(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},lw=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function cw(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var fy=class extends lw{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},YF=class extends lw{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const vX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sP=e=>{if(Array.isArray(e))return e.map(n=>sP(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=sP(r)}),t},wX=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function jX(e,t){if(Lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NX(e){var t=jX(e,"string");return Lf(t)=="symbol"?t:t+""}function kX(e,t,n){return(t=NX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(r){kX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const $O=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},PX=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new fy($O(o),i,l,r))}).catch(()=>{if(r==="vectors"){const o=i+"";t(new fy(s.statusText||`HTTP ${i} error`,i,o,r))}else{const o=i+"";t(new fy(s.statusText||`HTTP ${i} error`,i,o,r))}});else{const o=i+"";t(new fy(s.statusText||`HTTP ${i} error`,i,o,r))}}else t(new YF($O(e),e,r))},_X=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?Nt(Nt({},s),n):(bX(r)?(s.headers=Nt({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Nt(Nt({},s),n))};async function up(e,t,n,r,s,i,o){return new Promise((l,c)=>{e(n,_X(t,r,s,i)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;if(o==="vectors"){const u=d.headers.get("content-type");if(!u||!u.includes("application/json"))return{}}return d.json()}).then(d=>l(d)).catch(d=>PX(d,c,r,o))})}function SX(e="storage"){return{get:async(t,n,r,s)=>up(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>up(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>up(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>up(t,"HEAD",n,Nt(Nt({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>up(t,"DELETE",n,s,i,r,e)}}const CX=SX("storage"),{get:$f,post:qa,put:iP,head:AX,remove:WC}=CX;var Sh=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=vX(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(cw(n))return{data:null,error:n};throw n}}},TX=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(cw(t))return{data:null,error:t};throw t}}};let JF;JF=Symbol.toStringTag;var EX=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[JF]="BlobDownloadBuilder",this.promise=null}asStream(){return new TX(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(cw(t))return{data:null,error:t};throw t}}};const OX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},FO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var DX=class extends Sh{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const o=Nt(Nt({},FO),r);let l=Nt(Nt({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(l=Nt(Nt({},l),r.headers));const d=s._removeEmptyFolders(t),u=s._getFinalPath(d),m=await(e=="PUT"?iP:qa)(s.fetch,`${s.url}/object/${u}`,i,Nt({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:d,id:m.Id,fullPath:m.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const d=Nt({upsert:FO.upsert},r),u=Nt(Nt({},s.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType),{path:i,fullPath:(await iP(s.fetch,l.toString(),c,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=Nt({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await qa(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),l=o.searchParams.get("token");if(!l)throw new lw("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await qa(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await qa(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await qa(r.fetch,`${r.url}/object/sign/${s}`,Nt({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await qa(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(o=>Nt(Nt({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>$f(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new EX(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>sP(await $f(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await AX(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(cw(r)&&r instanceof YF){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await WC(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=Nt(Nt(Nt({},OX),t),{},{prefix:e||""});return await qa(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=Nt({},e);return await qa(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const MX="2.93.2",sx={"X-Client-Info":`storage-js/${MX}`};var RX=class extends Sh{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=Nt(Nt({},sx),t);super(i,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await $f(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await $f(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await qa(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await iP(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await WC(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},IX=class extends Sh{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Nt(Nt({},sx),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await $f(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await WC(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!wX(e))throw new lw("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new yX({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},LX=class extends Sh{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Nt(Nt({},sx),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await qa(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await qa(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},$X=class extends Sh{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Nt(Nt({},sx),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},FX=class extends Sh{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=Nt(Nt({},sx),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},BX=class extends FX{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new UX(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},UX=class extends LX{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Nt(Nt({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Nt(Nt({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new qX(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},qX=class extends $X{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Nt(Nt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Nt(Nt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Nt(Nt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Nt(Nt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Nt(Nt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},VX=class extends RX{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new DX(this.url,this.headers,e,this.fetch)}get vectors(){return new BX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new IX(this.url+"/iceberg",this.headers,this.fetch)}};const QF="2.93.2",wu=30*1e3,oP=3,jN=oP*wu,KX="http://localhost:9999",zX="supabase.auth.token",WX={"X-Client-Info":`gotrue-js/${QF}`},lP="X-Supabase-Api-Version",XF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GX=10*60*1e3;class Ff extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class YX extends Ff{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function JX(e){return ut(e)&&e.name==="AuthApiError"}class Gc extends Ff{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class rl extends Ff{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Qr extends rl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function NN(e){return ut(e)&&e.name==="AuthSessionMissingError"}class iu extends rl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gy extends rl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xy extends rl{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QX(e){return ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class BO extends rl{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class XX extends rl{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class cP extends rl{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function kN(e){return ut(e)&&e.name==="AuthRetryableFetchError"}class UO extends rl{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class dP extends rl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qO=` 	
\r=`.split(""),ZX=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qO.length;t+=1)e[qO[t].charCodeAt(0)]=-2;for(let t=0;t<Zv.length;t+=1)e[Zv[t].charCodeAt(0)]=t;return e})();function VO(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Zv[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Zv[r]),t.queuedBits-=6}}function ZF(e,t,n){const r=ZX[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function KO(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{aZ(o,r,n)};for(let o=0;o<e.length;o+=1)ZF(e.charCodeAt(o),s,i);return t.join("")}function eZ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tZ(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}eZ(r,t)}}function aZ(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function nm(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)ZF(e.charCodeAt(s),n,r);return new Uint8Array(t)}function nZ(e){const t=[];return tZ(e,n=>t.push(n)),new Uint8Array(t)}function Zc(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>VO(s,n,r)),VO(null,n,r),t.join("")}function rZ(e){return Math.round(Date.now()/1e3)+e}function sZ(){return Symbol("auth-callback")}const Gn=()=>typeof window<"u"&&typeof document<"u",Ec={tested:!1,writable:!1},eB=()=>{if(!Gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ec.tested)return Ec.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ec.tested=!0,Ec.writable=!0}catch{Ec.tested=!0,Ec.writable=!1}return Ec.writable};function iZ(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const tB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oZ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ju=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Oc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wn=async(e,t)=>{await e.removeItem(t)};class dw{constructor(){this.promise=new dw.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}dw.promiseConstructor=Promise;function yy(e){const t=e.split(".");if(t.length!==3)throw new dP("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!HX.test(t[r]))throw new dP("JWT not in base64url format");return{header:JSON.parse(KO(t[0])),payload:JSON.parse(KO(t[1])),signature:nm(t[2]),raw:{header:t[0],payload:t[1]}}}async function lZ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cZ(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function dZ(e){return("0"+e.toString(16)).substr(-2)}function uZ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,dZ).join("")}async function mZ(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function hZ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await mZ(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ou(e,t,n=!1){const r=uZ();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ju(e,`${t}-code-verifier`,s);const i=await hZ(r);return[i,r===i?"plain":"s256"]}const pZ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fZ(e){const t=e.headers.get(lP);if(!t||!t.match(pZ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gZ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xZ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yZ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lu(e){if(!yZ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function PN(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vZ(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function zO(e){return JSON.parse(JSON.stringify(e))}const Uc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bZ=[502,503,504];async function WO(e){var t;if(!oZ(e))throw new cP(Uc(e),0);if(bZ.includes(e.status))throw new cP(Uc(e),e.status);let n;try{n=await e.json()}catch(i){throw new Gc(Uc(i),i)}let r;const s=fZ(e);if(s&&s.getTime()>=XF["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new UO(Uc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Qr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new UO(Uc(n),e.status,n.weak_password.reasons);throw new YX(Uc(n),e.status||500,r)}const wZ=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function bt(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[lP]||(i[lP]=XF["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await jZ(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function jZ(e,t,n,r,s,i){const o=wZ(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new cP(Uc(c),0)}if(l.ok||await WO(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await WO(c)}}function Zs(e){var t;let n=null;PZ(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=rZ(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function HO(e){const t=Zs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Sl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function NZ(e){return{data:e,error:null}}function kZ(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=_h(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function GO(e){return e}function PZ(e){return e.access_token&&e.refresh_token&&e.expires_in}const _N=["global","local","others"];class _Z{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=tB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=_N[0]){if(_N.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_N.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Sl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=_h(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:kZ,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ut(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:GO});if(u.error)throw u.error;const m=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const f=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=f}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ut(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){lu(t);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){lu(t);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Sl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){lu(t);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Sl})}catch(r){if(ut(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){lu(t.userId);try{const{data:n,error:r}=await bt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _deleteFactor(t){lu(t.userId),lu(t.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:GO});if(u.error)throw u.error;const m=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const f=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);d[`${x}Page`]=f}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ut(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ut(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}}function YO(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const cu={debug:!!(globalThis&&eB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aB extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class SZ extends aB{}async function CZ(e,t,n){cu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),cu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){cu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{cu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw cu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new SZ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function AZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function TZ(e){return parseInt(e,16)}function EZ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function OZ(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:m,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=nB(e.address),g=u?`${u}://${r}`:r,f=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${p}

${f}`;let b=`URI: ${m}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),d){let j=`
Resources:`;for(const v of d){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);j+=`
- ${v}`}b+=j}return`${x}
${b}`}class vn extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class eb extends vn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function DZ({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new vn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new vn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new vn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new vn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new vn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new vn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new vn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(rB(o)){if(i.rp.id!==o)return new vn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new vn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new vn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function MZ({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new vn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(rB(r)){if(n.rpId!==r)return new vn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new vn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class RZ{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const IZ=new RZ;function LZ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=_h(e,["challenge","user","excludeCredentials"]),i=nm(t).buffer,o=Object.assign(Object.assign({},n),{id:nm(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:nm(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function $Z(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=_h(e,["challenge","allowCredentials"]),s=nm(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:nm(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function FZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Zc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Zc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Zc(new Uint8Array(s.authenticatorData)),clientDataJSON:Zc(new Uint8Array(s.clientDataJSON)),signature:Zc(new Uint8Array(s.signature)),userHandle:s.userHandle?Zc(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function JO(){var e,t;return!!(Gn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UZ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new eb("Browser returned unexpected credential type",t)}:{data:null,error:new eb("Empty credential response",t)}}catch(t){return{data:null,error:DZ({error:t,options:e})}}}async function qZ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new eb("Browser returned unexpected credential type",t)}:{data:null,error:new eb("Empty credential response",t)}}catch(t){return{data:null,error:MZ({error:t,options:e})}}}const VZ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},KZ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tb(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const l=r[i];t(l)?r[i]=tb(l,o):r[i]=tb(o)}else r[i]=o}return r}function zZ(e,t){return tb(VZ,e,t||{})}function WZ(e,t){return tb(KZ,e,t||{})}class HZ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const c=s??IZ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=zZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:m}=await UZ({publicKey:d,signal:c});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}case"request":{const d=WZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:m}=await qZ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}}}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new Gc("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ff("rpId is required for WebAuthn authentication")};try{if(!JO())return{data:null,error:new Gc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new Gc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ff("rpId is required for WebAuthn registration")};try{if(!JO())return{data:null,error:new Gc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var m;return(m=u.data)===null||m===void 0?void 0:m.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new Gc("Unexpected error in register",o)}}}}AZ();const GZ={url:KX,storageKey:zX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function QO(e,t,n){return await n()}const du={};class Bf{get jwks(){var t,n;return(n=(t=du[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){du[this.storageKey]=Object.assign(Object.assign({},du[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=du[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){du[this.storageKey]=Object.assign(Object.assign({},du[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},GZ),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Bf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Bf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Gn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _Z({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=tB(i.fetch),this.lock=i.lock||QO,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Gn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=CZ:this.lock=QO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new HZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:eB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=YO(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=YO(this.memoryStorage)),Gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${QF}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Gn()&&(n=iZ(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Gn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),QX(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ut(n)?this._returnResult({error:n}):this._returnResult({error:new Gc("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Zs}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:u,password:m,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ou(this.storage,this.storageKey)),i=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:m,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Zs})}else if("phone"in t){const{phone:u,password:m,options:h}=t;i=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Zs})}else throw new gy("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Wn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(await Wn(this.storage,`${this.storageKey}-code-verifier`),ut(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:HO})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:HO})}else throw new gy("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new iu;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,l,c,d,u,m,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:f,wallet:x,statement:b,options:j}=t;let v;if(Gn())if(typeof x=="object")v=x;else{const S=window;if("ethereum"in S&&typeof S.ethereum=="object"&&"request"in S.ethereum&&typeof S.ethereum.request=="function")v=S.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=x}const N=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href),w=await v.request({method:"eth_requestAccounts"}).then(S=>S).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=nB(w[0]);let k=(r=j==null?void 0:j.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const S=await v.request({method:"eth_chainId"});k=TZ(S)}const _={domain:N.host,address:P,statement:b,uri:N.href,version:"1",chainId:k,nonce:(s=j==null?void 0:j.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=j==null?void 0:j.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=j==null?void 0:j.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=j==null?void 0:j.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=j==null?void 0:j.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=OZ(_),g=await v.request({method:"personal_sign",params:[EZ(p),P]})}try{const{data:f,error:x}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Zs});if(x)throw x;if(!f||!f.session||!f.user){const b=new iu;return this._returnResult({data:{user:null,session:null},error:b})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign({},f),error:x})}catch(f){if(ut(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSolana(t){var n,r,s,i,o,l,c,d,u,m,h,p;let g,f;if("message"in t)g=t.message,f=t.signature;else{const{chain:x,wallet:b,statement:j,options:v}=t;let N;if(Gn())if(typeof b=="object")N=b;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))N=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=b}const w=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const P=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),j?{statement:j}:null));let k;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")k=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)k=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),f=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${w.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((d=v==null?void 0:v.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((m=(u=v==null?void 0:v.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...v.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const P=await N.signMessage(new TextEncoder().encode(g),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=P}}try{const{data:x,error:b}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Zc(f)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Zs});if(b)throw b;if(!x||!x.session||!x.user){const j=new iu;return this._returnResult({data:{user:null,session:null},error:j})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(ut(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Oc(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new XX;const{data:i,error:o}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Zs});if(await Wn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new iu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Wn(this.storage,`${this.storageKey}-code-verifier`),ut(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Zs}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new iu;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await ou(this.storage,this.storageKey));const{error:m}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new gy("You must provide either an email or phone number.")}catch(l){if(await Wn(this.storage,`${this.storageKey}-code-verifier`),ut(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Zs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ou(this.storage,this.storageKey));const d=await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:NZ});return!((i=d.data)===null||i===void 0)&&i.url&&Gn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Wn(this.storage,`${this.storageKey}-code-verifier`),ut(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Qr;const{error:s}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await bt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await bt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new gy("You must provide either an email or phone number and a type")}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Oc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<jN:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Oc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=PN()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=vZ(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sl}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qr}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Sl})})}catch(n){if(ut(n))return NN(n)&&(await this._removeSession(),await Wn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Qr;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ou(this.storage,this.storageKey));const{data:d,error:u}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Sl});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Wn(this.storage,`${this.storageKey}-code-verifier`),ut(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=yy(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(ut(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Qr;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Gn())throw new xy("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xy(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new BO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xy("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new BO("No code detected.");const{data:j,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new xy("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(l);let h=u+m;c&&(h=parseInt(c));const p=h-u;p*1e3<=wu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const g=h-m;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:f,error:x}=await this._getUser(i);if(x)throw x;const b={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:h,refresh_token:o,token_type:d,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(r){if(ut(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Oc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!NN(i))return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(JX(l)&&(l.status===404||l.status===401||l.status===403)||NN(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Wn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=sZ(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ou(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Wn(this.storage,`${this.storageKey}-code-verifier`),ut(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,d,u;const{data:m,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Gn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ut(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:l,token:c,access_token:d,nonce:u}=t,m=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Zs}),{data:h,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new iu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(await Wn(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await cZ(async s=>(s>0&&await lZ(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&kN(i)&&Date.now()+o-r<wu})}catch(r){if(this._debug(n,"error",r),ut(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Gn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Oc(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Oc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ju(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:PN()}else if(s&&!s.user&&!s.user){const o=await Oc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Wn(this.storage,this.storageKey+"-user"),await ju(this.storage,this.storageKey,s)):s.user=PN()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<jN;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${jN}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),kN(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Qr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new dw;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Qr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ut(i)){const o={data:null,error:i};return kN(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Wn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ju(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=zO(s);await ju(this.storage,this.storageKey,i)}else{const s=zO(n);await ju(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Wn(this.storage,this.storageKey),await Wn(this.storage,this.storageKey+"-code-verifier"),await Wn(this.storage,this.storageKey+"-user"),this.userStorage&&await Wn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Gn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/wu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wu}ms, refresh threshold is ${oP} ticks`),s<=oP&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aB)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ou(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await bt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?FZ(t.webauthn.credential_response):BZ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:LZ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:$Z(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:p}=yy(t);let g=null;p.aal&&(g=p.aal);let f=g;const{data:{user:x},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((r=(n=x==null?void 0:x.factors)===null||n===void 0?void 0:n.filter(N=>N.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const v=p.amr||[];return{data:{currentLevel:g,nextLevel:f,currentAuthenticationMethods:v},error:null}}catch(p){if(ut(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=yy(o.access_token);let d=null;c.aal&&(d=c.aal);let u=d;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const h=c.amr||[];return{data:{currentLevel:d,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Qr})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Qr});const o=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Gn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Qr});const o=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Gn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await bt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Qr})})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await bt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qr})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+GX>s)return r;const{data:i,error:o}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=yy(r);n!=null&&n.allowExpired||gZ(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const u=xZ(s.alg),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,o,nZ(`${l}.${c}`)))throw new dP("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ut(r))return this._returnResult({data:null,error:r});throw r}}}Bf.nextInstanceID={};const YZ=Bf,JZ="2.93.2";let Rp="";typeof Deno<"u"?Rp="deno":typeof document<"u"?Rp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rp="react-native":Rp="node";const QZ={"X-Client-Info":`supabase-js-${Rp}/${JZ}`},XZ={headers:QZ},ZZ={schema:"public"},eee={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tee={};function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function aee(e,t){if(Uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nee(e){var t=aee(e,"string");return Uf(t)=="symbol"?t:t+""}function ree(e,t,n){return(t=nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(n),!0).forEach(function(r){ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const see=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iee=()=>Headers,oee=(e,t,n)=>{const r=see(n),s=iee();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(i,tn(tn({},o),{},{headers:d}))}};function lee(e){return e.endsWith("/")?e:e+"/"}function cee(e,t){var n,r;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:m}=t,h={db:tn(tn({},c),s),auth:tn(tn({},d),i),realtime:tn(tn({},u),o),storage:{},global:tn(tn(tn({},m),l),{},{headers:tn(tn({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function dee(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lee(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var uee=class extends YZ{constructor(e){super(e)}},mee=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=dee(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:ZZ,realtime:tee,auth:tn(tn({},eee),{},{storageKey:o}),global:XZ},c=cee(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=oee(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(tn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new YQ(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new VX(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new KQ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:d},u,m){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uee({url:this.authUrl.href,headers:tn(tn({},h),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new mX(this.realtimeUrl.href,tn(tn({},e),{},{params:tn(tn({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const hee=(e,t,n)=>new mee(e,t,n);function pee(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}pee()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fee="https://vpzmhglfwomgrashheol.supabase.co",Ho="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwem1oZ2xmd29tZ3Jhc2hoZW9sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NjE1NjQsImV4cCI6MjA4NTAzNzU2NH0.anMz844nf2-sscp4yX5ctLGMMaRjKy24YKjPWAEDUN4",L=hee(fee,Ho,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,lock:async(e,t,n)=>n()}});async function sB(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function iB(){const{data:{session:e}}=await L.auth.getSession();return e!=null&&e.access_token?{Authorization:`Bearer ${e.access_token}`}:{}}async function gee(e,t,n){const r=await iB(),s=await fetch(t,{method:e,headers:{...r,...n?{"Content-Type":"application/json"}:{}},body:n?JSON.stringify(n):void 0,credentials:"include"});return await sB(s),s}const xee=({on401:e})=>async({queryKey:t})=>{const n=await iB(),r=await fetch(t.join("/"),{credentials:"include",headers:n});return e==="returnNull"&&r.status===401?null:(await sB(r),await r.json())},on=new NQ({defaultOptions:{queries:{queryFn:xee({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),yee=1,vee=1e6;let SN=0;function bee(){return SN=(SN+1)%Number.MAX_SAFE_INTEGER,SN.toString()}const CN=new Map,ZO=e=>{if(CN.has(e))return;const t=setTimeout(()=>{CN.delete(e),rf({type:"REMOVE_TOAST",toastId:e})},vee);CN.set(e,t)},wee=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,yee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?ZO(n):e.toasts.forEach(r=>{ZO(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},mv=[];let hv={toasts:[]};function rf(e){hv=wee(hv,e),mv.forEach(t=>{t(hv)})}function jee({...e}){const t=bee(),n=s=>rf({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>rf({type:"DISMISS_TOAST",toastId:t});return rf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Jt(){const[e,t]=y.useState(hv);return y.useEffect(()=>(mv.push(t),()=>{const n=mv.indexOf(t);n>-1&&mv.splice(n,1)}),[e]),{...e,toast:jee,dismiss:n=>rf({type:"DISMISS_TOAST",toastId:n})}}function Te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function eD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function uw(...e){return t=>{let n=!1;const r=e.map(s=>{const i=eD(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():eD(e[s],null)}}}}function jt(...e){return y.useCallback(uw(...e),e)}function Nee(e,t){const n=y.createContext(t),r=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function pn(e,t=[]){let n=[];function r(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];const d=m=>{var b;const{scope:h,children:p,...g}=m,f=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=y.useMemo(()=>g,Object.values(g));return a.jsx(f.Provider,{value:x,children:p})};d.displayName=i+"Provider";function u(m,h){var f;const p=((f=h==null?void 0:h[e])==null?void 0:f[c])||l,g=y.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,kee(s,...t)]}function kee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ed(e){const t=Pee(e),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,l=y.Children.toArray(i),c=l.find(_ee);if(c){const d=c.props.children,u=l.map(m=>m===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:m);return a.jsx(t,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,u):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var oB=Ed("Slot");function Pee(e){const t=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=Cee(s),l=See(i,s.props);return s.type!==y.Fragment&&(l.ref=r?uw(r,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lB=Symbol("radix.slottable");function cB(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=lB,t}function _ee(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lB}function See(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function Cee(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ch(e){const t=e+"CollectionProvider",[n,r]=pn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:x,children:b}=f,j=X.useRef(null),v=X.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:v,collectionRef:j,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=Ed(l),d=X.forwardRef((f,x)=>{const{scope:b,children:j}=f,v=i(l,b),N=jt(x,v.collectionRef);return a.jsx(c,{ref:N,children:j})});d.displayName=l;const u=e+"CollectionItemSlot",m="data-radix-collection-item",h=Ed(u),p=X.forwardRef((f,x)=>{const{scope:b,children:j,...v}=f,N=X.useRef(null),w=jt(x,N),P=i(u,b);return X.useEffect(()=>(P.itemMap.set(N,{ref:N,...v}),()=>void P.itemMap.delete(N))),a.jsx(h,{[m]:"",ref:w,children:j})});p.displayName=u;function g(f){const x=i(e+"CollectionConsumer",f);return X.useCallback(()=>{const j=x.collectionRef.current;if(!j)return[];const v=Array.from(j.querySelectorAll(`[${m}]`));return Array.from(x.itemMap.values()).sort((P,k)=>v.indexOf(P.ref.current)-v.indexOf(k.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},g,r]}var Aee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],nt=Aee.reduce((e,t)=>{const n=Ed(`Primitive.${t}`),r=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function HC(e,t){e&&Gd.flushSync(()=>e.dispatchEvent(t))}function Ka(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Tee(e,t=globalThis==null?void 0:globalThis.document){const n=Ka(e);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Eee="DismissableLayer",uP="dismissableLayer.update",Oee="dismissableLayer.pointerDownOutside",Dee="dismissableLayer.focusOutside",tD,dB=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ah=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=y.useContext(dB),[u,m]=y.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),g=jt(t,k=>m(k)),f=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=f.indexOf(x),j=u?f.indexOf(u):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,N=j>=b,w=Ree(k=>{const _=k.target,S=[...d.branches].some(O=>O.contains(_));!N||S||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),P=Iee(k=>{const _=k.target;[...d.branches].some(O=>O.contains(_))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return Tee(k=>{j===d.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),y.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(tD=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),aD(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=tD)}},[u,h,n,d]),y.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),aD())},[u,d]),y.useEffect(()=>{const k=()=>p({});return document.addEventListener(uP,k),()=>document.removeEventListener(uP,k)},[]),a.jsx(nt.div,{...c,ref:g,style:{pointerEvents:v?N?"auto":"none":void 0,...e.style},onFocusCapture:Te(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Te(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Te(e.onPointerDownCapture,w.onPointerDownCapture)})});Ah.displayName=Eee;var Mee="DismissableLayerBranch",uB=y.forwardRef((e,t)=>{const n=y.useContext(dB),r=y.useRef(null),s=jt(t,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(nt.div,{...e,ref:s})});uB.displayName=Mee;function Ree(e,t=globalThis==null?void 0:globalThis.document){const n=Ka(e),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){mB(Oee,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Iee(e,t=globalThis==null?void 0:globalThis.document){const n=Ka(e),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&mB(Dee,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function aD(){const e=new CustomEvent(uP);document.dispatchEvent(e)}function mB(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?HC(s,i):s.dispatchEvent(i)}var Lee=Ah,$ee=uB,hn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},Fee="Portal",ix=y.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=y.useState(!1);hn(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?TJ.createPortal(a.jsx(nt.div,{...r,ref:t}),o):null});ix.displayName=Fee;function Bee(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var Kn=e=>{const{present:t,children:n}=e,r=Uee(t),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=jt(r.ref,qee(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};Kn.displayName="Presence";function Uee(e){const[t,n]=y.useState(),r=y.useRef({}),s=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Bee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=vy(r.current);i.current=l==="mounted"?d:"none"},[l]),hn(()=>{const d=r.current,u=s.current;if(u!==e){const h=i.current,p=vy(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),hn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=p=>{const f=vy(r.current).includes(p.animationName);if(p.target===t&&f&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=vy(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function vy(e){return(e==null?void 0:e.animationName)||"none"}function qee(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Hr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=Vee({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=Ka(n),c=y.useCallback(d=>{if(i){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else s(d)},[i,e,s,l]);return[o,c]}function Vee({defaultProp:e,onChange:t}){const n=y.useState(e),[r]=n,s=y.useRef(r),i=Ka(t);return y.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Kee="VisuallyHidden",ox=y.forwardRef((e,t)=>a.jsx(nt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ox.displayName=Kee;var zee=ox,GC="ToastProvider",[YC,Wee,Hee]=Ch("Toast"),[hB,O8e]=pn("Toast",[Hee]),[Gee,mw]=hB(GC),pB=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=y.useState(null),[d,u]=y.useState(0),m=y.useRef(!1),h=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${GC}\`. Expected non-empty \`string\`.`),a.jsx(YC.Provider,{scope:t,children:a.jsx(Gee,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>u(p=>p+1),[]),onToastRemove:y.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};pB.displayName=GC;var fB="ToastViewport",Yee=["F8"],mP="toast.viewportPause",hP="toast.viewportResume",gB=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Yee,label:s="Notifications ({hotkey})",...i}=e,o=mw(fB,n),l=Wee(n),c=y.useRef(null),d=y.useRef(null),u=y.useRef(null),m=y.useRef(null),h=jt(t,m,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;y.useEffect(()=>{const x=b=>{var v;r.length!==0&&r.every(N=>b[N]||b.code===N)&&((v=m.current)==null||v.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=c.current,b=m.current;if(g&&x&&b){const j=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(mP);b.dispatchEvent(P),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(hP);b.dispatchEvent(P),o.isClosePausedRef.current=!1}},N=P=>{!x.contains(P.relatedTarget)&&v()},w=()=>{x.contains(document.activeElement)||v()};return x.addEventListener("focusin",j),x.addEventListener("focusout",N),x.addEventListener("pointermove",j),x.addEventListener("pointerleave",w),window.addEventListener("blur",j),window.addEventListener("focus",v),()=>{x.removeEventListener("focusin",j),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",j),x.removeEventListener("pointerleave",w),window.removeEventListener("blur",j),window.removeEventListener("focus",v)}}},[g,o.isClosePausedRef]);const f=y.useCallback(({tabbingDirection:x})=>{const j=l().map(v=>{const N=v.ref.current,w=[N,...lte(N)];return x==="forwards"?w:w.reverse()});return(x==="forwards"?j.reverse():j).flat()},[l]);return y.useEffect(()=>{const x=m.current;if(x){const b=j=>{var w,P,k;const v=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!v){const _=document.activeElement,S=j.shiftKey;if(j.target===x&&S){(w=d.current)==null||w.focus();return}const E=f({tabbingDirection:S?"backwards":"forwards"}),D=E.findIndex(B=>B===_);AN(E.slice(D+1))?j.preventDefault():S?(P=d.current)==null||P.focus():(k=u.current)==null||k.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[l,f]),a.jsxs($ee,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&a.jsx(pP,{ref:d,onFocusFromOutsideViewport:()=>{const x=f({tabbingDirection:"forwards"});AN(x)}}),a.jsx(YC.Slot,{scope:n,children:a.jsx(nt.ol,{tabIndex:-1,...i,ref:h})}),g&&a.jsx(pP,{ref:u,onFocusFromOutsideViewport:()=>{const x=f({tabbingDirection:"backwards"});AN(x)}})]})});gB.displayName=fB;var xB="ToastFocusProxy",pP=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=mw(xB,n);return a.jsx(ox,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});pP.displayName=xB;var hw="Toast",Jee="toast.swipeStart",Qee="toast.swipeMove",Xee="toast.swipeCancel",Zee="toast.swipeEnd",yB=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[l=!0,c]=Hr({prop:r,defaultProp:s,onChange:i});return a.jsx(Kn,{present:n||l,children:a.jsx(ate,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ka(e.onPause),onResume:Ka(e.onResume),onSwipeStart:Te(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Te(e.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Te(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Te(e.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});yB.displayName=hw;var[ete,tte]=hB(hw,{onClose(){}}),ate=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:p,...g}=e,f=mw(hw,n),[x,b]=y.useState(null),j=jt(t,B=>b(B)),v=y.useRef(null),N=y.useRef(null),w=s||f.duration,P=y.useRef(0),k=y.useRef(w),_=y.useRef(0),{onToastAdd:S,onToastRemove:O}=f,A=Ka(()=>{var z;(x==null?void 0:x.contains(document.activeElement))&&((z=f.viewport)==null||z.focus()),o()}),E=y.useCallback(B=>{!B||B===1/0||(window.clearTimeout(_.current),P.current=new Date().getTime(),_.current=window.setTimeout(A,B))},[A]);y.useEffect(()=>{const B=f.viewport;if(B){const z=()=>{E(k.current),d==null||d()},K=()=>{const Y=new Date().getTime()-P.current;k.current=k.current-Y,window.clearTimeout(_.current),c==null||c()};return B.addEventListener(mP,K),B.addEventListener(hP,z),()=>{B.removeEventListener(mP,K),B.removeEventListener(hP,z)}}},[f.viewport,w,c,d,E]),y.useEffect(()=>{i&&!f.isClosePausedRef.current&&E(w)},[i,w,f.isClosePausedRef,E]),y.useEffect(()=>(S(),()=>O()),[S,O]);const D=y.useMemo(()=>x?PB(x):null,[x]);return f.viewport?a.jsxs(a.Fragment,{children:[D&&a.jsx(nte,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),a.jsx(ete,{scope:n,onClose:A,children:Gd.createPortal(a.jsx(YC.ItemSlot,{scope:n,children:a.jsx(Lee,{asChild:!0,onEscapeKeyDown:Te(l,()=>{f.isFocusedToastEscapeKeyDownRef.current||A(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(nt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":f.swipeDirection,...g,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Te(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:Te(e.onPointerDown,B=>{B.button===0&&(v.current={x:B.clientX,y:B.clientY})}),onPointerMove:Te(e.onPointerMove,B=>{if(!v.current)return;const z=B.clientX-v.current.x,K=B.clientY-v.current.y,Y=!!N.current,M=["left","right"].includes(f.swipeDirection),R=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,J=M?R(0,z):0,ie=M?0:R(0,K),F=B.pointerType==="touch"?10:2,le={x:J,y:ie},q={originalEvent:B,delta:le};Y?(N.current=le,by(Qee,m,q,{discrete:!1})):nD(le,f.swipeDirection,F)?(N.current=le,by(Jee,u,q,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(z)>F||Math.abs(K)>F)&&(v.current=null)}),onPointerUp:Te(e.onPointerUp,B=>{const z=N.current,K=B.target;if(K.hasPointerCapture(B.pointerId)&&K.releasePointerCapture(B.pointerId),N.current=null,v.current=null,z){const Y=B.currentTarget,M={originalEvent:B,delta:z};nD(z,f.swipeDirection,f.swipeThreshold)?by(Zee,p,M,{discrete:!0}):by(Xee,h,M,{discrete:!0}),Y.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),nte=e=>{const{__scopeToast:t,children:n,...r}=e,s=mw(hw,t),[i,o]=y.useState(!1),[l,c]=y.useState(!1);return ite(()=>o(!0)),y.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(ix,{asChild:!0,children:a.jsx(ox,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},rte="ToastTitle",vB=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(nt.div,{...r,ref:t})});vB.displayName=rte;var ste="ToastDescription",bB=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(nt.div,{...r,ref:t})});bB.displayName=ste;var wB="ToastAction",jB=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(kB,{altText:n,asChild:!0,children:a.jsx(JC,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${wB}\`. Expected non-empty \`string\`.`),null)});jB.displayName=wB;var NB="ToastClose",JC=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=tte(NB,n);return a.jsx(kB,{asChild:!0,children:a.jsx(nt.button,{type:"button",...r,ref:t,onClick:Te(e.onClick,s.onClose)})})});JC.displayName=NB;var kB=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(nt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function PB(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),ote(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...PB(r))}}),t}function by(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?HC(s,i):s.dispatchEvent(i)}var nD=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function ite(e=()=>{}){const t=Ka(e);hn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function ote(e){return e.nodeType===e.ELEMENT_NODE}function lte(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function AN(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var cte=pB,_B=gB,SB=yB,CB=vB,AB=bB,TB=jB,EB=JC;function OB(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=OB(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Mt(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=OB(e))&&(r&&(r+=" "),r+=t);return r}const rD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sD=Mt,lx=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return sD(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(d=>{const u=n==null?void 0:n[d],m=i==null?void 0:i[d];if(u===null)return null;const h=rD(u)||rD(m);return s[d][h]}),l=n&&Object.entries(n).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:m,className:h,...p}=u;return Object.entries(p).every(g=>{let[f,x]=g;return Array.isArray(x)?x.includes({...i,...l}[f]):{...i,...l}[f]===x})?[...d,m,h]:d},[]);return sD(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DB=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ute={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...ute,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:DB("lucide",s),...l},[...o.map(([d,u])=>y.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(mte,{ref:i,iconNode:t,className:DB(`lucide-${dte(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=we("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=we("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=we("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=we("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=we("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=we("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=we("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=we("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=we("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=we("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=we("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=we("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=we("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=we("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=we("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=we("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=we("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=we("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=we("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=we("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=we("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=we("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=we("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=we("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=we("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=we("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=we("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=we("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=we("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=we("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=we("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=we("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=we("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=we("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=we("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=we("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=we("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=we("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=we("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=we("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=we("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=we("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=we("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=we("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=we("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=we("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=we("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=we("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=we("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=we("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=we("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=we("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=we("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=we("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=we("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=we("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=we("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=we("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=we("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=we("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=we("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=we("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=we("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=we("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=we("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=we("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=we("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=we("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=we("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=we("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=we("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=we("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=we("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=we("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=we("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=we("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=we("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=we("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=we("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=we("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=we("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=we("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=we("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=we("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=we("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=we("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=we("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ZC="-",Vte=e=>{const t=zte(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(ZC);return l[0]===""&&l.length!==1&&l.shift(),zB(l,t)||Kte(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},zB=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?zB(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(ZC);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},uD=/^\[(.+)\]$/,Kte=e=>{if(uD.test(e)){const t=uD.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},zte=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Hte(Object.entries(e.classGroups),n).forEach(([i,o])=>{jP(o,r,i,t)}),r},jP=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:mD(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(Wte(s)){jP(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{jP(o,mD(t,i),n,r)})})},mD=(e,t)=>{let n=e;return t.split(ZC).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Wte=e=>e.isThemeGetter,Hte=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,s]}):e,Gte=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},WB="!",Yte=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,m;for(let x=0;x<l.length;x++){let b=l[x];if(d===0){if(b===s&&(r||l.slice(x,x+i)===t)){c.push(l.slice(u,x)),u=x+i;continue}if(b==="/"){m=x;continue}}b==="["?d++:b==="]"&&d--}const h=c.length===0?l:l.substring(u),p=h.startsWith(WB),g=p?h.substring(1):h,f=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:f}};return n?l=>n({className:l,parseClassName:o}):o},Jte=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Qte=e=>({cache:Gte(e.cacheSize),parseClassName:Yte(e),...Vte(e)}),Xte=/\s+/,Zte=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(Xte);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:p}=n(d);let g=!!p,f=r(g?h.substring(0,p):h);if(!f){if(!g){l=d+(l.length>0?" "+l:l);continue}if(f=r(h),!f){l=d+(l.length>0?" "+l:l);continue}g=!1}const x=Jte(u).join(":"),b=m?x+WB:x,j=b+f;if(i.includes(j))continue;i.push(j);const v=s(f,g);for(let N=0;N<v.length;++N){const w=v[N];i.push(b+w)}l=d+(l.length>0?" "+l:l)}return l};function eae(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=HB(t))&&(r&&(r+=" "),r+=n);return r}const HB=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=HB(e[r]))&&(n&&(n+=" "),n+=t);return n};function tae(e,...t){let n,r,s,i=o;function o(c){const d=t.reduce((u,m)=>m(u),e());return n=Qte(d),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=Zte(c,n);return s(c,u),u}return function(){return i(eae.apply(null,arguments))}}const Ea=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},GB=/^\[(?:([a-z-]+):)?(.+)\]$/i,aae=/^\d+\/\d+$/,nae=new Set(["px","full","screen"]),rae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fo=e=>rm(e)||nae.has(e)||aae.test(e),pl=e=>Th(e,"length",gae),rm=e=>!!e&&!Number.isNaN(Number(e)),EN=e=>Th(e,"number",rm),hp=e=>!!e&&Number.isInteger(Number(e)),cae=e=>e.endsWith("%")&&rm(e.slice(0,-1)),It=e=>GB.test(e),fl=e=>rae.test(e),dae=new Set(["length","size","percentage"]),uae=e=>Th(e,dae,YB),mae=e=>Th(e,"position",YB),hae=new Set(["image","url"]),pae=e=>Th(e,hae,yae),fae=e=>Th(e,"",xae),pp=()=>!0,Th=(e,t,n)=>{const r=GB.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},gae=e=>sae.test(e)&&!iae.test(e),YB=()=>!1,xae=e=>oae.test(e),yae=e=>lae.test(e),vae=()=>{const e=Ea("colors"),t=Ea("spacing"),n=Ea("blur"),r=Ea("brightness"),s=Ea("borderColor"),i=Ea("borderRadius"),o=Ea("borderSpacing"),l=Ea("borderWidth"),c=Ea("contrast"),d=Ea("grayscale"),u=Ea("hueRotate"),m=Ea("invert"),h=Ea("gap"),p=Ea("gradientColorStops"),g=Ea("gradientColorStopPositions"),f=Ea("inset"),x=Ea("margin"),b=Ea("opacity"),j=Ea("padding"),v=Ea("saturate"),N=Ea("scale"),w=Ea("sepia"),P=Ea("skew"),k=Ea("space"),_=Ea("translate"),S=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",It,t],E=()=>[It,t],D=()=>["",fo,pl],B=()=>["auto",rm,It],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",It],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[rm,It];return{cacheSize:500,separator:":",theme:{colors:[pp],spacing:[fo,pl],blur:["none","",fl,It],brightness:ie(),borderColor:[e],borderRadius:["none","","full",fl,It],borderSpacing:E(),borderWidth:D(),contrast:ie(),grayscale:R(),hueRotate:ie(),invert:R(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[cae,pl],inset:A(),margin:A(),opacity:ie(),padding:E(),saturate:ie(),scale:ie(),sepia:R(),skew:ie(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",It]}],container:["container"],columns:[{columns:[fl]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),It]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hp,It]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",It]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",hp,It]}],"grid-cols":[{"grid-cols":[pp]}],"col-start-end":[{col:["auto",{span:["full",hp,It]},It]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[pp]}],"row-start-end":[{row:["auto",{span:[hp,It]},It]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",It]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",It]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",It,t]}],"min-w":[{"min-w":[It,t,"min","max","fit"]}],"max-w":[{"max-w":[It,t,"none","full","min","max","fit","prose",{screen:[fl]},fl]}],h:[{h:[It,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[It,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[It,t,"auto","min","max","fit"]}],"font-size":[{text:["base",fl,pl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",EN]}],"font-family":[{font:[pp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",It]}],"line-clamp":[{"line-clamp":["none",rm,EN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fo,It]}],"list-image":[{"list-image":["none",It]}],"list-style-type":[{list:["none","disc","decimal",It]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fo,pl]}],"underline-offset":[{"underline-offset":["auto",fo,It]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),mae]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pae]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[fo,It]}],"outline-w":[{outline:[fo,pl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[fo,pl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",fl,fae]}],"shadow-color":[{shadow:[pp]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",fl,It]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[v]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",It]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",It]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",It]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[hp,It]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",It]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",It]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",It]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fo,pl,EN]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bae=tae(vae);function Be(...e){return bae(Mt(e))}const wae=cte,JB=y.forwardRef(({className:e,...t},n)=>a.jsx(_B,{ref:n,className:Be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));JB.displayName=_B.displayName;const jae=lx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),QB=y.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(SB,{ref:r,className:Be(jae({variant:t}),e),...n}));QB.displayName=SB.displayName;const Nae=y.forwardRef(({className:e,...t},n)=>a.jsx(TB,{ref:n,className:Be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Nae.displayName=TB.displayName;const XB=y.forwardRef(({className:e,...t},n)=>a.jsx(EB,{ref:n,className:Be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(eo,{className:"h-4 w-4"})}));XB.displayName=EB.displayName;const ZB=y.forwardRef(({className:e,...t},n)=>a.jsx(CB,{ref:n,className:Be("text-sm font-semibold",e),...t}));ZB.displayName=CB.displayName;const e6=y.forwardRef(({className:e,...t},n)=>a.jsx(AB,{ref:n,className:Be("text-sm opacity-90",e),...t}));e6.displayName=AB.displayName;function kae(){const{toasts:e}=Jt();return a.jsxs(wae,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return a.jsxs(QB,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(ZB,{children:n}),r&&a.jsx(e6,{children:r})]}),s,a.jsx(XB,{})]},t)}),a.jsx(JB,{})]})}var Pae=gL[" useId ".trim().toString()]||(()=>{}),_ae=0;function Us(e){const[t,n]=y.useState(Pae());return hn(()=>{n(r=>r??String(_ae++))},[e]),t?`radix-${t}`:""}const Sae=["top","right","bottom","left"],oc=Math.min,rs=Math.max,sb=Math.round,wy=Math.floor,Wi=e=>({x:e,y:e}),Cae={left:"right",right:"left",bottom:"top",top:"bottom"},Aae={start:"end",end:"start"};function NP(e,t,n){return rs(e,oc(t,n))}function Jo(e,t){return typeof e=="function"?e(t):e}function Qo(e){return e.split("-")[0]}function Eh(e){return e.split("-")[1]}function e2(e){return e==="x"?"y":"x"}function t2(e){return e==="y"?"height":"width"}function lc(e){return["top","bottom"].includes(Qo(e))?"y":"x"}function a2(e){return e2(lc(e))}function Tae(e,t,n){n===void 0&&(n=!1);const r=Eh(e),s=a2(e),i=t2(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ib(o)),[o,ib(o)]}function Eae(e){const t=ib(e);return[kP(e),t,kP(t)]}function kP(e){return e.replace(/start|end/g,t=>Aae[t])}function Oae(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:o;default:return[]}}function Dae(e,t,n,r){const s=Eh(e);let i=Oae(Qo(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(kP)))),i}function ib(e){return e.replace(/left|right|bottom|top/g,t=>Cae[t])}function Mae(e){return{top:0,right:0,bottom:0,left:0,...e}}function t6(e){return typeof e!="number"?Mae(e):{top:e,right:e,bottom:e,left:e}}function ob(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function hD(e,t,n){let{reference:r,floating:s}=e;const i=lc(t),o=a2(t),l=t2(o),c=Qo(t),d=i==="y",u=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:m};break;case"left":p={x:r.x-s.width,y:m};break;default:p={x:r.x,y:r.y}}switch(Eh(t)){case"start":p[o]-=h*(n&&d?-1:1);break;case"end":p[o]+=h*(n&&d?-1:1);break}return p}const Rae=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:m}=hD(d,r,c),h=r,p={},g=0;for(let f=0;f<l.length;f++){const{name:x,fn:b}=l[f],{x:j,y:v,data:N,reset:w}=await b({x:u,y:m,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=j??u,m=v??m,p={...p,[x]:{...p[x],...N}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:u,y:m}=hD(d,h,c)),f=-1)}return{x:u,y:m,placement:h,strategy:s,middlewareData:p}};async function zf(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:p=0}=Jo(t,e),g=t6(p),x=l[h?m==="floating"?"reference":"floating":m],b=ob(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),j=m==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},w=ob(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:v,strategy:c}):j);return{top:(b.top-w.top+g.top)/N.y,bottom:(w.bottom-b.bottom+g.bottom)/N.y,left:(b.left-w.left+g.left)/N.x,right:(w.right-b.right+g.right)/N.x}}const Iae=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Jo(e,t)||{};if(d==null)return{};const m=t6(u),h={x:n,y:r},p=a2(s),g=t2(p),f=await o.getDimensions(d),x=p==="y",b=x?"top":"left",j=x?"bottom":"right",v=x?"clientHeight":"clientWidth",N=i.reference[g]+i.reference[p]-h[p]-i.floating[g],w=h[p]-i.reference[p],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=P?P[v]:0;(!k||!await(o.isElement==null?void 0:o.isElement(P)))&&(k=l.floating[v]||i.floating[g]);const _=N/2-w/2,S=k/2-f[g]/2-1,O=oc(m[b],S),A=oc(m[j],S),E=O,D=k-f[g]-A,B=k/2-f[g]/2+_,z=NP(E,B,D),K=!c.arrow&&Eh(s)!=null&&B!==z&&i.reference[g]/2-(B<E?O:A)-f[g]/2<0,Y=K?B<E?B-E:B-D:0;return{[p]:h[p]+Y,data:{[p]:z,centerOffset:B-z-Y,...K&&{alignmentOffset:Y}},reset:K}}}),Lae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:f=!0,...x}=Jo(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Qo(s),j=lc(l),v=Qo(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=h||(v||!f?[ib(l)]:Eae(l)),P=g!=="none";!h&&P&&w.push(...Dae(l,f,g,N));const k=[l,...w],_=await zf(t,x),S=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&S.push(_[b]),m){const B=Tae(s,o,N);S.push(_[B[0]],_[B[1]])}if(O=[...O,{placement:s,overflows:S}],!S.every(B=>B<=0)){var A,E;const B=(((A=i.flip)==null?void 0:A.index)||0)+1,z=k[B];if(z)return{data:{index:B,overflows:O},reset:{placement:z}};let K=(E=O.filter(Y=>Y.overflows[0]<=0).sort((Y,M)=>Y.overflows[1]-M.overflows[1])[0])==null?void 0:E.placement;if(!K)switch(p){case"bestFit":{var D;const Y=(D=O.filter(M=>{if(P){const R=lc(M.placement);return R===j||R==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(R=>R>0).reduce((R,J)=>R+J,0)]).sort((M,R)=>M[1]-R[1])[0])==null?void 0:D[0];Y&&(K=Y);break}case"initialPlacement":K=l;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function pD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fD(e){return Sae.some(t=>e[t]>=0)}const $ae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Jo(e,t);switch(r){case"referenceHidden":{const i=await zf(t,{...s,elementContext:"reference"}),o=pD(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:fD(o)}}}case"escaped":{const i=await zf(t,{...s,altBoundary:!0}),o=pD(i,n.floating);return{data:{escapedOffsets:o,escaped:fD(o)}}}default:return{}}}}};async function Fae(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Qo(n),l=Eh(n),c=lc(n)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,m=Jo(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const Bae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await Fae(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},Uae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:b,y:j}=x;return{x:b,y:j}}},...c}=Jo(e,t),d={x:n,y:r},u=await zf(t,c),m=lc(Qo(s)),h=e2(m);let p=d[h],g=d[m];if(i){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",j=p+u[x],v=p-u[b];p=NP(j,p,v)}if(o){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",j=g+u[x],v=g-u[b];g=NP(j,g,v)}const f=l.fn({...t,[h]:p,[m]:g});return{...f,data:{x:f.x-n,y:f.y-r,enabled:{[h]:i,[m]:o}}}}}},qae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Jo(e,t),u={x:n,y:r},m=lc(s),h=e2(m);let p=u[h],g=u[m];const f=Jo(l,t),x=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(c){const v=h==="y"?"height":"width",N=i.reference[h]-i.floating[v]+x.mainAxis,w=i.reference[h]+i.reference[v]-x.mainAxis;p<N?p=N:p>w&&(p=w)}if(d){var b,j;const v=h==="y"?"width":"height",N=["top","left"].includes(Qo(s)),w=i.reference[m]-i.floating[v]+(N&&((b=o.offset)==null?void 0:b[m])||0)+(N?0:x.crossAxis),P=i.reference[m]+i.reference[v]+(N?0:((j=o.offset)==null?void 0:j[m])||0)-(N?x.crossAxis:0);g<w?g=w:g>P&&(g=P)}return{[h]:p,[m]:g}}}},Vae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Jo(e,t),u=await zf(t,d),m=Qo(s),h=Eh(s),p=lc(s)==="y",{width:g,height:f}=i.floating;let x,b;m==="top"||m==="bottom"?(x=m,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=m,x=h==="end"?"top":"bottom");const j=f-u.top-u.bottom,v=g-u.left-u.right,N=oc(f-u[x],j),w=oc(g-u[b],v),P=!t.middlewareData.shift;let k=N,_=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=j),P&&!h){const O=rs(u.left,0),A=rs(u.right,0),E=rs(u.top,0),D=rs(u.bottom,0);p?_=g-2*(O!==0||A!==0?O+A:rs(u.left,u.right)):k=f-2*(E!==0||D!==0?E+D:rs(u.top,u.bottom))}await c({...t,availableWidth:_,availableHeight:k});const S=await o.getDimensions(l.floating);return g!==S.width||f!==S.height?{reset:{rects:!0}}:{}}}};function yw(){return typeof window<"u"}function Oh(e){return a6(e)?(e.nodeName||"").toLowerCase():"#document"}function ps(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function oo(e){var t;return(t=(a6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function a6(e){return yw()?e instanceof Node||e instanceof ps(e).Node:!1}function ki(e){return yw()?e instanceof Element||e instanceof ps(e).Element:!1}function to(e){return yw()?e instanceof HTMLElement||e instanceof ps(e).HTMLElement:!1}function gD(e){return!yw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ps(e).ShadowRoot}function hx(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Pi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function Kae(e){return["table","td","th"].includes(Oh(e))}function vw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function n2(e){const t=r2(),n=ki(e)?Pi(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function zae(e){let t=cc(e);for(;to(t)&&!Mm(t);){if(n2(t))return t;if(vw(t))return null;t=cc(t)}return null}function r2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Mm(e){return["html","body","#document"].includes(Oh(e))}function Pi(e){return ps(e).getComputedStyle(e)}function bw(e){return ki(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cc(e){if(Oh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gD(e)&&e.host||oo(e);return gD(t)?t.host:t}function n6(e){const t=cc(e);return Mm(t)?e.ownerDocument?e.ownerDocument.body:e.body:to(t)&&hx(t)?t:n6(t)}function Wf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=n6(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=ps(s);if(i){const l=PP(o);return t.concat(o,o.visualViewport||[],hx(s)?s:[],l&&n?Wf(l):[])}return t.concat(s,Wf(s,[],n))}function PP(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function r6(e){const t=Pi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=to(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=sb(n)!==i||sb(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function s2(e){return ki(e)?e:e.contextElement}function sm(e){const t=s2(e);if(!to(t))return Wi(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=r6(t);let o=(i?sb(n.width):n.width)/r,l=(i?sb(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Wae=Wi(0);function s6(e){const t=ps(e);return!r2()||!t.visualViewport?Wae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Hae(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ps(e)?!1:t}function Od(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s2(e);let o=Wi(1);t&&(r?ki(r)&&(o=sm(r)):o=sm(e));const l=Hae(i,n,r)?s6(i):Wi(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,m=s.height/o.y;if(i){const h=ps(i),p=r&&ki(r)?ps(r):r;let g=h,f=PP(g);for(;f&&r&&p!==g;){const x=sm(f),b=f.getBoundingClientRect(),j=Pi(f),v=b.left+(f.clientLeft+parseFloat(j.paddingLeft))*x.x,N=b.top+(f.clientTop+parseFloat(j.paddingTop))*x.y;c*=x.x,d*=x.y,u*=x.x,m*=x.y,c+=v,d+=N,g=ps(f),f=PP(g)}}return ob({width:u,height:m,x:c,y:d})}function i2(e,t){const n=bw(e).scrollLeft;return t?t.left+n:Od(oo(e)).left+n}function i6(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:i2(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function Gae(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=oo(r),l=t?vw(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Wi(1);const u=Wi(0),m=to(r);if((m||!m&&!i)&&((Oh(r)!=="body"||hx(o))&&(c=bw(r)),to(r))){const p=Od(r);d=sm(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=o&&!m&&!i?i6(o,c,!0):Wi(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:n.y*d.y-c.scrollTop*d.y+u.y+h.y}}function Yae(e){return Array.from(e.getClientRects())}function Jae(e){const t=oo(e),n=bw(e),r=e.ownerDocument.body,s=rs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=rs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+i2(e);const l=-n.scrollTop;return Pi(r).direction==="rtl"&&(o+=rs(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function Qae(e,t){const n=ps(e),r=oo(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=r2();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function Xae(e,t){const n=Od(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=to(e)?sm(e):Wi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function xD(e,t,n){let r;if(t==="viewport")r=Qae(e,n);else if(t==="document")r=Jae(oo(e));else if(ki(t))r=Xae(t,n);else{const s=s6(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ob(r)}function o6(e,t){const n=cc(e);return n===t||!ki(n)||Mm(n)?!1:Pi(n).position==="fixed"||o6(n,t)}function Zae(e,t){const n=t.get(e);if(n)return n;let r=Wf(e,[],!1).filter(l=>ki(l)&&Oh(l)!=="body"),s=null;const i=Pi(e).position==="fixed";let o=i?cc(e):e;for(;ki(o)&&!Mm(o);){const l=Pi(o),c=n2(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||hx(o)&&!c&&o6(e,o))?r=r.filter(u=>u!==o):s=l,o=cc(o)}return t.set(e,r),r}function ene(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?vw(t)?[]:Zae(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,u)=>{const m=xD(t,u,s);return d.top=rs(m.top,d.top),d.right=oc(m.right,d.right),d.bottom=oc(m.bottom,d.bottom),d.left=rs(m.left,d.left),d},xD(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tne(e){const{width:t,height:n}=r6(e);return{width:t,height:n}}function ane(e,t,n){const r=to(t),s=oo(t),i=n==="fixed",o=Od(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Wi(0);if(r||!r&&!i)if((Oh(t)!=="body"||hx(s))&&(l=bw(t)),r){const h=Od(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=i2(s));const d=s&&!r&&!i?i6(s,l):Wi(0),u=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:u,y:m,width:o.width,height:o.height}}function ON(e){return Pi(e).position==="static"}function yD(e,t){if(!to(e)||Pi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return oo(e)===n&&(n=n.ownerDocument.body),n}function l6(e,t){const n=ps(e);if(vw(e))return n;if(!to(e)){let s=cc(e);for(;s&&!Mm(s);){if(ki(s)&&!ON(s))return s;s=cc(s)}return n}let r=yD(e,t);for(;r&&Kae(r)&&ON(r);)r=yD(r,t);return r&&Mm(r)&&ON(r)&&!n2(r)?n:r||zae(e)||n}const nne=async function(e){const t=this.getOffsetParent||l6,n=this.getDimensions,r=await n(e.floating);return{reference:ane(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function rne(e){return Pi(e).direction==="rtl"}const sne={convertOffsetParentRelativeRectToViewportRelativeRect:Gae,getDocumentElement:oo,getClippingRect:ene,getOffsetParent:l6,getElementRects:nne,getClientRects:Yae,getDimensions:tne,getScale:sm,isElement:ki,isRTL:rne};function c6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ine(e,t){let n=null,r;const s=oo(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:m,width:h,height:p}=d;if(l||t(),!h||!p)return;const g=wy(m),f=wy(s.clientWidth-(u+h)),x=wy(s.clientHeight-(m+p)),b=wy(u),v={rootMargin:-g+"px "+-f+"px "+-x+"px "+-b+"px",threshold:rs(0,oc(1,c))||1};let N=!0;function w(P){const k=P[0].intersectionRatio;if(k!==c){if(!N)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!c6(d,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(w,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(w,v)}n.observe(e)}return o(!0),i}function one(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=s2(e),u=s||i?[...d?Wf(d):[],...Wf(t)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const m=d&&l?ine(d,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(b=>{let[j]=b;j&&j.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),n()}),d&&!c&&p.observe(d),p.observe(t));let g,f=c?Od(e):null;c&&x();function x(){const b=Od(e);f&&!c6(f,b)&&n(),f=b,g=requestAnimationFrame(x)}return n(),()=>{var b;u.forEach(j=>{s&&j.removeEventListener("scroll",n),i&&j.removeEventListener("resize",n)}),m==null||m(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const lne=Bae,cne=Uae,dne=Lae,une=Vae,mne=$ae,vD=Iae,hne=qae,pne=(e,t,n)=>{const r=new Map,s={platform:sne,...n},i={...s.platform,_c:r};return Rae(e,t,{...s,platform:i})};var xv=typeof document<"u"?y.useLayoutEffect:y.useEffect;function lb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!lb(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!lb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function d6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bD(e,t){const n=d6(e);return Math.round(t*n)/n}function DN(e){const t=y.useRef(e);return xv(()=>{t.current=e}),t}function fne(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=y.useState(r);lb(h,r)||p(r);const[g,f]=y.useState(null),[x,b]=y.useState(null),j=y.useCallback(M=>{M!==P.current&&(P.current=M,f(M))},[]),v=y.useCallback(M=>{M!==k.current&&(k.current=M,b(M))},[]),N=i||g,w=o||x,P=y.useRef(null),k=y.useRef(null),_=y.useRef(u),S=c!=null,O=DN(c),A=DN(s),E=DN(d),D=y.useCallback(()=>{if(!P.current||!k.current)return;const M={placement:t,strategy:n,middleware:h};A.current&&(M.platform=A.current),pne(P.current,k.current,M).then(R=>{const J={...R,isPositioned:E.current!==!1};B.current&&!lb(_.current,J)&&(_.current=J,Gd.flushSync(()=>{m(J)}))})},[h,t,n,A,E]);xv(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,m(M=>({...M,isPositioned:!1})))},[d]);const B=y.useRef(!1);xv(()=>(B.current=!0,()=>{B.current=!1}),[]),xv(()=>{if(N&&(P.current=N),w&&(k.current=w),N&&w){if(O.current)return O.current(N,w,D);D()}},[N,w,D,O,S]);const z=y.useMemo(()=>({reference:P,floating:k,setReference:j,setFloating:v}),[j,v]),K=y.useMemo(()=>({reference:N,floating:w}),[N,w]),Y=y.useMemo(()=>{const M={position:n,left:0,top:0};if(!K.floating)return M;const R=bD(K.floating,u.x),J=bD(K.floating,u.y);return l?{...M,transform:"translate("+R+"px, "+J+"px)",...d6(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:J}},[n,l,K.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:D,refs:z,elements:K,floatingStyles:Y}),[u,D,z,K,Y])}const gne=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?vD({element:r.current,padding:s}).fn(n):{}:r?vD({element:r,padding:s}).fn(n):{}}}},xne=(e,t)=>({...lne(e),options:[e,t]}),yne=(e,t)=>({...cne(e),options:[e,t]}),vne=(e,t)=>({...hne(e),options:[e,t]}),bne=(e,t)=>({...dne(e),options:[e,t]}),wne=(e,t)=>({...une(e),options:[e,t]}),jne=(e,t)=>({...mne(e),options:[e,t]}),Nne=(e,t)=>({...gne(e),options:[e,t]});var kne="Arrow",u6=y.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return a.jsx(nt.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});u6.displayName=kne;var Pne=u6;function px(e){const[t,n]=y.useState(void 0);return hn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var o2="Popper",[m6,Dh]=pn(o2),[_ne,h6]=m6(o2),p6=e=>{const{__scopePopper:t,children:n}=e,[r,s]=y.useState(null);return a.jsx(_ne,{scope:t,anchor:r,onAnchorChange:s,children:n})};p6.displayName=o2;var f6="PopperAnchor",g6=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=h6(f6,n),o=y.useRef(null),l=jt(t,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(nt.div,{...s,ref:l})});g6.displayName=f6;var l2="PopperContent",[Sne,Cne]=m6(l2),x6=y.forwardRef((e,t)=>{var H,oe,G,$,Z,U;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...f}=e,x=h6(l2,n),[b,j]=y.useState(null),v=jt(t,pe=>j(pe)),[N,w]=y.useState(null),P=px(N),k=(P==null?void 0:P.width)??0,_=(P==null?void 0:P.height)??0,S=r+(i!=="center"?"-"+i:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(d)?d:[d],E=A.length>0,D={padding:O,boundary:A.filter(Tne),altBoundary:E},{refs:B,floatingStyles:z,placement:K,isPositioned:Y,middlewareData:M}=fne({strategy:"fixed",placement:S,whileElementsMounted:(...pe)=>one(...pe,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[xne({mainAxis:s+_,alignmentAxis:o}),c&&yne({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?vne():void 0,...D}),c&&bne({...D}),wne({...D,apply:({elements:pe,rects:ke,availableWidth:se,availableHeight:I})=>{const{width:be,height:_e}=ke.reference,Me=pe.floating.style;Me.setProperty("--radix-popper-available-width",`${se}px`),Me.setProperty("--radix-popper-available-height",`${I}px`),Me.setProperty("--radix-popper-anchor-width",`${be}px`),Me.setProperty("--radix-popper-anchor-height",`${_e}px`)}}),N&&Nne({element:N,padding:l}),Ene({arrowWidth:k,arrowHeight:_}),h&&jne({strategy:"referenceHidden",...D})]}),[R,J]=b6(K),ie=Ka(g);hn(()=>{Y&&(ie==null||ie())},[Y,ie]);const F=(H=M.arrow)==null?void 0:H.x,le=(oe=M.arrow)==null?void 0:oe.y,q=((G=M.arrow)==null?void 0:G.centerOffset)!==0,[ve,ye]=y.useState();return hn(()=>{b&&ye(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:Y?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[($=M.transformOrigin)==null?void 0:$.x,(Z=M.transformOrigin)==null?void 0:Z.y].join(" "),...((U=M.hide)==null?void 0:U.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Sne,{scope:n,placedSide:R,onArrowChange:w,arrowX:F,arrowY:le,shouldHideArrow:q,children:a.jsx(nt.div,{"data-side":R,"data-align":J,...f,ref:v,style:{...f.style,animation:Y?void 0:"none"}})})})});x6.displayName=l2;var y6="PopperArrow",Ane={top:"bottom",right:"left",bottom:"top",left:"right"},v6=y.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=Cne(y6,r),o=Ane[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(Pne,{...s,ref:n,style:{...s.style,display:"block"}})})});v6.displayName=y6;function Tne(e){return e!==null}var Ene=e=>({name:"transformOrigin",options:e,fn(t){var x,b,j;const{placement:n,rects:r,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=b6(n),m={start:"0%",center:"50%",end:"100%"}[u],h=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,p=(((j=s.arrow)==null?void 0:j.y)??0)+c/2;let g="",f="";return d==="bottom"?(g=o?m:`${h}px`,f=`${-c}px`):d==="top"?(g=o?m:`${h}px`,f=`${r.floating.height+c}px`):d==="right"?(g=`${-c}px`,f=o?m:`${p}px`):d==="left"&&(g=`${r.floating.width+c}px`,f=o?m:`${p}px`),{data:{x:g,y:f}}}});function b6(e){const[t,n="center"]=e.split("-");return[t,n]}var w6=p6,c2=g6,d2=x6,u2=v6,[ww,D8e]=pn("Tooltip",[Dh]),m2=Dh(),j6="TooltipProvider",One=700,wD="tooltip.open",[Dne,N6]=ww(j6),k6=e=>{const{__scopeTooltip:t,delayDuration:n=One,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=y.useRef(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),a.jsx(Dne,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};k6.displayName=j6;var P6="Tooltip",[M8e,jw]=ww(P6),_P="TooltipTrigger",Mne=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=jw(_P,n),i=N6(_P,n),o=m2(n),l=y.useRef(null),c=jt(t,l,s.onTriggerChange),d=y.useRef(!1),u=y.useRef(!1),m=y.useCallback(()=>d.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(c2,{asChild:!0,...o,children:a.jsx(nt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Te(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Te(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Te(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Te(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:Te(e.onBlur,s.onClose),onClick:Te(e.onClick,s.onClose)})})});Mne.displayName=_P;var Rne="TooltipPortal",[R8e,Ine]=ww(Rne,{forceMount:void 0}),Rm="TooltipContent",_6=y.forwardRef((e,t)=>{const n=Ine(Rm,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=jw(Rm,e.__scopeTooltip);return a.jsx(Kn,{present:r||o.open,children:o.disableHoverableContent?a.jsx(S6,{side:s,...i,ref:t}):a.jsx(Lne,{side:s,...i,ref:t})})}),Lne=y.forwardRef((e,t)=>{const n=jw(Rm,e.__scopeTooltip),r=N6(Rm,e.__scopeTooltip),s=y.useRef(null),i=jt(t,s),[o,l]=y.useState(null),{trigger:c,onClose:d}=n,u=s.current,{onPointerInTransitChange:m}=r,h=y.useCallback(()=>{l(null),m(!1)},[m]),p=y.useCallback((g,f)=>{const x=g.currentTarget,b={x:g.clientX,y:g.clientY},j=qne(b,x.getBoundingClientRect()),v=Vne(b,j),N=Kne(f.getBoundingClientRect()),w=Wne([...v,...N]);l(w),m(!0)},[m]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&u){const g=x=>p(x,u),f=x=>p(x,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",f),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",f)}}},[c,u,p,h]),y.useEffect(()=>{if(o){const g=f=>{const x=f.target,b={x:f.clientX,y:f.clientY},j=(c==null?void 0:c.contains(x))||(u==null?void 0:u.contains(x)),v=!zne(b,o);j?h():v&&(h(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,h]),a.jsx(S6,{...e,ref:i})}),[$ne,Fne]=ww(P6,{isInside:!1}),Bne=cB("TooltipContent"),S6=y.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=jw(Rm,n),d=m2(n),{onClose:u}=c;return y.useEffect(()=>(document.addEventListener(wD,u),()=>document.removeEventListener(wD,u)),[u]),y.useEffect(()=>{if(c.trigger){const m=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),a.jsx(Ah,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:a.jsxs(d2,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Bne,{children:r}),a.jsx($ne,{scope:n,isInside:!0,children:a.jsx(zee,{id:c.contentId,role:"tooltip",children:s||r})})]})})});_6.displayName=Rm;var C6="TooltipArrow",Une=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=m2(n);return Fne(C6,n).isInside?null:a.jsx(u2,{...s,...r,ref:t})});Une.displayName=C6;function qne(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Vne(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Kne(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function zne(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(s=!s)}return s}function Wne(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Hne(t)}function Hne(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Gne=k6,A6=_6;const Yne=Gne,Jne=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(A6,{ref:r,sideOffset:t,className:Be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));Jne.displayName=A6.displayName;const Qne={login:"",signup:"",logout:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:"",welcomeBack:" / ",or:"",continueWithGoogle:"Google",loginSuccess:"",loginFailed:"",signupSuccess:"",signupFailed:"",checkEmail:"",passwordMismatch:"",forgotPassword:"",resetPassword:"",noAccount:"",hasAccount:"",sendOTP:"",enterOTP:"",verifyOTP:"",otpSent:"",otpResent:"",checkEmailForOTP:"6",otpSentTo:"",sendOTPFailed:"",verifyOTPFailed:"",resendOTP:"",changeEmail:"",completeProfile:"",newUserWelcome:"LOVEYOUNG",phone:"",fillRequired:"",profileSaved:"",profileSaveFailed:"",saveAndContinue:""},Xne={loading:"...",error:"",retry:"",save:"",cancel:"",confirm:"",delete:"",edit:"",add:"",search:"",filter:"",all:"",back:"",next:"",submit:"",close:"",view:"",details:"",status:"",actions:"",total:"",date:"",time:"",name:"",phone:"",email:"",address:"",price:"",quantity:"",amount:"",none:"",yes:"",no:"",viewDetails:"",whatsappConsult:"WhatsApp"},Zne={products:"",benefits:"",howToOrder:"",testimonials:"",partner:"",brand:"",member:"",memberCenter:"",home:"",admin:""},ere={whatsapp:"WhatsApp",shop:"",login:"/",account:"",logout:""},tre={fresh:"",noCompromise:"",subtitle:"LOVEYOUNG   ",description:"",orderNow:"",exploreFlavors:"",repeatCustomers:"",nextBatch:"",giftBox:"",giftBoxDesc:"6  120g",original:"",redDate:"",fishMaw:"",giftPrice:"",perBox:"/",whatsappOrder:"WhatsApp",bestseller:""},are={customers:"",flavors:"",freshCycle:"",rating:"",whyTrust:"",customersLabel:"",customersSub:"",flavorsLabel:"",flavorsSub:"",freshLabel:"",freshSub:"",ratingLabel:"",ratingSub:""},nre={discovery:"Flavor Discovery",explore:"",flavors:"8",viewAll:"",birdNest:"",fishMaw:"",giftBox:"",allProducts:"",orderNow:"",addToCart:"",outOfStock:""},rre={whyDifferent:"Why Different",title:"",subtitle:"",description:"",science:"",scienceSub:"Lab-Tested",scienceDesc:"",scienceStat:"",coldChain:"",coldChainSub:"Cold Chain",coldChainDesc:"4C",coldChainStat:"",freshDaily:"",freshDailySub:"Fresh Daily",freshDailyDesc:"",freshDailyStat:"",fullPortion:"",fullPortionSub:"Full Portion",fullPortionDesc:"",fullPortionStat:""},sre={title:"",subtitle:"",step1:"WhatsApp",step1Desc:"",step2:"",step2Desc:"8",step3:"",step3Desc:"",whatsappOrder:"WhatsApp",metaShop:"Meta",selectPackage:"",selectPackageDesc:"",selectFlavors:"",selectFlavorsDesc:"",confirmOrder:"",confirmOrderDesc:"",remaining:"",birdNestFlavors:"",fishMawFlavors:"",orderSummary:"",packageLabel:"",priceLabel:"",flavorSelection:"",selectOrderMethod:"",back:"",next:"",moreNeeded:"",jarsUnit:"",greeting:"LOVEYOUNG",confirmRequest:"",startOrder:"",deliveryInfo:"",deliveryInfoDesc:"",customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:"",submitOrder:"",orderSuccess:"",yourOrderNumber:"",trackOrder:"",orderSubmitting:"...",orderConfirmed:"",orderConfirmedDesc:"",continueOrdering:"",viewOrder:"",selectState:"",required:"",optional:"",loginForSavedAddress:"",loginBenefit:"",loginOrRegister:"/",continueAsGuest:"",selectSavedAddress:"",useNewAddress:"",backToSavedAddresses:"",saveAddressToProfile:"",payment:"",paymentDesc:"",proceedToPayment:"",totalAmount:"",payOnline:" (Stripe)",processing:"...",paymentMethods:"FPXGrabPay ",needHelp:"",referralCode:"",referralCodeValid:"",referralCodeInvalid:"",memberDiscount:""},ire={realReviews:"Real Reviews",title:"",subtitle:"",rating:"",repeatCustomer:""},ore={title:"",subtitle:"",description:"",whatsappOrder:"WhatsApp",metaShop:"Meta",hours:": 9:00-21:00",reply:"24h"},lre={tagline:"",description:" Young Love  Love Young",brandName:"",quickLinks:"",contactUs:"",businessHours:"",hoursValue:" 9:00-21:00",clickToChat:"",responseTime:"24",allRightsReserved:"",slogan:"Against The Wind | ",products:"",birdNest:"",fishMaw:"",dessert:"",service:"",faq:"",shipping:"",contact:"",followUs:"",copyright:""},cre={original:"",redDate:"",snowPear:"",peachGum:"",coconut:"",mango:"",fishMawOriginal:"",fishMawRedDate:"",modalTitle:"",recommended:"",targetAudience:"",originalDesc:"",redDateDesc:"",snowPearDesc:"",peachGumDesc:"",coconutDesc:"",mangoDesc:"",fishMawOriginalDesc:"",fishMawRedDateDesc:""},dre={title:"",subtitle:"",oneBox:"",oneBoxDesc:"7  ",oneBoxInfo:"14",oneBoxPrice:"RM158",twoBox:"",twoBoxDesc:"14  ",twoBoxInfo:"  14",twoBoxPrice:"RM298",twoBoxSave:"RM18",chooseFlavor:"",preOrder:"",popular:"",bestValue:"",perJar:"/"},ure={pregnant:"",pregnantDesc:"",pregnantFlavors:"",children:"",childrenDesc:"",childrenFlavors:"",beauty:"",beautyDesc:"",beautyFlavors:"",health:"",healthDesc:"",healthFlavors:""},mre={johor:"",kedah:"",kelantan:"",melaka:"",negeriSembilan:"",pahang:"",penang:"",perak:"",perlis:"",sabah:"",sarawak:"",selangor:"",terengganu:"",kualaLumpur:"",labuan:"",putrajaya:""},hre={logout:"",center:{loading:"...",loginTitle:"",loginDesc:"",loginButton:" / ",logout:"",user:"",defaultUser:"",version:"LOVE YOUNG  v1.0",backToCenter:"",memberBadge:"",sections:{account:{title:""},member:{title:""},partner:{title:"",dashboard:""},adminCore:{title:""},erp:{title:"ERP"}},sectionDesc:{account:"",member:"",partner:"",adminCore:"",erp:""},menuItems:{personalCenter:"",personalCenterDesc:"",accountSettings:"",accountSettingsDesc:"",notifications:"",notificationsDesc:"",helpCenter:"",helpCenterDesc:"",orderHistory:"",orderHistoryDesc:"",addresses:"",addressesDesc:"",pointsCenter:"",pointsCenterDesc:"",paymentMethods:"",paymentMethodsDesc:"",overview:"",overviewDesc:"",referralNetwork:"",referralNetworkDesc:"",promoMaterials:"",promoMaterialsDesc:"",lyPoints:"LY",lyPointsDesc:"",cashWallet:"",cashWalletDesc:"",rwaPool:"RWA",rwaPoolDesc:"",earningsHistory:"",earningsHistoryDesc:"",dashboard:"",dashboardDesc:"",partnerManagement:"",partnerManagementDesc:"",orderManagement:"",orderManagementDesc:"",productManagement:"",productManagementDesc:"",memberManagement:"",memberManagementDesc:"",bonusPool:"",bonusPoolDesc:"RWA",inventory:"",inventoryDesc:"",purchase:"",purchaseDesc:"",logistics:"",logisticsDesc:"",bills:"",billsDesc:"",finance:"",financeDesc:""},quickStats:{lyPoints:"LY",cashBalance:"",rwaTokens:"RWA",totalSales:"",activePartners:"",monthlyOrders:"",monthlySales:"",bonusPoolBalance:""},userStates:{user:"",member:"",partner:"",admin:""},badges:{pendingActivation:""},upgradePrompt:"",goShopping:""},orders:{title:"",subtitle:"",tabAll:"",tabPending:"",tabShipped:"",tabDelivered:"",tabCancelled:"",noOrders:"",goShop:"",viewDetails:"",totalItems:" {count} ",total:"",statusPending:"",statusPaid:"",statusProcessing:"",statusShipped:"",statusDelivered:"",statusCancelled:"",statusUnknown:"",orderInfo:"",orderNumber:"",orderDate:"",shippingAddress:"",trackingInfo:"",contactAboutOrder:"",paymentStatus:"",statusConfirmed:"",statusPendingPayment:"",timelineOrdered:"",timelinePreparing:"",timelineShipping:"",timelineCompleted:""},points:{title:"",subtitle:"",currentPoints:"",earnedThisMonth:"",expiringSoon:"",tierProgress:"",tierProgressDesc:" {nextTier}  {points} ",points:"",redeem:"",redeemRate:"100 = RM1",redeemNow:"",earnPoints:"",earnRate:"RM11",goShop:"",history:"",tabAll:"",tabEarn:"",tabSpend:"",balance:"",rulesTitle:"",rule1:"RM11",rule2:"100RM1",rule3:"12",rule4:""},settings:{title:"",subtitle:"",personalInfo:"",personalInfoDesc:"",changeAvatar:"",name:"",phone:"",email:"",emailNote:"Replit",security:"",securityDesc:"",loginMethod:"",loginMethodDesc:"Replit",manage:"",notifications:"",notificationsDesc:"",orderNotify:"",orderNotifyDesc:"",promoNotify:"",promoNotifyDesc:"",earningNotify:"",earningNotifyDesc:"",display:"",darkMode:"",darkModeDesc:"",saveChanges:""},help:{title:"",subtitle:"",searchPlaceholder:"...",faq:"",noResults:"",contactUs:"",whatsapp:"WhatsApp",onlineConsult:"",phoneSupport:"",emailSupport:"",serviceHours:" 9:00-18:00",categories:{order:"",shipping:"",payment:"",refund:"",points:"",partner:""},faqItems:{order1:{q:"",a:"WhatsApp"},order2:{q:"",a:""},shipping1:{q:"",a:""},shipping2:{q:"",a:"3-55-7"},payment1:{q:"",a:"FPXTouch n Go/"},payment2:{q:"",a:""},refund1:{q:"",a:"24"},refund2:{q:"",a:"3-7"},points1:{q:"",a:""},points2:{q:"",a:""},partner1:{q:"",a:""},partner2:{q:"",a:"LYRWA10"}}},notifications:{title:"",unreadCount:" {count} ",noUnread:"",markAllRead:"",tabs:{all:"",unread:"",order:"",earning:"",promo:""},noMessages:"",new:""},addresses:{title:"",subtitle:"",addAddress:"",addAddressTitle:"",noAddresses:"",addFirst:"",defaultBadge:"",setDefault:"",edit:"",delete:"",cancel:"",save:"",form:{name:"",namePlaceholder:"",phone:"",address:"",addressPlaceholder:"",city:"",postcode:"",state:""}},payment:{title:"",subtitle:"",securityTitle:"",securityDesc:"",boundMethods:"",methodCount:" {count} ",add:"",addTitle:"",bankAccount:"",ewallet:"",bankName:"",bankNamePlaceholder:"",accountNumber:"",accountNumberPlaceholder:"",cancel:"",save:"",noMethods:"",default:"",setDefault:"",thirdParty:"",thirdPartyDesc:"",creditCardSupport:"",supportedMethods:"",supportedList:{bank:" (FPX) - Maybank, CIMB, Public Bank",ewallet:" - Touch n Go, GrabPay, Boost",card:"/ - Meta Shop"}},partnerDashboard:{title:"",subtitle:"",currentTier:"",partnerBadge:"",tiers:{phase1:"Phase 1",phase2:"Phase 2",phase3:"Phase 3"},myReferralCode:"",lyPoints:"LY",lyBalance:"",cashWallet:"",cashBalance:"",rwaToken:"RWA",rwaBalance:"",referralNetwork:"",activeMembers:"{count} ",monthlyEarnings:"",earningsDesc:"RWA",totalEarnings:"",lastMonthEarnings:"",rwaCycle:"RWA",cycleDesc:" {cycle} ",cycleProgress:"",nextPayoutDate:"",viewDetails:"",quickActions:"",promoMaterials:"",inviteFriends:"",withdraw:"",upgradePlan:"",cashbackProgress:"",cashbackProgressDesc:"",boxesProcessed:"",currentRate50:" 50% 5/",currentRate30:" 30% ",blockedCashback:"{count} LY"},partnerJoin:{title:"",loginRequired:"",exclusiveBenefits:"",maxLyPoints:"3000 LY",rwaDividend:"RWA",tenLevelNetwork:"10",loginToJoin:"",learnMore:"",alreadyPartner:"",accountActive:"",pendingReview:"",activated:"",pending:"",goToDashboard:"",applicationSuccess:"",congratsMessage:"",reviewProcess:"1-2",ensurePayment:"",backToMember:"",backToHome:"",joinPartner:"",stepProfile:" 1/3",step1:" 2/3",step2:" 3/3",completeProfile:"",profileDesc:"",namePlaceholder:"",continueToPackage:"",selectPackage:"",selectPackageDesc:"",mostPopular:"",referralCodeLabel:"",referralCodePlaceholder:"",nextStep:"",backToPackage:"",orderConfirm:"",package:"",amountToPay:"",selectPayment:"",securityGuarantee:"",encryptedTransaction:"SSL",activationTime:"24",support24h:"24",paymentNote:"",confirmPay:"",applicationSubmitted:"",applicationDesc:"",applicationFailed:"",packages:{phase1:{name:"",feature1:"2000 LY",feature2:"2 RWA",feature3:"10",feature4:""},phase2:{name:"",feature1:"2600 LY",feature2:"3 RWA",feature3:"10",feature4:""},phase3:{name:"",feature1:"3000 LY",feature2:"4 RWA",feature3:"10",feature4:"",feature5:""}},paymentMethods:{fpx:"FPX",tng:"Touch n Go",card:"/"}},earnings:{title:"",subtitle:"RWA",totalEarnings:"",vsLastMonth:"",thisMonth:"",lastMonth:"",thisMonthEarnings:"",lastMonthEarnings:"",cashback:"",rwaDividend:"RWA",referralReward:"",tabs:{all:"",cashback:"",rwa:"RWA",referral:""},history:"",historyDesc:"",income:"",noRecords:"",noRecordsForType:"",filter:"",export:""},wallet:{title:"",subtitle:"",availableBalance:"",pendingWithdraw:"",applyWithdraw:"",withdrawTitle:"",withdrawDesc:"1-3",withdrawAmount:" (RM)",withdrawPlaceholder:"",availableBalanceLabel:"",selectBank:"",selectBankPlaceholder:"",cancel:"",confirmWithdraw:"",quickStats:"",totalIncome:"",totalWithdrawn:"",thisMonthIncome:"",transactions:"",income:"",withdraw:"",status:{completed:"",pending:"",failed:""},transactionsDesc:"",exportRecords:"",noTransactions:"",bankAccount:"",bankAccountDesc:"",noBankAccount:"",contactForBank:"",addBankAccount:"+ ",bindBankFirst:"",contactToAdd:"",editBank:"",deleteBank:"",setDefault:"",defaultBadge:"",bankName:"",accountNumber:"",accountName:"",bankNamePlaceholder:": Maybank, CIMB, Public Bank",accountNumberPlaceholder:"",accountNamePlaceholder:"",saveBankAccount:"",bankSaved:"",bankDeleted:"",bankUpdated:"",confirmDeleteBank:"",selectBankForWithdraw:"",minWithdrawNote:" RM 50.00 RM 1.00 ",invalidAmount:"",minAmountMsg:" RM 50.00",insufficientBalance:"",exceedsBalanceMsg:"",withdrawSuccess:"",withdrawSuccessDesc:"1-3",withdrawFailed:""},referrals:{title:"",subtitle:"",totalReferrals:"",activeMembers:"",directReferrals:"",totalLyEarned:"LY",searchPlaceholder:"...",filterLevel:"",allLevels:"",level:"{n}",teamMembers:"",memberCount:" {count} ",joinDate:"",lyEarned:"LY",pendingActivation:"",inviteFriends:"",shareCode:"",noMembers:"",noMatchingMembers:"",teamList:"",teamListDesc:"10",allFilter:"",teamTotalLy:"LY",joinTime:"",lyBalanceLabel:"LY",inviteTitle:"",inviteDesc:"LY",inviteNow:"",tierPhase1:"",tierPhase2:"",tierPhase3:""},lyPoints:{title:"LY",subtitle:"",currentBalance:"LY",redeemGift:"",usePoints:"",totalEarned:"",totalSpent:"",thisMonthEarned:"",fromReferrals:"",fromReplenishment:"",tabs:{all:"",earn:"",spend:""},history:"",balance:"",networkRules:"",networkRulesDesc:"LY10",tier1:"1: 20%",tier2:"2: 15%",tier3to5:"3-5: 10%",tier6to10:"6-10: 5%",historyDesc:"LY",noRecords:"",rulesTitle:"LY",ruleEarn1:"LY",ruleEarn2:"",ruleEarn3:"10",ruleUse1:"",ruleUse2:"",ruleNote:"12",filter:"",export:"",earnBadge:"",useBadge:"",noteBadge:""},materials:{title:"",subtitle:"",myQrCode:"",qrCodeDesc:"",downloadQr:"",shareLink:"",tabs:{images:"",documents:"",videos:""},download:"",copyLink:"",copied:"",size:"",fileType:"",fileSize:"",duration:"",notMember:"",notMemberDesc:"",goShopping:"",myReferralLink:"",referralCodeLabel:"",copyReferralCode:"",shareWhatsApp:" WhatsApp",referralLinkLabel:"",share:"",preview:"",play:"",socialShare:"",socialShareDesc:"",copyFailed:"",copiedToClipboard:"",productPoster:" - ",brandStory:"",recruitPoster:"",holidayPromo:"",productManual:" PDF",trainingMaterial:"",faqDocument:"",brandPpt:"PPT",brandVideo:"",productProcess:"",successStory:"",shareText:"Love Young  {code} ",itemShareText:"{title} {code} "},rwa:{title:"RWA",subtitle:"",myTokens:"RWA",tokenUnit:"",activeHolding:"",totalDividends:"",currentEstimate:"",avgPerToken:"",currentCycle:"",cycle:"{n}",cycleProgress:"",daysRemaining:" {days} ",poolAmount:"",estimatedDividend:"",nextPayout:" {date} ",cycleHistory:"",completed:"",active:"",dividendReceived:"",tokenHistory:"",tokenHistoryDesc:"RWA",howItWorks:"RWA",rule1:"1. RWA1030%",rule2:"2. RWA",rule3:"3. ",rule4:"4. ",startDate:"",endDate:"",currentPool:"",noCycle:"",cycleHistoryDesc:"",tokensParticipated:"",noCycles:"",noTokens:"",sourcePackage:"",sourceNetworkOrder:"",sourceMilestone:"",sourceReferral:""}},pre={title:"",subtitle:"RWA ",description:"LOVEYOUNG",joinNow:"",learnMore:"",benefits:"",howItWorks:"",tiers:"",faq:"",phase1:"",phase2:"",phase3:"",investment:"",lyPoints:"LY",referralBonus:"",monthlyDividend:"",dashboard:"",myNetwork:"",earnings:"",withdraw:"",referralCode:"",copyCode:"",codeCopied:"",referralLink:"",totalEarnings:"",pendingWithdrawal:"",lyBalance:"LY",cashBalance:"",directReferrals:"",teamSize:"",currentCycle:"",cycleProgress:"",estimatedDividend:"",daysRemaining:"",poolAmount:"",yourShare:"",joinRequirements:"",selectPackage:"",agreeTerms:"",submitApplication:"",applicationPending:"",applicationApproved:"",applicationRejected:"",notPartner:"",becomePartner:"",whatsappMessage:"",page:{heroTitle1:" RM1,000",heroTitle2:"",heroTitle3:"2",heroSubtitle:" Love Young  2000 LY 10LY",heroSubtitleBold:"",applyNow:"",consultDetails:"",minInvestment:"",lyPointsObtained:" = RM2000",unlimitedEarnings:"",applicationSubmitted:"",applicationSubmittedDesc:"",applicationFailed:""},concepts:{assetTransparency:"",assetTransparencyDesc:"",earningsGuarantee:"",earningsGuaranteeDesc:"LY",globalFlow:"",globalFlowDesc:""},dividends:{title:"",subtitle:"1:1LY10",method1:" 1",method2:" 2",cashbackTitle:"",cashbackDesc:"5/50%30%10%",rwaTitle:"RWA",rwaDesc:"30%10RWA",directPartner:"",sameLevelGen1:"1",sameLevelGen2:"2",cashbackFirst5:"5/ 50%",cashbackAfter:" 30%",sameLevelReward:"10% ",cashbackExample:"1RM199 RM99.5 50% RM9.9510%",salesIntoPool:"",distributeByToken:"",yourDividend:"",autoToken:"",tokenPerSale:"1",cycleReset:"10",tokenReset:"",rwaExample:"2021550RM29,850 RM1,140 "},ly:{title:"LY ",subtitle:"LY10",networkTitle:"10 LY",networkSubtitle:"",totalReplenish:"10",ofSales:"LY",cycleTitle:"",salesGenerate:"",enterWallet:"",withdrawDeduct:"LY",networkReplenish:"LY",keepActive:"",neverDry:"LY",whyMoreTitle:"2",whyMoreDesc:"RM10002000 LYRM200010LYLY",importantNote:"",importantNoteDesc:"LYLY",level1:"",level2:"",level3:"",level4:"",level5:"",level6:"",level7:"",level8:"",level9:"",level10:""},network:{you:"",customer:"",gen1:"G1",gen2:"G2",gen3:"G3",plusCashback:"+"},tierSection:{title:"",subtitle:"LY",mostPopular:"",invest:"",getLyPoints:" LY ",minWithdraw:"=  RM",consultNow:""},tierNames:{phase1:"",phase2:"",phase3:""},tierFeatures:{cashback50First5:"550%",cashback30Next5:"6-1030%",cashback20Rest:"20%",freeFirstBox:"",photoShoot:"",tenLevelBonus:"10",weight12x:"1.2x ",factoryVip:"VIP",microFilm:"",weight15x:"1.5x ",topPoolPriority:"",intlLaunch:"",cobranding:"",exclusiveBiz:""},simulator:{title:"RWA",subtitle:"",mySales:"",boxes:"",totalPlatformSales:"",activePartners:"",people:"",avgSalesPerPerson:"",cycleTotalSales:"",bonusPool30:" (30%)",myRwaTokens:"RWA",units:"",totalPlatformTokens:"",myRatio:"",estimatedCycleDividend:"",withdrawNeedsLy:"* LY"},ecosystem:{title:"LOVEYOUNG ",desc1:"LOVEYOUNG KOLRWA",desc2:"",modules:"",fullSupport:"",imgAlt:"LOVEYOUNG"},faqs:{title:"",subtitle:"",q1:"",a1:"",q2:"RM1000RM2000",a2:"RM10002000 LYRM20001:1LY210LY",q3:"RWA",a3:"5/50%30%10%2RWA1030%RWALY",q4:"LY",a4:"LY10LY120%215%3-510%6-105%LY",q5:"LY",a5:"LY",q6:"",a6:""},cta:{title:"",subtitle:"RM1,0002,000 LY102",subtitleBold:"",becomePartner:"",whatsappConsult:"WhatsApp "},modal:{title:"",selectedTier:"",referralCodeOptional:"",referralCodePlaceholder:"8",cancel:"",confirmAndPay:""}},fre={title:"",dashboard:"",partners:"",orders:"",products:"",members:"",bonusPool:"",inventory:"",purchase:"",logistics:"",bills:"",finance:"",settings:"",backToMember:"",backToHome:"",adminPanel:"",erpSystem:"ERP",memberCenter:"",pleaseLogin:"",adminRequired:"",adminRole:"",menu:{dashboard:"",partners:"",orders:"",products:"",members:"",bonusPool:"",inventory:"",production:"",purchase:"",logistics:"",bills:"",finance:"",withdrawals:"",bundles:"",siteSettings:"",adManagement:"",xiaohongshu:"",mediaPlan:"",performanceReports:"",whatsappConfig:"WhatsApp",whatsappOrders:"WhatsApp",whatsappMembers:"",whatsappChat:"",whatsappAdmins:"",whatsappFlows:"",contentCreation:"",whatsappPush:"",systemHealth:"",memoryDatabase:"",knowledgeBase:"",notifications:"",orderSupplement:""},marketingSystem:"",whatsappBusiness:"WhatsApp",aiKnowledge:"AI",productionPage:{title:"",subtitle:"",newBatch:"",totalBatches:"",inProgress:"",completed:"",planned:"",batchList:"",materialUsage:"",searchPlaceholder:"...",qty:"",progress:"",steps:"",plannedDate:"",startTime:"",plannedQty:"",actualQty:"",nextStep:"",viewDetails:"",viewReport:"",materialName:"",plannedUsage:"",actualUsage:"",wastage:"",wastageRate:"",stepMaterialPrep:"",stepCleaning:"",stepCooking:"",stepColdStorage:"",stepInspection:"",statusPlanned:"",statusMaterialPrep:"",statusCleaning:"",statusCooking:"",statusColdStorage:"",statusInspection:"",statusCompleted:"",statusCancelled:"",statusUnknown:"",bomTab:"(BOM)",selectProduct:"",selectMaterial:"",addBomEntry:"",quantityPerUnit:"",currentStock:"",createBatch:"",product:"",extractMaterials:"",materialsExtracted:"",noBom:"BOM",noProductSelected:"",materialReq:"",unit:"",notesLabel:"",notesPlaceholder:"...",noBatches:"",noMaterials:""},totalRevenue:"",totalOrders:"",totalMembers:"",totalPartners:"",pendingOrders:"",pendingPartners:"",lowStock:"",recentActivity:"",quickActions:"",viewDetails:"",activate:"",deactivate:"",approve:"",reject:"",export:"",import:"",refresh:"",addNew:"",editItem:"",deleteItem:"",confirmDelete:"",deleteSuccess:"",saveSuccess:"",operationSuccess:"",operationFailed:"",noPermission:"",partnerStatus:{pending:"",active:"",inactive:"",suspended:""},orderStatus:{pending:"",confirmed:"",processing:"",shipped:"",delivered:"",cancelled:""},loginRequired:"",loginRequiredDesc:"",login:"",insufficientPermission:"",noAdminPermission:"",goHome:"",backToFront:"",production:"",hygiene:"",coldchain:"",reports:"",activePartners:"",monthlyOrders:"",monthlySales:"",currentBonusPool:"",recentOrders:"",pendingItems:"",noOrderData:"",noPendingItems:"",partnerList:"",addPartner:"",noPartnerData:"",orderList:"",createOrder:"",inventoryManagement:"",stockIn:"",stockOut:"",addMaterial:"",noInventoryData:"",productionBatch:"",createBatch:"",noProductionData:"",hygieneRecords:"",addInspection:"",noInspectionData:"",coldChainTracking:"",addWaybill:"",noLogisticsData:"",monthlyIncome:"",monthlyExpenses:"",netProfit:"",billRecords:"",addBill:"",noBillData:"",rwaBonusPoolCycle:"RWA ",currentCycle:"",cycleNumber:" {number} ",totalPoolAmount:"",totalTokens:"",settleCycle:"",historyCycles:"",noHistoryData:"",salesReport:"",partnerGrowth:"",chartArea:"",systemSettings:"",cashbackRatioSettings:"",cashbackRatioDesc:"",bonusPoolCycleSetting:"",bonusPoolCycleDesc:"10/",referralRewardRatio:"",referralRewardDesc:"10",configure:"",modify:"",partnersPage:{title:"",subtitle:"",totalPartners:"",activated:"",pendingReview:"",partnerList:"",searchPlaceholder:"ID...",tabAll:"",tabPending:"",tabActive:"",noPartners:"",activate:"",viewDetails:"",activateSuccess:"",activateSuccessDesc:"",activateFailed:"",package:""},ordersPage:{title:"",subtitle:"",totalOrders:"",pendingPayment:"",preparing:"",shipping:"",completed:"",cancelled:"",unknown:"",orderList:"",searchPlaceholder:"...",tabAll:"",noOrders:"",viewDetails:"",items:""},productsPage:{title:"",subtitle:"",addProduct:"",productList:"",searchPlaceholder:"...",noProducts:"",addFirstProduct:"",categoryBirdNest:"",categoryFishMaw:"",categoryGiftSet:"",manageCategories:"",categories:"",allCategories:"",totalProducts:"",activeProducts:"",addCategory:"",editCategory:"",categoryModalDesc:"",categoryName:"",categoryNamePlaceholder:"",categoryNameEn:"",categoryNameEnPlaceholder:"",categoryDescription:"",categoryDescPlaceholder:"",categoryColor:"",editProduct:"",productModalDesc:"",productImage:"",uploadImage:"",productNameZh:"",productNameZhPlaceholder:"",productNameEn:"",productNameEnPlaceholder:"",productDescription:"",productDescPlaceholder:"",category:"",selectCategory:"",price:"",weight:"",sortOrder:"",isAvailable:"",isAvailableDesc:"",isFeatured:"",isFeaturedDesc:"",productDetails:"",available:"",unavailable:"",featured:"",view:"",edit:"",delete:"",image:"",productName:"",status:"",actions:"",deleteConfirmTitle:"",deleteConfirmDesc:""},membersPage:{title:"",subtitle:"",totalUsers:"",regularMembers:"",partners:"",memberList:"",searchPlaceholder:"...",tabAll:"",tabMember:"",tabPartner:"",tabAdmin:"",noMembers:"",viewDetails:"",points:"",orders:"",roleMember:"",rolePartner:"",roleAdmin:"",roleUser:""},bonusPoolPage:{title:"",subtitle:"RWA",refreshData:"",currentCycle:"",inProgress:"",cycleProgress:"",days:"",daysRemaining:" {days} ",currentPool:"",perTokenValue:"",participatingPartners:"",cycleSales:"",cycleSettings:"",cycleLength:"",salesPoolRatio:"",totalRwaTokens:"RWA",tokens:"",editSettings:"",dividendNote:"",dividendDesc1:"10RWA",dividendRule1:"30%",dividendRule2:"1-4RWA",dividendRule3:"LY",historyCycles:"",cycle:"",settled:"",perToken:"",people:""},inventoryPage:{title:"",subtitle:"",addStock:"",productSku:"SKU",status:"",lowStock:"",criticalStock:"",inventoryStatus:"",searchPlaceholder:"SKU...",statusNormal:"",statusLow:"",statusCritical:"",statusUnknown:"",recentChanges:"",stockIn:"",stockOut:"",purchaseIn:"",manageCategories:"",categories:"",allCategories:"",addCategory:"",editCategory:"",categoryModalDesc:"",categoryName:"",categoryNamePlaceholder:"",categoryNameEn:"",categoryNameEnPlaceholder:"",categoryColor:"",permissions:"",permissionsDesc:"",stockInDesc:"",stockOutDesc:"",selectProduct:"",selectProductPlaceholder:"",quantity:"",stockInType:"",stockOutType:"",selectType:"",typeProduction:"",typePurchase:"",typeReturn:"",typeAdjust:"",typeSales:"",typeProductionUse:"",typeDamage:"",note:"",notePlaceholder:"",confirmStockIn:"",confirmStockOut:"",editItem:"",editItemDesc:"",itemName:"",sku:"SKU",category:"",currentStock:"",minStock:"",unit:"",actions:"",edit:"",delete:"",deleteConfirmTitle:"",deleteConfirmDesc:"",date:"",type:"",product:"",operator:""},purchasePage:{title:"",subtitle:"",newPo:"",purchaseOrders:"",suppliers:"",searchPlaceholder:"...",statusPending:"",statusApproved:"",statusShipped:"",statusReceived:"",statusUnknown:"",items:"",viewDetails:"",supplierList:"",addSupplier:"",orders:"",edit:""},logisticsPage:{title:"",subtitle:"",totalShipments:"",pendingShipment:"",inTransit:"",delivered:"",coldChainMonitor:"",tempNormal:" (-18C ~ -15C)",statusNormal:"",shipmentList:"",searchPlaceholder:"...",statusUnknown:"",order:"",track:""},billsPage:{title:"",subtitle:"",addBill:"",totalBills:"",pendingPayment:"",overdue:"",billList:"",searchPlaceholder:"...",statusPending:"",statusPaid:"",statusOverdue:"",statusUnknown:"",tabAll:"",typePurchase:"",typeLogistics:"",typeOperation:"",dueDate:"",noBills:""},financePage:{title:"",subtitle:"",exportReport:"",monthlyRevenue:"",monthlyExpenses:"",monthlyProfit:"",expenseBreakdown:"",purchaseCost:"",logisticsCost:"",operationCost:"",otherCost:"",partnerExpenses:"",cashbackPayout:"",cashbackDesc:"3",bonusPoolPayout:"RWA",bonusPoolDesc:"",recentTransactions:"",tabAll:"",tabIncome:"",tabExpense:""},withdrawals:{title:"",subtitle:"",pendingRequests:"",processingRequests:"",completedRequests:"",rejectedRequests:"",requestsList:"",tabPending:"",tabProcessing:"",tabCompleted:"",tabRejected:"",tabAll:"",noRequests:"",requestDetail:"",withdrawAmount:"",partnerInfo:"",name:"",email:"",phone:"",bankInfo:"",bankName:"",accountNumber:"",accountName:"",timeline:"",submittedAt:"",processedAt:"",statusPending:"",statusProcessing:"",statusCompleted:"",statusRejected:"",approve:"",reject:"",markComplete:"",cancel:"",rejectTitle:"",rejectDesc:"LY",rejectPlaceholder:"...",rejectReasonLabel:"",confirmReject:"",approveSuccess:"",approveFailed:"",completeSuccess:"",completeFailed:"",rejectSuccess:"",rejectFailed:""},metaAdsPage:{title:"Meta",subtitle:"Facebook/Instagram",newCampaign:"",totalCampaigns:"",activeCampaigns:"",totalSpend:"",totalImpressions:"",searchPlaceholder:"...",tabAll:"",tabActive:"",tabPaused:"",tabDraft:"",tabCompleted:"",noCampaigns:"",campaignName:"",platform:"",objective:"",budget:"",budgetType:"",dailyBudget:"",lifetimeBudget:"",startDate:"",endDate:"",targetAudience:"",spent:"",impressions:"",clicks:"",conversions:"",ctr:"",cpc:"",roas:"",adSets:"",creatives:"",performance:"",objectiveAwareness:"",objectiveTraffic:"",objectiveEngagement:"",objectiveLeads:"",objectiveConversions:"",objectiveSales:"",accountSettings:"",accountId:"ID",accessToken:"",pixelId:"Pixel ID",campaignCreated:"",createFailed:"",campaignUpdated:"",updateFailed:"",campaignDeleted:"",deleteFailed:"",statusUpdated:"",nameRequired:"",budgetRequired:"",statusActive:"",statusPaused:"",statusDraft:"",statusCompleted:"",statusUnknown:"",objectiveAppPromotion:"",budgetDaily:"",budgetLifetime:"",budgetAmount:"",totalBudget:"",campaignList:"",details:"",editCampaign:"",editCampaignDesc:"",newCampaignDesc:"",campaignNamePlaceholder:"",notes:"",notesPlaceholder:"...",cancel:"",save:"",create:"",campaignDetails:"",status:"",dateRange:"",createdAt:"",updatedAt:"",budgetUsage:"",adAccountId:"ID",noAdSets:"",activate:"",pause:"",resume:"",close:"",deleteCampaign:"",deleteConfirm:"",deleteWarning:"",confirmDelete:"",syncPerformance:"",syncSuccess:"",syncFailed:""},xiaohongshuPage:{title:"",subtitle:"",newContent:"",totalContent:"",published:"",totalLikes:"",totalViews:"",searchPlaceholder:"...",tabAll:"",tabDraft:"",tabPending:"",tabPublished:"",tabRejected:"",noContent:"",contentTitle:"",contentBody:"",contentType:"",typeNote:"",typeVideo:"",typeLive:"",coverImage:"",mediaTags:"",scheduledAt:"",likes:"",comments:"",shares:"",views:""},mediaPlanPage:{title:"",subtitle:"",newPlan:"",totalPlans:"",planned:"",inProgress:"",published:"",searchPlaceholder:"...",tabAll:"",tabPlanned:"",tabInProgress:"",tabReady:"",tabPublished:"",listView:"",calendarView:"",planTitle:"",description:"",platform:"",contentType:"",scheduledDate:"",scheduledTime:"",assignedTo:"",noPlans:"",typePost:"",typeStory:"",typeReel:"",typeVideo:"",typeArticle:"",typeLive:"",createSuccess:"",createError:"",updateSuccess:"",updateError:"",deleteSuccess:"",deleteError:"",validationError:"",platformXiaohongshu:"",platformWebsite:"",statusPlanned:"",statusInProgress:"",statusReady:"",statusPublished:"",statusPlannedShort:"",statusInProgressShort:"",statusPublishedShort:"",planList:"",editPlan:"",editPlanDesc:"",newPlanDesc:"",fieldTitle:"",fieldTitlePlaceholder:"",fieldDescription:"",fieldDescriptionPlaceholder:"...",fieldPlatform:"",fieldPlatformPlaceholder:"",fieldContentType:"",fieldContentTypePlaceholder:"",fieldScheduledDate:"",fieldScheduledTime:"",fieldAssignedTo:"",fieldAssignedToPlaceholder:"",fieldContentUrl:"",fieldContentUrlPlaceholder:"",fieldNotes:"",fieldNotesPlaceholder:"...",cancel:"",save:"",create:"",deleteConfirmTitle:"",deleteConfirmDesc:" {{title}} ",delete:"",edit:"",sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",selectContent:""},adPlacementPage:{title:"",subtitle:"",newPlan:"",totalPlans:"",pendingApproval:"",activePlans:"",totalBudget:"",searchPlaceholder:"...",tabAll:"",tabDraft:"",tabPending:"",tabApproved:"",tabActive:"",tabCompleted:"",noPlans:"",planName:"",platform:"",totalBudgetLabel:"",dailyBudgetLabel:"",startDate:"",endDate:"",kpiTargets:"KPI",approvalNotes:"",submitForApproval:"",approve:"",reject:"",planCreated:"",createFailed:"",planUpdated:"",updateFailed:"",planDeleted:"",deleteFailed:"",submittedForApproval:"",submitFailed:"",planApproved:"",approveFailed:"",planRejected:"",rejectFailed:"",nameRequired:"",statusDraft:"",statusPending:"",statusApproved:"",statusActive:"",statusCompleted:"",platformXiaohongshu:"",budget:"",dailyBudget:"",editPlan:"",createPlan:"",editPlanDescription:"",createPlanDescription:"",planNamePlaceholder:"",description:"",descriptionPlaceholder:"...",selectPlatform:"",kpiTargetsPlaceholder:"KPIJSON",notes:"",notesPlaceholder:"...",cancel:"",save:"",create:"",confirmDelete:"",confirmDeleteDescription:"",delete:"",tabDraftShort:"",tabPendingShort:"",tabApprovedShort:"",tabActiveShort:"",tabCompletedShort:"",submitShort:"",attachContent:"",browseContent:"",attachContentHint:"",planList:""},performanceReportsPage:{title:"",subtitle:"KPI",dateRange:"",last7Days:"7",last30Days:"30",last90Days:"90",customRange:"",platformFilter:"",allPlatforms:"",totalSpend:"",totalImpressions:"",totalClicks:"",totalConversions:"",avgCTR:"",avgROAS:"ROAS",dailyTrend:"",platformComparison:"",budgetAllocation:"",topCampaigns:"",noData:"",platform:"",all:"",sampleDataNotice:"",impressions:"",clicks:"",conversions:"",spend:"",avgCtr:"",avgRoas:"ROAS",campaign:"",roas:"ROAS",noCampaigns:""},whatsappConfigPage:{title:"WhatsApp",subtitle:"WhatsApp Business API",apiConfig:"API",businessProfile:"",messageTemplates:"",adminPush:"",phoneId:"ID",businessAccountId:"ID",accessToken:"",webhookToken:"Webhook",webhookUrl:"Webhook URL",businessName:"",businessDesc:"",businessAddr:"",businessEmail:"",businessWebsite:"",adminPhones:"",adminPhonesDesc:"WhatsApp",notificationEnabled:"",autoReply:"",autoReplyMessage:"",workingHours:"",saveConfig:"",configSaved:"",configSaveFailed:"",newTemplate:"",templateName:"",templateLanguage:"",templateCategory:"",templateBody:"",templateFooter:"",templateVariables:"",noTemplates:"",pushToAdmin:"",pushMessage:"",pushTarget:"",pushAllAdmins:"",pushSelectAdmin:"",pushType:"",pushTypeOrder:"",pushTypeCustomer:"",pushTypeSystem:"",pushTypeMarketing:"",pushContent:"",pushSend:"",pushSuccess:"",pushFailed:"",pushHistory:"",businessPhoneId:"ID",whatsappBusinessAccountId:"WhatsAppID",businessInfo:"",businessDescription:"",businessAddress:"",adminPhoneNumbers:"",adminPhoneHint:"",autoReplyEnabled:"",autoReplyPlaceholder:"...",workingHoursStart:"",workingHoursEnd:"",templateUpdated:"",templateCreated:"",templateSaveFailed:"",templateDeleted:"",templateDeleteFailed:"",pushSent:"",sendPush:"",pushContentPlaceholder:"...",sendButton:"",noPushHistory:"",pushTargetAll:"",edit:"",delete:"",editTemplate:"",editTemplateDesc:"",newTemplateDesc:"WhatsApp",templateNamePlaceholder:"",templateBodyPlaceholder:" {{1}} ",templateFooterPlaceholder:"",templateVariablesHint:"",cancel:"",updateTemplate:"",createTemplate:"",variables:"",webhookVerifyToken:"Webhook",adminManagement:"",adminManagementDesc:"WhatsApp",goToAdminManagement:""},whatsappOrdersPage:{title:"WhatsApp",subtitle:"WhatsApp",totalOrders:"",pendingOrders:"",paidOrders:"",totalRevenue:"",searchPlaceholder:"...",tabAll:"",tabPending:"",tabConfirmed:"",tabProcessing:"",tabShipped:"",tabDelivered:"",noOrders:"WhatsApp",customerPhone:"",customerName:"",orderAmount:"",paymentStatus:"",linkToOrder:"",viewConversation:"",sendNotification:"",notifyAdmin:"",orderCreated:"",createFailed:"",orderUpdated:"",updateFailed:"",orderDeleted:"",deleteFailed:"",notificationSent:"",invalidJson:"JSON",requiredFields:"",confirmDelete:"",paymentPaid:"",paymentRefunded:"",paymentUnpaid:"",statusConfirmed:"",statusProcessing:"",statusShipped:"",statusDelivered:"",statusPending:"",tabPendingShort:"",tabConfirmedShort:"",tabProcessingShort:"",tabShippedShort:"",tabDeliveredShort:"",activeOrders:"",statusCancelled:"",orderList:"",viewDetails:"",edit:"",newOrder:"",editOrder:"",createOrder:"",editOrderDesc:"WhatsApp",createOrderDesc:"WhatsApp",customerNamePlaceholder:"",orderData:"",orderDataPlaceholder:'JSON: [{"name": "", "quantity": 1}]',totalAmount:"",orderStatus:"",notes:"",notesPlaceholder:"...",cancel:"",save:"",create:"",orderDetails:"",createdAt:"",updatedAt:"",conversationId:"ID",linkedOrderId:"ID",close:"",notifyAdminTitle:"",notificationMessage:"",notificationPlaceholder:"...",send:""},whatsappMembersPage:{title:"WhatsApp",subtitle:"WhatsApp",totalRegistrations:"",completedReg:"",pendingReg:"",conversionRate:"",searchPlaceholder:"...",tabAll:"",tabPending:"",tabCompleted:"",tabFailed:"",noRegistrations:"",phone:"",name:"",email:"",source:"",registeredAt:"",linkToMember:"",createSuccess:"",createError:"",deleteSuccess:"",deleteError:"",phoneRequired:"",statusPending:"",statusCompleted:"",statusFailed:"",sourceManual:"",sourceReferral:"",completedCount:"",pendingCount:"",registrationList:"",viewDetail:"",registrationDetail:"",registrationDetailDesc:"",createdAt:"",conversationId:"ID",memberLinked:"",viewMemberProfile:"",metadata:"",close:"",addRegistration:"",addRegistrationDesc:"WhatsApp",phonePlaceholder:"  +60123456789",namePlaceholder:"",emailPlaceholder:"",cancel:"",confirm:"",withOrders:"",partners:"",newMembers:"",totalOrders:"",status:""},aiCustomerServicePage:{title:"AI",subtitle:"AI",botConfig:"",conversations:"",totalConversations:"",activeConversations:"",escalatedConversations:"",avgSatisfaction:"",botName:"",botDescription:"",systemPrompt:"",knowledgeBase:"",greetingMessage:"",fallbackMessage:"",model:"AI",temperature:"",maxTokens:"Token",enabled:"",disabled:"",configure:"",viewHistory:"",noConversations:"",messageCount:"",tokensUsed:"Token",satisfaction:"",escalated:"",testBot:"",toggleSuccess:"",toggleError:"",updateSuccess:"",updateError:"",invalidJson:"JSON",statusActive:"",statusCompleted:"",statusEscalated:"",statusFailed:"",configureBot:"",configureBotDesc:"",fieldName:"",fieldDescription:"",fieldSystemPrompt:"",fieldKnowledgeBase:"",fieldGreetingMessage:"",fieldFallbackMessage:"",fieldModel:"AI",fieldTemperature:"",fieldMaxTokens:"Token",fieldResponseLanguage:"",cancel:"",save:"",conversationDetail:"",conversationList:"",searchPlaceholder:"...",messages:"",noMessages:"",confidence:"",close:"",statTotal:"",statActive:"",statEscalated:"",statAvgSatisfaction:"",escalateToAdmin:"",escalateSuccess:"",escalateError:"",assigned:"",unassigned:"",backToAi:"AI",backToAiSuccess:"AI",backToAiError:"AI",botEnabled:"",botDisabled:"",confirmTransfer:"",conversationResolved:"",filterAi:"AI",filterMine:"",filterUnassigned:"",filterEscalated:"",filterResolved:"",markResolved:"",noAdminsOnDuty:"",replyPlaceholder:"...",resolveSuccess:"",resolveError:"",selectAdmin:"",selectAdminPlaceholder:"",selectConversation:"",selectConversationDesc:"",sendError:"",statusResolved:"",takeOver:"",takeOverSuccess:"",takeOverError:"",transfer:"",transferTitle:"",transferDesc:"",transferSuccess:"",transferError:"",selected:"",noKnowledgeBase:""},contentCreationPage:{title:"",subtitle:"AI",newContent:"",newContentDesc:"",editContent:"",editContentDesc:"",totalContent:"",drafts:"",aiGenerated:"AI",published:"",tabAll:"",tabDraft:"",tabReady:"",tabPublished:"",tabAi:"AI",searchPlaceholder:"...",noContent:"",aiGenerate:"AI",aiGenerateTitle:"AI",aiGenerateDesc:"AI",aiProduct:"",aiProductPlaceholder:"",aiTopic:"/",aiTopicPlaceholder:"",aiOccasion:"/",aiPlatform:"",aiTone:"",aiLanguage:"",generate:"",aiGenerateSuccess:"AI",aiGenerateError:"",aiGenerateImageLabel:"AI",aiGenerateImageDesc:"DALL-E 3",generatingWithImage:"()...",uploadSuccess:"",uploadError:"",occasion_normal:"",occasion_chinese_new_year:"",occasion_hari_raya:"",occasion_christmas:"",occasion_valentines:"",occasion_mothers_day:"",occasion_mid_autumn:"",occasion_product_launch:"",occasion_flash_sale:"",tone_professional:"",tone_casual:"",tone_festive:"",tone_humorous:"",tone_inspirational:"",fieldTitle:"",fieldTitlePlaceholder:"",fieldBody:"",fieldBodyPlaceholder:"...",fieldContentType:"",selectContentType:"",fieldPlatform:"",fieldCoverImage:"URL",fieldCoverImagePlaceholder:"",fieldTags:"",fieldTagsPlaceholder:"",fieldHashtags:"",fieldHashtagsPlaceholder:"",createSuccess:"",createError:"",updateSuccess:"",updateError:"",deleteSuccess:"",deleteError:"",deleteConfirmTitle:"",deleteConfirmDesc:"",cancel:"",save:"",create:"",delete:"",close:"",copied:"",markReady:"",addToCalendar:"",addedToCalendar:"",addToCalendarError:"",statusDraft:"",statusAi_generating:"AI",statusReady:"",statusPublished:"",statusArchived:""},whatsappAdminsPage:{title:"",subtitle:"WhatsApp",addAdmin:"",addAdminDesc:"WhatsApp",editAdmin:"",editAdminDesc:"",totalAdmins:"",online:"",onDuty:"",activeChats:"",tabAll:"",tabOnline:"",tabOffline:"",tabOnDuty:"",searchPlaceholder:"...",noAdmins:"",fieldName:"",fieldNamePlaceholder:"",fieldPhone:"",fieldPhonePlaceholder:"",dutyStart:"",dutyEnd:"",maxChats:"",status_online:"",status_offline:"",status_busy:"",createSuccess:"",createError:"",updateSuccess:"",updateError:"",deleteSuccess:"",deleteError:"",deleteConfirmTitle:"",deleteConfirmDesc:"",cancel:"",save:"",create:"",delete:"",assignmentQueue:"",noUnassigned:"",assign:"",assignConversation:"",assignConversationDesc:"",selectAdmin:"",selectAdminPlaceholder:"",assignSuccess:"",assignError:"",autoAssignment:"",autoAssignEnabled:"",timeoutSeconds:"",strategy:"",strategyLeastBusy:"",strategyRoundRobin:"",strategyManual:"",selectSystemAdmin:"",selectSystemAdminPlaceholder:"",noAvailableAdmins:""},systemHealthPage:{title:"",subtitle:"API",testAll:"",totalConfigs:"",connected:"",failed:"",untested:""},notificationsPage:{title:"",subtitle:"WhatsApp",unread:"",today:"",thisWeek:"",all:"",withdrawal:"",order:"",shipping:"",partner:"",system:"",markRead:"",markAllRead:"",pushWhatsapp:"WhatsApp",noNotifications:"",typeWithdrawal:"",typeNewOrder:"",typeOrderStatus:"",typeShipping:"",typeNewPartner:"",typeEscalation:"",typeSystem:"",pushSuccess:"WhatsApp",pushFailed:"",selectAdmin:"",sent:"",notSent:""},orderSupplementPage:{title:"",history:"",newSession:"",statSessions:"",statOrders:"",statPartners:"",statMembers:"",statAmount:"",noHistory:"",confirmed:"",cancelled:"",inProgress:"",welcomeTitle:"AI ",welcomeDesc:"",exampleTitle:"",inputPlaceholder:"...",readyToConfirm:"",confirmExecute:"",confirmSuccess:"",actionsCompleted:"",executionComplete:"",membersCreated:"",partnersCreated:"",ordersCreated:"",totalAmount:"",failed:"",error:"",boxes:"",memberReg:"",sendImageTip:"",sentImage:"[]",uploadFailed:"",imageOnly:"",imageTooLarge:"10MB",attachReceipt:"",receiptAttached:"",receiptUploaded:"",actualPaid:""},adManagementPage:{title:"",subtitle:"",syncPerformance:"",syncSuccess:"",syncFailed:"",new:"",totalCampaigns:"",activePlans:"",totalSpend:"",roas:"",tabCampaigns:"",tabPlacements:"",tabCreatives:"",tabAll:"",campaignList:"",planList:"",creativesTitle:"",searchPlaceholder:"...",noCampaigns:"",noPlans:"",noAdSets:"",noCreatives:"",spent:"",details:"",budget:"",dailyBudgetLabel:"",approvalNotes:"",submitForApproval:"",approve:"",reject:"",targeting:"",newAdSet:"",newCreative:"",campaignCreated:"",campaignUpdated:"",campaignDeleted:"",planCreated:"",planUpdated:"",planDeleted:"",adSetCreated:"",adSetUpdated:"",adSetDeleted:"",creativeCreated:"",creativeUpdated:"",creativeDeleted:"",createFailed:"",updateFailed:"",deleteFailed:"",statusUpdated:"",submittedForApproval:"",submitFailed:"",planApproved:"",approveFailed:"",planRejected:"",rejectFailed:"",nameRequired:"",budgetRequired:"0",statusActive:"",statusPaused:"",statusDraft:"",statusCompleted:"",statusUnknown:"",statusPending:"",statusApproved:"",platformXiaohongshu:"",objectiveAwareness:"",objectiveTraffic:"",objectiveEngagement:"",objectiveLeads:"",objectiveSales:"",objectiveAppPromotion:"",budgetDaily:"",budgetLifetime:"",newCampaign:"",editCampaign:"",newCampaignDesc:"",editCampaignDesc:"",campaignName:"",campaignNamePlaceholder:"",platform:"",objective:"",budgetType:"",budgetAmount:"",startDate:"",endDate:"",notes:"",notesPlaceholder:"...",cancel:"",save:"",create:"",campaignDetails:"",status:"",dateRange:"",createdAt:"",updatedAt:"",budgetUsage:"",activate:"",pause:"",resume:"",close:"",deleteCampaign:"",deleteConfirm:"",deleteWarning:"",confirmDelete:"",createPlan:"",editPlan:"",createPlanDesc:"",editPlanDesc:"",planName:"",planNamePlaceholder:"",description:"",descriptionPlaceholder:"...",campaign:"",selectCampaign:"",none:"",totalBudget:"",dailyBudget:"",kpiTargets:"KPI",kpiTargetsPlaceholder:"KPI(JSON)",deletePlan:"",editAdSet:"",editAdSetDesc:"",newAdSetDesc:"",adSetName:"",adSetNamePlaceholder:"",selectAdSet:"",adSet:"",deleteAdSet:"",editCreative:"",newCreativeDesc:"",editCreativeDesc:"",creativeTitle:"",creativeTitlePlaceholder:"",creativeType:"",mediaUrl:"URL",callToAction:"",typeImage:"",typeVideo:"",typeCarousel:"",typeStory:"",deleteCreative:""},memoryDatabasePage:{title:"",subtitle:"AI",addMemory:"",statTotal:"",statProduct:"",statCustomer:"",statPartner:"",tabProduct:"",tabCustomer:"",tabPartner:"",productMemoryTitle:"",customerMemoryTitle:"",partnerMemoryTitle:"",filterCategory:"",allCategories:"",filterPhone:"...",searchPlaceholder:"...",noMemories:"",active:"",inactive:"",editProductMemory:"",addProductMemory:"",editCustomerMemory:"",addCustomerMemory:"",editPartnerMemory:"",addPartnerMemory:"",formDescription:"",fieldProductId:"ID",fieldProductIdPlaceholder:"ID",fieldCategory:"",fieldLanguage:"",fieldTitle:"",fieldContent:"",fieldPriority:"",fieldIsActive:"",fieldCustomerPhone:"",fieldCustomerName:"",fieldMemoryType:"",fieldSource:"",fieldImportance:"",cancel:"",save:"",viewDetail:"",createdAt:"",updatedAt:"",hasEmbedding:"",noEmbedding:"",close:"",deleteConfirmTitle:"",deleteConfirmDesc:"",confirmDelete:"",saveSuccess:"",saveError:"",deleteSuccess:"",deleteError:"",embeddingSuccess:"",embeddingError:"",strengthenSuccess:"",strengthenError:""},knowledgeBasePage:{title:"",subtitle:"AI",statTotalArticles:"",statActiveArticles:"",statTotalQa:"",statVerifiedQa:"",tabKnowledge:"",tabQa:"",searchArticles:"...",searchQa:"...",addArticle:"",addQa:"",noArticles:"",noQa:"",view:"",edit:"",delete:"",generateEmbedding:"",aiSuggestAnswer:"AI",confidence:"",createArticleTitle:"",createArticleDesc:"",editArticleTitle:"",editArticleDesc:"",fieldTitle:"",fieldContent:"",fieldCategory:"",selectCategory:"",fieldStatus:"",statusActive:"",statusInactive:"",fieldTags:"",tagsPlaceholder:"",cancel:"",create:"",save:"",close:"",confirmDelete:"",deleteArticleTitle:"",deleteArticleDesc:"",articleDetail:"",createdAt:"",updatedAt:"",sourceMemoryId:"ID",createQaTitle:"",createQaDesc:"",editQaTitle:"",editQaDesc:"",fieldQuestion:"",fieldAnswer:"",fieldSource:"",selectSource:"",fieldConfidence:"",fieldVerified:"",verified:"",unverified:"",deleteQaTitle:"",deleteQaDesc:"",qaDetail:"",qaDetailDesc:"",noAnswer:"",metadata:"",createSuccess:"",createError:"",updateSuccess:"",updateError:"",deleteSuccess:"",deleteError:"",createQaSuccess:"",createQaError:"",updateQaSuccess:"",updateQaError:"",deleteQaSuccess:"",deleteQaError:"",embeddingSuccess:"",embeddingError:"",aiSuggestSuccess:"AI",aiSuggestError:"AI",filter_all:"",filter_active:"",filter_inactive:"",qaFilter_all:"",qaFilter_verified:"",qaFilter_unverified:"",qaFilter_ai_generated:"AI",category_general:"",category_product:"",category_partner:"",category_policy:"",category_faq:"",category_promotion:"",category_order:"",category_other:"",source_manual:"",source_customer_asked:"",source_ai_generated:"AI",source_import:""},whatsappFlowsPage:{title:"WhatsApp",subtitle:"WhatsApp",newFlow:"",totalFlows:"",activeFlows:"",totalTriggered:"",conversionRate:"",flowList:"",searchPlaceholder:"...",tabAll:"",tabCompletedShort:"",noFlows:"",triggered:"",viewDetails:"",edit:"",delete:"",pause:"",activate:"",statusActive:"",statusPaused:"",statusCompleted:"",statusArchived:"",statusDraft:"",createFlow:"",editFlow:"",createFlowDesc:"WhatsApp",editFlowDesc:"",flowName:"",flowNamePlaceholder:"",description:"",descriptionPlaceholder:"...",flowType:"",flowType_acquisition:"",flowType_onboarding:"",flowType_reengagement:"",flowType_support:"",flowType_promotion:"",flowType_survey:"",triggerType:"",triggerType_keyword:"",triggerType_qr_code:"",triggerType_link:"",triggerType_ad_click:"",triggerType_manual:"",triggerType_scheduled:"",triggerValue:"",triggerValuePlaceholder:"...",steps:"",stepsHint:"JSON",targetAudience:"",targetAudienceHint:"JSON",cancel:"",save:"",create:"",flowDetails:"",status:"",createdAt:"",updatedAt:"",executionStats:"",totalExecutions:"",inProgress:"",completed:"",converted:"",close:"",confirmDeleteTitle:"",confirmDeleteDesc:"",confirmDelete:"",flowCreated:"",createFailed:"",flowUpdated:"",updateFailed:"",flowDeleted:"",deleteFailed:"",statusToggled:"",toggleFailed:"",nameRequired:"",invalidStepsJson:"JSON",invalidAudienceJson:"JSON"}},gre={title:"",subtitle:"",founderStory:"",brandValues:"",milestones:{2020:"",2022:"",2024:"",2025:" LOVEYOUNG ",2026:'""RWA',2027:"",2028:"",2030:""},community:"",mission:"",vision:"",values:{love:{title:"",description:""},natural:{title:"",description:""},quality:{title:"",description:""},global:{title:"",description:""}},quality:"",qualityDesc:"",fresh:"",freshDesc:"",care:"",careDesc:"",whatsappMessage:" LOVEYOUNG ",hero:{title:"",titleSub:"",description:"LOVEYOUNG "},foundersSection:{badge:"",title:"  ",subtitle:"",summaryTitle:"  ",summaryText:""},founders:{vivian:{subtitle:"",motto:"",story:"Vivian",insight:"",belief:"",focus:""},agnes:{subtitle:"",motto:"",story:"Agnes",insight:"",belief:"",focus:""},andrey:{subtitle:"",motto:"",story:"AndreyKOL",insight:"",belief:"",focus:""}},origin:{title:"",p1:"2020",p2:"",p3:"",p4:" LOVEYOUNG "},production:{title:"",p1:"",p2:" LoveYoung  ",p3:"",stat1:"",stat2:""},valuesSection:{subtitle:"LOVEYOUNG "},lifestyle:{title:"",subtitle:"LOVEYOUNG ",wellness:{title:"",description:""},community:{title:"",description:""},events:{title:"",description:""}},philosophy:{title:"  ",p1:'""',p2:"LOVEYOUNG ",stat1:"",stat2:"",stat3:""},milestonesSection:{title:"",subtitle:"",futurePlan:"",inProgress:""},partnerStories:{title:"",p1:"LOVEYOUNGLOVEYOUNG",p2:"",becomePartner:"",learnMore:"",alt1:" - Lisa",alt2:" - Sarah",alt3:" - Emma"},futureVision:{title:"",p1:"LOVEYOUNG ",p2:"RWA",goal1:"2027 ",goal2:"2028 ",goal3:"2030 "},communityWellness:{title:"  ",subtitle:"LOVEYOUNG ",impact:{title:"",description:"LOVEYOUNG"},wellnessLife:{title:"",description:"LOVEYOUNG"},brandEvents:{title:"",description:""}},cta:{title:"",description:" LOVEYOUNG ",viewProducts:"",whatsapp:"WhatsApp "}},xre={heroTagline:"Against The Wind",heroTitle:"",heroTitleSub:"",heroDesc:" Young Love ()  Love Young ()",heroDescSub:"",heroOrderBtn:"",cnyGiftBox:" ",heroPartnerBtn:"",whatsappMessage:"LOVEYOUNG",brandTitle:"",brandTitleSub:"",brandQuote:"",brandP1:"Love Young ",brandP2:"Young LoveLove Young",brandP3:" RM488 ",brandSelfHealing:"",brandAwakening:"",brandQuality:"",brandCommunity:"",productsTitle:"",productsSubtitle:"612",product1Name:"",product1Desc:"6",product2Name:"",product2Desc:"6",product3Name:"",product3Desc:"6",viewAllProducts:"",viewAllBundles:"",noProducts:"",orderNow:"",rwaTitle:"RWA ",rwaSubtitle:"",rwaDesc:"",rwaFeature1:"",rwaFeature1Desc:"",rwaFeature2:"",rwaFeature2Desc:"",rwaFeature3:"",rwaFeature3Desc:"",rwaFeature4:"",rwaFeature4Desc:" +  + ",rwaLearnMore:"",rwaJoinNow:"",ctaTitle:"",ctaTitleSub:"",ctaDesc:"Love Young ",ctaOrderBtn:"WhatsApp ",ctaShopBtn:" Meta ",productCard1Name:"",productCard1Desc:"6",productCard2Name:"",productCard2Desc:"120",productCard2PriceFrom:"",productCard3Name:"",productCard3Desc:"//",bookNow:"",viewFlavors:"",comingSoon:"",partnerSectionTitle:"RWA ",partnerSectionSubtitle:"",phase1Title:"Phase 1: RM 1,000",phase1Desc:" 2,000 LY ",phase1Feature1:"50% 5",phase1Feature2:"30% ",phase1Feature3:"",phase2Title:"Phase 2: RM 1,300",phase2Desc:"",phase2Feature1:"1.2x ",phase2Feature2:"VIP",phase2Feature3:"",phase3Title:"Phase 3: RM 1,500",phase3Desc:"",phase3Feature1:"",phase3Feature2:"",phase3Feature3:"",joinNow:"",limitedApply:"",learnMore:"",hotSelling:"",only50Slots:"50",waitingToOpen:"",revenueLogicTitle:"",revenueLogicDesc:"Love Young  LY (Energy) ",salesCashback:" (Cashback)",globalPool:" (Pool)",salesPercentage:" 30%",dividendCycle:"",every10Days:" 10 ",lyNetworkTitle:"10",tier1Direct:"1",tier2:"2",tier3to5:"3-5",tier6to10:"6-10",totalReferral:"LY",lyNetworkNote:"* LY ",dashboardTitle:"",dashboardDesc:"RWA  10 ",dashboardCta:"",dashboardBrandName:"Love Young Dashboard",dashboardSubtitle:"",lyEnergy:"LY ",phase1Bonus:"Phase 1 ",thisWeek:"",totalEarnings:"",startEarning:"",perCycle:"",thisMonth:"",teamMembers:"",networkLevels:"10",tenLevelNetwork:"10",currentPoolCycle:"",daysRemaining:" {days} ",accumulated:"",estimatedDividend:"",ctaSectionTitle:"",ctaSectionDesc:"Love Young "},yre={whatsappMessage:" LOVEYOUNG ",orderMessage:" {productName}",hero:{title:"  ",description:"",shopNow:"",whatsappConsult:"WhatsApp "},categories:{all:"",birdNest:"",fishMaw:"",giftBox:""},badges:{hot:"",new:"",save:""},units:{box:"",set:""},items:{bnClassic:{name:"",subtitle:"6",feature1:"",feature2:"",feature3:""},bnPremium:{name:"",subtitle:"6",feature1:"",feature2:"",feature3:""},fmCollagen:{name:"",subtitle:"6",feature1:"",feature2:"",feature3:""},fmMilk:{name:"",subtitle:"6",feature1:"",feature2:"",feature3:""},giftLuxury:{name:"",subtitle:"+",feature1:"3",feature2:"3",feature3:""},giftWellness:{name:"",subtitle:"",feature1:"41",feature2:"",feature3:""}},benefits:{natural:{title:"100% ",description:""},quality:{title:"",description:""},coldChain:{title:"",description:""},packaging:{title:"",description:""}},quality:{title:"  ",description:"",imageAlt:"",traceability:{title:"",description:""},craftsmanship:{title:"",description:""},inspection:{title:"",description:""}},cta:{title:"",description:"LOVEYOUNG ",goToShop:"",consultWellness:""}},vre={successTitle:"",successDesc:"",processing:"...",viewOrder:"",continueShopping:"",backToHome:""},bre={title:"LOVE YOUNG ",greeting:"LOVE YOUNG  ",loginRequired:"",login:"",register:"",placeholder:"...",send:"",thinking:"...",categories:{brand:"",founders:"",products:"",orders:"",partner:""},categoryQuestions:{brand:"LOVE YOUNG",founders:"",products:"",orders:"",partner:""},topics:{brandIntro:"",brandValues:"",vivian:"Vivian",agnes:"Agnes",andrey:"Andrey",recommend:"",giftBox:"",price:"",howToOrder:"",shipping:"",refund:"",intro:"",cashback:"",rwa:"RWA",lyPoints:"LY",network:"",referral:""},topicQuestions:{brandIntro:"LOVE YOUNG",brandValues:"LOVE YOUNG",vivian:"Vivian",agnes:"Agnes",andrey:"Andrey",recommend:"",giftBox:"",price:"",howToOrder:"",shipping:"",refund:"",intro:"",cashback:"",rwa:"RWA",lyPoints:"LY",network:"",referral:""},backToTopics:"",feedback:{helpful:"",notHelpful:""},recommendProducts:"",recommendPackages:"",viewProduct:"",orderNow:"",joinNow:"",error:"",referralLabel:"",transferHuman:"",restart:"",whatsappLabel:"WhatsApp "},wre={auth:Qne,common:Xne,nav:Zne,header:ere,hero:tre,stats:are,products:nre,innovation:rre,order:sre,testimonials:ire,cta:ore,footer:lre,flavors:cre,packages:dre,target:ure,states:mre,member:hre,partner:pre,admin:fre,brand:gre,landing:xre,productsPage:yre,checkout:vre,chatbot:bre},jre={login:"Login",signup:"Sign Up",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",firstName:"First Name",lastName:"Last Name",welcomeBack:"Login / Sign Up",or:"or",continueWithGoogle:"Continue with Google",loginSuccess:"Login successful",loginFailed:"Login failed",signupSuccess:"Sign up successful",signupFailed:"Sign up failed",checkEmail:"Please check your email to verify your account",passwordMismatch:"Passwords do not match",forgotPassword:"Forgot password?",resetPassword:"Reset Password",noAccount:"Don't have an account?",hasAccount:"Already have an account?",sendOTP:"Send Verification Code",enterOTP:"Enter Verification Code",verifyOTP:"Verify",otpSent:"Verification code sent",otpResent:"Verification code resent",checkEmailForOTP:"Check your email for a 6-digit code",otpSentTo:"Verification code sent to",sendOTPFailed:"Failed to send verification code",verifyOTPFailed:"Verification failed",resendOTP:"Resend Code",changeEmail:"Change Email",completeProfile:"Complete Your Profile",newUserWelcome:"Welcome to LOVEYOUNG! Please fill in your information",phone:"Phone Number",fillRequired:"Please fill in required fields",profileSaved:"Profile saved successfully",profileSaveFailed:"Failed to save profile",saveAndContinue:"Save and Continue"},Nre={loading:"Loading...",error:"Error occurred",retry:"Retry",save:"Save",cancel:"Cancel",confirm:"Confirm",delete:"Delete",edit:"Edit",add:"Add",search:"Search",filter:"Filter",all:"All",back:"Back",next:"Next",submit:"Submit",close:"Close",view:"View",details:"Details",status:"Status",actions:"Actions",total:"Total",date:"Date",time:"Time",name:"Name",phone:"Phone",email:"Email",address:"Address",price:"Price",quantity:"Quantity",amount:"Amount",none:"None",yes:"Yes",no:"No",viewDetails:"View Details",whatsappConsult:"WhatsApp Inquiry"},kre={products:"Products",benefits:"Benefits",howToOrder:"How to Order",testimonials:"Reviews",partner:"Be a Partner",brand:"Brand Story",member:"Member Center",memberCenter:"Member Center",home:"Home",admin:"Admin Panel"},Pre={whatsapp:"WhatsApp",shop:"Shop Now",login:"Login",account:"My Account",logout:"Logout"},_re={fresh:"Fresh",noCompromise:"No Compromise",subtitle:"LOVEYOUNG Bird's Nest & Fish Maw  Daily Fresh",description:"No preservatives, no overnight products. We insist on same-day cooking and cold chain delivery for the freshest nourishing experience.",orderNow:"Order Now",exploreFlavors:"Explore Flavors",repeatCustomers:"Repeat Customers",nextBatch:"Next Fresh Batch",giftBox:"Bird's Nest Gift Box",giftBoxDesc:"6 Jars  120g each",original:"Original",redDate:"Red Date",fishMaw:"Fish Maw",giftPrice:"Gift Box Price",perBox:"/box",whatsappOrder:"WhatsApp Order",bestseller:"Best Seller"},Sre={customers:"Happy Customers",flavors:"Flavor Choices",freshCycle:"Fresh Cycle",rating:"Satisfaction",whyTrust:"Why Choose Us",customersLabel:"Loyal Customers",customersSub:"Trust through quality",flavorsLabel:"Curated Flavors",flavorsSub:"Something for everyone",freshLabel:"Express Fresh",freshSub:"Cook to delivery",ratingLabel:"Rave Reviews",ratingSub:"Real customer feedback"},Cre={discovery:"Flavor Discovery",explore:"Explore",flavors:"8 Flavors",viewAll:"View All",birdNest:"Bird's Nest Series",fishMaw:"Fish Maw Series",giftBox:"Gift Box Series",allProducts:"All Products",orderNow:"Order Now",addToCart:"Add to Cart",outOfStock:"Out of Stock"},Are={whyDifferent:"Why Different",title:"Innovation",subtitle:"Beyond Limits",description:"We redefine fresh-stewed bird's nest with technology and craftsmanship",science:"Scientific Formula",scienceSub:"Lab-Tested",scienceDesc:"Precisely calculated portions for optimal nutritional balance",scienceStat:"Nutrition Retained",coldChain:"Cold Chain Fresh",coldChainSub:"Cold Chain",coldChainDesc:"Full 4C cold chain from cooking to delivery",coldChainStat:"Constant Temp",freshDaily:"Daily Fresh",freshDailySub:"Fresh Daily",freshDailyDesc:"Made fresh daily, never overnight",freshDailyStat:"Cooking Cycle",fullPortion:"Full Portion",fullPortionSub:"Full Portion",fullPortionDesc:"No shortcuts, every jar is packed with real ingredients",fullPortionStat:"Net Content"},Tre={title:"Three Steps,",subtitle:"Fresh to Your Door",step1:"WhatsApp Inquiry",step1Desc:"One-click contact, dedicated consultant online",step2:"Choose Flavors",step2Desc:"8 classic flavors to choose from",step3:"Cold Chain Delivery",step3Desc:"Professional cold chain, fresh to your door",whatsappOrder:"WhatsApp Order",metaShop:"Meta Shop",selectPackage:"Select Package",selectPackageDesc:"Choose your preferred package",selectFlavors:"Select Flavors",selectFlavorsDesc:"Choose your favorite flavor combinations",confirmOrder:"Confirm Order",confirmOrderDesc:"Please confirm your order details",remaining:"Remaining",birdNestFlavors:"Bird's Nest Flavors",fishMawFlavors:"Fish Maw Flavors",orderSummary:"Order Summary",packageLabel:"Package",priceLabel:"Price",flavorSelection:"Flavor Selection",selectOrderMethod:"Select order method",back:"Back",next:"Next",moreNeeded:"more needed",jarsUnit:" jars",greeting:"Hello, I would like to order LOVEYOUNG Bird's Nest:",confirmRequest:"Please confirm my order, thank you!",startOrder:"Start Order",deliveryInfo:"Delivery Info",deliveryInfoDesc:"Please fill in your delivery address and contact details",customerName:"Name",phone:"Phone Number",address:"Address",city:"City",state:"State",postcode:"Postcode",deliveryDate:"Preferred Delivery Date (Optional)",submitOrder:"Submit Order",orderSuccess:"Order Submitted!",yourOrderNumber:"Your Order Number",trackOrder:"Track Order",orderSubmitting:"Submitting...",orderConfirmed:"Order Confirmed",orderConfirmedDesc:"We have received your order and will contact you shortly.",continueOrdering:"Continue Ordering",viewOrder:"View Order",selectState:"Select State",required:"Required",optional:"Optional",loginForSavedAddress:"Login to use saved addresses",loginBenefit:"Members can quickly fill addresses and earn points",loginOrRegister:"Login / Register",continueAsGuest:"Continue as guest",selectSavedAddress:"Select saved address",useNewAddress:"Use new address",backToSavedAddresses:"Back to saved addresses",saveAddressToProfile:"Save address to my account",payment:"Payment",paymentDesc:"Complete your payment to confirm the order",proceedToPayment:"Proceed to Payment",totalAmount:"Total Amount",payOnline:"Pay Online (Stripe)",processing:"Processing...",paymentMethods:"Supports Credit Card, FPX, GrabPay",needHelp:"Need help?",referralCode:"Referral Code (Optional)",referralCodeValid:"Valid referral code",referralCodeInvalid:"Enter a valid referral code",memberDiscount:"Member discount applied"},Ere={realReviews:"Real Reviews",title:"Customer",subtitle:"Reviews",rating:"Rating",repeatCustomer:"Repeat Buyer"},Ore={title:"Start Your",subtitle:"Fresh Journey",description:"Order now for exclusive new customer offers. Limited daily supply, first come first served!",whatsappOrder:"WhatsApp Order Now",metaShop:"Visit Meta Shop",hours:"Hours: 9:00AM-9:00PM",reply:"Reply within 24h"},Dre={tagline:"Fresh, No Compromise",description:"Sailing Against The Wind, Redefining Women's Power. From Young Love to Love Young, we believe in loving yourself first to better love the world.",brandName:"Love Young",quickLinks:"Quick Links",contactUs:"Contact Us",businessHours:"Business Hours",hoursValue:"Mon-Sun 9:00AM-9:00PM",clickToChat:"Click to Chat",responseTime:"Response within 24 hours",allRightsReserved:"All Rights Reserved",slogan:"Against The Wind | Sailing Forward",products:"Products",birdNest:"Bird's Nest Series",fishMaw:"Fish Maw Series",dessert:"Dessert Sets",service:"Support",faq:"FAQ",shipping:"Shipping Info",contact:"Contact Us",followUs:"Follow Us",copyright:"All Rights Reserved"},Mre={original:"Original",redDate:"Red Date Goji",snowPear:"Rock Sugar Pear",peachGum:"Peach Gum",coconut:"Coconut",mango:"Mango",fishMawOriginal:"Fish Maw Original",fishMawRedDate:"Fish Maw Red Date",modalTitle:"Flavor Guide",recommended:"Recommended Pairings",targetAudience:"Suitable For",originalDesc:"Pure bird's nest essence, gentle nourishment for daily care",redDateDesc:"Red date goji formula, blood nourishing, women's favorite",snowPearDesc:"Rock sugar pear stewed, soothing & cooling, great for all ages",peachGumDesc:"Peach gum & snow fungus blend, collagen rich, beauty food",coconutDesc:"Sweet coconut milk pairing, silky smooth, refreshing",mangoDesc:"Fresh mango chunks, tropical flavor, appetizing delight",fishMawOriginalDesc:"Generous fish maw, collagen rich, beauty nourishment",fishMawRedDateDesc:"Fish maw with red date, double nourishment, warming care"},Rre={title:"Choose Your",subtitle:"Package",oneBox:"One Box Package",oneBoxDesc:"7 Jars  One Week Supply",oneBoxInfo:"Refrigerated up to 14 days",oneBoxPrice:"RM158",twoBox:"Two Box Package",twoBoxDesc:"14 Jars  Two Week Supply",twoBoxInfo:"Better Value  Refrigerated up to 14 days",twoBoxPrice:"RM298",twoBoxSave:"Save RM18",chooseFlavor:"Choose Flavors",preOrder:"Pre-order Fresh",popular:"Popular",bestValue:"Best Value",perJar:"/jar"},Ire={pregnant:"Pregnancy",pregnantDesc:"Prenatal nourishment, fetal development",pregnantFlavors:"Original, Red Date Goji, Fish Maw Original",children:"Children",childrenDesc:"Strengthen constitution, promote growth",childrenFlavors:"Mango, Coconut, Rock Sugar Pear",beauty:"Beauty Lovers",beautyDesc:"Beauty care, light meal replacement",beautyFlavors:"Peach Gum, Fish Maw Original, Original",health:"Health Care",healthDesc:"Daily wellness, boost immunity",healthFlavors:"Red Date Goji, Rock Sugar Pear, Fish Maw Red Date"},Lre={johor:"Johor",kedah:"Kedah",kelantan:"Kelantan",melaka:"Melaka",negeriSembilan:"Negeri Sembilan",pahang:"Pahang",penang:"Penang",perak:"Perak",perlis:"Perlis",sabah:"Sabah",sarawak:"Sarawak",selangor:"Selangor",terengganu:"Terengganu",kualaLumpur:"Kuala Lumpur",labuan:"Labuan",putrajaya:"Putrajaya"},$re={logout:"Logout",center:{loading:"Loading...",loginTitle:"Please Login",loginDesc:"Login to access Member Center",loginButton:"Login / Register",logout:"Logout",user:"User",defaultUser:"User",version:"LOVE YOUNG v1.0",backToCenter:"Back to Member Center",memberBadge:"Member",sections:{account:{title:"Account"},member:{title:"Member Services"},partner:{title:"Partner Center",dashboard:"Overview"},adminCore:{title:"Admin Panel"},erp:{title:"ERP System"}},sectionDesc:{account:"Manage your account settings and preferences",member:"View orders, manage addresses and points",partner:"Business data, team management and withdrawals",adminCore:"Platform core management features",erp:"Supply chain and financial management"},menuItems:{personalCenter:"Personal Center",personalCenterDesc:"View account overview",accountSettings:"Account Settings",accountSettingsDesc:"Edit personal information",notifications:"Notifications",notificationsDesc:"System messages and reminders",helpCenter:"Help Center",helpCenterDesc:"Frequently asked questions",orderHistory:"Order History",orderHistoryDesc:"View past orders",addresses:"Addresses",addressesDesc:"Manage shipping addresses",pointsCenter:"Points Center",pointsCenterDesc:"View points balance and redeem",paymentMethods:"Payment Methods",paymentMethodsDesc:"Manage payment methods",overview:"Overview",overviewDesc:"View business data and performance",referralNetwork:"Referral Network",referralNetworkDesc:"My team and downline members",promoMaterials:"Promo Materials",promoMaterialsDesc:"Get sharing materials",lyPoints:"LY Points",lyPointsDesc:"Points details and usage history",cashWallet:"Cash Wallet",cashWalletDesc:"View earnings and withdrawal",rwaPool:"RWA Bonus Pool",rwaPoolDesc:"View dividend cycles and tokens",earningsHistory:"Earnings History",earningsHistoryDesc:"Cashback and dividend history",dashboard:"Dashboard",dashboardDesc:"Real-time business analytics",partnerManagement:"Partner Management",partnerManagementDesc:"Review and manage partners",orderManagement:"Order Management",orderManagementDesc:"Process and track orders",productManagement:"Product Management",productManagementDesc:"Manage product catalog",memberManagement:"Member Management",memberManagementDesc:"View and manage all members",bonusPool:"Bonus Pool",bonusPoolDesc:"RWA dividend cycle settings",inventory:"Inventory",inventoryDesc:"Stock query and adjustment",purchase:"Purchase",purchaseDesc:"Purchase orders and suppliers",logistics:"Logistics",logisticsDesc:"Cold chain logistics and delivery",bills:"Bills",billsDesc:"Expenses and bill records",finance:"Finance",financeDesc:"Revenue and expense reports"},quickStats:{lyPoints:"LY Points",cashBalance:"Cash Balance",rwaTokens:"RWA Tokens",totalSales:"Total Sales",activePartners:"Active Partners",monthlyOrders:"Monthly Orders",monthlySales:"Monthly Sales",bonusPoolBalance:"Pool Balance"},userStates:{user:"User",member:"Member",partner:"Partner",admin:"Admin"},badges:{pendingActivation:"Pending"},upgradePrompt:"Please make your first purchase to become a member and unlock this feature",goShopping:"Go Shopping"},orders:{title:"Order History",subtitle:"View your past orders",tabAll:"All",tabPending:"Pending",tabShipped:"Shipped",tabDelivered:"Completed",tabCancelled:"Cancelled",noOrders:"No orders",goShop:"Go Shopping",viewDetails:"View Details",totalItems:"{count} items total",total:"Total",statusPending:"Pending",statusPaid:"Paid",statusProcessing:"Processing",statusShipped:"Shipped",statusDelivered:"Completed",statusCancelled:"Cancelled",statusUnknown:"Unknown",orderInfo:"Order Info",orderNumber:"Order Number",orderDate:"Order Date",shippingAddress:"Shipping Address",trackingInfo:"Tracking Info",contactAboutOrder:"Contact About Order",paymentStatus:"Payment Status",statusConfirmed:"Confirmed",statusPendingPayment:"Pending Payment",timelineOrdered:"Ordered",timelinePreparing:"Preparing",timelineShipping:"Shipping",timelineCompleted:"Completed"},points:{title:"Points Center",subtitle:"View points balance and redeem",currentPoints:"Current Points",earnedThisMonth:"Earned This Month",expiringSoon:"Expiring Soon",tierProgress:"Membership Tier Progress",tierProgressDesc:"{points} points needed for {nextTier}",points:"points",redeem:"Redeem Points",redeemRate:"100 points = RM1",redeemNow:"Redeem Now",earnPoints:"Earn Points",earnRate:"Earn 1 point per RM1 spent",goShop:"Go Shopping",history:"Points History",tabAll:"All",tabEarn:"Earned",tabSpend:"Spent",balance:"Balance",rulesTitle:"Points Rules",rule1:"Earn 1 point for every RM1 spent",rule2:"100 points can be redeemed for RM1",rule3:"Points are valid for 12 months after earning",rule4:"Points are non-transferable"},settings:{title:"Account Settings",subtitle:"Manage your personal info and preferences",personalInfo:"Personal Information",personalInfoDesc:"Update your profile and contact details",changeAvatar:"Change Avatar",name:"Name",phone:"Phone Number",email:"Email",emailNote:"Email linked to Replit account, cannot be changed",security:"Security Settings",securityDesc:"Protect your account",loginMethod:"Login Method",loginMethodDesc:"Login via Replit account",manage:"Manage",notifications:"Notification Preferences",notificationsDesc:"Manage your notification settings",orderNotify:"Order Updates",orderNotifyDesc:"Receive notifications when order status changes",promoNotify:"Promotions",promoNotifyDesc:"Receive offers and promotions",earningNotify:"Earnings Alerts",earningNotifyDesc:"Receive notifications when dividends arrive",display:"Display Preferences",darkMode:"Dark Mode",darkModeDesc:"Follow system settings",saveChanges:"Save Changes"},help:{title:"Help Center",subtitle:"FAQ and customer support",searchPlaceholder:"Search questions...",faq:"Frequently Asked Questions",noResults:"No matching questions found",contactUs:"Contact Us",whatsapp:"WhatsApp",onlineConsult:"Online Consultation",phoneSupport:"Phone Support",emailSupport:"Email Support",serviceHours:"Service hours: Monday-Saturday 9:00-18:00 (excluding public holidays)",categories:{order:"Orders",shipping:"Shipping",payment:"Payment",refund:"Returns",points:"Points",partner:"Partner"},faqItems:{order1:{q:"How do I place an order?",a:'Select products on the product page and click "Buy Now" to contact our WhatsApp customer service to complete your order.'},order2:{q:"How can I check my order status?",a:'Log in and go to the Member Center, where you can view all order statuses and shipping information in "My Orders".'},shipping1:{q:"What areas do you deliver to?",a:"We currently deliver throughout Malaysia, including East and West Malaysia. For Singapore and other international deliveries, please contact customer service."},shipping2:{q:"How long does delivery take?",a:"West Malaysia typically takes 3-5 business days, East Malaysia 5-7 business days. Delays may occur during holidays."},payment1:{q:"What payment methods are supported?",a:"We support FPX online banking, Touch n Go e-wallet, credit/debit cards, and other payment methods."},payment2:{q:"Is payment secure?",a:"Yes, all payments are processed through encrypted channels, and your payment information is strictly protected."},refund1:{q:"Can I return or exchange items?",a:"Due to the nature of food products, returns are not generally accepted. For quality issues, please contact customer service within 24 hours of receiving your order."},refund2:{q:"How long does a refund take?",a:"After verification, refunds will be returned to your payment account within 3-7 business days."},points1:{q:"How do I earn points?",a:"Earn points by purchasing products, referring new users, and participating in promotional activities."},points2:{q:"What can I use points for?",a:"Points can be used to redeem coupons, offset order amounts, or exchange for exclusive gifts."},partner1:{q:"How do I become a partner?",a:'Click the "Join Now" button on the Partner page, select a package, and complete the payment to apply.'},partner2:{q:"What benefits do partners get?",a:"Partners enjoy LY point rewards, RWA token dividends, referral commissions, and 10-level network earnings."}}},notifications:{title:"Notifications",unreadCount:"You have {count} unread messages",noUnread:"No unread messages",markAllRead:"Mark all read",tabs:{all:"All",unread:"Unread",order:"Orders",earning:"Earnings",promo:"Promos"},noMessages:"No messages",new:"New"},addresses:{title:"Address Management",subtitle:"Manage your shipping addresses",addAddress:"Add Address",addAddressTitle:"Add Shipping Address",noAddresses:"You haven't added any addresses",addFirst:"Add your first address",defaultBadge:"Default",setDefault:"Set as default",edit:"Edit",delete:"Delete",cancel:"Cancel",save:"Save Address",form:{name:"Recipient Name",namePlaceholder:"Enter name",phone:"Phone Number",address:"Address Details",addressPlaceholder:"Street, unit number, floor, etc.",city:"City",postcode:"Postcode",state:"State"}},payment:{title:"Payment Methods",subtitle:"Manage your payment methods",securityTitle:"Payment Security",securityDesc:"All payment information is encrypted to ensure your funds are safe. We support multiple Malaysian local payment methods.",boundMethods:"Linked Payment Methods",methodCount:"You have {count} payment methods added",add:"Add",addTitle:"Add Payment Method",bankAccount:"Bank Account",ewallet:"E-Wallet",bankName:"Bank Name",bankNamePlaceholder:"Select bank",accountNumber:"Account Number",accountNumberPlaceholder:"Enter account number",cancel:"Cancel",save:"Save",noMethods:"No payment methods added",default:"Default",setDefault:"Set as default",thirdParty:"Third-Party Payments",thirdPartyDesc:"Order and pay through social media shops",creditCardSupport:"Credit card supported",supportedMethods:"Supported Payment Methods",supportedList:{bank:"Bank Transfer (FPX) - Maybank, CIMB, Public Bank, etc.",ewallet:"E-Wallets - Touch n Go, GrabPay, Boost",card:"Credit/Debit Cards - via Meta Shop"}},partnerDashboard:{title:"Business Overview",subtitle:"View your business data and performance",currentTier:"Current Tier",partnerBadge:"Partner",tiers:{phase1:"Phase 1",phase2:"Phase 2",phase3:"Phase 3"},myReferralCode:"My Referral Code",lyPoints:"LY Points",lyBalance:"Available balance",cashWallet:"Cash Wallet",cashBalance:"Withdrawable balance",rwaToken:"RWA Token",rwaBalance:"Total tokens held",referralNetwork:"Referral Network",activeMembers:"{count} active members",monthlyEarnings:"Monthly Earnings",earningsDesc:"Cashback and RWA bonus income",totalEarnings:"Total Earnings",lastMonthEarnings:"Last Month",rwaCycle:"RWA Bonus Pool Cycle",cycleDesc:"Cycle {cycle} dividend progress",cycleProgress:"Cycle Progress",nextPayoutDate:"Next Payout Date",viewDetails:"View Details",quickActions:"Quick Actions",promoMaterials:"Promo Materials",inviteFriends:"Invite Friends",withdraw:"Withdraw",upgradePlan:"Upgrade Plan",cashbackProgress:"Cashback Progress",cashbackProgressDesc:"Current package cashback rate and progress tracking",boxesProcessed:"Boxes Processed",currentRate50:"Currently enjoying 50% cashback rate (first 5 boxes/package)",currentRate30:"Currently at 30% cashback rate",blockedCashback:"{count} cashback(s) blocked due to insufficient LY"},partnerJoin:{title:"Become a Partner",loginRequired:"Please login to apply as a partner",exclusiveBenefits:"Exclusive Partner Benefits",maxLyPoints:"Up to 3000 LY Points",rwaDividend:"RWA Token Dividends",tenLevelNetwork:"10-Level Referral Network",loginToJoin:"Login to Apply",learnMore:"Learn More",alreadyPartner:"You are already a Partner",accountActive:"Your partner account is active",pendingReview:"Your application is under review",activated:"Activated",pending:"Pending",goToDashboard:"Go to Partner Dashboard",applicationSuccess:"Application Submitted!",congratsMessage:"Congratulations on submitting your partner application",reviewProcess:"We will complete the review within 1-2 business days",ensurePayment:"Please ensure your payment is completed",backToMember:"Back to Member Center",backToHome:"Back to Home",joinPartner:"Join as Partner",stepProfile:"Step 1/3",step1:"Step 2/3",step2:"Step 3/3",completeProfile:"Complete Your Profile",profileDesc:"Please fill in your basic information before becoming a partner",namePlaceholder:"Enter your name",continueToPackage:"Continue to Package",selectPackage:"Select Package",selectPackageDesc:"Choose the package that suits your needs",mostPopular:"Most Popular",referralCodeLabel:"Referral Code",referralCodePlaceholder:"Enter referrer's code",nextStep:"Next",backToPackage:"Back to Packages",orderConfirm:"Order Confirmation",package:"Package",amountToPay:"Amount to Pay",selectPayment:"Select Payment Method",securityGuarantee:"Security Guarantee",encryptedTransaction:"SSL Encrypted Secure Transaction",activationTime:"Account activated within 24 hours",support24h:"24/7 Customer Support",paymentNote:"Please keep your payment receipt. Contact support if you have any questions.",confirmPay:"Confirm Payment",applicationSubmitted:"Application Submitted",applicationDesc:"We will process your application soon",applicationFailed:"Application Failed",packages:{phase1:{name:"Starter Package",feature1:"2000 LY Points",feature2:"2 RWA Tokens",feature3:"10-Level Network",feature4:"Basic Training Materials"},phase2:{name:"Growth Package",feature1:"2600 LY Points",feature2:"3 RWA Tokens",feature3:"10-Level Network",feature4:"Advanced Training Materials"},phase3:{name:"Elite Package",feature1:"3000 LY Points",feature2:"4 RWA Tokens",feature3:"10-Level Network",feature4:"Complete Training Materials",feature5:"Priority Support"}},paymentMethods:{fpx:"FPX Online Banking",tng:"Touch n Go",card:"Credit/Debit Card"}},earnings:{title:"Earnings History",subtitle:"View cashback and RWA dividend history",totalEarnings:"Total Earnings",vsLastMonth:"vs last month",thisMonth:"This Month",lastMonth:"Last Month",thisMonthEarnings:"This Month",lastMonthEarnings:"Last Month",cashback:"Cashback",rwaDividend:"RWA Dividend",referralReward:"Referral Reward",tabs:{all:"All",cashback:"Cashback",rwa:"RWA",referral:"Referral"},history:"Earnings History",historyDesc:"View all earnings source records",income:"Income",noRecords:"No earnings records yet",noRecordsForType:"No records for this type",filter:"Filter",export:"Export"},wallet:{title:"Cash Wallet",subtitle:"View earnings and apply for withdrawal",availableBalance:"Available Balance",pendingWithdraw:"Pending Withdrawal",applyWithdraw:"Withdraw",withdrawTitle:"Apply for Withdrawal",withdrawDesc:"Withdrawal will be processed within 1-3 business days",withdrawAmount:"Amount (RM)",withdrawPlaceholder:"Enter withdrawal amount",availableBalanceLabel:"Available Balance",selectBank:"Select Bank",selectBankPlaceholder:"Choose bank",cancel:"Cancel",confirmWithdraw:"Confirm Withdrawal",quickStats:"Quick Stats",totalIncome:"Total Income",totalWithdrawn:"Total Withdrawn",thisMonthIncome:"This Month",transactions:"Transactions",income:"Income",withdraw:"Withdrawal",status:{completed:"Completed",pending:"Processing",failed:"Failed"},transactionsDesc:"View all wallet transaction details",exportRecords:"Export Records",noTransactions:"No transactions yet",bankAccount:"Bank Account",bankAccountDesc:"Manage your bank accounts for commission withdrawals",noBankAccount:"No bank account linked",contactForBank:"Add a bank account to withdraw commissions",addBankAccount:"+ Add Bank Account",bindBankFirst:"Please link a bank account first",contactToAdd:"Click below to add",editBank:"Edit",deleteBank:"Delete",setDefault:"Set Default",defaultBadge:"Default",bankName:"Bank Name",accountNumber:"Account Number",accountName:"Account Holder Name",bankNamePlaceholder:"e.g. Maybank, CIMB, Public Bank",accountNumberPlaceholder:"Enter bank account number",accountNamePlaceholder:"Enter account holder name",saveBankAccount:"Save Account",bankSaved:"Bank account saved",bankDeleted:"Bank account deleted",bankUpdated:"Bank account updated",confirmDeleteBank:"Confirm delete this bank account?",selectBankForWithdraw:"Select bank account",minWithdrawNote:"Minimum withdrawal RM 50.00, RM 1.00 processing fee per withdrawal",invalidAmount:"Invalid amount",minAmountMsg:"Minimum withdrawal is RM 50.00",insufficientBalance:"Insufficient balance",exceedsBalanceMsg:"Withdrawal exceeds available balance",withdrawSuccess:"Withdrawal request submitted",withdrawSuccessDesc:"Expected to process within 1-3 business days",withdrawFailed:"Withdrawal failed"},referrals:{title:"Referral Network",subtitle:"View your team members and downline network",totalReferrals:"Total Referrals",activeMembers:"Active Members",directReferrals:"Direct Referrals",totalLyEarned:"Total LY Earned",searchPlaceholder:"Search member name...",filterLevel:"Filter Level",allLevels:"All Levels",level:"Level {n}",teamMembers:"Team Members",memberCount:"{count} members",joinDate:"Join Date",lyEarned:"LY Earned",pendingActivation:"Pending",inviteFriends:"Invite Friends",shareCode:"Share Referral Code",noMembers:"No team members yet",noMatchingMembers:"No matching members",teamList:"Team Members",teamListDesc:"10-level referral network",allFilter:"All",teamTotalLy:"Team Total LY",joinTime:"Joined",lyBalanceLabel:"LY Balance",inviteTitle:"Invite More Friends",inviteDesc:"Earn LY points for every partner you refer",inviteNow:"Invite Now",tierPhase1:"Starter Package",tierPhase2:"Growth Package",tierPhase3:"Elite Package"},lyPoints:{title:"LY Points",subtitle:"View points history and usage",currentBalance:"Current LY Points Balance",redeemGift:"Redeem Gifts",usePoints:"Use Points",totalEarned:"Total Earned",totalSpent:"Total Spent",thisMonthEarned:"This Month",fromReferrals:"Referral Rewards",fromReplenishment:"Replenishment Rewards",tabs:{all:"All Records",earn:"Earned",spend:"Spent"},history:"Points History",balance:"Balance",networkRules:"Network Points Rules",networkRulesDesc:"LY points are earned through 10-level referral network",tier1:"Tier 1: 20%",tier2:"Tier 2: 15%",tier3to5:"Tiers 3-5: 10% each",tier6to10:"Tiers 6-10: 5% each",historyDesc:"View all LY points transaction records",noRecords:"No points records yet",rulesTitle:"LY Points Rules",ruleEarn1:"Earn LY points with package purchases",ruleEarn2:"Earn rewards for referring new partners",ruleEarn3:"Earn 10-level network points from team replenishment",ruleUse1:"Redeem for gifts or coupons",ruleUse2:"Offset order amounts",ruleNote:"Points expire 12 months after earning",filter:"Filter",export:"Export",earnBadge:"Earn",useBadge:"Use",noteBadge:"Note"},materials:{title:"Marketing Materials",subtitle:"Get sharing materials to boost your promotion",myQrCode:"My Referral QR Code",qrCodeDesc:"Scan to join your referral network directly",downloadQr:"Download QR",shareLink:"Share Link",tabs:{images:"Images",documents:"Documents",videos:"Videos"},download:"Download",copyLink:"Copy Link",copied:"Copied",size:"Size",fileType:"Type",fileSize:"Size",duration:"Duration",notMember:"Not a Member Yet",notMemberDesc:"Complete your first purchase to become a member and unlock promotional materials",goShopping:"Go Shopping",myReferralLink:"My Referral Link",referralCodeLabel:"Referral Code",copyReferralCode:"Copy Code",shareWhatsApp:"Share to WhatsApp",referralLinkLabel:"Referral Link",share:"Share",preview:"Preview",play:"Play",socialShare:"Quick Social Sharing",socialShareDesc:"Share to major social platforms with one click",copyFailed:"Copy failed",copiedToClipboard:"Copied to clipboard",productPoster:"Product Poster - Bird's Nest",brandStory:"Brand Story",recruitPoster:"Partner Recruitment Poster",holidayPromo:"Holiday Promo Materials",productManual:"Product Manual PDF",trainingMaterial:"Partner Training Guide",faqDocument:"FAQ Document",brandPpt:"Brand Presentation PPT",brandVideo:"Brand Video",productProcess:"Product Making Process",successStory:"Partner Success Story",shareText:"Love Young Premium Bird's Nest - Your Choice for Quality Living! Use my referral code {code} to register and enjoy exclusive member benefits!",itemShareText:"Check this out: {title}! Use my referral code {code} to register and get exclusive offers!"},rwa:{title:"RWA Bonus Pool",subtitle:"View dividend cycles and token holdings",myTokens:"My RWA Tokens",tokenUnit:"tokens",activeHolding:"Active Holding",totalDividends:"Total Dividends",currentEstimate:"Current Estimate",avgPerToken:"Avg per Token",currentCycle:"Current Cycle",cycle:"Cycle {n}",cycleProgress:"Cycle Progress",daysRemaining:"{days} days remaining",poolAmount:"Pool Amount",estimatedDividend:"Est. Dividend",nextPayout:"Payout on {date}",cycleHistory:"Cycle History",completed:"Completed",active:"Active",dividendReceived:"Dividend Paid",tokenHistory:"Token Acquisition History",tokenHistoryDesc:"RWA token source details",howItWorks:"RWA Bonus Pool Rules",rule1:"1. The RWA bonus pool runs on a 10-day dividend cycle, with 30% of sales going into the pool",rule2:"2. You can earn RWA tokens by purchasing packages, referring new partners, etc.",rule3:"3. At the end of each cycle, the pool is distributed proportionally to all token holders",rule4:"4. Tokens are held permanently and participate in every dividend cycle",startDate:"Start Date",endDate:"End Date",currentPool:"Current Pool",noCycle:"No active cycle",cycleHistoryDesc:"Dividend records from past cycles",tokensParticipated:"tokens participated",noCycles:"No dividend cycle records yet",noTokens:"No token records yet",sourcePackage:"Package Purchase",sourceNetworkOrder:"Network Order Reward",sourceMilestone:"Milestone Reward",sourceReferral:"Referral Reward"}},Fre={title:"Partner Program",subtitle:"RWA Digital Asset Co-creation Model",description:"Become a LOVEYOUNG partner, participate in brand building, enjoy multiple benefits",joinNow:"Join Now",learnMore:"Learn More",benefits:"Partner Benefits",howItWorks:"How It Works",tiers:"Partnership Tiers",faq:"FAQ",phase1:"Phase 1",phase2:"Phase 2",phase3:"Phase 3",investment:"Investment",lyPoints:"LY Points",referralBonus:"Referral Bonus",monthlyDividend:"Monthly Dividend",dashboard:"Partner Dashboard",myNetwork:"My Network",earnings:"Earnings Details",withdraw:"Withdraw",referralCode:"Referral Code",copyCode:"Copy Code",codeCopied:"Copied",referralLink:"Referral Link",totalEarnings:"Total Earnings",pendingWithdrawal:"Pending Withdrawal",lyBalance:"LY Balance",cashBalance:"Cash Balance",directReferrals:"Direct Referrals",teamSize:"Team Size",currentCycle:"Current Cycle",cycleProgress:"Cycle Progress",estimatedDividend:"Estimated Dividend",daysRemaining:"Days Remaining",poolAmount:"Pool Amount",yourShare:"Your Share",joinRequirements:"Join Requirements",selectPackage:"Select Package",agreeTerms:"I agree to the Partner Agreement",submitApplication:"Submit Application",applicationPending:"Application Pending",applicationApproved:"Application Approved",applicationRejected:"Application Rejected",notPartner:"You are not a partner yet",becomePartner:"Become a Partner",whatsappMessage:"Hello, I would like to learn about the Partner Program.",page:{heroTitle1:"Invest RM1,000",heroTitle2:"Earnings",heroTitle3:"Far Exceed 2x",heroSubtitle:"Become a Love Young Partner and receive 2000 LY Points. Through sales and 10-tier referral network, LY Points are continuously replenished, and earnings never stop.",heroSubtitleBold:"Take action, unlimited earnings!",applyNow:"Apply Now",consultDetails:"Consult Program Details",minInvestment:"Minimum Investment",lyPointsObtained:"LY Points = Minimum RM2000 Withdrawable",unlimitedEarnings:"Keep Working, Unlimited Earnings",applicationSubmitted:"Application Submitted",applicationSubmittedDesc:"Complete payment to activate your partner status.",applicationFailed:"Application Failed"},concepts:{assetTransparency:"Asset Transparency",assetTransparencyDesc:"Every digital operating right is anchored to real bird's nest raw materials, premium health products inventory and other physical assets.",earningsGuarantee:"Earnings Protection",earningsGuaranteeDesc:"Earnings are secured through the LY Points system with transparent data and efficient settlement.",globalFlow:"Global Circulation",globalFlowDesc:"Break geographical limitations and participate in the global premium wellness industry chain layout and dividends."},dividends:{title:"Dual Earnings Model",subtitle:"Two dividend methods operate simultaneously, earnings stack. Withdrawal deducts LY Points 1:1, continuously replenished through 10-tier network.",method1:"Earnings Method 1",method2:"Earnings Method 2",cashbackTitle:"Cashback Dividends",cashbackDesc:"Earn instant cashback from direct partner sales plus same-level rewards from your upline network",rwaTitle:"RWA Bonus Pool Dividends",rwaDesc:"30% of platform sales go into bonus pool, distributed every 10 days by RWA token ratio",directPartner:"Direct Upline Partner",sameLevelGen1:"Upper Partner (Level 1)",sameLevelGen2:"Upper Partner (Level 2)",cashbackFirst5:"First 5 boxes/pkg 50%",cashbackAfter:"After 30%",sameLevelReward:"10% Same-level Reward",cashbackExample:"Example: Customer buys 1 box (RM199), direct partner gets RM99.5 cashback (50%), their referrer gets RM9.95 (10% same-level reward)",salesIntoPool:"Sales into Pool",distributeByToken:"Distribute by Token",yourDividend:"Your Dividend",autoToken:"Each partner auto receives",tokenPerSale:"Each box sold earns",cycleReset:"After each 10-day cycle",tokenReset:"Tokens reset to zero",rwaExample:"Example: You sell 20 boxes in a cycle, holding 21 tokens. If total tokens are 550 and bonus pool is RM29,850, you get RM1,140 dividend"},ly:{title:"LY Points: The Perpetual Earnings Engine",subtitle:"Withdrawal requires equal LY Points deduction, but continuously replenished through 10-tier referral network. As long as the network is active, earnings never stop!",networkTitle:"10-Tier Network LY Replenishment",networkSubtitle:"Each tier replenishes points proportionally",totalReplenish:"Total Replenishment: 10-tier network can replenish up to",ofSales:"of sales as LY Points",cycleTitle:"Earnings Cycle Diagram",salesGenerate:"Sales Generate Earnings",enterWallet:"Enter Withdrawal Wallet",withdrawDeduct:"Withdrawal Deducts LY",networkReplenish:"Network Replenishes LY",keepActive:"Keep your referral network active,",neverDry:"LY never runs dry, earnings never stop!",whyMoreTitle:"Why Earnings Far Exceed 2x?",whyMoreDesc:"Invest RM1000 to get 2000 LY, seemingly max withdrawal RM2000. But every sale in your 10-tier network replenishes LY Points proportionally. The more active your network, the faster LY replenishes, naturally more earnings to withdraw!",importantNote:"Important Note",importantNoteDesc:"Cannot withdraw corresponding earnings when LY Points are insufficient. Continue operating to replenish LY and ensure earnings are withdrawable.",level1:"Direct",level2:"Level 2",level3:"Level 3",level4:"Level 4",level5:"Level 5",level6:"Level 6",level7:"Level 7",level8:"Level 8",level9:"Level 9",level10:"Level 10"},network:{you:"You",customer:"Customer",gen1:"G1",gen2:"G2",gen3:"G3",plusCashback:"+Cashback"},tierSection:{title:"Choose Your Partner Level",subtitle:"Higher investment, more LY Points, higher withdrawal limit",mostPopular:"Most Popular",invest:"Invest",getLyPoints:"Get LY Points",minWithdraw:"= Min Withdraw RM",consultNow:"Consult Now"},tierNames:{phase1:"Launch Partner",phase2:"Founding Partner",phase3:"Strategic Partner"},tierFeatures:{cashback50First5:"50% cashback on first 5 boxes",cashback30Next5:"30% cashback on boxes 6-10",cashback20Rest:"20% cashback beyond",freeFirstBox:"Free first box product",photoShoot:"Personal photo shoot",tenLevelBonus:"10-tier referral bonus",weight12x:"1.2x dividend weight bonus",factoryVip:"VIP factory tour",microFilm:"Brand micro-film participation",weight15x:"1.5x dividend weight bonus",topPoolPriority:"Priority in top bonus pool",intlLaunch:"International launch event seats",cobranding:"Co-branded product profits",exclusiveBiz:"Exclusive business collaboration"},simulator:{title:"RWA Dividend Simulator",subtitle:"Adjust parameters to estimate your cycle dividend earnings",mySales:"My Cycle Sales",boxes:"boxes",totalPlatformSales:"Total Platform Sales",activePartners:"Active Partners",people:"people",avgSalesPerPerson:"Avg Sales Per Person",cycleTotalSales:"Cycle Total Sales",bonusPool30:"Bonus Pool (30%)",myRwaTokens:"My RWA Tokens",units:"units",totalPlatformTokens:"Total Platform Tokens",myRatio:"My Ratio",estimatedCycleDividend:"Estimated Cycle Dividend",withdrawNeedsLy:"* Withdrawal requires equal LY Points"},ecosystem:{title:"LOVEYOUNG Brand Ecosystem",desc1:"LOVEYOUNG has built a complete brand ecosystem covering premium products, KOL collaborations, RWA investments, community building, digital marketing and more.",desc2:"As a partner, you become an important part of this ecosystem, jointly driving brand development and sharing growth dividends.",modules:"Business Modules",fullSupport:"Full Support",imgAlt:"LOVEYOUNG Brand Ecosystem"},faqs:{title:"Frequently Asked Questions",subtitle:"Answering Your Concerns",q1:"What is a Partner? How is it different from traditional agents?",a1:"Partners are brand co-builders, not traditional tiered agents. We have no inventory requirements, all earnings come from real end-product sales. Every box you share ships directly from the factory, ensuring quality and freshness.",q2:"Can investing RM1000 really earn more than RM2000?",a2:"Yes! Invest RM1000 to become a Launch Partner and receive 2000 LY Points. This means you can withdraw minimum RM2000 (1:1 LY deduction). But earnings go far beyond 2xthrough your 10-tier referral network, every sale replenishes your LY Points proportionally, continuously unlocking more earnings!",q3:"What's the difference between cashback dividends and RWA pool dividends?",a3:"Cashback dividends are instant cashback: direct partner sales earn 50% (first 5 boxes) or 30% (after), plus a 10% same-level reward from your upline partner's sales. RWA pool dividends are periodic dividends every 10 daysthe platform puts 30% of sales into the bonus pool, distributed by your RWA token ratio. Both require equal LY Points for withdrawal.",q4:"What are LY Points? How to replenish?",a4:"LY Points are your earnings security deposit. Every sale in your 10-tier referral network replenishes LY Points by tier percentage (Layer 1: 20%, Layer 2: 15%, Layers 3-5: 10%, Layers 6-10: 5%). As long as your network stays active, LY Points flow continuously, and earnings naturally keep coming!",q5:"Why does withdrawal require LY Points deduction?",a5:"The LY mechanism ensures earnings sustainability. This design encourages partners to build stable sales networks, unlocking more earnings through continuous action rather than one-time cashout. Keep taking action, and your earnings will far exceed your initial investment!",q6:"Do I need to stock inventory?",a6:"Absolutely not! All products ship directly from factory to end customers. You just focus on sharing and promoting. Zero inventory, zero risk!"},cta:{title:"Action Creates Unlimited Possibilities",subtitle:"Invest RM1,000, get 2,000 LY Points. Continuously replenished through 10-tier network, earnings go beyond 2x,",subtitleBold:"Keep taking action, earnings never stop!",becomePartner:"Become a Partner Now",whatsappConsult:"WhatsApp Consult"},modal:{title:"Apply to Become a Partner",selectedTier:"You selected",referralCodeOptional:"Referral Code (Optional)",referralCodePlaceholder:"Enter 8-digit referral code",cancel:"Cancel",confirmAndPay:"Confirm & Pay"}},Bre={title:"Admin Panel",dashboard:"Dashboard",partners:"Partner Management",orders:"Order Management",products:"Product Management",members:"Member Management",bonusPool:"Bonus Pool",inventory:"Inventory",purchase:"Procurement",logistics:"Logistics",bills:"Bills",finance:"Finance",settings:"Settings",backToMember:"Back to Member Center",backToHome:"Back to Home",adminPanel:"Admin Panel",erpSystem:"ERP System",memberCenter:"Member Center",pleaseLogin:"Please Login",adminRequired:"Admin permission required to access this page",adminRole:"Admin",menu:{dashboard:"Dashboard",partners:"Partner Management",orders:"Order Management",products:"Product Management",members:"Member Management",bonusPool:"Bonus Pool",inventory:"Inventory",production:"Production Line",purchase:"Procurement",logistics:"Logistics",bills:"Bills",finance:"Finance",withdrawals:"Withdrawals",bundles:"Bundles",siteSettings:"Site Settings",adManagement:"Ad Management",xiaohongshu:"Xiaohongshu",mediaPlan:"Media Plan",performanceReports:"Reports",whatsappConfig:"WhatsApp Config",whatsappOrders:"WhatsApp Orders",whatsappMembers:"Member Registration",whatsappChat:"Chat Management",whatsappAdmins:"Admin Management",whatsappFlows:"Automation Flows",contentCreation:"Content Creation",whatsappPush:"Push Notifications",systemHealth:"System Health",memoryDatabase:"Memory Database",knowledgeBase:"Knowledge Base",notifications:"Notifications",orderSupplement:"Order Supplement"},marketingSystem:"Marketing",whatsappBusiness:"WhatsApp Business",aiKnowledge:"AI & Knowledge",productionPage:{title:"Production Line Management",subtitle:"Manage production batches, process flow and material consumption",newBatch:"New Batch",totalBatches:"Total Batches",inProgress:"In Progress",completed:"Completed",planned:"Planned",batchList:"Batch List",materialUsage:"Material Usage",searchPlaceholder:"Search batch number or product...",qty:"Qty",progress:"Progress",steps:"steps",plannedDate:"Planned Date",startTime:"Start Time",plannedQty:"Planned Qty",actualQty:"Actual Output",nextStep:"Next Step",viewDetails:"View Details",viewReport:"View Report",materialName:"Material Name",plannedUsage:"Planned Usage",actualUsage:"Actual Usage",wastage:"Wastage",wastageRate:"Wastage Rate",stepMaterialPrep:"Material Prep",stepCleaning:"Cleaning",stepCooking:"Cooking",stepColdStorage:"Cold Storage",stepInspection:"Inspection",statusPlanned:"Planned",statusMaterialPrep:"Preparing",statusCleaning:"Cleaning",statusCooking:"Cooking",statusColdStorage:"Cold Storage",statusInspection:"Inspecting",statusCompleted:"Completed",statusCancelled:"Cancelled",statusUnknown:"Unknown",bomTab:"BOM Recipe",selectProduct:"Select Product",selectMaterial:"Select Material",addBomEntry:"Add Material",quantityPerUnit:"Qty per Unit",currentStock:"Current Stock",createBatch:"Create Batch",product:"Product",extractMaterials:"Extract Materials",materialsExtracted:"Materials deducted from inventory",noBom:"No BOM recipe configured for this product",noProductSelected:"Select a product to view recipe",materialReq:"Material Requirements",unit:"Unit",notesLabel:"Notes",notesPlaceholder:"Optional notes...",noBatches:"No production batches",noMaterials:"No material usage records"},totalRevenue:"Total Revenue",totalOrders:"Total Orders",totalMembers:"Total Members",totalPartners:"Total Partners",pendingOrders:"Pending Orders",pendingPartners:"Pending Partners",lowStock:"Low Stock Alert",recentActivity:"Recent Activity",quickActions:"Quick Actions",viewDetails:"View Details",activate:"Activate",deactivate:"Deactivate",approve:"Approve",reject:"Reject",export:"Export",import:"Import",refresh:"Refresh",addNew:"Add New",editItem:"Edit",deleteItem:"Delete",confirmDelete:"Confirm delete?",deleteSuccess:"Deleted successfully",saveSuccess:"Saved successfully",operationSuccess:"Operation successful",operationFailed:"Operation failed",noPermission:"No permission",partnerStatus:{pending:"Pending",active:"Active",inactive:"Inactive",suspended:"Suspended"},orderStatus:{pending:"Pending",confirmed:"Confirmed",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"},loginRequired:"Please Login",loginRequiredDesc:"Admin permission required to access this page",login:"Login",insufficientPermission:"Insufficient Permission",noAdminPermission:"You do not have admin permission",goHome:"Go Home",backToFront:"Back to Site",production:"Production",hygiene:"Hygiene Inspection",coldchain:"Cold Chain",reports:"Reports",activePartners:"Active Partners",monthlyOrders:"Monthly Orders",monthlySales:"Monthly Sales",currentBonusPool:"Current Bonus Pool",recentOrders:"Recent Orders",pendingItems:"Pending Items",noOrderData:"No order data",noPendingItems:"No pending items",partnerList:"Partner List",addPartner:"Add Partner",noPartnerData:"No partner data",orderList:"Order List",createOrder:"Create Order",inventoryManagement:"Inventory Management",stockIn:"Stock In",stockOut:"Stock Out",addMaterial:"Add Material",noInventoryData:"No inventory data",productionBatch:"Production Batch",createBatch:"Create Batch",noProductionData:"No production data",hygieneRecords:"Hygiene Inspection Records",addInspection:"Add Inspection",noInspectionData:"No inspection records",coldChainTracking:"Cold Chain Tracking",addWaybill:"Add Waybill",noLogisticsData:"No logistics data",monthlyIncome:"Monthly Income",monthlyExpenses:"Monthly Expenses",netProfit:"Net Profit",billRecords:"Bill Records",addBill:"Add Bill",noBillData:"No bill data",rwaBonusPoolCycle:"RWA Bonus Pool Cycle Management",currentCycle:"Current Cycle",cycleNumber:"Cycle {number}",totalPoolAmount:"Total Pool Amount",totalTokens:"Total Tokens",settleCycle:"Settle Current Cycle",historyCycles:"Historical Cycles",noHistoryData:"No history data",salesReport:"Sales Report",partnerGrowth:"Partner Growth",chartArea:"Chart Area",systemSettings:"System Settings",cashbackRatioSettings:"Cashback Ratio Settings",cashbackRatioDesc:"Configure cashback ratios for different phases",bonusPoolCycleSetting:"Bonus Pool Cycle",bonusPoolCycleDesc:"Current setting: 10 days/cycle",referralRewardRatio:"Referral Reward Ratio",referralRewardDesc:"10-level referral reward configuration",configure:"Configure",modify:"Modify",partnersPage:{title:"Partner Management",subtitle:"Review and manage partners",totalPartners:"Total Partners",activated:"Activated",pendingReview:"Pending Review",partnerList:"Partner List",searchPlaceholder:"Search ID or referral code...",tabAll:"All",tabPending:"Pending",tabActive:"Active",noPartners:"No partners yet",activate:"Activate",viewDetails:"Details",activateSuccess:"Activation Successful",activateSuccessDesc:"Partner account has been activated",activateFailed:"Activation Failed",package:"Package"},ordersPage:{title:"Order Management",subtitle:"Process and track customer orders",totalOrders:"Total Orders",pendingPayment:"Pending Payment",preparing:"Preparing",shipping:"Shipping",completed:"Completed",cancelled:"Cancelled",unknown:"Unknown",orderList:"Order List",searchPlaceholder:"Search order number or customer...",tabAll:"All",noOrders:"No orders yet",viewDetails:"Details",items:"items"},productsPage:{title:"Product Management",subtitle:"Manage product catalog and pricing",addProduct:"Add Product",productList:"Product List",searchPlaceholder:"Search product name...",noProducts:"No products yet",addFirstProduct:"Add First Product",categoryBirdNest:"Bird's Nest",categoryFishMaw:"Fish Maw",categoryGiftSet:"Gift Set",manageCategories:"Manage Categories",categories:"Categories",allCategories:"All",totalProducts:"Total Products",activeProducts:"Active Products",addCategory:"Add Category",editCategory:"Edit Category",categoryModalDesc:"Set category name and display color",categoryName:"Category Name",categoryNamePlaceholder:"Enter Chinese category name",categoryNameEn:"English Name",categoryNameEnPlaceholder:"Enter English category name",categoryDescription:"Description",categoryDescPlaceholder:"Enter category description",categoryColor:"Category Color",editProduct:"Edit Product",productModalDesc:"Set product info, pricing and display status",productImage:"Product Image",uploadImage:"Upload Image",productNameZh:"Chinese Name",productNameZhPlaceholder:"Enter product Chinese name",productNameEn:"English Name",productNameEnPlaceholder:"Enter product English name",productDescription:"Product Description",productDescPlaceholder:"Enter product description",category:"Category",selectCategory:"Select Category",price:"Price",weight:"Specification",sortOrder:"Sort Order",isAvailable:"Available for Sale",isAvailableDesc:"Product will be displayed in store when enabled",isFeatured:"Featured",isFeaturedDesc:"Featured products are prioritized on homepage",productDetails:"Product Details",available:"Available",unavailable:"Unavailable",featured:"Featured",view:"View",edit:"Edit",delete:"Delete",image:"Image",productName:"Product Name",status:"Status",actions:"Actions",deleteConfirmTitle:"Confirm Delete Product",deleteConfirmDesc:"This action cannot be undone. Delete product"},membersPage:{title:"Member Management",subtitle:"View and manage all members",totalUsers:"Total Users",regularMembers:"Regular Members",partners:"Partners",memberList:"Member List",searchPlaceholder:"Search name or email...",tabAll:"All",tabMember:"Members",tabPartner:"Partners",tabAdmin:"Admins",noMembers:"No members yet",viewDetails:"Details",points:"points",orders:"orders",roleMember:"Member",rolePartner:"Partner",roleAdmin:"Admin",roleUser:"User"},bonusPoolPage:{title:"Bonus Pool Management",subtitle:"RWA dividend cycle settings and management",refreshData:"Refresh Data",currentCycle:"Current Cycle",inProgress:"In Progress",cycleProgress:"Cycle Progress",days:"days",daysRemaining:"{days} days remaining in this cycle",currentPool:"Current Pool",perTokenValue:"Per Token Value",participatingPartners:"Participating Partners",cycleSales:"Cycle Sales",cycleSettings:"Cycle Settings",cycleLength:"Cycle Length",salesPoolRatio:"Sales Pool Ratio",totalRwaTokens:"Total RWA Tokens",tokens:"tokens",editSettings:"Edit Settings",dividendNote:"Dividend Note",dividendDesc1:"At the end of each cycle (10 days), the system automatically distributes the bonus pool amount to holders based on RWA token ratio.",dividendRule1:"30% of sales automatically enters the bonus pool",dividendRule2:"Each partner holds 1-4 RWA tokens (by package)",dividendRule3:"Dividends require equivalent LY points deduction for withdrawal",historyCycles:"Historical Cycles",cycle:"Cycle",settled:"Settled",perToken:"Per Token",people:"people"},inventoryPage:{title:"Inventory Management",subtitle:"Inventory query and adjustment",addStock:"Stock Operations",productSku:"Product SKU",status:"Status",lowStock:"Low Stock",criticalStock:"Critical Stock",inventoryStatus:"Inventory Status",searchPlaceholder:"Search product or SKU...",statusNormal:"Normal",statusLow:"Low",statusCritical:"Critical",statusUnknown:"Unknown",recentChanges:"Recent Stock Changes",stockIn:"Stock In",stockOut:"Stock Out",purchaseIn:"Purchase In",manageCategories:"Manage Categories",categories:"Categories",allCategories:"All",addCategory:"Add Category",editCategory:"Edit Category",categoryModalDesc:"Set inventory category and module permissions",categoryName:"Category Name",categoryNamePlaceholder:"Enter Chinese category name",categoryNameEn:"English Name",categoryNameEnPlaceholder:"Enter English category name",categoryColor:"Category Color",permissions:"Module Permissions",permissionsDesc:"Select modules that can access this category",stockInDesc:"Record product stock in",stockOutDesc:"Record product stock out",selectProduct:"Select Product",selectProductPlaceholder:"Select product to operate",quantity:"Quantity",stockInType:"Stock In Type",stockOutType:"Stock Out Type",selectType:"Select Type",typeProduction:"Production In",typePurchase:"Purchase In",typeReturn:"Return In",typeAdjust:"Adjustment",typeSales:"Sales Out",typeProductionUse:"Production Use",typeDamage:"Damage/Waste",note:"Note",notePlaceholder:"Enter note",confirmStockIn:"Confirm Stock In",confirmStockOut:"Confirm Stock Out",editItem:"Edit Inventory Item",editItemDesc:"Modify inventory item info",itemName:"Name",sku:"SKU",category:"Category",currentStock:"Current Stock",minStock:"Min Stock",unit:"Unit",actions:"Actions",edit:"Edit",delete:"Delete",deleteConfirmTitle:"Confirm Delete",deleteConfirmDesc:"This action cannot be undone. Delete item",date:"Date",type:"Type",product:"Product",operator:"Operator"},purchasePage:{title:"Procurement Management",subtitle:"Purchase orders and supplier management",newPo:"New Purchase Order",purchaseOrders:"Purchase Orders",suppliers:"Suppliers",searchPlaceholder:"Search order or supplier...",statusPending:"Pending",statusApproved:"Approved",statusShipped:"Shipping",statusReceived:"Received",statusUnknown:"Unknown",items:"items",viewDetails:"Details",supplierList:"Supplier List",addSupplier:"Add Supplier",orders:"orders",edit:"Edit"},logisticsPage:{title:"Logistics Tracking",subtitle:"Cold chain logistics and delivery management",totalShipments:"Total Shipments",pendingShipment:"Pending",inTransit:"In Transit",delivered:"Delivered",coldChainMonitor:"Cold Chain Monitor",tempNormal:"All shipments temperature normal (-18C ~ -15C)",statusNormal:"Normal",shipmentList:"Shipment List",searchPlaceholder:"Search shipment or destination...",statusUnknown:"Unknown",order:"Order",track:"Track"},billsPage:{title:"Bill Management",subtitle:"Expenses and bill records",addBill:"Add Bill",totalBills:"Total Bills",pendingPayment:"Pending",overdue:"Overdue",billList:"Bill List",searchPlaceholder:"Search bills...",statusPending:"Pending",statusPaid:"Paid",statusOverdue:"Overdue",statusUnknown:"Unknown",tabAll:"All",typePurchase:"Purchase",typeLogistics:"Logistics",typeOperation:"Operation",dueDate:"Due",noBills:"No bills"},financePage:{title:"Financial Reports",subtitle:"Revenue and expense analysis",exportReport:"Export Report",monthlyRevenue:"Monthly Revenue",monthlyExpenses:"Monthly Expenses",monthlyProfit:"Monthly Net Profit",expenseBreakdown:"Expense Breakdown",purchaseCost:"Purchase Cost",logisticsCost:"Logistics Cost",operationCost:"Operation Cost",otherCost:"Other Costs",partnerExpenses:"Partner Expenses",cashbackPayout:"Cashback Payout",cashbackDesc:"Includes direct referrals and 3-tier network cashback",bonusPoolPayout:"RWA Bonus Pool Payout",bonusPoolDesc:"Current cycle bonus pool dividend",recentTransactions:"Recent Transactions",tabAll:"All",tabIncome:"Income",tabExpense:"Expense"},withdrawals:{title:"Withdrawal Management",subtitle:"Manage partner withdrawal requests",pendingRequests:"Pending",processingRequests:"Processing",completedRequests:"Completed",rejectedRequests:"Rejected",requestsList:"Withdrawal Requests",tabPending:"Pending",tabProcessing:"Processing",tabCompleted:"Completed",tabRejected:"Rejected",tabAll:"All",noRequests:"No withdrawal requests",requestDetail:"Request Details",withdrawAmount:"Withdrawal Amount",partnerInfo:"Partner Info",name:"Name",email:"Email",phone:"Phone",bankInfo:"Bank Info",bankName:"Bank Name",accountNumber:"Account Number",accountName:"Account Holder",timeline:"Timeline",submittedAt:"Submitted",processedAt:"Processed",statusPending:"Pending",statusProcessing:"Processing",statusCompleted:"Completed",statusRejected:"Rejected",approve:"Approve",reject:"Reject",markComplete:"Mark Complete",cancel:"Cancel",rejectTitle:"Reject Withdrawal",rejectDesc:"Amount will be refunded to partner wallet (LY points not refunded)",rejectPlaceholder:"Enter rejection reason...",rejectReasonLabel:"Reason",confirmReject:"Confirm Reject",approveSuccess:"Withdrawal approved",approveFailed:"Approval failed",completeSuccess:"Withdrawal marked complete",completeFailed:"Completion failed",rejectSuccess:"Withdrawal rejected",rejectFailed:"Rejection failed"},metaAdsPage:{title:"Meta Ads",subtitle:"Manage Facebook/Instagram advertising",newCampaign:"New Campaign",totalCampaigns:"Total Campaigns",activeCampaigns:"Active",totalSpend:"Total Spend",totalImpressions:"Total Impressions",searchPlaceholder:"Search campaigns...",tabAll:"All",tabActive:"Active",tabPaused:"Paused",tabDraft:"Draft",tabCompleted:"Completed",noCampaigns:"No campaigns yet",campaignName:"Campaign Name",platform:"Platform",objective:"Objective",budget:"Budget",budgetType:"Budget Type",dailyBudget:"Daily Budget",lifetimeBudget:"Lifetime Budget",startDate:"Start Date",endDate:"End Date",targetAudience:"Target Audience",spent:"Spent",impressions:"Impressions",clicks:"Clicks",conversions:"Conversions",ctr:"CTR",cpc:"CPC",roas:"ROAS",adSets:"Ad Sets",creatives:"Creatives",performance:"Performance",objectiveAwareness:"Awareness",objectiveTraffic:"Traffic",objectiveEngagement:"Engagement",objectiveLeads:"Leads",objectiveConversions:"Conversions",objectiveSales:"Sales",accountSettings:"Account Settings",accountId:"Account ID",accessToken:"Access Token",pixelId:"Pixel ID",campaignCreated:"Campaign created",createFailed:"Create failed",campaignUpdated:"Campaign updated",updateFailed:"Update failed",campaignDeleted:"Campaign deleted",deleteFailed:"Delete failed",statusUpdated:"Status updated",nameRequired:"Please enter a campaign name",budgetRequired:"Please enter a valid budget amount",statusActive:"Active",statusPaused:"Paused",statusDraft:"Draft",statusCompleted:"Completed",statusUnknown:"Unknown",objectiveAppPromotion:"App Promotion",budgetDaily:"Daily",budgetLifetime:"Lifetime",budgetAmount:"Budget Amount",totalBudget:"Total Budget",campaignList:"Campaign List",details:"Details",editCampaign:"Edit Campaign",editCampaignDesc:"Modify campaign details",newCampaignDesc:"Create a new advertising campaign",campaignNamePlaceholder:"Enter campaign name",notes:"Notes",notesPlaceholder:"Enter notes...",cancel:"Cancel",save:"Save",create:"Create",campaignDetails:"Campaign Details",status:"Status",dateRange:"Date Range",createdAt:"Created At",updatedAt:"Updated At",budgetUsage:"Budget Usage",adAccountId:"Ad Account ID",noAdSets:"No ad set data available",activate:"Activate",pause:"Pause",resume:"Resume",close:"Close",deleteCampaign:"Delete Campaign",deleteConfirm:"Are you sure you want to delete this campaign? This action cannot be undone.",deleteWarning:"You are about to delete campaign:",confirmDelete:"Confirm Delete",syncPerformance:"Sync Performance",syncSuccess:"Performance data synced",syncFailed:"Sync failed"},xiaohongshuPage:{title:"Xiaohongshu",subtitle:"Manage Xiaohongshu content and operations",newContent:"New Content",totalContent:"Total Content",published:"Published",totalLikes:"Total Likes",totalViews:"Total Views",searchPlaceholder:"Search content...",tabAll:"All",tabDraft:"Draft",tabPending:"Pending Review",tabPublished:"Published",tabRejected:"Rejected",noContent:"No content yet",contentTitle:"Title",contentBody:"Content",contentType:"Content Type",typeNote:"Photo Note",typeVideo:"Video",typeLive:"Live",coverImage:"Cover Image",mediaTags:"Tags",scheduledAt:"Scheduled Time",likes:"Likes",comments:"Comments",shares:"Shares",views:"Views"},mediaPlanPage:{title:"Media Plan",subtitle:"Cross-platform content calendar and publishing",newPlan:"New Plan",totalPlans:"Total Plans",planned:"Planned",inProgress:"In Progress",published:"Published",searchPlaceholder:"Search plans...",tabAll:"All",tabPlanned:"Planned",tabInProgress:"In Progress",tabReady:"Ready",tabPublished:"Published",listView:"List View",calendarView:"Calendar View",planTitle:"Title",description:"Description",platform:"Platform",contentType:"Content Type",scheduledDate:"Scheduled Date",scheduledTime:"Scheduled Time",assignedTo:"Assigned To",noPlans:"No plans yet",typePost:"Post",typeStory:"Story",typeReel:"Reel",typeVideo:"Video",typeArticle:"Article",typeLive:"Live",createSuccess:"Plan created successfully",createError:"Failed to create plan",updateSuccess:"Plan updated successfully",updateError:"Failed to update plan",deleteSuccess:"Plan deleted successfully",deleteError:"Failed to delete plan",validationError:"Please fill in title, platform and content type",platformXiaohongshu:"Xiaohongshu",platformWebsite:"Website",statusPlanned:"Planned",statusInProgress:"In Progress",statusReady:"Ready",statusPublished:"Published",statusPlannedShort:"Plan",statusInProgressShort:"Prog",statusPublishedShort:"Pub",planList:"Plan List",editPlan:"Edit Plan",editPlanDesc:"Modify plan details",newPlanDesc:"Create a new media publishing plan",fieldTitle:"Title",fieldTitlePlaceholder:"Enter plan title",fieldDescription:"Description",fieldDescriptionPlaceholder:"Enter plan description...",fieldPlatform:"Platform",fieldPlatformPlaceholder:"Select platform",fieldContentType:"Content Type",fieldContentTypePlaceholder:"Select content type",fieldScheduledDate:"Scheduled Date",fieldScheduledTime:"Scheduled Time",fieldAssignedTo:"Assigned To",fieldAssignedToPlaceholder:"Enter assignee name",fieldContentUrl:"Content URL",fieldContentUrlPlaceholder:"Enter content URL",fieldNotes:"Notes",fieldNotesPlaceholder:"Enter notes...",cancel:"Cancel",save:"Save",create:"Create",deleteConfirmTitle:"Delete Plan",deleteConfirmDesc:"Confirm delete {{title}}? This action cannot be undone.",delete:"Delete",edit:"Edit",sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",selectContent:"Select Content"},adPlacementPage:{title:"Ad Placement",subtitle:"Budget allocation and approval management",newPlan:"New Plan",totalPlans:"Total Plans",pendingApproval:"Pending Approval",activePlans:"Active",totalBudget:"Total Budget",searchPlaceholder:"Search plans...",tabAll:"All",tabDraft:"Draft",tabPending:"Pending",tabApproved:"Approved",tabActive:"Active",tabCompleted:"Completed",noPlans:"No plans yet",planName:"Plan Name",platform:"Platform",totalBudgetLabel:"Total Budget",dailyBudgetLabel:"Daily Budget",startDate:"Start Date",endDate:"End Date",kpiTargets:"KPI Targets",approvalNotes:"Approval Notes",submitForApproval:"Submit for Approval",approve:"Approve",reject:"Reject",planCreated:"Plan created",createFailed:"Create failed",planUpdated:"Plan updated",updateFailed:"Update failed",planDeleted:"Plan deleted",deleteFailed:"Delete failed",submittedForApproval:"Submitted for approval",submitFailed:"Submit failed",planApproved:"Plan approved",approveFailed:"Approve failed",planRejected:"Plan rejected",rejectFailed:"Reject failed",nameRequired:"Please enter plan name",statusDraft:"Draft",statusPending:"Pending",statusApproved:"Approved",statusActive:"Active",statusCompleted:"Completed",platformXiaohongshu:"Xiaohongshu",budget:"Budget",dailyBudget:"Daily Budget",editPlan:"Edit Plan",createPlan:"Create Plan",editPlanDescription:"Modify plan details",createPlanDescription:"Create a new ad placement plan",planNamePlaceholder:"Enter plan name",description:"Description",descriptionPlaceholder:"Enter plan description...",selectPlatform:"Select platform",kpiTargetsPlaceholder:"Enter KPI targets (JSON format)",notes:"Notes",notesPlaceholder:"Enter notes...",cancel:"Cancel",save:"Save",create:"Create",confirmDelete:"Delete Plan",confirmDeleteDescription:"Are you sure you want to delete this plan? This action cannot be undone.",delete:"Delete",tabDraftShort:"Draft",tabPendingShort:"Pend",tabApprovedShort:"Appr",tabActiveShort:"Active",tabCompletedShort:"Done",submitShort:"Submit",attachContent:"Attach Content",browseContent:"Browse Content",attachContentHint:"Link marketing content from the Content Creation page",planList:"Plan List"},performanceReportsPage:{title:"Performance Reports",subtitle:"Ad performance KPI analytics",dateRange:"Date Range",last7Days:"Last 7 Days",last30Days:"Last 30 Days",last90Days:"Last 90 Days",customRange:"Custom Range",platformFilter:"Platform Filter",allPlatforms:"All Platforms",totalSpend:"Total Spend",totalImpressions:"Total Impressions",totalClicks:"Total Clicks",totalConversions:"Total Conversions",avgCTR:"Avg CTR",avgROAS:"Avg ROAS",dailyTrend:"Daily Trend",platformComparison:"Platform Comparison",budgetAllocation:"Budget Allocation",topCampaigns:"Top Campaigns",noData:"No data available",platform:"Platform",all:"All",sampleDataNotice:"Showing sample data. Connect your campaigns to see real performance metrics.",impressions:"Impressions",clicks:"Clicks",conversions:"Conversions",spend:"Spend",avgCtr:"Avg CTR",avgRoas:"Avg ROAS",campaign:"Campaign",roas:"ROAS",noCampaigns:"No campaign data yet"},whatsappConfigPage:{title:"WhatsApp Config",subtitle:"WhatsApp Business API settings and templates",apiConfig:"API Configuration",businessProfile:"Business Profile",messageTemplates:"Message Templates",adminPush:"Admin Push",phoneId:"Phone Number ID",businessAccountId:"Business Account ID",accessToken:"Access Token",webhookToken:"Webhook Verify Token",webhookUrl:"Webhook URL",businessName:"Business Name",businessDesc:"Business Description",businessAddr:"Business Address",businessEmail:"Business Email",businessWebsite:"Business Website",adminPhones:"Admin Phone Numbers",adminPhonesDesc:"WhatsApp numbers for order & service notifications",notificationEnabled:"Notifications Enabled",autoReply:"Auto Reply",autoReplyMessage:"Auto Reply Message",workingHours:"Working Hours",saveConfig:"Save Config",configSaved:"Config saved",configSaveFailed:"Save failed",newTemplate:"New Template",templateName:"Template Name",templateLanguage:"Language",templateCategory:"Category",templateBody:"Template Body",templateFooter:"Footer Text",templateVariables:"Variables",noTemplates:"No templates yet",pushToAdmin:"Push to Admin",pushMessage:"Push Message",pushTarget:"Push Target",pushAllAdmins:"All Admins",pushSelectAdmin:"Select Admin",pushType:"Push Type",pushTypeOrder:"Order Notification",pushTypeCustomer:"Customer Message",pushTypeSystem:"System Notification",pushTypeMarketing:"Marketing Push",pushContent:"Push Content",pushSend:"Send Push",pushSuccess:"Push sent",pushFailed:"Push failed",pushHistory:"Push History",businessPhoneId:"Business Phone Number ID",whatsappBusinessAccountId:"WhatsApp Business Account ID",businessInfo:"Business Info",businessDescription:"Business Description",businessAddress:"Business Address",adminPhoneNumbers:"Admin Phone Numbers",adminPhoneHint:"Separate multiple numbers with commas",autoReplyEnabled:"Enable Auto Reply",autoReplyPlaceholder:"Enter auto reply message...",workingHoursStart:"Start Time",workingHoursEnd:"End Time",templateUpdated:"Template updated",templateCreated:"Template created",templateSaveFailed:"Failed to save template",templateDeleted:"Template deleted",templateDeleteFailed:"Failed to delete template",pushSent:"Push sent",sendPush:"Send Push",pushContentPlaceholder:"Enter push message content...",sendButton:"Send",noPushHistory:"No push history yet",pushTargetAll:"All Admins",edit:"Edit",delete:"Delete",editTemplate:"Edit Template",editTemplateDesc:"Modify message template content",newTemplateDesc:"Create a new WhatsApp message template",templateNamePlaceholder:"Enter template name",templateBodyPlaceholder:"Enter template body, use {{1}} as variable placeholder",templateFooterPlaceholder:"Enter footer text",templateVariablesHint:"Separate multiple variables with commas",cancel:"Cancel",updateTemplate:"Update Template",createTemplate:"Create Template",variables:"Variables",webhookVerifyToken:"Webhook Verify Token",adminManagement:"Admin Management",adminManagementDesc:"Manage WhatsApp admin accounts and conversation assignments",goToAdminManagement:"Manage Admins"},whatsappOrdersPage:{title:"WhatsApp Orders",subtitle:"Manage orders from WhatsApp channel",totalOrders:"Total Orders",pendingOrders:"Pending",paidOrders:"Paid",totalRevenue:"Total Revenue",searchPlaceholder:"Search phone or order...",tabAll:"All",tabPending:"Pending",tabConfirmed:"Confirmed",tabProcessing:"Processing",tabShipped:"Shipped",tabDelivered:"Delivered",noOrders:"No WhatsApp orders yet",customerPhone:"Customer Phone",customerName:"Customer Name",orderAmount:"Order Amount",paymentStatus:"Payment Status",linkToOrder:"Link to Order",viewConversation:"View Conversation",sendNotification:"Send Notification",notifyAdmin:"Notify Admin",orderCreated:"Order created",createFailed:"Create failed",orderUpdated:"Order updated",updateFailed:"Update failed",orderDeleted:"Order deleted",deleteFailed:"Delete failed",notificationSent:"Notification sent",invalidJson:"Invalid order data JSON format",requiredFields:"Please fill in customer phone and name",confirmDelete:"Are you sure you want to delete this order?",paymentPaid:"Paid",paymentRefunded:"Refunded",paymentUnpaid:"Unpaid",statusConfirmed:"Confirmed",statusProcessing:"Processing",statusShipped:"Shipped",statusDelivered:"Delivered",statusPending:"Pending",tabPendingShort:"Pending",tabConfirmedShort:"Confirm",tabProcessingShort:"Process",tabShippedShort:"Ship",tabDeliveredShort:"Deliver",activeOrders:"Active",statusCancelled:"Cancelled",orderList:"Order List",viewDetails:"View Details",edit:"Edit",newOrder:"New Order",editOrder:"Edit Order",createOrder:"Create Order",editOrderDesc:"Modify WhatsApp order info",createOrderDesc:"Manually create a WhatsApp order",customerNamePlaceholder:"Enter customer name",orderData:"Order Data",orderDataPlaceholder:'JSON format order data, e.g.: [{"name": "Product", "quantity": 1}]',totalAmount:"Total Amount",orderStatus:"Order Status",notes:"Notes",notesPlaceholder:"Enter notes...",cancel:"Cancel",save:"Save",create:"Create",orderDetails:"Order Details",createdAt:"Created At",updatedAt:"Updated At",conversationId:"Conversation ID",linkedOrderId:"Linked Order ID",close:"Close",notifyAdminTitle:"Send Admin Notification",notificationMessage:"Notification Message",notificationPlaceholder:"Enter notification message...",send:"Send"},whatsappMembersPage:{title:"Member Registration",subtitle:"Track WhatsApp channel member registrations",totalRegistrations:"Total Registrations",completedReg:"Completed",pendingReg:"Pending",conversionRate:"Conversion Rate",searchPlaceholder:"Search phone or name...",tabAll:"All",tabPending:"Pending",tabCompleted:"Completed",tabFailed:"Failed",noRegistrations:"No registrations yet",phone:"Phone",name:"Name",email:"Email",source:"Source",registeredAt:"Registered At",linkToMember:"Link to Member",createSuccess:"Registration created",createError:"Create failed",deleteSuccess:"Registration deleted",deleteError:"Delete failed",phoneRequired:"Please enter phone number",statusPending:"Pending",statusCompleted:"Completed",statusFailed:"Failed",sourceManual:"Manual",sourceReferral:"Referral",completedCount:"Completed",pendingCount:"Pending",registrationList:"Registration List",viewDetail:"View Details",registrationDetail:"Registration Details",registrationDetailDesc:"View registration record details",createdAt:"Registered At",conversationId:"Conversation ID",memberLinked:"Member Linked",viewMemberProfile:"View Member Profile",metadata:"Metadata",close:"Close",addRegistration:"Add Registration",addRegistrationDesc:"Manually add WhatsApp member registration",phonePlaceholder:"Enter phone number e.g. +60123456789",namePlaceholder:"Enter name",emailPlaceholder:"Enter email address",cancel:"Cancel",confirm:"Confirm",withOrders:"With Orders",partners:"Partners",newMembers:"New",totalOrders:"Orders",status:"Status"},aiCustomerServicePage:{title:"AI Customer Service",subtitle:"AI bot configuration and conversation management",botConfig:"Bot Configuration",conversations:"Conversations",totalConversations:"Total Conversations",activeConversations:"Active",escalatedConversations:"Escalated",avgSatisfaction:"Avg Satisfaction",botName:"Bot Name",botDescription:"Description",systemPrompt:"System Prompt",knowledgeBase:"Knowledge Base",greetingMessage:"Greeting Message",fallbackMessage:"Fallback Message",model:"AI Model",temperature:"Temperature",maxTokens:"Max Tokens",enabled:"Enabled",disabled:"Disabled",configure:"Configure",viewHistory:"View History",noConversations:"No conversations yet",messageCount:"Messages",tokensUsed:"Tokens Used",satisfaction:"Satisfaction",escalated:"Escalated",testBot:"Test Bot",toggleSuccess:"Bot status updated",toggleError:"Status update failed",updateSuccess:"Bot config updated",updateError:"Config update failed",invalidJson:"Invalid knowledge base JSON format",statusActive:"Active",statusCompleted:"Completed",statusEscalated:"Escalated",statusFailed:"Failed",configureBot:"Configure Bot",configureBotDesc:"Adjust bot system prompt, knowledge base and parameters",fieldName:"Name",fieldDescription:"Description",fieldSystemPrompt:"System Prompt",fieldKnowledgeBase:"Knowledge Base",fieldGreetingMessage:"Greeting Message",fieldFallbackMessage:"Fallback Message",fieldModel:"AI Model",fieldTemperature:"Temperature",fieldMaxTokens:"Max Tokens",fieldResponseLanguage:"Response Language",cancel:"Cancel",save:"Save",conversationDetail:"Conversation Details",conversationList:"Conversation List",searchPlaceholder:"Search phone or customer...",messages:"messages",noMessages:"No messages yet",confidence:"Confidence",close:"Close",statTotal:"Total Conversations",statActive:"Active",statEscalated:"Escalated",statAvgSatisfaction:"Avg Satisfaction",escalateToAdmin:"Escalate to Admin",escalateSuccess:"Escalated to admin",escalateError:"Escalation failed",sendError:"Failed to send message",takeOverSuccess:"Conversation taken over",takeOverError:"Takeover failed",transferSuccess:"Conversation transferred",transferError:"Transfer failed",resolveSuccess:"Conversation resolved",resolveError:"Resolve failed",backToAiSuccess:"Returned to AI handling",backToAiError:"Failed to return to AI",statusResolved:"Resolved",assigned:"Assigned",unassigned:"Unassigned",filterAi:"AI",filterMine:"Mine",filterUnassigned:"Unassigned",filterEscalated:"Escalated",filterResolved:"Resolved",selectConversation:"Select a Conversation",selectConversationDesc:"Choose a conversation from the list to view details",takeOver:"Take Over",transfer:"Transfer",markResolved:"Mark Resolved",backToAi:"Back to AI",conversationResolved:"This conversation has been resolved",replyPlaceholder:"Type a reply...",transferTitle:"Transfer Conversation",transferDesc:"Transfer this conversation to another admin",selectAdmin:"Select Admin",selectAdminPlaceholder:"Choose an admin",noAdminsOnDuty:"No admins currently on duty",confirmTransfer:"Confirm Transfer",botEnabled:"Bot Enabled",botDisabled:"Bot Disabled",selected:"selected",noKnowledgeBase:"No knowledge base articles"},contentCreationPage:{title:"Content Creation",subtitle:"AI writing & content management hub",newContent:"New Content",newContentDesc:"Create new marketing content",editContent:"Edit Content",editContentDesc:"Modify content details",totalContent:"Total Content",drafts:"Drafts",aiGenerated:"AI Generated",published:"Published",tabAll:"All",tabDraft:"Draft",tabReady:"Ready",tabPublished:"Published",tabAi:"AI Generated",searchPlaceholder:"Search content...",noContent:"No content yet",aiGenerate:"AI Generate",aiGenerateTitle:"AI Content Generation",aiGenerateDesc:"Select product and occasion, AI generates marketing copy",aiProduct:"Select Product",aiProductPlaceholder:"Choose product to promote",aiTopic:"Topic",aiTopicPlaceholder:"Enter content topic",aiOccasion:"Occasion",aiPlatform:"Target Platform",aiTone:"Tone",aiLanguage:"Language",generate:"Generate",aiGenerateSuccess:"AI content generated",aiGenerateError:"Generation failed",aiGenerateImageLabel:"Generate AI Image",aiGenerateImageDesc:"Use DALL-E 3 to generate a cover image",generatingWithImage:"Generating (with image)...",uploadSuccess:"Image uploaded",uploadError:"Upload failed",occasion_normal:"Normal",occasion_chinese_new_year:"Chinese New Year",occasion_hari_raya:"Hari Raya",occasion_christmas:"Christmas",occasion_valentines:"Valentine's Day",occasion_mothers_day:"Mother's Day",occasion_mid_autumn:"Mid-Autumn Festival",occasion_product_launch:"Product Launch",occasion_flash_sale:"Flash Sale",tone_professional:"Professional",tone_casual:"Casual",tone_festive:"Festive",tone_humorous:"Humorous",tone_inspirational:"Inspirational",fieldTitle:"Title",fieldTitlePlaceholder:"Enter content title",fieldBody:"Body",fieldBodyPlaceholder:"Enter body content...",fieldContentType:"Content Type",selectContentType:"Select content type",fieldPlatform:"Platform",fieldCoverImage:"Cover Image URL",fieldCoverImagePlaceholder:"Enter cover image URL",fieldTags:"Tags",fieldTagsPlaceholder:"Separate tags with commas",fieldHashtags:"Hashtags",fieldHashtagsPlaceholder:"Separate hashtags with commas",createSuccess:"Content created",createError:"Create failed",updateSuccess:"Content updated",updateError:"Update failed",deleteSuccess:"Content deleted",deleteError:"Delete failed",deleteConfirmTitle:"Delete Content",deleteConfirmDesc:"Are you sure you want to delete this content? This action cannot be undone.",cancel:"Cancel",save:"Save",create:"Create",delete:"Delete",close:"Close",copied:"Copied to clipboard",markReady:"Mark Ready",addToCalendar:"Add to Calendar",addedToCalendar:"Added to publishing calendar",addToCalendarError:"Failed to add",statusDraft:"Draft",statusAi_generating:"AI Generating",statusReady:"Ready",statusPublished:"Published",statusArchived:"Archived"},whatsappAdminsPage:{title:"Admin Management",subtitle:"WhatsApp multi-admin & conversation assignment",addAdmin:"Add Admin",addAdminDesc:"Add a new WhatsApp admin",editAdmin:"Edit Admin",editAdminDesc:"Modify admin information",totalAdmins:"Total Admins",online:"Online",onDuty:"On Duty",activeChats:"Active Chats",tabAll:"All",tabOnline:"Online",tabOffline:"Offline",tabOnDuty:"On Duty",searchPlaceholder:"Search admins...",noAdmins:"No admins yet",fieldName:"Name",fieldNamePlaceholder:"Enter admin name",fieldPhone:"Phone",fieldPhonePlaceholder:"Enter phone number",dutyStart:"Duty Start",dutyEnd:"Duty End",maxChats:"Max Concurrent Chats",status_online:"Online",status_offline:"Offline",status_busy:"Busy",createSuccess:"Admin added",createError:"Add failed",updateSuccess:"Admin updated",updateError:"Update failed",deleteSuccess:"Admin deleted",deleteError:"Delete failed",deleteConfirmTitle:"Delete Admin",deleteConfirmDesc:"Are you sure you want to delete this admin?",cancel:"Cancel",save:"Save",create:"Create",delete:"Delete",assignmentQueue:"Assignment Queue",noUnassigned:"No unassigned conversations",assign:"Assign",assignConversation:"Assign Conversation",assignConversationDesc:"Assign this conversation to an admin",selectAdmin:"Select Admin",selectAdminPlaceholder:"Choose an admin",assignSuccess:"Conversation assigned",assignError:"Assignment failed",autoAssignment:"Auto-Assignment Settings",autoAssignEnabled:"Enable Auto-Assignment",timeoutSeconds:"Timeout (seconds)",strategy:"Strategy",strategyLeastBusy:"Least Busy",strategyRoundRobin:"Round Robin",strategyManual:"Manual",selectSystemAdmin:"Select System Admin",selectSystemAdminPlaceholder:"Select a system admin",noAvailableAdmins:"All system admins are already bound"},systemHealthPage:{title:"System Health",subtitle:"API connection testing and system configuration",testAll:"Test All",totalConfigs:"Total Configs",connected:"Connected",failed:"Failed",untested:"Untested"},adManagementPage:{title:"Ad Management",subtitle:"Campaign, placement plan, ad set and creative management",syncPerformance:"Sync Performance",syncSuccess:"Performance data synced",syncFailed:"Sync failed",new:"New",totalCampaigns:"Total Campaigns",activePlans:"Active Plans",totalSpend:"Total Spend",roas:"ROAS",tabCampaigns:"Campaigns",tabPlacements:"Placements",tabCreatives:"Creatives",tabAll:"All",campaignList:"Campaign List",searchPlaceholder:"Search...",noCampaigns:"No campaigns yet",noPlans:"No placement plans yet",noAdSets:"No ad sets yet",noCreatives:"No creatives in this ad set",spent:"Spent",details:"Details",planList:"Placement Plans",budget:"Budget",dailyBudgetLabel:"Daily",approvalNotes:"Approval Notes",submitForApproval:"Submit for Approval",approve:"Approve",reject:"Reject",creativesTitle:"Ad Sets & Creatives",newAdSet:"New Ad Set",newCreative:"New Creative",targeting:"Targeting",campaignCreated:"Campaign created",campaignUpdated:"Campaign updated",campaignDeleted:"Campaign deleted",createFailed:"Create failed",updateFailed:"Update failed",deleteFailed:"Delete failed",statusUpdated:"Status updated",planCreated:"Plan created",planUpdated:"Plan updated",planDeleted:"Plan deleted",submittedForApproval:"Submitted for approval",submitFailed:"Submit failed",planApproved:"Plan approved",approveFailed:"Approve failed",planRejected:"Plan rejected",rejectFailed:"Reject failed",adSetCreated:"Ad set created",adSetUpdated:"Ad set updated",adSetDeleted:"Ad set deleted",creativeCreated:"Creative created",creativeUpdated:"Creative updated",creativeDeleted:"Creative deleted",nameRequired:"Name is required",budgetRequired:"Budget must be greater than 0",statusActive:"Active",statusPaused:"Paused",statusDraft:"Draft",statusCompleted:"Completed",statusUnknown:"Unknown",statusPending:"Pending Approval",statusApproved:"Approved",platformXiaohongshu:"Xiaohongshu",objectiveAwareness:"Awareness",objectiveTraffic:"Traffic",objectiveEngagement:"Engagement",objectiveLeads:"Leads",objectiveSales:"Sales",objectiveAppPromotion:"App Promotion",budgetDaily:"Daily",budgetLifetime:"Lifetime",editCampaign:"Edit Campaign",newCampaign:"New Campaign",editCampaignDesc:"Modify campaign details",newCampaignDesc:"Create a new advertising campaign",campaignName:"Campaign Name",campaignNamePlaceholder:"Enter campaign name",platform:"Platform",objective:"Objective",budgetType:"Budget Type",budgetAmount:"Budget Amount",startDate:"Start Date",endDate:"End Date",notes:"Notes",notesPlaceholder:"Enter notes...",cancel:"Cancel",save:"Save",create:"Create",campaignDetails:"Campaign Details",status:"Status",dateRange:"Date Range",createdAt:"Created At",updatedAt:"Updated At",budgetUsage:"Budget Usage",activate:"Activate",pause:"Pause",resume:"Resume",close:"Close",deleteCampaign:"Delete Campaign",deleteConfirm:"This action cannot be undone.",deleteWarning:"Are you sure you want to delete",confirmDelete:"Delete",editPlan:"Edit Plan",createPlan:"Create Plan",editPlanDesc:"Modify placement plan details",createPlanDesc:"Create a new ad placement plan",planName:"Plan Name",planNamePlaceholder:"Enter plan name",description:"Description",descriptionPlaceholder:"Enter description...",campaign:"Campaign",selectCampaign:"Select campaign",none:"None",totalBudget:"Total Budget",dailyBudget:"Daily Budget",kpiTargets:"KPI Targets",kpiTargetsPlaceholder:"Enter KPI targets as JSON...",deletePlan:"Delete Plan",editAdSet:"Edit Ad Set",editAdSetDesc:"Modify ad set details",newAdSetDesc:"Create a new ad set",adSetName:"Ad Set Name",adSetNamePlaceholder:"Enter ad set name",adSet:"Ad Set",selectAdSet:"Select ad set",editCreative:"Edit Creative",editCreativeDesc:"Modify creative details",newCreativeDesc:"Create a new ad creative",creativeTitle:"Creative Title",creativeTitlePlaceholder:"Enter creative title",mediaUrl:"Media URL",callToAction:"Call to Action",creativeType:"Creative Type",typeImage:"Image",typeVideo:"Video",typeCarousel:"Carousel",typeStory:"Story",deleteAdSet:"Delete Ad Set",deleteCreative:"Delete Creative"},memoryDatabasePage:{title:"Memory Database",subtitle:"AI memory management for products, customers, and partners",addMemory:"Add Memory",statTotal:"Total Memories",statProduct:"Product Memories",statCustomer:"Customer Memories",statPartner:"Partner Memories",tabProduct:"Product",tabCustomer:"Customer",tabPartner:"Partner",productMemoryTitle:"Product Memories",customerMemoryTitle:"Customer Memories",partnerMemoryTitle:"Partner Memories",filterCategory:"Filter by category",allCategories:"All Categories",filterPhone:"Filter by phone...",searchPlaceholder:"Search...",noMemories:"No memories found",inactive:"Inactive",active:"Active",editProductMemory:"Edit Product Memory",addProductMemory:"Add Product Memory",editCustomerMemory:"Edit Customer Memory",addCustomerMemory:"Add Customer Memory",editPartnerMemory:"Edit Partner Memory",addPartnerMemory:"Add Partner Memory",formDescription:"Fill in the memory details below",fieldProductId:"Product ID",fieldProductIdPlaceholder:"Enter product ID",fieldCategory:"Category",fieldLanguage:"Language",fieldTitle:"Title",fieldContent:"Content",fieldPriority:"Priority",fieldIsActive:"Active Status",fieldCustomerPhone:"Customer Phone",fieldCustomerName:"Customer Name",fieldMemoryType:"Memory Type",fieldSource:"Source",fieldImportance:"Importance",cancel:"Cancel",save:"Save",viewDetail:"Memory Details",createdAt:"Created",updatedAt:"Updated",hasEmbedding:"Has Embedding",noEmbedding:"No Embedding",close:"Close",deleteConfirmTitle:"Delete Memory",deleteConfirmDesc:"Are you sure you want to delete",confirmDelete:"Delete",saveSuccess:"Memory saved successfully",saveError:"Failed to save memory",deleteSuccess:"Memory deleted",deleteError:"Failed to delete memory",embeddingSuccess:"Embedding generated",embeddingError:"Failed to generate embedding",strengthenSuccess:"Memory strengthened",strengthenError:"Failed to strengthen memory"},knowledgeBasePage:{title:"Knowledge Base",subtitle:"Manage knowledge articles and Q&A pairs for AI",statTotalArticles:"Total Articles",statActiveArticles:"Active Articles",statTotalQa:"Total Q&A",statVerifiedQa:"Verified Q&A",tabKnowledge:"Knowledge Articles",tabQa:"Q&A Pairs",searchArticles:"Search articles...",searchQa:"Search Q&A...",addArticle:"Add Article",addQa:"Add Q&A",noArticles:"No articles yet",noQa:"No Q&A pairs yet",view:"View",edit:"Edit",delete:"Delete",generateEmbedding:"Generate Embedding",aiSuggestAnswer:"AI Suggest",confidence:"Confidence",createArticleTitle:"Create Article",createArticleDesc:"Add a new knowledge article",editArticleTitle:"Edit Article",editArticleDesc:"Modify article details",fieldTitle:"Title",fieldContent:"Content",fieldCategory:"Category",selectCategory:"Select category",fieldStatus:"Status",statusActive:"Active",statusInactive:"Inactive",fieldTags:"Tags",tagsPlaceholder:"Enter tags separated by commas",cancel:"Cancel",create:"Create",save:"Save",close:"Close",deleteArticleTitle:"Delete Article",deleteArticleDesc:"Are you sure you want to delete this article? This action cannot be undone.",confirmDelete:"Delete",articleDetail:"Article Details",createdAt:"Created",updatedAt:"Updated",sourceMemoryId:"Source Memory ID",createQaTitle:"Create Q&A",createQaDesc:"Add a new question and answer pair",editQaTitle:"Edit Q&A",editQaDesc:"Modify Q&A details",fieldQuestion:"Question",fieldAnswer:"Answer",fieldSource:"Source",selectSource:"Select source",fieldConfidence:"Confidence",fieldVerified:"Verified",verified:"Verified",unverified:"Unverified",deleteQaTitle:"Delete Q&A",deleteQaDesc:"Are you sure you want to delete this Q&A pair? This action cannot be undone.",qaDetail:"Q&A Details",qaDetailDesc:"View question and answer details",noAnswer:"No answer yet",metadata:"Metadata",createSuccess:"Article created",createError:"Failed to create article",updateSuccess:"Article updated",updateError:"Failed to update article",deleteSuccess:"Article deleted",deleteError:"Failed to delete article",createQaSuccess:"Q&A created",createQaError:"Failed to create Q&A",updateQaSuccess:"Q&A updated",updateQaError:"Failed to update Q&A",deleteQaSuccess:"Q&A deleted",deleteQaError:"Failed to delete Q&A",embeddingSuccess:"Embedding generated",embeddingError:"Failed to generate embedding",aiSuggestSuccess:"AI suggestion generated",aiSuggestError:"Failed to generate AI suggestion",filter_all:"All",filter_active:"Active",filter_inactive:"Inactive",qaFilter_all:"All",qaFilter_verified:"Verified",qaFilter_unverified:"Unverified",qaFilter_ai_generated:"AI Generated",category_general:"General",category_product:"Product",category_partner:"Partner",category_policy:"Policy",category_faq:"FAQ",category_promotion:"Promotion",category_order:"Order",category_other:"Other",source_manual:"Manual",source_customer_asked:"Customer Asked",source_ai_generated:"AI Generated",source_import:"Imported"},whatsappFlowsPage:{title:"WhatsApp Flows",subtitle:"Automated conversation flow management",newFlow:"New Flow",totalFlows:"Total Flows",activeFlows:"Active Flows",totalTriggered:"Total Triggered",conversionRate:"Conversion Rate",flowList:"Flow List",searchPlaceholder:"Search flows...",tabAll:"All",statusActive:"Active",statusPaused:"Paused",statusCompleted:"Completed",statusArchived:"Archived",statusDraft:"Draft",tabCompletedShort:"Done",noFlows:"No flows yet",triggered:"triggered",viewDetails:"View Details",edit:"Edit",pause:"Pause",activate:"Activate",delete:"Delete",editFlow:"Edit Flow",createFlow:"Create Flow",editFlowDesc:"Modify flow configuration",createFlowDesc:"Create a new automated flow",flowName:"Flow Name",flowNamePlaceholder:"Enter flow name",description:"Description",descriptionPlaceholder:"Enter description...",flowType:"Flow Type",flowType_acquisition:"Acquisition",flowType_onboarding:"Onboarding",flowType_reengagement:"Re-engagement",flowType_support:"Support",flowType_promotion:"Promotion",flowType_survey:"Survey",triggerType:"Trigger Type",triggerType_keyword:"Keyword",triggerType_qr_code:"QR Code",triggerType_link:"Link",triggerType_ad_click:"Ad Click",triggerType_manual:"Manual",triggerType_scheduled:"Scheduled",triggerValue:"Trigger Value",triggerValuePlaceholder:"Enter trigger value...",steps:"Steps",stepsHint:"Define flow steps as JSON array",targetAudience:"Target Audience",targetAudienceHint:"Define target audience as JSON",cancel:"Cancel",save:"Save",create:"Create",flowDetails:"Flow Details",status:"Status",createdAt:"Created At",updatedAt:"Updated At",executionStats:"Execution Stats",totalExecutions:"Total Executions",inProgress:"In Progress",completed:"Completed",converted:"Converted",close:"Close",confirmDeleteTitle:"Delete Flow",confirmDeleteDesc:"Are you sure you want to delete this flow? This action cannot be undone.",confirmDelete:"Delete",flowCreated:"Flow created",createFailed:"Failed to create flow",flowUpdated:"Flow updated",updateFailed:"Failed to update flow",flowDeleted:"Flow deleted",deleteFailed:"Failed to delete flow",statusToggled:"Flow status updated",toggleFailed:"Failed to update status",nameRequired:"Flow name is required",invalidStepsJson:"Invalid steps JSON format",invalidAudienceJson:"Invalid audience JSON format"},notificationsPage:{title:"Notification Center",subtitle:"System event notifications and WhatsApp push management",unread:"Unread",today:"Today",thisWeek:"This Week",all:"All",withdrawal:"Withdrawal",order:"Order",shipping:"Shipping",partner:"Partner",system:"System",markRead:"Mark as Read",markAllRead:"Mark All Read",pushWhatsapp:"Push to WhatsApp",noNotifications:"No notifications",typeWithdrawal:"Withdrawal Request",typeNewOrder:"New Order",typeOrderStatus:"Order Status",typeShipping:"Shipping Update",typeNewPartner:"New Partner",typeEscalation:"Escalation",typeSystem:"System",pushSuccess:"WhatsApp push successful",pushFailed:"Push failed",selectAdmin:"Select admin to push",sent:"Sent",notSent:"Not sent"},orderSupplementPage:{title:"Order Supplement",history:"History",newSession:"New Session",statSessions:"Sessions",statOrders:"Orders Created",statPartners:"Partners Created",statMembers:"Members Registered",statAmount:"Total Amount",noHistory:"No supplement records",confirmed:"Confirmed",cancelled:"Cancelled",inProgress:"In Progress",welcomeTitle:"AI Order Supplement Assistant",welcomeDesc:"Describe the bank transfer payments received, and I'll help organize them into orders, partner joins, or member registrations.",exampleTitle:"Example inputs:",inputPlaceholder:"Describe the transfer details...",readyToConfirm:"Data is ready, please confirm to execute",confirmExecute:"Confirm & Execute",confirmSuccess:"Execution successful",actionsCompleted:"actions completed",executionComplete:"Execution complete",membersCreated:"Members registered",partnersCreated:"Partners created",ordersCreated:"Orders created",totalAmount:"Total amount",failed:"failed",error:"Operation failed",boxes:"boxes",memberReg:"Member Registration",sendImageTip:"You can also send transfer screenshots directly",sentImage:"[Image]",uploadFailed:"Upload failed",imageOnly:"Please select an image file",imageTooLarge:"Image cannot exceed 10MB",attachReceipt:"Attach receipt",receiptAttached:"Receipt attached",receiptUploaded:"Receipt uploaded",actualPaid:"Actual Paid"}},Ure={title:"Brand Story",subtitle:"Sailing Against the Wind, Born for Love",founderStory:"Founder's Story",brandValues:"Brand Values",milestones:{2020:"Brand founded in Kuala Lumpur, focusing on premium fresh-stewed bird's nest",2022:"Established our own swiftlet house base in Malaysia, achieving raw material self-control",2024:"Innovative product line upgrade, launched new flavor series, well-received by market",2025:"Brand officially renamed to LOVEYOUNG, opening a new brand era",2026:"Launched 'Sailing Against The Wind' program, introduced RWA partner system",2027:"Plan to enter Singapore and Hong Kong markets, establish regional distribution network",2028:"Goal to launch probiotics, collagen and other new categories, completing health ecosystem",2030:"Vision to become Southeast Asia's leading women's health nourishing brand"},community:"Community",mission:"Mission",vision:"Vision",values:{love:{title:"Love at Core",description:"Every product carries deep care for women's health, from ingredients to formula, protecting every customer with heart."},natural:{title:"Natural & Pure",description:"Carefully selecting bird's nest and fish maw from the world's finest regions, rejecting additives, preserving nature's most precious gifts."},quality:{title:"Quality Assured",description:"Full cold-chain delivery, individual packaging, every batch passes strict quality inspection, ensuring freshness and safety."},global:{title:"Global Vision",description:"Integrating Southeast Asia's top bird's nest resources, introducing international quality management systems, creating a world-class nourishing brand."}},quality:"Quality First",qualityDesc:"Carefully selected premium ingredients, crafted with care",fresh:"Fresh Delivery",freshDesc:"Daily fresh cooking, cold chain delivery, locking in nutrition",care:"Caring Service",careDesc:"Professional consultant team, caring service for every customer",whatsappMessage:"Hello, I would like to learn more about LOVEYOUNG brand.",hero:{title:"Sailing Against The Wind",titleSub:"Premium Selection",description:"LOVEYOUNG Fresh Stew, a premium nourishing brand from Malaysia. We believe every woman deserves to be treated with tenderness, awakening elegant strength from within with the purest nourishment."},foundersSection:{badge:"Brand Stories",title:"Sailing Against The Wind  Founders' Story",subtitle:"Three life paths, one direction  health shouldn't just be a remedy when problems arise, but a gentle daily commitment",summaryTitle:"Three Life Paths  One Direction",summaryText:"They've all walked through challenges, faced reality, and made choices at different stages of life. In the end, they united under the same philosophy  this is the true spirit of 'Sailing Against The Wind'."},founders:{vivian:{subtitle:"The one who started with a bowl of fish maw and bird's nest",motto:"Staying true to our mission  making 'good things' the best they can be",story:"Vivian was the first to embark on this journey. From sharing on social media, she gradually brought fish maw and bird's nest into larger communities, postpartum centers, beauty salons, and into countless women's daily lives.",insight:"She wasn't in a hurry to scale up. Instead, she spent most of her time on the product itself  testing taste, researching formulas, adjusting sweetness and consistency  all to find the perfect balance of delicious and truly nourishing.",belief:"Quality is the steadiest ship in the storm.",focus:"Product Excellence"},agnes:{subtitle:"After seeing too many stories, she chose to protect health",motto:"She believes true wealth is never about numbers",story:"Agnes was a strong woman in the insurance industry. Years of career experience showed her countless highs and lows  some achieved brilliant careers but lost their health; some had abundant wealth but neglected themselves and their families.",insight:"These real stories from clients made her gradually understand: physical and mental health is the foundation of all protection. She hopes to transform her years of understanding about 'risk, protection, and long-term value' into a more life-embracing companionship.",belief:"Helping those around us take care of themselves, even in the midst of busy and stressful lives.",focus:"Understanding Risk & Protection"},andrey:{subtitle:"Under the spotlight, she understands true wellness",motto:"Beauty shouldn't come from anxiety, but from a state of being",story:"Andrey became a professional car model in her teens, later developing into a KOL in social media. Active at galas, parties, fashion and social events, she's seen too many definitions of 'beauty'  quick, superficial, consumed.",insight:"But she's become increasingly clear: what truly keeps people youthful and charming isn't external additions, but stable mindset, healthy eating, and a light body. For her, fish maw and bird's nest isn't a 'supplement', but a daily choice that brings the body back to balance and makes life more graceful.",belief:"The best self-care is not forcing yourself.",focus:"Leading Women's Lifestyle Trends"}},origin:{title:"Our Beginning",p1:"In 2020, three like-minded women met in Kuala Lumpur. They shared a common experience  neglecting their own health in busy lives until their bodies sent warning signals, making them realize the importance of nourishing wellness.",p2:"However, truly high-quality, preservative-free fresh-stewed fish maw and bird's nest products were rare in the market. This is the healthiest way to nourish, yet very time-consuming to prepare. Urban women often busy caring for family and work simply couldn't make a proper bowl for themselves.",p3:"So they decided to create their own brand, using the strictest standards and most sincere intentions to provide the purest and most convenient nourishment for every busy woman.",p4:"This is the birth of LOVEYOUNG  love yourself first, then love the world better."},production:{title:"Craftsmanship & Quality",p1:"From personally sourcing bird's nest and fish maw at their origins to rigorous screening of every batch, we only select quality ingredients that meet our standards for production.",p2:"All products are cooked and packaged at LoveYoung's own sterile production facility, using low-temperature slow-stewing techniques to preserve the ingredients' nutrition and taste layers while ensuring hygiene and safety.",p3:"Every bottle of fresh-stewed product undergoes multiple quality inspections and is delivered through full cold-chain logistics, ensuring what reaches you is always fresh, safe, and trustworthy quality.",stat1:"Direct from Origin",stat2:"Additives & Preservatives"},valuesSection:{subtitle:"We believe true beauty comes from health, true strength comes from within. LOVEYOUNG is not just a brand, but a way of life."},lifestyle:{title:"Elegant Lifestyle",subtitle:"LOVEYOUNG advocates not just products, but an elegant lifestyle from within",wellness:{title:"Health & Wellness",description:"A bottle of fresh-stewed bird's nest daily, starting your day full of vitality"},community:{title:"Community Connection",description:"Share wellness insights with like-minded sisters"},events:{title:"Brand Events",description:"Join exclusive salons, experience elegant circles"}},philosophy:{title:"Sailing Against The Wind  Women's Power",p1:"'Sailing Against The Wind' is not just our brand spirit, but a tribute to every modern woman. In life's storms, we believe every woman has the courage to ride the waves.",p2:"LOVEYOUNG is committed to being a solid support for women's growth journey. Whether you're a career elite, stay-at-home mom, or entrepreneur, we hope to recharge your energy with the finest nourishing products, helping you move forward gracefully even in adversity.",stat1:"Loyal Customers",stat2:"Years of Brand Journey",stat3:"Natural Ingredients"},milestonesSection:{title:"Brand Journey & Future Blueprint",subtitle:"From founding to soaring, our story has just begun",futurePlan:"Future Plan",inProgress:"In Progress"},partnerStories:{title:"Partner Stories",p1:"Every LOVEYOUNG partner has their own amazing story. They come from different backgrounds  some are stay-at-home moms, some are office professionals, some are seasoned entrepreneurs. But they all have one thing in common: they chose LOVEYOUNG, they chose to sail against the wind.",p2:"We're preparing a partner story blog column, where we'll share these beautiful women's entrepreneurial journeys, growth insights, and success experiences. Stay tuned!",becomePartner:"Become a Partner",learnMore:"Learn More",alt1:"Partner Story - Lisa",alt2:"Partner Story - Sarah",alt3:"Partner Story - Emma"},futureVision:{title:"Future Vision",p1:"LOVEYOUNG's goal is not only to become Southeast Asia's leading women's health nourishing brand, but also to build a complete women's health ecosystem.",p2:"From bird's nest and fish maw to probiotics and collagen, we will continuously enrich our product line to meet women's comprehensive health needs. Through the RWA partner program, we help more women achieve both wealth and health.",goal1:"2027: Enter Singapore & Hong Kong markets",goal2:"2028: Launch new health categories",goal3:"2030: Become regional leading brand"},communityWellness:{title:"Community Events  Healthy Living",subtitle:"LOVEYOUNG is not just a brand, but a community that empowers women's growth",impact:{title:"Community Impact",description:"Empowering Malaysian women, creating positive social impact through LOVEYOUNG Academy and charitable activities."},wellnessLife:{title:"Wellness Lifestyle",description:"From meditation to yoga, from workplace to social life, LOVEYOUNG accompanies modern women in every life scenario."},brandEvents:{title:"Brand Event Experience",description:"From reception to tours, from exchanges to parties, creating unique origin journey experiences for partners."}},cta:{title:"Begin Your Elegant Wellness Journey",description:"Every LOVEYOUNG product is our commitment to quality, our persistence in health, our pursuit of beauty.",viewProducts:"Browse Products",whatsapp:"WhatsApp Inquiry"}},qre={heroTagline:"Against The Wind",heroTitle:"Sailing Against The Wind",heroTitleSub:"Redefining Women's Power",heroDesc:"From Young Love (nourishing others) to Love Young (loving yourself first).",heroDescSub:"This isn't just a brand reversal, but an awakening of every woman's soul.",heroOrderBtn:"Start Your Journey",cnyGiftBox:"CNY Gift Box - Order Now",heroPartnerBtn:"Join Our Program",whatsappMessage:"Hello, I am interested in LOVEYOUNG Bird's Nest and Fish Maw products. I would like to learn more.",brandTitle:"Brand Origin:",brandTitleSub:"Courage to Reverse",brandQuote:"If you don't take yourself seriously, the world won't either.",brandP1:"Love Young was founded by three young women who healed and grew stronger after emotional trauma. We've been at rock bottom, asked to give endlessly, forgetting how to love ourselves.",brandP2:'"Young Love" was a beautiful accident in our design, meaning nourishing others. But we decided to reverse it to "Love Young"  loving that young, authentic self first.',brandP3:`What we offer isn't just a RM488 gift box, but a commitment to yourself about being "fresh, special, exquisite, and precious."`,brandSelfHealing:"Self-Healing Spirit",brandAwakening:"Women's Awakening",brandQuality:"Premium Quality",brandCommunity:"Community Building",productsTitle:"Premium Fresh Collection",productsSubtitle:"6-jar luxury gift box, 12 flavors customized batch fresh stew, cold chain delivery.",product1Name:"Spinning Bloom  Round Premium Box",product1Desc:"Innovative multi-layer rotating structure, Eastern charm of vermillion and ink green. Contains 6 jars of high-concentration fresh-stewed fish maw and bird's nest.",product2Name:"Splendid Chapter  Square Premium Box",product2Desc:"Classic square design, gold thread and ink green intertwined, craftsmanship details. Contains 6 jars of high-concentration fresh-stewed fish maw and bird's nest.",product3Name:"Jade Rabbit  Limited Edition Box",product3Desc:"New Year limited edition, fresh jade-like color scheme. Contains 6 jars of high-concentration fresh-stewed fish maw and bird's nest.",viewAllProducts:"View All Products",viewAllBundles:"View All Packages",noProducts:"No products available",orderNow:"Order Now",rwaTitle:"RWA Partner Program",rwaSubtitle:"Digital Asset Co-creation, Brand Value Sharing",rwaDesc:"Empowered by blockchain technology, every woman can participate in brand building and share in growth dividends.",rwaFeature1:"Transparent Dividends",rwaFeature1Desc:"Smart contract execution, transparent earnings",rwaFeature2:"Community Driven",rwaFeature2Desc:"Member referral growth, co-building brand community",rwaFeature3:"Asset Growth",rwaFeature3Desc:"Brand grows, digital assets appreciate together",rwaFeature4:"Multiple Earnings",rwaFeature4Desc:"Direct referral rewards + repurchase rebates + bonus pool",rwaLearnMore:"Learn About Program",rwaJoinNow:"Join Now",ctaTitle:"Start Your Nourishing Journey",ctaTitleSub:"Nourishing Journey",ctaDesc:"Whether for yourself or your loved ones, Love Young brings you the purest nourishment experience.",ctaOrderBtn:"WhatsApp Inquiry",ctaShopBtn:"Visit Meta Shop",productCard1Name:"Blooming Rotation  Round Premium Gift Box",productCard1Desc:"Innovative multi-layer rotating structure with oriental charm. Contains 6 jars of high-concentration fresh-stewed fish maw and bird's nest.",productCard2Name:"Against The Wind  Classic Custom Series",productCard2Desc:"12 customizable flavors. Natural ingredients like ginseng, red dates, and goji berries. Zero additives for peace of mind.",productCard2PriceFrom:"from",productCard3Name:"Seasonal Limited  Festival Edition",productCard3Desc:"Limited designs for CNY/Mid-Autumn/Dragon Boat festivals. Premium gifting choice with festive elements.",bookNow:"Book Now",viewFlavors:"View Flavors",comingSoon:"Coming Soon",partnerSectionTitle:"RWA Partner Program",partnerSectionSubtitle:"Breaking traditional agency models. We don't seek investors, only brand co-builders.",phase1Title:"Phase 1: RM 1,000",phase1Desc:"Receive 2,000 LY energy points, first box product gift, and brand co-building benefits.",phase1Feature1:"50% cashback on first 5 boxes",phase1Feature2:"30% global bonus pool dividend rights",phase1Feature3:"Premium photo shoot",phase2Title:"Phase 2: RM 1,300",phase2Desc:"Higher dividend weight and social celebrity event tickets.",phase2Feature1:"1.2x dividend weight",phase2Feature2:"VIP bird's nest factory visit",phase2Feature3:"Micro-film participation opportunity",phase3Title:"Phase 3: RM 1,500",phase3Desc:"For mature entrepreneurs. Brand co-branding and deep business collaboration.",phase3Feature1:"Top-tier bonus pool allocation",phase3Feature2:"Exclusive brand co-branding rights",phase3Feature3:"Priority international market access",joinNow:"Join Now",limitedApply:"Limited Slots",learnMore:"Learn More",hotSelling:"HOT SELLING",only50Slots:"Only 50 Slots",waitingToOpen:"Waiting to Open",revenueLogicTitle:"Transparent Revenue Logic",revenueLogicDesc:"Love Young rejects pyramid schemes. Every cent of income comes from real product sales. We use LY (Energy) to record your contribution.",salesCashback:"Sales Cashback",globalPool:"Global Bonus Pool",salesPercentage:"30% of Sales",dividendCycle:"Dividend Cycle",every10Days:"Settlement every 10 days",lyNetworkTitle:"10-Level Points System",tier1Direct:"Tier 1 (Direct)",tier2:"Tier 2",tier3to5:"Tier 3-5",tier6to10:"Tier 6-10",totalReferral:"Total LY Replenish",lyNetworkNote:"* LY energy points unlock cash dividends, automatically replenished through referral network sales.",dashboardTitle:"Real-time Dashboard",dashboardDesc:"Visualize your energy points, RWA weight, and 10-level network. Every number witnesses your growth.",dashboardCta:"Partner Portal",dashboardBrandName:"Love Young Dashboard",dashboardSubtitle:"Partner Management Center",lyEnergy:"LY Energy",phase1Bonus:"Phase 1 Bonus",thisWeek:"This Week",totalEarnings:"Total Earnings",startEarning:"Start earning now",perCycle:"Per cycle",thisMonth:"This Month",teamMembers:"Team Members",networkLevels:"10-Level Network",tenLevelNetwork:"10-Level Network",currentPoolCycle:"Current Pool Cycle",daysRemaining:"{days} days remaining",accumulated:"Accumulated",estimatedDividend:"Est. Dividend",ctaSectionTitle:"Start Your Nourishing Journey",ctaSectionDesc:"Whether for yourself or your loved ones, Love Young brings you the purest nourishment experience."},Vre={whatsappMessage:"Hello, I would like to order LOVEYOUNG products.",orderMessage:"Hello, I would like to order {productName}.",hero:{title:"Premium Selection  Quality Nourishment",description:"Every product reflects our relentless pursuit of quality. From Indonesian golden swiftlet nests to deep-sea fish maw, we only select the finest ingredients to bring you the purest nourishment.",shopNow:"Shop Now",whatsappConsult:"WhatsApp Inquiry"},categories:{all:"All Products",birdNest:"Bird's Nest Series",fishMaw:"Fish Maw Series",giftBox:"Gift Box Sets"},badges:{hot:"Hot",new:"New",save:"Save"},units:{box:"box",set:"set"},items:{bnClassic:{name:"Classic Original Bird's Nest",subtitle:"6-Jar Gift Box",feature1:"Indonesian Golden Swiftlet",feature2:"No Added Sugar",feature3:"Ready-to-Eat"},bnPremium:{name:"Rock Sugar Imperial Nest",subtitle:"6-Jar Premium Edition",feature1:"Premium Nest",feature2:"Slow-Stewed Rock Sugar",feature3:"Rich & Thick Texture"},fmCollagen:{name:"Fish Maw Collagen Stew",subtitle:"6-Jar Pack",feature1:"Deep-Sea Fish Maw",feature2:"Rich in Collagen",feature3:"Beauty & Nourishment"},fmMilk:{name:"Milk Fish Maw Stew",subtitle:"6-Jar Pack",feature1:"New Zealand Milk",feature2:"Rich & Creamy",feature3:"Extra Nutrition"},giftLuxury:{name:"Sailing Against Wind Luxury Box",subtitle:"Bird's Nest + Fish Maw Combo",feature1:"3 Jars Premium Nest",feature2:"3 Jars Premium Fish Maw",feature3:"Luxury Gift Packaging"},giftWellness:{name:"Wellness Premium Gift Box",subtitle:"Full Series Sampler",feature1:"4 Flavors, 1 Jar Each",feature2:"Elegant Gift Bag",feature3:"Perfect for Gifting"}},benefits:{natural:{title:"100% Natural",description:"Premium ingredients, no additives"},quality:{title:"Quality Assured",description:"Every batch passes quality inspection"},coldChain:{title:"Cold Chain Delivery",description:"Full cold chain, fresh to your door"},packaging:{title:"Elegant Packaging",description:"Perfect for gifting or self-use"}},quality:{title:"Origin Traceability  Craftsmanship",description:"Our bird's nest comes from Indonesia's finest swiftlet houses, each nest carefully selected. Fish maw is sourced from deep-sea wild fish, rich in natural collagen.",imageAlt:"Quality Assurance",traceability:{title:"Ingredient Traceability",description:"Every batch traceable to origin, ensuring safe and reliable sources"},craftsmanship:{title:"Traditional Craftsmanship",description:"Traditional slow-stewing techniques preserve complete nutritional content"},inspection:{title:"Strict Quality Control",description:"Every batch passes microbial, heavy metal and multiple tests"}},cta:{title:"Begin Your Nourishing Journey",description:"Whether for personal wellness or gifting loved ones, LOVEYOUNG is your elegant choice.",goToShop:"Go to Shop",consultWellness:"Consult Wellness Advisor"}},Kre={successTitle:"Payment Successful!",successDesc:"Your order has been confirmed",processing:"Processing your order...",viewOrder:"View Order",continueShopping:"Continue Shopping",backToHome:"Back to Home"},zre={title:"LOVE YOUNG Assistant",greeting:"Hello! I'm the LOVE YOUNG smart assistant, happy to help you  Feel free to ask me about products, partner plans, or our company.",loginRequired:"Please log in or register to start chatting",login:"Login",register:"Register",placeholder:"Type your question...",send:"Send",thinking:"Thinking...",categories:{brand:"Brand",founders:"Founders",products:"Products",orders:"Orders",partner:"Partner Program"},categoryQuestions:{brand:"Tell me about LOVE YOUNG brand",founders:"Tell me the founder stories",products:"What products do you recommend",orders:"Order related questions",partner:"What is the Partner Program"},topics:{brandIntro:"Brand Philosophy",brandValues:"Brand Values",vivian:"Vivian's Story",agnes:"Agnes's Story",andrey:"Andrey's Story",recommend:"Recommendations",giftBox:"Gift Box",price:"Pricing",howToOrder:"How to Order",shipping:"Shipping",refund:"Refunds",intro:"Introduction",cashback:"Cashback",rwa:"RWA Dividend",lyPoints:"LY Points",network:"Network",referral:"Referral Bonus"},topicQuestions:{brandIntro:"What is LOVE YOUNG's brand philosophy?",brandValues:"What are LOVE YOUNG's core values?",vivian:"Tell me about founder Vivian",agnes:"Tell me about founder Agnes",andrey:"Tell me about founder Andrey",recommend:"What products do you recommend?",giftBox:"What is the Fortune Gift Box?",price:"How much is bird's nest per box?",howToOrder:"How do I place an order?",shipping:"How long is shipping?",refund:"Can I get a refund?",intro:"What is the Partner Program?",cashback:"How does cashback work?",rwa:"What is RWA dividend?",lyPoints:"What are LY points for?",network:"What is network replenishment?",referral:"What are the referral rewards?"},backToTopics:"Back",feedback:{helpful:"Helpful",notHelpful:"Not helpful"},recommendProducts:"Here are some products we recommend:",recommendPackages:"Partner packages for you:",viewProduct:"View",orderNow:"Order Now",joinNow:"Join Now",error:"Sorry, something went wrong. Please try again later.",referralLabel:"Referral",transferHuman:"Contact Support",restart:"New Chat",whatsappLabel:"WhatsApp Chat"},Wre={auth:jre,common:Nre,nav:kre,header:Pre,hero:_re,stats:Sre,products:Cre,innovation:Are,order:Tre,testimonials:Ere,cta:Ore,footer:Dre,flavors:Mre,packages:Rre,target:Ire,states:Lre,member:$re,partner:Fre,admin:Bre,brand:Ure,landing:qre,productsPage:Vre,checkout:Kre,chatbot:zre},Hre={login:"Log Masuk",signup:"Daftar",logout:"Log Keluar",email:"E-mel",password:"Kata Laluan",confirmPassword:"Sahkan Kata Laluan",firstName:"Nama Pertama",lastName:"Nama Akhir",welcomeBack:"Log Masuk / Daftar",or:"atau",continueWithGoogle:"Teruskan dengan Google",loginSuccess:"Log masuk berjaya",loginFailed:"Log masuk gagal",signupSuccess:"Pendaftaran berjaya",signupFailed:"Pendaftaran gagal",checkEmail:"Sila semak e-mel anda untuk mengesahkan akaun",passwordMismatch:"Kata laluan tidak sepadan",forgotPassword:"Lupa kata laluan?",resetPassword:"Tetapkan Semula Kata Laluan",noAccount:"Tiada akaun?",hasAccount:"Sudah ada akaun?",sendOTP:"Hantar Kod Pengesahan",enterOTP:"Masukkan Kod Pengesahan",verifyOTP:"Sahkan",otpSent:"Kod pengesahan dihantar",otpResent:"Kod pengesahan dihantar semula",checkEmailForOTP:"Semak e-mel anda untuk kod 6 digit",otpSentTo:"Kod pengesahan dihantar ke",sendOTPFailed:"Gagal menghantar kod pengesahan",verifyOTPFailed:"Pengesahan gagal",resendOTP:"Hantar Semula Kod",changeEmail:"Tukar E-mel",completeProfile:"Lengkapkan Profil Anda",newUserWelcome:"Selamat datang ke LOVEYOUNG! Sila lengkapkan maklumat anda",phone:"Nombor Telefon",fillRequired:"Sila lengkapkan ruangan yang diperlukan",profileSaved:"Profil berjaya disimpan",profileSaveFailed:"Gagal menyimpan profil",saveAndContinue:"Simpan dan Teruskan"},Gre={loading:"Memuatkan...",error:"Ralat berlaku",retry:"Cuba semula",save:"Simpan",cancel:"Batal",confirm:"Sahkan",delete:"Padam",edit:"Edit",add:"Tambah",search:"Cari",filter:"Tapis",all:"Semua",back:"Kembali",next:"Seterusnya",submit:"Hantar",close:"Tutup",view:"Lihat",details:"Butiran",status:"Status",actions:"Tindakan",total:"Jumlah",date:"Tarikh",time:"Masa",name:"Nama",phone:"Telefon",email:"E-mel",address:"Alamat",price:"Harga",quantity:"Kuantiti",amount:"Amaun",none:"Tiada",yes:"Ya",no:"Tidak",viewDetails:"Lihat Butiran",whatsappConsult:"Pertanyaan WhatsApp"},Yre={products:"Produk",benefits:"Kelebihan",howToOrder:"Cara Pesan",testimonials:"Ulasan",partner:"Jadi Rakan",brand:"Kisah Jenama",member:"Pusat Ahli",memberCenter:"Pusat Ahli",home:"Laman Utama",admin:"Panel Admin"},Jre={whatsapp:"WhatsApp",shop:"Kedai",login:"Log Masuk",account:"Akaun Saya",logout:"Log Keluar"},Qre={fresh:"Segar",noCompromise:"Tiada Kompromi",subtitle:"LOVEYOUNG Sarang Burung & Pundi Ikan  Segar Setiap Hari",description:"Tiada pengawet, tiada produk semalam. Kami memasak pada hari yang sama dan penghantaran rantai sejuk untuk pengalaman paling segar.",orderNow:"Pesan Sekarang",exploreFlavors:"Terokai Rasa",repeatCustomers:"Pelanggan Setia",nextBatch:"Batch Segar Seterusnya",giftBox:"Set Hadiah Sarang Burung",giftBoxDesc:"6 Balang  120g setiap satu",original:"Original",redDate:"Kurma Merah",fishMaw:"Pundi Ikan",giftPrice:"Harga Set Hadiah",perBox:"/kotak",whatsappOrder:"Pesan via WhatsApp",bestseller:"Terlaris"},Xre={customers:"Pelanggan Gembira",flavors:"Pilihan Rasa",freshCycle:"Kitaran Segar",rating:"Kepuasan",whyTrust:"Mengapa Pilih Kami",customersLabel:"Pelanggan Setia",customersSub:"Kepercayaan melalui kualiti",flavorsLabel:"Rasa Terpilih",flavorsSub:"Sesuatu untuk semua orang",freshLabel:"Segar Ekspres",freshSub:"Masak hingga penghantaran",ratingLabel:"Ulasan Terbaik",ratingSub:"Maklum balas pelanggan sebenar"},Zre={discovery:"Penemuan Rasa",explore:"Terokai",flavors:"8 Rasa",viewAll:"Lihat Semua",birdNest:"Siri Sarang Burung",fishMaw:"Siri Pundi Ikan",giftBox:"Siri Set Hadiah",allProducts:"Semua Produk",orderNow:"Pesan Sekarang",addToCart:"Tambah ke Troli",outOfStock:"Kehabisan Stok"},ese={whyDifferent:"Mengapa Berbeza",title:"Inovasi",subtitle:"Melangkaui Had",description:"Kami mentakrifkan semula sarang burung rebus segar dengan teknologi dan kerajinan",science:"Formula Saintifik",scienceSub:"Diuji Makmal",scienceDesc:"Bahagian dikira dengan tepat untuk keseimbangan nutrisi optimum",scienceStat:"Nutrisi Dikekalkan",coldChain:"Rantai Sejuk Segar",coldChainSub:"Rantai Sejuk",coldChainDesc:"Rantai sejuk 4C penuh dari masakan hingga penghantaran",coldChainStat:"Suhu Malar",freshDaily:"Segar Harian",freshDailySub:"Segar Setiap Hari",freshDailyDesc:"Dibuat segar setiap hari, tidak pernah bermalam",freshDailyStat:"Kitaran Masakan",fullPortion:"Bahagian Penuh",fullPortionSub:"Bahagian Penuh",fullPortionDesc:"Tiada jalan pintas, setiap balang diisi dengan bahan sebenar",fullPortionStat:"Kandungan Bersih"},tse={title:"Tiga Langkah,",subtitle:"Segar ke Pintu Anda",step1:"Pertanyaan WhatsApp",step1Desc:"Hubungi satu klik, perunding berdedikasi dalam talian",step2:"Pilih Rasa",step2Desc:"8 rasa klasik untuk dipilih",step3:"Penghantaran Rantai Sejuk",step3Desc:"Rantai sejuk profesional, segar ke pintu anda",whatsappOrder:"Pesan WhatsApp",metaShop:"Kedai Meta",selectPackage:"Pilih Pakej",selectPackageDesc:"Pilih pakej pilihan anda",selectFlavors:"Pilih Rasa",selectFlavorsDesc:"Pilih kombinasi rasa kegemaran anda",confirmOrder:"Sahkan Pesanan",confirmOrderDesc:"Sila sahkan butiran pesanan anda",remaining:"Baki",birdNestFlavors:"Rasa Sarang Burung",fishMawFlavors:"Rasa Pundi Ikan",orderSummary:"Ringkasan Pesanan",packageLabel:"Pakej",priceLabel:"Harga",flavorSelection:"Pilihan Rasa",selectOrderMethod:"Pilih kaedah pesanan",back:"Kembali",next:"Seterusnya",moreNeeded:"lagi diperlukan",jarsUnit:" balang",greeting:"Helo, saya ingin memesan Sarang Burung LOVEYOUNG:",confirmRequest:"Sila sahkan pesanan saya, terima kasih!",startOrder:"Mula Pesan",deliveryInfo:"Maklumat Penghantaran",deliveryInfoDesc:"Sila isi alamat penghantaran dan butiran hubungan anda",customerName:"Nama",phone:"Nombor Telefon",address:"Alamat",city:"Bandar",state:"Negeri",postcode:"Poskod",deliveryDate:"Tarikh Penghantaran Pilihan (Pilihan)",submitOrder:"Hantar Pesanan",orderSuccess:"Pesanan Dihantar!",yourOrderNumber:"Nombor Pesanan Anda",trackOrder:"Jejak Pesanan",orderSubmitting:"Menghantar...",orderConfirmed:"Pesanan Disahkan",orderConfirmedDesc:"Kami telah menerima pesanan anda dan akan menghubungi anda tidak lama lagi.",continueOrdering:"Terus Memesan",viewOrder:"Lihat Pesanan",selectState:"Pilih Negeri",required:"Diperlukan",optional:"Pilihan",loginForSavedAddress:"Log masuk untuk menggunakan alamat tersimpan",loginBenefit:"Ahli boleh mengisi alamat dengan cepat dan mendapat mata",loginOrRegister:"Log Masuk / Daftar",continueAsGuest:"Teruskan sebagai tetamu",selectSavedAddress:"Pilih alamat tersimpan",useNewAddress:"Gunakan alamat baru",backToSavedAddresses:"Kembali ke alamat tersimpan",saveAddressToProfile:"Simpan alamat ke akaun saya",payment:"Pembayaran",paymentDesc:"Lengkapkan pembayaran untuk mengesahkan pesanan",proceedToPayment:"Teruskan ke Pembayaran",totalAmount:"Jumlah Keseluruhan",payOnline:"Bayar Dalam Talian (Stripe)",processing:"Memproses...",paymentMethods:"Menyokong Kad Kredit, FPX, GrabPay",needHelp:"Perlukan bantuan?",referralCode:"Kod Rujukan (Pilihan)",referralCodeValid:"Kod rujukan sah",referralCodeInvalid:"Masukkan kod rujukan yang sah",memberDiscount:"Diskaun ahli digunakan"},ase={realReviews:"Ulasan Sebenar",title:"Pelanggan",subtitle:"Ulasan",rating:"Penilaian",repeatCustomer:"Pembeli Berulang"},nse={title:"Mulakan",subtitle:"Perjalanan Segar Anda",description:"Pesan sekarang untuk tawaran eksklusif pelanggan baru. Bekalan harian terhad, siapa cepat dia dapat!",whatsappOrder:"Pesan WhatsApp Sekarang",metaShop:"Lawati Kedai Meta",hours:"Waktu: 9:00PG-9:00MLM",reply:"Balas dalam 24j"},rse={tagline:"Segar, Tiada Kompromi",description:"Belayar Menentang Angin, Mentakrifkan Semula Kuasa Wanita. Dari Young Love ke Love Young, kami percaya mencintai diri sendiri dahulu untuk mencintai dunia dengan lebih baik.",brandName:"Love Young",quickLinks:"Pautan Pantas",contactUs:"Hubungi Kami",businessHours:"Waktu Perniagaan",hoursValue:"Isn-Ahd 9:00PG-9:00MLM",clickToChat:"Klik untuk Berbual",responseTime:"Respons dalam 24 jam",allRightsReserved:"Hak Cipta Terpelihara",slogan:"Against The Wind | Belayar Menentang Angin",products:"Produk",birdNest:"Siri Sarang Burung",fishMaw:"Siri Pundi Ikan",dessert:"Set Pencuci Mulut",service:"Sokongan",faq:"Soalan Lazim",shipping:"Maklumat Penghantaran",contact:"Hubungi Kami",followUs:"Ikuti Kami",copyright:"Hak Cipta Terpelihara"},sse={original:"Original",redDate:"Kurma Merah Goji",snowPear:"Pear Gula Batu",peachGum:"Gam Pic",coconut:"Kelapa",mango:"Mangga",fishMawOriginal:"Pundi Ikan Original",fishMawRedDate:"Pundi Ikan Kurma Merah",modalTitle:"Panduan Rasa",recommended:"Padanan Disyorkan",targetAudience:"Sesuai Untuk",originalDesc:"Intipati sarang burung tulen, nutrisi lembut untuk penjagaan harian",redDateDesc:"Formula kurma merah goji, menyuburkan darah, kegemaran wanita",snowPearDesc:"Pear gula batu rebus, menyejukkan & menyamankan, sesuai untuk semua usia",peachGumDesc:"Campuran gam pic & kulat salji, kaya kolagen, makanan kecantikan",coconutDesc:"Padanan santan manis, licin lembut, menyegarkan",mangoDesc:"Ketulan mangga segar, rasa tropika, pembuka selera",fishMawOriginalDesc:"Pundi ikan yang banyak, kaya kolagen, nutrisi kecantikan",fishMawRedDateDesc:"Pundi ikan dengan kurma merah, nutrisi berganda, penjagaan hangat"},ise={title:"Pilih",subtitle:"Pakej Anda",oneBox:"Pakej Satu Kotak",oneBoxDesc:"7 Balang  Bekalan Seminggu",oneBoxInfo:"Disejukkan sehingga 14 hari",oneBoxPrice:"RM158",twoBox:"Pakej Dua Kotak",twoBoxDesc:"14 Balang  Bekalan Dua Minggu",twoBoxInfo:"Nilai Lebih Baik  Disejukkan sehingga 14 hari",twoBoxPrice:"RM298",twoBoxSave:"Jimat RM18",chooseFlavor:"Pilih Rasa",preOrder:"Pra-pesan Segar",popular:"Popular",bestValue:"Nilai Terbaik",perJar:"/balang"},ose={pregnant:"Kehamilan",pregnantDesc:"Nutrisi pranatal, perkembangan janin",pregnantFlavors:"Original, Kurma Merah Goji, Pundi Ikan Original",children:"Kanak-kanak",childrenDesc:"Menguatkan perlembagaan, menggalakkan pertumbuhan",childrenFlavors:"Mangga, Kelapa, Pear Gula Batu",beauty:"Pencinta Kecantikan",beautyDesc:"Penjagaan kecantikan, pengganti makanan ringan",beautyFlavors:"Gam Pic, Pundi Ikan Original, Original",health:"Penjagaan Kesihatan",healthDesc:"Kesejahteraan harian, tingkatkan imuniti",healthFlavors:"Kurma Merah Goji, Pear Gula Batu, Pundi Ikan Kurma Merah"},lse={johor:"Johor",kedah:"Kedah",kelantan:"Kelantan",melaka:"Melaka",negeriSembilan:"Negeri Sembilan",pahang:"Pahang",penang:"Pulau Pinang",perak:"Perak",perlis:"Perlis",sabah:"Sabah",sarawak:"Sarawak",selangor:"Selangor",terengganu:"Terengganu",kualaLumpur:"Kuala Lumpur",labuan:"Labuan",putrajaya:"Putrajaya"},cse={logout:"Log Keluar",center:{loading:"Memuatkan...",loginTitle:"Sila Log Masuk",loginDesc:"Log masuk untuk mengakses Pusat Ahli",loginButton:"Log Masuk / Daftar",logout:"Log Keluar",user:"Pengguna",defaultUser:"Pengguna",version:"LOVE YOUNG v1.0",backToCenter:"Kembali ke Pusat Ahli",memberBadge:"Ahli",sections:{account:{title:"Akaun"},member:{title:"Perkhidmatan Ahli"},partner:{title:"Pusat Rakan Kongsi",dashboard:"Gambaran Keseluruhan"},adminCore:{title:"Panel Admin"},erp:{title:"Sistem ERP"}},sectionDesc:{account:"Urus tetapan akaun dan pilihan anda",member:"Lihat pesanan, urus alamat dan mata",partner:"Data perniagaan, pengurusan pasukan dan pengeluaran",adminCore:"Ciri pengurusan teras platform",erp:"Pengurusan rantaian bekalan dan kewangan"},menuItems:{personalCenter:"Pusat Peribadi",personalCenterDesc:"Lihat gambaran keseluruhan akaun",accountSettings:"Tetapan Akaun",accountSettingsDesc:"Edit maklumat peribadi",notifications:"Pemberitahuan",notificationsDesc:"Mesej sistem dan peringatan",helpCenter:"Pusat Bantuan",helpCenterDesc:"Soalan lazim",orderHistory:"Sejarah Pesanan",orderHistoryDesc:"Lihat pesanan lepas",addresses:"Alamat",addressesDesc:"Urus alamat penghantaran",pointsCenter:"Pusat Mata",pointsCenterDesc:"Lihat baki mata dan tebus",paymentMethods:"Kaedah Pembayaran",paymentMethodsDesc:"Urus kaedah pembayaran",overview:"Gambaran Keseluruhan",overviewDesc:"Lihat data perniagaan dan prestasi",referralNetwork:"Rangkaian Rujukan",referralNetworkDesc:"Pasukan saya dan ahli bawahan",promoMaterials:"Bahan Promosi",promoMaterialsDesc:"Dapatkan bahan perkongsian",lyPoints:"Mata LY",lyPointsDesc:"Butiran mata dan sejarah penggunaan",cashWallet:"Dompet Tunai",cashWalletDesc:"Lihat pendapatan dan pengeluaran",rwaPool:"Kolam Bonus RWA",rwaPoolDesc:"Lihat kitaran dividen dan token",earningsHistory:"Sejarah Pendapatan",earningsHistoryDesc:"Sejarah pulangan tunai dan dividen",dashboard:"Papan Pemuka",dashboardDesc:"Analitik perniagaan masa nyata",partnerManagement:"Pengurusan Rakan Kongsi",partnerManagementDesc:"Semak dan urus rakan kongsi",orderManagement:"Pengurusan Pesanan",orderManagementDesc:"Proses dan jejak pesanan",productManagement:"Pengurusan Produk",productManagementDesc:"Urus katalog produk",memberManagement:"Pengurusan Ahli",memberManagementDesc:"Lihat dan urus semua ahli",bonusPool:"Kolam Bonus",bonusPoolDesc:"Tetapan kitaran dividen RWA",inventory:"Inventori",inventoryDesc:"Pertanyaan stok dan pelarasan",purchase:"Pembelian",purchaseDesc:"Pesanan pembelian dan pembekal",logistics:"Logistik",logisticsDesc:"Logistik rantai sejuk dan penghantaran",bills:"Bil",billsDesc:"Rekod perbelanjaan dan bil",finance:"Kewangan",financeDesc:"Laporan hasil dan perbelanjaan"},quickStats:{lyPoints:"Mata LY",cashBalance:"Baki Tunai",rwaTokens:"Token RWA",totalSales:"Jumlah Jualan",activePartners:"Rakan Kongsi Aktif",monthlyOrders:"Pesanan Bulanan",monthlySales:"Jualan Bulanan",bonusPoolBalance:"Baki Kolam"},userStates:{user:"Pengguna",member:"Ahli",partner:"Rakan Kongsi",admin:"Admin"},badges:{pendingActivation:"Menunggu"},upgradePrompt:"Sila buat pembelian pertama untuk menjadi ahli dan membuka ciri ini",goShopping:"Pergi Membeli"},orders:{title:"Sejarah Pesanan",subtitle:"Lihat pesanan lepas anda",tabAll:"Semua",tabPending:"Menunggu",tabShipped:"Dihantar",tabDelivered:"Selesai",tabCancelled:"Dibatalkan",noOrders:"Tiada pesanan",goShop:"Pergi Membeli",viewDetails:"Lihat Butiran",totalItems:"Jumlah {count} item",total:"Jumlah",statusPending:"Menunggu",statusPaid:"Dibayar",statusProcessing:"Memproses",statusShipped:"Dihantar",statusDelivered:"Selesai",statusCancelled:"Dibatalkan",statusUnknown:"Tidak Diketahui",orderInfo:"Maklumat Pesanan",orderNumber:"Nombor Pesanan",orderDate:"Tarikh Pesanan",shippingAddress:"Alamat Penghantaran",trackingInfo:"Maklumat Pengesanan",contactAboutOrder:"Hubungi Mengenai Pesanan",paymentStatus:"Status Pembayaran",statusConfirmed:"Disahkan",statusPendingPayment:"Menunggu Pembayaran",timelineOrdered:"Dipesan",timelinePreparing:"Menyediakan",timelineShipping:"Menghantar",timelineCompleted:"Selesai"},points:{title:"Pusat Mata",subtitle:"Lihat baki mata dan tebus",currentPoints:"Mata Semasa",earnedThisMonth:"Diperoleh Bulan Ini",expiringSoon:"Akan Tamat Tempoh",tierProgress:"Kemajuan Tahap Keahlian",tierProgressDesc:"{points} mata diperlukan untuk {nextTier}",points:"mata",redeem:"Tebus Mata",redeemRate:"100 mata = RM1",redeemNow:"Tebus Sekarang",earnPoints:"Peroleh Mata",earnRate:"Peroleh 1 mata untuk setiap RM1 dibelanjakan",goShop:"Pergi Membeli",history:"Sejarah Mata",tabAll:"Semua",tabEarn:"Diperoleh",tabSpend:"Digunakan",balance:"Baki",rulesTitle:"Peraturan Mata",rule1:"Peroleh 1 mata untuk setiap RM1 dibelanjakan",rule2:"100 mata boleh ditebus untuk RM1",rule3:"Mata sah selama 12 bulan selepas diperoleh",rule4:"Mata tidak boleh dipindah milik"},settings:{title:"Tetapan Akaun",subtitle:"Urus maklumat peribadi dan pilihan anda",personalInfo:"Maklumat Peribadi",personalInfoDesc:"Kemaskini profil dan butiran hubungan anda",changeAvatar:"Tukar Avatar",name:"Nama",phone:"Nombor Telefon",email:"E-mel",emailNote:"E-mel dikaitkan dengan akaun Replit, tidak boleh diubah",security:"Tetapan Keselamatan",securityDesc:"Lindungi akaun anda",loginMethod:"Kaedah Log Masuk",loginMethodDesc:"Log masuk melalui akaun Replit",manage:"Urus",notifications:"Pilihan Pemberitahuan",notificationsDesc:"Urus tetapan pemberitahuan anda",orderNotify:"Kemaskini Pesanan",orderNotifyDesc:"Terima pemberitahuan apabila status pesanan berubah",promoNotify:"Promosi",promoNotifyDesc:"Terima tawaran dan promosi",earningNotify:"Makluman Pendapatan",earningNotifyDesc:"Terima pemberitahuan apabila dividen tiba",display:"Pilihan Paparan",darkMode:"Mod Gelap",darkModeDesc:"Ikut tetapan sistem",saveChanges:"Simpan Perubahan"},help:{title:"Pusat Bantuan",subtitle:"Soalan lazim dan sokongan pelanggan",searchPlaceholder:"Cari soalan...",faq:"Soalan Lazim",noResults:"Tiada soalan yang sepadan ditemui",contactUs:"Hubungi Kami",whatsapp:"WhatsApp",onlineConsult:"Perundingan Dalam Talian",phoneSupport:"Sokongan Telefon",emailSupport:"Sokongan E-mel",serviceHours:"Waktu perkhidmatan: Isnin-Sabtu 9:00-18:00 (tidak termasuk cuti umum)",categories:{order:"Pesanan",shipping:"Penghantaran",payment:"Pembayaran",refund:"Pemulangan",points:"Mata",partner:"Rakan Kongsi"},faqItems:{order1:{q:"Bagaimana untuk membuat pesanan?",a:'Pilih produk di halaman produk dan klik "Beli Sekarang" untuk menghubungi perkhidmatan pelanggan WhatsApp kami.'},order2:{q:"Bagaimana untuk menyemak status pesanan?",a:'Log masuk dan pergi ke Pusat Ahli, di mana anda boleh melihat semua status pesanan dan maklumat penghantaran dalam "Pesanan Saya".'},shipping1:{q:"Kawasan mana yang anda hantar?",a:"Kami kini menghantar ke seluruh Malaysia, termasuk Malaysia Timur dan Barat. Untuk penghantaran Singapura dan antarabangsa, sila hubungi perkhidmatan pelanggan."},shipping2:{q:"Berapa lama masa penghantaran?",a:"Malaysia Barat biasanya 3-5 hari bekerja, Malaysia Timur 5-7 hari bekerja. Kelewatan mungkin berlaku semasa cuti."},payment1:{q:"Kaedah pembayaran apa yang disokong?",a:"Kami menyokong perbankan dalam talian FPX, e-dompet Touch n Go, kad kredit/debit, dan kaedah pembayaran lain."},payment2:{q:"Adakah pembayaran selamat?",a:"Ya, semua pembayaran diproses melalui saluran yang disulitkan, dan maklumat pembayaran anda dilindungi dengan ketat."},refund1:{q:"Bolehkah saya memulangkan atau menukar barang?",a:"Disebabkan sifat produk makanan, pemulangan biasanya tidak diterima. Untuk isu kualiti, sila hubungi perkhidmatan pelanggan dalam masa 24 jam selepas menerima pesanan."},refund2:{q:"Berapa lama masa bayaran balik?",a:"Selepas pengesahan, bayaran balik akan dikembalikan ke akaun pembayaran anda dalam masa 3-7 hari bekerja."},points1:{q:"Bagaimana untuk mendapat mata?",a:"Dapatkan mata dengan membeli produk, merujuk pengguna baru, dan menyertai aktiviti promosi."},points2:{q:"Apa yang boleh saya gunakan dengan mata?",a:"Mata boleh digunakan untuk menebus kupon, mengimbangi jumlah pesanan, atau menukar hadiah eksklusif."},partner1:{q:"Bagaimana untuk menjadi rakan kongsi?",a:'Klik butang "Sertai Sekarang" di halaman Rakan Kongsi, pilih pakej, dan selesaikan pembayaran untuk memohon.'},partner2:{q:"Apakah faedah rakan kongsi?",a:"Rakan kongsi menikmati ganjaran mata LY, dividen token RWA, komisen rujukan, dan pendapatan rangkaian 10 peringkat."}}},notifications:{title:"Pemberitahuan",unreadCount:"Anda mempunyai {count} mesej belum dibaca",noUnread:"Tiada mesej belum dibaca",markAllRead:"Tandai semua dibaca",tabs:{all:"Semua",unread:"Belum dibaca",order:"Pesanan",earning:"Pendapatan",promo:"Promosi"},noMessages:"Tiada mesej",new:"Baru"},addresses:{title:"Pengurusan Alamat",subtitle:"Urus alamat penghantaran anda",addAddress:"Tambah Alamat",addAddressTitle:"Tambah Alamat Penghantaran",noAddresses:"Anda belum menambah sebarang alamat",addFirst:"Tambah alamat pertama anda",defaultBadge:"Lalai",setDefault:"Tetapkan sebagai lalai",edit:"Edit",delete:"Padam",cancel:"Batal",save:"Simpan Alamat",form:{name:"Nama Penerima",namePlaceholder:"Masukkan nama",phone:"Nombor Telefon",address:"Butiran Alamat",addressPlaceholder:"Jalan, nombor unit, tingkat, dll.",city:"Bandar",postcode:"Poskod",state:"Negeri"}},payment:{title:"Kaedah Pembayaran",subtitle:"Urus kaedah pembayaran anda",securityTitle:"Keselamatan Pembayaran",securityDesc:"Semua maklumat pembayaran disulitkan untuk memastikan wang anda selamat. Kami menyokong pelbagai kaedah pembayaran tempatan Malaysia.",boundMethods:"Kaedah Pembayaran Terpaut",methodCount:"Anda mempunyai {count} kaedah pembayaran ditambah",add:"Tambah",addTitle:"Tambah Kaedah Pembayaran",bankAccount:"Akaun Bank",ewallet:"E-Dompet",bankName:"Nama Bank",bankNamePlaceholder:"Pilih bank",accountNumber:"Nombor Akaun",accountNumberPlaceholder:"Masukkan nombor akaun",cancel:"Batal",save:"Simpan",noMethods:"Tiada kaedah pembayaran ditambah",default:"Lalai",setDefault:"Tetapkan sebagai lalai",thirdParty:"Pembayaran Pihak Ketiga",thirdPartyDesc:"Pesan dan bayar melalui kedai media sosial",creditCardSupport:"Kad kredit disokong",supportedMethods:"Kaedah Pembayaran Disokong",supportedList:{bank:"Pindahan Bank (FPX) - Maybank, CIMB, Public Bank, dll.",ewallet:"E-Dompet - Touch n Go, GrabPay, Boost",card:"Kad Kredit/Debit - melalui Meta Shop"}},partnerDashboard:{title:"Gambaran Perniagaan",subtitle:"Lihat data dan prestasi perniagaan anda",currentTier:"Tahap Semasa",partnerBadge:"Rakan Kongsi",tiers:{phase1:"Fasa 1",phase2:"Fasa 2",phase3:"Fasa 3"},myReferralCode:"Kod Rujukan Saya",lyPoints:"Mata LY",lyBalance:"Baki tersedia",cashWallet:"Dompet Tunai",cashBalance:"Baki boleh dikeluarkan",rwaToken:"Token RWA",rwaBalance:"Jumlah token dipegang",referralNetwork:"Rangkaian Rujukan",activeMembers:"{count} ahli aktif",monthlyEarnings:"Pendapatan Bulanan",earningsDesc:"Pulangan tunai dan pendapatan bonus RWA",totalEarnings:"Jumlah Pendapatan",lastMonthEarnings:"Bulan Lepas",rwaCycle:"Kitaran Kolam Bonus RWA",cycleDesc:"Kemajuan dividen kitaran {cycle}",cycleProgress:"Kemajuan Kitaran",nextPayoutDate:"Tarikh Pembayaran Seterusnya",viewDetails:"Lihat Butiran",quickActions:"Tindakan Pantas",promoMaterials:"Bahan Promosi",inviteFriends:"Jemput Rakan",withdraw:"Pengeluaran",upgradePlan:"Naik Taraf Pelan",cashbackProgress:"Kemajuan Cashback",cashbackProgressDesc:"Kadar cashback pakej semasa dan penjejakan kemajuan",boxesProcessed:"Kotak Diproses",currentRate50:"Sedang menikmati kadar cashback 50% (5 kotak pertama/pakej)",currentRate30:"Sedang pada kadar cashback 30%",blockedCashback:"{count} cashback disekat kerana LY tidak mencukupi"},partnerJoin:{title:"Jadi Rakan Niaga",loginRequired:"Sila log masuk untuk memohon sebagai rakan niaga",exclusiveBenefits:"Manfaat Eksklusif Rakan Niaga",maxLyPoints:"Sehingga 3000 Mata LY",rwaDividend:"Dividen Token RWA",tenLevelNetwork:"Rangkaian Rujukan 10 Tahap",loginToJoin:"Log Masuk untuk Memohon",learnMore:"Ketahui Lebih Lanjut",alreadyPartner:"Anda sudah menjadi Rakan Niaga",accountActive:"Akaun rakan niaga anda aktif",pendingReview:"Permohonan anda sedang disemak",activated:"Diaktifkan",pending:"Menunggu",goToDashboard:"Pergi ke Papan Pemuka Rakan Niaga",applicationSuccess:"Permohonan Dihantar!",congratsMessage:"Tahniah kerana menghantar permohonan rakan niaga",reviewProcess:"Kami akan menyelesaikan semakan dalam 1-2 hari bekerja",ensurePayment:"Sila pastikan pembayaran anda selesai",backToMember:"Kembali ke Pusat Ahli",backToHome:"Kembali ke Laman Utama",joinPartner:"Sertai sebagai Rakan Niaga",stepProfile:"Langkah 1/3",step1:"Langkah 2/3",step2:"Langkah 3/3",completeProfile:"Lengkapkan Profil Anda",profileDesc:"Sila isi maklumat asas anda sebelum menjadi rakan niaga",namePlaceholder:"Masukkan nama anda",continueToPackage:"Teruskan ke Pakej",selectPackage:"Pilih Pakej",selectPackageDesc:"Pilih pakej yang sesuai dengan keperluan anda",mostPopular:"Paling Popular",referralCodeLabel:"Kod Rujukan",referralCodePlaceholder:"Masukkan kod perujuk",nextStep:"Seterusnya",backToPackage:"Kembali ke Pakej",orderConfirm:"Pengesahan Pesanan",package:"Pakej",amountToPay:"Jumlah Perlu Dibayar",selectPayment:"Pilih Kaedah Pembayaran",securityGuarantee:"Jaminan Keselamatan",encryptedTransaction:"Transaksi Selamat SSL Dienkripsi",activationTime:"Akaun diaktifkan dalam 24 jam",support24h:"Sokongan Pelanggan 24/7",paymentNote:"Sila simpan resit pembayaran anda. Hubungi sokongan jika ada sebarang pertanyaan.",confirmPay:"Sahkan Pembayaran",applicationSubmitted:"Permohonan Dihantar",applicationDesc:"Kami akan memproses permohonan anda dengan segera",applicationFailed:"Permohonan Gagal",packages:{phase1:{name:"Pakej Permulaan",feature1:"2000 Mata LY",feature2:"2 Token RWA",feature3:"Rangkaian 10 Tahap",feature4:"Bahan Latihan Asas"},phase2:{name:"Pakej Pertumbuhan",feature1:"2600 Mata LY",feature2:"3 Token RWA",feature3:"Rangkaian 10 Tahap",feature4:"Bahan Latihan Lanjutan"},phase3:{name:"Pakej Elite",feature1:"3000 Mata LY",feature2:"4 Token RWA",feature3:"Rangkaian 10 Tahap",feature4:"Bahan Latihan Lengkap",feature5:"Sokongan Keutamaan"}},paymentMethods:{fpx:"Perbankan Online FPX",tng:"Touch n Go",card:"Kad Kredit/Debit"}},earnings:{title:"Sejarah Pendapatan",subtitle:"Lihat sejarah pulangan tunai dan dividen RWA",totalEarnings:"Jumlah Pendapatan",vsLastMonth:"berbanding bulan lepas",thisMonth:"Bulan Ini",lastMonth:"Bulan Lepas",thisMonthEarnings:"Bulan Ini",lastMonthEarnings:"Bulan Lepas",cashback:"Pulangan Tunai",rwaDividend:"Dividen RWA",referralReward:"Ganjaran Rujukan",tabs:{all:"Semua",cashback:"Pulangan",rwa:"RWA",referral:"Rujukan"},history:"Sejarah Pendapatan",historyDesc:"Lihat semua rekod sumber pendapatan",income:"Pendapatan",noRecords:"Tiada rekod pendapatan",noRecordsForType:"Tiada rekod untuk jenis ini",filter:"Tapis",export:"Eksport"},wallet:{title:"Dompet Tunai",subtitle:"Lihat pendapatan dan mohon pengeluaran",availableBalance:"Baki Tersedia",pendingWithdraw:"Pengeluaran Dalam Proses",applyWithdraw:"Mohon Pengeluaran",withdrawTitle:"Mohon Pengeluaran",withdrawDesc:"Pengeluaran akan diproses dalam 1-3 hari bekerja",withdrawAmount:"Jumlah (RM)",withdrawPlaceholder:"Masukkan jumlah pengeluaran",availableBalanceLabel:"Baki Tersedia",selectBank:"Pilih Bank",selectBankPlaceholder:"Pilih bank",cancel:"Batal",confirmWithdraw:"Sahkan Pengeluaran",quickStats:"Statistik Pantas",totalIncome:"Jumlah Pendapatan",totalWithdrawn:"Jumlah Dikeluarkan",thisMonthIncome:"Bulan Ini",transactions:"Transaksi",income:"Pendapatan",withdraw:"Pengeluaran",status:{completed:"Selesai",pending:"Dalam Proses",failed:"Gagal"},transactionsDesc:"Lihat semua butiran transaksi dompet",exportRecords:"Eksport Rekod",noTransactions:"Tiada transaksi",bankAccount:"Akaun Bank",bankAccountDesc:"Tambah dan urus akaun bank untuk pengeluaran",noBankAccount:"Tiada akaun bank dipautkan",contactForBank:"Tambah akaun bank anda untuk menerima pengeluaran",addBankAccount:"+ Tambah Akaun Bank",bindBankFirst:"Sila pautkan akaun bank terlebih dahulu",contactToAdd:"Tambah akaun bank untuk meneruskan",editBank:"Edit Akaun Bank",deleteBank:"Padam Akaun Bank",setDefault:"Tetapkan Sebagai Lalai",defaultBadge:"Lalai",bankName:"Nama Bank",accountNumber:"Nombor Akaun",accountName:"Nama Pemegang Akaun",bankNamePlaceholder:"Pilih atau masukkan nama bank",accountNumberPlaceholder:"Masukkan nombor akaun bank",accountNamePlaceholder:"Masukkan nama pemegang akaun",saveBankAccount:"Simpan Akaun Bank",bankSaved:"Akaun bank berjaya disimpan",bankDeleted:"Akaun bank berjaya dipadam",bankUpdated:"Akaun bank berjaya dikemas kini",confirmDeleteBank:"Adakah anda pasti mahu memadam akaun bank ini?",selectBankForWithdraw:"Pilih akaun bank untuk pengeluaran",minWithdrawNote:"Pengeluaran minimum RM 50.00, caj pemprosesan RM 1.00 setiap pengeluaran",invalidAmount:"Jumlah tidak sah",minAmountMsg:"Pengeluaran minimum RM 50.00",insufficientBalance:"Baki tidak mencukupi",exceedsBalanceMsg:"Pengeluaran melebihi baki tersedia",withdrawSuccess:"Permohonan pengeluaran dihantar",withdrawSuccessDesc:"Dijangka diproses dalam 1-3 hari bekerja",withdrawFailed:"Pengeluaran gagal"},referrals:{title:"Rangkaian Rujukan",subtitle:"Lihat ahli pasukan dan rangkaian bawahan anda",totalReferrals:"Jumlah Rujukan",activeMembers:"Ahli Aktif",directReferrals:"Rujukan Langsung",totalLyEarned:"Jumlah LY Diperolehi",searchPlaceholder:"Cari nama ahli...",filterLevel:"Tapis Tahap",allLevels:"Semua Tahap",level:"Tahap {n}",teamMembers:"Ahli Pasukan",memberCount:"{count} ahli",joinDate:"Tarikh Sertai",lyEarned:"LY Diperolehi",pendingActivation:"Menunggu",inviteFriends:"Jemput Rakan",shareCode:"Kongsi Kod Rujukan",noMembers:"Tiada ahli pasukan lagi",noMatchingMembers:"Tiada ahli sepadan",teamList:"Senarai Ahli Pasukan",teamListDesc:"Rangkaian rujukan 10 peringkat",allFilter:"Semua",teamTotalLy:"Jumlah LY Pasukan",joinTime:"Tarikh Sertai",lyBalanceLabel:"Baki LY",inviteTitle:"Jemput Lebih Ramai Rakan",inviteDesc:"Dapatkan mata LY untuk setiap rakan kongsi yang dirujuk",inviteNow:"Jemput Sekarang",tierPhase1:"Pakej Permulaan",tierPhase2:"Pakej Pertumbuhan",tierPhase3:"Pakej Elite"},lyPoints:{title:"Mata LY",subtitle:"Lihat sejarah dan penggunaan mata",currentBalance:"Baki Mata LY Semasa",redeemGift:"Tebus Hadiah",usePoints:"Guna Mata",totalEarned:"Jumlah Diperolehi",totalSpent:"Jumlah Diguna",thisMonthEarned:"Bulan Ini",fromReferrals:"Ganjaran Rujukan",fromReplenishment:"Ganjaran Tambah Stok",tabs:{all:"Semua Rekod",earn:"Diperolehi",spend:"Diguna"},history:"Sejarah Mata",balance:"Baki",networkRules:"Peraturan Mata Rangkaian",networkRulesDesc:"Mata LY diperolehi melalui rangkaian rujukan 10 peringkat",tier1:"Tahap 1: 20%",tier2:"Tahap 2: 15%",tier3to5:"Tahap 3-5: 10% setiap",tier6to10:"Tahap 6-10: 5% setiap",historyDesc:"Lihat semua rekod transaksi mata LY",noRecords:"Tiada rekod mata",rulesTitle:"Peraturan Mata LY",ruleEarn1:"Dapatkan mata LY dengan pembelian pakej",ruleEarn2:"Dapatkan ganjaran untuk merujuk rakan kongsi baharu",ruleEarn3:"Dapatkan mata rangkaian 10 peringkat dari penambahan pasukan",ruleUse1:"Tebus untuk hadiah atau kupon",ruleUse2:"Tolak jumlah pesanan",ruleNote:"Mata tamat tempoh 12 bulan selepas diperoleh",filter:"Tapis",export:"Eksport",earnBadge:"Perolehi",useBadge:"Guna",noteBadge:"Nota"},materials:{title:"Bahan Pemasaran",subtitle:"Dapatkan bahan perkongsian untuk promosi anda",myQrCode:"Kod QR Rujukan Saya",qrCodeDesc:"Imbas untuk sertai rangkaian rujukan anda terus",downloadQr:"Muat Turun QR",shareLink:"Kongsi Pautan",tabs:{images:"Gambar",documents:"Dokumen",videos:"Video"},download:"Muat Turun",copyLink:"Salin Pautan",copied:"Disalin",size:"Saiz",fileType:"Jenis",fileSize:"Saiz",duration:"Tempoh",notMember:"Belum Menjadi Ahli",notMemberDesc:"Selesaikan pembelian pertama untuk menjadi ahli dan buka bahan promosi",goShopping:"Pergi Membeli-belah",myReferralLink:"Pautan Rujukan Saya",referralCodeLabel:"Kod Rujukan",copyReferralCode:"Salin Kod",shareWhatsApp:"Kongsi ke WhatsApp",referralLinkLabel:"Pautan Rujukan",share:"Kongsi",preview:"Pratonton",play:"Main",socialShare:"Perkongsian Sosial Pantas",socialShareDesc:"Kongsi ke platform sosial utama dengan satu klik",copyFailed:"Salinan gagal",copiedToClipboard:"Disalin ke papan keratan",productPoster:"Poster Produk - Sarang Burung",brandStory:"Cerita Jenama",recruitPoster:"Poster Pengambilan Rakan Kongsi",holidayPromo:"Bahan Promosi Perayaan",productManual:"Manual Produk PDF",trainingMaterial:"Panduan Latihan Rakan Kongsi",faqDocument:"Dokumen FAQ",brandPpt:"Pembentangan Jenama PPT",brandVideo:"Video Jenama",productProcess:"Proses Pembuatan Produk",successStory:"Cerita Kejayaan Rakan Kongsi",shareText:"Love Young Sarang Burung Premium - Pilihan Hidup Berkualiti! Gunakan kod rujukan saya {code} untuk mendaftar dan nikmati manfaat ahli eksklusif!",itemShareText:"Disyorkan untuk anda: {title}! Gunakan kod rujukan saya {code} untuk mendaftar dan dapatkan tawaran eksklusif!"},rwa:{title:"Kolam Bonus RWA",subtitle:"Lihat kitaran dividen dan pegangan token",myTokens:"Token RWA Saya",tokenUnit:"token",activeHolding:"Pegangan Aktif",totalDividends:"Jumlah Dividen",currentEstimate:"Anggaran Semasa",avgPerToken:"Purata setiap Token",currentCycle:"Kitaran Semasa",cycle:"Kitaran {n}",cycleProgress:"Kemajuan Kitaran",daysRemaining:"{days} hari lagi",poolAmount:"Jumlah Kolam",estimatedDividend:"Anggaran Dividen",nextPayout:"Pembayaran pada {date}",cycleHistory:"Sejarah Kitaran",completed:"Selesai",active:"Aktif",dividendReceived:"Dividen Dibayar",tokenHistory:"Sejarah Perolehan Token",tokenHistoryDesc:"Butiran sumber token RWA",howItWorks:"Peraturan Kolam Bonus RWA",rule1:"1. Kolam bonus RWA berjalan dalam kitaran dividen 10 hari, dengan 30% jualan masuk ke kolam",rule2:"2. Anda boleh mendapat token RWA dengan membeli pakej, merujuk rakan niaga baharu, dll.",rule3:"3. Pada akhir setiap kitaran, kolam diagihkan secara berkadar kepada semua pemegang token",rule4:"4. Token dipegang secara kekal dan menyertai setiap kitaran dividen",startDate:"Tarikh Mula",endDate:"Tarikh Tamat",currentPool:"Kolam Semasa",noCycle:"Tiada kitaran aktif",cycleHistoryDesc:"Rekod dividen dari kitaran lepas",tokensParticipated:"token menyertai",noCycles:"Tiada rekod kitaran dividen lagi",noTokens:"Tiada rekod token lagi",sourcePackage:"Pembelian Pakej",sourceNetworkOrder:"Ganjaran Pesanan Rangkaian",sourceMilestone:"Ganjaran Pencapaian",sourceReferral:"Ganjaran Rujukan"}},dse={title:"Program Rakan Kongsi",subtitle:"Model Ko-cipta Aset Digital RWA",description:"Jadi rakan kongsi LOVEYOUNG, sertai pembinaan jenama, nikmati pelbagai faedah",joinNow:"Sertai Sekarang",learnMore:"Ketahui Lebih",benefits:"Faedah Rakan Kongsi",howItWorks:"Cara Ia Berfungsi",tiers:"Peringkat Perkongsian",faq:"Soalan Lazim",phase1:"Fasa 1",phase2:"Fasa 2",phase3:"Fasa 3",investment:"Pelaburan",lyPoints:"Mata LY",referralBonus:"Bonus Rujukan",monthlyDividend:"Dividen Bulanan",dashboard:"Papan Pemuka Rakan Kongsi",myNetwork:"Rangkaian Saya",earnings:"Butiran Pendapatan",withdraw:"Pengeluaran",referralCode:"Kod Rujukan",copyCode:"Salin Kod",codeCopied:"Disalin",referralLink:"Pautan Rujukan",totalEarnings:"Jumlah Pendapatan",pendingWithdrawal:"Pengeluaran Tertunda",lyBalance:"Baki LY",cashBalance:"Baki Tunai",directReferrals:"Rujukan Langsung",teamSize:"Saiz Pasukan",currentCycle:"Kitaran Semasa",cycleProgress:"Kemajuan Kitaran",estimatedDividend:"Anggaran Dividen",daysRemaining:"Hari Berbaki",poolAmount:"Jumlah Kolam",yourShare:"Bahagian Anda",joinRequirements:"Syarat Penyertaan",selectPackage:"Pilih Pakej",agreeTerms:"Saya bersetuju dengan Perjanjian Rakan Kongsi",submitApplication:"Hantar Permohonan",applicationPending:"Permohonan Dalam Semakan",applicationApproved:"Permohonan Diluluskan",applicationRejected:"Permohonan Ditolak",notPartner:"Anda belum menjadi rakan kongsi",becomePartner:"Jadi Rakan Kongsi",whatsappMessage:"Helo, saya ingin mengetahui tentang Program Rakan Kongsi.",page:{heroTitle1:"Labur RM1,000",heroTitle2:"Pendapatan",heroTitle3:"Melebihi 2x Ganda",heroSubtitle:"Jadi Rakan Kongsi Love Young dan terima 2000 Mata LY. Melalui jualan dan rangkaian rujukan 10 peringkat, Mata LY diisi semula berterusan, pendapatan tidak pernah berhenti.",heroSubtitleBold:"Ambil tindakan, pendapatan tanpa had!",applyNow:"Mohon Sekarang",consultDetails:"Tanya Butiran Program",minInvestment:"Pelaburan Minimum",lyPointsObtained:"Mata LY = Minimum RM2000 Boleh Dikeluarkan",unlimitedEarnings:"Terus Bekerja, Pendapatan Tanpa Had",applicationSubmitted:"Permohonan Dihantar",applicationSubmittedDesc:"Lengkapkan pembayaran untuk mengaktifkan status rakan kongsi anda.",applicationFailed:"Permohonan Gagal"},concepts:{assetTransparency:"Ketelusan Aset",assetTransparencyDesc:"Setiap hak operasi digital disandarkan kepada bahan mentah sarang burung sebenar, inventori produk kesihatan premium dan aset fizikal lain.",earningsGuarantee:"Perlindungan Pendapatan",earningsGuaranteeDesc:"Pendapatan dijamin melalui sistem Mata LY dengan data telus dan penyelesaian cekap.",globalFlow:"Peredaran Global",globalFlowDesc:"Pecahkan batasan geografi dan sertai susun atur rantaian industri kesejahteraan premium global dan dividen."},dividends:{title:"Model Pendapatan Dwi",subtitle:"Dua kaedah dividen beroperasi serentak, pendapatan bertindan. Pengeluaran memotong Mata LY 1:1, diisi semula berterusan melalui rangkaian 10 peringkat.",method1:"Kaedah Pendapatan 1",method2:"Kaedah Pendapatan 2",cashbackTitle:"Dividen Cashback",cashbackDesc:"Jual produk dan dapatkan ganjaran cashback rakan kongsi langsung serta ganjaran sama tahap",rwaTitle:"Dividen Kolam Bonus RWA",rwaDesc:"30% jualan platform masuk kolam bonus, diagihkan setiap 10 hari mengikut nisbah token RWA",directPartner:"Rakan Kongsi Langsung",sameLevelGen1:"Rakan Kongsi Atas (Tahap 1)",sameLevelGen2:"Rakan Kongsi Atas (Tahap 2)",cashbackFirst5:"5 kotak pertama/pakej 50%",cashbackAfter:"Selepas itu 30%",sameLevelReward:"10% Ganjaran Sama Tahap",cashbackExample:"Contoh: Rakan kongsi langsung anda jual 1 kotak (RM199), anda dapat RM99.50 cashback. Rakan kongsi atas tahap 1 jual 1 kotak, anda dapat 10% ganjaran sama tahap",salesIntoPool:"Jualan ke Kolam",distributeByToken:"Agih Mengikut Token",yourDividend:"Dividen Anda",autoToken:"Setiap rakan kongsi auto terima",tokenPerSale:"Setiap kotak dijual dapat",cycleReset:"Selepas setiap kitaran 10 hari",tokenReset:"Token set semula ke sifar",rwaExample:"Contoh: Anda jual 20 kotak dalam kitaran, pegang 21 token. Jika jumlah token 550 dan kolam bonus RM29,850, anda dapat dividen RM1,140"},ly:{title:"Mata LY: Enjin Pendapatan Berterusan",subtitle:"Pengeluaran memerlukan potongan Mata LY sama, tetapi diisi semula berterusan melalui rangkaian rujukan 10 peringkat. Selagi rangkaian aktif, pendapatan tidak pernah berhenti!",networkTitle:"Pengisian Semula LY Rangkaian 10 Peringkat",networkSubtitle:"Setiap peringkat mengisi mata secara berkadaran",totalReplenish:"Jumlah Pengisian: Rangkaian 10 peringkat boleh mengisi sehingga",ofSales:"jualan sebagai Mata LY",cycleTitle:"Gambarajah Kitaran Pendapatan",salesGenerate:"Jualan Jana Pendapatan",enterWallet:"Masuk Dompet Pengeluaran",withdrawDeduct:"Pengeluaran Potong LY",networkReplenish:"Rangkaian Isi Semula LY",keepActive:"Kekalkan rangkaian rujukan anda aktif,",neverDry:"LY tidak pernah kering, pendapatan tidak pernah berhenti!",whyMoreTitle:"Mengapa Pendapatan Melebihi 2x?",whyMoreDesc:"Labur RM1000 untuk dapat 2000 LY, nampak macam maksimum pengeluaran RM2000. Tetapi setiap jualan dalam rangkaian 10 peringkat anda mengisi semula Mata LY secara berkadaran. Lebih aktif rangkaian anda, lebih cepat LY diisi, lebih banyak pendapatan boleh dikeluarkan!",importantNote:"Nota Penting",importantNoteDesc:"Tidak boleh mengeluarkan pendapatan sepadan apabila Mata LY tidak mencukupi. Teruskan beroperasi untuk mengisi semula LY dan pastikan pendapatan boleh dikeluarkan.",level1:"Langsung",level2:"Peringkat 2",level3:"Peringkat 3",level4:"Peringkat 4",level5:"Peringkat 5",level6:"Peringkat 6",level7:"Peringkat 7",level8:"Peringkat 8",level9:"Peringkat 9",level10:"Peringkat 10"},network:{you:"Anda",customer:"Pelanggan",gen1:"G1",gen2:"G2",gen3:"G3",plusCashback:"+Cashback"},tierSection:{title:"Pilih Peringkat Rakan Kongsi Anda",subtitle:"Pelaburan lebih tinggi, lebih banyak Mata LY, had pengeluaran lebih tinggi",mostPopular:"Paling Popular",invest:"Labur",getLyPoints:"Dapat Mata LY",minWithdraw:"= Min Keluarkan RM",consultNow:"Tanya Sekarang"},tierNames:{phase1:"Rakan Pelancaran",phase2:"Rakan Pengasas",phase3:"Rakan Strategik"},tierFeatures:{cashback50First5:"50% cashback 5 kotak pertama",cashback30Next5:"30% cashback kotak 6-10",cashback20Rest:"20% cashback selebihnya",freeFirstBox:"Produk kotak pertama percuma",photoShoot:"Sesi foto peribadi",tenLevelBonus:"Bonus rujukan 10 peringkat",weight12x:"Bonus berat dividen 1.2x",factoryVip:"Lawatan kilang VIP",microFilm:"Penyertaan filem mikro jenama",weight15x:"Bonus berat dividen 1.5x",topPoolPriority:"Keutamaan kolam bonus teratas",intlLaunch:"Tempat acara pelancaran antarabangsa",cobranding:"Keuntungan produk jenama bersama",exclusiveBiz:"Kolaborasi perniagaan eksklusif"},simulator:{title:"Simulator Dividen RWA",subtitle:"Laraskan parameter untuk anggaran pendapatan dividen kitaran anda",mySales:"Jualan Kitaran Saya",boxes:"kotak",totalPlatformSales:"Jumlah Jualan Platform",activePartners:"Rakan Kongsi Aktif",people:"orang",avgSalesPerPerson:"Purata Jualan Setiap Orang",cycleTotalSales:"Jumlah Jualan Kitaran",bonusPool30:"Kolam Bonus (30%)",myRwaTokens:"Token RWA Saya",units:"unit",totalPlatformTokens:"Jumlah Token Platform",myRatio:"Nisbah Saya",estimatedCycleDividend:"Anggaran Dividen Kitaran",withdrawNeedsLy:"* Pengeluaran memerlukan Mata LY sama"},ecosystem:{title:"Ekosistem Jenama LOVEYOUNG",desc1:"LOVEYOUNG telah membina ekosistem jenama lengkap meliputi produk premium, kolaborasi KOL, pelaburan RWA, pembinaan komuniti, pemasaran digital dan banyak lagi.",desc2:"Sebagai rakan kongsi, anda menjadi bahagian penting ekosistem ini, bersama-sama memacu pembangunan jenama dan berkongsi dividen pertumbuhan.",modules:"Modul Perniagaan",fullSupport:"Sokongan Penuh",imgAlt:"Ekosistem Jenama LOVEYOUNG"},faqs:{title:"Soalan Lazim",subtitle:"Menjawab Kebimbangan Anda",q1:"Apa itu Rakan Kongsi? Bagaimana ia berbeza daripada ejen tradisional?",a1:"Rakan Kongsi adalah pembina bersama jenama, bukan ejen berperingkat tradisional. Kami tiada keperluan inventori, semua pendapatan datang daripada jualan produk akhir sebenar. Setiap kotak yang anda kongsi dihantar terus dari kilang, memastikan kualiti dan kesegaran.",q2:"Bolehkah melabur RM1000 benar-benar dapat lebih daripada RM2000?",a2:"Ya! Labur RM1000 untuk jadi Rakan Pelancaran dan terima 2000 Mata LY. Ini bermakna anda boleh keluarkan minimum RM2000 (potongan LY 1:1). Tetapi pendapatan melebihi 2xmelalui rangkaian rujukan 10 peringkat anda, setiap jualan mengisi semula Mata LY anda secara berkadaran, terus membuka lebih banyak pendapatan!",q3:"Apa beza dividen cashback dan dividen kolam RWA?",a3:"Dividen cashback adalah cashback segera daripada jualan rakan kongsi langsung anda (5 kotak pertama/pakej 50%, selepas itu 30%) serta 10% ganjaran sama tahap daripada rakan kongsi atas. Dividen kolam RWA adalah dividen berkala setiap 10 hariplatform masukkan 30% jualan ke kolam bonus, diagihkan mengikut nisbah token RWA anda. Kedua-duanya memerlukan Mata LY sama untuk pengeluaran.",q4:"Apa itu Mata LY? Bagaimana untuk isi semula?",a4:"Mata LY adalah deposit jaminan pendapatan anda. Setiap jualan dalam rangkaian rujukan 10 peringkat anda mengisi semula Mata LY mengikut peratusan peringkat (Peringkat 1: 8%, Peringkat 2: 5%, Peringkat 3: 3%, Peringkat 4-10: 1% setiap satu). Selagi rangkaian anda kekal aktif, Mata LY mengalir berterusan, dan pendapatan terus datang!",q5:"Mengapa pengeluaran memerlukan potongan Mata LY?",a5:"Mekanisme LY memastikan kelestarian pendapatan. Reka bentuk ini menggalakkan rakan kongsi membina rangkaian jualan stabil, membuka lebih banyak pendapatan melalui tindakan berterusan berbanding pengeluaran tunai sekali. Terus ambil tindakan, dan pendapatan anda akan jauh melebihi pelaburan awal!",q6:"Adakah saya perlu stok inventori?",a6:"Sama sekali tidak! Semua produk dihantar terus dari kilang kepada pelanggan akhir. Anda hanya fokus pada berkongsi dan mempromosi. Sifar inventori, sifar risiko!"},cta:{title:"Tindakan Mencipta Kemungkinan Tanpa Had",subtitle:"Labur RM1,000, dapat 2,000 Mata LY. Diisi semula berterusan melalui rangkaian 10 peringkat, pendapatan melebihi 2x,",subtitleBold:"Terus ambil tindakan, pendapatan tidak pernah berhenti!",becomePartner:"Jadi Rakan Kongsi Sekarang",whatsappConsult:"Tanya WhatsApp"},modal:{title:"Mohon Jadi Rakan Kongsi",selectedTier:"Anda pilih",referralCodeOptional:"Kod Rujukan (Pilihan)",referralCodePlaceholder:"Masukkan kod rujukan 8 digit",cancel:"Batal",confirmAndPay:"Sahkan & Bayar"}},use={title:"Panel Admin",dashboard:"Papan Pemuka",partners:"Pengurusan Rakan Kongsi",orders:"Pengurusan Pesanan",products:"Pengurusan Produk",members:"Pengurusan Ahli",bonusPool:"Kolam Bonus",inventory:"Inventori",purchase:"Perolehan",logistics:"Logistik",bills:"Bil",finance:"Kewangan",settings:"Tetapan",backToMember:"Kembali ke Pusat Ahli",backToHome:"Kembali ke Laman Utama",adminPanel:"Panel Admin",erpSystem:"Sistem ERP",memberCenter:"Pusat Ahli",pleaseLogin:"Sila Log Masuk",adminRequired:"Kebenaran pentadbir diperlukan untuk mengakses halaman ini",adminRole:"Pentadbir",menu:{dashboard:"Papan Pemuka",partners:"Pengurusan Rakan Kongsi",orders:"Pengurusan Pesanan",products:"Pengurusan Produk",members:"Pengurusan Ahli",bonusPool:"Kolam Bonus",inventory:"Inventori",production:"Barisan Pengeluaran",purchase:"Perolehan",logistics:"Logistik",bills:"Bil",finance:"Kewangan",withdrawals:"Pengeluaran",bundles:"Pakej",siteSettings:"Tetapan Laman",adManagement:"Pengurusan Iklan",xiaohongshu:"Xiaohongshu",mediaPlan:"Pelan Media",performanceReports:"Laporan",whatsappConfig:"Konfigurasi WhatsApp",whatsappOrders:"Pesanan WhatsApp",whatsappMembers:"Pendaftaran Ahli",whatsappChat:"Pengurusan Sembang",whatsappAdmins:"Pengurusan Admin",whatsappFlows:"Aliran Automasi",contentCreation:"Penciptaan Kandungan",whatsappPush:"Pemberitahuan Tolak",systemHealth:"Kesihatan Sistem",memoryDatabase:"Pangkalan Data Memori",knowledgeBase:"Pangkalan Pengetahuan",notifications:"Pusat Pemberitahuan",orderSupplement:"Tambahan Pesanan"},marketingSystem:"Pemasaran",whatsappBusiness:"WhatsApp Business",aiKnowledge:"AI & Pengetahuan",notificationsPage:{title:"Pusat Pemberitahuan",subtitle:"Pemberitahuan acara sistem dan pengurusan push WhatsApp",unread:"Belum Dibaca",today:"Hari Ini",thisWeek:"Minggu Ini",all:"Semua",withdrawal:"Pengeluaran",order:"Pesanan",shipping:"Penghantaran",partner:"Rakan Kongsi",system:"Sistem",markRead:"Tandakan Dibaca",markAllRead:"Semua Dibaca",pushWhatsapp:"Push ke WhatsApp",noNotifications:"Tiada pemberitahuan",typeWithdrawal:"Permintaan Pengeluaran",typeNewOrder:"Pesanan Baru",typeOrderStatus:"Status Pesanan",typeShipping:"Kemas Kini Penghantaran",typeNewPartner:"Rakan Kongsi Baru",typeEscalation:"Eskalasi",typeSystem:"Sistem",pushSuccess:"Push WhatsApp berjaya",pushFailed:"Push gagal",selectAdmin:"Pilih admin untuk push",sent:"Dihantar",notSent:"Belum dihantar"},orderSupplementPage:{title:"Tambahan Pesanan",history:"Sejarah",newSession:"Sesi Baru",statSessions:"Sesi",statOrders:"Pesanan Dicipta",statPartners:"Rakan Kongsi Dicipta",statMembers:"Ahli Didaftarkan",statAmount:"Jumlah Keseluruhan",noHistory:"Tiada rekod tambahan",confirmed:"Disahkan",cancelled:"Dibatalkan",inProgress:"Sedang Berjalan",welcomeTitle:"Pembantu AI Tambahan Pesanan",welcomeDesc:"Terangkan pembayaran pindahan bank yang diterima, dan saya akan bantu menyusunnya menjadi pesanan, penyertaan rakan kongsi, atau pendaftaran ahli.",exampleTitle:"Contoh input:",inputPlaceholder:"Terangkan butiran pindahan...",readyToConfirm:"Data sedia, sila sahkan untuk laksanakan",confirmExecute:"Sahkan & Laksana",confirmSuccess:"Pelaksanaan berjaya",actionsCompleted:"tindakan selesai",executionComplete:"Pelaksanaan selesai",membersCreated:"Ahli didaftarkan",partnersCreated:"Rakan kongsi dicipta",ordersCreated:"Pesanan dicipta",totalAmount:"Jumlah keseluruhan",failed:"gagal",error:"Operasi gagal",boxes:"kotak",memberReg:"Pendaftaran Ahli",sendImageTip:"Anda juga boleh hantar tangkapan skrin pindahan",sentImage:"[Gambar]",uploadFailed:"Muat naik gagal",imageOnly:"Sila pilih fail gambar",imageTooLarge:"Gambar tidak boleh melebihi 10MB",attachReceipt:"Lampirkan resit",receiptAttached:"Resit dilampirkan",receiptUploaded:"Resit dimuat naik",actualPaid:"Bayaran Sebenar"},productionPage:{title:"Pengurusan Barisan Pengeluaran",subtitle:"Urus kelompok pengeluaran, aliran proses dan penggunaan bahan mentah",newBatch:"Kelompok Baharu",totalBatches:"Jumlah Kelompok",inProgress:"Sedang Berjalan",completed:"Selesai",planned:"Dirancang",batchList:"Senarai Kelompok",materialUsage:"Penggunaan Bahan",searchPlaceholder:"Cari nombor kelompok atau produk...",qty:"Kuantiti",progress:"Kemajuan",steps:"langkah",plannedDate:"Tarikh Dirancang",startTime:"Masa Mula",plannedQty:"Kuantiti Dirancang",actualQty:"Output Sebenar",nextStep:"Langkah Seterusnya",viewDetails:"Lihat Butiran",viewReport:"Lihat Laporan",materialName:"Nama Bahan",plannedUsage:"Penggunaan Dirancang",actualUsage:"Penggunaan Sebenar",wastage:"Pembaziran",wastageRate:"Kadar Pembaziran",stepMaterialPrep:"Penyediaan Bahan",stepCleaning:"Pembersihan",stepCooking:"Masakan",stepColdStorage:"Penyimpanan Sejuk",stepInspection:"Pemeriksaan",statusPlanned:"Dirancang",statusMaterialPrep:"Menyediakan",statusCleaning:"Membersih",statusCooking:"Memasak",statusColdStorage:"Penyimpanan Sejuk",statusInspection:"Memeriksa",statusCompleted:"Selesai",statusCancelled:"Dibatalkan",statusUnknown:"Tidak diketahui",bomTab:"Resepi BOM",selectProduct:"Pilih Produk",selectMaterial:"Pilih Bahan",addBomEntry:"Tambah Bahan",quantityPerUnit:"Kuantiti per Unit",currentStock:"Stok Semasa",createBatch:"Cipta Kelompok",product:"Produk",extractMaterials:"Keluarkan Bahan",materialsExtracted:"Bahan telah ditolak dari inventori",noBom:"Tiada resepi BOM untuk produk ini",noProductSelected:"Pilih produk untuk lihat resepi",materialReq:"Keperluan Bahan",unit:"Unit",notesLabel:"Nota",notesPlaceholder:"Nota pilihan...",noBatches:"Tiada kelompok pengeluaran",noMaterials:"Tiada rekod penggunaan bahan"},totalRevenue:"Jumlah Hasil",totalOrders:"Jumlah Pesanan",totalMembers:"Jumlah Ahli",totalPartners:"Jumlah Rakan Kongsi",pendingOrders:"Pesanan Tertunda",pendingPartners:"Rakan Kongsi Tertunda",lowStock:"Amaran Stok Rendah",recentActivity:"Aktiviti Terkini",quickActions:"Tindakan Pantas",viewDetails:"Lihat Butiran",activate:"Aktifkan",deactivate:"Nyahaktifkan",approve:"Luluskan",reject:"Tolak",export:"Eksport",import:"Import",refresh:"Muat Semula",addNew:"Tambah Baru",editItem:"Edit",deleteItem:"Padam",confirmDelete:"Sahkan padam?",deleteSuccess:"Berjaya dipadam",saveSuccess:"Berjaya disimpan",operationSuccess:"Operasi berjaya",operationFailed:"Operasi gagal",noPermission:"Tiada kebenaran",partnerStatus:{pending:"Tertunda",active:"Aktif",inactive:"Tidak Aktif",suspended:"Digantung"},orderStatus:{pending:"Tertunda",confirmed:"Disahkan",processing:"Memproses",shipped:"Dihantar",delivered:"Dihantar",cancelled:"Dibatalkan"},loginRequired:"Sila Log Masuk",loginRequiredDesc:"Kebenaran admin diperlukan untuk akses halaman ini",login:"Log Masuk",insufficientPermission:"Kebenaran Tidak Mencukupi",noAdminPermission:"Anda tidak mempunyai kebenaran admin",goHome:"Ke Laman Utama",backToFront:"Kembali ke Laman",production:"Pengeluaran",hygiene:"Pemeriksaan Kebersihan",coldchain:"Rantaian Sejuk",reports:"Laporan",activePartners:"Rakan Kongsi Aktif",monthlyOrders:"Pesanan Bulanan",monthlySales:"Jualan Bulanan",currentBonusPool:"Kolam Bonus Semasa",recentOrders:"Pesanan Terkini",pendingItems:"Item Tertunda",noOrderData:"Tiada data pesanan",noPendingItems:"Tiada item tertunda",partnerList:"Senarai Rakan Kongsi",addPartner:"Tambah Rakan Kongsi",noPartnerData:"Tiada data rakan kongsi",orderList:"Senarai Pesanan",createOrder:"Buat Pesanan",inventoryManagement:"Pengurusan Inventori",stockIn:"Masuk Stok",stockOut:"Keluar Stok",addMaterial:"Tambah Bahan",noInventoryData:"Tiada data inventori",productionBatch:"Batch Pengeluaran",createBatch:"Buat Batch",noProductionData:"Tiada data pengeluaran",hygieneRecords:"Rekod Pemeriksaan Kebersihan",addInspection:"Tambah Pemeriksaan",noInspectionData:"Tiada rekod pemeriksaan",coldChainTracking:"Penjejakan Rantaian Sejuk",addWaybill:"Tambah Bil Laluan",noLogisticsData:"Tiada data logistik",monthlyIncome:"Pendapatan Bulanan",monthlyExpenses:"Perbelanjaan Bulanan",netProfit:"Keuntungan Bersih",billRecords:"Rekod Bil",addBill:"Tambah Bil",noBillData:"Tiada data bil",rwaBonusPoolCycle:"Pengurusan Kitaran Kolam Bonus RWA",currentCycle:"Kitaran Semasa",cycleNumber:"Kitaran {number}",totalPoolAmount:"Jumlah Kolam",totalTokens:"Jumlah Token",settleCycle:"Selesaikan Kitaran Semasa",historyCycles:"Kitaran Sejarah",noHistoryData:"Tiada data sejarah",salesReport:"Laporan Jualan",partnerGrowth:"Pertumbuhan Rakan Kongsi",chartArea:"Kawasan Carta",systemSettings:"Tetapan Sistem",cashbackRatioSettings:"Tetapan Nisbah Pulangan Tunai",cashbackRatioDesc:"Konfigurasi nisbah pulangan tunai untuk fasa berbeza",bonusPoolCycleSetting:"Kitaran Kolam Bonus",bonusPoolCycleDesc:"Tetapan semasa: 10 hari/kitaran",referralRewardRatio:"Nisbah Ganjaran Rujukan",referralRewardDesc:"Konfigurasi ganjaran rujukan 10 peringkat",configure:"Konfigurasi",modify:"Ubah",partnersPage:{title:"Pengurusan Rakan Kongsi",subtitle:"Semak dan urus rakan kongsi",totalPartners:"Jumlah Rakan Kongsi",activated:"Diaktifkan",pendingReview:"Menunggu Semakan",partnerList:"Senarai Rakan Kongsi",searchPlaceholder:"Cari ID atau kod rujukan...",tabAll:"Semua",tabPending:"Menunggu",tabActive:"Aktif",noPartners:"Tiada rakan kongsi",activate:"Aktifkan",viewDetails:"Butiran",activateSuccess:"Pengaktifan Berjaya",activateSuccessDesc:"Akaun rakan kongsi telah diaktifkan",activateFailed:"Pengaktifan Gagal",package:"Pakej"},ordersPage:{title:"Pengurusan Pesanan",subtitle:"Proses dan jejak pesanan pelanggan",totalOrders:"Jumlah Pesanan",pendingPayment:"Menunggu Bayaran",preparing:"Menyediakan",shipping:"Penghantaran",completed:"Selesai",cancelled:"Dibatalkan",unknown:"Tidak Diketahui",orderList:"Senarai Pesanan",searchPlaceholder:"Cari nombor pesanan atau pelanggan...",tabAll:"Semua",noOrders:"Tiada pesanan",viewDetails:"Butiran",items:"item"},productsPage:{title:"Pengurusan Produk",subtitle:"Urus katalog produk dan harga",addProduct:"Tambah Produk",productList:"Senarai Produk",searchPlaceholder:"Cari nama produk...",noProducts:"Tiada produk",addFirstProduct:"Tambah Produk Pertama",categoryBirdNest:"Sarang Burung",categoryFishMaw:"Pundi Ikan",categoryGiftSet:"Set Hadiah",manageCategories:"Urus Kategori",categories:"Kategori",allCategories:"Semua",totalProducts:"Jumlah Produk",activeProducts:"Produk Aktif",addCategory:"Tambah Kategori",editCategory:"Edit Kategori",categoryModalDesc:"Tetapkan nama kategori dan warna paparan",categoryName:"Nama Kategori",categoryNamePlaceholder:"Masukkan nama kategori Cina",categoryNameEn:"Nama Inggeris",categoryNameEnPlaceholder:"Masukkan nama kategori Inggeris",categoryDescription:"Penerangan",categoryDescPlaceholder:"Masukkan penerangan kategori",categoryColor:"Warna Kategori",editProduct:"Edit Produk",productModalDesc:"Tetapkan maklumat produk, harga dan status paparan",productImage:"Imej Produk",uploadImage:"Muat Naik Imej",productNameZh:"Nama Cina",productNameZhPlaceholder:"Masukkan nama produk Cina",productNameEn:"Nama Inggeris",productNameEnPlaceholder:"Masukkan nama produk Inggeris",productDescription:"Penerangan Produk",productDescPlaceholder:"Masukkan penerangan produk",category:"Kategori",selectCategory:"Pilih Kategori",price:"Harga",weight:"Spesifikasi",sortOrder:"Susunan",isAvailable:"Tersedia untuk Dijual",isAvailableDesc:"Produk akan dipaparkan di kedai apabila diaktifkan",isFeatured:"Pilihan",isFeaturedDesc:"Produk pilihan diutamakan di halaman utama",productDetails:"Butiran Produk",available:"Tersedia",unavailable:"Tidak Tersedia",featured:"Pilihan",view:"Lihat",edit:"Edit",delete:"Padam",image:"Imej",productName:"Nama Produk",status:"Status",actions:"Tindakan",deleteConfirmTitle:"Sahkan Padam Produk",deleteConfirmDesc:"Tindakan ini tidak boleh dibatalkan. Padam produk"},membersPage:{title:"Pengurusan Ahli",subtitle:"Lihat dan urus semua ahli",totalUsers:"Jumlah Pengguna",regularMembers:"Ahli Biasa",partners:"Rakan Kongsi",memberList:"Senarai Ahli",searchPlaceholder:"Cari nama atau e-mel...",tabAll:"Semua",tabMember:"Ahli",tabPartner:"Rakan Kongsi",tabAdmin:"Pentadbir",noMembers:"Tiada ahli",viewDetails:"Butiran",points:"mata",orders:"pesanan",roleMember:"Ahli",rolePartner:"Rakan Kongsi",roleAdmin:"Pentadbir",roleUser:"Pengguna"},bonusPoolPage:{title:"Pengurusan Kolam Bonus",subtitle:"Tetapan dan pengurusan kitaran dividen RWA",refreshData:"Muat Semula Data",currentCycle:"Kitaran Semasa",inProgress:"Dalam Proses",cycleProgress:"Kemajuan Kitaran",days:"hari",daysRemaining:"{days} hari lagi dalam kitaran ini",currentPool:"Kolam Semasa",perTokenValue:"Nilai Setiap Token",participatingPartners:"Rakan Kongsi Peserta",cycleSales:"Jualan Kitaran",cycleSettings:"Tetapan Kitaran",cycleLength:"Tempoh Kitaran",salesPoolRatio:"Nisbah Kolam Jualan",totalRwaTokens:"Jumlah Token RWA",tokens:"token",editSettings:"Edit Tetapan",dividendNote:"Nota Dividen",dividendDesc1:"Pada akhir setiap kitaran (10 hari), sistem secara automatik mengagihkan jumlah kolam bonus kepada pemegang berdasarkan nisbah token RWA.",dividendRule1:"30% jualan secara automatik masuk ke kolam bonus",dividendRule2:"Setiap rakan kongsi memegang 1-4 token RWA (mengikut pakej)",dividendRule3:"Dividen memerlukan potongan mata LY yang setara untuk pengeluaran",historyCycles:"Kitaran Sejarah",cycle:"Kitaran",settled:"Diselesaikan",perToken:"Setiap Token",people:"orang"},inventoryPage:{title:"Pengurusan Inventori",subtitle:"Pertanyaan dan pelarasan inventori",addStock:"Operasi Stok",productSku:"SKU Produk",status:"Status",lowStock:"Stok Rendah",criticalStock:"Stok Kritikal",inventoryStatus:"Status Inventori",searchPlaceholder:"Cari produk atau SKU...",statusNormal:"Normal",statusLow:"Rendah",statusCritical:"Kritikal",statusUnknown:"Tidak Diketahui",recentChanges:"Perubahan Stok Terkini",stockIn:"Masuk Stok",stockOut:"Keluar Stok",purchaseIn:"Masuk Pembelian",manageCategories:"Urus Kategori",categories:"Kategori",allCategories:"Semua",addCategory:"Tambah Kategori",editCategory:"Edit Kategori",categoryModalDesc:"Tetapkan kategori inventori dan kebenaran modul",categoryName:"Nama Kategori",categoryNamePlaceholder:"Masukkan nama kategori Cina",categoryNameEn:"Nama Inggeris",categoryNameEnPlaceholder:"Masukkan nama kategori Inggeris",categoryColor:"Warna Kategori",permissions:"Kebenaran Modul",permissionsDesc:"Pilih modul yang boleh mengakses kategori ini",stockInDesc:"Rekod masuk stok produk",stockOutDesc:"Rekod keluar stok produk",selectProduct:"Pilih Produk",selectProductPlaceholder:"Pilih produk untuk dioperasi",quantity:"Kuantiti",stockInType:"Jenis Masuk Stok",stockOutType:"Jenis Keluar Stok",selectType:"Pilih Jenis",typeProduction:"Masuk Pengeluaran",typePurchase:"Masuk Pembelian",typeReturn:"Masuk Pulangan",typeAdjust:"Pelarasan",typeSales:"Keluar Jualan",typeProductionUse:"Penggunaan Pengeluaran",typeDamage:"Kerosakan/Pembaziran",note:"Nota",notePlaceholder:"Masukkan nota",confirmStockIn:"Sahkan Masuk Stok",confirmStockOut:"Sahkan Keluar Stok",editItem:"Edit Item Inventori",editItemDesc:"Ubah maklumat item inventori",itemName:"Nama",sku:"SKU",category:"Kategori",currentStock:"Stok Semasa",minStock:"Stok Minimum",unit:"Unit",actions:"Tindakan",edit:"Edit",delete:"Padam",deleteConfirmTitle:"Sahkan Padam",deleteConfirmDesc:"Tindakan ini tidak boleh dibatalkan. Padam item",date:"Tarikh",type:"Jenis",product:"Produk",operator:"Pengendali"},purchasePage:{title:"Pengurusan Perolehan",subtitle:"Pesanan pembelian dan pengurusan pembekal",newPo:"Pesanan Pembelian Baru",purchaseOrders:"Pesanan Pembelian",suppliers:"Pembekal",searchPlaceholder:"Cari pesanan atau pembekal...",statusPending:"Menunggu",statusApproved:"Diluluskan",statusShipped:"Penghantaran",statusReceived:"Diterima",statusUnknown:"Tidak Diketahui",items:"item",viewDetails:"Butiran",supplierList:"Senarai Pembekal",addSupplier:"Tambah Pembekal",orders:"pesanan",edit:"Edit"},logisticsPage:{title:"Penjejakan Logistik",subtitle:"Pengurusan logistik rantai sejuk dan penghantaran",totalShipments:"Jumlah Penghantaran",pendingShipment:"Menunggu",inTransit:"Dalam Transit",delivered:"Dihantar",coldChainMonitor:"Pemantauan Rantai Sejuk",tempNormal:"Semua penghantaran suhu normal (-18C ~ -15C)",statusNormal:"Normal",shipmentList:"Senarai Penghantaran",searchPlaceholder:"Cari penghantaran atau destinasi...",statusUnknown:"Tidak Diketahui",order:"Pesanan",track:"Jejak"},billsPage:{title:"Pengurusan Bil",subtitle:"Rekod perbelanjaan dan bil",addBill:"Tambah Bil",totalBills:"Jumlah Bil",pendingPayment:"Menunggu",overdue:"Tertunggak",billList:"Senarai Bil",searchPlaceholder:"Cari bil...",statusPending:"Menunggu",statusPaid:"Dibayar",statusOverdue:"Tertunggak",statusUnknown:"Tidak Diketahui",tabAll:"Semua",typePurchase:"Pembelian",typeLogistics:"Logistik",typeOperation:"Operasi",dueDate:"Tarikh Akhir",noBills:"Tiada bil"},financePage:{title:"Laporan Kewangan",subtitle:"Analisis hasil dan perbelanjaan",exportReport:"Eksport Laporan",monthlyRevenue:"Hasil Bulanan",monthlyExpenses:"Perbelanjaan Bulanan",monthlyProfit:"Keuntungan Bersih Bulanan",expenseBreakdown:"Pecahan Perbelanjaan",purchaseCost:"Kos Pembelian",logisticsCost:"Kos Logistik",operationCost:"Kos Operasi",otherCost:"Kos Lain",partnerExpenses:"Perbelanjaan Rakan Kongsi",cashbackPayout:"Pembayaran Pulangan Tunai",cashbackDesc:"Termasuk rujukan langsung dan rangkaian 3 peringkat",bonusPoolPayout:"Pembayaran Kolam Bonus RWA",bonusPoolDesc:"Dividen kolam bonus kitaran semasa",recentTransactions:"Transaksi Terkini",tabAll:"Semua",tabIncome:"Pendapatan",tabExpense:"Perbelanjaan"},withdrawals:{title:"Pengurusan Pengeluaran",subtitle:"Urus permohonan pengeluaran rakan kongsi",pendingRequests:"Menunggu",processingRequests:"Memproses",completedRequests:"Selesai",rejectedRequests:"Ditolak",requestsList:"Senarai Permohonan Pengeluaran",tabPending:"Menunggu",tabProcessing:"Memproses",tabCompleted:"Selesai",tabRejected:"Ditolak",tabAll:"Semua",noRequests:"Tiada permohonan pengeluaran",requestDetail:"Butiran Permohonan",withdrawAmount:"Jumlah Pengeluaran",partnerInfo:"Maklumat Rakan Kongsi",name:"Nama",email:"Emel",phone:"Telefon",bankInfo:"Maklumat Bank",bankName:"Nama Bank",accountNumber:"Nombor Akaun",accountName:"Pemegang Akaun",timeline:"Garis Masa",submittedAt:"Dihantar",processedAt:"Diproses",statusPending:"Menunggu",statusProcessing:"Memproses",statusCompleted:"Selesai",statusRejected:"Ditolak",approve:"Luluskan",reject:"Tolak",markComplete:"Tandakan Selesai",cancel:"Batal",rejectTitle:"Tolak Pengeluaran",rejectDesc:"Jumlah akan dikembalikan ke dompet rakan kongsi (mata LY tidak dikembalikan)",rejectPlaceholder:"Masukkan sebab penolakan...",rejectReasonLabel:"Sebab",confirmReject:"Sahkan Tolak",approveSuccess:"Pengeluaran diluluskan",approveFailed:"Kelulusan gagal",completeSuccess:"Pengeluaran ditandakan selesai",completeFailed:"Gagal menandakan selesai",rejectSuccess:"Pengeluaran ditolak",rejectFailed:"Penolakan gagal"},metaAdsPage:{title:"Iklan Meta",subtitle:"Urus pengiklanan Facebook/Instagram",newCampaign:"Kempen Baharu",totalCampaigns:"Jumlah Kempen",activeCampaigns:"Aktif",totalSpend:"Jumlah Belanja",totalImpressions:"Jumlah Paparan",searchPlaceholder:"Cari kempen...",tabAll:"Semua",tabActive:"Aktif",tabPaused:"Dijeda",tabDraft:"Draf",tabCompleted:"Selesai",noCampaigns:"Tiada kempen lagi",campaignName:"Nama Kempen",platform:"Platform",objective:"Objektif",budget:"Bajet",budgetType:"Jenis Bajet",dailyBudget:"Bajet Harian",lifetimeBudget:"Bajet Seumur Hidup",startDate:"Tarikh Mula",endDate:"Tarikh Tamat",targetAudience:"Sasaran Audiens",spent:"Dibelanjakan",impressions:"Paparan",clicks:"Klik",conversions:"Penukaran",ctr:"CTR",cpc:"CPC",roas:"ROAS",adSets:"Set Iklan",creatives:"Kreatif",performance:"Prestasi",objectiveAwareness:"Kesedaran",objectiveTraffic:"Trafik",objectiveEngagement:"Penglibatan",objectiveLeads:"Petunjuk",objectiveConversions:"Penukaran",objectiveSales:"Jualan",accountSettings:"Tetapan Akaun",accountId:"ID Akaun",accessToken:"Token Akses",pixelId:"ID Pixel",campaignCreated:"Kempen berjaya dicipta",createFailed:"Gagal mencipta",campaignUpdated:"Kempen berjaya dikemas kini",updateFailed:"Gagal mengemas kini",campaignDeleted:"Kempen berjaya dipadam",deleteFailed:"Gagal memadam",statusUpdated:"Status dikemas kini",nameRequired:"Sila masukkan nama kempen",budgetRequired:"Sila masukkan jumlah bajet yang sah",statusActive:"Aktif",statusPaused:"Dijeda",statusDraft:"Draf",statusCompleted:"Selesai",statusUnknown:"Tidak Diketahui",objectiveAppPromotion:"Promosi Aplikasi",budgetDaily:"Harian",budgetLifetime:"Seumur Hidup",budgetAmount:"Jumlah Bajet",totalBudget:"Jumlah Bajet",campaignList:"Senarai Kempen",details:"Butiran",editCampaign:"Edit Kempen",editCampaignDesc:"Ubah suai butiran kempen",newCampaignDesc:"Cipta kempen pengiklanan baharu",campaignNamePlaceholder:"Masukkan nama kempen",notes:"Nota",notesPlaceholder:"Masukkan nota...",cancel:"Batal",save:"Simpan",create:"Cipta",campaignDetails:"Butiran Kempen",status:"Status",dateRange:"Julat Tarikh",createdAt:"Dicipta Pada",updatedAt:"Dikemas Kini Pada",budgetUsage:"Penggunaan Bajet",adAccountId:"ID Akaun Iklan",noAdSets:"Tiada data set iklan",activate:"Aktifkan",pause:"Jeda",resume:"Sambung",close:"Tutup",deleteCampaign:"Padam Kempen",deleteConfirm:"Adakah anda pasti mahu memadam kempen ini? Tindakan ini tidak boleh dibatalkan.",deleteWarning:"Anda akan memadam kempen:",confirmDelete:"Sahkan Pemadaman",syncPerformance:"Segerak Data",syncSuccess:"Data prestasi disegerakkan",syncFailed:"Penyegerakan gagal"},xiaohongshuPage:{title:"Xiaohongshu",subtitle:"Urus kandungan dan operasi Xiaohongshu",newContent:"Kandungan Baharu",totalContent:"Jumlah Kandungan",published:"Diterbitkan",totalLikes:"Jumlah Suka",totalViews:"Jumlah Tontonan",searchPlaceholder:"Cari kandungan...",tabAll:"Semua",tabDraft:"Draf",tabPending:"Menunggu Semakan",tabPublished:"Diterbitkan",tabRejected:"Ditolak",noContent:"Tiada kandungan lagi",contentTitle:"Tajuk",contentBody:"Kandungan",contentType:"Jenis Kandungan",typeNote:"Nota Foto",typeVideo:"Video",typeLive:"Langsung",coverImage:"Imej Muka Depan",mediaTags:"Tag",scheduledAt:"Masa Dijadualkan",likes:"Suka",comments:"Komen",shares:"Kongsi",views:"Tontonan"},mediaPlanPage:{title:"Pelan Media",subtitle:"Kalendar kandungan dan penerbitan merentas platform",newPlan:"Pelan Baharu",totalPlans:"Jumlah Pelan",planned:"Dirancang",inProgress:"Sedang Berjalan",published:"Diterbitkan",searchPlaceholder:"Cari pelan...",tabAll:"Semua",tabPlanned:"Dirancang",tabInProgress:"Sedang Berjalan",tabReady:"Sedia",tabPublished:"Diterbitkan",listView:"Paparan Senarai",calendarView:"Paparan Kalendar",planTitle:"Tajuk",description:"Penerangan",platform:"Platform",contentType:"Jenis Kandungan",scheduledDate:"Tarikh Dijadualkan",scheduledTime:"Masa Dijadualkan",assignedTo:"Ditugaskan Kepada",noPlans:"Tiada pelan lagi",typePost:"Pos",typeStory:"Story",typeReel:"Reel",typeVideo:"Video",typeArticle:"Artikel",typeLive:"Langsung",createSuccess:"Pelan berjaya dicipta",createError:"Gagal mencipta pelan",updateSuccess:"Pelan berjaya dikemaskini",updateError:"Gagal mengemaskini pelan",deleteSuccess:"Pelan berjaya dipadam",deleteError:"Gagal memadamkan pelan",validationError:"Sila isi tajuk, platform dan jenis kandungan",platformXiaohongshu:"Xiaohongshu",platformWebsite:"Laman Web",statusPlanned:"Dirancang",statusInProgress:"Sedang Berjalan",statusReady:"Sedia",statusPublished:"Diterbitkan",statusPlannedShort:"Ranc",statusInProgressShort:"Jalr",statusPublishedShort:"Terb",planList:"Senarai Pelan",editPlan:"Edit Pelan",editPlanDesc:"Ubah butiran pelan",newPlanDesc:"Cipta pelan penerbitan media baharu",fieldTitle:"Tajuk",fieldTitlePlaceholder:"Masukkan tajuk pelan",fieldDescription:"Penerangan",fieldDescriptionPlaceholder:"Masukkan penerangan pelan...",fieldPlatform:"Platform",fieldPlatformPlaceholder:"Pilih platform",fieldContentType:"Jenis Kandungan",fieldContentTypePlaceholder:"Pilih jenis kandungan",fieldScheduledDate:"Tarikh Dijadualkan",fieldScheduledTime:"Masa Dijadualkan",fieldAssignedTo:"Ditugaskan Kepada",fieldAssignedToPlaceholder:"Masukkan nama orang ditugaskan",fieldContentUrl:"URL Kandungan",fieldContentUrlPlaceholder:"Masukkan URL kandungan",fieldNotes:"Nota",fieldNotesPlaceholder:"Masukkan nota...",cancel:"Batal",save:"Simpan",create:"Cipta",deleteConfirmTitle:"Padam Pelan",deleteConfirmDesc:"Sahkan padam {{title}}? Tindakan ini tidak boleh dibatalkan.",delete:"Padam",edit:"Edit",sun:"Ahd",mon:"Isn",tue:"Sel",wed:"Rab",thu:"Kha",fri:"Jum",sat:"Sab",selectContent:"Pilih Kandungan"},adPlacementPage:{title:"Perancangan Iklan",subtitle:"Peruntukan bajet dan pengurusan kelulusan",newPlan:"Pelan Baharu",totalPlans:"Jumlah Pelan",pendingApproval:"Menunggu Kelulusan",activePlans:"Aktif",totalBudget:"Jumlah Bajet",searchPlaceholder:"Cari pelan...",tabAll:"Semua",tabDraft:"Draf",tabPending:"Menunggu",tabApproved:"Diluluskan",tabActive:"Aktif",tabCompleted:"Selesai",noPlans:"Tiada pelan lagi",planName:"Nama Pelan",platform:"Platform",totalBudgetLabel:"Jumlah Bajet",dailyBudgetLabel:"Bajet Harian",startDate:"Tarikh Mula",endDate:"Tarikh Tamat",kpiTargets:"Sasaran KPI",approvalNotes:"Nota Kelulusan",submitForApproval:"Hantar untuk Kelulusan",approve:"Luluskan",reject:"Tolak",planCreated:"Pelan dicipta",createFailed:"Gagal mencipta",planUpdated:"Pelan dikemaskini",updateFailed:"Gagal mengemaskini",planDeleted:"Pelan dipadam",deleteFailed:"Gagal memadamkan",submittedForApproval:"Dihantar untuk kelulusan",submitFailed:"Gagal menghantar",planApproved:"Pelan diluluskan",approveFailed:"Gagal meluluskan",planRejected:"Pelan ditolak",rejectFailed:"Gagal menolak",nameRequired:"Sila masukkan nama pelan",statusDraft:"Draf",statusPending:"Menunggu",statusApproved:"Diluluskan",statusActive:"Aktif",statusCompleted:"Selesai",platformXiaohongshu:"Xiaohongshu",budget:"Bajet",dailyBudget:"Bajet Harian",editPlan:"Edit Pelan",createPlan:"Cipta Pelan",editPlanDescription:"Ubah butiran pelan",createPlanDescription:"Cipta pelan penempatan iklan baharu",planNamePlaceholder:"Masukkan nama pelan",description:"Penerangan",descriptionPlaceholder:"Masukkan penerangan pelan...",selectPlatform:"Pilih platform",kpiTargetsPlaceholder:"Masukkan sasaran KPI (format JSON)",notes:"Nota",notesPlaceholder:"Masukkan nota...",cancel:"Batal",save:"Simpan",create:"Cipta",confirmDelete:"Padam Pelan",confirmDeleteDescription:"Adakah anda pasti mahu memadamkan pelan ini? Tindakan ini tidak boleh dibatalkan.",delete:"Padam",tabDraftShort:"Draf",tabPendingShort:"Tung",tabApprovedShort:"Lulus",tabActiveShort:"Aktif",tabCompletedShort:"Slsi",submitShort:"Hantar",attachContent:"Lampir Kandungan",browseContent:"Semak Kandungan",attachContentHint:"Pautkan kandungan pemasaran dari halaman Penciptaan Kandungan",planList:"Senarai Pelan"},performanceReportsPage:{title:"Laporan Prestasi",subtitle:"Analitik KPI prestasi iklan",dateRange:"Julat Tarikh",last7Days:"7 Hari Lalu",last30Days:"30 Hari Lalu",last90Days:"90 Hari Lalu",customRange:"Julat Tersuai",platformFilter:"Penapis Platform",allPlatforms:"Semua Platform",totalSpend:"Jumlah Belanja",totalImpressions:"Jumlah Paparan",totalClicks:"Jumlah Klik",totalConversions:"Jumlah Penukaran",avgCTR:"Purata CTR",avgROAS:"Purata ROAS",dailyTrend:"Trend Harian",platformComparison:"Perbandingan Platform",budgetAllocation:"Peruntukan Bajet",topCampaigns:"Kempen Terbaik",noData:"Tiada data tersedia",platform:"Platform",all:"Semua",sampleDataNotice:"Menunjukkan data contoh. Sambungkan kempen anda untuk melihat metrik prestasi sebenar.",impressions:"Paparan",clicks:"Klik",conversions:"Penukaran",spend:"Belanja",avgCtr:"Purata CTR",avgRoas:"Purata ROAS",campaign:"Kempen",roas:"ROAS",noCampaigns:"Tiada data kempen lagi"},whatsappConfigPage:{title:"Konfigurasi WhatsApp",subtitle:"Tetapan API WhatsApp Business dan templat",apiConfig:"Konfigurasi API",businessProfile:"Profil Perniagaan",messageTemplates:"Templat Mesej",adminPush:"Tolak Admin",phoneId:"ID Nombor Telefon",businessAccountId:"ID Akaun Perniagaan",accessToken:"Token Akses",webhookToken:"Token Pengesahan Webhook",webhookUrl:"URL Webhook",businessName:"Nama Perniagaan",businessDesc:"Penerangan Perniagaan",businessAddr:"Alamat Perniagaan",businessEmail:"E-mel Perniagaan",businessWebsite:"Laman Web Perniagaan",adminPhones:"Nombor Telefon Admin",adminPhonesDesc:"Nombor WhatsApp untuk pemberitahuan pesanan & perkhidmatan",notificationEnabled:"Pemberitahuan Diaktifkan",autoReply:"Auto Balas",autoReplyMessage:"Mesej Auto Balas",workingHours:"Waktu Bekerja",saveConfig:"Simpan Konfigurasi",configSaved:"Konfigurasi disimpan",configSaveFailed:"Gagal menyimpan",newTemplate:"Templat Baharu",templateName:"Nama Templat",templateLanguage:"Bahasa",templateCategory:"Kategori",templateBody:"Badan Templat",templateFooter:"Teks Kaki",templateVariables:"Pembolehubah",noTemplates:"Tiada templat lagi",pushToAdmin:"Tolak ke Admin",pushMessage:"Mesej Tolak",pushTarget:"Sasaran Tolak",pushAllAdmins:"Semua Admin",pushSelectAdmin:"Pilih Admin",pushType:"Jenis Tolak",pushTypeOrder:"Pemberitahuan Pesanan",pushTypeCustomer:"Mesej Pelanggan",pushTypeSystem:"Pemberitahuan Sistem",pushTypeMarketing:"Tolak Pemasaran",pushContent:"Kandungan Tolak",pushSend:"Hantar Tolak",pushSuccess:"Tolak dihantar",pushFailed:"Tolak gagal",pushHistory:"Sejarah Tolak",businessPhoneId:"ID Nombor Telefon Perniagaan",whatsappBusinessAccountId:"ID Akaun Perniagaan WhatsApp",businessInfo:"Maklumat Perniagaan",businessDescription:"Penerangan Perniagaan",businessAddress:"Alamat Perniagaan",adminPhoneNumbers:"Nombor Telefon Admin",adminPhoneHint:"Pisahkan nombor berganda dengan koma",autoReplyEnabled:"Aktifkan Auto Balas",autoReplyPlaceholder:"Masukkan mesej auto balas...",workingHoursStart:"Masa Mula",workingHoursEnd:"Masa Tamat",templateUpdated:"Templat dikemaskini",templateCreated:"Templat dicipta",templateSaveFailed:"Gagal menyimpan templat",templateDeleted:"Templat dipadam",templateDeleteFailed:"Gagal memadamkan templat",pushSent:"Tolak dihantar",sendPush:"Hantar Tolak",pushContentPlaceholder:"Masukkan kandungan mesej tolak...",sendButton:"Hantar",noPushHistory:"Tiada sejarah tolak lagi",pushTargetAll:"Semua Admin",edit:"Edit",delete:"Padam",editTemplate:"Edit Templat",editTemplateDesc:"Ubah kandungan templat mesej",newTemplateDesc:"Cipta templat mesej WhatsApp baharu",templateNamePlaceholder:"Masukkan nama templat",templateBodyPlaceholder:"Masukkan badan templat, gunakan {{1}} sebagai pemegang tempat pembolehubah",templateFooterPlaceholder:"Masukkan teks kaki",templateVariablesHint:"Pisahkan pembolehubah berganda dengan koma",cancel:"Batal",updateTemplate:"Kemaskini Templat",createTemplate:"Cipta Templat",variables:"Pembolehubah",webhookVerifyToken:"Token Pengesahan Webhook",adminManagement:"Pengurusan Admin",adminManagementDesc:"Urus akaun admin WhatsApp dan tugasan perbualan",goToAdminManagement:"Urus Admin"},whatsappOrdersPage:{title:"Pesanan WhatsApp",subtitle:"Urus pesanan dari saluran WhatsApp",totalOrders:"Jumlah Pesanan",pendingOrders:"Menunggu",paidOrders:"Dibayar",totalRevenue:"Jumlah Pendapatan",searchPlaceholder:"Cari telefon atau pesanan...",tabAll:"Semua",tabPending:"Menunggu",tabConfirmed:"Disahkan",tabProcessing:"Memproses",tabShipped:"Dihantar",tabDelivered:"Diterima",noOrders:"Tiada pesanan WhatsApp lagi",customerPhone:"Telefon Pelanggan",customerName:"Nama Pelanggan",orderAmount:"Jumlah Pesanan",paymentStatus:"Status Pembayaran",linkToOrder:"Paut ke Pesanan",viewConversation:"Lihat Perbualan",sendNotification:"Hantar Pemberitahuan",notifyAdmin:"Maklumkan Admin",orderCreated:"Pesanan dicipta",createFailed:"Gagal mencipta",orderUpdated:"Pesanan dikemaskini",updateFailed:"Gagal mengemaskini",orderDeleted:"Pesanan dipadam",deleteFailed:"Gagal memadamkan",notificationSent:"Pemberitahuan dihantar",invalidJson:"Format JSON data pesanan tidak sah",requiredFields:"Sila isi telefon pelanggan dan nama",confirmDelete:"Adakah anda pasti mahu memadamkan pesanan ini?",paymentPaid:"Dibayar",paymentRefunded:"Dikembalikan",paymentUnpaid:"Belum Dibayar",statusConfirmed:"Disahkan",statusProcessing:"Memproses",statusShipped:"Dihantar",statusDelivered:"Diterima",statusPending:"Menunggu",tabPendingShort:"Tunggu",tabConfirmedShort:"Sahkn",tabProcessingShort:"Proses",tabShippedShort:"Hantr",tabDeliveredShort:"Terma",activeOrders:"Aktif",statusCancelled:"Dibatalkan",orderList:"Senarai Pesanan",viewDetails:"Lihat Butiran",edit:"Edit",newOrder:"Pesanan Baharu",editOrder:"Edit Pesanan",createOrder:"Cipta Pesanan",editOrderDesc:"Ubah maklumat pesanan WhatsApp",createOrderDesc:"Cipta pesanan WhatsApp secara manual",customerNamePlaceholder:"Masukkan nama pelanggan",orderData:"Data Pesanan",orderDataPlaceholder:'Data pesanan format JSON, cth: [{"name": "Produk", "quantity": 1}]',totalAmount:"Jumlah Keseluruhan",orderStatus:"Status Pesanan",notes:"Nota",notesPlaceholder:"Masukkan nota...",cancel:"Batal",save:"Simpan",create:"Cipta",orderDetails:"Butiran Pesanan",createdAt:"Dicipta Pada",updatedAt:"Dikemaskini Pada",conversationId:"ID Perbualan",linkedOrderId:"ID Pesanan Terpaut",close:"Tutup",notifyAdminTitle:"Hantar Pemberitahuan Admin",notificationMessage:"Mesej Pemberitahuan",notificationPlaceholder:"Masukkan mesej pemberitahuan...",send:"Hantar"},whatsappMembersPage:{title:"Pendaftaran Ahli",subtitle:"Jejak pendaftaran ahli saluran WhatsApp",totalRegistrations:"Jumlah Pendaftaran",completedReg:"Selesai",pendingReg:"Menunggu",conversionRate:"Kadar Penukaran",searchPlaceholder:"Cari telefon atau nama...",tabAll:"Semua",tabPending:"Menunggu",tabCompleted:"Selesai",tabFailed:"Gagal",noRegistrations:"Tiada pendaftaran lagi",phone:"Telefon",name:"Nama",email:"E-mel",source:"Sumber",registeredAt:"Didaftarkan Pada",linkToMember:"Paut ke Ahli",createSuccess:"Pendaftaran dicipta",createError:"Gagal mencipta",deleteSuccess:"Pendaftaran dipadam",deleteError:"Gagal memadamkan",phoneRequired:"Sila masukkan nombor telefon",statusPending:"Menunggu",statusCompleted:"Selesai",statusFailed:"Gagal",sourceManual:"Manual",sourceReferral:"Rujukan",completedCount:"Selesai",pendingCount:"Menunggu",registrationList:"Senarai Pendaftaran",viewDetail:"Lihat Butiran",registrationDetail:"Butiran Pendaftaran",registrationDetailDesc:"Lihat butiran rekod pendaftaran",createdAt:"Didaftarkan Pada",conversationId:"ID Perbualan",memberLinked:"Ahli Dipautkan",viewMemberProfile:"Lihat Profil Ahli",metadata:"Metadata",close:"Tutup",addRegistration:"Tambah Pendaftaran",addRegistrationDesc:"Tambah pendaftaran ahli WhatsApp secara manual",phonePlaceholder:"Masukkan nombor telefon cth +60123456789",namePlaceholder:"Masukkan nama",emailPlaceholder:"Masukkan alamat e-mel",cancel:"Batal",confirm:"Sahkan",withOrders:"Dengan Pesanan",partners:"Rakan Kongsi",newMembers:"Baharu",totalOrders:"Pesanan",status:"Status"},aiCustomerServicePage:{title:"Perkhidmatan Pelanggan AI",subtitle:"Konfigurasi bot AI dan pengurusan perbualan",botConfig:"Konfigurasi Bot",conversations:"Perbualan",totalConversations:"Jumlah Perbualan",activeConversations:"Aktif",escalatedConversations:"Dinaik Taraf",avgSatisfaction:"Purata Kepuasan",botName:"Nama Bot",botDescription:"Penerangan",systemPrompt:"Arahan Sistem",knowledgeBase:"Pangkalan Pengetahuan",greetingMessage:"Mesej Selamat Datang",fallbackMessage:"Mesej Sandaran",model:"Model AI",temperature:"Suhu",maxTokens:"Token Maksimum",enabled:"Diaktifkan",disabled:"Dinyahaktifkan",configure:"Konfigurasikan",viewHistory:"Lihat Sejarah",noConversations:"Tiada perbualan lagi",messageCount:"Mesej",tokensUsed:"Token Digunakan",satisfaction:"Kepuasan",escalated:"Dinaik Taraf",testBot:"Uji Bot",toggleSuccess:"Status bot dikemaskini",toggleError:"Gagal mengemaskini status",updateSuccess:"Konfigurasi bot dikemaskini",updateError:"Gagal mengemaskini konfigurasi",invalidJson:"Format JSON pangkalan pengetahuan tidak sah",statusActive:"Aktif",statusCompleted:"Selesai",statusEscalated:"Dinaik Taraf",statusFailed:"Gagal",configureBot:"Konfigurasikan Bot",configureBotDesc:"Laraskan arahan sistem bot, pangkalan pengetahuan dan parameter",fieldName:"Nama",fieldDescription:"Penerangan",fieldSystemPrompt:"Arahan Sistem",fieldKnowledgeBase:"Pangkalan Pengetahuan",fieldGreetingMessage:"Mesej Selamat Datang",fieldFallbackMessage:"Mesej Sandaran",fieldModel:"Model AI",fieldTemperature:"Suhu",fieldMaxTokens:"Token Maksimum",fieldResponseLanguage:"Bahasa Respons",cancel:"Batal",save:"Simpan",conversationDetail:"Butiran Perbualan",conversationList:"Senarai Perbualan",searchPlaceholder:"Cari telefon atau pelanggan...",messages:"mesej",noMessages:"Tiada mesej lagi",confidence:"Keyakinan",close:"Tutup",statTotal:"Jumlah Perbualan",statActive:"Aktif",statEscalated:"Dinaik Taraf",statAvgSatisfaction:"Purata Kepuasan",escalateToAdmin:"Tingkatkan ke Admin",escalateSuccess:"Ditingkatkan ke admin",escalateError:"Peningkatan gagal",sendError:"Gagal menghantar mesej",takeOver:"Ambil Alih",takeOverSuccess:"Perbualan berjaya diambil alih",takeOverError:"Gagal mengambil alih perbualan",transfer:"Pindah",transferSuccess:"Perbualan berjaya dipindahkan",transferError:"Gagal memindahkan perbualan",markResolved:"Tandakan Selesai",resolveSuccess:"Perbualan ditandakan selesai",resolveError:"Gagal menandakan perbualan selesai",backToAi:"Kembali ke AI",backToAiSuccess:"Perbualan dikembalikan ke AI",backToAiError:"Gagal mengembalikan ke AI",botEnabled:"Bot diaktifkan",botDisabled:"Bot dinyahaktifkan",selectConversation:"Pilih perbualan",selectConversationDesc:"Pilih perbualan dari senarai untuk mula berinteraksi",filterAi:"AI",filterMine:"Saya",filterUnassigned:"Belum Ditugaskan",filterEscalated:"Dinaik Taraf",filterResolved:"Selesai",statusResolved:"Selesai",assigned:"Ditugaskan",unassigned:"Belum Ditugaskan",conversationResolved:"Perbualan ini telah diselesaikan",replyPlaceholder:"Taip mesej... (Enter untuk hantar)",transferTitle:"Pindahkan Perbualan",transferDesc:"Pilih admin untuk memindahkan perbualan ini",selectAdmin:"Pilih Admin",selectAdminPlaceholder:"Pilih admin...",noAdminsOnDuty:"Tiada admin bertugas pada masa ini",confirmTransfer:"Sahkan Pindahan",selected:"dipilih",noKnowledgeBase:"Tiada artikel pangkalan pengetahuan"},contentCreationPage:{title:"Penciptaan Kandungan",subtitle:"Hab penulisan AI & pengurusan kandungan",newContent:"Kandungan Baharu",newContentDesc:"Cipta kandungan pemasaran baharu",editContent:"Edit Kandungan",editContentDesc:"Ubah butiran kandungan",totalContent:"Jumlah Kandungan",drafts:"Draf",aiGenerated:"Dijana AI",published:"Diterbitkan",tabAll:"Semua",tabDraft:"Draf",tabReady:"Sedia",tabPublished:"Diterbitkan",tabAi:"Dijana AI",searchPlaceholder:"Cari kandungan...",noContent:"Tiada kandungan lagi",aiGenerate:"Jana AI",aiGenerateTitle:"Penjanaan Kandungan AI",aiGenerateDesc:"Pilih produk dan majlis, AI menjana salinan pemasaran",aiProduct:"Pilih Produk",aiProductPlaceholder:"Pilih produk untuk dipromosikan",aiTopic:"Topik",aiTopicPlaceholder:"Masukkan topik kandungan",aiOccasion:"Majlis",aiPlatform:"Platform Sasaran",aiTone:"Nada",aiLanguage:"Bahasa",generate:"Jana",aiGenerateSuccess:"Kandungan AI dijana",aiGenerateError:"Penjanaan gagal",aiGenerateImageLabel:"Jana Imej AI",aiGenerateImageDesc:"Gunakan DALL-E 3 untuk jana imej muka depan",generatingWithImage:"Menjana (dengan imej)...",uploadSuccess:"Imej dimuat naik",uploadError:"Muat naik gagal",occasion_normal:"Biasa",occasion_chinese_new_year:"Tahun Baru Cina",occasion_hari_raya:"Hari Raya",occasion_christmas:"Krismas",occasion_valentines:"Hari Valentine",occasion_mothers_day:"Hari Ibu",occasion_mid_autumn:"Pesta Pertengahan Musim Luruh",occasion_product_launch:"Pelancaran Produk",occasion_flash_sale:"Jualan Kilat",tone_professional:"Profesional",tone_casual:"Santai",tone_festive:"Perayaan",tone_humorous:"Jenaka",tone_inspirational:"Inspirasi",fieldTitle:"Tajuk",fieldTitlePlaceholder:"Masukkan tajuk kandungan",fieldBody:"Badan",fieldBodyPlaceholder:"Masukkan kandungan badan...",fieldContentType:"Jenis Kandungan",selectContentType:"Pilih jenis kandungan",fieldPlatform:"Platform",fieldCoverImage:"URL Imej Muka Depan",fieldCoverImagePlaceholder:"Masukkan URL imej muka depan",fieldTags:"Tag",fieldTagsPlaceholder:"Pisahkan tag dengan koma",fieldHashtags:"Hashtag",fieldHashtagsPlaceholder:"Pisahkan hashtag dengan koma",createSuccess:"Kandungan dicipta",createError:"Gagal mencipta",updateSuccess:"Kandungan dikemaskini",updateError:"Gagal mengemaskini",deleteSuccess:"Kandungan dipadam",deleteError:"Gagal memadamkan",deleteConfirmTitle:"Padam Kandungan",deleteConfirmDesc:"Adakah anda pasti mahu memadamkan kandungan ini? Tindakan ini tidak boleh dibatalkan.",cancel:"Batal",save:"Simpan",create:"Cipta",delete:"Padam",close:"Tutup",copied:"Disalin ke papan keratan",markReady:"Tandakan Sedia",addToCalendar:"Tambah ke Kalendar",addedToCalendar:"Ditambah ke kalendar penerbitan",addToCalendarError:"Gagal menambah",statusDraft:"Draf",statusAi_generating:"AI Menjana",statusReady:"Sedia",statusPublished:"Diterbitkan",statusArchived:"Diarkibkan"},whatsappAdminsPage:{title:"Pengurusan Admin",subtitle:"Pengurusan pelbagai admin WhatsApp & penugasan perbualan",addAdmin:"Tambah Admin",addAdminDesc:"Tambah admin WhatsApp baharu",editAdmin:"Edit Admin",editAdminDesc:"Ubah maklumat admin",totalAdmins:"Jumlah Admin",online:"Dalam Talian",onDuty:"Bertugas",activeChats:"Sembang Aktif",tabAll:"Semua",tabOnline:"Dalam Talian",tabOffline:"Luar Talian",tabOnDuty:"Bertugas",searchPlaceholder:"Cari admin...",noAdmins:"Tiada admin lagi",fieldName:"Nama",fieldNamePlaceholder:"Masukkan nama admin",fieldPhone:"Telefon",fieldPhonePlaceholder:"Masukkan nombor telefon",dutyStart:"Mula Bertugas",dutyEnd:"Tamat Bertugas",maxChats:"Maks Sembang Serentak",status_online:"Dalam Talian",status_offline:"Luar Talian",status_busy:"Sibuk",createSuccess:"Admin ditambah",createError:"Gagal menambah",updateSuccess:"Admin dikemaskini",updateError:"Gagal mengemaskini",deleteSuccess:"Admin dipadam",deleteError:"Gagal memadamkan",deleteConfirmTitle:"Padam Admin",deleteConfirmDesc:"Adakah anda pasti mahu memadamkan admin ini?",cancel:"Batal",save:"Simpan",create:"Cipta",delete:"Padam",assignmentQueue:"Baris Penugasan",noUnassigned:"Tiada perbualan belum ditugaskan",assign:"Tugaskan",assignConversation:"Tugaskan Perbualan",assignConversationDesc:"Tugaskan perbualan ini kepada admin",selectAdmin:"Pilih Admin",selectAdminPlaceholder:"Pilih seorang admin",assignSuccess:"Perbualan ditugaskan",assignError:"Penugasan gagal",autoAssignment:"Tetapan Auto-Penugasan",autoAssignEnabled:"Aktifkan Auto-Penugasan",timeoutSeconds:"Tamat Masa (saat)",strategy:"Strategi",strategyLeastBusy:"Paling Kurang Sibuk",strategyRoundRobin:"Round Robin",strategyManual:"Manual",selectSystemAdmin:"Pilih Admin Sistem",selectSystemAdminPlaceholder:"Pilih admin sistem",noAvailableAdmins:"Semua admin sistem telah diikat"},systemHealthPage:{title:"Kesihatan Sistem",subtitle:"Ujian sambungan API dan konfigurasi sistem",testAll:"Uji Semua",totalConfigs:"Jumlah Konfigurasi",connected:"Disambungkan",failed:"Gagal",untested:"Belum Diuji"},adManagementPage:{title:"Pengurusan Iklan",subtitle:"Urus kempen pemasaran, pelan penempatan dan bahan kreatif",syncPerformance:"Segerak Prestasi",syncSuccess:"Data prestasi berjaya disegerakkan",syncFailed:"Gagal menyegerakkan data prestasi",new:"Baharu",totalCampaigns:"Jumlah Kempen",activePlans:"Pelan Aktif",totalSpend:"Jumlah Perbelanjaan",roas:"ROAS",tabCampaigns:"Kempen",tabPlacements:"Penempatan",tabCreatives:"Bahan Kreatif",campaignList:"Senarai Kempen",searchPlaceholder:"Cari...",tabAll:"Semua",statusActive:"Aktif",statusPaused:"Dijeda",statusDraft:"Draf",statusCompleted:"Selesai",statusUnknown:"Tidak Diketahui",statusPending:"Menunggu Kelulusan",statusApproved:"Diluluskan",noCampaigns:"Tiada kempen dijumpai",noPlans:"Tiada pelan dijumpai",noAdSets:"Tiada set iklan dijumpai",noCreatives:"Tiada bahan kreatif",spent:"Dibelanjakan",details:"Butiran",campaignCreated:"Kempen berjaya dicipta",campaignUpdated:"Kempen berjaya dikemaskini",campaignDeleted:"Kempen berjaya dipadam",createFailed:"Gagal mencipta",updateFailed:"Gagal mengemaskini",deleteFailed:"Gagal memadam",statusUpdated:"Status berjaya dikemaskini",nameRequired:"Nama diperlukan",budgetRequired:"Bajet diperlukan",platformXiaohongshu:"Xiaohongshu",objectiveAwareness:"Kesedaran",objectiveTraffic:"Trafik",objectiveEngagement:"Penglibatan",objectiveLeads:"Petunjuk Jualan",objectiveSales:"Jualan",objectiveAppPromotion:"Promosi Aplikasi",budgetDaily:"Harian",budgetLifetime:"Seumur Hidup",editCampaign:"Edit Kempen",newCampaign:"Kempen Baharu",editCampaignDesc:"Kemaskini butiran kempen",newCampaignDesc:"Cipta kempen pemasaran baharu",campaignName:"Nama Kempen",campaignNamePlaceholder:"Masukkan nama kempen",platform:"Platform",objective:"Objektif",budgetType:"Jenis Bajet",budgetAmount:"Jumlah Bajet",startDate:"Tarikh Mula",endDate:"Tarikh Tamat",notes:"Nota",notesPlaceholder:"Masukkan nota...",cancel:"Batal",save:"Simpan",create:"Cipta",close:"Tutup",campaignDetails:"Butiran Kempen",status:"Status",budget:"Bajet",dateRange:"Julat Tarikh",createdAt:"Dicipta Pada",updatedAt:"Dikemaskini Pada",budgetUsage:"Penggunaan Bajet",activate:"Aktifkan",pause:"Jeda",resume:"Sambung Semula",deleteCampaign:"Padam Kempen",deleteConfirm:"Adakah anda pasti mahu memadam item ini?",deleteWarning:"Ini akan memadamkan kempen secara kekal:",confirmDelete:"Sahkan Padam",planList:"Senarai Pelan",planCreated:"Pelan berjaya dicipta",planUpdated:"Pelan berjaya dikemaskini",planDeleted:"Pelan berjaya dipadam",submittedForApproval:"Diserahkan untuk kelulusan",submitFailed:"Gagal menyerahkan",planApproved:"Pelan diluluskan",approveFailed:"Gagal meluluskan",planRejected:"Pelan ditolak",rejectFailed:"Gagal menolak",submitForApproval:"Serahkan untuk Kelulusan",approve:"Luluskan",reject:"Tolak",dailyBudgetLabel:"Bajet Harian",approvalNotes:"Nota Kelulusan",editPlan:"Edit Pelan",createPlan:"Cipta Pelan",editPlanDesc:"Kemaskini butiran pelan penempatan",createPlanDesc:"Cipta pelan penempatan iklan baharu",planName:"Nama Pelan",planNamePlaceholder:"Masukkan nama pelan",description:"Penerangan",descriptionPlaceholder:"Masukkan penerangan...",campaign:"Kempen",selectCampaign:"Pilih kempen",none:"Tiada",totalBudget:"Jumlah Bajet",dailyBudget:"Bajet Harian",kpiTargets:"Sasaran KPI",kpiTargetsPlaceholder:"Masukkan sasaran KPI...",deletePlan:"Padam Pelan",creativesTitle:"Bahan Kreatif",newAdSet:"Set Iklan Baharu",newCreative:"Bahan Kreatif Baharu",targeting:"Penyasaran",editAdSet:"Edit Set Iklan",editAdSetDesc:"Kemaskini butiran set iklan",newAdSetDesc:"Cipta set iklan baharu",adSetName:"Nama Set Iklan",adSetNamePlaceholder:"Masukkan nama set iklan",adSetCreated:"Set iklan berjaya dicipta",adSetUpdated:"Set iklan berjaya dikemaskini",adSetDeleted:"Set iklan berjaya dipadam",deleteAdSet:"Padam Set Iklan",editCreative:"Edit Bahan Kreatif",newCreativeDesc:"Cipta bahan kreatif baharu",editCreativeDesc:"Kemaskini butiran bahan kreatif",adSet:"Set Iklan",selectAdSet:"Pilih set iklan",creativeTitle:"Tajuk",creativeTitlePlaceholder:"Masukkan tajuk bahan kreatif",mediaUrl:"URL Media",callToAction:"Seruan Tindakan",creativeType:"Jenis Kreatif",typeImage:"Imej",typeVideo:"Video",typeCarousel:"Karusel",typeStory:"Story",creativeCreated:"Bahan kreatif berjaya dicipta",creativeUpdated:"Bahan kreatif berjaya dikemaskini",creativeDeleted:"Bahan kreatif berjaya dipadam",deleteCreative:"Padam Bahan Kreatif"},memoryDatabasePage:{title:"Pangkalan Data Memori",subtitle:"Urus memori produk, pelanggan dan rakan kongsi untuk AI",addMemory:"Tambah Memori",statTotal:"Jumlah Memori",statProduct:"Memori Produk",statCustomer:"Memori Pelanggan",statPartner:"Memori Rakan Kongsi",tabProduct:"Produk",tabCustomer:"Pelanggan",tabPartner:"Rakan Kongsi",productMemoryTitle:"Memori Produk",customerMemoryTitle:"Memori Pelanggan",partnerMemoryTitle:"Memori Rakan Kongsi",filterCategory:"Tapis Kategori",allCategories:"Semua Kategori",searchPlaceholder:"Cari...",filterPhone:"Tapis Telefon",noMemories:"Tiada memori dijumpai",inactive:"Tidak Aktif",active:"Aktif",editProductMemory:"Edit Memori Produk",addProductMemory:"Tambah Memori Produk",editCustomerMemory:"Edit Memori Pelanggan",addCustomerMemory:"Tambah Memori Pelanggan",editPartnerMemory:"Edit Memori Rakan Kongsi",addPartnerMemory:"Tambah Memori Rakan Kongsi",formDescription:"Isi butiran memori di bawah",fieldProductId:"ID Produk",fieldProductIdPlaceholder:"Pilihan: Masukkan UUID produk",fieldCategory:"Kategori",fieldLanguage:"Bahasa",fieldTitle:"Tajuk",fieldContent:"Kandungan",fieldPriority:"Keutamaan",fieldIsActive:"Status Aktif",fieldCustomerPhone:"Telefon Pelanggan",fieldCustomerName:"Nama Pelanggan",fieldMemoryType:"Jenis Memori",fieldSource:"Sumber",fieldImportance:"Kepentingan",cancel:"Batal",save:"Simpan",close:"Tutup",viewDetail:"Lihat Butiran",createdAt:"Dicipta Pada",updatedAt:"Dikemaskini Pada",hasEmbedding:"Ada Embedding",noEmbedding:"Tiada Embedding",deleteConfirmTitle:"Padam Memori",deleteConfirmDesc:"Adakah anda pasti mahu memadam memori ini?",confirmDelete:"Sahkan Padam",saveSuccess:"Memori berjaya disimpan",saveError:"Gagal menyimpan memori",deleteSuccess:"Memori berjaya dipadam",deleteError:"Gagal memadam memori",embeddingSuccess:"Embedding berjaya dijana",embeddingError:"Gagal menjana embedding",strengthenSuccess:"Memori berjaya diperkukuhkan ke pangkalan pengetahuan",strengthenError:"Gagal memperkukuhkan memori"},knowledgeBasePage:{title:"Pangkalan Pengetahuan",subtitle:"Urus artikel pengetahuan dan data latihan Soal Jawab AI",statTotalArticles:"Jumlah Artikel",statActiveArticles:"Artikel Aktif",statTotalQa:"Jumlah Soal Jawab",statVerifiedQa:"Soal Jawab Disahkan",tabKnowledge:"Pengetahuan",tabQa:"Soal Jawab",searchArticles:"Cari artikel...",addArticle:"Tambah Artikel",searchQa:"Cari soal jawab...",addQa:"Tambah Soal Jawab",filter_all:"Semua",filter_active:"Aktif",filter_inactive:"Tidak Aktif",qaFilter_all:"Semua",qaFilter_verified:"Disahkan",qaFilter_unverified:"Belum Disahkan",qaFilter_ai_generated:"Dijana AI",noArticles:"Tiada artikel dijumpai",noQa:"Tiada data soal jawab dijumpai",view:"Lihat",edit:"Edit",delete:"Padam",generateEmbedding:"Jana Embedding",aiSuggestAnswer:"Cadangan AI",confidence:"Keyakinan",createArticleTitle:"Cipta Artikel",createArticleDesc:"Tambah artikel baharu ke pangkalan pengetahuan",editArticleTitle:"Edit Artikel",editArticleDesc:"Kemaskini artikel pangkalan pengetahuan",deleteArticleTitle:"Padam Artikel",deleteArticleDesc:"Adakah anda pasti mahu memadam artikel ini?",fieldTitle:"Tajuk",fieldContent:"Kandungan",fieldCategory:"Kategori",fieldStatus:"Status",fieldTags:"Tag",tagsPlaceholder:"Masukkan tag dipisahkan koma",selectCategory:"Pilih kategori",statusActive:"Aktif",statusInactive:"Tidak Aktif",cancel:"Batal",create:"Cipta",save:"Simpan",close:"Tutup",confirmDelete:"Sahkan Padam",articleDetail:"Butiran Artikel",createdAt:"Dicipta Pada",updatedAt:"Dikemaskini Pada",sourceMemoryId:"ID Memori Sumber",createSuccess:"Artikel berjaya dicipta",createError:"Gagal mencipta artikel",updateSuccess:"Artikel berjaya dikemaskini",updateError:"Gagal mengemaskini artikel",deleteSuccess:"Artikel berjaya dipadam",deleteError:"Gagal memadam artikel",embeddingSuccess:"Embedding berjaya dijana",embeddingError:"Gagal menjana embedding",aiSuggestSuccess:"Cadangan jawapan AI berjaya dijana",aiSuggestError:"Gagal menjana cadangan AI",createQaTitle:"Cipta Soal Jawab",createQaDesc:"Tambah data latihan soal jawab baharu",editQaTitle:"Edit Soal Jawab",editQaDesc:"Kemaskini data latihan soal jawab",deleteQaTitle:"Padam Soal Jawab",deleteQaDesc:"Adakah anda pasti mahu memadam data soal jawab ini?",fieldQuestion:"Soalan",fieldAnswer:"Jawapan",fieldSource:"Sumber",selectSource:"Pilih sumber",fieldConfidence:"Skor Keyakinan",fieldVerified:"Status Pengesahan",verified:"Disahkan",unverified:"Belum Disahkan",noAnswer:"Tiada jawapan",createQaSuccess:"Soal jawab berjaya dicipta",createQaError:"Gagal mencipta soal jawab",updateQaSuccess:"Soal jawab berjaya dikemaskini",updateQaError:"Gagal mengemaskini soal jawab",deleteQaSuccess:"Soal jawab berjaya dipadam",deleteQaError:"Gagal memadam soal jawab",qaDetail:"Butiran Soal Jawab",qaDetailDesc:"Lihat butiran data latihan soal jawab",metadata:"Metadata",category_general:"Umum",category_product:"Produk",category_partner:"Rakan Kongsi",category_policy:"Polisi",category_faq:"Soalan Lazim",category_promotion:"Promosi",category_order:"Pesanan",category_other:"Lain-lain",source_manual:"Manual",source_customer_asked:"Ditanya Pelanggan",source_ai_generated:"Dijana AI",source_import:"Import"},whatsappFlowsPage:{title:"Aliran WhatsApp",subtitle:"Cipta dan urus aliran automasi WhatsApp",newFlow:"Aliran Baharu",totalFlows:"Jumlah Aliran",activeFlows:"Aliran Aktif",totalTriggered:"Jumlah Dicetuskan",conversionRate:"Kadar Penukaran",flowList:"Senarai Aliran",searchPlaceholder:"Cari aliran...",tabAll:"Semua",statusActive:"Aktif",statusPaused:"Dijeda",statusCompleted:"Selesai",statusArchived:"Diarkibkan",statusDraft:"Draf",tabCompletedShort:"Selesai",noFlows:"Tiada aliran dijumpai",triggered:"dicetuskan",viewDetails:"Lihat Butiran",edit:"Edit",pause:"Jeda",activate:"Aktifkan",delete:"Padam",flowCreated:"Aliran berjaya dicipta",createFailed:"Gagal mencipta aliran",flowUpdated:"Aliran berjaya dikemaskini",updateFailed:"Gagal mengemaskini aliran",flowDeleted:"Aliran berjaya dipadam",deleteFailed:"Gagal memadam aliran",statusToggled:"Status aliran berjaya ditukar",toggleFailed:"Gagal menukar status aliran",nameRequired:"Nama aliran diperlukan",invalidStepsJson:"Format JSON langkah tidak sah",invalidAudienceJson:"Format JSON khalayak sasaran tidak sah",editFlow:"Edit Aliran",createFlow:"Cipta Aliran",editFlowDesc:"Kemaskini butiran aliran automasi",createFlowDesc:"Cipta aliran automasi WhatsApp baharu",flowName:"Nama Aliran",flowNamePlaceholder:"Masukkan nama aliran",description:"Penerangan",descriptionPlaceholder:"Masukkan penerangan aliran...",flowType:"Jenis Aliran",triggerType:"Jenis Pencetus",triggerValue:"Nilai Pencetus",triggerValuePlaceholder:"Masukkan nilai pencetus...",steps:"Langkah-langkah",stepsHint:"Tentukan langkah aliran dalam format JSON",targetAudience:"Khalayak Sasaran",targetAudienceHint:"Tentukan khalayak sasaran dalam format JSON",cancel:"Batal",save:"Simpan",create:"Cipta",close:"Tutup",flowDetails:"Butiran Aliran",status:"Status",createdAt:"Dicipta Pada",updatedAt:"Dikemaskini Pada",executionStats:"Statistik Pelaksanaan",totalExecutions:"Jumlah Pelaksanaan",inProgress:"Dalam Proses",completed:"Selesai",converted:"Ditukar",confirmDeleteTitle:"Padam Aliran",confirmDeleteDesc:"Adakah anda pasti mahu memadam aliran ini? Tindakan ini tidak boleh dibatalkan.",confirmDelete:"Sahkan Padam",flowType_acquisition:"Perolehan",flowType_onboarding:"Onboarding",flowType_reengagement:"Penglibatan Semula",flowType_support:"Sokongan",flowType_promotion:"Promosi",flowType_survey:"Tinjauan",triggerType_keyword:"Kata Kunci",triggerType_qr_code:"Kod QR",triggerType_link:"Pautan",triggerType_ad_click:"Klik Iklan",triggerType_manual:"Manual",triggerType_scheduled:"Berjadual"}},mse={title:"Kisah Jenama",subtitle:"Belayar Menentang Angin, Dilahirkan untuk Cinta",founderStory:"Kisah Pengasas",brandValues:"Nilai Jenama",milestones:{2020:"Jenama ditubuhkan di Kuala Lumpur, fokus pada sarang burung rebus segar premium",2022:"Menubuhkan pangkalan rumah burung walit sendiri di Malaysia, mencapai kawalan bahan mentah sendiri",2024:"Naik taraf barisan produk inovatif, melancarkan siri rasa baru, diterima baik oleh pasaran",2025:"Jenama secara rasmi dinamakan semula kepada LOVEYOUNG, membuka era jenama baru",2026:"Melancarkan program 'Belayar Menentang Angin', memperkenalkan sistem rakan kongsi RWA",2027:"Merancang untuk memasuki pasaran Singapura dan Hong Kong, menubuhkan rangkaian pengedaran serantau",2028:"Sasaran melancarkan probiotik, kolagen dan kategori baru lain, melengkapkan ekosistem kesihatan",2030:"Visi menjadi jenama penyubur kesihatan wanita terkemuka Asia Tenggara"},community:"Komuniti",mission:"Misi",vision:"Visi",values:{love:{title:"Cinta di Teras",description:"Setiap produk membawa penjagaan mendalam untuk kesihatan wanita, dari bahan hingga formula, melindungi setiap pelanggan dengan hati."},natural:{title:"Semula Jadi & Tulen",description:"Memilih dengan teliti sarang burung dan pundi ikan dari kawasan terbaik dunia, menolak bahan tambahan, memelihara hadiah paling berharga alam semula jadi."},quality:{title:"Kualiti Terjamin",description:"Penghantaran rantai sejuk penuh, pembungkusan individu, setiap kelompok lulus pemeriksaan kualiti ketat, memastikan kesegaran dan keselamatan."},global:{title:"Visi Global",description:"Mengintegrasikan sumber sarang burung teratas Asia Tenggara, memperkenalkan sistem pengurusan kualiti antarabangsa, mencipta jenama penyubur kelas dunia."}},quality:"Kualiti Utama",qualityDesc:"Bahan premium yang dipilih dengan teliti, dibuat dengan penjagaan",fresh:"Penghantaran Segar",freshDesc:"Masakan segar harian, penghantaran rantai sejuk, mengunci nutrisi",care:"Perkhidmatan Penyayang",careDesc:"Pasukan perunding profesional, perkhidmatan penyayang untuk setiap pelanggan",whatsappMessage:"Helo, saya ingin mengetahui lebih lanjut tentang jenama LOVEYOUNG.",hero:{title:"Belayar Menentang Angin",titleSub:"Pilihan Premium",description:"LOVEYOUNG Rebusan Segar, jenama penyubur premium dari Malaysia. Kami percaya setiap wanita layak dilayan dengan kelembutan, membangkitkan kekuatan elegan dari dalam dengan penyuburan paling tulen."},foundersSection:{badge:"Kisah Jenama",title:"Belayar Menentang Angin  Kisah Pengasas",subtitle:"Tiga laluan kehidupan, satu arah  kesihatan tidak seharusnya hanya menjadi ubat apabila masalah timbul, tetapi komitmen harian yang lembut",summaryTitle:"Tiga Laluan Kehidupan  Satu Arah",summaryText:"Mereka semua pernah melalui cabaran, menghadapi realiti, dan membuat pilihan pada tahap kehidupan yang berbeza. Akhirnya, mereka bersatu di bawah falsafah yang sama  inilah semangat sebenar 'Belayar Menentang Angin'."},founders:{vivian:{subtitle:"Orang yang bermula dengan semangkuk pundi ikan dan sarang burung",motto:"Tetap setia pada misi kami  menjadikan 'perkara baik' yang terbaik",story:"Vivian adalah yang pertama memulakan perjalanan ini. Dari berkongsi di media sosial, dia secara beransur-ansur membawa pundi ikan dan sarang burung ke komuniti yang lebih besar, pusat lepas bersalin, salon kecantikan, dan ke dalam kehidupan harian wanita yang tidak terkira.",insight:"Dia tidak tergesa-gesa untuk berkembang. Sebaliknya, dia menghabiskan sebahagian besar masanya pada produk itu sendiri  menguji rasa, menyelidik formula, menyesuaikan kemanisan dan konsistensi  semuanya untuk mencari keseimbangan sempurna antara lazat dan benar-benar menyuburkan.",belief:"Kualiti adalah kapal paling stabil dalam ribut.",focus:"Kecemerlangan Produk"},agnes:{subtitle:"Selepas melihat terlalu banyak kisah, dia memilih untuk melindungi kesihatan",motto:"Dia percaya kekayaan sebenar tidak pernah tentang angka",story:"Agnes adalah wanita yang kuat dalam industri insurans. Pengalaman kerjaya bertahun-tahun menunjukkan kepadanya banyak kejayaan dan kegagalan  ada yang mencapai kerjaya cemerlang tetapi kehilangan kesihatan; ada yang mempunyai kekayaan melimpah tetapi mengabaikan diri sendiri dan keluarga.",insight:"Kisah-kisah sebenar dari pelanggan ini membuatnya secara beransur-ansur memahami: kesihatan fizikal dan mental adalah asas semua perlindungan. Dia berharap dapat mengubah pemahaman bertahun-tahun tentang 'risiko, perlindungan, dan nilai jangka panjang' menjadi teman yang lebih memeluk kehidupan.",belief:"Membantu mereka di sekeliling kita menjaga diri sendiri, walaupun di tengah-tengah kehidupan sibuk dan tertekan.",focus:"Memahami Risiko & Perlindungan"},andrey:{subtitle:"Di bawah lampu sorot, dia memahami kesejahteraan sebenar",motto:"Kecantikan tidak seharusnya datang dari kebimbangan, tetapi dari keadaan diri",story:"Andrey menjadi model kereta profesional semasa remaja, kemudian berkembang menjadi KOL dalam media sosial. Aktif di majlis gala, pesta, fesyen dan acara sosial, dia telah melihat terlalu banyak definisi 'kecantikan'  cepat, dangkal, digunakan.",insight:"Tetapi dia semakin jelas: apa yang benar-benar menjaga orang muda dan menawan bukan penambahan luaran, tetapi minda yang stabil, makan yang sihat, dan badan yang ringan. Baginya, pundi ikan dan sarang burung bukan 'suplemen', tetapi pilihan harian yang membawa tubuh kembali ke keseimbangan dan menjadikan kehidupan lebih anggun.",belief:"Penjagaan diri terbaik adalah tidak memaksa diri sendiri.",focus:"Memimpin Trend Gaya Hidup Wanita"}},origin:{title:"Permulaan Kami",p1:"Pada tahun 2020, tiga wanita yang sehaluan bertemu di Kuala Lumpur. Mereka berkongsi pengalaman yang sama  mengabaikan kesihatan sendiri dalam kehidupan sibuk sehingga badan menghantar isyarat amaran, membuatkan mereka sedar kepentingan penyuburan kesejahteraan.",p2:"Walau bagaimanapun, produk pundi ikan dan sarang burung rebus segar yang benar-benar berkualiti tinggi dan tanpa pengawet jarang di pasaran. Ini adalah cara paling sihat untuk menyubur, namun sangat memakan masa untuk disediakan. Wanita bandar yang sering sibuk menjaga keluarga dan kerja tidak dapat membuat semangkuk yang betul untuk diri sendiri.",p3:"Jadi mereka memutuskan untuk mencipta jenama sendiri, menggunakan standard paling ketat dan niat paling ikhlas untuk menyediakan penyuburan paling tulen dan paling mudah untuk setiap wanita sibuk.",p4:"Inilah kelahiran LOVEYOUNG  sayangi diri sendiri dahulu, kemudian sayangi dunia dengan lebih baik."},production:{title:"Kerajinan & Kualiti",p1:"Dari memperoleh sarang burung dan pundi ikan secara peribadi di tempat asalnya hingga saringan ketat setiap kelompok, kami hanya memilih bahan berkualiti yang memenuhi standard kami untuk pengeluaran.",p2:"Semua produk dimasak dan dibungkus di kemudahan pengeluaran steril milik LoveYoung, menggunakan teknik rebusan perlahan suhu rendah untuk mengekalkan lapisan nutrisi dan rasa bahan sambil memastikan kebersihan dan keselamatan.",p3:"Setiap botol produk rebus segar menjalani pemeriksaan kualiti berganda dan dihantar melalui logistik rantai sejuk penuh, memastikan apa yang sampai kepada anda sentiasa segar, selamat, dan kualiti yang boleh dipercayai.",stat1:"Terus dari Sumber",stat2:"Bahan Tambahan & Pengawet"},valuesSection:{subtitle:"Kami percaya kecantikan sebenar datang dari kesihatan, kekuatan sebenar datang dari dalam. LOVEYOUNG bukan sekadar jenama, tetapi cara hidup."},lifestyle:{title:"Gaya Hidup Elegan",subtitle:"LOVEYOUNG menganjurkan bukan sekadar produk, tetapi gaya hidup elegan dari dalam",wellness:{title:"Kesihatan & Kesejahteraan",description:"Sebotol sarang burung rebus segar setiap hari, memulakan hari anda penuh dengan tenaga"},community:{title:"Hubungan Komuniti",description:"Kongsi pandangan kesejahteraan dengan adik-beradik yang sehaluan"},events:{title:"Acara Jenama",description:"Sertai salon eksklusif, alami lingkungan elegan"}},philosophy:{title:"Belayar Menentang Angin  Kuasa Wanita",p1:"'Belayar Menentang Angin' bukan sekadar semangat jenama kami, tetapi penghormatan kepada setiap wanita moden. Dalam ribut kehidupan, kami percaya setiap wanita mempunyai keberanian untuk menunggang ombak.",p2:"LOVEYOUNG komited menjadi sokongan kukuh untuk perjalanan pertumbuhan wanita. Sama ada anda elit kerjaya, ibu suri rumah, atau usahawan, kami berharap dapat mengisi semula tenaga anda dengan produk penyubur terbaik, membantu anda bergerak ke hadapan dengan anggun walaupun dalam kesukaran.",stat1:"Pelanggan Setia",stat2:"Tahun Perjalanan Jenama",stat3:"Bahan Semula Jadi"},milestonesSection:{title:"Perjalanan Jenama & Pelan Masa Depan",subtitle:"Dari penubuhan hingga melesat, kisah kami baru bermula",futurePlan:"Pelan Masa Depan",inProgress:"Sedang Berlangsung"},partnerStories:{title:"Kisah Rakan Kongsi",p1:"Setiap rakan kongsi LOVEYOUNG mempunyai kisah menakjubkan mereka sendiri. Mereka datang dari latar belakang berbeza  ada yang ibu suri rumah, ada yang profesional pejabat, ada yang usahawan berpengalaman. Tetapi mereka semua mempunyai satu persamaan: mereka memilih LOVEYOUNG, mereka memilih untuk belayar menentang angin.",p2:"Kami sedang menyediakan ruangan blog kisah rakan kongsi, di mana kami akan berkongsi perjalanan keusahawanan wanita cantik ini, pandangan pertumbuhan, dan pengalaman kejayaan. Nantikan!",becomePartner:"Jadi Rakan Kongsi",learnMore:"Ketahui Lebih",alt1:"Kisah Rakan Kongsi - Lisa",alt2:"Kisah Rakan Kongsi - Sarah",alt3:"Kisah Rakan Kongsi - Emma"},futureVision:{title:"Visi Masa Depan",p1:"Matlamat LOVEYOUNG bukan sahaja menjadi jenama penyubur kesihatan wanita terkemuka Asia Tenggara, tetapi juga membina ekosistem kesihatan wanita yang lengkap.",p2:"Dari sarang burung dan pundi ikan hingga probiotik dan kolagen, kami akan terus memperkayakan barisan produk untuk memenuhi keperluan kesihatan wanita secara menyeluruh. Melalui program rakan kongsi RWA, kami membantu lebih ramai wanita mencapai kekayaan dan kesihatan.",goal1:"2027: Memasuki pasaran Singapura & Hong Kong",goal2:"2028: Melancarkan kategori kesihatan baru",goal3:"2030: Menjadi jenama terkemuka serantau"},communityWellness:{title:"Acara Komuniti  Kehidupan Sihat",subtitle:"LOVEYOUNG bukan sekadar jenama, tetapi komuniti yang memperkasakan pertumbuhan wanita",impact:{title:"Impak Komuniti",description:"Memperkasakan wanita Malaysia, mencipta impak sosial positif melalui Akademi LOVEYOUNG dan aktiviti amal."},wellnessLife:{title:"Gaya Hidup Kesejahteraan",description:"Dari meditasi hingga yoga, dari tempat kerja hingga kehidupan sosial, LOVEYOUNG menemani wanita moden dalam setiap senario kehidupan."},brandEvents:{title:"Pengalaman Acara Jenama",description:"Dari penerimaan hingga lawatan, dari pertukaran hingga pesta, mencipta pengalaman perjalanan asal yang unik untuk rakan kongsi."}},cta:{title:"Mulakan Perjalanan Kesejahteraan Elegan Anda",description:"Setiap produk LOVEYOUNG adalah komitmen kami kepada kualiti, kegigihan kami pada kesihatan, usaha kami untuk kecantikan.",viewProducts:"Layari Produk",whatsapp:"Pertanyaan WhatsApp"}},hse={heroTagline:"Against The Wind",heroTitle:"Belayar Menentang Angin",heroTitleSub:"Mentakrifkan Semula Kuasa Wanita",heroDesc:"Dari Young Love (menyayangi orang lain) kepada Love Young (sayangi diri sendiri dahulu).",heroDescSub:"Ini bukan sekadar pembalikan jenama, tetapi kebangkitan jiwa setiap wanita.",heroOrderBtn:"Mulakan Perjalanan Anda",cnyGiftBox:"Kotak Hadiah CNY - Pesan Sekarang",heroPartnerBtn:"Sertai Program Kami",whatsappMessage:"Hai, saya berminat dengan produk Sarang Burung dan Pundi Ikan LOVEYOUNG. Saya ingin mengetahui lebih lanjut.",brandTitle:"Asal Usul Jenama:",brandTitleSub:"Keberanian untuk Berbalik",brandQuote:"Jika anda tidak mengambil serius diri sendiri, dunia juga tidak akan.",brandP1:"Love Young diasaskan oleh tiga wanita muda yang sembuh dan menjadi lebih kuat selepas trauma emosi. Kami pernah berada di titik terendah, diminta untuk memberi tanpa henti, lupa bagaimana menyayangi diri sendiri.",brandP2:'"Young Love" adalah kebetulan indah dalam reka bentuk kami, bermaksud menyayangi orang lain. Tetapi kami memutuskan untuk membalikkannya menjadi "Love Young"  menyayangi diri yang muda dan autentik itu dahulu.',brandP3:'Apa yang kami tawarkan bukan sekadar kotak hadiah RM488, tetapi komitmen kepada diri anda tentang menjadi "segar, istimewa, halus, dan berharga."',brandSelfHealing:"Semangat Penyembuhan Diri",brandAwakening:"Kebangkitan Wanita",brandQuality:"Kualiti Premium",brandCommunity:"Pembinaan Komuniti",productsTitle:"Koleksi Segar Premium",productsSubtitle:"Kotak hadiah mewah 6 balang, 12 perisa rebusan segar batch tersuai, penghantaran rantai sejuk.",product1Name:"Mekar Berputar  Kotak Premium Bulat",product1Desc:"Struktur berputar berbilang lapisan inovatif, pesona Timur merah dan hijau dakwat. Mengandungi 6 balang pundi ikan dan sarang burung rebus segar kepekatan tinggi.",product2Name:"Bab Kemegahan  Kotak Premium Segi Empat",product2Desc:"Reka bentuk segi empat klasik, benang emas dan hijau dakwat berjalin, butiran kraftangan. Mengandungi 6 balang pundi ikan dan sarang burung rebus segar kepekatan tinggi.",product3Name:"Arnab Jed  Kotak Edisi Terhad",product3Desc:"Edisi terhad Tahun Baru, skema warna seperti jed segar. Mengandungi 6 balang pundi ikan dan sarang burung rebus segar kepekatan tinggi.",viewAllProducts:"Lihat Semua Produk",viewAllBundles:"Lihat Semua Pakej",noProducts:"Tiada produk tersedia",orderNow:"Pesan Sekarang",rwaTitle:"Program Rakan Kongsi RWA",rwaSubtitle:"Ko-cipta Aset Digital, Perkongsian Nilai Jenama",rwaDesc:"Diperkasakan oleh teknologi blockchain, setiap wanita boleh menyertai pembinaan jenama dan berkongsi dividen pertumbuhan.",rwaFeature1:"Dividen Telus",rwaFeature1Desc:"Pelaksanaan kontrak pintar, pendapatan telus",rwaFeature2:"Dipacu Komuniti",rwaFeature2Desc:"Pertumbuhan rujukan ahli, membina komuniti jenama bersama",rwaFeature3:"Pertumbuhan Aset",rwaFeature3Desc:"Jenama berkembang, aset digital menghargai bersama",rwaFeature4:"Pendapatan Berganda",rwaFeature4Desc:"Ganjaran rujukan langsung + rebat pembelian semula + kolam bonus",rwaLearnMore:"Ketahui Tentang Program",rwaJoinNow:"Sertai Sekarang",ctaTitle:"Mulakan Perjalanan Penyuburan Anda",ctaTitleSub:"Perjalanan Penyuburan Anda",ctaDesc:"Sama ada untuk diri sendiri atau orang tersayang, Love Young membawa anda pengalaman penyuburan paling tulen.",ctaOrderBtn:"Pertanyaan WhatsApp",ctaShopBtn:"Lawati Kedai Meta",productCard1Name:"Mekar Berputar  Kotak Hadiah Premium Bulat",productCard1Desc:"Struktur berputar berbilang lapisan inovatif dengan pesona oriental. Mengandungi 6 balang pundi ikan dan sarang burung kukus segar berkonsentrasi tinggi.",productCard2Name:"Belayar Menentang Angin  Siri Klasik Tersuai",productCard2Desc:"12 perisa boleh disesuaikan. Bahan semula jadi seperti ginseng, kurma merah, dan goji. Tiada bahan tambahan untuk ketenangan fikiran.",productCard2PriceFrom:"dari",productCard3Name:"Edisi Terhad Bermusim  Edisi Perayaan",productCard3Desc:"Reka bentuk terhad untuk CNY/Pesta Pertengahan Musim Luruh/Pesta Naga. Pilihan hadiah premium dengan elemen perayaan.",bookNow:"Tempah Sekarang",viewFlavors:"Lihat Perisa",comingSoon:"Akan Datang",partnerSectionTitle:"Program Rakan Kongsi RWA",partnerSectionSubtitle:"Memecahkan model agensi tradisional. Kami tidak mencari pelabur, hanya pembina jenama bersama.",phase1Title:"Fasa 1: RM 1,000",phase1Desc:"Terima 2,000 mata tenaga LY, hadiah kotak pertama, dan manfaat pembinaan jenama bersama.",phase1Feature1:"50% pulangan tunai untuk 5 kotak pertama",phase1Feature2:"30% hak dividen kumpulan bonus global",phase1Feature3:"Sesi penggambaran premium",phase2Title:"Fasa 2: RM 1,300",phase2Desc:"Berat dividen lebih tinggi dan tiket acara selebriti sosial.",phase2Feature1:"1.2x berat dividen",phase2Feature2:"Lawatan VIP kilang sarang burung",phase2Feature3:"Peluang penyertaan filem mikro",phase3Title:"Fasa 3: RM 1,500",phase3Desc:"Untuk usahawan matang. Penjenamaan bersama dan kerjasama perniagaan mendalam.",phase3Feature1:"Peruntukan kumpulan bonus teratas",phase3Feature2:"Hak penjenamaan bersama eksklusif",phase3Feature3:"Akses pasaran antarabangsa keutamaan",joinNow:"Sertai Sekarang",limitedApply:"Slot Terhad",learnMore:"Ketahui Lebih Lanjut",hotSelling:"JUALAN PANAS",only50Slots:"Hanya 50 Slot",waitingToOpen:"Menunggu Dibuka",revenueLogicTitle:"Logik Pendapatan Telus",revenueLogicDesc:"Love Young menolak skim piramid. Setiap sen pendapatan datang daripada jualan produk sebenar. Kami menggunakan LY (Tenaga) untuk merekodkan sumbangan anda.",salesCashback:"Pulangan Tunai Jualan",globalPool:"Kumpulan Bonus Global",salesPercentage:"30% Jualan",dividendCycle:"Kitaran Dividen",every10Days:"Penyelesaian setiap 10 hari",lyNetworkTitle:"Sistem Mata 10 Peringkat",tier1Direct:"Peringkat 1 (Langsung)",tier2:"Peringkat 2",tier3to5:"Peringkat 3-5",tier6to10:"Peringkat 6-10",totalReferral:"Jumlah LY Diisi Semula",lyNetworkNote:"* Mata tenaga LY membuka kunci dividen tunai, diisi semula secara automatik melalui jualan rangkaian rujukan.",dashboardTitle:"Papan Pemuka Masa Nyata",dashboardDesc:"Visualisasikan mata tenaga, berat RWA, dan rangkaian 10 peringkat anda. Setiap nombor menyaksikan pertumbuhan anda.",dashboardCta:"Portal Rakan Kongsi",dashboardBrandName:"Love Young Dashboard",dashboardSubtitle:"Pusat Pengurusan Rakan Kongsi",lyEnergy:"Tenaga LY",phase1Bonus:"Bonus Fasa 1",thisWeek:"Minggu Ini",totalEarnings:"Jumlah Pendapatan",startEarning:"Mula menjana sekarang",perCycle:"Setiap kitaran",thisMonth:"Bulan Ini",teamMembers:"Ahli Pasukan",networkLevels:"Rangkaian 10 Peringkat",tenLevelNetwork:"Rangkaian 10 Peringkat",currentPoolCycle:"Kitaran Pool Semasa",daysRemaining:"{days} hari lagi",accumulated:"Terkumpul",estimatedDividend:"Anggar. Dividen",ctaSectionTitle:"Mulakan Perjalanan Penyuburan Anda",ctaSectionDesc:"Sama ada untuk diri sendiri atau orang tersayang, Love Young membawa anda pengalaman penyuburan paling tulen."},pse={whatsappMessage:"Helo, saya ingin memesan produk LOVEYOUNG.",orderMessage:"Helo, saya ingin memesan {productName}.",hero:{title:"Pilihan Premium  Penyuburan Berkualiti",description:"Setiap produk mencerminkan usaha gigih kami terhadap kualiti. Dari sarang burung walit emas Indonesia hingga pundi ikan laut dalam, kami hanya memilih bahan terbaik untuk membawa anda penyuburan paling tulen.",shopNow:"Beli Sekarang",whatsappConsult:"Pertanyaan WhatsApp"},categories:{all:"Semua Produk",birdNest:"Siri Sarang Burung",fishMaw:"Siri Pundi Ikan",giftBox:"Set Hadiah"},badges:{hot:"Panas",new:"Baru",save:"Jimat"},units:{box:"kotak",set:"set"},items:{bnClassic:{name:"Sarang Burung Original Klasik",subtitle:"Kotak Hadiah 6 Balang",feature1:"Burung Walit Emas Indonesia",feature2:"Tanpa Gula Tambahan",feature3:"Sedia Dimakan"},bnPremium:{name:"Sarang Imperial Gula Batu",subtitle:"Edisi Premium 6 Balang",feature1:"Sarang Premium",feature2:"Rebusan Gula Batu Perlahan",feature3:"Tekstur Kaya & Pekat"},fmCollagen:{name:"Rebusan Kolagen Pundi Ikan",subtitle:"Pek 6 Balang",feature1:"Pundi Ikan Laut Dalam",feature2:"Kaya Kolagen",feature3:"Kecantikan & Penyuburan"},fmMilk:{name:"Rebusan Susu Pundi Ikan",subtitle:"Pek 6 Balang",feature1:"Susu New Zealand",feature2:"Kaya & Berkrim",feature3:"Nutrisi Tambahan"},giftLuxury:{name:"Kotak Mewah Belayar Menentang Angin",subtitle:"Kombo Sarang Burung + Pundi Ikan",feature1:"3 Balang Sarang Premium",feature2:"3 Balang Pundi Ikan Premium",feature3:"Pembungkusan Hadiah Mewah"},giftWellness:{name:"Kotak Hadiah Premium Kesejahteraan",subtitle:"Sampler Siri Penuh",feature1:"4 Perisa, 1 Balang Setiap",feature2:"Beg Hadiah Elegan",feature3:"Sempurna untuk Hadiah"}},benefits:{natural:{title:"100% Semula Jadi",description:"Bahan premium, tanpa bahan tambahan"},quality:{title:"Kualiti Terjamin",description:"Setiap kelompok lulus pemeriksaan kualiti"},coldChain:{title:"Penghantaran Rantai Sejuk",description:"Rantai sejuk penuh, segar ke pintu anda"},packaging:{title:"Pembungkusan Elegan",description:"Sempurna untuk hadiah atau kegunaan sendiri"}},quality:{title:"Ketertelusuran Asal  Kerajinan",description:"Sarang burung kami datang dari rumah burung walit terbaik Indonesia, setiap sarang dipilih dengan teliti. Pundi ikan diperoleh dari ikan liar laut dalam, kaya dengan kolagen semula jadi.",imageAlt:"Jaminan Kualiti",traceability:{title:"Ketertelusuran Bahan",description:"Setiap kelompok boleh dijejaki ke asal, memastikan sumber yang selamat dan boleh dipercayai"},craftsmanship:{title:"Kerajinan Tradisional",description:"Teknik rebusan perlahan tradisional mengekalkan kandungan nutrisi lengkap"},inspection:{title:"Kawalan Kualiti Ketat",description:"Setiap kelompok lulus ujian mikrob, logam berat dan pelbagai ujian"}},cta:{title:"Mulakan Perjalanan Penyuburan Anda",description:"Sama ada untuk kesejahteraan peribadi atau menghadiahkan orang tersayang, LOVEYOUNG adalah pilihan elegan anda.",goToShop:"Pergi ke Kedai",consultWellness:"Rujuk Penasihat Kesejahteraan"}},fse={successTitle:"Pembayaran Berjaya!",successDesc:"Pesanan anda telah disahkan",processing:"Memproses pesanan anda...",viewOrder:"Lihat Pesanan",continueShopping:"Teruskan Membeli-belah",backToHome:"Kembali ke Laman Utama"},gse={title:"Pembantu LOVE YOUNG",greeting:"Hai! Saya pembantu pintar LOVE YOUNG, gembira dapat membantu anda  Tanya saya tentang produk, pelan rakan kongsi, atau syarikat kami.",loginRequired:"Sila log masuk atau daftar untuk mula berbual",login:"Log Masuk",register:"Daftar",placeholder:"Taip soalan anda...",send:"Hantar",thinking:"Sedang berfikir...",categories:{brand:"Pengenalan Jenama",founders:"Kisah Pengasas",products:"Pertanyaan Produk",orders:"Perkhidmatan Pesanan",partner:"Program Rakan Kongsi"},categoryQuestions:{brand:"Perkenalkan jenama LOVE YOUNG",founders:"Ceritakan kisah pengasas",products:"Apakah produk yang disyorkan",orders:"Soalan berkaitan pesanan",partner:"Apakah program rakan kongsi"},topics:{brandIntro:"Konsep Jenama",brandValues:"Nilai Jenama",vivian:"Kisah Vivian",agnes:"Kisah Agnes",andrey:"Kisah Andrey",recommend:"Syor Produk",giftBox:"Kotak Hadiah Kekayaan",price:"Pertanyaan Harga",howToOrder:"Cara Memesan",shipping:"Penghantaran",refund:"Bayaran Balik",intro:"Pengenalan Asas",cashback:"Dividen Cashback",rwa:"Dividen RWA",lyPoints:"Mata Tenaga LY",network:"Rangkaian Rujukan",referral:"Ganjaran Rujukan"},topicQuestions:{brandIntro:"Apakah konsep jenama LOVE YOUNG?",brandValues:"Apakah nilai teras LOVE YOUNG?",vivian:"Ceritakan kisah pengasas Vivian",agnes:"Ceritakan kisah pengasas Agnes",andrey:"Ceritakan kisah pengasas Andrey",recommend:"Apakah produk yang disyorkan?",giftBox:"Apakah Kotak Hadiah Kekayaan?",price:"Berapa harga sarang burung sekotak?",howToOrder:"Bagaimana untuk memesan?",shipping:"Berapa lama penghantaran?",refund:"Boleh bayaran balik?",intro:"Apakah program rakan kongsi?",cashback:"Bagaimana pengiraan dividen cashback?",rwa:"Apakah dividen RWA?",lyPoints:"Apakah kegunaan mata tenaga LY?",network:"Apakah pengisian rangkaian rujukan?",referral:"Apakah ganjaran merujuk rakan kongsi?"},backToTopics:"Kembali ke topik",feedback:{helpful:"Membantu",notHelpful:"Tidak membantu"},recommendProducts:"Berikut produk yang kami syorkan:",recommendPackages:"Pakej rakan kongsi untuk anda:",viewProduct:"Lihat",orderNow:"Pesan Sekarang",joinNow:"Sertai Sekarang",error:"Maaf, terdapat masalah. Sila cuba lagi kemudian.",referralLabel:"Rujukan",transferHuman:"Hubungi Sokongan",restart:"Sembang Baharu",whatsappLabel:"Sembang WhatsApp"},xse={auth:Hre,common:Gre,nav:Yre,header:Jre,hero:Qre,stats:Xre,products:Zre,innovation:ese,order:tse,testimonials:ase,cta:nse,footer:rse,flavors:sse,packages:ise,target:ose,states:lse,member:cse,partner:dse,admin:use,brand:mse,landing:hse,productsPage:pse,checkout:fse,chatbot:gse},yse={zh:"",en:"EN",ms:"BM"},jD={zh:wre,en:Wre,ms:xse},T6=y.createContext(void 0);function ND(e,t){const n=t.split(".");let r=e;for(const s of n)if(r&&typeof r=="object"&&s in r)r=r[s];else return;return typeof r=="string"?r:void 0}function vse({children:e}){const[t,n]=y.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("language");if(i&&["zh","en","ms"].includes(i))return i}return"zh"});y.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t==="zh"?"zh-CN":t==="ms"?"ms-MY":"en"},[t]);const r=i=>{n(i)},s=(i,o)=>{const l=ND(jD[t],i);if(l)return l;if(t!=="zh"){const c=ND(jD.zh,i);if(c)return c}return o||i};return a.jsx(T6.Provider,{value:{language:t,setLanguage:r,t:s},children:e})}function ks(){const e=y.useContext(T6);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}function ft(){const{t:e,language:t}=ks();return{t:e,language:t}}const kD=e=>{let t;const n=new Set,r=(d,u)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=u??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(p=>p(t,h))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d))},c=t=e(r,s,l);return l},bse=e=>e?kD(e):kD,wse=e=>e;function jse(e,t=wse){const n=X.useSyncExternalStore(e.subscribe,X.useCallback(()=>t(e.getState()),[e,t]),X.useCallback(()=>t(e.getInitialState()),[e,t]));return X.useDebugValue(n),n}const Nse=e=>{const t=bse(e),n=r=>jse(t,r);return Object.assign(n,t),n},kse=e=>Nse;function Pse(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const SP=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return SP(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return SP(r)(n)}}}},_se=(e,t)=>(n,r,s)=>{let i={storage:Pse(()=>localStorage),partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...t},o=!1,l=0;const c=new Set,d=new Set;let u=i.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},r,s);const m=()=>{const x=i.partialize({...r()});return u.setItem(i.name,{state:x,version:i.version})},h=s.setState;s.setState=(x,b)=>(h(x,b),m());const p=e((...x)=>(n(...x),m()),r,s);s.getInitialState=()=>p;let g;const f=()=>{var x,b;if(!u)return;const j=++l;o=!1,c.forEach(N=>{var w;return N((w=r())!=null?w:p)});const v=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(x=r())!=null?x:p))||void 0;return SP(u.getItem.bind(u))(i.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==i.version){if(i.migrate){const w=i.migrate(N.state,N.version);return w instanceof Promise?w.then(P=>[!0,P]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var w;if(j!==l)return;const[P,k]=N;if(g=i.merge(k,(w=r())!=null?w:p),n(g,!0),P)return m()}).then(()=>{j===l&&(v==null||v(g,void 0),g=r(),o=!0,d.forEach(N=>N(g)))}).catch(N=>{j===l&&(v==null||v(void 0,N))})};return s.persist={setOptions:x=>{i={...i,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:x=>(c.add(x),()=>{c.delete(x)}),onFinishHydration:x=>(d.add(x),()=>{d.delete(x)})},i.skipHydration||f(),g||p},Sse=_se,la=kse()(Sse((e,t)=>({user:null,member:null,partner:null,role:"user",session:null,loading:!0,_initialized:!1,_setSession:n=>e({session:n}),_setLoading:n=>e({loading:n}),_setInitialized:n=>e({_initialized:n}),_setUser:n=>e({user:n}),_setMember:n=>e({member:n}),_setPartner:n=>e({partner:n}),_setRole:n=>e({role:n}),clearAuth:()=>e({user:null,session:null,member:null,partner:null,role:"user"}),fetchUserData:async n=>{var i,o;const r=l=>{var c,d,u,m;return((d=(c=l.error)==null?void 0:c.message)==null?void 0:d.includes("AbortError"))||((m=(u=l.error)==null?void 0:u.message)==null?void 0:m.includes("signal is aborted"))},s=async()=>{const[l,c,d]=await Promise.all([L.from("users").select("role").eq("id",n).maybeSingle(),L.from("members").select("*").eq("user_id",n).maybeSingle(),L.rpc("is_admin")]);return{userRes:l,memberRes:c,adminRpc:d}};try{let{userRes:l,memberRes:c,adminRpc:d}=await s();r(l)&&r(c)&&(console.warn("[auth] All queries aborted, retrying in 1s..."),await new Promise(h=>setTimeout(h,1e3)),{userRes:l,memberRes:c,adminRpc:d}=await s()),l.error&&console.warn("[auth] users query error:",l.error.message,l.error.code),c.error&&console.warn("[auth] members query error:",c.error.message,c.error.code);const u=c.data,m=d.data===!0||((i=l.data)==null?void 0:i.role)==="admin"||(u==null?void 0:u.role)==="admin";if(console.info("[auth] fetchUserData:",{userId:n,isAdmin:m,hasMember:!!u,userRole:(o=l.data)==null?void 0:o.role,memberRole:u==null?void 0:u.role,rpcAdmin:d.data}),u){const h={id:u.id,userId:u.user_id,name:u.name,phone:u.phone,email:u.email,role:u.role,pointsBalance:u.points_balance,preferredFlavor:u.preferred_flavor,preferredPackage:u.preferred_package,referralCode:u.referral_code,referrerId:u.referrer_id,createdAt:u.created_at};let p=null;if(u.role==="partner"||u.role==="admin"||m){const{data:f}=await L.from("partners").select("*").eq("member_id",u.id).maybeSingle();f&&(p={id:f.id,memberId:f.member_id,referralCode:f.referral_code,tier:f.tier,status:f.status,referrerId:f.referrer_id,lyBalance:f.ly_balance,cashWalletBalance:f.cash_wallet_balance,rwaTokens:f.rwa_tokens,totalSales:f.total_sales,totalCashback:f.total_cashback,paymentAmount:f.payment_amount,paymentDate:f.payment_date,paymentReference:f.payment_reference,packagesPurchased:f.packages_purchased??1,totalBoxesProcessed:f.total_boxes_processed??0,createdAt:f.created_at,updatedAt:f.updated_at})}const g=m?"admin":p?"partner":"member";console.info("[auth] resolved role:",g,{isAdmin:m,hasPartner:!!p}),e({member:h,partner:p,role:g})}else e({member:null,partner:null,role:m?"admin":"user"})}catch(l){console.error("Error fetching user data:",l),t().role==="user"&&e({member:null,partner:null})}},refreshUserData:async()=>{const{user:n,fetchUserData:r}=t();n!=null&&n.id&&await r(n.id)},signIn:async(n,r)=>{const{error:s}=await L.auth.signInWithPassword({email:n,password:r});return{error:s?new Error(s.message):null}},signUp:async(n,r,s)=>{const{error:i}=await L.auth.signUp({email:n,password:r,options:{data:s}});return{error:i?new Error(i.message):null}},signInWithGoogle:async()=>{const{error:n}=await L.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});return{error:n?new Error(n.message):null}},sendOTP:async n=>{const{error:r}=await L.auth.signInWithOtp({email:n,options:{shouldCreateUser:!0}});return{error:r?new Error(r.message):null}},verifyOTP:async(n,r)=>{const{error:s}=await L.auth.verifyOtp({email:n,token:r,type:"email"});return{error:s?new Error(s.message):null}},signOut:async()=>{e({user:null,session:null,member:null,partner:null,role:"user"});try{await L.auth.signOut()}catch(n){console.error("Sign out error:",n)}},getAccessToken:async()=>{const{data:{session:n}}=await L.auth.getSession();return(n==null?void 0:n.access_token)||null}}),{name:"loveyoung-auth",version:4,migrate:(e,t)=>{if(t<4){const n=e;return console.info("[auth] cache upgrade v"+t+"4"),{user:(n==null?void 0:n.user)??null,member:(n==null?void 0:n.member)??null,partner:(n==null?void 0:n.partner)??null,role:(n==null?void 0:n.role)??"user"}}return e},partialize:e=>({user:e.user,member:e.member,partner:e.partner,role:e.role})}));let PD=!1;function Cse(){if(PD)return;PD=!0;const e=la.getState();e.user&&e._setLoading(!1);const t=setTimeout(()=>{const n=la.getState();n.loading&&!n._initialized&&(console.warn("[auth] Safety timeout: clearing loading after 3s"),n._setLoading(!1),n._setInitialized(!0))},3e3);L.auth.onAuthStateChange(async(n,r)=>{clearTimeout(t);const s=la.getState();if(console.info("[auth] onAuthStateChange:",n,{hasSession:!!r,cachedUser:!!s.user}),s._setSession(r),r!=null&&r.user){const i={id:r.user.id,email:r.user.email||"",user_metadata:r.user.user_metadata};s._setUser(i),await s.fetchUserData(r.user.id).catch(o=>{console.error("[auth] fetchUserData failed:",o)}),la.getState()._setLoading(!1)}else n==="SIGNED_OUT"?(s.clearAuth(),la.getState()._setLoading(!1)):(s.user&&console.info("[auth] null session with cached user, keeping cached state"),la.getState()._setLoading(!1));la.getState()._setInitialized(!0)})}function oa(){return{user:la(e=>e.user),session:la(e=>e.session),member:la(e=>e.member),partner:la(e=>e.partner),role:la(e=>e.role),loading:la(e=>e.loading),signIn:la(e=>e.signIn),signUp:la(e=>e.signUp),signInWithGoogle:la(e=>e.signInWithGoogle),sendOTP:la(e=>e.sendOTP),verifyOTP:la(e=>e.verifyOTP),signOut:la(e=>e.signOut),getAccessToken:la(e=>e.getAccessToken),refreshUserData:la(e=>e.refreshUserData)}}const _D={user:0,member:1,partner:2,admin:3};function Ase(e,t){const n=Array.isArray(t)?t:[t],r=_D[e];return n.some(s=>{const i=_D[s];return e==="admin"?!0:r>=i})}function h2({children:e,requiredRole:t="user",redirectTo:n="/auth/login"}){const{user:r,role:s}=oa(),i=la(l=>l._initialized);return r?Ase(s,t)?a.jsx(a.Fragment,{children:e}):i?s==="partner"?a.jsx(uy,{to:"/member/partner"}):s==="member"?a.jsx(uy,{to:"/member"}):a.jsx(uy,{to:"/"}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsx(uy,{to:n})}function na({children:e}){return a.jsx(h2,{requiredRole:"admin",redirectTo:"/auth/login",children:e})}function uu({children:e}){return a.jsx(h2,{requiredRole:"partner",redirectTo:"/member/partner-join",children:e})}function Js({children:e}){return a.jsx(h2,{requiredRole:"user",redirectTo:"/auth/login",children:e})}class Tse extends y.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("React Error Boundary caught an error:",t,n)}render(){var t;return this.state.hasError?a.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",fontFamily:"system-ui, sans-serif"},children:a.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[a.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"},children:"Something went wrong"}),a.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred"}),a.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.75rem 1.5rem",backgroundColor:"#1a1a1a",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1rem"},children:"Reload Page"})]})}):this.props.children}}var E6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},SD=X.createContext&&X.createContext(E6),Ese=["attr","size","title"];function Ose(e,t){if(e==null)return{};var n=Dse(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cb.apply(this,arguments)}function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function db(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(n),!0).forEach(function(r){Mse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mse(e,t,n){return t=Rse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rse(e){var t=Ise(e,"string");return typeof t=="symbol"?t:t+""}function Ise(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O6(e){return e&&e.map((t,n)=>X.createElement(t.tag,db({key:n},t.attr),O6(t.child)))}function Nw(e){return t=>X.createElement(Lse,cb({attr:db({},e.attr)},t),O6(e.child))}function Lse(e){var t=n=>{var{attr:r,size:s,title:i}=e,o=Ose(e,Ese),l=s||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),X.createElement("svg",cb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:db(db({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&X.createElement("title",null,i),e.children)};return SD!==void 0?X.createElement(SD.Consumer,null,n=>t(n)):t(E6)}function $se(e){return Nw({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(e)}function Fse(e){return Nw({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(e)}function Bse(e){return Nw({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(e)}function Gr(e){return Nw({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"},child:[]}]})(e)}const p2=lx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),C=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?oB:"button";return a.jsx(o,{className:Be(p2({variant:t,size:n,className:e})),ref:i,...s})});C.displayName="Button";const Pt=y.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:Be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Pt.displayName="Textarea";var MN="focusScope.autoFocusOnMount",RN="focusScope.autoFocusOnUnmount",AD={bubbles:!1,cancelable:!0},Use="FocusScope",kw=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),d=Ka(s),u=Ka(i),m=y.useRef(null),h=jt(t,f=>c(f)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let f=function(v){if(p.paused||!l)return;const N=v.target;l.contains(N)?m.current=N:vl(m.current,{select:!0})},x=function(v){if(p.paused||!l)return;const N=v.relatedTarget;N!==null&&(l.contains(N)||vl(m.current,{select:!0}))},b=function(v){if(document.activeElement===document.body)for(const w of v)w.removedNodes.length>0&&vl(l)};document.addEventListener("focusin",f),document.addEventListener("focusout",x);const j=new MutationObserver(b);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",x),j.disconnect()}}},[r,l,p.paused]),y.useEffect(()=>{if(l){ED.add(p);const f=document.activeElement;if(!l.contains(f)){const b=new CustomEvent(MN,AD);l.addEventListener(MN,d),l.dispatchEvent(b),b.defaultPrevented||(qse(Hse(D6(l)),{select:!0}),document.activeElement===f&&vl(l))}return()=>{l.removeEventListener(MN,d),setTimeout(()=>{const b=new CustomEvent(RN,AD);l.addEventListener(RN,u),l.dispatchEvent(b),b.defaultPrevented||vl(f??document.body,{select:!0}),l.removeEventListener(RN,u),ED.remove(p)},0)}}},[l,d,u,p]);const g=y.useCallback(f=>{if(!n&&!r||p.paused)return;const x=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,b=document.activeElement;if(x&&b){const j=f.currentTarget,[v,N]=Vse(j);v&&N?!f.shiftKey&&b===N?(f.preventDefault(),n&&vl(v,{select:!0})):f.shiftKey&&b===v&&(f.preventDefault(),n&&vl(N,{select:!0})):b===j&&f.preventDefault()}},[n,r,p.paused]);return a.jsx(nt.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});kw.displayName=Use;function qse(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(vl(r,{select:t}),document.activeElement!==n)return}function Vse(e){const t=D6(e),n=TD(t,e),r=TD(t.reverse(),e);return[n,r]}function D6(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function TD(e,t){for(const n of e)if(!Kse(n,{upTo:t}))return n}function Kse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zse(e){return e instanceof HTMLInputElement&&"select"in e}function vl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zse(e)&&t&&e.select()}}var ED=Wse();function Wse(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=OD(e,t),e.unshift(t)},remove(t){var n;e=OD(e,t),(n=e[0])==null||n.resume()}}}function OD(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Hse(e){return e.filter(t=>t.tagName!=="A")}var IN=0;function f2(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??DD()),document.body.insertAdjacentElement("beforeend",e[1]??DD()),IN++,()=>{IN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),IN--}},[])}function DD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yv="right-scroll-bar-position",vv="width-before-scroll-bar",Gse="with-scroll-bars-hidden",Yse="--removed-body-scroll-bar-size";function LN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Jse(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var Qse=typeof window<"u"?y.useLayoutEffect:y.useEffect,MD=new WeakMap;function Xse(e,t){var n=Jse(null,function(r){return e.forEach(function(s){return LN(s,r)})});return Qse(function(){var r=MD.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(l){i.has(l)||LN(l,null)}),i.forEach(function(l){s.has(l)||LN(l,o)})}MD.set(n,e)},[e]),n}function Zse(e){return e}function eie(e,t){t===void 0&&(t=Zse);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return s}function tie(e){e===void 0&&(e={});var t=eie(null);return t.options=Li({async:!0,ssr:!1},e),t}var M6=function(e){var t=e.sideCar,n=_h(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Li({},n))};M6.isSideCarExport=!0;function aie(e,t){return e.useMedium(t),M6}var R6=tie(),$N=function(){},Pw=y.forwardRef(function(e,t){var n=y.useRef(null),r=y.useState({onScrollCapture:$N,onWheelCapture:$N,onTouchMoveCapture:$N}),s=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,f=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,j=e.gapMode,v=_h(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,w=Xse([n,t]),P=Li(Li({},v),s);return y.createElement(y.Fragment,null,u&&y.createElement(N,{sideCar:R6,removeScrollBar:d,shards:m,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!f,lockRef:n,gapMode:j}),o?y.cloneElement(y.Children.only(l),Li(Li({},P),{ref:w})):y.createElement(b,Li({},P,{className:c,ref:w}),l))});Pw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pw.classNames={fullWidth:vv,zeroRight:yv};var nie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=nie();return t&&e.setAttribute("nonce",t),e}function sie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function iie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var oie=function(){var e=0,t=null;return{add:function(n){e==0&&(t=rie())&&(sie(t,n),iie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lie=function(){var e=oie();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},I6=function(){var e=lie(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},cie={left:0,top:0,right:0,gap:0},FN=function(e){return parseInt(e||"",10)||0},die=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[FN(n),FN(r),FN(s)]},uie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cie;var t=die(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},mie=I6(),im="data-scroll-locked",hie=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Gse,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(im,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yv,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(vv,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(yv," .").concat(yv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vv," .").concat(vv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(im,`] {
    `).concat(Yse,": ").concat(l,`px;
  }
`)},RD=function(){var e=parseInt(document.body.getAttribute(im)||"0",10);return isFinite(e)?e:0},pie=function(){y.useEffect(function(){return document.body.setAttribute(im,(RD()+1).toString()),function(){var e=RD()-1;e<=0?document.body.removeAttribute(im):document.body.setAttribute(im,e.toString())}},[])},fie=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;pie();var i=y.useMemo(function(){return uie(s)},[s]);return y.createElement(mie,{styles:hie(i,!t,s,n?"":"!important")})},CP=!1;if(typeof window<"u")try{var jy=Object.defineProperty({},"passive",{get:function(){return CP=!0,!0}});window.addEventListener("test",jy,jy),window.removeEventListener("test",jy,jy)}catch{CP=!1}var mu=CP?{passive:!1}:!1,gie=function(e){return e.tagName==="TEXTAREA"},L6=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!gie(e)&&n[t]==="visible")},xie=function(e){return L6(e,"overflowY")},yie=function(e){return L6(e,"overflowX")},ID=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=$6(e,r);if(s){var i=F6(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},vie=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},bie=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},$6=function(e,t){return e==="v"?xie(t):yie(t)},F6=function(e,t){return e==="v"?vie(t):bie(t)},wie=function(e,t){return e==="h"&&t==="rtl"?-1:1},jie=function(e,t,n,r,s){var i=wie(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),d=!1,u=o>0,m=0,h=0;do{var p=F6(e,l),g=p[0],f=p[1],x=p[2],b=f-x-i*g;(g||b)&&$6(e,l)&&(m+=b,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(m)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(d=!0),d},Ny=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},LD=function(e){return[e.deltaX,e.deltaY]},$D=function(e){return e&&"current"in e?e.current:e},Nie=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kie=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Pie=0,hu=[];function _ie(e){var t=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(Pie++)[0],i=y.useState(I6)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var f=UQ([e.lockRef.current],(e.shards||[]).map($D),!0).filter(Boolean);return f.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),f.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(f,x){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!o.current.allowPinchZoom;var b=Ny(f),j=n.current,v="deltaX"in f?f.deltaX:j[0]-b[0],N="deltaY"in f?f.deltaY:j[1]-b[1],w,P=f.target,k=Math.abs(v)>Math.abs(N)?"h":"v";if("touches"in f&&k==="h"&&P.type==="range")return!1;var _=ID(k,P);if(!_)return!0;if(_?w=k:(w=k==="v"?"h":"v",_=ID(k,P)),!_)return!1;if(!r.current&&"changedTouches"in f&&(v||N)&&(r.current=w),!w)return!0;var S=r.current||w;return jie(S,x,f,S==="h"?v:N,!0)},[]),c=y.useCallback(function(f){var x=f;if(!(!hu.length||hu[hu.length-1]!==i)){var b="deltaY"in x?LD(x):Ny(x),j=t.current.filter(function(w){return w.name===x.type&&(w.target===x.target||x.target===w.shadowParent)&&Nie(w.delta,b)})[0];if(j&&j.should){x.cancelable&&x.preventDefault();return}if(!j){var v=(o.current.shards||[]).map($D).filter(Boolean).filter(function(w){return w.contains(x.target)}),N=v.length>0?l(x,v[0]):!o.current.noIsolation;N&&x.cancelable&&x.preventDefault()}}},[]),d=y.useCallback(function(f,x,b,j){var v={name:f,delta:x,target:b,should:j,shadowParent:Sie(b)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(N){return N!==v})},1)},[]),u=y.useCallback(function(f){n.current=Ny(f),r.current=void 0},[]),m=y.useCallback(function(f){d(f.type,LD(f),f.target,l(f,e.lockRef.current))},[]),h=y.useCallback(function(f){d(f.type,Ny(f),f.target,l(f,e.lockRef.current))},[]);y.useEffect(function(){return hu.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,mu),document.addEventListener("touchmove",c,mu),document.addEventListener("touchstart",u,mu),function(){hu=hu.filter(function(f){return f!==i}),document.removeEventListener("wheel",c,mu),document.removeEventListener("touchmove",c,mu),document.removeEventListener("touchstart",u,mu)}},[]);var p=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(i,{styles:kie(s)}):null,p?y.createElement(fie,{gapMode:e.gapMode}):null)}function Sie(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Cie=aie(R6,_ie);var _w=y.forwardRef(function(e,t){return y.createElement(Pw,Li({},e,{ref:t,sideCar:Cie}))});_w.classNames=Pw.classNames;var Aie=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pu=new WeakMap,ky=new WeakMap,Py={},BN=0,B6=function(e){return e&&(e.host||B6(e.parentNode))},Tie=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=B6(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Eie=function(e,t,n,r){var s=Tie(t,Array.isArray(e)?e:[e]);Py[n]||(Py[n]=new WeakMap);var i=Py[n],o=[],l=new Set,c=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))u(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",f=(pu.get(h)||0)+1,x=(i.get(h)||0)+1;pu.set(h,f),i.set(h,x),o.push(h),f===1&&g&&ky.set(h,!0),x===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(t),l.clear(),BN++,function(){o.forEach(function(m){var h=pu.get(m)-1,p=i.get(m)-1;pu.set(m,h),i.set(m,p),h||(ky.has(m)||m.removeAttribute(r),ky.delete(m)),p||m.removeAttribute(n)}),BN--,BN||(pu=new WeakMap,pu=new WeakMap,ky=new WeakMap,Py={})}},g2=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=Aie(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Eie(r,s,n,"aria-hidden")):function(){return null}},x2="Dialog",[U6,q6]=pn(x2),[Oie,Si]=U6(x2),V6=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[d=!1,u]=Hr({prop:r,defaultProp:s,onChange:i});return a.jsx(Oie,{scope:t,triggerRef:l,contentRef:c,contentId:Us(),titleId:Us(),descriptionId:Us(),open:d,onOpenChange:u,onOpenToggle:y.useCallback(()=>u(m=>!m),[u]),modal:o,children:n})};V6.displayName=x2;var K6="DialogTrigger",z6=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Si(K6,n),i=jt(t,s.triggerRef);return a.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":b2(s.open),...r,ref:i,onClick:Te(e.onClick,s.onOpenToggle)})});z6.displayName=K6;var y2="DialogPortal",[Die,W6]=U6(y2,{forceMount:void 0}),H6=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Si(y2,t);return a.jsx(Die,{scope:t,forceMount:n,children:y.Children.map(r,o=>a.jsx(Kn,{present:n||i.open,children:a.jsx(ix,{asChild:!0,container:s,children:o})}))})};H6.displayName=y2;var ub="DialogOverlay",G6=y.forwardRef((e,t)=>{const n=W6(ub,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Si(ub,e.__scopeDialog);return i.modal?a.jsx(Kn,{present:r||i.open,children:a.jsx(Rie,{...s,ref:t})}):null});G6.displayName=ub;var Mie=Ed("DialogOverlay.RemoveScroll"),Rie=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Si(ub,n);return a.jsx(_w,{as:Mie,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(nt.div,{"data-state":b2(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Dd="DialogContent",Y6=y.forwardRef((e,t)=>{const n=W6(Dd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Si(Dd,e.__scopeDialog);return a.jsx(Kn,{present:r||i.open,children:i.modal?a.jsx(Iie,{...s,ref:t}):a.jsx(Lie,{...s,ref:t})})});Y6.displayName=Dd;var Iie=y.forwardRef((e,t)=>{const n=Si(Dd,e.__scopeDialog),r=y.useRef(null),s=jt(t,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return g2(i)},[]),a.jsx(J6,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Te(e.onFocusOutside,i=>i.preventDefault())})}),Lie=y.forwardRef((e,t)=>{const n=Si(Dd,e.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return a.jsx(J6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),J6=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Si(Dd,n),c=y.useRef(null),d=jt(t,c);return f2(),a.jsxs(a.Fragment,{children:[a.jsx(kw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Ah,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":b2(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Fie,{titleId:l.titleId}),a.jsx(Uie,{contentRef:c,descriptionId:l.descriptionId})]})]})}),v2="DialogTitle",Q6=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Si(v2,n);return a.jsx(nt.h2,{id:s.titleId,...r,ref:t})});Q6.displayName=v2;var X6="DialogDescription",Z6=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Si(X6,n);return a.jsx(nt.p,{id:s.descriptionId,...r,ref:t})});Z6.displayName=X6;var e8="DialogClose",t8=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Si(e8,n);return a.jsx(nt.button,{type:"button",...r,ref:t,onClick:Te(e.onClick,()=>s.onOpenChange(!1))})});t8.displayName=e8;function b2(e){return e?"open":"closed"}var a8="DialogTitleWarning",[$ie,n8]=Nee(a8,{contentName:Dd,titleName:v2,docsSlug:"dialog"}),Fie=({titleId:e})=>{const t=n8(a8),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Bie="DialogDescriptionWarning",Uie=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n8(Bie).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},w2=V6,j2=z6,N2=H6,fx=G6,gx=Y6,Mh=Q6,xx=Z6,Sw=t8;const il=w2,Cw=j2,qie=N2,r8=y.forwardRef(({className:e,...t},n)=>a.jsx(fx,{className:Be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));r8.displayName=fx.displayName;const Vie=lx("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),lo=y.forwardRef(({side:e="right",className:t,children:n,...r},s)=>a.jsxs(qie,{children:[a.jsx(r8,{}),a.jsxs(gx,{ref:s,className:Be(Vie({side:e}),t),"aria-describedby":void 0,...r,children:[a.jsx(Mh,{className:"sr-only",children:"Menu"}),n,a.jsxs(Sw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(eo,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lo.displayName=gx.displayName;const Rh=({className:e,...t})=>a.jsx("div",{className:Be("flex flex-col space-y-2 text-center sm:text-left",e),...t});Rh.displayName="SheetHeader";const Ih=y.forwardRef(({className:e,...t},n)=>a.jsx(Mh,{ref:n,className:Be("text-lg font-semibold text-foreground",e),...t}));Ih.displayName=Mh.displayName;const yx=y.forwardRef(({className:e,...t},n)=>a.jsx(xx,{ref:n,className:Be("text-sm text-muted-foreground",e),...t}));yx.displayName=xx.displayName;const W=y.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));W.displayName="Card";const $e=y.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("flex flex-col space-y-1.5 p-6",e),...t}));$e.displayName="CardHeader";const Ie=y.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ie.displayName="CardTitle";const Ca=y.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("text-sm text-muted-foreground",e),...t}));Ca.displayName="CardDescription";const ae=y.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("p-6 pt-0",e),...t}));ae.displayName="CardContent";const k2=y.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Be("flex items-center p-6 pt-0",e),...t}));k2.displayName="CardFooter";const ce=y.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:Be("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ce.displayName="Input";var Kie="Label",s8=y.forwardRef((e,t)=>a.jsx(nt.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));s8.displayName=Kie;var i8=s8;const zie=lx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ke=y.forwardRef(({className:e,...t},n)=>a.jsx(i8,{ref:n,className:Be(zie(),e),...t}));Ke.displayName=i8.displayName;function Hf(e,[t,n]){return Math.min(n,Math.max(t,e))}var Wie=y.createContext(void 0);function wc(e){const t=y.useContext(Wie);return e||t||"ltr"}function vx(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Hie=[" ","Enter","ArrowUp","ArrowDown"],Gie=[" ","Enter"],bx="Select",[Aw,Tw,Yie]=Ch(bx),[Lh,I8e]=pn(bx,[Yie,Dh]),Ew=Dh(),[Jie,jc]=Lh(bx),[Qie,Xie]=Lh(bx),o8=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:p,form:g}=e,f=Ew(t),[x,b]=y.useState(null),[j,v]=y.useState(null),[N,w]=y.useState(!1),P=wc(d),[k=!1,_]=Hr({prop:r,defaultProp:s,onChange:i}),[S,O]=Hr({prop:o,defaultProp:l,onChange:c}),A=y.useRef(null),E=x?g||!!x.closest("form"):!0,[D,B]=y.useState(new Set),z=Array.from(D).map(K=>K.props.value).join(";");return a.jsx(w6,{...f,children:a.jsxs(Jie,{required:p,scope:t,trigger:x,onTriggerChange:b,valueNode:j,onValueNodeChange:v,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:Us(),value:S,onValueChange:O,open:k,onOpenChange:_,dir:P,triggerPointerDownPosRef:A,disabled:h,children:[a.jsx(Aw.Provider,{scope:t,children:a.jsx(Qie,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(K=>{B(Y=>new Set(Y).add(K))},[]),onNativeOptionRemove:y.useCallback(K=>{B(Y=>{const M=new Set(Y);return M.delete(K),M})},[]),children:n})}),E?a.jsxs(O8,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:m,value:S,onChange:K=>O(K.target.value),disabled:h,form:g,children:[S===void 0?a.jsx("option",{value:""}):null,Array.from(D)]},z):null]})})};o8.displayName=bx;var l8="SelectTrigger",c8=y.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Ew(n),o=jc(l8,n),l=o.disabled||r,c=jt(t,o.onTriggerChange),d=Tw(n),u=y.useRef("touch"),[m,h,p]=D8(f=>{const x=d().filter(v=>!v.disabled),b=x.find(v=>v.value===o.value),j=M8(x,f,b);j!==void 0&&o.onValueChange(j.value)}),g=f=>{l||(o.onOpenChange(!0),p()),f&&(o.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return a.jsx(c2,{asChild:!0,...i,children:a.jsx(nt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":E8(o.value)?"":void 0,...s,ref:c,onClick:Te(s.onClick,f=>{f.currentTarget.focus(),u.current!=="mouse"&&g(f)}),onPointerDown:Te(s.onPointerDown,f=>{u.current=f.pointerType;const x=f.target;x.hasPointerCapture(f.pointerId)&&x.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(g(f),f.preventDefault())}),onKeyDown:Te(s.onKeyDown,f=>{const x=m.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&h(f.key),!(x&&f.key===" ")&&Hie.includes(f.key)&&(g(),f.preventDefault())})})})});c8.displayName=l8;var d8="SelectValue",u8=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=e,c=jc(d8,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=jt(t,c.onValueNodeChange);return hn(()=>{d(u)},[d,u]),a.jsx(nt.span,{...l,ref:m,style:{pointerEvents:"none"},children:E8(c.value)?a.jsx(a.Fragment,{children:o}):i})});u8.displayName=d8;var Zie="SelectIcon",m8=y.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(nt.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});m8.displayName=Zie;var eoe="SelectPortal",h8=e=>a.jsx(ix,{asChild:!0,...e});h8.displayName=eoe;var Md="SelectContent",p8=y.forwardRef((e,t)=>{const n=jc(Md,e.__scopeSelect),[r,s]=y.useState();if(hn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Gd.createPortal(a.jsx(f8,{scope:e.__scopeSelect,children:a.jsx(Aw.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(g8,{...e,ref:t})});p8.displayName=Md;var ti=10,[f8,Nc]=Lh(Md),toe="SelectContentImpl",aoe=Ed("SelectContent.RemoveScroll"),g8=y.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:f,avoidCollisions:x,...b}=e,j=jc(Md,n),[v,N]=y.useState(null),[w,P]=y.useState(null),k=jt(t,H=>N(H)),[_,S]=y.useState(null),[O,A]=y.useState(null),E=Tw(n),[D,B]=y.useState(!1),z=y.useRef(!1);y.useEffect(()=>{if(v)return g2(v)},[v]),f2();const K=y.useCallback(H=>{const[oe,...G]=E().map(U=>U.ref.current),[$]=G.slice(-1),Z=document.activeElement;for(const U of H)if(U===Z||(U==null||U.scrollIntoView({block:"nearest"}),U===oe&&w&&(w.scrollTop=0),U===$&&w&&(w.scrollTop=w.scrollHeight),U==null||U.focus(),document.activeElement!==Z))return},[E,w]),Y=y.useCallback(()=>K([_,v]),[K,_,v]);y.useEffect(()=>{D&&Y()},[D,Y]);const{onOpenChange:M,triggerPointerDownPosRef:R}=j;y.useEffect(()=>{if(v){let H={x:0,y:0};const oe=$=>{var Z,U;H={x:Math.abs(Math.round($.pageX)-(((Z=R.current)==null?void 0:Z.x)??0)),y:Math.abs(Math.round($.pageY)-(((U=R.current)==null?void 0:U.y)??0))}},G=$=>{H.x<=10&&H.y<=10?$.preventDefault():v.contains($.target)||M(!1),document.removeEventListener("pointermove",oe),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",G,{capture:!0})}}},[v,M,R]),y.useEffect(()=>{const H=()=>M(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[M]);const[J,ie]=D8(H=>{const oe=E().filter(Z=>!Z.disabled),G=oe.find(Z=>Z.ref.current===document.activeElement),$=M8(oe,H,G);$&&setTimeout(()=>$.ref.current.focus())}),F=y.useCallback((H,oe,G)=>{const $=!z.current&&!G;(j.value!==void 0&&j.value===oe||$)&&(S(H),$&&(z.current=!0))},[j.value]),le=y.useCallback(()=>v==null?void 0:v.focus(),[v]),q=y.useCallback((H,oe,G)=>{const $=!z.current&&!G;(j.value!==void 0&&j.value===oe||$)&&A(H)},[j.value]),ve=r==="popper"?AP:x8,ye=ve===AP?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:f,avoidCollisions:x}:{};return a.jsx(f8,{scope:n,content:v,viewport:w,onViewportChange:P,itemRefCallback:F,selectedItem:_,onItemLeave:le,itemTextRefCallback:q,focusSelectedItem:Y,selectedItemText:O,position:r,isPositioned:D,searchRef:J,children:a.jsx(_w,{as:aoe,allowPinchZoom:!0,children:a.jsx(kw,{asChild:!0,trapped:j.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Te(s,H=>{var oe;(oe=j.trigger)==null||oe.focus({preventScroll:!0}),H.preventDefault()}),children:a.jsx(Ah,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:a.jsx(ve,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:H=>H.preventDefault(),...b,...ye,onPlaced:()=>B(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Te(b.onKeyDown,H=>{const oe=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!oe&&H.key.length===1&&ie(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let $=E().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes(H.key)&&($=$.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const Z=H.target,U=$.indexOf(Z);$=$.slice(U+1)}setTimeout(()=>K($)),H.preventDefault()}})})})})})})});g8.displayName=toe;var noe="SelectItemAlignedPosition",x8=y.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=jc(Md,n),o=Nc(Md,n),[l,c]=y.useState(null),[d,u]=y.useState(null),m=jt(t,k=>u(k)),h=Tw(n),p=y.useRef(!1),g=y.useRef(!0),{viewport:f,selectedItem:x,selectedItemText:b,focusSelectedItem:j}=o,v=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&f&&x&&b){const k=i.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),S=i.valueNode.getBoundingClientRect(),O=b.getBoundingClientRect();if(i.dir!=="rtl"){const Z=O.left-_.left,U=S.left-Z,pe=k.left-U,ke=k.width+pe,se=Math.max(ke,_.width),I=window.innerWidth-ti,be=Hf(U,[ti,Math.max(ti,I-se)]);l.style.minWidth=ke+"px",l.style.left=be+"px"}else{const Z=_.right-O.right,U=window.innerWidth-S.right-Z,pe=window.innerWidth-k.right-U,ke=k.width+pe,se=Math.max(ke,_.width),I=window.innerWidth-ti,be=Hf(U,[ti,Math.max(ti,I-se)]);l.style.minWidth=ke+"px",l.style.right=be+"px"}const A=h(),E=window.innerHeight-ti*2,D=f.scrollHeight,B=window.getComputedStyle(d),z=parseInt(B.borderTopWidth,10),K=parseInt(B.paddingTop,10),Y=parseInt(B.borderBottomWidth,10),M=parseInt(B.paddingBottom,10),R=z+K+D+M+Y,J=Math.min(x.offsetHeight*5,R),ie=window.getComputedStyle(f),F=parseInt(ie.paddingTop,10),le=parseInt(ie.paddingBottom,10),q=k.top+k.height/2-ti,ve=E-q,ye=x.offsetHeight/2,H=x.offsetTop+ye,oe=z+K+H,G=R-oe;if(oe<=q){const Z=A.length>0&&x===A[A.length-1].ref.current;l.style.bottom="0px";const U=d.clientHeight-f.offsetTop-f.offsetHeight,pe=Math.max(ve,ye+(Z?le:0)+U+Y),ke=oe+pe;l.style.height=ke+"px"}else{const Z=A.length>0&&x===A[0].ref.current;l.style.top="0px";const pe=Math.max(q,z+f.offsetTop+(Z?F:0)+ye)+G;l.style.height=pe+"px",f.scrollTop=oe-q+f.offsetTop}l.style.margin=`${ti}px 0`,l.style.minHeight=J+"px",l.style.maxHeight=E+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,d,f,x,b,i.dir,r]);hn(()=>v(),[v]);const[N,w]=y.useState();hn(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const P=y.useCallback(k=>{k&&g.current===!0&&(v(),j==null||j(),g.current=!1)},[v,j]);return a.jsx(soe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:a.jsx(nt.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});x8.displayName=noe;var roe="SelectPopperPosition",AP=y.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ti,...i}=e,o=Ew(n);return a.jsx(d2,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});AP.displayName=roe;var[soe,P2]=Lh(Md,{}),TP="SelectViewport",y8=y.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Nc(TP,n),o=P2(TP,n),l=jt(t,i.onViewportChange),c=y.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Aw.Slot,{scope:n,children:a.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Te(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&m){const p=Math.abs(c.current-u.scrollTop);if(p>0){const g=window.innerHeight-ti*2,f=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),b=Math.max(f,x);if(b<g){const j=b+p,v=Math.min(g,j),N=j-v;m.style.height=v+"px",m.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});y8.displayName=TP;var v8="SelectGroup",[ioe,ooe]=Lh(v8),loe=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Us();return a.jsx(ioe,{scope:n,id:s,children:a.jsx(nt.div,{role:"group","aria-labelledby":s,...r,ref:t})})});loe.displayName=v8;var b8="SelectLabel",w8=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ooe(b8,n);return a.jsx(nt.div,{id:s.id,...r,ref:t})});w8.displayName=b8;var mb="SelectItem",[coe,j8]=Lh(mb),N8=y.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,l=jc(mb,n),c=Nc(mb,n),d=l.value===r,[u,m]=y.useState(i??""),[h,p]=y.useState(!1),g=jt(t,j=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,j,r,s)}),f=Us(),x=y.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(coe,{scope:n,value:r,disabled:s,textId:f,isSelected:d,onItemTextChange:y.useCallback(j=>{m(v=>v||((j==null?void 0:j.textContent)??"").trim())},[]),children:a.jsx(Aw.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:a.jsx(nt.div,{role:"option","aria-labelledby":f,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Te(o.onFocus,()=>p(!0)),onBlur:Te(o.onBlur,()=>p(!1)),onClick:Te(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:Te(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:Te(o.onPointerDown,j=>{x.current=j.pointerType}),onPointerMove:Te(o.onPointerMove,j=>{var v;x.current=j.pointerType,s?(v=c.onItemLeave)==null||v.call(c):x.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(o.onPointerLeave,j=>{var v;j.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Te(o.onKeyDown,j=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&j.key===" "||(Gie.includes(j.key)&&b(),j.key===" "&&j.preventDefault())})})})})});N8.displayName=mb;var $p="SelectItemText",k8=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=jc($p,n),l=Nc($p,n),c=j8($p,n),d=Xie($p,n),[u,m]=y.useState(null),h=jt(t,b=>m(b),c.onItemTextChange,b=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,b,c.value,c.disabled)}),p=u==null?void 0:u.textContent,g=y.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:f,onNativeOptionRemove:x}=d;return hn(()=>(f(g),()=>x(g)),[f,x,g]),a.jsxs(a.Fragment,{children:[a.jsx(nt.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gd.createPortal(i.children,o.valueNode):null]})});k8.displayName=$p;var P8="SelectItemIndicator",_8=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return j8(P8,n).isSelected?a.jsx(nt.span,{"aria-hidden":!0,...r,ref:t}):null});_8.displayName=P8;var EP="SelectScrollUpButton",S8=y.forwardRef((e,t)=>{const n=Nc(EP,e.__scopeSelect),r=P2(EP,e.__scopeSelect),[s,i]=y.useState(!1),o=jt(t,r.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(A8,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});S8.displayName=EP;var OP="SelectScrollDownButton",C8=y.forwardRef((e,t)=>{const n=Nc(OP,e.__scopeSelect),r=P2(OP,e.__scopeSelect),[s,i]=y.useState(!1),o=jt(t,r.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(A8,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});C8.displayName=OP;var A8=y.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Nc("SelectScrollButton",n),o=y.useRef(null),l=Tw(n),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),hn(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),a.jsx(nt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Te(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Te(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Te(s.onPointerLeave,()=>{c()})})}),doe="SelectSeparator",T8=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(nt.div,{"aria-hidden":!0,...r,ref:t})});T8.displayName=doe;var DP="SelectArrow",uoe=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ew(n),i=jc(DP,n),o=Nc(DP,n);return i.open&&o.position==="popper"?a.jsx(u2,{...s,...r,ref:t}):null});uoe.displayName=DP;function E8(e){return e===""||e===void 0}var O8=y.forwardRef((e,t)=>{const{value:n,...r}=e,s=y.useRef(null),i=jt(t,s),o=vx(n);return y.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const m=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(m)}},[o,n]),a.jsx(ox,{asChild:!0,children:a.jsx("select",{...r,ref:i,defaultValue:n})})});O8.displayName="BubbleSelect";function D8(e){const t=Ka(e),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function M8(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=moe(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function moe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var hoe=o8,R8=c8,poe=u8,foe=m8,goe=h8,I8=p8,xoe=y8,L8=w8,$8=N8,yoe=k8,voe=_8,F8=S8,B8=C8,U8=T8;const tt=hoe,at=poe,Xe=y.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(R8,{ref:r,className:Be("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(foe,{asChild:!0,children:a.jsx(fw,{className:"h-4 w-4 opacity-50"})})]}));Xe.displayName=R8.displayName;const q8=y.forwardRef(({className:e,...t},n)=>a.jsx(F8,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(jte,{className:"h-4 w-4"})}));q8.displayName=F8.displayName;const V8=y.forwardRef(({className:e,...t},n)=>a.jsx(B8,{ref:n,className:Be("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(fw,{className:"h-4 w-4"})}));V8.displayName=B8.displayName;const Ze=y.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(goe,{children:a.jsxs(I8,{ref:s,className:Be("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(q8,{}),a.jsx(xoe,{className:Be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(V8,{})]})}));Ze.displayName=I8.displayName;const boe=y.forwardRef(({className:e,...t},n)=>a.jsx(L8,{ref:n,className:Be("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));boe.displayName=L8.displayName;const ge=y.forwardRef(({className:e,children:t,...n},r)=>a.jsxs($8,{ref:r,className:Be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(voe,{children:a.jsx(qn,{className:"h-4 w-4"})})}),a.jsx(yoe,{children:t})]}));ge.displayName=$8.displayName;const woe=y.forwardRef(({className:e,...t},n)=>a.jsx(U8,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",e),...t}));woe.displayName=U8.displayName;var _2="Checkbox",[joe,L8e]=pn(_2),[Noe,koe]=joe(_2),K8=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[h,p]=y.useState(null),g=jt(t,N=>p(N)),f=y.useRef(!1),x=h?u||!!h.closest("form"):!0,[b=!1,j]=Hr({prop:s,defaultProp:i,onChange:d}),v=y.useRef(b);return y.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const w=()=>j(v.current);return N.addEventListener("reset",w),()=>N.removeEventListener("reset",w)}},[h,j]),a.jsxs(Noe,{scope:n,state:b,disabled:l,children:[a.jsx(nt.button,{type:"button",role:"checkbox","aria-checked":tc(b)?"mixed":b,"aria-required":o,"data-state":H8(b),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:g,onKeyDown:Te(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Te(e.onClick,N=>{j(w=>tc(w)?!0:!w),x&&(f.current=N.isPropagationStopped(),f.current||N.stopPropagation())})}),x&&a.jsx(Poe,{control:h,bubbles:!f.current,name:r,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:tc(i)?!1:i})]})});K8.displayName=_2;var z8="CheckboxIndicator",W8=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=koe(z8,n);return a.jsx(Kn,{present:r||tc(i.state)||i.state===!0,children:a.jsx(nt.span,{"data-state":H8(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});W8.displayName=z8;var Poe=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...i}=e,o=y.useRef(null),l=vx(n),c=px(t);y.useEffect(()=>{const u=o.current,m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==n&&p){const g=new Event("click",{bubbles:r});u.indeterminate=tc(n),p.call(u,tc(n)?!1:n),u.dispatchEvent(g)}},[l,n,r]);const d=y.useRef(tc(n)?!1:n);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function tc(e){return e==="indeterminate"}function H8(e){return tc(e)?"indeterminate":e?"checked":"unchecked"}var G8=K8,_oe=W8;const $h=y.forwardRef(({className:e,...t},n)=>a.jsx(G8,{ref:n,className:Be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(_oe,{className:Be("flex items-center justify-center text-current"),children:a.jsx(qn,{className:"h-4 w-4"})})}));$h.displayName=G8.displayName;function wx(){var o,l,c;const{user:e,loading:t,role:n,member:r,partner:s,signOut:i}=oa();return{user:e?{id:e.id,email:e.email,firstName:(o=e.user_metadata)==null?void 0:o.first_name,lastName:(l=e.user_metadata)==null?void 0:l.last_name,profileImageUrl:(c=e.user_metadata)==null?void 0:c.avatar_url}:null,isLoading:t,isAuthenticated:!!e,role:n,member:r,partner:s,signOut:i}}function Soe(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),s=Math.random().toString(36).substring(2,6).toUpperCase();return`LY${t}${n}${r}${s}`}async function Im(e){var u;const t=Soe(),n=crypto.randomUUID(),r=new Date().toISOString(),s={id:n,order_number:t,user_id:e.userId||null,member_id:e.memberId,customer_name:e.customerName,customer_phone:e.customerPhone,customer_email:e.customerEmail,status:"pending_payment",total_amount:e.totalAmount,items:e.items,package_type:e.packageType,shipping_address:e.shippingAddress,shipping_city:e.shippingCity,shipping_state:e.shippingState,shipping_postcode:e.shippingPostcode,preferred_delivery_date:e.preferredDeliveryDate,tracking_number:e.trackingNumber,notes:e.notes,source:e.source,erpnext_id:e.erpnextId,meta_order_id:e.metaOrderId,points_earned:e.pointsEarned,points_redeemed:e.pointsRedeemed,created_at:r,updated_at:r};console.info("[orders] Inserting order...",{orderId:n,orderNumber:t,userId:s.user_id});const i=Date.now(),o="https://vpzmhglfwomgrashheol.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwem1oZ2xmd29tZ3Jhc2hoZW9sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NjE1NjQsImV4cCI6MjA4NTAzNzU2NH0.anMz844nf2-sscp4yX5ctLGMMaRjKy24YKjPWAEDUN4",c=((u=la.getState().session)==null?void 0:u.access_token)||l;let d=null;try{const m=await fetch(`${o}/rest/v1/orders`,{method:"POST",headers:{"Content-Type":"application/json",apikey:l,Authorization:`Bearer ${c}`,Prefer:"return=minimal"},body:JSON.stringify(s)}),h=Date.now()-i;if(console.info("[orders] Insert completed in",h,"ms",{status:m.status}),!m.ok){const p=await m.json().catch(()=>({}));d=p.message||`HTTP ${m.status}`,console.error("[orders] Insert failed:",p)}}catch(m){const h=Date.now()-i;console.error("[orders] Insert fetch error after",h,"ms:",m),d=m instanceof Error?m.message:String(m)}return d?{order:null,error:new Error(d)}:{order:{id:n,orderNumber:t,userId:e.userId||null,memberId:e.memberId,customerName:e.customerName,customerPhone:e.customerPhone,customerEmail:e.customerEmail||null,status:"pending_payment",totalAmount:e.totalAmount,items:e.items,packageType:e.packageType||null,shippingAddress:e.shippingAddress||null,shippingCity:e.shippingCity||null,shippingState:e.shippingState||null,shippingPostcode:e.shippingPostcode||null,preferredDeliveryDate:e.preferredDeliveryDate||null,trackingNumber:null,notes:e.notes||null,source:e.source||null,erpnextId:null,metaOrderId:null,pointsEarned:null,pointsRedeemed:null,sourceChannel:null,whatsappConversationId:null,createdAt:r,updatedAt:r},error:null}}async function FD(e,t,n){const r={status:t,updated_at:new Date().toISOString()},{error:s}=await L.from("orders").update(r).eq("id",e);return s?(console.error("Error updating order:",s),{success:!1,error:new Error(s.message)}):{success:!0,error:null}}function Coe(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let n=0;n<6;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}async function jx(e,t){const{data:n,error:r}=await L.from("members").select("*").eq("user_id",e).single();if(n)return{member:MP(n),created:!1,error:null};const{data:s,error:i}=await L.from("members").insert({user_id:e,name:t.name,phone:t.phone,email:t.email||null,role:"member",points_balance:0,referral_code:Coe(),created_at:new Date().toISOString()}).select().single();return i?(console.error("Error creating member:",i),{member:null,created:!1,error:new Error(i.message)}):(await L.from("users").update({role:"member",updated_at:new Date().toISOString()}).eq("id",e),{member:MP(s),created:!0,error:null})}async function Ow(e,t){const{data:n}=await L.from("member_addresses").select("id").eq("member_id",e),r=!n||n.length===0,{data:s,error:i}=await L.from("member_addresses").insert({member_id:e,recipient_name:t.recipientName,phone:t.phone,address_line_1:t.addressLine1,address_line_2:t.addressLine2||null,city:t.city,state:t.state,postcode:t.postcode,is_default:t.isDefault??r,created_at:new Date().toISOString()}).select().single();return i?(console.error("Error saving address:",i),{address:null,error:new Error(i.message)}):{address:Toe(s),error:null}}async function Aoe(e){const{data:t,error:n}=await L.from("members").select("*").eq("user_id",e).single();return n&&n.code!=="PGRST116"?(console.error("Error fetching member:",n),{member:null,error:new Error(n.message)}):{member:t?MP(t):null,error:null}}function MP(e){return{id:e.id,userId:e.user_id,name:e.name,phone:e.phone,email:e.email,role:e.role,pointsBalance:e.points_balance,preferredFlavor:e.preferred_flavor,preferredPackage:e.preferred_package,referralCode:e.referral_code,referrerId:e.referrer_id,createdAt:e.created_at}}function Toe(e){return{id:e.id,memberId:e.member_id,label:e.label,recipientName:e.recipient_name,phone:e.phone,addressLine1:e.address_line_1,addressLine2:e.address_line_2,city:e.city,state:e.state,postcode:e.postcode,isDefault:e.is_default,createdAt:e.created_at}}function Eoe(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),s=Math.random().toString(36).substring(2,6).toUpperCase();return`INV${t}${n}${r}${s}`}async function Ooe(e,t,n,r){const s=Eoe(),{data:i,error:o}=await L.from("bills").insert({bill_number:s,type:"income",category:"sales",amount:n,description:`Order ${t}`,status:"paid",paid_date:new Date().toISOString(),reference_type:"order",reference_id:e,created_by:r||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();return o?(console.error("Error creating bill:",o),{bill:null,error:new Error(o.message)}):{bill:Y8(i),error:null}}async function Doe(e){const{data:t,error:n}=await L.from("bills").select("*").eq("reference_type","order").eq("reference_id",e).single();return n&&n.code!=="PGRST116"?(console.error("Error fetching bill:",n),{bill:null,error:new Error(n.message)}):{bill:t?Y8(t):null,error:null}}function Y8(e){return{id:e.id,billNumber:e.bill_number,type:e.type,category:e.category,amount:e.amount,description:e.description,dueDate:e.due_date,paidDate:e.paid_date,status:e.status,referenceType:e.reference_type,referenceId:e.reference_id,createdBy:e.created_by,createdAt:e.created_at,updatedAt:e.updated_at}}const Moe={phase1:{name:"Phase 1 - ",price:1e5,initialLyPoints:2e3,initialRwaTokens:1,cashbackRate:{first5PerPkg:.5,after:.3},weight:1},phase2:{name:"Phase 2 - ",price:13e4,initialLyPoints:2600,initialRwaTokens:1,cashbackRate:{first5PerPkg:.5,after:.3},weight:1.2},phase3:{name:"Phase 3 - ",price:15e4,initialLyPoints:3e3,initialRwaTokens:1,cashbackRate:{first5PerPkg:.5,after:.3},weight:1.5}},BD={directRate:.1,indirectRate:.05},J8={salesContributionRate:.3,cycleDays:10,minPartnersForRwa:10},Gf={first5Rate:.5,afterRate:.3,sameLevelRate:.1,sameLevelMaxGen:2},UN=[20,15,10,10,10,5,5,5,5,5];function Roe(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let n=0;n<8;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}async function Ioe(e,t,n,r){const s=Moe[t];let i=null;if(n){const{data:m}=await L.from("members").select("id").eq("referral_code",n.toUpperCase()).single();if(m){const{data:h}=await L.from("partners").select("id").eq("member_id",m.id).eq("status","active").single();h&&(i=h.id)}}let o;const{data:l}=await L.from("members").select("referral_code").eq("id",e).single();l!=null&&l.referral_code?o=l.referral_code:o=Roe();const{data:c,error:d}=await L.from("partners").insert({member_id:e,referral_code:o,tier:t,status:"active",referrer_id:i,ly_balance:s.initialLyPoints,cash_wallet_balance:0,rwa_tokens:s.initialRwaTokens,total_sales:0,total_cashback:0,payment_amount:s.price,payment_date:new Date().toISOString(),payment_reference:r||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(d)return console.error("Error creating partner:",d),{partner:null,error:new Error(d.message)};const u=nU(c);return await X8(u.id,s.initialLyPoints,"bonus",null,null,`Initial ${t} package bonus`),await RP(u.id,s.initialRwaTokens,"package",null),i&&await Boe(i,u.id,s.price),await L.from("members").update({role:"partner",updated_at:new Date().toISOString()}).eq("id",e),{partner:u,error:null}}async function Q8(e){const{data:t,error:n}=await L.from("partners").select("*").eq("member_id",e).single();return n&&n.code!=="PGRST116"?{partner:null,error:new Error(n.message)}:{partner:t?nU(t):null,error:null}}async function X8(e,t,n,r,s,i){const{error:o}=await L.from("ly_points_ledger").insert({partner_id:e,type:n,points:t,reference_id:r,reference_type:n,tier:s,description:i,created_at:new Date().toISOString()});if(o)return console.error("Error adding LY points ledger:",o),{success:!1,error:new Error(o.message)};const{error:l}=await L.rpc("increment_ly_balance",{partner_id:e,amount:t});if(l){const{data:c}=await L.from("partners").select("ly_balance").eq("id",e).single();await L.from("partners").update({ly_balance:((c==null?void 0:c.ly_balance)||0)+t,updated_at:new Date().toISOString()}).eq("id",e)}return{success:!0,error:null}}async function UD(e,t,n,r,s){const{data:i}=await L.from("partners").select("ly_balance").eq("id",e).single();return!i||(i.ly_balance||0)<t?{success:!1,error:new Error("Insufficient LY points")}:(await L.from("ly_points_ledger").insert({partner_id:e,type:n,points:-t,reference_id:r,reference_type:n,description:s,created_at:new Date().toISOString()}),await L.from("partners").update({ly_balance:(i.ly_balance||0)-t,updated_at:new Date().toISOString()}).eq("id",e),{success:!0,error:null})}async function RP(e,t,n,r){const{cycle:s}=await tU();await L.from("rwa_token_ledger").insert({partner_id:e,cycle_id:(s==null?void 0:s.id)||null,tokens:t,source:n,order_id:r,created_at:new Date().toISOString()});const{data:i}=await L.from("partners").select("rwa_tokens").eq("id",e).single();return await L.from("partners").update({rwa_tokens:((i==null?void 0:i.rwa_tokens)||0)+t,updated_at:new Date().toISOString()}).eq("id",e),{success:!0,error:null}}function Loe(e,t=1){const n=t*5;return e<n?Gf.first5Rate:Gf.afterRate}async function Z8(e){let t=e;const n=10;for(let r=0;r<n;r++){const{data:s}=await L.from("members").select("referrer_id").eq("id",t).single();if(!(s!=null&&s.referrer_id))break;const{data:i}=await L.from("partners").select("id, member_id, total_boxes_processed, packages_purchased, ly_balance").eq("member_id",s.referrer_id).eq("status","active").single();if(i)return{partnerId:i.id,memberId:i.member_id,totalBoxesProcessed:i.total_boxes_processed||0,packagesPurchased:i.packages_purchased||1,lyBalance:i.ly_balance||0};t=s.referrer_id}return null}async function eU(e,t){const n=[];let r=e;for(let s=0;s<t;s++){const{data:i}=await L.from("partners").select("referrer_id").eq("id",r).single();if(!(i!=null&&i.referrer_id))break;const{data:o}=await L.from("partners").select("id, ly_balance").eq("id",i.referrer_id).eq("status","active").single();if(!o)break;n.push({partnerId:o.id,lyBalance:o.ly_balance||0}),r=o.id}return n}async function $oe(e,t,n,r){const s=[],i=[],o=await Z8(r);if(o){const l=Loe(o.totalBoxesProcessed,o.packagesPurchased),c=Math.floor(t*l),d=Math.ceil(c/100);o.lyBalance<d?(i.push({partnerId:o.partnerId,amount:c,reason:"insufficient_ly"}),await L.from("cashback_blocked_records").insert({partner_id:o.partnerId,order_id:e,blocked_amount:c,reason:"insufficient_ly",ly_balance_at_time:o.lyBalance,ly_required:d})):(await UD(o.partnerId,d,"cashback",e,`Cashback LY deduction (RM ${(c/100).toFixed(2)})`),await hb(o.partnerId,c,"order_cashback",e,`Order cashback (Direct, Rate: ${l*100}%)`),await L.from("partners").update({total_boxes_processed:o.totalBoxesProcessed+n,total_cashback:(o.totalBoxesProcessed||0)+c,updated_at:new Date().toISOString()}).eq("id",o.partnerId),s.push({partnerId:o.partnerId,type:"direct",rate:l,amount:c,lyDeducted:d}));const u=Math.floor(c*Gf.sameLevelRate);if(u>0){const m=await eU(o.partnerId,Gf.sameLevelMaxGen);for(let h=0;h<m.length;h++){const p=m[h],g=Math.ceil(u/100);p.lyBalance<g?(i.push({partnerId:p.partnerId,amount:u,reason:"insufficient_ly_same_level"}),await L.from("cashback_blocked_records").insert({partner_id:p.partnerId,order_id:e,blocked_amount:u,reason:"insufficient_ly_same_level",ly_balance_at_time:p.lyBalance,ly_required:g})):(await UD(p.partnerId,g,"cashback",e,`Same-level cashback LY deduction (Gen ${h+1})`),await hb(p.partnerId,u,"order_cashback",e,`Same-level cashback (Gen ${h+1}, 10% of direct)`),s.push({partnerId:p.partnerId,type:"same_level",amount:u,lyDeducted:g}))}}}return await Foe(e,t,r),{success:!0,rewards:s,blocked:i,error:null}}async function Foe(e,t,n){const r=t/100;let s=n;for(let i=0;i<UN.length;i++){const{data:o}=await L.from("members").select("referrer_id").eq("id",s).single();if(!(o!=null&&o.referrer_id))break;const{data:l}=await L.from("partners").select("id").eq("member_id",o.referrer_id).eq("status","active").single();if(l){const c=Math.floor(r*UN[i]/100);c>0&&await X8(l.id,c,"replenish",e,i+1,`Network LY replenishment (Layer ${i+1}, ${UN[i]}%)`)}s=o.referrer_id}}async function Boe(e,t,n){const r=Math.floor(n*BD.directRate);await hb(e,r,"referral_bonus",t,"Direct referral bonus");const{data:s}=await L.from("partners").select("referrer_id").eq("id",e).single();if(s!=null&&s.referrer_id){const i=Math.floor(n*BD.indirectRate);await hb(s.referrer_id,i,"referral_bonus",t,"Indirect referral bonus")}}async function Uoe(e,t){const n=await Z8(t);if(!n)return;await RP(n.partnerId,1,"network_order",e);const r=await eU(n.partnerId,Gf.sameLevelMaxGen);for(const s of r)await RP(s.partnerId,1,"network_order",e)}async function hb(e,t,n,r,s){await L.from("cash_wallet_ledger").insert({partner_id:e,type:"income",amount:t,reference_id:r,reference_type:n,status:"completed",description:s,created_at:new Date().toISOString()});const{data:i}=await L.from("partners").select("cash_wallet_balance").eq("id",e).single();return await L.from("partners").update({cash_wallet_balance:((i==null?void 0:i.cash_wallet_balance)||0)+t,updated_at:new Date().toISOString()}).eq("id",e),{success:!0,error:null}}async function tU(){const e=new Date,{data:t}=await L.from("bonus_pool_cycles").select("*").eq("status","active").lte("start_date",e.toISOString()).gte("end_date",e.toISOString()).single();if(t)return{cycle:qD(t),error:null};const n=new Date,r=new Date(n);r.setDate(r.getDate()+J8.cycleDays);const{data:s}=await L.from("bonus_pool_cycles").select("cycle_number").order("cycle_number",{ascending:!1}).limit(1).single(),i=((s==null?void 0:s.cycle_number)||0)+1,{data:o,error:l}=await L.from("bonus_pool_cycles").insert({cycle_number:i,start_date:n.toISOString(),end_date:r.toISOString(),total_sales:0,pool_amount:0,total_tokens:0,status:"active",created_at:new Date().toISOString()}).select().single();return l?{cycle:null,error:new Error(l.message)}:{cycle:qD(o),error:null}}async function aU(e,t){const{cycle:n,error:r}=await tU();if(r||!n)return{success:!1,error:r||new Error("No active cycle")};const s=Math.floor(t*J8.salesContributionRate);return await L.from("bonus_pool_cycles").update({total_sales:(n.totalSales||0)+t,pool_amount:(n.poolAmount||0)+s}).eq("id",n.id),{success:!0,error:null}}async function qoe(e,t){const{error:n}=await L.from("withdrawal_requests").update({status:"accepted",processed_by:t,processed_at:new Date().toISOString()}).eq("id",e).eq("status","pending");return n?{success:!1,error:new Error(n.message)}:(await L.from("cash_wallet_ledger").update({status:"accepted"}).eq("reference_id",e),{success:!0,error:null})}async function Voe(e){const{error:t}=await L.from("withdrawal_requests").update({status:"completed"}).eq("id",e).eq("status","accepted");return t?{success:!1,error:new Error(t.message)}:(await L.from("cash_wallet_ledger").update({status:"completed"}).eq("reference_id",e),{success:!0,error:null})}async function Koe(e,t,n){const{data:r}=await L.from("withdrawal_requests").select("partner_id, amount").eq("id",e).single();if(!r)return{success:!1,error:new Error("Request not found")};const{data:s}=await L.from("partners").select("cash_wallet_balance").eq("id",r.partner_id).single();return await L.from("partners").update({cash_wallet_balance:((s==null?void 0:s.cash_wallet_balance)||0)+r.amount,updated_at:new Date().toISOString()}).eq("id",r.partner_id),await L.from("withdrawal_requests").update({status:"rejected",processed_by:t,processed_at:new Date().toISOString(),notes:n}).eq("id",e),await L.from("cash_wallet_ledger").update({status:"failed"}).eq("reference_id",e),{success:!0,error:null}}function nU(e){return{id:e.id,memberId:e.member_id,referralCode:e.referral_code,tier:e.tier,status:e.status,referrerId:e.referrer_id,lyBalance:e.ly_balance,cashWalletBalance:e.cash_wallet_balance,rwaTokens:e.rwa_tokens,totalSales:e.total_sales,totalCashback:e.total_cashback,paymentAmount:e.payment_amount,paymentDate:e.payment_date,paymentReference:e.payment_reference,packagesPurchased:e.packages_purchased??1,totalBoxesProcessed:e.total_boxes_processed??0,createdAt:e.created_at,updatedAt:e.updated_at}}function qD(e){return{id:e.id,cycleNumber:e.cycle_number,startDate:e.start_date,endDate:e.end_date,totalSales:e.total_sales,poolAmount:e.pool_amount,totalTokens:e.total_tokens,status:e.status,distributedAt:e.distributed_at,createdAt:e.created_at}}const pb="ly_checkout_context",zoe=24*60*60*1e3;function Dw(e){try{const t={...e,timestamp:Date.now()};localStorage.setItem(pb,JSON.stringify(t))}catch{}}function Woe(){try{const e=localStorage.getItem(pb);if(!e)return null;const t=JSON.parse(e);return Date.now()-t.timestamp>zoe?(localStorage.removeItem(pb),null):t}catch{return null}}function VD(){try{localStorage.removeItem(pb)}catch{}}const Hoe=["johor","kedah","kelantan","melaka","negeriSembilan","pahang","penang","perak","perlis","sabah","sarawak","selangor","terengganu","kualaLumpur","labuan","putrajaya"];function rU({open:e,onOpenChange:t,product:n}){const{t:r,language:s}=ks(),{user:i,isAuthenticated:o}=wx(),[l,c]=y.useState("delivery"),[d,u]=y.useState(""),[m,h]=y.useState(""),[p,g]=y.useState(!1),[f,x]=y.useState(null),[b,j]=y.useState(!1),[v,N]=y.useState(null),[w,P]=y.useState(!1),[k,_]=y.useState({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),{data:S}=Ae({queryKey:["member-profile",i==null?void 0:i.id],queryFn:async()=>{if(!(i!=null&&i.id))return null;const{data:q,error:ve}=await L.from("members").select("*").eq("user_id",i.id).single();return ve?null:q},enabled:o&&!!(i!=null&&i.id)}),{data:O=[]}=Ae({queryKey:["member-addresses",S==null?void 0:S.id],queryFn:async()=>{if(!(S!=null&&S.id))return[];const{data:q,error:ve}=await L.from("member_addresses").select("*").eq("member_id",S.id).order("is_default",{ascending:!1});return ve?[]:(q||[]).map(ye=>({id:ye.id,memberId:ye.member_id,label:ye.label||null,recipientName:ye.recipient_name||"",phone:ye.phone||"",addressLine1:ye.address_line_1||"",addressLine2:ye.address_line_2||null,city:ye.city||"",state:ye.state||"",postcode:ye.postcode||"",isDefault:ye.is_default||!1,createdAt:ye.created_at||null}))},enabled:o&&!!S}),A=(n==null?void 0:n.price)??0,E=Ce({mutationFn:async()=>{if(!n)throw new Error("No product selected");console.info("[checkout] Creating order for product:",n.name,{userId:i==null?void 0:i.id,price:A});const q=JSON.stringify([{productId:n.id,productName:n.name,quantity:1,unitPrice:A}]),{order:ve,error:ye}=await Im({userId:(i==null?void 0:i.id)||null,memberId:(S==null?void 0:S.id)||null,customerName:k.customerName,customerPhone:k.phone,customerEmail:(i==null?void 0:i.email)||null,status:"pending_payment",totalAmount:A*100,items:q,packageType:n.id,shippingAddress:k.address,shippingCity:k.city,shippingState:k.state,shippingPostcode:k.postcode,preferredDeliveryDate:k.deliveryDate||null,trackingNumber:null,notes:null,source:"website",erpnextId:null,metaOrderId:null,pointsEarned:null,pointsRedeemed:null});if(ye||!ve)throw console.error("[checkout] createOrder failed:",ye),ye||new Error("Failed to create order");return console.info("[checkout] Order created:",{id:ve.id,orderNumber:ve.orderNumber}),ve},onError:q=>{console.error("[checkout] Order mutation error:",q),N(q instanceof Error?q.message:"Failed to create order")},onSuccess:q=>{u(q.orderNumber),h(q.id),c("payment")}}),D=(q,ve)=>{_(ye=>({...ye,[q]:ve}))},B=()=>k.customerName.trim()!==""&&k.phone.trim()!==""&&k.address.trim()!==""&&k.city.trim()!==""&&k.state!==""&&k.postcode.trim()!=="",z=()=>{E.mutate()},K=async()=>{if(console.info("[checkout] handleStripePayment called",{orderId:m,orderNumber:d,product:n==null?void 0:n.name}),!m||!d||!n){console.error("[checkout] Missing orderId, orderNumber, or product, aborting payment"),N("Order not found. Please try again.");return}P(!0),N(null);try{console.info("[checkout] Calling create-checkout edge function...");const ve=await fetch("https://vpzmhglfwomgrashheol.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ho}`,apikey:Ho},body:JSON.stringify({orderId:m,orderNumber:d,amount:A*100,customerEmail:(i==null?void 0:i.email)||null,customerName:k.customerName,productName:n.name,productDescription:`Order #${d}`,productImage:n.image.startsWith("http")?n.image:`${window.location.origin}${n.image}`,successUrl:`${window.location.origin}/checkout/success?order=${d}`,cancelUrl:`${window.location.origin}/products?payment=cancelled`})}),ye=await ve.json();if(console.info("[checkout] Edge function response:",{status:ve.status,data:ye}),!ve.ok)throw new Error((ye==null?void 0:ye.error)||`Edge function returned ${ve.status}`);if(!(ye!=null&&ye.url))throw console.error("Stripe edge function returned no URL:",ye),new Error((ye==null?void 0:ye.error)||"No checkout URL returned from payment service");Dw({orderId:m,orderNumber:d,deliveryInfo:k,currentPrice:A,saveNewAddress:b,selectedAddressId:f,referrerId:null}),window.location.href=ye.url}catch(q){console.error("Payment error:",q),N(q instanceof Error?q.message:"Payment failed. Please try again.")}finally{P(!1)}},Y=()=>{c("delivery"),_({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),u(""),h(""),g(!1),x(null),j(!1),N(null)},M=q=>{x(q.id),_({customerName:q.recipientName,phone:q.phone,address:q.addressLine1+(q.addressLine2?`, ${q.addressLine2}`:""),city:q.city,state:q.state,postcode:q.postcode,deliveryDate:k.deliveryDate})},R=()=>{window.location.href="/auth/login"},J=o&&S&&O.length>0&&!p,ie=q=>{q||Y(),t(q)},F=()=>{switch(l){case"delivery":return r("order.deliveryInfo");case"confirm":return r("order.confirmOrder");case"payment":return r("order.payment")||"Payment";case"success":return r("order.orderConfirmed")}},le=()=>{switch(l){case"delivery":return r("order.deliveryInfoDesc");case"confirm":return r("order.confirmOrderDesc");case"payment":return r("order.paymentDesc")||"Complete your payment to confirm the order";case"success":return r("order.orderConfirmedDesc")}};return n?a.jsx(il,{open:e,onOpenChange:ie,children:a.jsxs(lo,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-hidden",children:[a.jsxs(Rh,{className:"pb-4",children:[a.jsx(Ih,{className:"text-xl font-bold",children:F()}),a.jsx(yx,{className:"text-muted-foreground",children:le()})]}),a.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)] pb-8",children:[l==="delivery"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(W,{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/20 dark:to-orange-950/20",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:n.image,alt:n.name,className:"w-16 h-16 rounded-lg object-cover"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:n.name}),a.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[a.jsxs("span",{className:"text-xl font-bold text-primary",children:["RM ",n.price]}),n.originalPrice>n.price&&a.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["RM ",n.originalPrice]})]})]})]})}),!o&&!p&&a.jsx(W,{className:"p-5",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(Mn,{className:"w-6 h-6 text-primary"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground mb-1",children:r("order.loginForSavedAddress")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r("order.loginBenefit")})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs(C,{onClick:R,children:[a.jsx(Mn,{className:"w-4 h-4 mr-2"}),r("order.loginOrRegister")]}),a.jsx(C,{variant:"outline",onClick:()=>g(!0),children:r("order.continueAsGuest")})]})]})}),J&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ke,{children:r("order.selectSavedAddress")}),O.map(q=>a.jsx(W,{className:`p-4 cursor-pointer transition-all hover-elevate ${f===q.id?"ring-2 ring-primary":""}`,onClick:()=>M(q),children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(sl,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-foreground",children:q.recipientName}),a.jsx("p",{className:"text-muted-foreground",children:q.phone}),a.jsxs("p",{className:"text-muted-foreground",children:[q.addressLine1,q.addressLine2&&`, ${q.addressLine2}`]}),a.jsxs("p",{className:"text-muted-foreground",children:[q.postcode," ",q.city,", ",r(`states.${q.state}`)]})]})]}),f===q.id&&a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center flex-shrink-0",children:a.jsx(qn,{className:"w-4 h-4 text-primary-foreground"})})]})},q.id)),a.jsx(C,{variant:"outline",className:"w-full",onClick:()=>{x(null),g(!0)},children:r("order.useNewAddress")})]}),(p||o&&!J)&&a.jsxs(a.Fragment,{children:[o&&O.length>0&&a.jsx(C,{variant:"ghost",size:"sm",onClick:()=>g(!1),className:"mb-2",children:r("order.backToSavedAddresses")}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"pc-customerName",className:"text-sm",children:[r("order.customerName")," *"]}),a.jsx(ce,{id:"pc-customerName",value:k.customerName,onChange:q=>D("customerName",q.target.value),placeholder:r("order.customerName")})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"pc-phone",className:"text-sm",children:[r("order.phone")," *"]}),a.jsx(ce,{id:"pc-phone",type:"tel",value:k.phone,onChange:q=>D("phone",q.target.value),placeholder:"012-3456789"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"pc-address",className:"text-sm",children:[r("order.address")," *"]}),a.jsx(ce,{id:"pc-address",value:k.address,onChange:q=>D("address",q.target.value),placeholder:r("order.address")})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"pc-postcode",className:"text-sm",children:[r("order.postcode")," *"]}),a.jsx(ce,{id:"pc-postcode",value:k.postcode,onChange:q=>D("postcode",q.target.value),placeholder:"12345"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"pc-city",className:"text-sm",children:[r("order.city")," *"]}),a.jsx(ce,{id:"pc-city",value:k.city,onChange:q=>D("city",q.target.value),placeholder:r("order.city")})]}),a.jsxs("div",{className:"space-y-1.5 col-span-2 sm:col-span-1",children:[a.jsxs(Ke,{htmlFor:"pc-state",className:"text-sm",children:[r("order.state")," *"]}),a.jsxs(tt,{value:k.state,onValueChange:q=>D("state",q),children:[a.jsx(Xe,{children:a.jsx(at,{placeholder:r("order.selectState")})}),a.jsx(Ze,{children:Hoe.map(q=>a.jsx(ge,{value:q,children:r(`states.${q}`)},q))})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(Ke,{htmlFor:"pc-deliveryDate",className:"text-sm text-muted-foreground",children:r("order.deliveryDate")}),a.jsx(ce,{id:"pc-deliveryDate",type:"date",value:k.deliveryDate,onChange:q=>D("deliveryDate",q.target.value),min:new Date().toISOString().split("T")[0]})]}),o&&!f&&a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx($h,{id:"pc-saveAddress",checked:b,onCheckedChange:q=>j(q===!0)}),a.jsx(Ke,{htmlFor:"pc-saveAddress",className:"text-sm cursor-pointer",children:r("order.saveAddressToProfile")})]})]})]}),l==="confirm"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(W,{className:"p-5",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-3",children:r("order.orderSummary")}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("img",{src:n.image,alt:n.name,className:"w-16 h-16 rounded-lg object-cover"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:n.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"x 1"})]}),a.jsxs("div",{className:"text-right",children:[n.originalPrice>n.price&&a.jsxs("span",{className:"text-sm text-muted-foreground line-through mr-2",children:["RM ",n.originalPrice]}),a.jsxs("span",{className:"font-bold text-primary",children:["RM ",A]})]})]}),a.jsxs("div",{className:"border-t border-border pt-3 flex justify-between font-semibold",children:[a.jsx("span",{children:s==="zh"?"":"Total"}),a.jsxs("span",{className:"text-primary",children:["RM ",A]})]})]}),a.jsxs(W,{className:"p-5",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-3",children:r("order.deliveryInfo")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.customerName"),":"]}),a.jsx("span",{className:"font-medium",children:k.customerName})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.phone"),":"]}),a.jsx("span",{className:"font-medium",children:k.phone})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.address"),":"]}),a.jsx("span",{className:"font-medium text-right max-w-[60%]",children:k.address})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.city"),":"]}),a.jsx("span",{className:"font-medium",children:k.city})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.state"),":"]}),a.jsx("span",{className:"font-medium",children:r(`states.${k.state}`)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.postcode"),":"]}),a.jsx("span",{className:"font-medium",children:k.postcode})]}),k.deliveryDate&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.deliveryDate"),":"]}),a.jsx("span",{className:"font-medium",children:k.deliveryDate})]})]})]}),v&&a.jsx(W,{className:"p-4 bg-destructive/10 border-destructive",children:a.jsx("p",{className:"text-sm text-destructive",children:v})}),a.jsx(C,{className:"w-full gap-3",size:"lg",onClick:z,disabled:E.isPending,children:E.isPending?a.jsxs(a.Fragment,{children:[a.jsx(fe,{className:"w-5 h-5 animate-spin"}),r("order.orderSubmitting")]}):a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-5 h-5"}),r("order.proceedToPayment")||"Proceed to Payment"]})})]}),l==="payment"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(W,{className:"p-5",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(In,{className:"w-8 h-8 text-primary"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:r("order.yourOrderNumber")}),a.jsx("p",{className:"text-xl font-bold text-primary",children:d})]}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:r("order.totalAmount")}),a.jsxs("p",{className:"text-3xl font-bold",children:["RM ",A]})]})]})}),v&&a.jsx(W,{className:"p-4 bg-destructive/10 border-destructive",children:a.jsx("p",{className:"text-sm text-destructive",children:v})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(C,{className:"w-full gap-3 bg-[#635BFF] hover:bg-[#5851DB]",size:"lg",onClick:K,disabled:w,children:w?a.jsxs(a.Fragment,{children:[a.jsx(fe,{className:"w-5 h-5 animate-spin"}),r("order.processing")]}):a.jsxs(a.Fragment,{children:[a.jsx(In,{className:"w-5 h-5"}),r("order.payOnline")]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:r("order.paymentMethods")}),a.jsx("p",{className:"text-xs text-center",children:a.jsx("a",{href:`https://wa.me/60178228658?text=${encodeURIComponent(`Need help with order #${d}`)}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground underline hover:text-foreground",children:r("order.needHelp")})})]})]}),l==="success"&&a.jsxs("div",{className:"space-y-6 text-center py-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Le,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:r("order.orderSuccess")}),a.jsx("p",{className:"text-muted-foreground mb-4",children:r("order.orderConfirmedDesc")})]}),a.jsxs(W,{className:"p-5",children:[a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[r("order.yourOrderNumber"),":"]}),a.jsx("p",{className:"text-2xl font-bold text-primary",children:d})]}),a.jsx("div",{className:"space-y-3",children:a.jsx(C,{className:"w-full",variant:"outline",onClick:()=>{Y(),t(!1)},children:r("order.continueOrdering")})})]})]}),l!=="success"&&l!=="payment"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-background border-t border-border",children:a.jsxs("div",{className:"flex gap-3",children:[l==="confirm"&&a.jsx(C,{variant:"outline",className:"flex-1",onClick:()=>c("delivery"),children:r("order.back")}),l==="delivery"&&a.jsx(C,{className:"flex-1",disabled:!B(),onClick:()=>c("confirm"),children:r("order.next")})]})})]})}):null}const Goe="60178228658";function Yoe({open:e,onClose:t}){const[,n]=Or(),{user:r,member:s}=oa(),{t:i,language:o}=ft(),[l,c]=y.useState([]),[d,u]=y.useState(""),[m,h]=y.useState(!1),[p,g]=y.useState(null),[f,x]=y.useState(!0),[b,j]=y.useState(!1),[v,N]=y.useState(null),w=y.useRef(null),P=y.useRef(null),k=`https://wa.me/${Goe}`,_=()=>{c([]),g(null),x(!0),u("")},S=y.useCallback(()=>{setTimeout(()=>{var J;(J=w.current)==null||J.scrollTo({top:w.current.scrollHeight,behavior:"smooth"})},50)},[]);y.useEffect(()=>{S()},[l,S]),y.useEffect(()=>{e&&r&&setTimeout(()=>{var J;return(J=P.current)==null?void 0:J.focus()},200)},[e,r]);const O=async J=>{if(!J.trim()||m)return;const ie={id:crypto.randomUUID(),role:"user",content:J.trim()};c(F=>[...F,ie]),u(""),x(!1),h(!0);try{const F=l.map(ye=>({role:ye.role,content:ye.content})),{data:le,error:q}=await L.functions.invoke("ai-suggest-answer",{body:{question:J.trim(),language:o,conversation_history:F,conversation_id:p,member_id:s==null?void 0:s.id}});if(q)throw q;le.conversation_id&&!p&&g(le.conversation_id);const ve={id:crypto.randomUUID(),role:"assistant",content:le.answer||i("chatbot.error"),products:le.recommended_products,packages:le.recommended_packages};c(ye=>[...ye,ve])}catch{const F={id:crypto.randomUUID(),role:"assistant",content:i("chatbot.error")};c(le=>[...le,F])}finally{h(!1)}},A=async(J,ie)=>{c(F=>F.map(le=>le.id===J?{...le,feedback:ie}:le)),p&&await L.from("ai_messages").update({feedback:ie}).eq("conversation_id",p).eq("role","assistant").order("created_at",{ascending:!1}).limit(1).catch(()=>{}),ie==="negative"&&O(i("chatbot.topicQuestions.products"))},E=J=>{J.key==="Enter"&&!J.shiftKey&&(J.preventDefault(),O(d))},[D,B]=y.useState(null),z=["brand","founders","products","orders","partner"],K={brand:["brandIntro","brandValues"],founders:["vivian","agnes","andrey"],products:["recommend","giftBox","price"],orders:["howToOrder","shipping","refund"],partner:["intro","cashback","rwa","lyPoints","network","referral"]},Y=J=>{B(J),O(i(`chatbot.categoryQuestions.${J}`))},M=J=>{O(i(`chatbot.topicQuestions.${J}`))},R=()=>{B(null)};return e?a.jsxs("div",{className:"fixed bottom-20 right-4 z-[59] w-[calc(100%-2rem)] max-w-sm bg-card border rounded-xl shadow-xl animate-in slide-in-from-bottom-4 fade-in duration-200 flex flex-col max-h-[70vh]",children:[a.jsxs("div",{className:"flex items-center gap-2 p-3 border-b shrink-0",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx($i,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-sm truncate",children:i("chatbot.title")}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:o.toUpperCase()})]}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-7 w-7 shrink-0 text-green-600 hover:text-green-700",onClick:()=>window.open(k,"_blank"),title:i("chatbot.transferHuman"),children:a.jsx(Gr,{className:"w-4 h-4"})}),l.length>0&&a.jsx(C,{variant:"ghost",size:"icon",className:"h-7 w-7 shrink-0",onClick:_,title:i("chatbot.restart"),children:a.jsx(qB,{className:"w-4 h-4"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-7 w-7 shrink-0",onClick:t,children:a.jsx(eo,{className:"w-4 h-4"})})]}),r?a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:w,className:"flex-1 min-h-0 overflow-y-auto",children:a.jsxs("div",{className:"p-3 space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/10 flex items-center justify-center shrink-0 mt-0.5",children:a.jsx($i,{className:"w-3 h-3 text-primary"})}),a.jsx("div",{className:"bg-muted rounded-lg rounded-tl-none px-3 py-2 text-sm max-w-[85%]",children:i("chatbot.greeting")})]}),f&&!D&&a.jsx("div",{className:"flex flex-wrap gap-1.5 pl-8",children:z.map(J=>a.jsx("button",{className:"px-2.5 py-1 text-xs rounded-full border bg-background hover:bg-primary/5 hover:border-primary/30 transition-colors",onClick:()=>Y(J),children:i(`chatbot.categories.${J}`)},J))}),f&&D&&K[D]&&a.jsxs("div",{className:"pl-8 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{className:"text-xs text-muted-foreground hover:text-primary",onClick:R,children:[" ",i("chatbot.backToTopics")]}),a.jsx("span",{className:"text-xs font-medium text-primary",children:i(`chatbot.categories.${D}`)})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:K[D].map(J=>a.jsx("button",{className:"px-2.5 py-1 text-xs rounded-full border bg-background hover:bg-primary/5 hover:border-primary/30 transition-colors",onClick:()=>M(J),children:i(`chatbot.topics.${J}`)},J))})]}),l.map(J=>a.jsx("div",{children:J.role==="user"?a.jsx("div",{className:"flex justify-end",children:a.jsx("div",{className:"bg-primary text-primary-foreground rounded-lg rounded-tr-none px-3 py-2 text-sm max-w-[85%]",children:J.content})}):a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/10 flex items-center justify-center shrink-0 mt-0.5",children:a.jsx($i,{className:"w-3 h-3 text-primary"})}),a.jsxs("div",{className:"max-w-[85%] space-y-1.5",children:[a.jsx("div",{className:"bg-muted rounded-lg rounded-tl-none px-3 py-2 text-sm whitespace-pre-wrap",children:J.content}),J.products&&J.products.length>0&&a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-xs text-muted-foreground px-1",children:i("chatbot.recommendProducts")}),J.products.map(ie=>a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-background",children:[ie.image_url&&a.jsx("img",{src:ie.image_url,alt:ie.name,className:"w-10 h-10 rounded object-cover"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium truncate",children:ie.name}),a.jsxs("p",{className:"text-xs text-primary font-semibold",children:["RM ",(ie.price/100).toFixed(2)]})]}),a.jsxs(C,{variant:"default",size:"sm",className:"h-6 text-[10px] px-2 shrink-0 gap-1",onClick:()=>{N({id:ie.id,name:ie.name,price:ie.price/100,originalPrice:ie.price/100,image:ie.image_url||""}),j(!0)},children:[a.jsx(kn,{className:"w-3 h-3"}),i("chatbot.orderNow")]})]},ie.id))]}),J.packages&&J.packages.length>0&&a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-xs text-muted-foreground px-1",children:i("chatbot.recommendPackages")}),J.packages.map(ie=>a.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg border bg-gradient-to-r from-primary/5 to-secondary/5",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(Tt,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium truncate",children:ie.name}),a.jsxs("p",{className:"text-xs text-primary font-semibold",children:["RM ",(ie.price/100).toFixed(0)]}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[ie.ly_points," LY"]})]}),a.jsxs(C,{variant:"default",size:"sm",className:"h-6 text-[10px] px-2 shrink-0 gap-1",onClick:()=>{t(),n(`/member/partner-join?tier=${ie.id}`)},children:[a.jsx(Tt,{className:"w-3 h-3"}),i("chatbot.joinNow")]})]},ie.id))]}),!J.feedback&&a.jsxs("div",{className:"flex gap-1 px-1",children:[a.jsx("button",{className:"p-1 rounded hover:bg-muted transition-colors",onClick:()=>A(J.id,"positive"),title:i("chatbot.feedback.helpful"),children:a.jsx(cD,{className:"w-3 h-3 text-muted-foreground"})}),a.jsx("button",{className:"p-1 rounded hover:bg-muted transition-colors",onClick:()=>A(J.id,"negative"),title:i("chatbot.feedback.notHelpful"),children:a.jsx(lD,{className:"w-3 h-3 text-muted-foreground"})})]}),J.feedback==="positive"&&a.jsxs("div",{className:"flex gap-1 px-1",children:[a.jsx(cD,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{className:"text-[10px] text-green-600",children:i("chatbot.feedback.helpful")})]}),J.feedback==="negative"&&a.jsxs("div",{className:"flex gap-1 px-1",children:[a.jsx(lD,{className:"w-3 h-3 text-red-500"}),a.jsx("span",{className:"text-[10px] text-red-600",children:i("chatbot.feedback.notHelpful")})]})]})]})},J.id)),m&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/10 flex items-center justify-center shrink-0 mt-0.5",children:a.jsx($i,{className:"w-3 h-3 text-primary"})}),a.jsxs("div",{className:"bg-muted rounded-lg rounded-tl-none px-3 py-2 text-sm text-muted-foreground",children:[a.jsx(fe,{className:"w-4 h-4 animate-spin inline mr-1"}),i("chatbot.thinking")]})]})]})}),a.jsx("div",{className:"p-3 border-t shrink-0",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Pt,{ref:P,value:d,onChange:J=>u(J.target.value),onKeyDown:E,placeholder:i("chatbot.placeholder"),className:"min-h-[36px] max-h-[80px] resize-none text-sm",rows:1,disabled:m}),a.jsx(C,{size:"icon",className:"h-9 w-9 shrink-0",onClick:()=>O(d),disabled:!d.trim()||m,children:a.jsx(Ro,{className:"w-4 h-4"})})]})})]}):a.jsxs("div",{className:"p-6 text-center space-y-4",children:[a.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:a.jsx($i,{className:"w-8 h-8 text-primary"})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i("chatbot.loginRequired")}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsxs(C,{size:"sm",onClick:()=>{t(),n("/auth/login")},children:[a.jsx(Mte,{className:"w-3.5 h-3.5 mr-1"}),i("chatbot.login")]}),a.jsxs(C,{variant:"outline",size:"sm",onClick:()=>{t(),n("/auth/login")},children:[a.jsx(Br,{className:"w-3.5 h-3.5 mr-1"}),i("chatbot.register")]})]})]}),a.jsx(rU,{open:b,onOpenChange:j,product:v})]}):null}function Joe({open:e,onClose:t}){const{user:n,member:r}=oa(),{toast:s}=Jt(),[i,o]=y.useState(null),l=(r==null?void 0:r.referralCode)||"",c=l?`${window.location.origin}/auth/login?ref=${l}`:"";if(!n||!r||!l||!e)return null;const d=async(m,h,p)=>{try{await navigator.clipboard.writeText(m),o(h),s({title:`${p}`}),setTimeout(()=>o(null),2e3)}catch{s({title:"",variant:"destructive"})}},u=()=>{const m=`LOVEYOUNG  -  ${l} 
${c}`;window.open(`https://wa.me/?text=${encodeURIComponent(m)}`,"_blank")};return a.jsxs("div",{className:"fixed bottom-20 right-4 z-[59] w-[calc(100%-2rem)] max-w-sm bg-card border rounded-xl shadow-xl animate-in slide-in-from-bottom-4 fade-in duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h3",{className:"font-semibold text-sm",children:""}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:t,children:a.jsx(eo,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xl font-mono font-bold text-primary tracking-wider flex-1",children:l}),a.jsxs(C,{variant:"outline",size:"sm",className:"shrink-0",onClick:()=>d(l,"code",""),children:[i==="code"?a.jsx(Le,{className:"w-3.5 h-3.5 mr-1 text-green-500"}):a.jsx(Oo,{className:"w-3.5 h-3.5 mr-1"}),""]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{value:c,readOnly:!0,className:"font-mono text-xs h-8"}),a.jsx(C,{variant:"outline",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>d(c,"link",""),children:i==="link"?a.jsx(Le,{className:"w-3.5 h-3.5 text-green-500"}):a.jsx(Oo,{className:"w-3.5 h-3.5"})})]})]}),a.jsxs("div",{className:"flex gap-2 pt-1",children:[a.jsxs(C,{size:"sm",className:"flex-1 bg-green-500 hover:bg-green-600 text-white",onClick:u,children:[a.jsx(gi,{className:"w-3.5 h-3.5 mr-1"}),"WhatsApp"]}),a.jsxs(C,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>d(c,"link",""),children:[a.jsx(Oo,{className:"w-3.5 h-3.5 mr-1"}),""]})]})]})]})}const Qoe="60178228658";function Xoe(){const{user:e,member:t}=oa(),{t:n}=ft(),[r,s]=y.useState(!1),[i,o]=y.useState(null),[l,c]=y.useState(null),d=y.useRef(null),u=(t==null?void 0:t.referralCode)||"",m=!!e&&!!t&&!!u;y.useEffect(()=>{const w=P=>{P.key==="Escape"&&(s(!1),o(null))};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[]);const h=`https://wa.me/${Qoe}`,p=()=>{if(i){o(null);return}s(!r)},g=w=>{if(w==="whatsapp"){window.open(h,"_blank"),s(!1);return}s(!1),o(w)},f=()=>{o(null)},x=w=>{const P=w.touches[0],k=d.current;if(!k)return;const _=k.querySelectorAll("[data-wheel-id]");let S=!1;_.forEach(O=>{const A=O.getBoundingClientRect();P.clientX>=A.left-8&&P.clientX<=A.right+8&&P.clientY>=A.top-8&&P.clientY<=A.bottom+8&&(c(O.dataset.wheelId||null),S=!0)}),S||c(null)},b=()=>{l&&g(l),c(null)},j=w=>{const P={transition:"all 300ms cubic-bezier(.4,0,.2,1)"};return l?l===w?{...P,transform:"scale(1.12)",opacity:1,filter:"none"}:{...P,transform:"scale(0.82)",filter:"blur(3px)",opacity:.35}:P},v=r||!!i,N=[{id:"chat",icon:fi,label:n("chatbot.title"),bg:"bg-gradient-to-r from-blue-500 to-indigo-500"},{id:"whatsapp",icon:Gr,label:n("chatbot.whatsappLabel"),bg:"bg-gradient-to-r from-green-500 to-green-600"},...m?[{id:"referral",icon:gi,label:n("chatbot.referralLabel"),bg:"bg-gradient-to-r from-emerald-500 to-green-500"}]:[]];return a.jsxs(a.Fragment,{children:[v&&a.jsx("div",{className:"fixed inset-0 z-[58] bg-black/15",onClick:()=>{s(!1),o(null)}}),a.jsx(Yoe,{open:i==="chat",onClose:f}),a.jsx(Joe,{open:i==="referral",onClose:f}),r&&!i&&a.jsx("div",{ref:d,className:"fixed right-3 z-[60] flex flex-row-reverse gap-2.5 items-center animate-in fade-in zoom-in-95 slide-in-from-bottom-3 duration-200",style:{bottom:"5.5rem"},onTouchMove:x,onTouchEnd:b,children:N.map(w=>a.jsxs("button",{"data-wheel-id":w.id,className:`flex items-center justify-center gap-2 px-3 py-3 sm:px-5 sm:py-3.5 rounded-2xl shadow-xl text-white font-semibold select-none touch-none active:scale-95 ${w.bg}`,style:j(w.id),onMouseEnter:()=>c(w.id),onMouseLeave:()=>c(null),onClick:()=>g(w.id),title:w.label,children:[a.jsx(w.icon,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"text-sm whitespace-nowrap hidden sm:inline",children:w.label})]},w.id))}),a.jsxs("div",{className:"fixed bottom-5 right-3 z-[60]",children:[!v&&a.jsx("span",{className:"absolute inset-0 rounded-full bg-primary/25 pointer-events-none",style:{animation:"ping 2.5s cubic-bezier(0, 0, 0.2, 1) infinite"}}),a.jsx("button",{onClick:p,className:`relative flex items-center justify-center h-14 w-14 rounded-full text-white shadow-[0_4px_20px_rgba(0,0,0,0.3)] transition-all duration-300 ${v?"bg-gray-700 hover:bg-gray-600 rotate-0":"bg-gradient-to-br from-primary via-primary to-primary/80 hover:shadow-[0_6px_28px_rgba(0,0,0,0.35)]"}`,children:v?a.jsx(eo,{className:"w-6 h-6 transition-transform duration-300"}):a.jsx(fi,{className:"w-6 h-6 transition-transform duration-300"})})]})]})}function Zoe(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(W,{className:"w-full max-w-md mx-4",children:a.jsxs(ae,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(Zi,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const ele=lx("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function te({className:e,variant:t,...n}){return a.jsx("div",{className:Be(ele({variant:t}),e),...n})}const S2="loveyoung_referral_code";function tle(e){try{localStorage.setItem(S2,e)}catch{}}function IP(){try{return localStorage.getItem(S2)}catch{return null}}function bv(){try{localStorage.removeItem(S2)}catch{}}function ale(){const[,e]=Or(),{toast:t}=Jt(),{t:n}=ft(),{sendOTP:r,verifyOTP:s,signInWithGoogle:i,user:o,member:l,role:c,loading:d,refreshUserData:u}=oa(),[m,h]=y.useState("email"),[p,g]=y.useState(!1),[f,x]=y.useState(""),[b,j]=y.useState(""),[v,N]=y.useState(!1),[w,P]=y.useState(""),[k,_]=y.useState(""),[S,O]=y.useState(""),[A,E]=y.useState(null),[D,B]=y.useState(null);y.useEffect(()=>{const le=new URLSearchParams(window.location.search).get("ref");if(le){const q=le.toUpperCase();tle(q),E(q),z(q)}else{const q=IP();q&&(E(q),z(q))}},[]);const z=async F=>{const{data:le,error:q}=await L.rpc("validate_referral_code",{code:F});!q&&(le!=null&&le.valid)&&B(le.referrer_name||"LOVEYOUNG ")};y.useEffect(()=>{o&&!d&&m!=="profile"&&(async()=>{const le=IP();if(le&&l&&!l.referrerId)try{const{data:q}=await L.rpc("validate_referral_code",{code:le});q!=null&&q.valid&&q.referrer_member_id&&q.referrer_member_id!==l.id?(await L.from("members").update({referrer_id:q.referrer_member_id}).eq("id",l.id),bv()):(q==null?void 0:q.referrer_member_id)===l.id&&bv()}catch(q){console.error("Error applying referral code:",q)}e(c==="admin"?"/admin":c==="partner"?"/member/partner":c==="member"||c==="user"?"/member":"/")})()},[o,l,c,d,m,e]);const K=async F=>{if(F.preventDefault(),!!f){g(!0);try{const{error:le}=await r(f);le?t({title:n("auth.sendOTPFailed"),description:le.message,variant:"destructive"}):(t({title:n("auth.otpSent"),description:n("auth.checkEmailForOTP")}),h("otp"))}catch(le){t({title:n("auth.sendOTPFailed"),description:le.message,variant:"destructive"})}finally{g(!1)}}},Y=async F=>{if(F.preventDefault(),!!b){g(!0);try{const{error:le}=await s(f,b);if(le)t({title:n("auth.verifyOTPFailed"),description:le.message,variant:"destructive"});else{const{data:{user:q}}=await L.auth.getUser();if(!q)return;const ve=la.getState();ve._setUser({id:q.id,email:q.email||"",user_metadata:q.user_metadata}),await ve.fetchUserData(q.id);const{member:ye}=la.getState();if(!ye)N(!0),h("profile");else{t({title:n("auth.loginSuccess")});const{role:H}=la.getState();e(H==="admin"?"/admin":H==="partner"?"/member/partner":"/member")}}}catch(le){t({title:n("auth.verifyOTPFailed"),description:le.message,variant:"destructive"})}finally{g(!1)}}},M=async F=>{if(F.preventDefault(),!w||!S){t({title:n("auth.fillRequired"),variant:"destructive"});return}g(!0);try{const{data:{user:le}}=await L.auth.getUser();if(!le)throw new Error("Not authenticated");const{data:q}=await L.from("users").select("role").eq("id",le.id).single(),ve=(q==null?void 0:q.role)==="admin"||(q==null?void 0:q.role)==="partner",{error:ye}=await L.from("users").update({first_name:w,last_name:k,phone:S,...ve?{}:{role:"user"}}).eq("id",le.id);if(ye)throw ye;const H=()=>{const $="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let Z="";for(let U=0;U<6;U++)Z+=$.charAt(Math.floor(Math.random()*$.length));return Z};let oe=null;if(A){const{data:$}=await L.rpc("validate_referral_code",{code:A});$!=null&&$.valid&&(oe=$.referrer_member_id)}const{error:G}=await L.from("members").insert({user_id:le.id,name:`${w} ${k}`.trim(),phone:S,email:le.email,role:"user",points_balance:0,referral_code:H(),referrer_id:oe,created_at:new Date().toISOString()});G&&!G.message.includes("duplicate")&&console.error("Error creating member:",G),oe&&(bv(),t({title:n("auth.referralApplied")||"",description:D?` ${D} `:void 0})),await u(),t({title:n("auth.profileSaved")}),e("/member")}catch(le){t({title:n("auth.profileSaveFailed"),description:le.message,variant:"destructive"})}finally{g(!1)}},R=async()=>{g(!0);try{const{error:F}=await i();F&&t({title:n("auth.loginFailed"),description:F.message,variant:"destructive"})}catch(F){t({title:n("auth.loginFailed"),description:F.message,variant:"destructive"})}finally{g(!1)}},J=()=>{m==="profile"?h("otp"):(h("email"),j(""))},ie=async()=>{g(!0);try{const{error:F}=await r(f);t(F?{title:n("auth.sendOTPFailed"),description:F.message,variant:"destructive"}:{title:n("auth.otpResent"),description:n("auth.checkEmailForOTP")})}catch(F){t({title:n("auth.sendOTPFailed"),description:F.message,variant:"destructive"})}finally{g(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-primary/5 to-background p-4",children:a.jsxs(W,{className:"w-full max-w-md",children:[a.jsxs($e,{className:"text-center",children:[a.jsx(Ie,{className:"text-2xl font-serif text-primary",children:"LOVEYOUNG"}),a.jsx(Ca,{children:n(m==="profile"?"auth.completeProfile":"auth.welcomeBack")})]}),a.jsxs(ae,{className:"space-y-4",children:[m==="email"&&a.jsxs(a.Fragment,{children:[A&&D&&a.jsxs("div",{className:"p-3 bg-secondary/10 border border-secondary/20 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(pr,{className:"w-4 h-4 text-secondary"}),a.jsx("span",{className:"text-muted-foreground",children:":"}),a.jsx(te,{variant:"secondary",className:"font-medium",children:D})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:""})]}),a.jsxs("form",{onSubmit:K,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"email",children:n("auth.email")}),a.jsx(ce,{id:"email",type:"email",placeholder:"email@example.com",value:f,onChange:F=>x(F.target.value),required:!0,"data-testid":"input-email"})]}),a.jsx(C,{type:"submit",className:"w-full gap-2",disabled:p||!f,"data-testid":"button-send-otp",children:p?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(ec,{className:"w-4 h-4"}),n("auth.sendOTP")]})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:n("auth.or")})})]}),a.jsxs(C,{variant:"outline",className:"w-full gap-2",onClick:R,disabled:p,"data-testid":"button-google-login",children:[a.jsx(Fse,{className:"w-4 h-4"}),n("auth.continueWithGoogle")]})]}),m==="otp"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-center space-y-2 mb-4",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n("auth.otpSentTo")," ",a.jsx("strong",{children:f})]})}),a.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"otp",children:n("auth.enterOTP")}),a.jsx(ce,{id:"otp",type:"text",placeholder:"123456",value:b,onChange:F=>j(F.target.value.replace(/\D/g,"").slice(0,6)),required:!0,maxLength:6,className:"text-center text-2xl tracking-widest","data-testid":"input-otp"})]}),a.jsx(C,{type:"submit",className:"w-full",disabled:p||b.length!==6,"data-testid":"button-verify-otp",children:p?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):n("auth.verifyOTP")})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(C,{variant:"ghost",className:"w-full",onClick:ie,disabled:p,"data-testid":"button-resend-otp",children:n("auth.resendOTP")}),a.jsxs(C,{variant:"ghost",className:"w-full gap-2",onClick:J,disabled:p,"data-testid":"button-back",children:[a.jsx(Zn,{className:"w-4 h-4"}),n("auth.changeEmail")]})]})]}),m==="profile"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center space-y-2 mb-4",children:[a.jsx(Mn,{className:"w-12 h-12 mx-auto text-primary"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n("auth.newUserWelcome")})]}),a.jsxs("form",{onSubmit:M,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ke,{htmlFor:"firstName",children:[n("auth.firstName")," *"]}),a.jsx(ce,{id:"firstName",value:w,onChange:F=>P(F.target.value),required:!0,"data-testid":"input-first-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"lastName",children:n("auth.lastName")}),a.jsx(ce,{id:"lastName",value:k,onChange:F=>_(F.target.value),"data-testid":"input-last-name"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ke,{htmlFor:"phone",children:[n("auth.phone")," *"]}),a.jsx(ce,{id:"phone",type:"tel",placeholder:"+60 12-345 6789",value:S,onChange:F=>O(F.target.value),required:!0,"data-testid":"input-phone"})]}),a.jsx(C,{type:"submit",className:"w-full",disabled:p||!w||!S,"data-testid":"button-save-profile",children:p?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):n("auth.saveAndContinue")})]})]})]})]})})}function nle(){const[,e]=Or(),{refreshUserData:t,role:n,member:r,loading:s}=oa(),i=y.useRef(!1);return y.useEffect(()=>{i.current||(i.current=!0,t().catch(()=>{}))},[]),y.useEffect(()=>{if(s)return;(async()=>{if(r&&!r.referrerId){const l=IP();if(l){try{const{data:c}=await L.rpc("validate_referral_code",{code:l});c!=null&&c.valid&&c.referrer_member_id&&await L.from("members").update({referrer_id:c.referrer_member_id}).eq("id",r.id)}catch{}bv()}}e(n==="admin"?"/admin":n==="partner"?"/member/partner":n==="member"||r?"/member":"/auth/login")})()},[s,n,r,e]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary mx-auto"}),a.jsx("p",{className:"text-muted-foreground",children:"..."})]})})}var qN="rovingFocusGroup.onEntryFocus",rle={bubbles:!1,cancelable:!0},Mw="RovingFocusGroup",[LP,sU,sle]=Ch(Mw),[ile,Fh]=pn(Mw,[sle]),[ole,lle]=ile(Mw),iU=y.forwardRef((e,t)=>a.jsx(LP.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(LP.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(cle,{...e,ref:t})})}));iU.displayName=Mw;var cle=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,h=y.useRef(null),p=jt(t,h),g=wc(i),[f=null,x]=Hr({prop:o,defaultProp:l,onChange:c}),[b,j]=y.useState(!1),v=Ka(d),N=sU(n),w=y.useRef(!1),[P,k]=y.useState(0);return y.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(qN,v),()=>_.removeEventListener(qN,v)},[v]),a.jsx(ole,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:f,onItemFocus:y.useCallback(_=>x(_),[x]),onItemShiftTab:y.useCallback(()=>j(!0),[]),onFocusableItemAdd:y.useCallback(()=>k(_=>_+1),[]),onFocusableItemRemove:y.useCallback(()=>k(_=>_-1),[]),children:a.jsx(nt.div,{tabIndex:b||P===0?-1:0,"data-orientation":r,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:Te(e.onMouseDown,()=>{w.current=!0}),onFocus:Te(e.onFocus,_=>{const S=!w.current;if(_.target===_.currentTarget&&S&&!b){const O=new CustomEvent(qN,rle);if(_.currentTarget.dispatchEvent(O),!O.defaultPrevented){const A=N().filter(K=>K.focusable),E=A.find(K=>K.active),D=A.find(K=>K.id===f),z=[E,D,...A].filter(Boolean).map(K=>K.ref.current);cU(z,u)}}w.current=!1}),onBlur:Te(e.onBlur,()=>j(!1))})})}),oU="RovingFocusGroupItem",lU=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=e,l=Us(),c=i||l,d=lle(oU,n),u=d.currentTabStopId===c,m=sU(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=d;return y.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),a.jsx(LP.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:a.jsx(nt.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Te(e.onMouseDown,g=>{r?d.onItemFocus(c):g.preventDefault()}),onFocus:Te(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Te(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const f=mle(g,d.orientation,d.dir);if(f!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=m().filter(j=>j.focusable).map(j=>j.ref.current);if(f==="last")b.reverse();else if(f==="prev"||f==="next"){f==="prev"&&b.reverse();const j=b.indexOf(g.currentTarget);b=d.loop?hle(b,j+1):b.slice(j+1)}setTimeout(()=>cU(b))}})})})});lU.displayName=oU;var dle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ule(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function mle(e,t,n){const r=ule(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return dle[r]}function cU(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function hle(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var C2=iU,A2=lU,$P=["Enter"," "],ple=["ArrowDown","PageUp","Home"],dU=["ArrowUp","PageDown","End"],fle=[...ple,...dU],gle={ltr:[...$P,"ArrowRight"],rtl:[...$P,"ArrowLeft"]},xle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nx="Menu",[Yf,yle,vle]=Ch(Nx),[Yd,uU]=pn(Nx,[vle,Dh,Fh]),Rw=Dh(),mU=Fh(),[ble,Jd]=Yd(Nx),[wle,kx]=Yd(Nx),hU=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=e,l=Rw(t),[c,d]=y.useState(null),u=y.useRef(!1),m=Ka(i),h=wc(s);return y.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(w6,{...l,children:a.jsx(ble,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:d,children:a.jsx(wle,{scope:t,onClose:y.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:o,children:r})})})};hU.displayName=Nx;var jle="MenuAnchor",T2=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Rw(n);return a.jsx(c2,{...s,...r,ref:t})});T2.displayName=jle;var E2="MenuPortal",[Nle,pU]=Yd(E2,{forceMount:void 0}),fU=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=Jd(E2,t);return a.jsx(Nle,{scope:t,forceMount:n,children:a.jsx(Kn,{present:n||i.open,children:a.jsx(ix,{asChild:!0,container:s,children:r})})})};fU.displayName=E2;var qs="MenuContent",[kle,O2]=Yd(qs),gU=y.forwardRef((e,t)=>{const n=pU(qs,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Jd(qs,e.__scopeMenu),o=kx(qs,e.__scopeMenu);return a.jsx(Yf.Provider,{scope:e.__scopeMenu,children:a.jsx(Kn,{present:r||i.open,children:a.jsx(Yf.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(Ple,{...s,ref:t}):a.jsx(_le,{...s,ref:t})})})})}),Ple=y.forwardRef((e,t)=>{const n=Jd(qs,e.__scopeMenu),r=y.useRef(null),s=jt(t,r);return y.useEffect(()=>{const i=r.current;if(i)return g2(i)},[]),a.jsx(D2,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Te(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_le=y.forwardRef((e,t)=>{const n=Jd(qs,e.__scopeMenu);return a.jsx(D2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Sle=Ed("MenuContent.ScrollLock"),D2=y.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...f}=e,x=Jd(qs,n),b=kx(qs,n),j=Rw(n),v=mU(n),N=yle(n),[w,P]=y.useState(null),k=y.useRef(null),_=jt(t,k,x.onContentChange),S=y.useRef(0),O=y.useRef(""),A=y.useRef(0),E=y.useRef(null),D=y.useRef("right"),B=y.useRef(0),z=g?_w:y.Fragment,K=g?{as:Sle,allowPinchZoom:!0}:void 0,Y=R=>{var H,oe;const J=O.current+R,ie=N().filter(G=>!G.disabled),F=document.activeElement,le=(H=ie.find(G=>G.ref.current===F))==null?void 0:H.textValue,q=ie.map(G=>G.textValue),ve=Fle(q,J,le),ye=(oe=ie.find(G=>G.textValue===ve))==null?void 0:oe.ref.current;(function G($){O.current=$,window.clearTimeout(S.current),$!==""&&(S.current=window.setTimeout(()=>G(""),1e3))})(J),ye&&setTimeout(()=>ye.focus())};y.useEffect(()=>()=>window.clearTimeout(S.current),[]),f2();const M=y.useCallback(R=>{var ie,F;return D.current===((ie=E.current)==null?void 0:ie.side)&&Ule(R,(F=E.current)==null?void 0:F.area)},[]);return a.jsx(kle,{scope:n,searchRef:O,onItemEnter:y.useCallback(R=>{M(R)&&R.preventDefault()},[M]),onItemLeave:y.useCallback(R=>{var J;M(R)||((J=k.current)==null||J.focus(),P(null))},[M]),onTriggerLeave:y.useCallback(R=>{M(R)&&R.preventDefault()},[M]),pointerGraceTimerRef:A,onPointerGraceIntentChange:y.useCallback(R=>{E.current=R},[]),children:a.jsx(z,{...K,children:a.jsx(kw,{asChild:!0,trapped:s,onMountAutoFocus:Te(i,R=>{var J;R.preventDefault(),(J=k.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Ah,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:p,children:a.jsx(C2,{asChild:!0,...v,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:P,onEntryFocus:Te(c,R=>{b.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(d2,{role:"menu","aria-orientation":"vertical","data-state":OU(x.open),"data-radix-menu-content":"",dir:b.dir,...j,...f,ref:_,style:{outline:"none",...f.style},onKeyDown:Te(f.onKeyDown,R=>{const ie=R.target.closest("[data-radix-menu-content]")===R.currentTarget,F=R.ctrlKey||R.altKey||R.metaKey,le=R.key.length===1;ie&&(R.key==="Tab"&&R.preventDefault(),!F&&le&&Y(R.key));const q=k.current;if(R.target!==q||!fle.includes(R.key))return;R.preventDefault();const ye=N().filter(H=>!H.disabled).map(H=>H.ref.current);dU.includes(R.key)&&ye.reverse(),Lle(ye)}),onBlur:Te(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(S.current),O.current="")}),onPointerMove:Te(e.onPointerMove,Jf(R=>{const J=R.target,ie=B.current!==R.clientX;if(R.currentTarget.contains(J)&&ie){const F=R.clientX>B.current?"right":"left";D.current=F,B.current=R.clientX}}))})})})})})})});gU.displayName=qs;var Cle="MenuGroup",M2=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(nt.div,{role:"group",...r,ref:t})});M2.displayName=Cle;var Ale="MenuLabel",xU=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(nt.div,{...r,ref:t})});xU.displayName=Ale;var fb="MenuItem",KD="menu.itemSelect",Iw=y.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=y.useRef(null),o=kx(fb,e.__scopeMenu),l=O2(fb,e.__scopeMenu),c=jt(t,i),d=y.useRef(!1),u=()=>{const m=i.current;if(!n&&m){const h=new CustomEvent(KD,{bubbles:!0,cancelable:!0});m.addEventListener(KD,p=>r==null?void 0:r(p),{once:!0}),HC(m,h),h.defaultPrevented?d.current=!1:o.onClose()}};return a.jsx(yU,{...s,ref:c,disabled:n,onClick:Te(e.onClick,u),onPointerDown:m=>{var h;(h=e.onPointerDown)==null||h.call(e,m),d.current=!0},onPointerUp:Te(e.onPointerUp,m=>{var h;d.current||(h=m.currentTarget)==null||h.click()}),onKeyDown:Te(e.onKeyDown,m=>{const h=l.searchRef.current!=="";n||h&&m.key===" "||$P.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Iw.displayName=fb;var yU=y.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,o=O2(fb,n),l=mU(n),c=y.useRef(null),d=jt(t,c),[u,m]=y.useState(!1),[h,p]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),a.jsx(Yf.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:a.jsx(A2,{asChild:!0,...l,focusable:!r,children:a.jsx(nt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:Te(e.onPointerMove,Jf(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Te(e.onPointerLeave,Jf(g=>o.onItemLeave(g))),onFocus:Te(e.onFocus,()=>m(!0)),onBlur:Te(e.onBlur,()=>m(!1))})})})}),Tle="MenuCheckboxItem",vU=y.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(kU,{scope:e.__scopeMenu,checked:n,children:a.jsx(Iw,{role:"menuitemcheckbox","aria-checked":gb(n)?"mixed":n,...s,ref:t,"data-state":I2(n),onSelect:Te(s.onSelect,()=>r==null?void 0:r(gb(n)?!0:!n),{checkForDefaultPrevented:!1})})})});vU.displayName=Tle;var bU="MenuRadioGroup",[Ele,Ole]=Yd(bU,{value:void 0,onValueChange:()=>{}}),wU=y.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=Ka(r);return a.jsx(Ele,{scope:e.__scopeMenu,value:n,onValueChange:i,children:a.jsx(M2,{...s,ref:t})})});wU.displayName=bU;var jU="MenuRadioItem",NU=y.forwardRef((e,t)=>{const{value:n,...r}=e,s=Ole(jU,e.__scopeMenu),i=n===s.value;return a.jsx(kU,{scope:e.__scopeMenu,checked:i,children:a.jsx(Iw,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":I2(i),onSelect:Te(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});NU.displayName=jU;var R2="MenuItemIndicator",[kU,Dle]=Yd(R2,{checked:!1}),PU=y.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=Dle(R2,n);return a.jsx(Kn,{present:r||gb(i.checked)||i.checked===!0,children:a.jsx(nt.span,{...s,ref:t,"data-state":I2(i.checked)})})});PU.displayName=R2;var Mle="MenuSeparator",_U=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(nt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});_U.displayName=Mle;var Rle="MenuArrow",SU=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Rw(n);return a.jsx(u2,{...s,...r,ref:t})});SU.displayName=Rle;var Ile="MenuSub",[$8e,CU]=Yd(Ile),Fp="MenuSubTrigger",AU=y.forwardRef((e,t)=>{const n=Jd(Fp,e.__scopeMenu),r=kx(Fp,e.__scopeMenu),s=CU(Fp,e.__scopeMenu),i=O2(Fp,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>u,[u]),y.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),a.jsx(T2,{asChild:!0,...d,children:a.jsx(yU,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":OU(n.open),...e,ref:uw(t,s.onTriggerChange),onClick:m=>{var h;(h=e.onClick)==null||h.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Te(e.onPointerMove,Jf(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Te(e.onPointerLeave,Jf(m=>{var p,g;u();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const f=(g=n.content)==null?void 0:g.dataset.side,x=f==="right",b=x?-5:5,j=h[x?"left":"right"],v=h[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+b,y:m.clientY},{x:j,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x:j,y:h.bottom}],side:f}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Te(e.onKeyDown,m=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&m.key===" "||gle[r.dir].includes(m.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),m.preventDefault())})})})});AU.displayName=Fp;var TU="MenuSubContent",EU=y.forwardRef((e,t)=>{const n=pU(qs,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Jd(qs,e.__scopeMenu),o=kx(qs,e.__scopeMenu),l=CU(TU,e.__scopeMenu),c=y.useRef(null),d=jt(t,c);return a.jsx(Yf.Provider,{scope:e.__scopeMenu,children:a.jsx(Kn,{present:r||i.open,children:a.jsx(Yf.Slot,{scope:e.__scopeMenu,children:a.jsx(D2,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Te(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Te(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Te(e.onKeyDown,u=>{var p;const m=u.currentTarget.contains(u.target),h=xle[o.dir].includes(u.key);m&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});EU.displayName=TU;function OU(e){return e?"open":"closed"}function gb(e){return e==="indeterminate"}function I2(e){return gb(e)?"indeterminate":e?"checked":"unchecked"}function Lle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function $le(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Fle(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=$le(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Ble(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(s=!s)}return s}function Ule(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Ble(n,t)}function Jf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var qle=hU,Vle=T2,Kle=fU,zle=gU,Wle=M2,Hle=xU,Gle=Iw,Yle=vU,Jle=wU,Qle=NU,Xle=PU,Zle=_U,ece=SU,tce=AU,ace=EU,L2="DropdownMenu",[nce,F8e]=pn(L2,[uU]),Dr=uU(),[rce,DU]=nce(L2),MU=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Dr(t),d=y.useRef(null),[u=!1,m]=Hr({prop:s,defaultProp:i,onChange:o});return a.jsx(rce,{scope:t,triggerId:Us(),triggerRef:d,contentId:Us(),open:u,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(h=>!h),[m]),modal:l,children:a.jsx(qle,{...c,open:u,onOpenChange:m,dir:r,modal:l,children:n})})};MU.displayName=L2;var RU="DropdownMenuTrigger",IU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=DU(RU,n),o=Dr(n);return a.jsx(Vle,{asChild:!0,...o,children:a.jsx(nt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:uw(t,i.triggerRef),onPointerDown:Te(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Te(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});IU.displayName=RU;var sce="DropdownMenuPortal",LU=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Dr(t);return a.jsx(Kle,{...r,...n})};LU.displayName=sce;var $U="DropdownMenuContent",FU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=DU($U,n),i=Dr(n),o=y.useRef(!1);return a.jsx(zle,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:Te(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Te(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!s.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FU.displayName=$U;var ice="DropdownMenuGroup",oce=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Dr(n);return a.jsx(Wle,{...s,...r,ref:t})});oce.displayName=ice;var lce="DropdownMenuLabel",BU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Dr(n);return a.jsx(Hle,{...s,...r,ref:t})});BU.displayName=lce;var cce="DropdownMenuItem",UU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Dr(n);return a.jsx(Gle,{...s,...r,ref:t})});UU.displayName=cce;var dce="DropdownMenuCheckboxItem",qU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Dr(n);return a.jsx(Yle,{...s,...r,ref:t})});qU.displayName=dce;var uce="DropdownMenuRadioGroup",mce=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Dr(n);return a.jsx(Jle,{...s,...r,ref:t})});mce.displayName=uce;var hce="DropdownMenuRadioItem",VU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Dr(n);return a.jsx(Qle,{...s,...r,ref:t})});VU.displayName=hce;var pce="DropdownMenuItemIndicator",KU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Dr(n);return a.jsx(Xle,{...s,...r,ref:t})});KU.displayName=pce;var fce="DropdownMenuSeparator",zU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Dr(n);return a.jsx(Zle,{...s,...r,ref:t})});zU.displayName=fce;var gce="DropdownMenuArrow",xce=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Dr(n);return a.jsx(ece,{...s,...r,ref:t})});xce.displayName=gce;var yce="DropdownMenuSubTrigger",WU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Dr(n);return a.jsx(tce,{...s,...r,ref:t})});WU.displayName=yce;var vce="DropdownMenuSubContent",HU=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Dr(n);return a.jsx(ace,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HU.displayName=vce;var bce=MU,wce=IU,jce=LU,GU=FU,YU=BU,JU=UU,QU=qU,XU=VU,ZU=KU,eq=zU,tq=WU,aq=HU;const xd=bce,yd=wce,Nce=y.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(tq,{ref:s,className:Be("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,a.jsx(un,{className:"ml-auto"})]}));Nce.displayName=tq.displayName;const kce=y.forwardRef(({className:e,...t},n)=>a.jsx(aq,{ref:n,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));kce.displayName=aq.displayName;const ac=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(jce,{children:a.jsx(GU,{ref:r,sideOffset:t,className:Be("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));ac.displayName=GU.displayName;const lr=y.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(JU,{ref:r,className:Be("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));lr.displayName=JU.displayName;const Pce=y.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(QU,{ref:s,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ZU,{children:a.jsx(qn,{className:"h-4 w-4"})})}),t]}));Pce.displayName=QU.displayName;const _ce=y.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(XU,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ZU,{children:a.jsx(IB,{className:"h-2 w-2 fill-current"})})}),t]}));_ce.displayName=XU.displayName;const Sce=y.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(YU,{ref:r,className:Be("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Sce.displayName=YU.displayName;const Cce=y.forwardRef(({className:e,...t},n)=>a.jsx(eq,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",e),...t}));Cce.displayName=eq.displayName;const Ace=[{value:"zh",label:"",flag:"CN"},{value:"en",label:"English",flag:"EN"},{value:"ms",label:"Bahasa Melayu",flag:"MY"}];function dc({testId:e="button-language-switcher"}){const{language:t,setLanguage:n}=ks();return a.jsxs(xd,{children:[a.jsx(yd,{asChild:!0,children:a.jsxs(C,{variant:"ghost",size:"sm",className:"gap-1.5 px-2","data-testid":e,children:[a.jsx(Ki,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-medium",children:yse[t]})]})}),a.jsx(ac,{align:"end",className:"min-w-[140px]",children:Ace.map(r=>a.jsxs(lr,{onClick:()=>n(r.value),className:t===r.value?"bg-accent":"","data-testid":`menu-language-${r.value}`,children:[a.jsx("span",{className:"mr-2 text-xs font-bold text-muted-foreground",children:r.flag}),r.label]},r.value))})]})}var $2="Avatar",[Tce,B8e]=pn($2),[Ece,nq]=Tce($2),rq=y.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=y.useState("idle");return a.jsx(Ece,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(nt.span,{...r,ref:t})})});rq.displayName=$2;var sq="AvatarImage",iq=y.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,o=nq(sq,n),l=Oce(r,i),c=Ka(d=>{s(d),o.onImageLoadingStatusChange(d)});return hn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(nt.img,{...i,ref:t,src:r}):null});iq.displayName=sq;var oq="AvatarFallback",lq=y.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=nq(oq,n),[o,l]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(nt.span,{...s,ref:t}):null});lq.displayName=oq;function zD(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Oce(e,{referrerPolicy:t,crossOrigin:n}){const r=Mce(),s=y.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,l]=y.useState(()=>zD(i,e));return hn(()=>{l(zD(i,e))},[i,e]),hn(()=>{const c=m=>()=>{l(m)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,t]),o}function Dce(){return()=>{}}function Mce(){return y.useSyncExternalStore(Dce,()=>!0,()=>!1)}var cq=rq,dq=iq,uq=lq;const Rd=y.forwardRef(({className:e,...t},n)=>a.jsx(cq,{ref:n,className:Be(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Rd.displayName=cq.displayName;const Lm=y.forwardRef(({className:e,...t},n)=>a.jsx(dq,{ref:n,className:Be("aspect-square h-full w-full",e),...t}));Lm.displayName=dq.displayName;const Id=y.forwardRef(({className:e,...t},n)=>a.jsx(uq,{ref:n,className:Be("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Id.displayName=uq.displayName;function Px({whatsappLink:e,metaShopLink:t}){const{t:n}=ks(),{user:r,isAuthenticated:s,isLoading:i,signOut:o}=wx(),[l,c]=y.useState(!1),[d,u]=y.useState(!1),m=()=>{window.location.href="/auth/login"},h=async()=>{try{o&&await o()}catch(x){console.error("Logout error:",x)}window.location.href="/"},p=()=>r?r.firstName&&r.lastName?`${r.firstName[0]}${r.lastName[0]}`.toUpperCase():r.firstName?r.firstName[0].toUpperCase():r.email?r.email[0].toUpperCase():"U":"U",g=[{href:"/brand",label:n("nav.brand"),isRoute:!0},{href:"/products",label:n("nav.products"),isRoute:!0},{href:"/partner",label:n("nav.partner"),isRoute:!0}];y.useEffect(()=>{const x=()=>{c(window.scrollY>20)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const f=x=>{const b=document.querySelector(x);b&&b.scrollIntoView({behavior:"smooth"}),u(!1)};return a.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${l?"bg-background/95 backdrop-blur-md shadow-sm border-b border-border header-scrolled":"bg-transparent"}`,"data-testid":"header",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20 gap-4",children:[a.jsx("a",{href:"/",className:"brand-logo-container","data-testid":"link-logo",children:a.jsxs("div",{className:"brand-logo-text",children:[a.jsx("span",{className:"brand-logo-english",children:"LOVEYOUNG"}),a.jsx("span",{className:"brand-logo-chinese",children:"  "})]})}),a.jsx("nav",{className:"hidden lg:flex items-center gap-4 xl:gap-6",children:g.map(x=>x.isRoute?a.jsx(sn,{href:x.href,className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors whitespace-nowrap","data-testid":`link-nav-${x.href.replace("/","")}`,children:x.label},x.href):a.jsx("button",{onClick:()=>f(x.href),className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors whitespace-nowrap","data-testid":`link-nav-${x.href.replace("#","")}`,children:x.label},x.href))}),a.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[a.jsx(dc,{}),a.jsxs(C,{variant:"outline",size:"default",className:"gap-2",onClick:()=>window.open(e,"_blank"),"data-testid":"button-header-whatsapp",children:[a.jsx(Gr,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden lg:inline",children:n("header.whatsapp")})]}),s?a.jsxs(xd,{children:[a.jsx(yd,{asChild:!0,children:a.jsx(C,{variant:"ghost",size:"icon","data-testid":"button-user-menu",children:a.jsxs(Rd,{className:"h-8 w-8",children:[a.jsx(Lm,{src:(r==null?void 0:r.profileImageUrl)||void 0}),a.jsx(Id,{className:"text-xs",children:p()})]})})}),a.jsxs(ac,{align:"end",children:[a.jsx(lr,{asChild:!0,children:a.jsxs(sn,{href:"/member","data-testid":"link-member-center",children:[a.jsx(Mn,{className:"w-4 h-4 mr-2"}),n("header.account")]})}),a.jsxs(lr,{onClick:h,"data-testid":"button-logout",children:[a.jsx(Vf,{className:"w-4 h-4 mr-2"}),n("member.logout")]})]})]}):i?null:a.jsxs(C,{variant:"ghost",size:"default",className:"gap-2",onClick:m,"data-testid":"button-header-login",children:[a.jsx(Mn,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden lg:inline",children:n("header.login")})]})]}),a.jsxs(il,{open:d,onOpenChange:u,children:[a.jsx(Cw,{asChild:!0,className:"md:hidden",children:a.jsx(C,{variant:"ghost",size:"icon",className:l?"text-foreground":"text-primary bg-white/90 shadow-md hover:bg-white border border-primary/20","data-testid":"button-mobile-menu",children:a.jsx(xw,{className:"w-5 h-5"})})}),a.jsx(lo,{side:"right",className:"w-72 p-6",children:a.jsxs("div",{className:"flex flex-col gap-6 mt-8",children:[a.jsxs("div",{className:"mobile-brand-logo",children:[a.jsx("span",{className:"mobile-brand-english",children:"LOVEYOUNG"}),a.jsx("span",{className:"mobile-brand-chinese",children:""}),a.jsx("span",{className:"mobile-brand-tagline",children:"Premium Bird's Nest"})]}),a.jsx("nav",{className:"flex flex-col gap-4",children:g.map(x=>x.isRoute?a.jsx(sn,{href:x.href,className:"text-left text-base font-medium text-muted-foreground hover:text-foreground transition-colors py-2","data-testid":`link-mobile-${x.href.replace("/","")}`,onClick:()=>u(!1),children:x.label},x.href):a.jsx("button",{onClick:()=>f(x.href),className:"text-left text-base font-medium text-muted-foreground hover:text-foreground transition-colors py-2","data-testid":`link-mobile-${x.href.replace("#","")}`,children:x.label},x.href))}),a.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t border-border",children:[a.jsx("div",{className:"flex justify-center pb-2",children:a.jsx(dc,{})}),a.jsxs(C,{variant:"outline",className:"w-full gap-2 justify-center",onClick:()=>window.open(e,"_blank"),"data-testid":"button-mobile-whatsapp",children:[a.jsx(Gr,{className:"w-4 h-4"}),n("header.whatsapp")]}),s?a.jsxs(a.Fragment,{children:[a.jsx(sn,{href:"/member",onClick:()=>u(!1),children:a.jsxs(C,{variant:"outline",className:"w-full gap-2 justify-center","data-testid":"button-mobile-member",children:[a.jsx(Mn,{className:"w-4 h-4"}),n("header.account")]})}),a.jsxs(C,{variant:"ghost",className:"w-full gap-2 justify-center",onClick:h,"data-testid":"button-mobile-logout",children:[a.jsx(Vf,{className:"w-4 h-4"}),n("member.logout")]})]}):i?null:a.jsxs(C,{variant:"outline",className:"w-full gap-2 justify-center",onClick:m,"data-testid":"button-mobile-login",children:[a.jsx(Mn,{className:"w-4 h-4"}),n("header.login")]})]})]})})]})]})})})}function _x({whatsappLink:e,metaShopLink:t}){const{t:n}=ks(),r=new Date().getFullYear();return a.jsx("footer",{className:"bg-primary text-primary-foreground","data-testid":"footer",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-12 md:py-16",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-serif text-2xl font-bold text-secondary",children:"LOVE YOUNG"}),a.jsx("span",{className:"text-xs border-l border-primary-foreground/30 pl-2 opacity-70",children:n("footer.brandName")})]}),a.jsx("p",{className:"mt-4 opacity-70 max-w-md leading-relaxed","data-testid":"text-footer-description",children:n("footer.description")}),a.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[a.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 flex items-center justify-center rounded-full bg-primary-foreground/10 hover-elevate","aria-label":"WhatsApp","data-testid":"link-footer-whatsapp",children:a.jsx(Gr,{className:"w-5 h-5"})}),a.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 flex items-center justify-center rounded-full bg-primary-foreground/10 hover-elevate","aria-label":"Facebook","data-testid":"link-footer-facebook",children:a.jsx($se,{className:"w-5 h-5"})}),a.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 flex items-center justify-center rounded-full bg-primary-foreground/10 hover-elevate","aria-label":"Instagram","data-testid":"link-footer-instagram",children:a.jsx(Bse,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-secondary mb-4","data-testid":"text-footer-links-title",children:n("footer.quickLinks")}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsx(sn,{href:"/brand",className:"opacity-70 hover-elevate inline-block","data-testid":"link-footer-brand",children:n("nav.brand")})}),a.jsx("li",{children:a.jsx(sn,{href:"/products",className:"opacity-70 hover-elevate inline-block","data-testid":"link-footer-products",children:n("nav.products")})}),a.jsx("li",{children:a.jsx(sn,{href:"/partner",className:"opacity-70 hover-elevate inline-block","data-testid":"link-footer-rwa",children:n("nav.partner")})}),a.jsx("li",{children:a.jsx(sn,{href:"/member",className:"opacity-70 hover-elevate inline-block","data-testid":"link-footer-member",children:n("nav.member")})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-secondary mb-4","data-testid":"text-footer-contact-title",children:n("footer.contactUs")}),a.jsxs("ul",{className:"space-y-3 opacity-70",children:[a.jsxs("li",{className:"flex items-start gap-2","data-testid":"text-footer-hours",children:[a.jsxs("span",{className:"font-medium opacity-100",children:[n("footer.businessHours"),":"]}),a.jsx("span",{children:n("footer.hoursValue")})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-medium opacity-100",children:"WhatsApp:"}),a.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"hover-elevate inline-block","data-testid":"link-footer-whatsapp-number",children:n("footer.clickToChat")})]}),a.jsx("li",{className:"text-sm",children:a.jsx("span",{className:"text-xs bg-secondary/20 text-secondary px-2 py-1 rounded","data-testid":"text-footer-response-time",children:n("footer.responseTime")})})]})]})]}),a.jsxs("div",{className:"mt-12 pt-8 border-t border-primary-foreground/10 flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("p",{className:"text-sm opacity-60","data-testid":"text-footer-copyright",children:[" ",r," Love Young. ",n("footer.allRightsReserved")]}),a.jsx("p",{className:"text-sm opacity-60","data-testid":"text-footer-slogan",children:n("footer.slogan")})]})]})})}var F2="Tabs",[Rce,U8e]=pn(F2,[Fh]),mq=Fh(),[Ice,B2]=Rce(F2),hq=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=wc(l),[m,h]=Hr({prop:r,onChange:s,defaultProp:i});return a.jsx(Ice,{scope:n,baseId:Us(),value:m,onValueChange:h,orientation:o,dir:u,activationMode:c,children:a.jsx(nt.div,{dir:u,"data-orientation":o,...d,ref:t})})});hq.displayName=F2;var pq="TabsList",fq=y.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=B2(pq,n),o=mq(n);return a.jsx(C2,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(nt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});fq.displayName=pq;var gq="TabsTrigger",xq=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=B2(gq,n),l=mq(n),c=bq(o.baseId,r),d=wq(o.baseId,r),u=r===o.value;return a.jsx(A2,{asChild:!0,...l,focusable:!s,active:u,children:a.jsx(nt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Te(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:Te(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:Te(e.onFocus,()=>{const m=o.activationMode!=="manual";!u&&!s&&m&&o.onValueChange(r)})})})});xq.displayName=gq;var yq="TabsContent",vq=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,l=B2(yq,n),c=bq(l.baseId,r),d=wq(l.baseId,r),u=r===l.value,m=y.useRef(u);return y.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Kn,{present:s||u,children:({present:h})=>a.jsx(nt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});vq.displayName=yq;function bq(e,t){return`${e}-trigger-${t}`}function wq(e,t){return`${e}-content-${t}`}var Lce=hq,jq=fq,Nq=xq,kq=vq;const ba=Lce,fa=y.forwardRef(({className:e,...t},n)=>a.jsx(jq,{ref:n,className:Be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));fa.displayName=jq.displayName;const Ee=y.forwardRef(({className:e,...t},n)=>a.jsx(Nq,{ref:n,className:Be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ee.displayName=Nq.displayName;const At=y.forwardRef(({className:e,...t},n)=>a.jsx(kq,{ref:n,className:Be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));At.displayName=kq.displayName;const $ce=[{key:"original",nameCn:"",nameEn:"Original Bird Nest",descCn:"",descEn:"Classic original flavor, pure bird nest taste"},{key:"redDate",nameCn:"",nameEn:"Red Date Bird Nest",descCn:"",descEn:"Red date nourishes blood, warming and replenishing"},{key:"snowPear",nameCn:"",nameEn:"Snow Pear Bird Nest",descCn:"",descEn:"Snow pear moistens lungs, refreshing and sweet"},{key:"peachGum",nameCn:"",nameEn:"Peach Gum Bird Nest",descCn:"",descEn:"Peach gum for beauty, rich in collagen"},{key:"coconut",nameCn:"",nameEn:"Coconut Bird Nest",descCn:"",descEn:"Aromatic coconut, tropical flavor"},{key:"mango",nameCn:"",nameEn:"Mango Bird Nest",descCn:"",descEn:"Sweet mango, tropical fresh fruit"},{key:"cocoaOat",nameCn:"",nameEn:"Cocoa Oat Bird Nest",descCn:"",descEn:"Cocoa oat, rich and silky"},{key:"matchaOat",nameCn:"",nameEn:"Matcha Oat Bird Nest",descCn:"",descEn:"Matcha fragrance, healthy and nourishing"},{key:"purpleRiceOat",nameCn:"",nameEn:"Purple Rice Oat Bird Nest",descCn:"",descEn:"Purple rice nutrition, grain health"},{key:"peachGumLongan",nameCn:"",nameEn:"Peach Gum Longan Bird Nest",descCn:"",descEn:"Peach gum longan, beauty and calming"},{key:"dateGoji",nameCn:"",nameEn:"Date Goji Bird Nest",descCn:"",descEn:"Red date goji, blood nourishing and eye brightening"},{key:"papaya",nameCn:"",nameEn:"Papaya Bird Nest",descCn:"",descEn:"Papaya for beauty and skincare"}],Fce=[{key:"pregnant",icon:fte,titleKey:"target.pregnant",descKey:"target.pregnantDesc",flavorsKey:"target.pregnantFlavors"},{key:"children",icon:Tt,titleKey:"target.children",descKey:"target.childrenDesc",flavorsKey:"target.childrenFlavors"},{key:"beauty",icon:Lr,titleKey:"target.beauty",descKey:"target.beautyDesc",flavorsKey:"target.beautyFlavors"},{key:"health",icon:gw,titleKey:"target.health",descKey:"target.healthDesc",flavorsKey:"target.healthFlavors"}];function Bce({open:e,onOpenChange:t}){const{t:n}=ks();return a.jsx(il,{open:e,onOpenChange:t,children:a.jsxs(lo,{side:"bottom",className:"h-[85vh] rounded-t-3xl overflow-hidden","data-testid":"modal-flavor",children:[a.jsx(Rh,{className:"pb-4",children:a.jsx(Ih,{className:"text-xl font-bold","data-testid":"text-modal-title",children:n("flavors.modalTitle")})}),a.jsxs(ba,{defaultValue:"flavors",className:"h-full",children:[a.jsxs(fa,{className:"grid w-full grid-cols-2 mb-4",children:[a.jsx(Ee,{value:"flavors","data-testid":"tab-flavors",children:n("flavors.modalTitle")}),a.jsx(Ee,{value:"recommendations","data-testid":"tab-recommendations",children:n("flavors.recommended")})]}),a.jsx(At,{value:"flavors",className:"overflow-y-auto max-h-[calc(85vh-140px)] pb-8",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:$ce.map((r,s)=>a.jsx(W,{className:"p-4 hover-elevate","data-testid":`card-flavor-${r.key}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-amber-400/20 to-orange-500/10 flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-lg font-bold text-amber-600 dark:text-amber-400",children:s+1})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-1","data-testid":`text-flavor-name-${r.key}`,children:r.nameCn}),a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:r.nameEn}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed","data-testid":`text-flavor-desc-${r.key}`,children:r.descCn})]})]})},r.key))})}),a.jsxs(At,{value:"recommendations",className:"overflow-y-auto max-h-[calc(85vh-140px)] pb-8",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-semibold text-foreground mb-1",children:n("flavors.targetAudience")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n("flavors.recommended")})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:Fce.map(r=>{const s=r.icon;return a.jsx(W,{className:"p-4 hover-elevate","data-testid":`card-target-${r.key}`,children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-400/20 to-teal-500/10 flex items-center justify-center flex-shrink-0",children:a.jsx(s,{className:"w-6 h-6 text-emerald-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-1","data-testid":`text-target-name-${r.key}`,children:n(r.titleKey)}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2","data-testid":`text-target-desc-${r.key}`,children:n(r.descKey)}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n(r.flavorsKey).split("").map((i,o)=>a.jsx(te,{variant:"secondary",className:"text-xs","data-testid":`badge-target-flavor-${r.key}-${o}`,children:i.trim()},o))})]})]})},r.key)})})]})]})]})})}const U2={original:"BN-ORIG-75",redDate:"BN-RDAT-75",snowPear:"BN-SPEA-75",peachGum:"BN-PGUM-75",coconut:"BN-COCO-75",mango:"BN-MANG-75",cocoaOat:"BN-COAT-75",matchaOat:"BN-MOAT-75",purpleRiceOat:"BN-POAT-75",peachGumLongan:"BN-PGLN-75",dateGoji:"BN-DGOJ-75",papaya:"BN-PAPY-75"};async function Uce(e,t){const n=[];for(const r of t){const s=U2[r.flavor];if(!s)continue;const{data:i,error:o}=await L.from("inventory").select("id, quantity").eq("sku",s).single();if(o||!i){console.warn(`Inventory not found for SKU: ${s}`);continue}const l=Math.max(0,(i.quantity||0)-r.quantity),{error:c}=await L.from("inventory").update({quantity:l,updated_at:new Date().toISOString()}).eq("id",i.id);if(c)return console.error("Error updating inventory:",c),{success:!1,error:new Error(c.message)};n.push({inventory_id:i.id,order_id:e,quantity_change:-r.quantity,type:"sale",notes:`Order deduction for ${r.flavor}`,created_at:new Date().toISOString()})}if(n.length>0){const{error:r}=await L.from("inventory_ledger").insert(n);r&&console.warn("Could not insert inventory ledger entries:",r.message)}return{success:!0,error:null}}async function WD(e,t){for(const n of t){const r=U2[n.flavor];if(!r)continue;const{data:s,error:i}=await L.from("inventory").select("id, quantity").eq("sku",r).single();if(i||!s)continue;const o=(s.quantity||0)+n.quantity,{error:l}=await L.from("inventory").update({quantity:o,updated_at:new Date().toISOString()}).eq("id",s.id);if(l)return console.error("Error restoring inventory:",l),{success:!1,error:new Error(l.message)}}return{success:!0,error:null}}function Pq(e){return e.map(t=>({...t,sku:U2[t.flavor]||""}))}const qce=[{key:"original",nameCn:"",nameEn:"Original"},{key:"redDate",nameCn:"",nameEn:"Red Date"},{key:"snowPear",nameCn:"",nameEn:"Snow Pear"},{key:"peachGum",nameCn:"",nameEn:"Peach Gum"},{key:"coconut",nameCn:"",nameEn:"Coconut"},{key:"mango",nameCn:"",nameEn:"Mango"},{key:"cocoaOat",nameCn:"",nameEn:"Cocoa Oat"},{key:"matchaOat",nameCn:"",nameEn:"Matcha Oat"},{key:"purpleRiceOat",nameCn:"",nameEn:"Purple Rice Oat"},{key:"peachGumLongan",nameCn:"",nameEn:"Peach Gum Longan"},{key:"dateGoji",nameCn:"",nameEn:"Date Goji"},{key:"papaya",nameCn:"",nameEn:"Papaya"}],$n={key:"fortuneBox2026",nameCn:"2026",nameEn:"2026 Fortune Gift Box",jars:6,originalPrice:488,memberPrice:368},Vce=["johor","kedah","kelantan","melaka","negeriSembilan","pahang","penang","perak","perlis","sabah","sarawak","selangor","terengganu","kualaLumpur","labuan","putrajaya"];function Kce({open:e,onOpenChange:t}){const{t:n,language:r}=ks(),{user:s,isAuthenticated:i}=wx(),[o,l]=y.useState("flavors"),[c,d]=y.useState([]),u=i,[m,h]=y.useState(""),[p,g]=y.useState(""),[f,x]=y.useState(!1),[b,j]=y.useState(null),[v,N]=y.useState(!1),[w,P]=y.useState(null),[k,_]=y.useState(!1),[S,O]=y.useState({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),{data:A}=Ae({queryKey:["member-profile",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return null;const{data:Z,error:U}=await L.from("members").select("*").eq("user_id",s.id).single();return U?null:Z},enabled:i&&!!(s!=null&&s.id)}),{data:E=[]}=Ae({queryKey:["member-addresses",A==null?void 0:A.id],queryFn:async()=>{if(!(A!=null&&A.id))return[];const{data:Z,error:U}=await L.from("member_addresses").select("*").eq("member_id",A.id);return U?[]:(Z||[]).map(pe=>({id:pe.id,memberId:pe.member_id,label:pe.label||null,recipientName:pe.recipient_name||"",phone:pe.phone||"",addressLine1:pe.address_line_1||"",addressLine2:pe.address_line_2||null,city:pe.city||"",state:pe.state||"",postcode:pe.postcode||"",isDefault:pe.is_default||!1,createdAt:pe.created_at||null}))},enabled:i&&!!A}),D=u?$n.memberPrice:$n.originalPrice,B=c.reduce((Z,U)=>Z+U.quantity,0),z=$n.jars,K=z-B,Y=Ce({mutationFn:async()=>{console.info("[checkout] Creating order...",{userId:s==null?void 0:s.id,price:D});const Z=Pq(c.map(se=>({flavor:se.key,flavorName:r==="zh"?se.nameCn:se.nameEn,quantity:se.quantity,category:"bird-nest"}))),U=JSON.stringify(Z),{order:pe,error:ke}=await Im({userId:(s==null?void 0:s.id)||null,memberId:(A==null?void 0:A.id)||null,customerName:S.customerName,customerPhone:S.phone,customerEmail:(s==null?void 0:s.email)||null,status:"pending_payment",totalAmount:D*100,items:U,packageType:$n.key,shippingAddress:S.address,shippingCity:S.city,shippingState:S.state,shippingPostcode:S.postcode,preferredDeliveryDate:S.deliveryDate||null,trackingNumber:null,notes:u?"Member discount applied":null,source:"website",erpnextId:null,metaOrderId:null,pointsEarned:null,pointsRedeemed:null});if(ke||!pe)throw console.error("[checkout] createOrder failed:",ke),ke||new Error("Failed to create order");return console.info("[checkout] Order created:",{id:pe.id,orderNumber:pe.orderNumber}),pe},onError:Z=>{console.error("[checkout] Order mutation error:",Z),P(Z instanceof Error?Z.message:"Failed to create order")},onSuccess:async Z=>{if(h(Z.orderNumber),g(Z.id),l("payment"),i&&(s!=null&&s.id)&&!b)try{const{member:U}=await jx(s.id,{name:S.customerName,phone:S.phone,email:s.email});if(U){const{address:pe}=await Ow(U.id,{recipientName:S.customerName,phone:S.phone,addressLine1:S.address,city:S.city,state:S.state,postcode:S.postcode,isDefault:E.length===0});pe&&j(pe.id),await L.from("orders").update({member_id:U.id}).eq("id",Z.id),on.invalidateQueries({queryKey:["member-addresses"]}),on.invalidateQueries({queryKey:["member-profile"]})}}catch(U){console.error("Error saving address at order creation:",U)}}}),M=(Z,U)=>{d(pe=>{const ke=pe.find(se=>se.key===Z.key);if(ke){const se=Math.max(0,ke.quantity+U);return se===0?pe.filter(I=>I.key!==Z.key):pe.map(I=>I.key===Z.key?{...I,quantity:se}:I)}else if(U>0)return[...pe,{key:Z.key,nameCn:Z.nameCn,nameEn:Z.nameEn,quantity:1}];return pe})},R=Z=>{var U;return((U=c.find(pe=>pe.key===Z))==null?void 0:U.quantity)||0},J=(Z,U)=>{O(pe=>({...pe,[Z]:U}))},ie=()=>S.customerName.trim()!==""&&S.phone.trim()!==""&&S.address.trim()!==""&&S.city.trim()!==""&&S.state!==""&&S.postcode.trim()!=="",F=async()=>{Y.mutate()},le=async()=>{if(console.info("[checkout] handleStripePayment called",{orderId:p,orderNumber:m}),!p||!m){console.error("[checkout] Missing orderId or orderNumber, aborting payment"),P("Order not found. Please try again.");return}_(!0),P(null);try{console.info("[checkout] Calling create-checkout edge function...");const U=await fetch("https://vpzmhglfwomgrashheol.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ho}`,apikey:Ho},body:JSON.stringify({orderId:p,orderNumber:m,amount:D*100,customerEmail:(s==null?void 0:s.email)||null,customerName:S.customerName,productName:`${$n.nameCn} ${$n.nameEn}`,successUrl:`${window.location.origin}/checkout/success?order=${m}`,cancelUrl:`${window.location.origin}/?payment=cancelled`})}),pe=await U.json();if(console.info("[checkout] Edge function response:",{status:U.status,data:pe}),!U.ok)throw new Error((pe==null?void 0:pe.error)||`Edge function returned ${U.status}`);if(!(pe!=null&&pe.url))throw console.error("Stripe edge function returned no URL:",pe),new Error((pe==null?void 0:pe.error)||"No checkout URL returned from payment service");Dw({orderId:p,orderNumber:m,deliveryInfo:S,selections:c.map(ke=>({key:ke.key,quantity:ke.quantity})),currentPrice:D,saveNewAddress:v,selectedAddressId:b,referrerId:null}),window.location.href=pe.url}catch(Z){console.error("Payment error:",Z),P(Z instanceof Error?Z.message:"Payment failed. Please try again.")}finally{_(!1)}},q=()=>{l("flavors"),d([]),O({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),h(""),g(""),x(!1),j(null),N(!1),P(null)},ve=Z=>{j(Z.id),O({customerName:Z.recipientName,phone:Z.phone,address:Z.addressLine1+(Z.addressLine2?`, ${Z.addressLine2}`:""),city:Z.city,state:Z.state,postcode:Z.postcode,deliveryDate:S.deliveryDate})},ye=()=>{window.location.href="/auth/login"},H=i&&A&&E.length>0&&!f,oe=Z=>{Z||q(),t(Z)},G=()=>{switch(o){case"flavors":return r==="zh"?"":"Select Flavors";case"delivery":return n("order.deliveryInfo");case"confirm":return n("order.confirmOrder");case"payment":return n("order.payment")||"Payment";case"success":return n("order.orderConfirmed")}},$=()=>{switch(o){case"flavors":return a.jsxs("span",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[a.jsx("span",{children:r==="zh"?`${$n.nameCn} - 6`:`${$n.nameEn} - Choose 6 flavors (can repeat)`}),a.jsxs(te,{variant:"secondary","data-testid":"badge-remaining-jars",children:[n("order.remaining"),": ",K,"/",z]})]});case"delivery":return n("order.deliveryInfoDesc");case"confirm":return n("order.confirmOrderDesc");case"payment":return n("order.paymentDesc")||"Complete your payment to confirm the order";case"success":return n("order.orderConfirmedDesc")}};return a.jsx(il,{open:e,onOpenChange:oe,children:a.jsxs(lo,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-hidden","data-testid":"modal-order",children:[a.jsxs(Rh,{className:"pb-4",children:[a.jsx(Ih,{className:"text-xl font-bold","data-testid":"text-order-modal-title",children:G()}),a.jsx(yx,{className:"text-muted-foreground",children:$()})]}),a.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)] pb-8",children:[o==="flavors"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(W,{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/20 dark:to-orange-950/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-foreground",children:r==="zh"?$n.nameCn:$n.nameEn}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r==="zh"?"612":"6 bottles, choose from 12 flavors"})]}),a.jsx("div",{className:"text-right",children:u?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground line-through",children:["RM ",$n.originalPrice]}),a.jsxs("p",{className:"text-xl font-bold text-primary",children:["RM ",$n.memberPrice]}),a.jsx(te,{variant:"default",className:"text-xs",children:r==="zh"?"":"Member Price"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xl font-bold text-foreground",children:["RM ",$n.originalPrice]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r==="zh"?" RM368":"Login for member price RM368"})]})})]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:qce.map(Z=>{const U=R(Z.key);return a.jsx(W,{className:"p-4","data-testid":`card-order-flavor-${Z.key}`,children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("h4",{className:"font-medium text-foreground",children:r==="zh"?Z.nameCn:Z.nameEn})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(C,{size:"icon",variant:"outline",onClick:()=>M(Z,-1),disabled:U===0,"data-testid":`button-minus-${Z.key}`,children:a.jsx(Rte,{className:"w-4 h-4"})}),a.jsx("span",{className:"w-8 text-center font-semibold","data-testid":`text-qty-${Z.key}`,children:U}),a.jsx(C,{size:"icon",variant:"outline",onClick:()=>M(Z,1),disabled:K===0,"data-testid":`button-plus-${Z.key}`,children:a.jsx(zt,{className:"w-4 h-4"})})]})]})},Z.key)})})]}),o==="delivery"&&a.jsxs("div",{className:"space-y-4",children:[!i&&!f&&a.jsx(W,{className:"p-5",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(Mn,{className:"w-6 h-6 text-primary"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground mb-1",children:n("order.loginForSavedAddress")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n("order.loginBenefit")})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs(C,{onClick:ye,"data-testid":"button-login-checkout",children:[a.jsx(Mn,{className:"w-4 h-4 mr-2"}),n("order.loginOrRegister")]}),a.jsx(C,{variant:"outline",onClick:()=>x(!0),"data-testid":"button-guest-checkout",children:n("order.continueAsGuest")})]})]})}),H&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ke,{children:n("order.selectSavedAddress")}),E.map(Z=>a.jsx(W,{className:`p-4 cursor-pointer transition-all hover-elevate ${b===Z.id?"ring-2 ring-primary":""}`,onClick:()=>ve(Z),"data-testid":`card-saved-address-${Z.id}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(sl,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-foreground",children:Z.recipientName}),a.jsx("p",{className:"text-muted-foreground",children:Z.phone}),a.jsxs("p",{className:"text-muted-foreground",children:[Z.addressLine1,Z.addressLine2&&`, ${Z.addressLine2}`]}),a.jsxs("p",{className:"text-muted-foreground",children:[Z.postcode," ",Z.city,", ",n(`states.${Z.state}`)]})]})]}),b===Z.id&&a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center flex-shrink-0",children:a.jsx(qn,{className:"w-4 h-4 text-primary-foreground"})})]})},Z.id)),a.jsx(C,{variant:"outline",className:"w-full",onClick:()=>{j(null),x(!0)},"data-testid":"button-new-address",children:n("order.useNewAddress")})]}),(f||i&&!H)&&a.jsxs(a.Fragment,{children:[i&&E.length>0&&a.jsx(C,{variant:"ghost",size:"sm",onClick:()=>x(!1),className:"mb-2","data-testid":"button-back-to-saved",children:n("order.backToSavedAddresses")}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"customerName",className:"text-sm",children:[n("order.customerName")," *"]}),a.jsx(ce,{id:"customerName",value:S.customerName,onChange:Z=>J("customerName",Z.target.value),placeholder:n("order.customerName"),"data-testid":"input-customer-name"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"phone",className:"text-sm",children:[n("order.phone")," *"]}),a.jsx(ce,{id:"phone",type:"tel",value:S.phone,onChange:Z=>J("phone",Z.target.value),placeholder:"012-3456789","data-testid":"input-phone"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"address",className:"text-sm",children:[n("order.address")," *"]}),a.jsx(ce,{id:"address",value:S.address,onChange:Z=>J("address",Z.target.value),placeholder:n("order.address"),"data-testid":"input-address"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"postcode",className:"text-sm",children:[n("order.postcode")," *"]}),a.jsx(ce,{id:"postcode",value:S.postcode,onChange:Z=>J("postcode",Z.target.value),placeholder:"12345","data-testid":"input-postcode"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"city",className:"text-sm",children:[n("order.city")," *"]}),a.jsx(ce,{id:"city",value:S.city,onChange:Z=>J("city",Z.target.value),placeholder:n("order.city"),"data-testid":"input-city"})]}),a.jsxs("div",{className:"space-y-1.5 col-span-2 sm:col-span-1",children:[a.jsxs(Ke,{htmlFor:"state",className:"text-sm",children:[n("order.state")," *"]}),a.jsxs(tt,{value:S.state,onValueChange:Z=>J("state",Z),children:[a.jsx(Xe,{"data-testid":"select-state",children:a.jsx(at,{placeholder:n("order.selectState")})}),a.jsx(Ze,{children:Vce.map(Z=>a.jsx(ge,{value:Z,"data-testid":`option-state-${Z}`,children:n(`states.${Z}`)},Z))})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(Ke,{htmlFor:"deliveryDate",className:"text-sm text-muted-foreground",children:n("order.deliveryDate")}),a.jsx(ce,{id:"deliveryDate",type:"date",value:S.deliveryDate,onChange:Z=>J("deliveryDate",Z.target.value),min:new Date().toISOString().split("T")[0],"data-testid":"input-delivery-date"})]}),i&&!b&&a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx($h,{id:"saveAddress",checked:v,onCheckedChange:Z=>N(Z===!0),"data-testid":"checkbox-save-address"}),a.jsx(Ke,{htmlFor:"saveAddress",className:"text-sm cursor-pointer",children:n("order.saveAddressToProfile")})]})]})]}),o==="confirm"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(W,{className:"p-5",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-3",children:n("order.orderSummary")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r==="zh"?"":"Product",":"]}),a.jsx("span",{className:"font-medium",children:r==="zh"?$n.nameCn:$n.nameEn})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.priceLabel"),":"]}),a.jsxs("div",{className:"text-right",children:[u&&a.jsxs("span",{className:"text-muted-foreground line-through mr-2",children:["RM ",$n.originalPrice]}),a.jsxs("span",{className:"font-medium text-primary",children:["RM ",D]})]})]}),u&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsxs("span",{children:[r==="zh"?"":"Member Discount",":"]}),a.jsxs("span",{children:["-RM ",$n.originalPrice-$n.memberPrice]})]})]}),a.jsxs("div",{className:"border-t border-border mt-4 pt-4",children:[a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n("order.flavorSelection"),":"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(Z=>a.jsxs(te,{variant:"secondary","data-testid":`badge-selection-${Z.key}`,children:[r==="zh"?Z.nameCn:Z.nameEn," x ",Z.quantity]},Z.key))})]})]}),a.jsxs(W,{className:"p-5",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-3",children:n("order.deliveryInfo")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.customerName"),":"]}),a.jsx("span",{className:"font-medium",children:S.customerName})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.phone"),":"]}),a.jsx("span",{className:"font-medium",children:S.phone})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.address"),":"]}),a.jsx("span",{className:"font-medium text-right max-w-[60%]",children:S.address})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.city"),":"]}),a.jsx("span",{className:"font-medium",children:S.city})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.state"),":"]}),a.jsx("span",{className:"font-medium",children:n(`states.${S.state}`)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.postcode"),":"]}),a.jsx("span",{className:"font-medium",children:S.postcode})]}),S.deliveryDate&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.deliveryDate"),":"]}),a.jsx("span",{className:"font-medium",children:S.deliveryDate})]})]})]}),w&&a.jsx(W,{className:"p-4 bg-destructive/10 border-destructive",children:a.jsx("p",{className:"text-sm text-destructive",children:w})}),a.jsx(C,{className:"w-full gap-3",size:"lg",onClick:F,disabled:Y.isPending,"data-testid":"button-submit-order",children:Y.isPending?a.jsxs(a.Fragment,{children:[a.jsx(fe,{className:"w-5 h-5 animate-spin"}),n("order.orderSubmitting")]}):a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-5 h-5"}),n("order.proceedToPayment")||"Proceed to Payment"]})})]}),o==="payment"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(W,{className:"p-5",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(In,{className:"w-8 h-8 text-primary"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:n("order.yourOrderNumber")}),a.jsx("p",{className:"text-xl font-bold text-primary",children:m})]}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:n("order.totalAmount")}),a.jsxs("p",{className:"text-3xl font-bold",children:["RM ",D]}),u&&a.jsx("p",{className:"text-sm text-green-600",children:n("order.memberDiscount")||"Member discount applied"})]})]})}),w&&a.jsx(W,{className:"p-4 bg-destructive/10 border-destructive",children:a.jsx("p",{className:"text-sm text-destructive",children:w})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(C,{className:"w-full gap-3 bg-[#635BFF] hover:bg-[#5851DB]",size:"lg",onClick:le,disabled:k,"data-testid":"button-pay-stripe",children:k?a.jsxs(a.Fragment,{children:[a.jsx(fe,{className:"w-5 h-5 animate-spin"}),n("order.processing")]}):a.jsxs(a.Fragment,{children:[a.jsx(In,{className:"w-5 h-5"}),n("order.payOnline")]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:n("order.paymentMethods")}),a.jsx("p",{className:"text-xs text-center",children:a.jsx("a",{href:`https://wa.me/60178228658?text=${encodeURIComponent(`Need help with order #${m}`)}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground underline hover:text-foreground",children:n("order.needHelp")})})]})]}),o==="success"&&a.jsxs("div",{className:"space-y-6 text-center py-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Le,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:n("order.orderSuccess")}),a.jsx("p",{className:"text-muted-foreground mb-4",children:n("order.orderConfirmedDesc")})]}),a.jsxs(W,{className:"p-5",children:[a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n("order.yourOrderNumber"),":"]}),a.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"text-order-number",children:m})]}),a.jsx("div",{className:"space-y-3",children:a.jsx(C,{className:"w-full",variant:"outline",onClick:()=>{q(),t(!1)},"data-testid":"button-continue-ordering",children:n("order.continueOrdering")})})]})]}),o!=="success"&&o!=="payment"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-background border-t border-border",children:a.jsxs("div",{className:"flex gap-3",children:[o!=="flavors"&&a.jsx(C,{variant:"outline",className:"flex-1",onClick:()=>{o==="confirm"?l("delivery"):o==="delivery"&&l("flavors")},"data-testid":"button-back",children:n("order.back")}),o==="flavors"&&a.jsxs(C,{className:"flex-1",disabled:B!==z,onClick:()=>l("delivery"),"data-testid":"button-next-flavors",children:[n("order.next"),B!==z&&a.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",K," ",r==="zh"?"":"more needed",")"]})]}),o==="delivery"&&a.jsx(C,{className:"flex-1",disabled:!ie(),onClick:()=>l("confirm"),"data-testid":"button-next-delivery",children:n("order.next")})]})})]})})}const zce=["johor","kedah","kelantan","melaka","negeriSembilan","pahang","penang","perak","perlis","sabah","sarawak","selangor","terengganu","kualaLumpur","labuan","putrajaya"],Wce={original:{zh:"",en:"Original"},redDate:{zh:"",en:"Red Date"},snowPear:{zh:"",en:"Snow Pear"},peachGum:{zh:"",en:"Peach Gum"},coconut:{zh:"",en:"Coconut"},mango:{zh:"",en:"Mango"},cocoaOat:{zh:"",en:"Cocoa Oat"},matchaOat:{zh:"",en:"Matcha Oat"},purpleRiceOat:{zh:"",en:"Purple Rice Oat"},peachGumLongan:{zh:"",en:"Peach Gum Longan"},dateGoji:{zh:"",en:"Date Goji"},papaya:{zh:"",en:"Papaya"}};function Hce({open:e,onOpenChange:t,bundle:n}){const{t:r,language:s}=ks(),{user:i,isAuthenticated:o}=wx(),[l,c]=y.useState("summary"),{data:d=[]}=Ae({queryKey:["bundle-variants",n.id],queryFn:async()=>{const{data:$,error:Z}=await L.from("bundle_variants").select("id, name, image, sort_order").eq("bundle_id",n.id).order("sort_order",{ascending:!0});return Z?[]:$},enabled:e}),u=d.filter($=>$.image),[m,h]=y.useState(""),[p,g]=y.useState(""),[f,x]=y.useState(!1),[b,j]=y.useState(null),[v,N]=y.useState(!1),[w,P]=y.useState(null),[k,_]=y.useState(!1),[S,O]=y.useState({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),A=()=>s==="en"?n.name_en||n.name:s==="ms"&&(n.name_ms||n.name_en)||n.name,E=$=>{const Z=Wce[$];return Z?s==="zh"?Z.zh:Z.en:$},D=n.price/100,B=n.original_price?n.original_price/100:null,z=n.items.reduce(($,Z)=>$+Z.quantity,0),{data:K}=Ae({queryKey:["member-profile",i==null?void 0:i.id],queryFn:async()=>{if(!(i!=null&&i.id))return null;const{data:$,error:Z}=await L.from("members").select("*").eq("user_id",i.id).single();return Z?null:$},enabled:o&&!!(i!=null&&i.id)}),{data:Y=[]}=Ae({queryKey:["member-addresses",K==null?void 0:K.id],queryFn:async()=>{if(!(K!=null&&K.id))return[];const{data:$,error:Z}=await L.from("member_addresses").select("*").eq("member_id",K.id);return Z?[]:($||[]).map(U=>({id:U.id,memberId:U.member_id,label:U.label||null,recipientName:U.recipient_name||"",phone:U.phone||"",addressLine1:U.address_line_1||"",addressLine2:U.address_line_2||null,city:U.city||"",state:U.state||"",postcode:U.postcode||"",isDefault:U.is_default||!1,createdAt:U.created_at||null}))},enabled:o&&!!K}),M=Ce({mutationFn:async()=>{console.info("[checkout] Creating bundle order...",{bundleId:n.id,price:n.price});const $=Pq(n.items.map(ke=>({flavor:ke.flavor,flavorName:E(ke.flavor),quantity:ke.quantity,category:"bird-nest"}))),Z=JSON.stringify($),{order:U,error:pe}=await Im({userId:(i==null?void 0:i.id)||null,memberId:(K==null?void 0:K.id)||null,customerName:S.customerName,customerPhone:S.phone,customerEmail:(i==null?void 0:i.email)||null,status:"pending_payment",totalAmount:n.price,items:Z,packageType:n.id,shippingAddress:S.address,shippingCity:S.city,shippingState:S.state,shippingPostcode:S.postcode,preferredDeliveryDate:S.deliveryDate||null,trackingNumber:null,notes:`Bundle: ${n.name}`,source:"website",erpnextId:null,metaOrderId:null,pointsEarned:null,pointsRedeemed:null});if(pe||!U)throw console.error("[checkout] createOrder failed:",pe),pe||new Error("Failed to create order");return console.info("[checkout] Bundle order created:",{id:U.id,orderNumber:U.orderNumber}),U},onError:$=>{console.error("[checkout] Order mutation error:",$),P($ instanceof Error?$.message:"Failed to create order")},onSuccess:async $=>{if(h($.orderNumber),g($.id),c("payment"),o&&(i!=null&&i.id)&&!b)try{const{member:Z}=await jx(i.id,{name:S.customerName,phone:S.phone,email:i.email});if(Z){const{address:U}=await Ow(Z.id,{recipientName:S.customerName,phone:S.phone,addressLine1:S.address,city:S.city,state:S.state,postcode:S.postcode,isDefault:Y.length===0});U&&j(U.id),await L.from("orders").update({member_id:Z.id}).eq("id",$.id),on.invalidateQueries({queryKey:["member-addresses"]}),on.invalidateQueries({queryKey:["member-profile"]})}}catch(Z){console.error("Error saving address at order creation:",Z)}}}),R=($,Z)=>{O(U=>({...U,[$]:Z}))},J=()=>S.customerName.trim()!==""&&S.phone.trim()!==""&&S.address.trim()!==""&&S.city.trim()!==""&&S.state!==""&&S.postcode.trim()!=="",ie=async()=>{M.mutate()},F=async()=>{if(console.info("[checkout] handleStripePayment called",{orderId:p,orderNumber:m}),!p||!m){console.error("[checkout] Missing orderId or orderNumber, aborting payment"),P("Order not found. Please try again.");return}_(!0),P(null);try{console.info("[checkout] Calling create-checkout edge function...");const Z=await fetch("https://vpzmhglfwomgrashheol.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ho}`,apikey:Ho},body:JSON.stringify({orderId:p,orderNumber:m,amount:n.price,customerEmail:(i==null?void 0:i.email)||null,customerName:S.customerName,productName:A(),successUrl:`${window.location.origin}/checkout/success?order=${m}`,cancelUrl:`${window.location.origin}/?payment=cancelled`})}),U=await Z.json();if(console.info("[checkout] Edge function response:",{status:Z.status,data:U}),!Z.ok)throw new Error((U==null?void 0:U.error)||`Edge function returned ${Z.status}`);if(!(U!=null&&U.url))throw console.error("Stripe edge function returned no URL:",U),new Error((U==null?void 0:U.error)||"No checkout URL returned from payment service");Dw({orderId:p,orderNumber:m,deliveryInfo:S,selections:n.items.map(pe=>({key:pe.flavor,quantity:pe.quantity})),currentPrice:D,saveNewAddress:v,selectedAddressId:b,referrerId:null}),window.location.href=U.url}catch($){console.error("Payment error:",$),P($ instanceof Error?$.message:"Payment failed. Please try again.")}finally{_(!1)}},le=()=>{c("summary"),O({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),h(""),g(""),x(!1),j(null),N(!1),P(null)},q=$=>{j($.id),O({customerName:$.recipientName,phone:$.phone,address:$.addressLine1+($.addressLine2?`, ${$.addressLine2}`:""),city:$.city,state:$.state,postcode:$.postcode,deliveryDate:S.deliveryDate})},ve=()=>{window.location.href="/auth/login"},ye=o&&K&&Y.length>0&&!f,H=$=>{$||le(),t($)},oe=()=>{switch(l){case"summary":return s==="zh"?"":"Package Details";case"delivery":return r("order.deliveryInfo");case"confirm":return r("order.confirmOrder");case"payment":return r("order.payment")||"Payment";case"success":return r("order.orderConfirmed")}},G=()=>{switch(l){case"summary":return A();case"delivery":return r("order.deliveryInfoDesc");case"confirm":return r("order.confirmOrderDesc");case"payment":return r("order.paymentDesc")||"Complete your payment to confirm the order";case"success":return r("order.orderConfirmedDesc")}};return a.jsx(il,{open:e,onOpenChange:H,children:a.jsxs(lo,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-hidden","data-testid":"modal-bundle-order",children:[a.jsxs(Rh,{className:"pb-4",children:[a.jsx(Ih,{className:"text-xl font-bold","data-testid":"text-bundle-modal-title",children:oe()}),a.jsx(yx,{className:"text-muted-foreground",children:G()})]}),a.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)] pb-8",children:[l==="summary"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(W,{className:"overflow-hidden",children:[u.length>=2?a.jsx("div",{className:"h-40 overflow-hidden bg-muted grid grid-cols-2",children:u.slice(0,2).map(($,Z)=>a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("img",{src:$.image,alt:$.name,className:"w-full h-full object-cover"}),a.jsx("span",{className:"absolute bottom-1 left-1 text-[9px] bg-black/60 text-white px-1.5 py-0.5 rounded",children:$.name})]},Z))}):u.length===1?a.jsx("div",{className:"h-40 overflow-hidden bg-muted",children:a.jsx("img",{src:u[0].image,alt:u[0].name,className:"w-full h-full object-cover"})}):n.image?a.jsx("div",{className:"h-40 overflow-hidden bg-muted",children:a.jsx("img",{src:n.image,alt:A(),className:"w-full h-full object-cover"})}):null,a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-lg",children:A()}),a.jsxs("div",{className:"flex gap-1.5",children:[n.is_hot&&a.jsxs(te,{className:"bg-red-500 text-white text-[10px]",children:[a.jsx(sf,{className:"w-3 h-3 mr-0.5"}),"HOT"]}),n.is_new&&a.jsxs(te,{className:"bg-green-500 text-white text-[10px]",children:[a.jsx(Lr,{className:"w-3 h-3 mr-0.5"}),"NEW"]})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s==="zh"?`${z}`:`${z} bottles`}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsxs("span",{className:"text-2xl font-bold text-primary",children:["RM ",D.toFixed(0)]}),B&&B>D&&a.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["RM ",B.toFixed(0)]})]})]})]}),a.jsxs(W,{className:"p-4",children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[a.jsx(ca,{className:"w-4 h-4 text-primary"}),s==="zh"?"":"Package Contents"]}),a.jsx("div",{className:"space-y-2",children:n.items.map(($,Z)=>a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-border last:border-0",children:[a.jsx("span",{className:"text-sm",children:E($.flavor)}),a.jsxs(te,{variant:"secondary",className:"text-xs",children:["x",$.quantity]})]},Z))}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-border flex justify-between",children:[a.jsx("span",{className:"font-medium",children:s==="zh"?"":"Total"}),a.jsxs("span",{className:"font-medium",children:[z," ",s==="zh"?"":"bottles"]})]})]})]}),l==="delivery"&&a.jsxs("div",{className:"space-y-4",children:[!o&&!f&&a.jsx(W,{className:"p-5",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(Mn,{className:"w-6 h-6 text-primary"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground mb-1",children:r("order.loginForSavedAddress")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r("order.loginBenefit")})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs(C,{onClick:ve,"data-testid":"button-login-checkout",children:[a.jsx(Mn,{className:"w-4 h-4 mr-2"}),r("order.loginOrRegister")]}),a.jsx(C,{variant:"outline",onClick:()=>x(!0),"data-testid":"button-guest-checkout",children:r("order.continueAsGuest")})]})]})}),ye&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ke,{children:r("order.selectSavedAddress")}),Y.map($=>a.jsx(W,{className:`p-4 cursor-pointer transition-all hover-elevate ${b===$.id?"ring-2 ring-primary":""}`,onClick:()=>q($),"data-testid":`card-saved-address-${$.id}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(sl,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-foreground",children:$.recipientName}),a.jsx("p",{className:"text-muted-foreground",children:$.phone}),a.jsxs("p",{className:"text-muted-foreground",children:[$.addressLine1,$.addressLine2&&`, ${$.addressLine2}`]}),a.jsxs("p",{className:"text-muted-foreground",children:[$.postcode," ",$.city,", ",r(`states.${$.state}`)]})]})]}),b===$.id&&a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center flex-shrink-0",children:a.jsx(qn,{className:"w-4 h-4 text-primary-foreground"})})]})},$.id)),a.jsx(C,{variant:"outline",className:"w-full",onClick:()=>{j(null),x(!0)},"data-testid":"button-new-address",children:r("order.useNewAddress")})]}),(f||o&&!ye)&&a.jsxs(a.Fragment,{children:[o&&Y.length>0&&a.jsx(C,{variant:"ghost",size:"sm",onClick:()=>x(!1),className:"mb-2","data-testid":"button-back-to-saved",children:r("order.backToSavedAddresses")}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"customerName",className:"text-sm",children:[r("order.customerName")," *"]}),a.jsx(ce,{id:"customerName",value:S.customerName,onChange:$=>R("customerName",$.target.value),placeholder:r("order.customerName"),"data-testid":"input-customer-name"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"phone",className:"text-sm",children:[r("order.phone")," *"]}),a.jsx(ce,{id:"phone",type:"tel",value:S.phone,onChange:$=>R("phone",$.target.value),placeholder:"012-3456789","data-testid":"input-phone"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"address",className:"text-sm",children:[r("order.address")," *"]}),a.jsx(ce,{id:"address",value:S.address,onChange:$=>R("address",$.target.value),placeholder:r("order.address"),"data-testid":"input-address"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"postcode",className:"text-sm",children:[r("order.postcode")," *"]}),a.jsx(ce,{id:"postcode",value:S.postcode,onChange:$=>R("postcode",$.target.value),placeholder:"12345","data-testid":"input-postcode"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"city",className:"text-sm",children:[r("order.city")," *"]}),a.jsx(ce,{id:"city",value:S.city,onChange:$=>R("city",$.target.value),placeholder:r("order.city"),"data-testid":"input-city"})]}),a.jsxs("div",{className:"space-y-1.5 col-span-2 sm:col-span-1",children:[a.jsxs(Ke,{htmlFor:"state",className:"text-sm",children:[r("order.state")," *"]}),a.jsxs(tt,{value:S.state,onValueChange:$=>R("state",$),children:[a.jsx(Xe,{"data-testid":"select-state",children:a.jsx(at,{placeholder:r("order.selectState")})}),a.jsx(Ze,{children:zce.map($=>a.jsx(ge,{value:$,"data-testid":`option-state-${$}`,children:r(`states.${$}`)},$))})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(Ke,{htmlFor:"deliveryDate",className:"text-sm text-muted-foreground",children:r("order.deliveryDate")}),a.jsx(ce,{id:"deliveryDate",type:"date",value:S.deliveryDate,onChange:$=>R("deliveryDate",$.target.value),min:new Date().toISOString().split("T")[0],"data-testid":"input-delivery-date"})]}),o&&!b&&a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx($h,{id:"saveAddress",checked:v,onCheckedChange:$=>N($===!0),"data-testid":"checkbox-save-address"}),a.jsx(Ke,{htmlFor:"saveAddress",className:"text-sm cursor-pointer",children:r("order.saveAddressToProfile")})]})]})]}),l==="confirm"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(W,{className:"p-5",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-3",children:r("order.orderSummary")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[s==="zh"?"":"Package",":"]}),a.jsx("span",{className:"font-medium",children:A()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[s==="zh"?"":"Quantity",":"]}),a.jsxs("span",{className:"font-medium",children:[z," ",s==="zh"?"":"bottles"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.priceLabel"),":"]}),a.jsxs("div",{className:"text-right",children:[B&&B>D&&a.jsxs("span",{className:"text-muted-foreground line-through mr-2",children:["RM ",B.toFixed(0)]}),a.jsxs("span",{className:"font-medium text-primary",children:["RM ",D.toFixed(0)]})]})]})]}),a.jsxs("div",{className:"border-t border-border mt-4 pt-4",children:[a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[s==="zh"?"":"Contents",":"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.items.map(($,Z)=>a.jsxs(te,{variant:"secondary","data-testid":`badge-item-${$.flavor}`,children:[E($.flavor)," x",$.quantity]},Z))})]})]}),a.jsxs(W,{className:"p-5",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-3",children:r("order.deliveryInfo")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.customerName"),":"]}),a.jsx("span",{className:"font-medium",children:S.customerName})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.phone"),":"]}),a.jsx("span",{className:"font-medium",children:S.phone})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.address"),":"]}),a.jsx("span",{className:"font-medium text-right max-w-[60%]",children:S.address})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.city"),":"]}),a.jsx("span",{className:"font-medium",children:S.city})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.state"),":"]}),a.jsx("span",{className:"font-medium",children:r(`states.${S.state}`)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.postcode"),":"]}),a.jsx("span",{className:"font-medium",children:S.postcode})]}),S.deliveryDate&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r("order.deliveryDate"),":"]}),a.jsx("span",{className:"font-medium",children:S.deliveryDate})]})]})]}),w&&a.jsx(W,{className:"p-4 bg-destructive/10 border-destructive",children:a.jsx("p",{className:"text-sm text-destructive",children:w})}),a.jsx(C,{className:"w-full gap-3",size:"lg",onClick:ie,disabled:M.isPending,"data-testid":"button-submit-order",children:M.isPending?a.jsxs(a.Fragment,{children:[a.jsx(fe,{className:"w-5 h-5 animate-spin"}),r("order.orderSubmitting")]}):a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-5 h-5"}),r("order.proceedToPayment")||"Proceed to Payment"]})})]}),l==="payment"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(W,{className:"p-5",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(In,{className:"w-8 h-8 text-primary"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:r("order.yourOrderNumber")}),a.jsx("p",{className:"text-xl font-bold text-primary",children:m})]}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:r("order.totalAmount")}),a.jsxs("p",{className:"text-3xl font-bold",children:["RM ",D.toFixed(0)]})]})]})}),w&&a.jsx(W,{className:"p-4 bg-destructive/10 border-destructive",children:a.jsx("p",{className:"text-sm text-destructive",children:w})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(C,{className:"w-full gap-3 bg-[#635BFF] hover:bg-[#5851DB]",size:"lg",onClick:F,disabled:k,"data-testid":"button-pay-stripe",children:k?a.jsxs(a.Fragment,{children:[a.jsx(fe,{className:"w-5 h-5 animate-spin"}),r("order.processing")]}):a.jsxs(a.Fragment,{children:[a.jsx(In,{className:"w-5 h-5"}),r("order.payOnline")]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:r("order.paymentMethods")}),a.jsx("p",{className:"text-xs text-center",children:a.jsx("a",{href:`https://wa.me/60178228658?text=${encodeURIComponent(`Need help with order #${m}`)}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground underline hover:text-foreground",children:r("order.needHelp")})})]})]}),l==="success"&&a.jsxs("div",{className:"space-y-6 text-center py-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Le,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:r("order.orderSuccess")}),a.jsx("p",{className:"text-muted-foreground mb-4",children:r("order.orderConfirmedDesc")})]}),a.jsxs(W,{className:"p-5",children:[a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[r("order.yourOrderNumber"),":"]}),a.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"text-order-number",children:m})]}),a.jsx("div",{className:"space-y-3",children:a.jsx(C,{className:"w-full",variant:"outline",onClick:()=>{le(),t(!1)},"data-testid":"button-continue-ordering",children:r("order.continueOrdering")})})]})]}),l!=="success"&&l!=="payment"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-background border-t border-border",children:a.jsxs("div",{className:"flex gap-3",children:[l!=="summary"&&a.jsx(C,{variant:"outline",className:"flex-1",onClick:()=>{l==="confirm"?c("delivery"):l==="delivery"&&c("summary")},"data-testid":"button-back",children:r("order.back")}),l==="summary"&&a.jsx(C,{className:"flex-1",onClick:()=>c("delivery"),"data-testid":"button-next-summary",children:r("order.next")}),l==="delivery"&&a.jsx(C,{className:"flex-1",disabled:!J(),onClick:()=>c("confirm"),"data-testid":"button-next-delivery",children:r("order.next")})]})})]})})}const HD=[{id:"laicai",nameCn:"",nameEn:"Prosperity Style",image:"/pics/fortune-box-laicai.jpg",description:""},{id:"yaoqian",nameCn:"",nameEn:"Fortune Tree Style",image:"/pics/fortune-box-yaoqian.jpg",description:""}],nr={nameCn:"2026",nameEn:"2026 Fortune Gift Box",jars:6,originalPrice:488,memberPrice:368},Gce=["johor","kedah","kelantan","melaka","negeriSembilan","pahang","penang","perak","perlis","sabah","sarawak","selangor","terengganu","kualaLumpur","labuan","putrajaya"];function Yce({open:e,onOpenChange:t}){const{t:n,language:r}=ks(),{user:s,isAuthenticated:i}=wx(),[o,l]=y.useState("style"),[c,d]=y.useState(null),[u,m]=y.useState(""),h=i,[p,g]=y.useState(""),[f,x]=y.useState(""),[b,j]=y.useState(!1),[v,N]=y.useState(null),[w,P]=y.useState(!1),[k,_]=y.useState(null),[S,O]=y.useState(!1),[A,E]=y.useState({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),D=h?nr.memberPrice:nr.originalPrice,B=HD.find(G=>G.id===c),{data:z}=Ae({queryKey:["member-profile",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return null;const{data:G,error:$}=await L.from("members").select("*").eq("user_id",s.id).single();return $?null:G},enabled:i&&!!(s!=null&&s.id)}),{data:K=[]}=Ae({queryKey:["member-addresses",z==null?void 0:z.id],queryFn:async()=>{if(!(z!=null&&z.id))return[];const{data:G,error:$}=await L.from("member_addresses").select("*").eq("member_id",z.id).order("is_default",{ascending:!1});return $?[]:(G||[]).map(Z=>({id:Z.id,memberId:Z.member_id,label:Z.label||null,recipientName:Z.recipient_name||"",phone:Z.phone||"",addressLine1:Z.address_line_1||"",addressLine2:Z.address_line_2||null,city:Z.city||"",state:Z.state||"",postcode:Z.postcode||"",isDefault:Z.is_default||!1,createdAt:Z.created_at||null}))},enabled:i&&!!z}),Y=Ce({mutationFn:async()=>{console.info("[checkout] Creating fortune gift box order...",{style:c,price:D});const G=JSON.stringify([{productId:"giftbox-2026-fortune",productName:`${nr.nameCn} - ${B==null?void 0:B.nameCn}`,style:c,styleName:B==null?void 0:B.nameCn,quantity:1,jars:nr.jars,unitPrice:D,flavorNotes:u||null}]),{order:$,error:Z}=await Im({userId:(s==null?void 0:s.id)||null,memberId:(z==null?void 0:z.id)||null,customerName:A.customerName,customerPhone:A.phone,customerEmail:(s==null?void 0:s.email)||null,status:"pending_payment",totalAmount:D*100,items:G,packageType:`fortune-giftbox-${c}`,shippingAddress:A.address,shippingCity:A.city,shippingState:A.state,shippingPostcode:A.postcode,preferredDeliveryDate:A.deliveryDate||null,trackingNumber:null,notes:u?`: ${u}`:h?"Member discount applied":null,source:"website",erpnextId:null,metaOrderId:null,pointsEarned:null,pointsRedeemed:null});if(Z||!$)throw console.error("[checkout] createOrder failed:",Z),Z||new Error("Failed to create order");return console.info("[checkout] Order created:",{id:$.id,orderNumber:$.orderNumber}),$},onError:G=>{console.error("[checkout] Order mutation error:",G),_(G instanceof Error?G.message:"Failed to create order")},onSuccess:async G=>{if(g(G.orderNumber),x(G.id),l("payment"),i&&(s!=null&&s.id)&&!v)try{const{member:$}=await jx(s.id,{name:A.customerName,phone:A.phone,email:s.email});if($){const{address:Z}=await Ow($.id,{recipientName:A.customerName,phone:A.phone,addressLine1:A.address,city:A.city,state:A.state,postcode:A.postcode,isDefault:K.length===0});Z&&N(Z.id),await L.from("orders").update({member_id:$.id}).eq("id",G.id),on.invalidateQueries({queryKey:["member-addresses"]}),on.invalidateQueries({queryKey:["member-profile"]})}}catch($){console.error("Error saving address:",$)}}}),M=(G,$)=>{E(Z=>({...Z,[G]:$}))},R=()=>A.customerName.trim()!==""&&A.phone.trim()!==""&&A.address.trim()!==""&&A.city.trim()!==""&&A.state!==""&&A.postcode.trim()!=="",J=()=>{Y.mutate()},ie=async()=>{if(!f||!p){_("Order not found. Please try again.");return}O(!0),_(null);try{const $=await fetch("https://vpzmhglfwomgrashheol.supabase.co/functions/v1/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ho}`,apikey:Ho},body:JSON.stringify({orderId:f,orderNumber:p,amount:D*100,customerEmail:(s==null?void 0:s.email)||null,customerName:A.customerName,productName:`${nr.nameCn} - ${B==null?void 0:B.nameCn}`,successUrl:`${window.location.origin}/checkout/success?order=${p}`,cancelUrl:`${window.location.origin}/?payment=cancelled`})}),Z=await $.json();if(!$.ok)throw new Error((Z==null?void 0:Z.error)||`Edge function returned ${$.status}`);if(!(Z!=null&&Z.url))throw new Error((Z==null?void 0:Z.error)||"No checkout URL returned");Dw({orderId:f,orderNumber:p,deliveryInfo:A,currentPrice:D,saveNewAddress:w,selectedAddressId:v,referrerId:null}),window.location.href=Z.url}catch(G){console.error("Payment error:",G),_(G instanceof Error?G.message:"Payment failed. Please try again.")}finally{O(!1)}},F=()=>{l("style"),d(null),m(""),E({customerName:"",phone:"",address:"",city:"",state:"",postcode:"",deliveryDate:""}),g(""),x(""),j(!1),N(null),P(!1),_(null)},le=G=>{N(G.id),E({customerName:G.recipientName,phone:G.phone,address:G.addressLine1+(G.addressLine2?`, ${G.addressLine2}`:""),city:G.city,state:G.state,postcode:G.postcode,deliveryDate:A.deliveryDate})},q=()=>{window.location.href="/auth/login"},ve=i&&z&&K.length>0&&!b,ye=G=>{G||F(),t(G)},H=()=>{switch(o){case"style":return r==="zh"?"":"Choose Style";case"delivery":return n("order.deliveryInfo");case"confirm":return n("order.confirmOrder");case"payment":return n("order.payment")||"Payment";case"success":return n("order.orderConfirmed")}},oe=()=>{switch(o){case"style":return r==="zh"?"2026 - ":"2026 Fortune Gift Box - Choose your style";case"delivery":return n("order.deliveryInfoDesc");case"confirm":return n("order.confirmOrderDesc");case"payment":return n("order.paymentDesc")||"Complete your payment";case"success":return n("order.orderConfirmedDesc")}};return a.jsx(il,{open:e,onOpenChange:ye,children:a.jsxs(lo,{side:"bottom",className:"h-[90vh] rounded-t-3xl overflow-hidden","data-testid":"modal-fortune-giftbox",children:[a.jsxs(Rh,{className:"pb-4",children:[a.jsx(Ih,{className:"text-xl font-bold",children:H()}),a.jsx(yx,{className:"text-muted-foreground",children:oe()})]}),a.jsxs("div",{className:"overflow-y-auto max-h-[calc(90vh-180px)] pb-8",children:[o==="style"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(W,{className:"p-4 bg-gradient-to-r from-amber-50 to-red-50 dark:from-amber-950/20 dark:to-red-950/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-foreground flex items-center gap-2",children:[a.jsx(pr,{className:"w-5 h-5 text-red-500"}),r==="zh"?nr.nameCn:nr.nameEn]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r==="zh"?`${nr.jars}`:`${nr.jars} bottles, random flavor mix`})]}),a.jsx("div",{className:"text-right",children:h?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground line-through",children:["RM ",nr.originalPrice]}),a.jsxs("p",{className:"text-xl font-bold text-primary",children:["RM ",nr.memberPrice]}),a.jsx(te,{variant:"default",className:"text-xs",children:r==="zh"?"":"Member Price"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xl font-bold text-foreground",children:["RM ",nr.originalPrice]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r==="zh"?" RM368":"Login for RM368"})]})})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ke,{className:"text-base font-medium",children:r==="zh"?"":"Select Gift Box Style"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:HD.map(G=>a.jsxs(W,{className:`cursor-pointer transition-all overflow-hidden ${c===G.id?"ring-2 ring-primary":"hover:shadow-md"}`,onClick:()=>d(G.id),children:[a.jsxs("div",{className:"aspect-square bg-muted relative",children:[a.jsx("img",{src:G.image,alt:G.nameCn,className:"w-full h-full object-cover",onError:$=>{$.target.src="/pics/product-placeholder.jpg"}}),c===G.id&&a.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:a.jsx(qn,{className:"w-4 h-4 text-primary-foreground"})})]}),a.jsxs("div",{className:"p-3 text-center",children:[a.jsx("p",{className:"font-medium",children:r==="zh"?G.nameCn:G.nameEn}),a.jsx("p",{className:"text-xs text-muted-foreground",children:G.description})]})]},G.id))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ke,{htmlFor:"flavorNotes",className:"text-sm flex items-center gap-2",children:[a.jsx(Lr,{className:"w-4 h-4 text-amber-500"}),r==="zh"?"":"Flavor Preferences (Optional)"]}),a.jsx(Pt,{id:"flavorNotes",value:u,onChange:G=>m(G.target.value),placeholder:r==="zh"?"":"e.g., prefer sweeter flavors, no cocoa, etc. We'll try to accommodate",className:"resize-none",rows:3}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r==="zh"?"* ":"* Flavors are randomly mixed, we'll try to match your preferences"})]})]}),o==="delivery"&&a.jsxs("div",{className:"space-y-4",children:[!i&&!b&&a.jsx(W,{className:"p-5",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(Mn,{className:"w-6 h-6 text-primary"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground mb-1",children:n("order.loginForSavedAddress")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n("order.loginBenefit")})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs(C,{onClick:q,children:[a.jsx(Mn,{className:"w-4 h-4 mr-2"}),n("order.loginOrRegister")]}),a.jsx(C,{variant:"outline",onClick:()=>j(!0),children:n("order.continueAsGuest")})]})]})}),ve&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ke,{children:n("order.selectSavedAddress")}),K.map(G=>a.jsx(W,{className:`p-4 cursor-pointer transition-all ${v===G.id?"ring-2 ring-primary":""}`,onClick:()=>le(G),children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(sl,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium",children:G.recipientName}),a.jsx("p",{className:"text-muted-foreground",children:G.phone}),a.jsx("p",{className:"text-muted-foreground",children:G.addressLine1}),a.jsxs("p",{className:"text-muted-foreground",children:[G.postcode," ",G.city,", ",n(`states.${G.state}`)]})]})]}),v===G.id&&a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:a.jsx(qn,{className:"w-4 h-4 text-primary-foreground"})})]})},G.id)),a.jsx(C,{variant:"outline",className:"w-full",onClick:()=>{N(null),j(!0)},children:n("order.useNewAddress")})]}),(b||i&&!ve)&&a.jsxs(a.Fragment,{children:[i&&K.length>0&&a.jsx(C,{variant:"ghost",size:"sm",onClick:()=>j(!1),className:"mb-2",children:n("order.backToSavedAddresses")}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"customerName",className:"text-sm",children:[n("order.customerName")," *"]}),a.jsx(ce,{id:"customerName",value:A.customerName,onChange:G=>M("customerName",G.target.value),placeholder:n("order.customerName")})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"phone",className:"text-sm",children:[n("order.phone")," *"]}),a.jsx(ce,{id:"phone",type:"tel",value:A.phone,onChange:G=>M("phone",G.target.value),placeholder:"012-3456789"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"address",className:"text-sm",children:[n("order.address")," *"]}),a.jsx(ce,{id:"address",value:A.address,onChange:G=>M("address",G.target.value),placeholder:n("order.address")})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"postcode",className:"text-sm",children:[n("order.postcode")," *"]}),a.jsx(ce,{id:"postcode",value:A.postcode,onChange:G=>M("postcode",G.target.value),placeholder:"12345"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs(Ke,{htmlFor:"city",className:"text-sm",children:[n("order.city")," *"]}),a.jsx(ce,{id:"city",value:A.city,onChange:G=>M("city",G.target.value),placeholder:n("order.city")})]}),a.jsxs("div",{className:"space-y-1.5 col-span-2 sm:col-span-1",children:[a.jsxs(Ke,{htmlFor:"state",className:"text-sm",children:[n("order.state")," *"]}),a.jsxs(tt,{value:A.state,onValueChange:G=>M("state",G),children:[a.jsx(Xe,{children:a.jsx(at,{placeholder:n("order.selectState")})}),a.jsx(Ze,{children:Gce.map(G=>a.jsx(ge,{value:G,children:n(`states.${G}`)},G))})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(Ke,{htmlFor:"deliveryDate",className:"text-sm text-muted-foreground",children:n("order.deliveryDate")}),a.jsx(ce,{id:"deliveryDate",type:"date",value:A.deliveryDate,onChange:G=>M("deliveryDate",G.target.value),min:new Date().toISOString().split("T")[0]})]}),i&&!v&&a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx($h,{id:"saveAddress",checked:w,onCheckedChange:G=>P(G===!0)}),a.jsx(Ke,{htmlFor:"saveAddress",className:"text-sm cursor-pointer",children:n("order.saveAddressToProfile")})]})]})]}),o==="confirm"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(W,{className:"p-5",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-3",children:n("order.orderSummary")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r==="zh"?"":"Product",":"]}),a.jsx("span",{className:"font-medium",children:r==="zh"?nr.nameCn:nr.nameEn})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r==="zh"?"":"Style",":"]}),a.jsx("span",{className:"font-medium",children:B==null?void 0:B.nameCn})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r==="zh"?"":"Quantity",":"]}),a.jsxs("span",{className:"font-medium",children:[nr.jars," ",r==="zh"?"":"bottles"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.priceLabel"),":"]}),a.jsxs("div",{className:"text-right",children:[h&&a.jsxs("span",{className:"text-muted-foreground line-through mr-2",children:["RM ",nr.originalPrice]}),a.jsxs("span",{className:"font-medium text-primary",children:["RM ",D]})]})]}),u&&a.jsxs("div",{className:"border-t pt-2 mt-2",children:[a.jsxs("span",{className:"text-muted-foreground",children:[r==="zh"?"":"Flavor Notes",":"]}),a.jsx("p",{className:"text-sm mt-1",children:u})]})]})]}),a.jsxs(W,{className:"p-5",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-3",children:n("order.deliveryInfo")}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.customerName"),":"]}),a.jsx("span",{className:"font-medium",children:A.customerName})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.phone"),":"]}),a.jsx("span",{className:"font-medium",children:A.phone})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.address"),":"]}),a.jsx("span",{className:"font-medium text-right max-w-[60%]",children:A.address})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.city"),":"]}),a.jsx("span",{className:"font-medium",children:A.city})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.state"),":"]}),a.jsx("span",{className:"font-medium",children:n(`states.${A.state}`)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[n("order.postcode"),":"]}),a.jsx("span",{className:"font-medium",children:A.postcode})]})]})]}),k&&a.jsx(W,{className:"p-4 bg-destructive/10 border-destructive",children:a.jsx("p",{className:"text-sm text-destructive",children:k})}),a.jsx(C,{className:"w-full gap-3",size:"lg",onClick:J,disabled:Y.isPending,children:Y.isPending?a.jsxs(a.Fragment,{children:[a.jsx(fe,{className:"w-5 h-5 animate-spin"}),n("order.orderSubmitting")]}):a.jsxs(a.Fragment,{children:[a.jsx(kn,{className:"w-5 h-5"}),n("order.proceedToPayment")||"Proceed to Payment"]})})]}),o==="payment"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(W,{className:"p-5",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(In,{className:"w-8 h-8 text-primary"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:n("order.yourOrderNumber")}),a.jsx("p",{className:"text-xl font-bold text-primary",children:p})]}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:n("order.totalAmount")}),a.jsxs("p",{className:"text-3xl font-bold",children:["RM ",D]})]})]})}),k&&a.jsx(W,{className:"p-4 bg-destructive/10 border-destructive",children:a.jsx("p",{className:"text-sm text-destructive",children:k})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(C,{className:"w-full gap-3 bg-[#635BFF] hover:bg-[#5851DB]",size:"lg",onClick:ie,disabled:S,children:S?a.jsxs(a.Fragment,{children:[a.jsx(fe,{className:"w-5 h-5 animate-spin"}),n("order.processing")]}):a.jsxs(a.Fragment,{children:[a.jsx(In,{className:"w-5 h-5"}),n("order.payOnline")]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:n("order.paymentMethods")})]})]}),o==="success"&&a.jsxs("div",{className:"space-y-6 text-center py-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Le,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:n("order.orderSuccess")}),a.jsx("p",{className:"text-muted-foreground mb-4",children:n("order.orderConfirmedDesc")})]}),a.jsxs(W,{className:"p-5",children:[a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[n("order.yourOrderNumber"),":"]}),a.jsx("p",{className:"text-2xl font-bold text-primary",children:p})]}),a.jsx(C,{className:"w-full",variant:"outline",onClick:()=>{F(),t(!1)},children:n("order.continueOrdering")})]})]}),o!=="success"&&o!=="payment"&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-background border-t border-border",children:a.jsxs("div",{className:"flex gap-3",children:[o!=="style"&&a.jsx(C,{variant:"outline",className:"flex-1",onClick:()=>{o==="confirm"?l("delivery"):o==="delivery"&&l("style")},children:n("order.back")}),o==="style"&&a.jsx(C,{className:"flex-1",disabled:!c,onClick:()=>l("delivery"),children:n("order.next")}),o==="delivery"&&a.jsx(C,{className:"flex-1",disabled:!R(),onClick:()=>l("confirm"),children:n("order.next")})]})})]})})}const q2=y.createContext({});function V2(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const Lw=y.createContext(null),K2=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Jce extends y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Qce({children:e,isPresent:t}){const n=y.useId(),r=y.useRef(null),s=y.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=y.useContext(K2);return y.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),a.jsx(Jce,{isPresent:t,childRef:r,sizeRef:s,children:y.cloneElement(e,{ref:r})})}const Xce=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=V2(Zce),c=y.useId(),d=y.useCallback(m=>{l.set(m,!0);for(const h of l.values())if(!h)return;r&&r()},[l,r]),u=y.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d,register:m=>(l.set(m,!1),()=>l.delete(m))}),i?[Math.random(),d]:[n,d]);return y.useMemo(()=>{l.forEach((m,h)=>l.set(h,!1))},[n]),y.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(Qce,{isPresent:n,children:e})),a.jsx(Lw.Provider,{value:u,children:e})};function Zce(){return new Map}function _q(e=!0){const t=y.useContext(Lw);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=y.useId();y.useEffect(()=>{e&&s(i)},[e]);const o=y.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const _y=e=>e.key||"";function GD(e){const t=[];return y.Children.forEach(e,n=>{y.isValidElement(n)&&t.push(n)}),t}const z2=typeof window<"u",Sq=z2?y.useLayoutEffect:y.useEffect,FP=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=_q(o),d=y.useMemo(()=>GD(e),[e]),u=o&&!l?[]:d.map(_y),m=y.useRef(!0),h=y.useRef(d),p=V2(()=>new Map),[g,f]=y.useState(d),[x,b]=y.useState(d);Sq(()=>{m.current=!1,h.current=d;for(let N=0;N<x.length;N++){const w=_y(x[N]);u.includes(w)?p.delete(w):p.get(w)!==!0&&p.set(w,!1)}},[x,u.length,u.join("-")]);const j=[];if(d!==g){let N=[...d];for(let w=0;w<x.length;w++){const P=x[w],k=_y(P);u.includes(k)||(N.splice(w,0,P),j.push(P))}i==="wait"&&j.length&&(N=j),b(GD(N)),f(d);return}const{forceRender:v}=y.useContext(q2);return a.jsx(a.Fragment,{children:x.map(N=>{const w=_y(N),P=o&&!l?!1:d===x||u.includes(w),k=()=>{if(p.has(w))p.set(w,!0);else return;let _=!0;p.forEach(S=>{S||(_=!1)}),_&&(v==null||v(),b(h.current),o&&(c==null||c()),r&&r())};return a.jsx(Xce,{isPresent:P,initial:!m.current||n?void 0:!1,custom:P?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:P?void 0:k,children:N},w)})})},fs=e=>e;let BP=fs;function W2(e){let t;return()=>(t===void 0&&(t=e()),t)}const $m=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Io=e=>e*1e3,Lo=e=>e/1e3,ede={skipAnimations:!1,useManualTiming:!1};function tde(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,m=!1)=>{const p=m&&r?t:n;return u&&i.add(d),p.has(d)||p.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(o=d,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(d))}};return c}const Sy=["read","resolveKeyframes","update","preRender","render","postRender"],ade=40;function Cq(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Sy.reduce((b,j)=>(b[j]=tde(i),b),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:m,postRender:h}=o,p=()=>{const b=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,ade),1),s.timestamp=b,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),u.process(s),m.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},g=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:Sy.reduce((b,j)=>{const v=o[j];return b[j]=(N,w=!1,P=!1)=>(n||g(),v.schedule(N,w,P)),b},{}),cancel:b=>{for(let j=0;j<Sy.length;j++)o[Sy[j]].cancel(b)},state:s,steps:o}}const{schedule:$a,cancel:uc,state:Qn,steps:VN}=Cq(typeof requestAnimationFrame<"u"?requestAnimationFrame:fs,!0),Aq=y.createContext({strict:!1}),YD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fm={};for(const e in YD)Fm[e]={isEnabled:t=>YD[e].some(n=>!!t[n])};function nde(e){for(const t in e)Fm[t]={...Fm[t],...e[t]}}const rde=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rde.has(e)}let Tq=e=>!xb(e);function sde(e){e&&(Tq=t=>t.startsWith("on")?!xb(t):e(t))}try{sde(require("@emotion/is-prop-valid").default)}catch{}function ide(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Tq(s)||n===!0&&xb(s)||!t&&!xb(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function ode(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const $w=y.createContext({});function Qf(e){return typeof e=="string"||Array.isArray(e)}function Fw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const H2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],G2=["initial",...H2];function Bw(e){return Fw(e.animate)||G2.some(t=>Qf(e[t]))}function Eq(e){return!!(Bw(e)||e.variants)}function lde(e,t){if(Bw(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Qf(n)?n:void 0,animate:Qf(r)?r:void 0}}return e.inherit!==!1?t:{}}function cde(e){const{initial:t,animate:n}=lde(e,y.useContext($w));return y.useMemo(()=>({initial:t,animate:n}),[JD(t),JD(n)])}function JD(e){return Array.isArray(e)?e.join(" "):e}const dde=Symbol.for("motionComponentSymbol");function $u(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ude(e,t,n){return y.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):$u(n)&&(n.current=r))},[t])}const Y2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mde="framerAppearId",Oq="data-"+Y2(mde),{schedule:J2,cancel:q8e}=Cq(queueMicrotask,!1),Dq=y.createContext({});function hde(e,t,n,r,s){var i,o;const{visualElement:l}=y.useContext($w),c=y.useContext(Aq),d=y.useContext(Lw),u=y.useContext(K2).reducedMotion,m=y.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const h=m.current,p=y.useContext(Dq);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&pde(m.current,n,s,p);const g=y.useRef(!1);y.useInsertionEffect(()=>{h&&g.current&&h.update(n,d)});const f=n[Oq],x=y.useRef(!!f&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,f))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,f)));return Sq(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),J2.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),y.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,f)}),x.current=!1))}),h}function pde(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Mq(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&$u(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function Mq(e){if(e)return e.options.allowProjection!==!1?e.projection:Mq(e.parent)}function fde({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&nde(e);function l(d,u){let m;const h={...y.useContext(K2),...d,layoutId:gde(d)},{isStatic:p}=h,g=cde(d),f=r(d,p);if(!p&&z2){xde();const x=yde(h);m=x.MeasureLayout,g.visualElement=hde(s,f,h,t,x.ProjectionNode)}return a.jsxs($w.Provider,{value:g,children:[m&&g.visualElement?a.jsx(m,{visualElement:g.visualElement,...h}):null,n(s,d,ude(f,g.visualElement,u),f,p,g.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=y.forwardRef(l);return c[dde]=s,c}function gde({layoutId:e}){const t=y.useContext(q2).id;return t&&e!==void 0?t+"-"+e:e}function xde(e,t){y.useContext(Aq).strict}function yde(e){const{drag:t,layout:n}=Fm;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const vde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Q2(e){return typeof e!="string"||e.includes("-")?!1:!!(vde.indexOf(e)>-1||/[A-Z]/u.test(e))}function QD(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function X2(e,t,n,r){if(typeof t=="function"){const[s,i]=QD(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=QD(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const UP=e=>Array.isArray(e),bde=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),wde=e=>UP(e)?e[e.length-1]||0:e,mr=e=>!!(e&&e.getVelocity);function wv(e){const t=mr(e)?e.get():e;return bde(t)?t.toValue():t}function jde({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:Nde(r,s,i,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const Rq=e=>(t,n)=>{const r=y.useContext($w),s=y.useContext(Lw),i=()=>jde(e,t,r,s);return n?i():V2(i)};function Nde(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=wv(i[h]);let{initial:o,animate:l}=e;const c=Bw(e),d=Eq(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const m=u?l:o;if(m&&typeof m!="boolean"&&!Fw(m)){const h=Array.isArray(m)?m:[m];for(let p=0;p<h.length;p++){const g=X2(e,h[p]);if(g){const{transitionEnd:f,transition:x,...b}=g;for(const j in b){let v=b[j];if(Array.isArray(v)){const N=u?v.length-1:0;v=v[N]}v!==null&&(s[j]=v)}for(const j in f)s[j]=f[j]}}}return s}const Bh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qd=new Set(Bh),Iq=e=>t=>typeof t=="string"&&t.startsWith(e),Lq=Iq("--"),kde=Iq("var(--"),Z2=e=>kde(e)?Pde.test(e.split("/*")[0].trim()):!1,Pde=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$q=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xo=(e,t,n)=>n>t?t:n<e?e:n,Uh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xf={...Uh,transform:e=>Xo(0,1,e)},Cy={...Uh,default:1},Sx=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),bl=Sx("deg"),Hi=Sx("%"),wt=Sx("px"),_de=Sx("vh"),Sde=Sx("vw"),XD={...Hi,parse:e=>Hi.parse(e)/100,transform:e=>Hi.transform(e*100)},Cde={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt},Ade={rotate:bl,rotateX:bl,rotateY:bl,rotateZ:bl,scale:Cy,scaleX:Cy,scaleY:Cy,scaleZ:Cy,skew:bl,skewX:bl,skewY:bl,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:Xf,originX:XD,originY:XD,originZ:wt},ZD={...Uh,transform:Math.round},eA={...Cde,...Ade,zIndex:ZD,size:wt,fillOpacity:Xf,strokeOpacity:Xf,numOctaves:ZD},Tde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ede=Bh.length;function Ode(e,t,n){let r="",s=!0;for(let i=0;i<Ede;i++){const o=Bh[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=$q(l,eA[o]);if(!c){s=!1;const u=Tde[o]||o;r+=`${u}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function tA(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Qd.has(c)){o=!0;continue}else if(Lq(c)){s[c]=d;continue}else{const u=$q(d,eA[c]);c.startsWith("origin")?(l=!0,i[c]=u):r[c]=u}}if(t.transform||(o||n?r.transform=Ode(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;r.transformOrigin=`${c} ${d} ${u}`}}const Dde={offset:"stroke-dashoffset",array:"stroke-dasharray"},Mde={offset:"strokeDashoffset",array:"strokeDasharray"};function Rde(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Dde:Mde;e[i.offset]=wt.transform(-r);const o=wt.transform(t),l=wt.transform(n);e[i.array]=`${o} ${l}`}function eM(e,t,n){return typeof e=="string"?e:wt.transform(t+n*e)}function Ide(e,t,n){const r=eM(t,e.x,e.width),s=eM(n,e.y,e.height);return`${r} ${s}`}function aA(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,m){if(tA(e,d,m),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:g}=e;h.transform&&(g&&(p.transform=h.transform),delete h.transform),g&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=Ide(g,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&Rde(h,o,l,c,!1)}const nA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Fq=()=>({...nA(),attrs:{}}),rA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Bq(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Uq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qq(e,t,n,r){Bq(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Uq.has(s)?s:Y2(s),t.attrs[s])}const yb={};function Lde(e){Object.assign(yb,e)}function Vq(e,{layout:t,layoutId:n}){return Qd.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!yb[e]||e==="opacity")}function sA(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(mr(s[o])||t.style&&mr(t.style[o])||Vq(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function Kq(e,t,n){const r=sA(e,t,n);for(const s in e)if(mr(e[s])||mr(t[s])){const i=Bh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function $de(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const tM=["x","y","width","height","cx","cy","r"],Fde={useVisualState:Rq({scrapeMotionValuesFromProps:Kq,createRenderState:Fq,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in s)if(Qd.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<tM.length;l++){const c=tM[l];e[c]!==t[c]&&(o=!0)}o&&$a.read(()=>{$de(n,r),$a.render(()=>{aA(r,s,rA(n.tagName),e.transformTemplate),qq(n,r)})})}})},Bde={useVisualState:Rq({scrapeMotionValuesFromProps:sA,createRenderState:nA})};function zq(e,t,n){for(const r in t)!mr(t[r])&&!Vq(r,n)&&(e[r]=t[r])}function Ude({transformTemplate:e},t){return y.useMemo(()=>{const n=nA();return tA(n,t,e),Object.assign({},n.vars,n.style)},[t])}function qde(e,t){const n=e.style||{},r={};return zq(r,n,e),Object.assign(r,Ude(e,t)),r}function Vde(e,t){const n={},r=qde(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function Kde(e,t,n,r){const s=y.useMemo(()=>{const i=Fq();return aA(i,t,rA(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};zq(i,e.style,e),s.style={...i,...s.style}}return s}function zde(e=!1){return(n,r,s,{latestValues:i},o)=>{const c=(Q2(n)?Kde:Vde)(r,i,o,n),d=ide(r,typeof n=="string",e),u=n!==y.Fragment?{...d,...c,ref:s}:{},{children:m}=r,h=y.useMemo(()=>mr(m)?m.get():m,[m]);return y.createElement(n,{...u,children:h})}}function Wde(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Q2(r)?Fde:Bde,preloadedFeatures:e,useRender:zde(s),createVisualElement:t,Component:r};return fde(o)}}function Wq(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Uw(e,t,n){const r=e.getProps();return X2(r,t,n!==void 0?n:r.custom,e)}const Hde=W2(()=>window.ScrollTimeline!==void 0);class Gde{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(Hde()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Yde extends Gde{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function iA(e,t){return e?e[t]||e.default||e:void 0}const qP=2e4;function Hq(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<qP;)t+=n,r=e.next(t);return t>=qP?1/0:t}function oA(e){return typeof e=="function"}function aM(e,t){e.timeline=t,e.onfinish=null}const lA=e=>Array.isArray(e)&&typeof e[0]=="number",Jde={linearEasing:void 0};function Qde(e,t){const n=W2(e);return()=>{var r;return(r=Jde[t])!==null&&r!==void 0?r:n()}}const vb=Qde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gq=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e($m(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Yq(e){return!!(typeof e=="function"&&vb()||!e||typeof e=="string"&&(e in VP||vb())||lA(e)||Array.isArray(e)&&e.every(Yq))}const Bp=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,VP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bp([0,.65,.55,1]),circOut:Bp([.55,0,1,.45]),backIn:Bp([.31,.01,.66,-.59]),backOut:Bp([.33,1.53,.69,.99])};function Jq(e,t){if(e)return typeof e=="function"&&vb()?Gq(e,t):lA(e)?Bp(e):Array.isArray(e)?e.map(n=>Jq(n,t)||VP.easeOut):VP[e]}const ai={x:!1,y:!1};function Qq(){return ai.x||ai.y}function Xde(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Xq(e,t){const n=Xde(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function nM(e){return t=>{t.pointerType==="touch"||Qq()||e(t)}}function Zde(e,t,n={}){const[r,s,i]=Xq(e,n),o=nM(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=nM(m=>{d(m),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const Zq=(e,t)=>t?e===t?!0:Zq(e,t.parentElement):!1,cA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,eue=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tue(e){return eue.has(e.tagName)||e.tabIndex!==-1}const Up=new WeakSet;function rM(e){return t=>{t.key==="Enter"&&e(t)}}function KN(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const aue=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=rM(()=>{if(Up.has(n))return;KN(n,"down");const s=rM(()=>{KN(n,"up")}),i=()=>KN(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function sM(e){return cA(e)&&!Qq()}function nue(e,t,n={}){const[r,s,i]=Xq(e,n),o=l=>{const c=l.currentTarget;if(!sM(l)||Up.has(c))return;Up.add(c);const d=t(l),u=(p,g)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),!(!sM(p)||!Up.has(c))&&(Up.delete(c),typeof d=="function"&&d(p,{success:g}))},m=p=>{u(p,n.useGlobalTarget||Zq(c,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",h,s)};return r.forEach(l=>{!tue(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",d=>aue(d,s),s)}),i}function rue(e){return e==="x"||e==="y"?ai[e]?null:(ai[e]=!0,()=>{ai[e]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}const eV=new Set(["width","height","top","left","right","bottom",...Bh]);let jv;function sue(){jv=void 0}const Gi={now:()=>(jv===void 0&&Gi.set(Qn.isProcessing||ede.useManualTiming?Qn.timestamp:performance.now()),jv),set:e=>{jv=e,queueMicrotask(sue)}};function dA(e,t){e.indexOf(t)===-1&&e.push(t)}function uA(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class mA{constructor(){this.subscriptions=[]}add(t){return dA(this.subscriptions,t),()=>uA(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tV(e,t){return t?e*(1e3/t):0}const iM=30,iue=e=>!isNaN(parseFloat(e));class oue{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Gi.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Gi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=iue(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new mA);const r=this.events[t].add(n);return t==="change"?()=>{r(),$a.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>iM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iM);return tV(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zf(e,t){return new oue(e,t)}function lue(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zf(n))}function cue(e,t){const n=Uw(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=wde(i[o]);lue(e,o,l)}}function due(e){return!!(mr(e)&&e.add)}function KP(e,t){const n=e.getValue("willChange");if(due(n))return n.add(t)}function aV(e){return e.props[Oq]}const nV=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,uue=1e-7,mue=12;function hue(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=nV(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>uue&&++l<mue);return o}function Cx(e,t,n,r){if(e===t&&n===r)return fs;const s=i=>hue(i,0,1,e,n);return i=>i===0||i===1?i:nV(s(i),t,r)}const rV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sV=e=>t=>1-e(1-t),iV=Cx(.33,1.53,.69,.99),hA=sV(iV),oV=rV(hA),lV=e=>(e*=2)<1?.5*hA(e):.5*(2-Math.pow(2,-10*(e-1))),pA=e=>1-Math.sin(Math.acos(e)),cV=sV(pA),dV=rV(pA),uV=e=>/^0[^.\s]+$/u.test(e);function pue(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||uV(e):!0}const of=e=>Math.round(e*1e5)/1e5,fA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fue(e){return e==null}const gue=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gA=(e,t)=>n=>!!(typeof n=="string"&&gue.test(n)&&n.startsWith(e)||t&&!fue(n)&&Object.prototype.hasOwnProperty.call(n,t)),mV=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(fA);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},xue=e=>Xo(0,255,e),zN={...Uh,transform:e=>Math.round(xue(e))},td={test:gA("rgb","red"),parse:mV("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+zN.transform(e)+", "+zN.transform(t)+", "+zN.transform(n)+", "+of(Xf.transform(r))+")"};function yue(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const zP={test:gA("#"),parse:yue,transform:td.transform},Fu={test:gA("hsl","hue"),parse:mV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Hi.transform(of(t))+", "+Hi.transform(of(n))+", "+of(Xf.transform(r))+")"},sr={test:e=>td.test(e)||zP.test(e)||Fu.test(e),parse:e=>td.test(e)?td.parse(e):Fu.test(e)?Fu.parse(e):zP.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?td.transform(e):Fu.transform(e)},vue=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bue(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(fA))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(vue))===null||n===void 0?void 0:n.length)||0)>0}const hV="number",pV="color",wue="var",jue="var(",oM="${}",Nue=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eg(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(Nue,c=>(sr.test(c)?(r.color.push(i),s.push(pV),n.push(sr.parse(c))):c.startsWith(jue)?(r.var.push(i),s.push(wue),n.push(c)):(r.number.push(i),s.push(hV),n.push(parseFloat(c))),++i,oM)).split(oM);return{values:n,split:l,indexes:r,types:s}}function fV(e){return eg(e).values}function gV(e){const{split:t,types:n}=eg(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===hV?i+=of(s[o]):l===pV?i+=sr.transform(s[o]):i+=s[o]}return i}}const kue=e=>typeof e=="number"?0:e;function Pue(e){const t=fV(e);return gV(e)(t.map(kue))}const mc={test:bue,parse:fV,createTransformer:gV,getAnimatableNone:Pue},_ue=new Set(["brightness","contrast","saturate","opacity"]);function Sue(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(fA)||[];if(!r)return e;const s=n.replace(r,"");let i=_ue.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const Cue=/\b([a-z-]*)\(.*?\)/gu,WP={...mc,getAnimatableNone:e=>{const t=e.match(Cue);return t?t.map(Sue).join(" "):e}},Aue={...eA,color:sr,backgroundColor:sr,outlineColor:sr,fill:sr,stroke:sr,borderColor:sr,borderTopColor:sr,borderRightColor:sr,borderBottomColor:sr,borderLeftColor:sr,filter:WP,WebkitFilter:WP},xA=e=>Aue[e];function xV(e,t){let n=xA(e);return n!==WP&&(n=mc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Tue=new Set(["auto","none","0"]);function Eue(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!Tue.has(i)&&eg(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=xV(n,s)}const lM=e=>e===Uh||e===wt,cM=(e,t)=>parseFloat(e.split(", ")[t]),dM=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return cM(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?cM(i[1],e):0}},Oue=new Set(["x","y","z"]),Due=Bh.filter(e=>!Oue.has(e));function Mue(e){const t=[];return Due.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Bm={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:dM(4,13),y:dM(5,14)};Bm.translateX=Bm.x;Bm.translateY=Bm.y;const vd=new Set;let HP=!1,GP=!1;function yV(){if(GP){const e=Array.from(vd).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Mue(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}GP=!1,HP=!1,vd.forEach(e=>e.complete()),vd.clear()}function vV(){vd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(GP=!0)})}function Rue(){vV(),yV()}class yA{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vd.add(this),HP||(HP=!0,$a.read(vV),$a.resolveKeyframes(yV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bV=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Iue=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Lue(e){const t=Iue.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function wV(e,t,n=1){const[r,s]=Lue(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return bV(o)?parseFloat(o):o}return Z2(s)?wV(s,t,n+1):s}const jV=e=>t=>t.test(e),$ue={test:e=>e==="auto",parse:e=>e},NV=[Uh,wt,Hi,bl,Sde,_de,$ue],uM=e=>NV.find(jV(e));class kV extends yA{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Z2(d))){const u=wV(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!eV.has(r)||t.length!==2)return;const[s,i]=t,o=uM(s),l=uM(i);if(o!==l)if(lM(o)&&lM(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)pue(t[s])&&r.push(s);r.length&&Eue(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bm[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Bm[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const mM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mc.test(e)||e==="0")&&!e.startsWith("url("));function Fue(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Bue(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=mM(s,t),l=mM(i,t);return!o||!l?!1:Fue(e)||(n==="spring"||oA(n))&&r}const Uue=e=>e!==null;function qw(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Uue),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const que=40;class PV{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gi.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>que?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Rue(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Gi.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!Bue(t,r,s,i))if(o)this.options.duration=0;else{c&&c(qw(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Qa=(e,t,n)=>e+(t-e)*n;function WN(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Vue({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=WN(c,l,e+1/3),i=WN(c,l,e),o=WN(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function bb(e,t){return n=>n>0?t:e}const HN=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Kue=[zP,td,Fu],zue=e=>Kue.find(t=>t.test(e));function hM(e){const t=zue(e);if(!t)return!1;let n=t.parse(e);return t===Fu&&(n=Vue(n)),n}const pM=(e,t)=>{const n=hM(e),r=hM(t);if(!n||!r)return bb(e,t);const s={...n};return i=>(s.red=HN(n.red,r.red,i),s.green=HN(n.green,r.green,i),s.blue=HN(n.blue,r.blue,i),s.alpha=Qa(n.alpha,r.alpha,i),td.transform(s))},Wue=(e,t)=>n=>t(e(n)),Ax=(...e)=>e.reduce(Wue),YP=new Set(["none","hidden"]);function Hue(e,t){return YP.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Gue(e,t){return n=>Qa(e,t,n)}function vA(e){return typeof e=="number"?Gue:typeof e=="string"?Z2(e)?bb:sr.test(e)?pM:Que:Array.isArray(e)?_V:typeof e=="object"?sr.test(e)?pM:Yue:bb}function _V(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>vA(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Yue(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=vA(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Jue(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[o]++}return r}const Que=(e,t)=>{const n=mc.createTransformer(t),r=eg(e),s=eg(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?YP.has(e)&&!s.values.length||YP.has(t)&&!r.values.length?Hue(e,t):Ax(_V(Jue(r,s),s.values),n):bb(e,t)};function SV(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Qa(e,t,n):vA(e)(e,t)}const Xue=5;function CV(e,t,n){const r=Math.max(t-Xue,0);return tV(n-e(r),t-r)}const an={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},GN=.001;function Zue({duration:e=an.duration,bounce:t=an.bounce,velocity:n=an.velocity,mass:r=an.mass}){let s,i,o=1-t;o=Xo(an.minDamping,an.maxDamping,o),e=Xo(an.minDuration,an.maxDuration,Lo(e)),o<1?(s=d=>{const u=d*o,m=u*e,h=u-n,p=JP(d,o),g=Math.exp(-m);return GN-h/p*g},i=d=>{const m=d*o*e,h=m*n+n,p=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-m),f=JP(Math.pow(d,2),o);return(-s(d)+GN>0?-1:1)*((h-p)*g)/f}):(s=d=>{const u=Math.exp(-d*e),m=(d-n)*e+1;return-GN+u*m},i=d=>{const u=Math.exp(-d*e),m=(n-d)*(e*e);return u*m});const l=5/e,c=tme(s,i,l);if(e=Io(e),isNaN(c))return{stiffness:an.stiffness,damping:an.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const eme=12;function tme(e,t,n){let r=n;for(let s=1;s<eme;s++)r=r-e(r)/t(r);return r}function JP(e,t){return e*Math.sqrt(1-t*t)}const ame=["duration","bounce"],nme=["stiffness","damping","mass"];function fM(e,t){return t.some(n=>e[n]!==void 0)}function rme(e){let t={velocity:an.velocity,stiffness:an.stiffness,damping:an.damping,mass:an.mass,isResolvedFromDuration:!1,...e};if(!fM(e,nme)&&fM(e,ame))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Xo(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:an.mass,stiffness:s,damping:i}}else{const n=Zue(e);t={...t,...n,mass:an.mass},t.isResolvedFromDuration=!0}return t}function AV(e=an.visualDuration,t=an.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:m,velocity:h,isResolvedFromDuration:p}=rme({...n,velocity:-Lo(n.velocity||0)}),g=h||0,f=d/(2*Math.sqrt(c*u)),x=o-i,b=Lo(Math.sqrt(c/u)),j=Math.abs(x)<5;r||(r=j?an.restSpeed.granular:an.restSpeed.default),s||(s=j?an.restDelta.granular:an.restDelta.default);let v;if(f<1){const w=JP(b,f);v=P=>{const k=Math.exp(-f*b*P);return o-k*((g+f*b*x)/w*Math.sin(w*P)+x*Math.cos(w*P))}}else if(f===1)v=w=>o-Math.exp(-b*w)*(x+(g+b*x)*w);else{const w=b*Math.sqrt(f*f-1);v=P=>{const k=Math.exp(-f*b*P),_=Math.min(w*P,300);return o-k*((g+f*b*x)*Math.sinh(_)+w*x*Math.cosh(_))/w}}const N={calculatedDuration:p&&m||null,next:w=>{const P=v(w);if(p)l.done=w>=m;else{let k=0;f<1&&(k=w===0?Io(g):CV(v,w,P));const _=Math.abs(k)<=r,S=Math.abs(o-P)<=s;l.done=_&&S}return l.value=l.done?o:P,l},toString:()=>{const w=Math.min(Hq(N),qP),P=Gq(k=>N.next(w*k).value,w,30);return w+"ms "+P}};return N}function gM({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},p=_=>l!==void 0&&_<l||c!==void 0&&_>c,g=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let f=n*t;const x=m+f,b=o===void 0?x:o(x);b!==x&&(f=b-m);const j=_=>-f*Math.exp(-_/r),v=_=>b+j(_),N=_=>{const S=j(_),O=v(_);h.done=Math.abs(S)<=d,h.value=h.done?b:O};let w,P;const k=_=>{p(h.value)&&(w=_,P=AV({keyframes:[h.value,g(h.value)],velocity:CV(v,_,h.value),damping:s,stiffness:i,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:_=>{let S=!1;return!P&&w===void 0&&(S=!0,N(_),k(_)),w!==void 0&&_>=w?P.next(_-w):(!S&&N(_),h)}}}const sme=Cx(.42,0,1,1),ime=Cx(0,0,.58,1),TV=Cx(.42,0,.58,1),ome=e=>Array.isArray(e)&&typeof e[0]!="number",xM={linear:fs,easeIn:sme,easeInOut:TV,easeOut:ime,circIn:pA,circInOut:dV,circOut:cV,backIn:hA,backInOut:oV,backOut:iV,anticipate:lV},yM=e=>{if(lA(e)){BP(e.length===4);const[t,n,r,s]=e;return Cx(t,n,r,s)}else if(typeof e=="string")return BP(xM[e]!==void 0),xM[e];return e};function lme(e,t,n){const r=[],s=n||SV,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||fs:t;l=Ax(c,l)}r.push(l)}return r}function cme(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(BP(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=lme(t,r,s),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const h=$m(e[m],e[m+1],u);return l[m](h)};return n?u=>d(Xo(e[0],e[i-1],u)):d}function dme(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=$m(0,t,r);e.push(Qa(n,1,s))}}function ume(e){const t=[0];return dme(t,e.length-1),t}function mme(e,t){return e.map(n=>n*t)}function hme(e,t){return e.map(()=>t||TV).splice(0,e.length-1)}function wb({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=ome(r)?r.map(yM):yM(r),i={done:!1,value:t[0]},o=mme(n&&n.length===t.length?n:ume(t),e),l=cme(o,t,{ease:Array.isArray(s)?s:hme(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const pme=e=>{const t=({timestamp:n})=>e(n);return{start:()=>$a.update(t,!0),stop:()=>uc(t),now:()=>Qn.isProcessing?Qn.timestamp:Gi.now()}},fme={decay:gM,inertia:gM,tween:wb,keyframes:wb,spring:AV},gme=e=>e/100;class bA extends PV{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||yA,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=oA(n)?n:fme[n]||wb;let c,d;l!==wb&&typeof t[0]!="number"&&(c=Ax(gme,SV(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});i==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Hq(u));const{calculatedDuration:m}=u,h=m+s,p=h*(r+1)-s;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:m,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:m}=r;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:g,repeatDelay:f,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-h*(this.speed>=0?1:-1),j=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let v=this.currentTime,N=i;if(p){const _=Math.min(this.currentTime,u)/m;let S=Math.floor(_),O=_%1;!O&&_>=1&&(O=1),O===1&&S--,S=Math.min(S,p+1),!!(S%2)&&(g==="reverse"?(O=1-O,f&&(O-=f/m)):g==="mirror"&&(N=o)),v=Xo(0,1,O)*m}const w=j?{done:!1,value:c[0]}:N.next(v);l&&(w.value=l(w.value));let{done:P}=w;!j&&d!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&s!==void 0&&(w.value=qw(c,this.options,s)),x&&x(w.value),k&&this.finish(),w}get duration(){const{resolved:t}=this;return t?Lo(t.calculatedDuration):0}get time(){return Lo(this.currentTime)}set time(t){t=Io(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Lo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=pme,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const xme=new Set(["opacity","clipPath","filter","transform"]);function yme(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:n};c&&(d.offset=c);const u=Jq(l,s);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const vme=W2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jb=10,bme=2e4;function wme(e){return oA(e.type)||e.type==="spring"||!Yq(e.ease)}function jme(e,t){const n=new bA({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<bme;)r=n.sample(i),s.push(r.value),i+=jb;return{times:void 0,keyframes:s,duration:i-jb,ease:"linear"}}const EV={anticipate:lV,backInOut:oV,circInOut:dV};function Nme(e){return e in EV}class vM extends PV{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new kV(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&vb()&&Nme(i)&&(i=EV[i]),wme(this.options)){const{onComplete:m,onUpdate:h,motionValue:p,element:g,...f}=this.options,x=jme(t,f);t=x.keyframes,t.length===1&&(t[1]=t[0]),r=x.duration,s=x.times,i=x.ease,o="keyframes"}const u=yme(l.owner.current,c,t,{...this.options,duration:r,times:s,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(aM(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:m}=this.options;l.set(qw(t,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Lo(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Lo(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Io(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return fs;const{animation:r}=n;aM(r,t)}return fs}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:m,element:h,...p}=this.options,g=new bA({...p,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),f=Io(this.time);d.setWithVelocity(g.sample(f-jb).value,g.sample(f).value,jb)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=n.owner.getProps();return vme()&&r&&xme.has(r)&&!c&&!d&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const kme={type:"spring",stiffness:500,damping:25,restSpeed:10},Pme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_me={type:"keyframes",duration:.8},Sme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cme=(e,{keyframes:t})=>t.length>2?_me:Qd.has(e)?e.startsWith("scale")?Pme(t[1]):kme:Sme;function Ame({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const wA=(e,t,n,r={},s,i)=>o=>{const l=iA(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Io(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};Ame(l)||(u={...u,...Cme(e,u)}),u.duration&&(u.duration=Io(u.duration)),u.repeatDelay&&(u.repeatDelay=Io(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(m=!0)),m&&!i&&t.get()!==void 0){const h=qw(u.keyframes,l);if(h!==void 0)return $a.update(()=>{u.onUpdate(h),u.onComplete()}),new Yde([])}return!i&&vM.supports(u)?new vM(u):new bA(u)};function Tme({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function OV(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const d=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const m in c){const h=e.getValue(m,(i=e.latestValues[m])!==null&&i!==void 0?i:null),p=c[m];if(p===void 0||u&&Tme(u,m))continue;const g={delay:n,...iA(o||{},m)};let f=!1;if(window.MotionHandoffAnimation){const b=aV(e);if(b){const j=window.MotionHandoffAnimation(b,m,$a);j!==null&&(g.startTime=j,f=!0)}}KP(e,m),h.start(wA(m,h,p,e.shouldReduceMotion&&eV.has(m)?{type:!1}:g,e,f));const x=h.animation;x&&d.push(x)}return l&&Promise.all(d).then(()=>{$a.update(()=>{l&&cue(e,l)})}),d}function QP(e,t,n={}){var r;const s=Uw(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(OV(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:h}=i;return Eme(e,t,u+d,m,h,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(n.delay)])}function Eme(e,t,n=0,r=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(Ome).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(QP(d,t,{...i,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function Ome(e,t){return e.sortNodePosition(t)}function Dme(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>QP(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=QP(e,t,n);else{const s=typeof t=="function"?Uw(e,t,n.custom):t;r=Promise.all(OV(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Mme=G2.length;function DV(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?DV(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Mme;n++){const r=G2[n],s=e.props[r];(Qf(s)||s===!1)&&(t[r]=s)}return t}const Rme=[...H2].reverse(),Ime=H2.length;function Lme(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Dme(e,n,r)))}function $me(e){let t=Lme(e),n=bM(),r=!0;const s=c=>(d,u)=>{var m;const h=Uw(e,u,c==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:g,...f}=h;d={...d,...f,...g}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=DV(e.parent)||{},m=[],h=new Set;let p={},g=1/0;for(let x=0;x<Ime;x++){const b=Rme[x],j=n[b],v=d[b]!==void 0?d[b]:u[b],N=Qf(v),w=b===c?j.isActive:null;w===!1&&(g=x);let P=v===u[b]&&v!==d[b]&&N;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),j.protectedKeys={...p},!j.isActive&&w===null||!v&&!j.prevProp||Fw(v)||typeof v=="boolean")continue;const k=Fme(j.prevProp,v);let _=k||b===c&&j.isActive&&!P&&N||x>g&&N,S=!1;const O=Array.isArray(v)?v:[v];let A=O.reduce(s(b),{});w===!1&&(A={});const{prevResolvedValues:E={}}=j,D={...E,...A},B=Y=>{_=!0,h.has(Y)&&(S=!0,h.delete(Y)),j.needsAnimating[Y]=!0;const M=e.getValue(Y);M&&(M.liveStyle=!1)};for(const Y in D){const M=A[Y],R=E[Y];if(p.hasOwnProperty(Y))continue;let J=!1;UP(M)&&UP(R)?J=!Wq(M,R):J=M!==R,J?M!=null?B(Y):h.add(Y):M!==void 0&&h.has(Y)?B(Y):j.protectedKeys[Y]=!0}j.prevProp=v,j.prevResolvedValues=A,j.isActive&&(p={...p,...A}),r&&e.blockInitialAnimation&&(_=!1),_&&(!(P&&k)||S)&&m.push(...O.map(Y=>({animation:Y,options:{type:b}})))}if(h.size){const x={};h.forEach(b=>{const j=e.getBaseTarget(b),v=e.getValue(b);v&&(v.liveStyle=!0),x[b]=j??null}),m.push({animation:x})}let f=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(m):Promise.resolve()}function l(c,d){var u;if(n[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,d)}),n[c].isActive=d;const m=o(c);for(const h in n)n[h].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=bM(),r=!0}}}function Fme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Wq(t,e):!1}function Dc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bM(){return{animate:Dc(!0),whileInView:Dc(),whileHover:Dc(),whileTap:Dc(),whileDrag:Dc(),whileFocus:Dc(),exit:Dc()}}class kc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Bme extends kc{constructor(t){super(t),t.animationState||(t.animationState=$me(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Ume=0;class qme extends kc{constructor(){super(...arguments),this.id=Ume++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Vme={animation:{Feature:Bme},exit:{Feature:qme}};function tg(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Tx(e){return{point:{x:e.pageX,y:e.pageY}}}const Kme=e=>t=>cA(t)&&e(t,Tx(t));function lf(e,t,n,r){return tg(e,t,Kme(n),r)}const wM=(e,t)=>Math.abs(e-t);function zme(e,t){const n=wM(e.x,t.x),r=wM(e.y,t.y);return Math.sqrt(n**2+r**2)}class MV{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=JN(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=zme(m.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=m,{timestamp:f}=Qn;this.history.push({...g,timestamp:f});const{onStart:x,onMove:b}=this.handlers;h||(x&&x(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=YN(h,this.transformPagePoint),$a.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=JN(m.type==="pointercancel"?this.lastMoveEventInfo:YN(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,x),g&&g(m,x)},!cA(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Tx(t),l=YN(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Qn;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(t,JN(l,this.history)),this.removeListeners=Ax(lf(this.contextWindow,"pointermove",this.handlePointerMove),lf(this.contextWindow,"pointerup",this.handlePointerUp),lf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),uc(this.updatePoint)}}function YN(e,t){return t?{point:t(e.point)}:e}function jM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function JN({point:e},t){return{point:e,delta:jM(e,RV(t)),offset:jM(e,Wme(t)),velocity:Hme(t,.1)}}function Wme(e){return e[0]}function RV(e){return e[e.length-1]}function Hme(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=RV(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Io(t)));)n--;if(!r)return{x:0,y:0};const i=Lo(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const IV=1e-4,Gme=1-IV,Yme=1+IV,LV=.01,Jme=0-LV,Qme=0+LV;function ws(e){return e.max-e.min}function Xme(e,t,n){return Math.abs(e-t)<=n}function NM(e,t,n,r=.5){e.origin=r,e.originPoint=Qa(t.min,t.max,e.origin),e.scale=ws(n)/ws(t),e.translate=Qa(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Gme&&e.scale<=Yme||isNaN(e.scale))&&(e.scale=1),(e.translate>=Jme&&e.translate<=Qme||isNaN(e.translate))&&(e.translate=0)}function cf(e,t,n,r){NM(e.x,t.x,n.x,r?r.originX:void 0),NM(e.y,t.y,n.y,r?r.originY:void 0)}function kM(e,t,n){e.min=n.min+t.min,e.max=e.min+ws(t)}function Zme(e,t,n){kM(e.x,t.x,n.x),kM(e.y,t.y,n.y)}function PM(e,t,n){e.min=t.min-n.min,e.max=e.min+ws(t)}function df(e,t,n){PM(e.x,t.x,n.x),PM(e.y,t.y,n.y)}function ehe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Qa(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Qa(n,e,r.max):Math.min(e,n)),e}function _M(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function the(e,{top:t,left:n,bottom:r,right:s}){return{x:_M(e.x,n,s),y:_M(e.y,t,r)}}function SM(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function ahe(e,t){return{x:SM(e.x,t.x),y:SM(e.y,t.y)}}function nhe(e,t){let n=.5;const r=ws(e),s=ws(t);return s>r?n=$m(t.min,t.max-r,e.min):r>s&&(n=$m(e.min,e.max-s,t.min)),Xo(0,1,n)}function rhe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const XP=.35;function she(e=XP){return e===!1?e=0:e===!0&&(e=XP),{x:CM(e,"left","right"),y:CM(e,"top","bottom")}}function CM(e,t,n){return{min:AM(e,t),max:AM(e,n)}}function AM(e,t){return typeof e=="number"?e:e[t]||0}const TM=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bu=()=>({x:TM(),y:TM()}),EM=()=>({min:0,max:0}),ln=()=>({x:EM(),y:EM()});function As(e){return[e("x"),e("y")]}function $V({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function ihe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ohe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function QN(e){return e===void 0||e===1}function ZP({scale:e,scaleX:t,scaleY:n}){return!QN(e)||!QN(t)||!QN(n)}function qc(e){return ZP(e)||FV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function FV(e){return OM(e.x)||OM(e.y)}function OM(e){return e&&e!=="0%"}function Nb(e,t,n){const r=e-n,s=t*r;return n+s}function DM(e,t,n,r,s){return s!==void 0&&(e=Nb(e,s,r)),Nb(e,n,r)+t}function e_(e,t=0,n=1,r,s){e.min=DM(e.min,t,n,r,s),e.max=DM(e.max,t,n,r,s)}function BV(e,{x:t,y:n}){e_(e.x,t.translate,t.scale,t.originPoint),e_(e.y,n.translate,n.scale,n.originPoint)}const MM=.999999999999,RM=1.0000000000001;function lhe(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,BV(e,o)),r&&qc(i.latestValues)&&qu(e,i.latestValues))}t.x<RM&&t.x>MM&&(t.x=1),t.y<RM&&t.y>MM&&(t.y=1)}function Uu(e,t){e.min=e.min+t,e.max=e.max+t}function IM(e,t,n,r,s=.5){const i=Qa(e.min,e.max,s);e_(e,t,n,i,r)}function qu(e,t){IM(e.x,t.x,t.scaleX,t.scale,t.originX),IM(e.y,t.y,t.scaleY,t.scale,t.originY)}function UV(e,t){return $V(ohe(e.getBoundingClientRect(),t))}function che(e,t,n){const r=UV(e,n),{scroll:s}=t;return s&&(Uu(r.x,s.offset.x),Uu(r.y,s.offset.y)),r}const qV=({current:e})=>e?e.ownerDocument.defaultView:null,dhe=new WeakMap;class uhe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tx(u).point)},i=(u,m)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rue(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),As(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Hi.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const v=j.layout.layoutBox[x];v&&(b=ws(v)*(parseFloat(b)/100))}}this.originPoint[x]=b}),g&&$a.postRender(()=>g(u,m)),KP(this.visualElement,"transform");const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(u,m)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:f}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:x}=m;if(p&&this.currentDirection===null){this.currentDirection=mhe(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,x),this.updateAxis("y",m.point,x),this.visualElement.render(),f&&f(u,m)},l=(u,m)=>this.stop(u,m),c=()=>As(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new MV(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:qV(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&$a.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Ay(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=ehe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&$u(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=the(s.layoutBox,n):this.constraints=!1,this.elastic=she(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&As(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rhe(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!$u(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=che(r,s.root,this.visualElement.getTransformPagePoint());let o=ahe(s.layout.layoutBox,i);if(n){const l=n(ihe(o));this.hasMutatedConstraints=!!l,l&&(o=$V(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=As(u=>{if(!Ay(u,n,this.currentDirection))return;let m=c&&c[u]||{};o&&(m={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:r?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return KP(this.visualElement,t),r.start(wA(t,r,0,n,this.visualElement,!1))}stopAnimation(){As(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){As(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){As(n=>{const{drag:r}=this.getProps();if(!Ay(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-Qa(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$u(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};As(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=nhe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),As(o=>{if(!Ay(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Qa(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;dhe.set(this.visualElement,this);const t=this.visualElement.current,n=lf(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();$u(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),$a.read(r);const o=tg(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(As(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=XP,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ay(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function mhe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class hhe extends kc{constructor(t){super(t),this.removeGroupControls=fs,this.removeListeners=fs,this.controls=new uhe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const LM=e=>(t,n)=>{e&&$a.postRender(()=>e(t,n))};class phe extends kc{constructor(){super(...arguments),this.removePointerDownListener=fs}onPointerDown(t){this.session=new MV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:LM(t),onStart:LM(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&$a.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=lf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $M(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(wt.test(e))e=parseFloat(e);else return e;const n=$M(e,t.target.x),r=$M(e,t.target.y);return`${n}% ${r}%`}},fhe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=mc.parse(e);if(s.length>5)return r;const i=mc.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const d=Qa(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};class ghe extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;Lde(xhe),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Nv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||$a.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),J2.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function VV(e){const[t,n]=_q(),r=y.useContext(q2);return a.jsx(ghe,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(Dq),isPresent:t,safeToRemove:n})}const xhe={borderRadius:{...fp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fp,borderTopRightRadius:fp,borderBottomLeftRadius:fp,borderBottomRightRadius:fp,boxShadow:fhe};function yhe(e,t,n){const r=mr(e)?e:Zf(e);return r.start(wA("",r,t,n)),r.animation}function vhe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const bhe=(e,t)=>e.depth-t.depth;class whe{constructor(){this.children=[],this.isDirty=!1}add(t){dA(this.children,t),this.isDirty=!0}remove(t){uA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bhe),this.isDirty=!1,this.children.forEach(t)}}function jhe(e,t){const n=Gi.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(uc(r),e(i-t))};return $a.read(r,!0),()=>uc(r)}const KV=["TopLeft","TopRight","BottomLeft","BottomRight"],Nhe=KV.length,FM=e=>typeof e=="string"?parseFloat(e):e,BM=e=>typeof e=="number"||wt.test(e);function khe(e,t,n,r,s,i){s?(e.opacity=Qa(0,n.opacity!==void 0?n.opacity:1,Phe(r)),e.opacityExit=Qa(t.opacity!==void 0?t.opacity:1,0,_he(r))):i&&(e.opacity=Qa(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Nhe;o++){const l=`border${KV[o]}Radius`;let c=UM(t,l),d=UM(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||BM(c)===BM(d)?(e[l]=Math.max(Qa(FM(c),FM(d),r),0),(Hi.test(d)||Hi.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Qa(t.rotate||0,n.rotate||0,r))}function UM(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Phe=zV(0,.5,cV),_he=zV(.5,.95,fs);function zV(e,t,n){return r=>r<e?0:r>t?1:n($m(e,t,r))}function qM(e,t){e.min=t.min,e.max=t.max}function Ps(e,t){qM(e.x,t.x),qM(e.y,t.y)}function VM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function KM(e,t,n,r,s){return e-=t,e=Nb(e,1/n,r),s!==void 0&&(e=Nb(e,1/s,r)),e}function She(e,t=0,n=1,r=.5,s,i=e,o=e){if(Hi.test(t)&&(t=parseFloat(t),t=Qa(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Qa(i.min,i.max,r);e===i&&(l-=t),e.min=KM(e.min,t,n,l,s),e.max=KM(e.max,t,n,l,s)}function zM(e,t,[n,r,s],i,o){She(e,t[n],t[r],t[s],t.scale,i,o)}const Che=["x","scaleX","originX"],Ahe=["y","scaleY","originY"];function WM(e,t,n,r){zM(e.x,t,Che,n?n.x:void 0,r?r.x:void 0),zM(e.y,t,Ahe,n?n.y:void 0,r?r.y:void 0)}function HM(e){return e.translate===0&&e.scale===1}function WV(e){return HM(e.x)&&HM(e.y)}function GM(e,t){return e.min===t.min&&e.max===t.max}function The(e,t){return GM(e.x,t.x)&&GM(e.y,t.y)}function YM(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function HV(e,t){return YM(e.x,t.x)&&YM(e.y,t.y)}function JM(e){return ws(e.x)/ws(e.y)}function QM(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Ehe{constructor(){this.members=[]}add(t){dA(this.members,t),t.scheduleRender()}remove(t){if(uA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ohe(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:h,skewX:p,skewY:g}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),m&&(r+=`rotateX(${m}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Vc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},qp=typeof window<"u"&&window.MotionDebug!==void 0,XN=["","X","Y","Z"],Dhe={visibility:"hidden"},XM=1e3;let Mhe=0;function ZN(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function GV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=aV(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",$a,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&GV(r)}function YV({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Mhe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qp&&(Vc.totalNodes=Vc.resolvedTargetDeltas=Vc.recalculatedProjection=0),this.nodes.forEach(Lhe),this.nodes.forEach(qhe),this.nodes.forEach(Vhe),this.nodes.forEach($he),qp&&window.MotionDebug.record(Vc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new whe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new mA),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vhe(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=jhe(h,250),Nv.hasAnimatedSinceResize&&(Nv.hasAnimatedSinceResize=!1,this.nodes.forEach(eR))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||u.getDefaultTransition()||Ghe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),j=!this.targetLayout||!HV(this.targetLayout,g)||p,v=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||h&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,v);const N={...iA(f,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||eR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,uc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Khe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZM);return}this.isUpdating||this.nodes.forEach(Bhe),this.isUpdating=!1,this.nodes.forEach(Uhe),this.nodes.forEach(Rhe),this.nodes.forEach(Ihe),this.clearAllSnapshots();const l=Gi.now();Qn.delta=Xo(0,1e3/60,l-Qn.timestamp),Qn.timestamp=l,Qn.isProcessing=!0,VN.update.process(Qn),VN.preRender.process(Qn),VN.render.process(Qn),Qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,J2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Fhe),this.sharedNodes.forEach(zhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$a.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$a.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!WV(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||qc(this.latestValues)||u)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Yhe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ln();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Jhe))){const{scroll:u}=this.root;u&&(Uu(c.x,u.offset.x),Uu(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=ln();if(Ps(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:h}=u;u!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&Ps(c,o),Uu(c.x,m.offset.x),Uu(c.y,m.offset.y))}return c}applyTransform(o,l=!1){const c=ln();Ps(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&qu(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),qc(u.latestValues)&&qu(c,u.latestValues)}return qc(this.latestValues)&&qu(c,this.latestValues),c}removeTransform(o){const l=ln();Ps(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!qc(d.latestValues))continue;ZP(d.latestValues)&&d.updateSnapshot();const u=ln(),m=d.measurePageBox();Ps(u,m),WM(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return qc(this.latestValues)&&WM(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=Qn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),df(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Zme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ps(this.target,this.layout.layoutBox),BV(this.target,this.targetDelta)):Ps(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),df(this.relativeTargetOrigin,this.target,p.target),Ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qp&&Vc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ZP(this.parent.latestValues)||FV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Qn.timestamp&&(d=!1),d)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;Ps(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;lhe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ln());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VM(this.prevProjectionDelta.x,this.projectionDelta.x),VM(this.prevProjectionDelta.y,this.projectionDelta.y)),cf(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!QM(this.projectionDelta.x,this.prevProjectionDelta.x)||!QM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),qp&&Vc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bu(),this.projectionDelta=Bu(),this.projectionDeltaWithTransform=Bu()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=Bu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=ln(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,f=p!==g,x=this.getStack(),b=!x||x.members.length<=1,j=!!(f&&!b&&this.options.crossfade===!0&&!this.path.some(Hhe));this.animationProgress=0;let v;this.mixTargetDelta=N=>{const w=N/1e3;tR(m.x,o.x,w),tR(m.y,o.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(df(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Whe(this.relativeTarget,this.relativeTargetOrigin,h,w),v&&The(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=ln()),Ps(v,this.relativeTarget)),f&&(this.animationValues=u,khe(u,d,this.latestValues,w,j,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(uc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$a.update(()=>{Nv.hasAnimatedSinceResize=!0,this.currentAnimation=yhe(0,XM,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&JV(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ln();const m=ws(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const h=ws(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Ps(l,c),qu(l,u),cf(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Ehe),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&ZN("z",o,d,this.animationValues);for(let u=0;u<XN.length;u++)ZN(`rotate${XN[u]}`,o,d,this.animationValues),ZN(`skew${XN[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Dhe;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=wv(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=wv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!qc(this.latestValues)&&(f.transform=u?u({},""):"none",this.hasProjected=!1),f}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=Ohe(this.projectionDeltaWithTransform,this.treeScale,h),u&&(d.transform=u(h,d.transform));const{x:p,y:g}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const f in yb){if(h[f]===void 0)continue;const{correct:x,applyTo:b}=yb[f],j=d.transform==="none"?h[f]:x(h[f],m);if(b){const v=b.length;for(let N=0;N<v;N++)d[b[N]]=j}else d[f]=j}return this.options.layoutId&&(d.pointerEvents=m===this?wv(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(ZM),this.root.sharedNodes.clear()}}}function Rhe(e){e.updateLayout()}function Ihe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?As(m=>{const h=o?n.measuredBox[m]:n.layoutBox[m],p=ws(h);h.min=r[m].min,h.max=h.min+p}):JV(i,n.layoutBox,r)&&As(m=>{const h=o?n.measuredBox[m]:n.layoutBox[m],p=ws(r[m]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const l=Bu();cf(l,r,n.layoutBox);const c=Bu();o?cf(c,e.applyTransform(s,!0),n.measuredBox):cf(c,r,n.layoutBox);const d=!WV(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:p}=m;if(h&&p){const g=ln();df(g,n.layoutBox,h.layoutBox);const f=ln();df(f,r,p.layoutBox),HV(g,f)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=f,e.relativeTargetOrigin=g,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Lhe(e){qp&&Vc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $he(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Fhe(e){e.clearSnapshot()}function ZM(e){e.clearMeasurements()}function Bhe(e){e.isLayoutDirty=!1}function Uhe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function eR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qhe(e){e.resolveTargetDelta()}function Vhe(e){e.calcProjection()}function Khe(e){e.resetSkewAndRotation()}function zhe(e){e.removeLeadSnapshot()}function tR(e,t,n){e.translate=Qa(t.translate,0,n),e.scale=Qa(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function aR(e,t,n,r){e.min=Qa(t.min,n.min,r),e.max=Qa(t.max,n.max,r)}function Whe(e,t,n,r){aR(e.x,t.x,n.x,r),aR(e.y,t.y,n.y,r)}function Hhe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ghe={duration:.45,ease:[.4,0,.1,1]},nR=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rR=nR("applewebkit/")&&!nR("chrome/")?Math.round:fs;function sR(e){e.min=rR(e.min),e.max=rR(e.max)}function Yhe(e){sR(e.x),sR(e.y)}function JV(e,t,n){return e==="position"||e==="preserve-aspect"&&!Xme(JM(t),JM(n),.2)}function Jhe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Qhe=YV({attachResizeListener:(e,t)=>tg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),e1={current:void 0},QV=YV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!e1.current){const e=new Qhe({});e.mount(window),e.setOptions({layoutScroll:!0}),e1.current=e}return e1.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Xhe={pan:{Feature:phe},drag:{Feature:hhe,ProjectionNode:QV,MeasureLayout:VV}};function iR(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&$a.postRender(()=>i(t,Tx(t)))}class Zhe extends kc{mount(){const{current:t}=this.node;t&&(this.unmount=Zde(t,n=>(iR(this.node,n,"Start"),r=>iR(this.node,r,"End"))))}unmount(){}}class epe extends kc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ax(tg(this.node.current,"focus",()=>this.onFocus()),tg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oR(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&$a.postRender(()=>i(t,Tx(t)))}class tpe extends kc{mount(){const{current:t}=this.node;t&&(this.unmount=nue(t,n=>(oR(this.node,n,"Start"),(r,{success:s})=>oR(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const t_=new WeakMap,t1=new WeakMap,ape=e=>{const t=t_.get(e.target);t&&t(e)},npe=e=>{e.forEach(ape)};function rpe({root:e,...t}){const n=e||document;t1.has(n)||t1.set(n,{});const r=t1.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(npe,{root:e,...t})),r[s]}function spe(e,t,n){const r=rpe(t);return t_.set(e,n),r.observe(e),()=>{t_.delete(e),r.unobserve(e)}}const ipe={some:0,all:1};class ope extends kc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:ipe[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=d?u:m;h&&h(c)};return spe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(lpe(t,n))&&this.startObserver()}unmount(){}}function lpe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const cpe={inView:{Feature:ope},tap:{Feature:tpe},focus:{Feature:epe},hover:{Feature:Zhe}},dpe={layout:{ProjectionNode:QV,MeasureLayout:VV}},a_={current:null},XV={current:!1};function upe(){if(XV.current=!0,!!z2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>a_.current=e.matches;e.addListener(t),t()}else a_.current=!1}const mpe=[...NV,sr,mc],hpe=e=>mpe.find(jV(e)),lR=new WeakMap;function ppe(e,t,n){for(const r in t){const s=t[r],i=n[r];if(mr(s))e.addValue(r,s);else if(mr(i))e.addValue(r,Zf(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Zf(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const cR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fpe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Gi.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,$a.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Bw(n),this.isVariantNode=Eq(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];c[p]!==void 0&&mr(g)&&g.set(c[p],!1)}}mount(t){this.current=t,lR.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),XV.current||upe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:a_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lR.delete(this.current),this.projection&&this.projection.unmount(),uc(this.notifyUpdate),uc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Qd.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&$a.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fm){const n=Fm[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cR.length;r++){const s=cR[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=ppe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Zf(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(bV(s)||uV(s))?s=parseFloat(s):!hpe(s)&&mc.test(n)&&(s=xV(t,n)),this.setBaseTarget(t,mr(s)?s.get():s)),mr(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=X2(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!mr(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new mA),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class ZV extends fpe{constructor(){super(...arguments),this.KeyframeResolver=kV}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function gpe(e){return window.getComputedStyle(e)}class xpe extends ZV{constructor(){super(...arguments),this.type="html",this.renderInstance=Bq}readValueFromInstance(t,n){if(Qd.has(n)){const r=xA(n);return r&&r.default||0}else{const r=gpe(t),s=(Lq(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return UV(t,n)}build(t,n,r){tA(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return sA(t,n,r)}}class ype extends ZV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Qd.has(n)){const r=xA(n);return r&&r.default||0}return n=Uq.has(n)?n:Y2(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Kq(t,n,r)}build(t,n,r){aA(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){qq(t,n,r,s)}mount(t){this.isSVGTag=rA(t.tagName),super.mount(t)}}const vpe=(e,t)=>Q2(e)?new ype(t):new xpe(t,{allowProjection:e!==y.Fragment}),bpe=Wde({...Vme,...cpe,...Xhe,...dpe},vpe),Fe=ode(bpe);function wpe({children:e,className:t=""}){const[n,r]=y.useState(!1),s=y.useRef(null),i=y.useCallback(()=>{s.current&&(clearTimeout(s.current),s.current=null),r(!0)},[]),o=y.useCallback(()=>{s.current=setTimeout(()=>{r(!1)},1500)},[]);return y.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]),a.jsxs(Fe.div,{className:`inline-block relative ${t}`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onTouchStart:i,onTouchEnd:o,animate:n?{rotate:[0,-6,6,-6,6,-3,3,0],scale:[1,1.05,1.05,1.05,1.05,1.03,1.03,1]}:{rotate:[0,-2,2,-2,2,0],scale:1},transition:n?{duration:.5,repeat:1/0,repeatDelay:.1}:{duration:2.5,repeat:1/0,ease:"easeInOut"},children:[a.jsx(FP,{children:n&&a.jsxs(a.Fragment,{children:[a.jsx(Fe.div,{className:"absolute inset-0 rounded-full pointer-events-none",style:{border:"2px solid rgba(255, 193, 7, 0.6)",boxShadow:"0 0 20px rgba(255, 193, 7, 0.4)"},initial:{scale:1,opacity:.8},animate:{scale:[1,1.3,1.5],opacity:[.8,.4,0]},transition:{duration:1,repeat:1/0,ease:"easeOut"}}),a.jsx(Fe.div,{className:"absolute inset-0 rounded-full pointer-events-none",style:{border:"2px solid rgba(255, 193, 7, 0.5)",boxShadow:"0 0 15px rgba(255, 193, 7, 0.3)"},initial:{scale:1,opacity:.6},animate:{scale:[1,1.3,1.5],opacity:[.6,.3,0]},transition:{duration:1,repeat:1/0,ease:"easeOut",delay:.5}}),a.jsx(Fe.div,{className:"absolute inset-0 rounded-full pointer-events-none",style:{background:"radial-gradient(ellipse at center, rgba(255,193,7,0.2) 0%, transparent 70%)",filter:"blur(4px)"},initial:{opacity:0},animate:{opacity:[.5,.8,.5]},transition:{duration:1.5,repeat:1/0}})]})}),a.jsx("div",{className:"relative z-10",children:e})]})}let jpe=0;function Npe(){const e=["top","bottom","left","right"],t=e[Math.floor(Math.random()*e.length)];let n=0,r=0;switch(t){case"top":n=Math.random()*100-50,r=-10;break;case"bottom":n=Math.random()*100-50,r=10;break;case"left":n=-20,r=Math.random()*60-30;break;case"right":n=20,r=Math.random()*60-30;break}return{id:jpe++,x:n,y:r,rotation:Math.random()*360,scale:.8+Math.random()*.4,delay:Math.random()*.15,side:t,flipSpeed:.3+Math.random()*.3}}function kpe({coin:e}){let t=e.x,n=0;switch(e.side){case"top":t=e.x+(Math.random()-.5)*40,n=-50-Math.random()*30;break;case"bottom":t=e.x+(Math.random()-.5)*40,n=50+Math.random()*30;break;case"left":t=-60-Math.random()*30,n=e.y+30+Math.random()*20;break;case"right":t=60+Math.random()*30,n=e.y+30+Math.random()*20;break}const r=20*e.scale;return a.jsx(Fe.div,{className:"absolute pointer-events-none",style:{left:"50%",top:"50%",width:r,height:r,zIndex:50},initial:{x:e.x-r/2,y:e.y-r/2,opacity:1,scale:0,rotateY:0},animate:{x:t-r/2,y:n-r/2,opacity:[1,1,0],scale:[0,e.scale,e.scale*.8],rotateY:[0,360,720]},transition:{duration:.9,delay:e.delay,ease:"easeOut",rotateY:{duration:e.flipSpeed,repeat:2,ease:"linear"}},children:a.jsxs("svg",{viewBox:"0 0 40 40",className:"w-full h-full drop-shadow-lg",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"},children:[a.jsxs("defs",{children:[a.jsxs("radialGradient",{id:`coinGold-${e.id}`,cx:"30%",cy:"30%",children:[a.jsx("stop",{offset:"0%",stopColor:"#FFE066"}),a.jsx("stop",{offset:"40%",stopColor:"#FFD700"}),a.jsx("stop",{offset:"70%",stopColor:"#DAA520"}),a.jsx("stop",{offset:"100%",stopColor:"#B8860B"})]}),a.jsxs("linearGradient",{id:`coinEdge-${e.id}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#DAA520"}),a.jsx("stop",{offset:"50%",stopColor:"#B8860B"}),a.jsx("stop",{offset:"100%",stopColor:"#8B6914"})]}),a.jsxs("radialGradient",{id:`coinShine-${e.id}`,cx:"25%",cy:"25%",children:[a.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.6)"}),a.jsx("stop",{offset:"50%",stopColor:"rgba(255,255,255,0.2)"}),a.jsx("stop",{offset:"100%",stopColor:"rgba(255,255,255,0)"})]})]}),a.jsx("circle",{cx:"20",cy:"21",r:"18",fill:`url(#coinEdge-${e.id})`}),a.jsx("circle",{cx:"20",cy:"20",r:"17",fill:`url(#coinGold-${e.id})`}),a.jsx("circle",{cx:"20",cy:"20",r:"14",fill:"none",stroke:"#B8860B",strokeWidth:"1.5",opacity:"0.6"}),a.jsx("text",{x:"20",y:"25",textAnchor:"middle",fontSize:"14",fontWeight:"bold",fill:"#8B6914",style:{fontFamily:"serif"},children:""}),a.jsx("circle",{cx:"20",cy:"20",r:"17",fill:`url(#coinShine-${e.id})`})]})})}function kb({children:e,className:t=""}){const[n,r]=y.useState(!1),[s,i]=y.useState([]),o=y.useRef(null),l=y.useRef([]),c=y.useRef(null),d=y.useCallback(()=>{const h=5+Math.floor(Math.random()*4),p=[];for(let f=0;f<h;f++)p.push(Npe());i(f=>[...f,...p]);const g=setTimeout(()=>{i(f=>f.filter(x=>!p.includes(x)))},1200);l.current.push(g)},[]),u=y.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null),r(!0)},[]),m=y.useCallback(()=>{c.current=setTimeout(()=>{r(!1)},1500)},[]);return y.useEffect(()=>(n?(d(),o.current=setInterval(()=>{d()},600)):o.current&&(clearInterval(o.current),o.current=null),()=>{o.current&&clearInterval(o.current)}),[n,d]),y.useEffect(()=>()=>{l.current.forEach(clearTimeout),c.current&&clearTimeout(c.current)},[]),a.jsxs(Fe.div,{className:`inline-block relative ${t}`,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onTouchStart:u,onTouchEnd:m,animate:n?{scale:1.05}:{scale:[1,1.02,1]},transition:n?{type:"spring",stiffness:300,damping:20}:{duration:2,repeat:1/0,ease:"easeInOut"},children:[a.jsx(Fe.div,{className:"absolute inset-0 rounded-full pointer-events-none",style:{background:"radial-gradient(ellipse at center, rgba(255,215,0,0.25) 0%, rgba(255,193,7,0.1) 50%, transparent 70%)",filter:"blur(8px)"},animate:n?{opacity:1,scale:1.3}:{opacity:[.4,.7,.4],scale:[1,1.1,1]},transition:n?{duration:.3}:{duration:2.5,repeat:1/0,ease:"easeInOut"}}),a.jsx(FP,{children:n&&a.jsx(Fe.div,{className:"absolute inset-0 rounded-full pointer-events-none",style:{background:"radial-gradient(ellipse at center, rgba(255,215,0,0.4) 0%, rgba(255,193,7,0.2) 40%, transparent 70%)",filter:"blur(10px)"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1.2},exit:{opacity:0,scale:.8},transition:{duration:.3}})}),[...Array(4)].map((h,p)=>a.jsx(Fe.div,{className:"absolute pointer-events-none",style:{left:"50%",top:"50%",width:3,height:3,borderRadius:"50%",background:"linear-gradient(135deg, #FFE066 0%, #FFD700 100%)",boxShadow:"0 0 4px #FFD700"},animate:{x:Math.cos(p*Math.PI*2/4+Math.PI/4)*(n?45:30),y:Math.sin(p*Math.PI*2/4+Math.PI/4)*(n?28:18),opacity:n?[0,1,0]:[.2,.5,.2],scale:n?[0,1,.5]:[.6,1,.6]},transition:{duration:n?1.2:3,repeat:1/0,delay:p*.3,ease:"easeInOut"}},`idle-${p}`)),a.jsx(FP,{children:n&&a.jsx(a.Fragment,{children:[...Array(6)].map((h,p)=>a.jsx(Fe.div,{className:"absolute pointer-events-none",style:{left:"50%",top:"50%",width:4,height:4,borderRadius:"50%",background:"linear-gradient(135deg, #FFE066 0%, #FFD700 100%)",boxShadow:"0 0 6px #FFD700"},initial:{x:0,y:0,opacity:0,scale:0},animate:{x:Math.cos(p*Math.PI*2/6)*40,y:Math.sin(p*Math.PI*2/6)*25,opacity:[0,1,0],scale:[0,1,.5]},transition:{duration:1.2,repeat:1/0,delay:p*.15,ease:"easeOut"}},p))})}),s.map(h=>a.jsx(kpe,{coin:h},h.id)),a.jsx("div",{className:"relative z-10",children:e})]})}const Ppe="/pics/love_young_brand_identity_20260106043554_1.png",_pe="/pics/love_young_founders_story_20260106043351_1.png",Spe="60178228658",dR="https://www.facebook.com/loveyoung.birdnest/shop",Hn={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.8}}},Ty={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}};function Cpe(){const{t:e,language:t}=ks(),[n,r]=y.useState(!1),[s,i]=y.useState(!1),[o,l]=y.useState(!1),[c,d]=y.useState(!1),[u,m]=y.useState(null),{data:h={}}=Ae({queryKey:["bundle-variant-images"],queryFn:async()=>{const{data:k,error:_}=await L.from("bundle_variants").select("bundle_id, name, image").order("sort_order",{ascending:!0});if(_)return{};const S={};for(const O of k||[])O.image&&(S[O.bundle_id]||(S[O.bundle_id]=[]),S[O.bundle_id].push({image:O.image,name:O.name}));return S}}),{data:p}=Ae({queryKey:["site-settings-hero"],queryFn:async()=>{const{data:k,error:_}=await L.from("site_settings").select("value").eq("id","hero").single();return _?null:k==null?void 0:k.value}}),{data:g=[],isLoading:f}=Ae({queryKey:["featured-bundles"],queryFn:async()=>{const{data:k,error:_}=await L.from("product_bundles").select("*").eq("is_active",!0).eq("is_featured",!0).order("sort_order",{ascending:!0}).limit(4);return _?(console.error("Error fetching bundles:",_),[]):k}});Ae({queryKey:["cny-bundle"],queryFn:async()=>{const{data:k}=await L.from("product_bundles").select("*").eq("is_active",!0).eq("is_hot",!0).order("sort_order",{ascending:!0}).limit(1).single();if(k)return k;const{data:_}=await L.from("product_bundles").select("*").eq("is_active",!0).eq("is_featured",!0).order("sort_order",{ascending:!0}).limit(1).single();return _}});const x=()=>{d(!0)},b=`https://wa.me/${Spe}?text=${encodeURIComponent(e("landing.whatsappMessage"))}`,j=(k,_,S)=>t==="en"?_||k||"":t==="ms"?S||_||k||"":k||"",v=p?j(p.title,p.title_en,p.title_ms):e("landing.heroTitle"),N=p?j(p.subtitle,p.subtitle_en,p.subtitle_ms):e("landing.heroDesc");p?j(p.button_text,p.button_text_en,p.button_text_ms):e("landing.heroOrderBtn");const w=(p==null?void 0:p.background_image)||Ppe,P=k=>{m(k),l(!0)};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Px,{whatsappLink:b,metaShopLink:dR}),a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-900 via-emerald-950 to-emerald-900"}),a.jsx("div",{className:"absolute inset-0 opacity-20",children:a.jsx("img",{src:w,alt:"Background",className:"w-full h-full object-cover grayscale"})}),a.jsxs("div",{className:"relative z-10 container mx-auto px-6 text-center text-white pt-20",children:[a.jsx(Fe.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},className:"text-amber-400 font-serif italic text-2xl lg:text-3xl mb-4","data-testid":"text-hero-subtitle",children:e("landing.heroTagline")}),a.jsxs(Fe.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-serif font-bold mb-6 leading-tight","data-testid":"text-hero-title",children:[a.jsx("span",{className:"block",children:v}),a.jsx("span",{className:"block bg-gradient-to-r from-amber-300 via-amber-100 to-amber-300 bg-clip-text text-transparent",children:e("landing.heroTitleSub")})]}),a.jsxs(Fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},className:"max-w-3xl mx-auto text-base sm:text-lg lg:text-xl font-light mb-10 opacity-90 px-4","data-testid":"text-hero-description",children:[a.jsx("span",{className:"block",children:N}),a.jsx("span",{className:"block mt-1",children:e("landing.heroDescSub")})]}),a.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.8},className:"flex flex-col sm:flex-row justify-center items-center gap-4 px-4",children:[a.jsx("div",{className:"relative h-14 flex items-center justify-center min-w-[200px]",children:a.jsx(wpe,{children:a.jsx(C,{size:"lg",className:"bg-secondary hover:bg-secondary/90 text-secondary-foreground font-semibold rounded-full px-8 sm:px-10 py-3 text-base sm:text-lg shadow-xl hover:shadow-2xl transition-all duration-300 whitespace-nowrap",onClick:x,"data-testid":"button-hero-order",children:e("landing.cnyGiftBox")})})}),a.jsx("div",{className:"relative h-14 flex items-center justify-center min-w-[180px]",children:a.jsx(kb,{children:a.jsx(sn,{href:"/partner",children:a.jsx(C,{variant:"outline",size:"lg",className:"border-white/70 text-white rounded-full px-6 sm:px-8 lg:px-10 text-base sm:text-lg bg-transparent whitespace-nowrap hover:bg-white/10","data-testid":"button-hero-partner",children:e("landing.heroPartnerBtn")})})})})]})]}),a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(12)].map((k,_)=>a.jsx(Fe.div,{className:"absolute rounded-full",style:{width:4+Math.random()*8,height:4+Math.random()*8,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,background:`radial-gradient(circle, rgba(255,215,0,${.3+Math.random()*.4}) 0%, transparent 70%)`},animate:{y:[0,-30-Math.random()*50,0],x:[0,(Math.random()-.5)*40,0],opacity:[.3,.7,.3],scale:[1,1.2,1]},transition:{duration:4+Math.random()*4,repeat:1/0,delay:Math.random()*3,ease:"easeInOut"}},_))}),a.jsx(Fe.div,{animate:{y:[0,10,0]},transition:{repeat:1/0,duration:2},className:"absolute bottom-10 left-1/2 -translate-x-1/2 opacity-50",children:a.jsx(fw,{className:"w-8 h-8 text-white"})})]}),a.jsx("section",{id:"brand",className:"py-24 bg-background",children:a.jsx("div",{className:"container mx-auto px-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-16",children:[a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Hn,className:"lg:w-1/2 relative",children:[a.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-amber-400/10 rounded-full blur-3xl"}),a.jsx("img",{src:_pe,alt:"Brand Philosophy",className:"rounded-2xl shadow-2xl border-4 border-amber-400/20 max-h-[500px] object-cover","data-testid":"img-brand-philosophy"}),a.jsx("div",{className:"absolute -bottom-6 -right-6 bg-emerald-900 text-white p-6 rounded-xl shadow-xl max-w-xs",children:a.jsxs("p",{className:"italic font-serif text-lg",children:['"',e("landing.brandQuote"),'"']})})]}),a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Ty,className:"lg:w-1/2",children:[a.jsxs(Fe.h2,{variants:Hn,className:"text-3xl lg:text-5xl font-serif font-bold mb-8","data-testid":"text-brand-title",children:[e("landing.brandTitle"),a.jsx("br",{}),a.jsx("span",{className:"text-amber-500",children:e("landing.brandTitleSub")})]}),a.jsxs(Fe.div,{variants:Hn,className:"space-y-6 text-muted-foreground leading-relaxed",children:[a.jsx("p",{children:e("landing.brandP1")}),a.jsx("p",{className:"font-semibold text-foreground",children:e("landing.brandP2")}),a.jsx("p",{children:e("landing.brandP3")})]}),a.jsxs(Fe.div,{variants:Hn,className:"mt-10 grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-400/20 rounded-lg text-amber-500",children:a.jsx(gw,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-bold",children:e("landing.brandSelfHealing")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-400/20 rounded-lg text-amber-500",children:a.jsx(zi,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-bold",children:e("landing.brandAwakening")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-400/20 rounded-lg text-amber-500",children:a.jsx(mx,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-bold",children:e("landing.brandQuality")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-400/20 rounded-lg text-amber-500",children:a.jsx(Tt,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-bold",children:e("landing.brandCommunity")})]})]})]})]})})}),a.jsx("section",{id:"products",className:"py-24 bg-emerald-900 text-white",children:a.jsxs("div",{className:"container mx-auto px-6",children:[a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Hn,className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl lg:text-5xl font-serif font-bold mb-4","data-testid":"text-products-title",children:e("landing.productsTitle")}),a.jsx("div",{className:"w-24 h-1 bg-amber-400 mx-auto mb-6"}),a.jsx("p",{className:"text-amber-400/80 max-w-2xl mx-auto",children:e("landing.productsSubtitle")})]}),f?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-amber-400"})}):g.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ca,{className:"w-16 h-16 mx-auto text-amber-400/50 mb-4"}),a.jsx("p",{className:"text-amber-400/60",children:e("landing.noProducts")})]}):a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Ty,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:g.map(k=>{const _=j(k.name,k.name_en,k.name_ms),S=j(k.target_audience,k.target_audience_en,k.target_audience_ms),O=j(k.keywords,k.keywords_en,k.keywords_ms),A=h[k.id]||[];return a.jsx(Fe.div,{variants:Hn,children:a.jsxs(W,{className:"bg-white/5 border border-white/10 hover:border-amber-400/50 transition-all duration-500 group overflow-hidden h-full flex flex-col",children:[a.jsxs("div",{className:"relative h-48 sm:h-56 overflow-hidden bg-emerald-800/50",children:[A.length>=2?a.jsx("div",{className:"w-full h-full grid grid-cols-2",children:A.slice(0,2).map((E,D)=>a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),a.jsx("span",{className:"absolute bottom-1 left-1 text-[9px] bg-black/60 text-white px-1.5 py-0.5 rounded",children:E.name})]},D))}):A.length===1?a.jsx("img",{src:A[0].image,alt:A[0].name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}):k.image?a.jsx("img",{src:k.image,alt:_,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ca,{className:"w-16 h-16 text-amber-400/30"})}),a.jsxs("div",{className:"absolute top-3 right-3 flex gap-1.5",children:[k.is_hot&&a.jsxs(te,{className:"bg-red-500 text-white text-[10px]",children:[a.jsx(sf,{className:"w-3 h-3 mr-0.5"}),"HOT"]}),k.is_new&&a.jsxs(te,{className:"bg-green-500 text-white text-[10px]",children:[a.jsx(Lr,{className:"w-3 h-3 mr-0.5"}),"NEW"]})]})]}),a.jsxs("div",{className:"p-4 sm:p-5 flex-1 flex flex-col",children:[a.jsx("h3",{className:"font-serif text-lg sm:text-xl text-amber-400 mb-1",children:_}),a.jsx("p",{className:"text-[10px] sm:text-xs text-white/50 mb-1",children:S}),a.jsx("p",{className:"text-[10px] sm:text-xs text-amber-400/70 mb-3",children:O}),a.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[k.items.slice(0,3).map((E,D)=>a.jsxs(te,{variant:"outline",className:"text-[9px] border-white/20 text-white/70 px-1.5 py-0",children:[E.flavor," ",E.quantity]},D)),k.items.length>3&&a.jsxs(te,{variant:"outline",className:"text-[9px] border-white/20 text-white/70 px-1.5 py-0",children:["+",k.items.length-3]})]}),a.jsxs("div",{className:"mt-auto flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-xl sm:text-2xl font-bold",children:["RM ",(k.price/100).toFixed(0)]}),k.original_price&&k.original_price>k.price&&a.jsxs("span",{className:"text-xs text-white/40 line-through ml-2",children:["RM ",(k.original_price/100).toFixed(0)]})]}),a.jsx(C,{size:"sm",className:"bg-secondary text-secondary-foreground rounded-full px-4 text-xs sm:text-sm",onClick:()=>P(k),children:e("landing.bookNow")})]})]})]})},k.id)})}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Hn,className:"text-center mt-10",children:a.jsx(sn,{href:"/products",children:a.jsxs(C,{variant:"outline",size:"lg",className:"border-amber-400/50 text-amber-400 rounded-full px-8 hover:bg-amber-400/10",children:[e("landing.viewAllBundles"),a.jsx(mi,{className:"w-4 h-4 ml-2"})]})})})]})}),a.jsx("section",{id:"rwa",className:"py-24 bg-background",children:a.jsxs("div",{className:"container mx-auto px-6",children:[a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Hn,className:"text-center mb-20",children:[a.jsx("h2",{className:"text-3xl lg:text-5xl font-serif font-bold mb-4","data-testid":"text-rwa-title",children:e("landing.partnerSectionTitle")}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("landing.partnerSectionSubtitle")})]}),a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Ty,className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-20",children:[a.jsx(Fe.div,{variants:Hn,className:"lg:scale-105 z-10",children:a.jsxs(W,{className:"p-8 text-center bg-gradient-to-br from-emerald-900 to-emerald-950 text-white shadow-2xl relative",children:[a.jsxs(te,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-amber-500 text-white animate-pulse",children:[e("landing.hotSelling"),"  ",e("landing.only50Slots")]}),a.jsx("div",{className:"w-16 h-16 bg-amber-400 text-emerald-900 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Br,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-xl font-bold mb-4",children:e("landing.phase1Title")}),a.jsx("p",{className:"text-sm opacity-80 mb-6",children:e("landing.phase1Desc")}),a.jsxs("ul",{className:"text-left text-sm space-y-3 mb-8",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-amber-400"}),e("landing.phase1Feature1")]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-amber-400"}),e("landing.phase1Feature2")]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-amber-400"}),e("landing.phase1Feature3")]})]}),a.jsx(kb,{className:"w-full",children:a.jsx(sn,{href:"/partner",children:a.jsx(C,{className:"w-full bg-secondary text-secondary-foreground rounded-full border-none","data-testid":"button-phase1-join",children:e("landing.limitedApply")})})})]})}),a.jsx(Fe.div,{variants:Hn,children:a.jsxs(W,{className:"p-8 text-center bg-muted/50 backdrop-blur border border-muted-foreground/20 opacity-60 relative",children:[a.jsx(te,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-muted-foreground/50 text-muted-foreground",children:e("landing.comingSoon")}),a.jsx("div",{className:"w-16 h-16 bg-muted text-muted-foreground rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(La,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-xl font-bold mb-4 text-muted-foreground",children:e("landing.phase2Title")}),a.jsx("p",{className:"text-sm text-muted-foreground/70 mb-6",children:e("landing.phase2Desc")}),a.jsxs("ul",{className:"text-left text-sm space-y-3 mb-8 text-muted-foreground/70",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-muted-foreground/50"}),e("landing.phase2Feature1")]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-muted-foreground/50"}),e("landing.phase2Feature2")]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-muted-foreground/50"}),e("landing.phase2Feature3")]})]}),a.jsx(C,{className:"w-full rounded-full",variant:"secondary",disabled:!0,children:e("landing.waitingToOpen")})]})}),a.jsx(Fe.div,{variants:Hn,children:a.jsxs(W,{className:"p-8 text-center bg-muted/50 backdrop-blur border border-muted-foreground/20 opacity-60 relative",children:[a.jsx(te,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-muted-foreground/50 text-muted-foreground",children:e("landing.comingSoon")}),a.jsx("div",{className:"w-16 h-16 bg-muted text-muted-foreground rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Ki,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-xl font-bold mb-4 text-muted-foreground",children:e("landing.phase3Title")}),a.jsx("p",{className:"text-sm text-muted-foreground/70 mb-6",children:e("landing.phase3Desc")}),a.jsxs("ul",{className:"text-left text-sm space-y-3 mb-8 text-muted-foreground/70",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-muted-foreground/50"}),e("landing.phase3Feature1")]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-muted-foreground/50"}),e("landing.phase3Feature2")]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-muted-foreground/50"}),e("landing.phase3Feature3")]})]}),a.jsx(C,{className:"w-full rounded-full",variant:"secondary",disabled:!0,children:e("landing.waitingToOpen")})]})})]}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Hn,className:"bg-card rounded-3xl p-10 shadow-xl border border-amber-400/10",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl lg:text-3xl font-serif font-bold mb-6",children:e("landing.revenueLogicTitle")}),a.jsx("p",{className:"text-muted-foreground mb-8",children:e("landing.revenueLogicDesc")}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 bg-background rounded-xl",children:[a.jsx("span",{className:"font-bold",children:e("landing.salesCashback")}),a.jsx("span",{className:"text-amber-500 font-bold",children:"50% / 30%"})]}),a.jsxs("div",{className:"flex justify-between items-center p-4 bg-background rounded-xl",children:[a.jsx("span",{className:"font-bold",children:e("landing.globalPool")}),a.jsx("span",{className:"text-amber-500 font-bold",children:e("landing.salesPercentage")})]}),a.jsxs("div",{className:"flex justify-between items-center p-4 bg-background rounded-xl",children:[a.jsx("span",{className:"font-bold",children:e("landing.dividendCycle")}),a.jsx("span",{className:"text-amber-500 font-bold",children:e("landing.every10Days")})]})]})]}),a.jsxs("div",{className:"bg-emerald-900 rounded-2xl p-8 text-white",children:[a.jsxs("h4",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[a.jsx(ed,{className:"text-amber-400"}),e("landing.lyNetworkTitle")]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-3 border border-white/10 rounded-lg",children:[a.jsx("div",{className:"text-xs opacity-50 uppercase",children:e("landing.tier1Direct")}),a.jsx("div",{className:"text-xl font-bold text-amber-400",children:"20%"})]}),a.jsxs("div",{className:"p-3 border border-white/10 rounded-lg",children:[a.jsx("div",{className:"text-xs opacity-50 uppercase",children:e("landing.tier2")}),a.jsx("div",{className:"text-xl font-bold text-amber-400",children:"15%"})]}),a.jsxs("div",{className:"p-3 border border-white/10 rounded-lg",children:[a.jsx("div",{className:"text-xs opacity-50 uppercase",children:e("landing.tier3to5")}),a.jsx("div",{className:"text-xl font-bold text-amber-400",children:"10% ea"})]}),a.jsxs("div",{className:"p-3 border border-white/10 rounded-lg",children:[a.jsx("div",{className:"text-xs opacity-50 uppercase",children:e("landing.tier6to10")}),a.jsx("div",{className:"text-xl font-bold text-amber-400",children:"5% ea"})]})]}),a.jsxs("div",{className:"mt-4 p-3 border border-amber-400/30 rounded-lg bg-amber-400/10 text-center",children:[a.jsx("div",{className:"text-xs opacity-70 uppercase",children:e("landing.totalReferral")}),a.jsx("div",{className:"text-2xl font-bold text-amber-400",children:"100% LY"})]}),a.jsx("p",{className:"mt-4 text-xs italic opacity-60",children:e("landing.lyNetworkNote")})]})]})})]})}),a.jsx("section",{id:"dashboard",className:"py-24 bg-emerald-950",children:a.jsx("div",{className:"container mx-auto px-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Hn,className:"lg:w-1/3 text-white",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-serif font-bold mb-6",children:e("landing.dashboardTitle")}),a.jsx("p",{className:"opacity-70 mb-10",children:e("landing.dashboardDesc")}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amber-400/20 rounded-xl flex items-center justify-center text-amber-400",children:a.jsx(Fi,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold",children:e("landing.dividendCycle")}),a.jsx("p",{className:"text-sm opacity-50",children:e("landing.every10Days")})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amber-400/20 rounded-xl flex items-center justify-center text-amber-400",children:a.jsx(zi,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold",children:e("landing.lyEnergy")}),a.jsx("p",{className:"text-sm opacity-50",children:e("landing.lyNetworkNote")})]})]})]}),a.jsx(sn,{href:"/partner",children:a.jsxs(C,{size:"lg",className:"mt-10 bg-secondary text-secondary-foreground rounded-full gap-2",children:[e("landing.dashboardCta"),a.jsx(mi,{className:"w-4 h-4"})]})})]}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Hn,className:"lg:w-2/3",children:a.jsxs(W,{className:"bg-white rounded-3xl p-8 shadow-2xl overflow-hidden border-t-8 border-amber-400",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-emerald-900 text-white rounded-full flex items-center justify-center font-bold",children:"LY"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-emerald-900",children:e("landing.dashboardBrandName")}),a.jsx("p",{className:"text-xs text-gray-500",children:e("landing.dashboardSubtitle")})]})]}),a.jsx(te,{className:"bg-emerald-100 text-emerald-800",children:"Phase 1"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 p-3 sm:p-4 rounded-xl",children:[a.jsx("p",{className:"text-xs text-emerald-600 uppercase",children:e("landing.lyEnergy")}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-emerald-900",children:"2,000"}),a.jsx("p",{className:"text-xs text-emerald-500",children:e("landing.phase1Bonus")})]}),a.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-3 sm:p-4 rounded-xl",children:[a.jsx("p",{className:"text-xs text-amber-600 uppercase",children:e("landing.totalEarnings")}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-amber-700",children:"RM 0"}),a.jsx("p",{className:"text-xs text-amber-500",children:e("landing.startEarning")})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-3 sm:p-4 rounded-xl",children:[a.jsx("p",{className:"text-xs text-purple-600 uppercase",children:"RWA"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-purple-700",children:"1"}),a.jsx("p",{className:"text-xs text-purple-500",children:e("landing.perCycle")})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"font-bold text-gray-700",children:e("landing.currentPoolCycle")}),a.jsx("span",{className:"text-xs text-gray-500",children:e("landing.daysRemaining").replace("{days}","6")})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-amber-500 h-3 rounded-full",style:{width:"40%"}})}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[a.jsxs("span",{children:[e("landing.accumulated"),": RM 12,580"]}),a.jsxs("span",{children:[e("landing.estimatedDividend"),": RM 380"]})]})]})]})})]})})}),a.jsx("section",{className:"py-24 bg-gradient-to-br from-emerald-900 via-emerald-950 to-emerald-900 text-white",children:a.jsx("div",{className:"container mx-auto px-6 text-center",children:a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Ty,children:[a.jsx(Fe.h2,{variants:Hn,className:"text-3xl lg:text-5xl font-serif font-bold mb-6",children:e("landing.ctaTitle")}),a.jsx(Fe.p,{variants:Hn,className:"text-lg opacity-80 max-w-2xl mx-auto mb-10",children:e("landing.ctaDesc")}),a.jsxs(Fe.div,{variants:Hn,className:"flex flex-col sm:flex-row justify-center items-center gap-4 px-4",children:[a.jsxs(C,{size:"lg",className:"bg-secondary text-secondary-foreground rounded-full px-6 sm:px-8 gap-2 whitespace-nowrap",onClick:()=>{const k=document.getElementById("products");k&&k.scrollIntoView({behavior:"smooth"})},"data-testid":"button-cta-order",children:[a.jsx(kn,{className:"w-5 h-5"}),e("landing.orderNow")]}),a.jsxs(C,{variant:"outline",size:"lg",className:"border-white/70 text-white rounded-full px-6 sm:px-8 gap-2 bg-transparent whitespace-nowrap",onClick:()=>window.open(b,"_blank"),"data-testid":"button-cta-whatsapp",children:[a.jsx(Gr,{className:"w-5 h-5"}),e("header.whatsapp")]})]})]})})}),a.jsx(_x,{whatsappLink:b,metaShopLink:dR}),a.jsx(Bce,{open:n,onOpenChange:r}),a.jsx(Kce,{open:s,onOpenChange:i}),a.jsx(Yce,{open:c,onOpenChange:d}),u&&a.jsx(Hce,{open:o,onOpenChange:l,bundle:u})]})}const Ape="60178228658",uR="https://www.facebook.com/loveyoung.birdnest/shop",gn={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6}}};function Tpe(){const{t:e}=ks(),t=`https://wa.me/${Ape}?text=${encodeURIComponent(e("brand.whatsappMessage"))}`,n=[{name:"Vivian",subtitle:e("brand.founders.vivian.subtitle"),motto:e("brand.founders.vivian.motto"),image:"/pics/founder_1.webp",story:e("brand.founders.vivian.story"),insight:e("brand.founders.vivian.insight"),belief:e("brand.founders.vivian.belief"),focus:e("brand.founders.vivian.focus")},{name:"Agnes",subtitle:e("brand.founders.agnes.subtitle"),motto:e("brand.founders.agnes.motto"),image:"/pics/founder_2.webp",story:e("brand.founders.agnes.story"),insight:e("brand.founders.agnes.insight"),belief:e("brand.founders.agnes.belief"),focus:e("brand.founders.agnes.focus")},{name:"Andrey",subtitle:e("brand.founders.andrey.subtitle"),motto:e("brand.founders.andrey.motto"),image:"/pics/founder_3.webp",story:e("brand.founders.andrey.story"),insight:e("brand.founders.andrey.insight"),belief:e("brand.founders.andrey.belief"),focus:e("brand.founders.andrey.focus")}],r=[{icon:gw,title:e("brand.values.love.title"),description:e("brand.values.love.description")},{icon:$B,title:e("brand.values.natural.title"),description:e("brand.values.natural.description")},{icon:jr,title:e("brand.values.quality.title"),description:e("brand.values.quality.description")},{icon:Ki,title:e("brand.values.global.title"),description:e("brand.values.global.description")}],s=[{year:"2020",event:e("brand.milestones.2020"),type:"past"},{year:"2022",event:e("brand.milestones.2022"),type:"past"},{year:"2024",event:e("brand.milestones.2024"),type:"past"},{year:"2025",event:e("brand.milestones.2025"),type:"present"},{year:"2026",event:e("brand.milestones.2026"),type:"present"},{year:"2027",event:e("brand.milestones.2027"),type:"future"},{year:"2028",event:e("brand.milestones.2028"),type:"future"},{year:"2030",event:e("brand.milestones.2030"),type:"future"}];return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Px,{whatsappLink:t,metaShopLink:uR}),a.jsxs("section",{className:"pt-32 pb-20 relative overflow-hidden","data-testid":"section-brand-hero",children:[a.jsxs("div",{className:"absolute inset-0 -z-10",children:[a.jsx("img",{src:"/pics/love_young_brand_identity_20260106043554_1.png",alt:"Brand Identity",className:"w-full h-full object-cover opacity-20"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-background/80 to-background"})]}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-3xl",children:a.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx(te,{className:"bg-secondary/20 text-secondary mb-4",children:"Since 2020"}),a.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-serif text-primary mb-6","data-testid":"text-brand-title",children:[e("brand.hero.title"),a.jsx("br",{}),a.jsx("span",{className:"text-secondary",children:e("brand.hero.titleSub")})]}),a.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 leading-relaxed",children:e("brand.hero.description")})]})})})]}),a.jsx("section",{className:"py-20 bg-card","data-testid":"section-founders",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx(te,{className:"bg-secondary/20 text-secondary mb-4",children:e("brand.foundersSection.badge")}),a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-founders-title",children:e("brand.foundersSection.title")}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("brand.foundersSection.subtitle")})]}),a.jsx("div",{className:"space-y-16",children:n.map((i,o)=>a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,children:a.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center ${o%2===1?"lg:flex-row-reverse":""}`,children:[a.jsx("div",{className:`${o%2===1?"lg:order-2":""}`,children:a.jsx("div",{className:"aspect-square max-w-md mx-auto overflow-hidden rounded-2xl shadow-xl bg-muted",children:a.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover","data-testid":`img-founder-${o}`})})}),a.jsxs("div",{className:`space-y-6 ${o%2===1?"lg:order-1":""}`,"data-testid":`card-founder-${o}`,children:[a.jsxs("div",{children:[a.jsx(te,{className:"bg-primary/10 text-primary mb-3",children:i.focus}),a.jsx("h3",{className:"text-2xl md:text-3xl font-serif text-primary mb-2",children:i.name}),a.jsx("p",{className:"text-lg text-secondary font-medium",children:i.subtitle})]}),a.jsx("blockquote",{className:"border-l-4 border-secondary pl-4 py-2",children:a.jsx("p",{className:"text-muted-foreground italic",children:i.motto})}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.story}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.insight}),a.jsx("div",{className:"bg-primary/5 rounded-xl p-4 border border-primary/10",children:a.jsxs("p",{className:"text-primary font-medium text-center",children:['"',i.belief,'"']})})]})]})},o))}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,className:"mt-20 text-center",children:a.jsx(W,{className:"max-w-3xl mx-auto bg-gradient-to-r from-primary/5 to-secondary/5 border-primary/20",children:a.jsxs(ae,{className:"p-8",children:[a.jsx("h3",{className:"text-xl md:text-2xl font-serif text-primary mb-4",children:e("brand.foundersSection.summaryTitle")}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-6",children:n.map((i,o)=>a.jsxs("div",{className:"text-center py-2 sm:py-0",children:[a.jsx("p",{className:"text-secondary font-medium text-lg sm:text-base",children:i.name}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.focus})]},o))}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.foundersSection.summaryText")})]})})})]})}),a.jsx("section",{className:"py-20","data-testid":"section-brand-story-visual",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,children:a.jsx("img",{src:"/pics/love_young_founders_story_20260106043351_1.png",alt:e("brand.origin.title"),className:"rounded-2xl shadow-xl w-full","data-testid":"img-founders-story"})}),a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,className:"space-y-6",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary","data-testid":"text-origin-title",children:e("brand.origin.title")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.origin.p1")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.origin.p2")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.origin.p3")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed font-medium text-foreground",children:e("brand.origin.p4")})]})]})})}),a.jsx("section",{className:"py-20 bg-muted/30","data-testid":"section-production",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,className:"space-y-6 order-2 lg:order-1",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary","data-testid":"text-production-title",children:e("brand.production.title")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.production.p1")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.production.p2")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.production.p3")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[a.jsxs(W,{className:"p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-secondary",children:"100%"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("brand.production.stat1")})]}),a.jsxs(W,{className:"p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-secondary",children:"0"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("brand.production.stat2")})]})]})]}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,className:"order-1 lg:order-2",children:a.jsx("img",{src:"/pics/craftsmanship_journey.webp",alt:e("brand.production.title"),className:"rounded-2xl shadow-xl w-full","data-testid":"img-production"})})]})})}),a.jsx("section",{className:"py-20","data-testid":"section-brand-values",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-values-title",children:e("brand.brandValues")}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("brand.valuesSection.subtitle")})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((i,o)=>a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,transition:{delay:o*.1},children:a.jsx(W,{className:"h-full text-center p-6","data-testid":`card-value-${o}`,children:a.jsxs(ae,{className:"p-0 space-y-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-secondary/10 flex items-center justify-center mx-auto",children:a.jsx(i.icon,{className:"w-7 h-7 text-secondary"})}),a.jsx("h3",{className:"text-xl font-bold text-foreground",children:i.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]})})},o))})]})}),a.jsx("section",{className:"py-20 bg-card","data-testid":"section-lifestyle",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4",children:e("brand.lifestyle.title")}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("brand.lifestyle.subtitle")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,children:a.jsxs(W,{className:"overflow-hidden h-full",children:[a.jsx("div",{className:"aspect-[4/3] bg-muted flex items-center justify-center",children:a.jsx("img",{src:"/pics/love_young_wellness_lifestyle_20260106043539_1.png",alt:e("brand.lifestyle.wellness.title"),className:"w-full h-full object-contain"})}),a.jsxs(ae,{className:"p-4",children:[a.jsx("h3",{className:"font-bold text-foreground mb-2",children:e("brand.lifestyle.wellness.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("brand.lifestyle.wellness.description")})]})]})}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,transition:{delay:.1},children:a.jsxs(W,{className:"overflow-hidden h-full",children:[a.jsx("div",{className:"aspect-[4/3] bg-muted flex items-center justify-center",children:a.jsx("img",{src:"/pics/love_young_community_building_20260106043405_1.png",alt:e("brand.lifestyle.community.title"),className:"w-full h-full object-contain"})}),a.jsxs(ae,{className:"p-4",children:[a.jsx("h3",{className:"font-bold text-foreground mb-2",children:e("brand.lifestyle.community.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("brand.lifestyle.community.description")})]})]})}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,transition:{delay:.2},children:a.jsxs(W,{className:"overflow-hidden h-full",children:[a.jsx("div",{className:"aspect-[4/3] bg-muted flex items-center justify-center",children:a.jsx("img",{src:"/pics/love_young_event_experience_20260106043435_1.png",alt:e("brand.lifestyle.events.title"),className:"w-full h-full object-contain"})}),a.jsxs(ae,{className:"p-4",children:[a.jsx("h3",{className:"font-bold text-foreground mb-2",children:e("brand.lifestyle.events.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("brand.lifestyle.events.description")})]})]})})]})]})}),a.jsx("section",{className:"py-20 bg-primary text-primary-foreground","data-testid":"section-brand-philosophy",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,className:"space-y-6",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif","data-testid":"text-philosophy-title",children:e("brand.philosophy.title")}),a.jsx("p",{className:"opacity-80 leading-relaxed",children:e("brand.philosophy.p1")}),a.jsx("p",{className:"opacity-80 leading-relaxed",children:e("brand.philosophy.p2")}),a.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-secondary",children:"50,000+"}),a.jsx("p",{className:"text-sm opacity-70",children:e("brand.philosophy.stat1")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-secondary",children:"5"}),a.jsx("p",{className:"text-sm opacity-70",children:e("brand.philosophy.stat2")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-secondary",children:"100%"}),a.jsx("p",{className:"text-sm opacity-70",children:e("brand.philosophy.stat3")})]})]})]}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,children:a.jsx("img",{src:"/pics/love_young_wellness_journey_20260106043338_1.png",alt:e("brand.philosophy.title"),className:"rounded-2xl shadow-xl w-full","data-testid":"img-philosophy"})})]})})}),a.jsx("section",{className:"py-20","data-testid":"section-milestones",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-milestones-title",children:e("brand.milestonesSection.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("brand.milestonesSection.subtitle")})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-0.5 bg-border -translate-x-1/2 hidden md:block"}),a.jsx("div",{className:"space-y-8",children:s.map((i,o)=>a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,className:`flex flex-col md:flex-row items-center gap-4 md:gap-8 ${o%2===0?"md:flex-row-reverse":""}`,"data-testid":`milestone-${o}`,children:[a.jsx("div",{className:`flex-1 ${o%2===0?"md:text-left":"md:text-right"}`,children:a.jsx(W,{className:`inline-block p-4 ${i.type==="future"?"border-dashed border-secondary/50 bg-secondary/5":""}`,children:a.jsxs(ae,{className:"p-0 flex items-start gap-3",children:[i.type==="future"&&a.jsx(Fte,{className:"w-5 h-5 text-secondary flex-shrink-0 mt-0.5"}),i.type==="present"&&a.jsx(Lr,{className:"w-5 h-5 text-secondary flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[i.type==="future"&&a.jsx(te,{variant:"outline",className:"text-xs mb-2 text-secondary border-secondary/50",children:e("brand.milestonesSection.futurePlan")}),i.type==="present"&&a.jsx(te,{className:"text-xs mb-2 bg-secondary text-secondary-foreground",children:e("brand.milestonesSection.inProgress")}),a.jsx("p",{className:"text-muted-foreground",children:i.event})]})]})})}),a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center font-bold text-lg z-10 ${i.type==="future"?"bg-secondary/20 text-secondary border-2 border-dashed border-secondary":i.type==="present"?"bg-secondary text-secondary-foreground ring-4 ring-secondary/30":"bg-primary text-primary-foreground"}`,children:i.year}),a.jsx("div",{className:"flex-1 hidden md:block"})]},o))})]})]})}),a.jsx("section",{className:"py-20 bg-card","data-testid":"section-partner-stories",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,className:"grid grid-cols-3 gap-4",children:[a.jsx("div",{className:"rounded-xl shadow-lg overflow-hidden bg-muted",children:a.jsx("img",{src:"/pics/partner_story_1.webp",alt:e("brand.partnerStories.alt1"),className:"w-full h-auto object-contain","data-testid":"img-partner-stories-1"})}),a.jsx("div",{className:"rounded-xl shadow-lg overflow-hidden bg-muted mt-6",children:a.jsx("img",{src:"/pics/partner_story_2.webp",alt:e("brand.partnerStories.alt2"),className:"w-full h-auto object-contain"})}),a.jsx("div",{className:"rounded-xl shadow-lg overflow-hidden bg-muted",children:a.jsx("img",{src:"/pics/partner_story_3.webp",alt:e("brand.partnerStories.alt3"),className:"w-full h-auto object-contain"})})]}),a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,className:"space-y-6",children:[a.jsx(te,{className:"bg-secondary/20 text-secondary",children:"Coming Soon"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary","data-testid":"text-partner-stories-title",children:e("brand.partnerStories.title")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.partnerStories.p1")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.partnerStories.p2")}),a.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[a.jsx(sn,{href:"/partner",children:a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground","data-testid":"button-become-partner",children:[a.jsx(Tt,{className:"w-4 h-4"}),e("brand.partnerStories.becomePartner")]})}),a.jsxs(C,{variant:"outline",className:"gap-2",onClick:()=>window.open(t,"_blank"),"data-testid":"button-contact-brand",children:[e("brand.partnerStories.learnMore"),a.jsx(mi,{className:"w-4 h-4"})]})]})]})]})})}),a.jsx("section",{className:"py-20","data-testid":"section-future-vision",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,className:"space-y-6",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary","data-testid":"text-future-title",children:e("brand.futureVision.title")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.futureVision.p1")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e("brand.futureVision.p2")}),a.jsxs("div",{className:"space-y-3 pt-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary/20 flex items-center justify-center",children:a.jsx(oi,{className:"w-4 h-4 text-secondary"})}),a.jsx("span",{className:"text-muted-foreground",children:e("brand.futureVision.goal1")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary/20 flex items-center justify-center",children:a.jsx(oi,{className:"w-4 h-4 text-secondary"})}),a.jsx("span",{className:"text-muted-foreground",children:e("brand.futureVision.goal2")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary/20 flex items-center justify-center",children:a.jsx(oi,{className:"w-4 h-4 text-secondary"})}),a.jsx("span",{className:"text-muted-foreground",children:e("brand.futureVision.goal3")})]})]})]}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,children:a.jsx("img",{src:"/pics/love_young_future_vision_20260106043643_1.png",alt:e("brand.futureVision.title"),className:"rounded-2xl shadow-xl w-full","data-testid":"img-future-vision"})})]})})}),a.jsx("section",{className:"py-20 bg-muted/30","data-testid":"section-community-wellness",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-community-title",children:e("brand.communityWellness.title")}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:e("brand.communityWellness.subtitle")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,children:a.jsxs(W,{className:"overflow-hidden h-full",children:[a.jsx("img",{src:"/pics/love_young_community_impact_20260106043528_1.png",alt:e("brand.communityWellness.impact.title"),className:"w-full h-64 object-cover","data-testid":"img-community-impact"}),a.jsxs(ae,{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:e("brand.communityWellness.impact.title")}),a.jsx("p",{className:"text-muted-foreground text-sm",children:e("brand.communityWellness.impact.description")})]})]})}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,children:a.jsxs(W,{className:"overflow-hidden h-full",children:[a.jsx("img",{src:"/pics/love_young_wellness_lifestyle_20260106043539_1.png",alt:e("brand.communityWellness.wellnessLife.title"),className:"w-full h-64 object-cover","data-testid":"img-wellness-lifestyle"}),a.jsxs(ae,{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:e("brand.communityWellness.wellnessLife.title")}),a.jsx("p",{className:"text-muted-foreground text-sm",children:e("brand.communityWellness.wellnessLife.description")})]})]})}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gn,children:a.jsxs(W,{className:"overflow-hidden h-full",children:[a.jsx("img",{src:"/pics/love_young_event_experience_20260106043435_1.png",alt:e("brand.communityWellness.brandEvents.title"),className:"w-full h-64 object-cover","data-testid":"img-event-experience"}),a.jsxs(ae,{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:e("brand.communityWellness.brandEvents.title")}),a.jsx("p",{className:"text-muted-foreground text-sm",children:e("brand.communityWellness.brandEvents.description")})]})]})})]})]})}),a.jsx("section",{className:"py-20","data-testid":"section-brand-cta",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-6","data-testid":"text-cta-title",children:e("brand.cta.title")}),a.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:e("brand.cta.description")}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx(sn,{href:"/products",children:a.jsxs(C,{size:"lg",className:"bg-secondary text-secondary-foreground gap-2","data-testid":"button-view-products",children:[e("brand.cta.viewProducts"),a.jsx(mi,{className:"w-5 h-5"})]})}),a.jsx(C,{variant:"outline",size:"lg",onClick:()=>window.open(t,"_blank"),"data-testid":"button-brand-whatsapp",children:e("brand.cta.whatsapp")})]})]})}),a.jsx(_x,{whatsappLink:t,metaShopLink:uR})]})}const Epe="60178228658",mR="https://www.facebook.com/loveyoung.birdnest/shop",Ope={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}},hR=[{id:"all",labelKey:"productsPage.categories.all"},{id:"birdnest",labelKey:"productsPage.categories.birdNest"},{id:"fishmaw",labelKey:"productsPage.categories.fishMaw"},{id:"giftbox",labelKey:"productsPage.categories.giftBox"}],Dpe=[{id:"bn-classic-6",nameKey:"productsPage.items.bnClassic.name",subtitleKey:"productsPage.items.bnClassic.subtitle",category:"birdnest",price:199,originalPrice:259,unitKey:"productsPage.units.box",image:"/pics/love_young_gift_box_design_20260106043236_1.png",featureKeys:["productsPage.items.bnClassic.feature1","productsPage.items.bnClassic.feature2","productsPage.items.bnClassic.feature3"],isHot:!0,isNew:!1},{id:"bn-premium-6",nameKey:"productsPage.items.bnPremium.name",subtitleKey:"productsPage.items.bnPremium.subtitle",category:"birdnest",price:299,originalPrice:399,unitKey:"productsPage.units.box",image:"/pics/love_young_luxury_gift_box_detailed_20260106045736_1.png",featureKeys:["productsPage.items.bnPremium.feature1","productsPage.items.bnPremium.feature2","productsPage.items.bnPremium.feature3"],isHot:!1,isNew:!0},{id:"fm-collagen-6",nameKey:"productsPage.items.fmCollagen.name",subtitleKey:"productsPage.items.fmCollagen.subtitle",category:"fishmaw",price:249,originalPrice:329,unitKey:"productsPage.units.box",image:"/pics/love_young_wellness_lifestyle_20260106043539_1.png",featureKeys:["productsPage.items.fmCollagen.feature1","productsPage.items.fmCollagen.feature2","productsPage.items.fmCollagen.feature3"],isHot:!0,isNew:!1},{id:"fm-milk-6",nameKey:"productsPage.items.fmMilk.name",subtitleKey:"productsPage.items.fmMilk.subtitle",category:"fishmaw",price:269,originalPrice:349,unitKey:"productsPage.units.box",image:"/pics/love_young_event_experience_20260106043435_1.png",featureKeys:["productsPage.items.fmMilk.feature1","productsPage.items.fmMilk.feature2","productsPage.items.fmMilk.feature3"],isHot:!1,isNew:!0},{id:"gift-luxury",nameKey:"productsPage.items.giftLuxury.name",subtitleKey:"productsPage.items.giftLuxury.subtitle",category:"giftbox",price:599,originalPrice:799,unitKey:"productsPage.units.set",image:"/pics/love_young_event_invitation_20260106043314_1.png",featureKeys:["productsPage.items.giftLuxury.feature1","productsPage.items.giftLuxury.feature2","productsPage.items.giftLuxury.feature3"],isHot:!0,isNew:!1},{id:"gift-wellness",nameKey:"productsPage.items.giftWellness.name",subtitleKey:"productsPage.items.giftWellness.subtitle",category:"giftbox",price:399,originalPrice:499,unitKey:"productsPage.units.set",image:"/pics/love_young_community_building_20260106043405_1.png",featureKeys:["productsPage.items.giftWellness.feature1","productsPage.items.giftWellness.feature2","productsPage.items.giftWellness.feature3"],isHot:!1,isNew:!1}],Mpe=[{icon:$B,titleKey:"productsPage.benefits.natural.title",descriptionKey:"productsPage.benefits.natural.description"},{icon:Go,titleKey:"productsPage.benefits.quality.title",descriptionKey:"productsPage.benefits.quality.description"},{icon:hs,titleKey:"productsPage.benefits.coldChain.title",descriptionKey:"productsPage.benefits.coldChain.description"},{icon:pr,titleKey:"productsPage.benefits.packaging.title",descriptionKey:"productsPage.benefits.packaging.description"}];function Rpe(){const{t:e}=ks(),[t,n]=y.useState(!1),[r,s]=y.useState(null),i=`https://wa.me/${Epe}?text=${encodeURIComponent(e("productsPage.whatsappMessage"))}`,o=c=>{s({id:c.id,name:e(c.nameKey),price:c.price,originalPrice:c.originalPrice,image:c.image}),n(!0)},l=()=>{var c;(c=document.getElementById("products-grid"))==null||c.scrollIntoView({behavior:"smooth"})};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Px,{whatsappLink:i,metaShopLink:mR}),a.jsxs("section",{className:"pt-32 pb-16 relative overflow-hidden","data-testid":"section-products-hero",children:[a.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-secondary/5 -skew-x-12 transform translate-x-1/4 -z-10"}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-3xl",children:a.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-serif text-primary mb-6","data-testid":"text-products-title",children:e("productsPage.hero.title")}),a.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:e("productsPage.hero.description")}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs(C,{size:"lg",className:"gap-2",onClick:l,"data-testid":"button-shop-now",children:[a.jsx(kn,{className:"w-5 h-5"}),e("productsPage.hero.shopNow")]}),a.jsxs(C,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>window.open(i,"_blank"),"data-testid":"button-products-whatsapp",children:[a.jsx(Gr,{className:"w-5 h-5"}),e("productsPage.hero.whatsappConsult")]})]})]})})})]}),a.jsx("section",{className:"py-8 bg-card border-y border-border","data-testid":"section-benefits",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:Mpe.map((c,d)=>a.jsxs("div",{className:"flex items-center gap-3","data-testid":`benefit-${d}`,children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(c.icon,{className:"w-5 h-5 text-secondary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-foreground text-sm",children:e(c.titleKey)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e(c.descriptionKey)})]})]},d))})})}),a.jsx("section",{id:"products-grid",className:"py-16","data-testid":"section-product-list",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsxs(ba,{defaultValue:"all",className:"w-full",children:[a.jsx("div",{className:"flex justify-center mb-10",children:a.jsx(fa,{className:"grid w-full max-w-lg grid-cols-4",children:hR.map(c=>a.jsx(Ee,{value:c.id,"data-testid":`tab-${c.id}`,children:e(c.labelKey)},c.id))})}),hR.map(c=>a.jsx(At,{value:c.id,children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Dpe.filter(d=>c.id==="all"||d.category===c.id).map((d,u)=>a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Ope,transition:{delay:u*.1},children:a.jsxs(W,{className:"h-full flex flex-col overflow-hidden","data-testid":`card-product-${d.id}`,children:[a.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted",children:[a.jsx("img",{src:d.image,alt:e(d.nameKey),className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"}),a.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[d.isHot&&a.jsx(te,{className:"bg-destructive text-destructive-foreground",children:e("productsPage.badges.hot")}),d.isNew&&a.jsx(te,{className:"bg-secondary text-secondary-foreground",children:e("productsPage.badges.new")})]}),d.originalPrice>d.price&&a.jsxs(te,{variant:"secondary",className:"absolute top-3 right-3",children:[e("productsPage.badges.save")," RM ",d.originalPrice-d.price]})]}),a.jsxs($e,{className:"pb-2",children:[a.jsx("h3",{className:"font-bold text-lg text-foreground",children:e(d.nameKey)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e(d.subtitleKey)})]}),a.jsxs(ae,{className:"flex-1 pb-4",children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:d.featureKeys.map((m,h)=>a.jsx(te,{variant:"outline",className:"text-xs",children:e(m)},h))}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsxs("span",{className:"text-2xl font-bold text-primary",children:["RM ",d.price]}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",e(d.unitKey)]}),d.originalPrice>d.price&&a.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["RM ",d.originalPrice]})]})]}),a.jsx(k2,{className:"pt-0 gap-2",children:a.jsxs(C,{className:"flex-1 gap-2",onClick:()=>o(d),"data-testid":`button-order-${d.id}`,children:[a.jsx(kn,{className:"w-4 h-4"}),e("products.orderNow")]})})]})},d.id))})},c.id))]})})}),a.jsx("section",{className:"py-16 bg-primary text-primary-foreground","data-testid":"section-quality",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif","data-testid":"text-quality-title",children:e("productsPage.quality.title")}),a.jsx("p",{className:"opacity-80 leading-relaxed",children:e("productsPage.quality.description")}),a.jsxs("ul",{className:"space-y-4",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(pa,{className:"w-3 h-3 text-secondary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:e("productsPage.quality.traceability.title")}),a.jsx("p",{className:"text-sm opacity-70",children:e("productsPage.quality.traceability.description")})]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(pa,{className:"w-3 h-3 text-secondary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:e("productsPage.quality.craftsmanship.title")}),a.jsx("p",{className:"text-sm opacity-70",children:e("productsPage.quality.craftsmanship.description")})]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(pa,{className:"w-3 h-3 text-secondary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:e("productsPage.quality.inspection.title")}),a.jsx("p",{className:"text-sm opacity-70",children:e("productsPage.quality.inspection.description")})]})]})]})]}),a.jsx("div",{children:a.jsx("img",{src:"/pics/love_young_success_metrics_20260106043449_1.png",alt:e("productsPage.quality.imageAlt"),className:"rounded-2xl shadow-xl w-full","data-testid":"img-quality"})})]})})}),a.jsx("section",{className:"py-16","data-testid":"section-products-cta",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-6","data-testid":"text-products-cta-title",children:e("productsPage.cta.title")}),a.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:e("productsPage.cta.description")}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsxs(C,{size:"lg",className:"gap-2 bg-secondary text-secondary-foreground",onClick:l,"data-testid":"button-final-shop",children:[a.jsx(kn,{className:"w-5 h-5"}),e("productsPage.cta.goToShop")]}),a.jsxs(C,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>window.open(i,"_blank"),"data-testid":"button-final-consult",children:[a.jsx(Gr,{className:"w-5 h-5"}),e("productsPage.cta.consultWellness")]})]})]})}),a.jsx(_x,{whatsappLink:i,metaShopLink:mR}),a.jsx(rU,{open:t,onOpenChange:n,product:r})]})}const eK="60178228658",a1=`https://wa.me/${eK}?text=${encodeURIComponent("")}`,pR="https://www.facebook.com/loveyoung.birdnest/shop",fR={pending:{label:"",icon:Ht,color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},confirmed:{label:"",icon:Le,color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},processing:{label:"",icon:ca,color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"},shipped:{label:"",icon:hs,color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},delivered:{label:"",icon:Le,color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},cancelled:{label:"",icon:ms,color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}};function Ipe(){const[e,t]=y.useState(""),[n,r]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState(null),{toast:c}=Jt(),d=async p=>{if(p.preventDefault(),!e.trim()){c({title:"",description:"",variant:"destructive"});return}r(!0),l(null),i(null);try{const g=await fetch(`/api/orders/track?q=${encodeURIComponent(e.trim())}`);if(!g.ok){g.status===404?l(""):l("");return}const f=await g.json();i(f)}catch{l("")}finally{r(!1)}},u=p=>p?new Date(p).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",m=p=>{try{return JSON.parse(p)}catch{return[]}},h=s?fR[s.status]||fR.pending:null;return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Px,{whatsappLink:a1,metaShopLink:pR}),a.jsx("main",{className:"py-12 md:py-20",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 md:px-6",children:[a.jsx(sn,{href:"/",children:a.jsxs(C,{variant:"ghost",className:"mb-6 gap-2","data-testid":"button-back-home",children:[a.jsx(Zn,{className:"w-4 h-4"}),""]})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"font-serif text-2xl md:text-3xl font-semibold text-foreground mb-3","data-testid":"text-page-title",children:""}),a.jsx("p",{className:"text-muted-foreground",children:""})]}),a.jsx(W,{className:"mb-8","data-testid":"card-search",children:a.jsx(ae,{className:"pt-6",children:a.jsxs("form",{onSubmit:d,className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{type:"text",placeholder:"  ",value:e,onChange:p=>t(p.target.value),className:"pl-10","data-testid":"input-search-query"})]}),a.jsx(C,{type:"submit",disabled:n,"data-testid":"button-search",children:n?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):""})]})})}),o&&a.jsx(W,{className:"border-destructive/50 mb-8","data-testid":"card-error",children:a.jsx(ae,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ms,{className:"w-12 h-12 text-destructive mx-auto mb-3"}),a.jsx("p",{className:"text-destructive font-medium mb-4",children:o}),a.jsxs(C,{variant:"outline",className:"gap-2",onClick:()=>window.open(a1,"_blank"),"data-testid":"button-error-whatsapp",children:[a.jsx(Gr,{className:"w-4 h-4"}),""]})]})})}),s&&h&&a.jsxs(W,{"data-testid":"card-order-result",children:[a.jsx($e,{children:a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs(Ie,{className:"text-lg mb-1","data-testid":"text-order-number",children:[": ",s.orderNumber]}),a.jsxs(Ca,{children:[": ",u(s.createdAt)]})]}),a.jsxs(te,{className:`${h.color} gap-1`,"data-testid":"badge-order-status",children:[a.jsx(h.icon,{className:"w-3 h-3"}),h.label]})]})}),a.jsxs(ae,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:""}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:":"})," ",s.customerName]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:":"})," ",s.customerPhone]}),s.shippingAddress&&a.jsxs("p",{children:[a.jsx("span",{className:"text-muted-foreground",children:":"})," ",s.shippingAddress]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:""}),a.jsxs("div",{className:"space-y-2",children:[m(s.items).map((p,g)=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{children:[p.name," x ",p.quantity]}),a.jsxs("span",{className:"text-muted-foreground",children:["RM ",p.price*p.quantity]})]},g)),a.jsxs("div",{className:"border-t pt-2 flex justify-between font-medium",children:[a.jsx("span",{children:""}),a.jsxs("span",{"data-testid":"text-order-total",children:["RM ",s.totalAmount]})]})]})]}),s.trackingNumber&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-2",children:""}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(hs,{className:"w-4 h-4 text-primary"}),a.jsxs("span",{children:[": ",s.trackingNumber]})]})]}),a.jsx("div",{className:"pt-4 border-t",children:a.jsxs(C,{variant:"outline",className:"w-full gap-2",onClick:()=>{const p=encodeURIComponent(` ${s.orderNumber} `);window.open(`https://wa.me/${eK}?text=${p}`,"_blank")},"data-testid":"button-contact-about-order",children:[a.jsx(Gr,{className:"w-4 h-4"}),""]})})]})]}),!s&&!o&&!n&&a.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[a.jsx(ca,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),a.jsx("p",{className:"mb-2",children:""}),a.jsx("p",{className:"text-sm",children:": LY20241201001  60123456789"})]})]})}),a.jsx(_x,{whatsappLink:a1,metaShopLink:pR})]})}const Lpe="/assets/christmas_luxury_gift_box-BsJis5Q4.png",$pe="60178228658",Ey=`https://wa.me/${$pe}?text=${encodeURIComponent("")}`,gl={hidden:{opacity:0,y:30},visible:{opacity:1,y:0}},n1={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},Fpe={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1}};function Bpe(){const[,e]=Or(),t=[{icon:pr,text:"",sub:""},{icon:Lr,text:"",sub:""},{icon:gw,text:"8",sub:"120g"},{icon:pa,text:"",sub:""}],n=[{name:"",price:"RM226",originalPrice:"RM268",desc:"8  1",badge:"50"},{name:"",price:"RM428",originalPrice:"RM536",desc:"16  2",badge:"",highlight:!0}];return a.jsxs("div",{className:"min-h-screen bg-background christmas-promo-page",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-red-900/95 via-red-800/95 to-red-900/95 backdrop-blur-md border-b border-red-700/50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16 gap-4",children:[a.jsx(C,{variant:"ghost",size:"icon",className:"text-white/90",onClick:()=>e("/"),"data-testid":"button-back-home",children:a.jsx(Zn,{className:"w-5 h-5"})}),a.jsxs("a",{href:"/",className:"christmas-logo-text","data-testid":"link-christmas-logo",children:[a.jsx("span",{className:"christmas-logo-main",children:"LOVEYOUNG"}),a.jsx("span",{className:"christmas-logo-sub",children:""})]}),a.jsxs(C,{size:"sm",className:"gap-2 bg-white/20 text-white border-white/30",onClick:()=>window.open(Ey,"_blank"),"data-testid":"button-christmas-whatsapp",children:[a.jsx(Gr,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:""})]})]})})}),a.jsxs("section",{className:"relative min-h-screen flex items-center pt-16 overflow-hidden christmas-hero",children:[a.jsxs("div",{className:"absolute inset-0",children:[a.jsx("img",{src:Lpe,alt:"",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-950/90 via-red-900/70 to-transparent"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-red-950/80 via-transparent to-red-950/40"}),a.jsx("div",{className:"christmas-snowfall"})]}),a.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-6 lg:px-8 py-16 w-full",children:a.jsxs(Fe.div,{initial:"hidden",animate:"visible",variants:n1,className:"max-w-2xl",children:[a.jsx(Fe.div,{variants:gl,className:"mb-6",children:a.jsxs(te,{className:"christmas-badge gap-2","data-testid":"badge-christmas-limited",children:[a.jsx(Lr,{className:"w-3.5 h-3.5"}),"2024 "]})}),a.jsxs(Fe.h1,{variants:gl,className:"christmas-hero-title mb-4","data-testid":"text-christmas-title",children:[a.jsx("span",{className:"block text-white/90",children:""}),a.jsx("span",{className:"block christmas-title-gold",children:""})]}),a.jsxs(Fe.p,{variants:gl,className:"text-lg md:text-xl text-white/85 mb-6 leading-relaxed","data-testid":"text-christmas-subtitle",children:["",a.jsx("br",{className:"hidden sm:block"}),""]}),a.jsx(Fe.div,{variants:gl,className:"flex flex-wrap gap-3 mb-8",children:t.map((r,s)=>a.jsxs("div",{className:"christmas-feature-tag","data-testid":`tag-feature-${s}`,children:[a.jsx(r.icon,{className:"w-4 h-4 text-amber-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-medium text-sm",children:r.text}),a.jsx("div",{className:"text-white/60 text-xs",children:r.sub})]})]},s))}),a.jsxs(Fe.div,{variants:gl,className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(C,{size:"lg",className:"gap-2 christmas-cta-button text-base font-bold",onClick:()=>window.open(Ey,"_blank"),"data-testid":"button-christmas-order",children:[a.jsx(pr,{className:"w-5 h-5"}),""]}),a.jsx(C,{variant:"outline",size:"lg",className:"gap-2 text-base glass border-white/30 text-white",onClick:()=>{const r=document.querySelector("#packages");r==null||r.scrollIntoView({behavior:"smooth"})},"data-testid":"button-christmas-view-packages",children:""})]})]})})]}),a.jsx("section",{id:"packages",className:"py-16 md:py-24 bg-gradient-to-b from-red-950 to-background",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 md:px-6 lg:px-8",children:[a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:n1,className:"text-center mb-12",children:[a.jsxs(Fe.h2,{variants:gl,className:"text-3xl md:text-4xl font-black text-white mb-4","data-testid":"text-packages-title",children:["",a.jsx("span",{className:"christmas-title-gold",children:""})]}),a.jsx(Fe.p,{variants:gl,className:"text-white/70",children:""})]}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:n1,className:"grid md:grid-cols-2 gap-6",children:n.map((r,s)=>a.jsx(Fe.div,{variants:Fpe,children:a.jsxs(W,{className:`p-6 relative christmas-package-card ${r.highlight?"christmas-package-highlight":""}`,"data-testid":`card-package-${s}`,children:[a.jsx(te,{className:`absolute top-4 right-4 ${r.highlight?"bg-amber-500/20 text-amber-300 border-amber-500/30":"bg-red-500/20 text-red-300 border-red-500/30"}`,children:r.badge}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:r.name}),a.jsx("p",{className:"text-white/70 mb-4",children:r.desc}),a.jsxs("div",{className:"mb-6",children:[a.jsx("span",{className:"text-3xl font-black christmas-title-gold",children:r.price}),a.jsx("span",{className:"text-white/50 line-through ml-2",children:r.originalPrice})]}),a.jsx("div",{className:"space-y-2 mb-6",children:["","","",""].map((i,o)=>a.jsxs("div",{className:"flex items-center gap-2 text-white/80 text-sm",children:[a.jsx(qn,{className:"w-4 h-4 text-emerald-400"}),i]},o))}),a.jsxs(C,{className:`w-full gap-2 font-bold ${r.highlight?"christmas-cta-button":"bg-white/10 text-white"}`,onClick:()=>window.open(Ey,"_blank"),"data-testid":`button-order-package-${s}`,children:[a.jsx(Gr,{className:"w-4 h-4"}),"WhatsApp "]})]})},s))})]})}),a.jsx("section",{className:"py-16 bg-background",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 md:px-6 lg:px-8 text-center",children:a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:gl,children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground mb-4",children:"LOVEYOUNG"}),a.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl mx-auto",children:" 0"}),a.jsxs(C,{size:"lg",className:"gap-2 christmas-cta-button font-bold",onClick:()=>window.open(Ey,"_blank"),"data-testid":"button-final-order",children:[a.jsx(pr,{className:"w-5 h-5"}),""]})]})})}),a.jsx("footer",{className:"py-8 bg-card border-t border-border",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center",children:a.jsxs(C,{variant:"ghost",className:"gap-2 text-muted-foreground",onClick:()=>e("/"),"data-testid":"button-footer-back",children:[a.jsx(Zn,{className:"w-4 h-4"}),""]})})})]})}var tK=["PageUp","PageDown"],aK=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nK={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},qh="Slider",[n_,Upe,qpe]=Ch(qh),[rK,K8e]=pn(qh,[qpe]),[Vpe,Vw]=rK(qh),sK=y.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[r],value:u,onValueChange:m=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:g,...f}=e,x=y.useRef(new Set),b=y.useRef(0),v=o==="horizontal"?Kpe:zpe,[N=[],w]=Hr({prop:u,defaultProp:d,onChange:A=>{var D;(D=[...x.current][b.current])==null||D.focus(),m(A)}}),P=y.useRef(N);function k(A){const E=Jpe(N,A);O(A,E)}function _(A){O(A,b.current)}function S(){const A=P.current[b.current];N[b.current]!==A&&h(N)}function O(A,E,{commit:D}={commit:!1}){const B=efe(i),z=tfe(Math.round((A-r)/i)*i+r,B),K=Hf(z,[r,s]);w((Y=[])=>{const M=Gpe(Y,K,E);if(Zpe(M,c*i)){b.current=M.indexOf(K);const R=String(M)!==String(Y);return R&&D&&h(M),R?M:Y}else return Y})}return a.jsx(Vpe,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:b,thumbs:x.current,values:N,orientation:o,form:g,children:a.jsx(n_.Provider,{scope:e.__scopeSlider,children:a.jsx(n_.Slot,{scope:e.__scopeSlider,children:a.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...f,ref:t,onPointerDown:Te(f.onPointerDown,()=>{l||(P.current=N)}),min:r,max:s,inverted:p,onSlideStart:l?void 0:k,onSlideMove:l?void 0:_,onSlideEnd:l?void 0:S,onHomeKeyDown:()=>!l&&O(r,0,{commit:!0}),onEndKeyDown:()=>!l&&O(s,N.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:E})=>{if(!l){const z=tK.includes(A.key)||A.shiftKey&&aK.includes(A.key)?10:1,K=b.current,Y=N[K],M=i*z*E;O(Y+M,K,{commit:!0})}}})})})})});sK.displayName=qh;var[iK,oK]=rK(qh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Kpe=y.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[m,h]=y.useState(null),p=jt(t,v=>h(v)),g=y.useRef(void 0),f=wc(s),x=f==="ltr",b=x&&!i||!x&&i;function j(v){const N=g.current||m.getBoundingClientRect(),w=[0,N.width],k=jA(w,b?[n,r]:[r,n]);return g.current=N,k(v-N.left)}return a.jsx(iK,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:a.jsx(lK,{dir:f,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const N=j(v.clientX);o==null||o(N)},onSlideMove:v=>{const N=j(v.clientX);l==null||l(N)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:v=>{const w=nK[b?"from-left":"from-right"].includes(v.key);d==null||d({event:v,direction:w?-1:1})}})})}),zpe=y.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=y.useRef(null),m=jt(t,u),h=y.useRef(void 0),p=!s;function g(f){const x=h.current||u.current.getBoundingClientRect(),b=[0,x.height],v=jA(b,p?[r,n]:[n,r]);return h.current=x,v(f-x.top)}return a.jsx(iK,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:a.jsx(lK,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:f=>{const x=g(f.clientY);i==null||i(x)},onSlideMove:f=>{const x=g(f.clientY);o==null||o(x)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:f=>{const b=nK[p?"from-bottom":"from-top"].includes(f.key);c==null||c({event:f,direction:b?-1:1})}})})}),lK=y.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=Vw(qh,n);return a.jsx(nt.span,{...d,ref:t,onKeyDown:Te(e.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):tK.concat(aK).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:Te(e.onPointerDown,m=>{const h=m.target;h.setPointerCapture(m.pointerId),m.preventDefault(),u.thumbs.has(h)?h.focus():r(m)}),onPointerMove:Te(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&s(m)}),onPointerUp:Te(e.onPointerUp,m=>{const h=m.target;h.hasPointerCapture(m.pointerId)&&(h.releasePointerCapture(m.pointerId),i(m))})})}),cK="SliderTrack",dK=y.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Vw(cK,n);return a.jsx(nt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});dK.displayName=cK;var r_="SliderRange",uK=y.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Vw(r_,n),i=oK(r_,n),o=y.useRef(null),l=jt(t,o),c=s.values.length,d=s.values.map(h=>hK(h,s.min,s.max)),u=c>1?Math.min(...d):0,m=100-Math.max(...d);return a.jsx(nt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[i.startEdge]:u+"%",[i.endEdge]:m+"%"}})});uK.displayName=r_;var s_="SliderThumb",mK=y.forwardRef((e,t)=>{const n=Upe(e.__scopeSlider),[r,s]=y.useState(null),i=jt(t,l=>s(l)),o=y.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return a.jsx(Wpe,{...e,ref:i,index:o})}),Wpe=y.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...i}=e,o=Vw(s_,n),l=oK(s_,n),[c,d]=y.useState(null),u=jt(t,j=>d(j)),m=c?o.form||!!c.closest("form"):!0,h=px(c),p=o.values[r],g=p===void 0?0:hK(p,o.min,o.max),f=Ype(r,o.values.length),x=h==null?void 0:h[l.size],b=x?Qpe(x,g,l.direction):0;return y.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${b}px)`},children:[a.jsx(n_.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(nt.span,{role:"slider","aria-label":e["aria-label"]||f,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:p===void 0?{display:"none"}:e.style,onFocus:Te(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),m&&a.jsx(Hpe,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},r)]})});mK.displayName=s_;var Hpe=e=>{const{value:t,...n}=e,r=y.useRef(null),s=vx(t);return y.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==t&&c){const d=new Event("input",{bubbles:!0});c.call(i,t),i.dispatchEvent(d)}},[s,t]),a.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function Gpe(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,i)=>s-i)}function hK(e,t,n){const i=100/(n-t)*(e-t);return Hf(i,[0,100])}function Ype(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Jpe(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function Qpe(e,t,n){const r=e/2,i=jA([0,50],[0,r]);return(r-i(t)*n)*n}function Xpe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Zpe(e,t){if(t>0){const n=Xpe(e);return Math.min(...n)>=t}return!0}function jA(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function efe(e){return(String(e).split(".")[1]||"").length}function tfe(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var pK=sK,afe=dK,nfe=uK,rfe=mK;const Vp=y.forwardRef(({className:e,...t},n)=>a.jsxs(pK,{ref:n,className:Be("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(afe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(nfe,{className:"absolute h-full bg-primary"})}),a.jsx(rfe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Vp.displayName=pK.displayName;var NA="Collapsible",[sfe,fK]=pn(NA),[ife,kA]=sfe(NA),gK=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=Hr({prop:r,defaultProp:s,onChange:o});return a.jsx(ife,{scope:n,disabled:i,contentId:Us(),open:c,onOpenToggle:y.useCallback(()=>d(u=>!u),[d]),children:a.jsx(nt.div,{"data-state":_A(c),"data-disabled":i?"":void 0,...l,ref:t})})});gK.displayName=NA;var xK="CollapsibleTrigger",yK=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=kA(xK,n);return a.jsx(nt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":_A(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:Te(e.onClick,s.onOpenToggle)})});yK.displayName=xK;var PA="CollapsibleContent",vK=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=kA(PA,e.__scopeCollapsible);return a.jsx(Kn,{present:n||s.open,children:({present:i})=>a.jsx(ofe,{...r,ref:t,present:i})})});vK.displayName=PA;var ofe=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,o=kA(PA,n),[l,c]=y.useState(r),d=y.useRef(null),u=jt(t,d),m=y.useRef(0),h=m.current,p=y.useRef(0),g=p.current,f=o.open||l,x=y.useRef(f),b=y.useRef(void 0);return y.useEffect(()=>{const j=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(j)},[]),hn(()=>{const j=d.current;if(j){b.current=b.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const v=j.getBoundingClientRect();m.current=v.height,p.current=v.width,x.current||(j.style.transitionDuration=b.current.transitionDuration,j.style.animationName=b.current.animationName),c(r)}},[o.open,r]),a.jsx(nt.div,{"data-state":_A(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!f,...i,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:f&&s})});function _A(e){return e?"open":"closed"}var lfe=gK,cfe=yK,dfe=vK,ol="Accordion",ufe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[SA,mfe,hfe]=Ch(ol),[Kw,z8e]=pn(ol,[hfe,fK]),CA=fK(),bK=X.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return a.jsx(SA.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?a.jsx(xfe,{...i,ref:t}):a.jsx(gfe,{...s,ref:t})})});bK.displayName=ol;var[wK,pfe]=Kw(ol),[jK,ffe]=Kw(ol,{collapsible:!1}),gfe=X.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=Hr({prop:n,defaultProp:r,onChange:s});return a.jsx(wK,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:X.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(jK,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(NK,{...o,ref:t})})})}),xfe=X.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[o=[],l]=Hr({prop:n,defaultProp:r,onChange:s}),c=X.useCallback(u=>l((m=[])=>[...m,u]),[l]),d=X.useCallback(u=>l((m=[])=>m.filter(h=>h!==u)),[l]);return a.jsx(wK,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:a.jsx(jK,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(NK,{...i,ref:t})})})}),[yfe,zw]=Kw(ol),NK=X.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=e,l=X.useRef(null),c=jt(l,t),d=mfe(n),m=wc(s)==="ltr",h=Te(e.onKeyDown,p=>{var _;if(!ufe.includes(p.key))return;const g=p.target,f=d().filter(S=>{var O;return!((O=S.ref.current)!=null&&O.disabled)}),x=f.findIndex(S=>S.ref.current===g),b=f.length;if(x===-1)return;p.preventDefault();let j=x;const v=0,N=b-1,w=()=>{j=x+1,j>N&&(j=v)},P=()=>{j=x-1,j<v&&(j=N)};switch(p.key){case"Home":j=v;break;case"End":j=N;break;case"ArrowRight":i==="horizontal"&&(m?w():P());break;case"ArrowDown":i==="vertical"&&w();break;case"ArrowLeft":i==="horizontal"&&(m?P():w());break;case"ArrowUp":i==="vertical"&&P();break}const k=j%b;(_=f[k].ref.current)==null||_.focus()});return a.jsx(yfe,{scope:n,disabled:r,direction:s,orientation:i,children:a.jsx(SA.Slot,{scope:n,children:a.jsx(nt.div,{...o,"data-orientation":i,ref:c,onKeyDown:r?void 0:h})})})}),Pb="AccordionItem",[vfe,AA]=Kw(Pb),kK=X.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=zw(Pb,n),o=pfe(Pb,n),l=CA(n),c=Us(),d=r&&o.value.includes(r)||!1,u=i.disabled||e.disabled;return a.jsx(vfe,{scope:n,open:d,disabled:u,triggerId:c,children:a.jsx(lfe,{"data-orientation":i.orientation,"data-state":TK(d),...l,...s,ref:t,disabled:u,open:d,onOpenChange:m=>{m?o.onItemOpen(r):o.onItemClose(r)}})})});kK.displayName=Pb;var PK="AccordionHeader",_K=X.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=zw(ol,n),i=AA(PK,n);return a.jsx(nt.h3,{"data-orientation":s.orientation,"data-state":TK(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});_K.displayName=PK;var i_="AccordionTrigger",SK=X.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=zw(ol,n),i=AA(i_,n),o=ffe(i_,n),l=CA(n);return a.jsx(SA.ItemSlot,{scope:n,children:a.jsx(cfe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...r,ref:t})})});SK.displayName=i_;var CK="AccordionContent",AK=X.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=zw(ol,n),i=AA(CK,n),o=CA(n);return a.jsx(dfe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});AK.displayName=CK;function TK(e){return e?"open":"closed"}var bfe=bK,wfe=kK,jfe=_K,EK=SK,OK=AK;const DK=bfe,TA=y.forwardRef(({className:e,...t},n)=>a.jsx(wfe,{ref:n,className:Be("border-b",e),...t}));TA.displayName="AccordionItem";const EA=y.forwardRef(({className:e,children:t,...n},r)=>a.jsx(jfe,{className:"flex",children:a.jsxs(EK,{ref:r,className:Be("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,a.jsx(fw,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));EA.displayName=EK.displayName;const OA=y.forwardRef(({className:e,children:t,...n},r)=>a.jsx(OK,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:Be("pb-4 pt-0",e),children:t})}));OA.displayName=OK.displayName;const Nfe="60178228658",gR="https://www.facebook.com/loveyoung.birdnest/shop",Qs={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};function kfe({t:e}){const[t,n]=y.useState(0);return y.useEffect(()=>{const r=setInterval(()=>{n(s=>(s+1)%4)},2e3);return()=>clearInterval(r)},[]),a.jsxs("div",{className:"relative py-8",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3 sm:gap-4",children:[a.jsx(Fe.div,{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-muted flex items-center justify-center text-muted-foreground font-bold text-xs sm:text-sm shadow",animate:{scale:t===0?[1,1.1,1]:1},transition:{duration:.5},children:e("partner.network.customer")||""}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(fP,{className:"w-4 h-4 text-primary"})}),a.jsx(Fe.div,{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center font-bold text-sm sm:text-lg shadow-lg ${t===1?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,animate:{scale:t===1?[1,1.15,1]:1},transition:{duration:.5},children:e("partner.network.you")}),a.jsx("div",{className:"text-center",children:a.jsx(te,{variant:"outline",className:"bg-primary/10 text-primary border-primary/30",children:e("partner.dividends.cashbackFirst5")})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(fP,{className:"w-4 h-4 text-secondary/50"})}),a.jsx("div",{className:"flex items-center gap-3 sm:gap-6 flex-wrap justify-center",children:[1,2].map(r=>a.jsxs(Fe.div,{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center text-xs sm:text-sm font-bold shadow-md ${t===2?"bg-secondary/80 text-secondary-foreground":"bg-muted text-muted-foreground"}`,animate:{scale:t===2?[1,1.15,1]:1},transition:{duration:.5,delay:r*.1},children:["L",r]},r))}),a.jsx(te,{variant:"outline",className:"bg-secondary/10 text-secondary border-secondary/30",children:e("partner.dividends.sameLevelReward")})]}),t>0&&a.jsxs(Fe.div,{className:"hidden sm:flex absolute top-1/2 right-4 items-center gap-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0},children:[a.jsx(ab,{className:"w-5 h-5 text-secondary animate-pulse"}),a.jsx("span",{className:"text-sm font-bold text-secondary",children:e("partner.network.plusCashback")})]})]})}function Pfe(){var w,P;const[,e]=Or(),{toast:t}=Jt(),{t:n}=ks(),[r,s]=y.useState(null),[i,o]=y.useState("");y.useState(10);const[l,c]=y.useState({mySales:20,totalPoolSales:500,totalPartners:50,avgSalesPerPartner:10}),d=`https://wa.me/${Nfe}?text=${encodeURIComponent(n("partner.whatsappMessage"))}`,u=y.useMemo(()=>[{id:"phase1",name:n("partner.tierNames.phase1"),subtitle:"Phase 1",price:1e3,lyPoints:2e3,dividendWeight:"1.0x",icon:pa,features:[n("partner.tierFeatures.cashback50First5"),n("partner.tierFeatures.cashback30Next5"),n("partner.tierFeatures.cashback20Rest"),n("partner.tierFeatures.freeFirstBox"),n("partner.tierFeatures.photoShoot"),n("partner.tierFeatures.tenLevelBonus")],highlight:!0,disabled:!1,badge:n("landing.hotSelling")+"  "+n("landing.only50Slots")},{id:"phase2",name:n("partner.tierNames.phase2"),subtitle:"Phase 2",price:1300,lyPoints:2860,dividendWeight:"1.2x",icon:mx,features:[n("partner.tierFeatures.weight12x"),n("partner.tierFeatures.cashback50First5"),n("partner.tierFeatures.cashback30Next5"),n("partner.tierFeatures.factoryVip"),n("partner.tierFeatures.microFilm"),n("partner.tierFeatures.tenLevelBonus")],highlight:!1,disabled:!0,badge:n("landing.comingSoon")},{id:"phase3",name:n("partner.tierNames.phase3"),subtitle:"Phase 3",price:1500,lyPoints:3750,dividendWeight:"1.5x",icon:Cte,features:[n("partner.tierFeatures.weight15x"),n("partner.tierFeatures.topPoolPriority"),n("partner.tierFeatures.intlLaunch"),n("partner.tierFeatures.cobranding"),n("partner.tierFeatures.exclusiveBiz"),n("partner.tierFeatures.tenLevelBonus")],highlight:!1,disabled:!0,badge:n("landing.comingSoon")}],[n]),m=y.useMemo(()=>[{icon:cs,title:n("partner.concepts.assetTransparency"),description:n("partner.concepts.assetTransparencyDesc")},{icon:FB,title:n("partner.concepts.earningsGuarantee"),description:n("partner.concepts.earningsGuaranteeDesc")},{icon:Ki,title:n("partner.concepts.globalFlow"),description:n("partner.concepts.globalFlowDesc")}],[n]),h=y.useMemo(()=>[{level:1,percentage:20,description:n("partner.ly.level1")},{level:2,percentage:15,description:n("partner.ly.level2")},{level:3,percentage:10,description:n("partner.ly.level3")},{level:4,percentage:10,description:n("partner.ly.level4")},{level:5,percentage:10,description:n("partner.ly.level5")},{level:6,percentage:5,description:n("partner.ly.level6")},{level:7,percentage:5,description:n("partner.ly.level7")},{level:8,percentage:5,description:n("partner.ly.level8")},{level:9,percentage:5,description:n("partner.ly.level9")},{level:10,percentage:5,description:n("partner.ly.level10")}],[n]),p=y.useMemo(()=>[{question:n("partner.faqs.q1"),answer:n("partner.faqs.a1")},{question:n("partner.faqs.q2"),answer:n("partner.faqs.a2")},{question:n("partner.faqs.q3"),answer:n("partner.faqs.a3")},{question:n("partner.faqs.q4"),answer:n("partner.faqs.a4")},{question:n("partner.faqs.q5"),answer:n("partner.faqs.a5")},{question:n("partner.faqs.q6"),answer:n("partner.faqs.a6")}],[n]),{user:g,member:f,partner:x}=oa(),b=Ce({mutationFn:async k=>gee("POST","/api/partner/join",k),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/partner/profile"]}),t({title:n("partner.page.applicationSubmitted"),description:n("partner.page.applicationSubmittedDesc")}),s(null)},onError:k=>{t({title:n("partner.page.applicationFailed"),description:k.message,variant:"destructive"})}}),j=k=>{e(g?"/member/partner-join":"/partner/join")},v=()=>{r&&b.mutate({tier:r,referralCode:i||void 0})},N=y.useMemo(()=>{const S=l.totalPoolSales*199,O=S*.3,A=1+l.mySales,E=1+l.avgSalesPerPartner,D=l.totalPartners*E,B=A/D,z=O*B;return{totalSalesAmount:S,bonusPool:O,myTokens:A,totalTokens:D,myShare:B,myDividend:z}},[l]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Px,{whatsappLink:d,metaShopLink:gR}),a.jsxs("section",{className:"pt-32 pb-24 relative overflow-hidden","data-testid":"section-partner-hero",children:[a.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-secondary/5 -skew-x-12 transform translate-x-1/4 -z-10"}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-3xl",children:a.jsxs(Fe.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},children:[a.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-serif text-primary mb-6 leading-tight","data-testid":"text-partner-title",children:[n("partner.page.heroTitle1"),a.jsx("br",{}),n("partner.page.heroTitle2"),a.jsx("span",{className:"text-secondary font-bold",children:n("partner.page.heroTitle3")})]}),a.jsxs("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 leading-relaxed","data-testid":"text-partner-subtitle",children:[n("partner.page.heroSubtitle"),a.jsx("strong",{children:n("partner.page.heroSubtitleBold")})]}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(C,{size:"lg",className:"bg-primary text-primary-foreground",onClick:()=>{var k;return(k=document.getElementById("tiers"))==null?void 0:k.scrollIntoView({behavior:"smooth"})},"data-testid":"button-apply-now",children:n("partner.page.applyNow")}),a.jsx(C,{variant:"outline",size:"lg",onClick:()=>window.open(d,"_blank"),"data-testid":"button-download-whitepaper",children:n("partner.page.consultDetails")})]})]})})})]}),a.jsx("section",{className:"py-16 bg-secondary/10","data-testid":"section-income-promise",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Qs,className:"p-6",children:[a.jsx("p",{className:"text-5xl font-bold text-primary mb-2",children:"RM 1,000"}),a.jsx("p",{className:"text-muted-foreground",children:n("partner.page.minInvestment")})]}),a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Qs,transition:{delay:.1},className:"p-6",children:[a.jsx("p",{className:"text-5xl font-bold text-secondary mb-2",children:"2,000 LY"}),a.jsx("p",{className:"text-muted-foreground",children:n("partner.page.lyPointsObtained")})]}),a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Qs,transition:{delay:.2},className:"p-6",children:[a.jsx("p",{className:"text-5xl font-bold text-primary mb-2",children:a.jsx("span",{className:"text-secondary",children:""})}),a.jsx("p",{className:"text-muted-foreground",children:n("partner.page.unlimitedEarnings")})]})]})})}),a.jsx("section",{className:"py-20 bg-card","data-testid":"section-core-concepts",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12",children:m.map((k,_)=>a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Qs,transition:{delay:_*.1},className:"space-y-4",children:[a.jsx("div",{className:"w-14 h-14 bg-secondary/10 rounded-2xl flex items-center justify-center",children:a.jsx(k.icon,{className:"text-secondary w-7 h-7"})}),a.jsx("h3",{className:"text-xl md:text-2xl font-serif text-primary",children:k.title}),a.jsx("p",{className:"text-muted-foreground",children:k.description})]},_))})})}),a.jsx("section",{className:"py-20","data-testid":"section-two-dividends",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-dividends-title",children:n("partner.dividends.title")}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:n("partner.dividends.subtitle")})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Qs,children:a.jsxs(W,{className:"h-full border-2 border-primary/20 overflow-hidden",children:[a.jsx($e,{className:"bg-primary/5 pb-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-primary rounded-xl flex items-center justify-center",children:a.jsx(pr,{className:"w-7 h-7 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx(te,{className:"bg-primary text-primary-foreground mb-1",children:n("partner.dividends.method1")}),a.jsx(Ie,{className:"text-2xl font-serif",children:n("partner.dividends.cashbackTitle")})]})]})}),a.jsxs(ae,{className:"pt-6",children:[a.jsx("p",{className:"text-muted-foreground mb-6",children:n("partner.dividends.cashbackDesc")}),a.jsx(kfe,{t:n}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/5 rounded-lg",children:[a.jsx("span",{className:"font-medium",children:n("partner.dividends.directPartner")}),a.jsx(te,{className:"bg-primary text-primary-foreground",children:n("partner.dividends.cashbackFirst5")})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/5 rounded-lg",children:[a.jsx("span",{className:"font-medium",children:n("partner.dividends.directPartner")}),a.jsx(te,{className:"bg-secondary text-secondary-foreground",children:n("partner.dividends.cashbackAfter")})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/5 rounded-lg",children:[a.jsx("span",{className:"font-medium",children:n("partner.dividends.sameLevelGen1")}),a.jsx(te,{variant:"outline",children:n("partner.dividends.sameLevelReward")})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[a.jsx("span",{className:"font-medium",children:n("partner.dividends.sameLevelGen2")}),a.jsx(te,{variant:"outline",children:n("partner.dividends.sameLevelReward")})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-secondary/10 rounded-xl border border-secondary/20",children:a.jsx("p",{className:"text-sm",children:n("partner.dividends.cashbackExample")})})]})]})}),a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Qs,transition:{delay:.2},children:a.jsxs(W,{className:"h-full border-2 border-secondary/20 overflow-hidden",children:[a.jsx($e,{className:"bg-secondary/5 pb-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-secondary rounded-xl flex items-center justify-center",children:a.jsx(pw,{className:"w-7 h-7 text-secondary-foreground"})}),a.jsxs("div",{children:[a.jsx(te,{className:"bg-secondary text-secondary-foreground mb-1",children:n("partner.dividends.method2")}),a.jsx(Ie,{className:"text-2xl font-serif",children:n("partner.dividends.rwaTitle")})]})]})}),a.jsxs(ae,{className:"pt-6",children:[a.jsx("p",{className:"text-muted-foreground mb-6",children:n("partner.dividends.rwaDesc")}),a.jsx("div",{className:"relative py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2",children:a.jsx(Fi,{className:"w-8 h-8 text-primary"})}),a.jsx("p",{className:"text-2xl font-bold text-primary",children:"30%"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:n("partner.dividends.salesIntoPool")})]}),a.jsx(mi,{className:"w-6 h-6 text-muted-foreground"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary/10 flex items-center justify-center mx-auto mb-2",children:a.jsx(ab,{className:"w-8 h-8 text-secondary"})}),a.jsx("p",{className:"text-2xl font-bold text-secondary",children:"RWA"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:n("partner.dividends.distributeByToken")})]}),a.jsx(mi,{className:"w-6 h-6 text-muted-foreground"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2",children:a.jsx(bs,{className:"w-8 h-8 text-primary"})}),a.jsx("p",{className:"text-2xl font-bold text-primary",children:n("partner.dividends.yourDividend")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:n("partner.dividends.yourDividend")})]})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/5 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:n("partner.dividends.autoToken")}),a.jsx("span",{className:"font-bold text-secondary",children:"1 RWA"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/5 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:n("partner.dividends.tokenPerSale")}),a.jsx("span",{className:"font-bold text-secondary",children:"+1 RWA"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/5 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:n("partner.dividends.cycleReset")}),a.jsx("span",{className:"font-bold text-primary",children:n("partner.dividends.tokenReset")})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-primary/10 rounded-xl border border-primary/20",children:a.jsx("p",{className:"text-sm",children:n("partner.dividends.rwaExample")})})]})]})})]})]})}),a.jsx("section",{className:"py-20 bg-primary text-primary-foreground","data-testid":"section-ly-mechanism",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif mb-4","data-testid":"text-ly-title",children:n("partner.ly.title")}),a.jsx("p",{className:"opacity-80 max-w-2xl mx-auto",children:n("partner.ly.subtitle")})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start",children:[a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Qs,children:a.jsxs(W,{className:"p-6 bg-primary-foreground/10 border-primary-foreground/20",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-secondary/20 rounded-xl flex items-center justify-center",children:a.jsx(Tt,{className:"w-6 h-6 text-secondary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold",children:n("partner.ly.networkTitle")}),a.jsx("p",{className:"text-sm opacity-70",children:n("partner.ly.networkSubtitle")})]})]}),a.jsx("div",{className:"space-y-2",children:h.map(k=>a.jsxs("div",{className:"flex items-center gap-3","data-testid":`ly-level-${k.level}`,children:[a.jsx("div",{className:"w-7 h-7 rounded-full bg-secondary/20 flex items-center justify-center text-xs font-bold text-secondary",children:k.level}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"h-5 bg-primary-foreground/10 rounded-full overflow-hidden",children:a.jsx(Fe.div,{className:"h-full bg-secondary rounded-full flex items-center justify-end pr-2",initial:{width:0},whileInView:{width:`${k.percentage*5}%`},viewport:{once:!0},transition:{duration:.8,delay:k.level*.05},children:a.jsxs("span",{className:"text-xs font-bold text-secondary-foreground",children:[k.percentage,"%"]})})})}),a.jsx("span",{className:"text-xs opacity-70 w-10",children:k.description})]},k.level))}),a.jsx("div",{className:"mt-6 p-4 bg-secondary/20 rounded-xl",children:a.jsxs("p",{className:"text-sm",children:[n("partner.ly.totalReplenish")," ",a.jsx("span",{className:"text-secondary font-bold",children:"100%"})," ",n("partner.ly.ofSales")]})})]})}),a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Qs,className:"space-y-6",children:[a.jsxs(W,{className:"p-6 bg-primary-foreground/10 border-primary-foreground/20",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx($te,{className:"w-8 h-8 text-secondary"}),a.jsx("h3",{className:"text-xl font-bold",children:n("partner.ly.cycleTitle")})]}),a.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"px-4 py-2 bg-secondary/20 rounded-lg font-medium",children:n("partner.ly.salesGenerate")}),a.jsx(mi,{className:"w-5 h-5"}),a.jsx("div",{className:"px-4 py-2 bg-secondary/20 rounded-lg font-medium",children:n("partner.ly.enterWallet")})]}),a.jsx(fP,{className:"w-5 h-5"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"px-4 py-2 bg-secondary rounded-lg font-medium text-secondary-foreground",children:n("partner.ly.withdrawDeduct")}),a.jsx(mi,{className:"w-5 h-5"}),a.jsx("div",{className:"px-4 py-2 bg-secondary rounded-lg font-medium text-secondary-foreground",children:n("partner.ly.networkReplenish")})]}),a.jsx(En,{className:"w-5 h-5 text-secondary"}),a.jsxs("p",{className:"text-sm opacity-80 text-center",children:[n("partner.ly.keepActive"),a.jsx("br",{}),a.jsx("span",{className:"text-secondary font-bold text-lg",children:n("partner.ly.neverDry")})]})]})]}),a.jsx(W,{className:"p-6 bg-secondary/20 border-secondary/30",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(ux,{className:"w-6 h-6 text-secondary flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold mb-2",children:n("partner.ly.whyMoreTitle")}),a.jsx("p",{className:"text-sm opacity-80",children:n("partner.ly.whyMoreDesc")})]})]})}),a.jsx(W,{className:"p-6 bg-destructive/10 border-destructive/30",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(ic,{className:"w-6 h-6 text-destructive flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-foreground mb-2",children:n("partner.ly.importantNote")}),a.jsx("p",{className:"text-sm text-foreground/80",children:n("partner.ly.importantNoteDesc")})]})]})})]})]})]})}),a.jsx("section",{id:"tiers",className:"py-20","data-testid":"section-partner-tiers",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-tiers-title",children:n("partner.tierSection.title")}),a.jsx("p",{className:"text-muted-foreground",children:n("partner.tierSection.subtitle")})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:u.map((k,_)=>a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Qs,transition:{delay:_*.1},className:k.highlight?"md:scale-105 md:z-10":"",children:a.jsxs(W,{className:`h-full flex flex-col relative overflow-hidden ${k.highlight?"border-2 border-secondary shadow-lg":k.disabled?"border border-muted-foreground/20 opacity-60":"border"}`,"data-testid":`card-tier-${k.id}`,children:[k.badge&&a.jsx("div",{className:"absolute -top-0 left-0 right-0",children:a.jsx(te,{className:`w-full rounded-none justify-center py-1 ${k.highlight?"bg-secondary text-secondary-foreground animate-pulse":"bg-muted-foreground/50 text-muted-foreground"}`,children:k.badge})}),a.jsxs($e,{className:`text-center pt-10 ${k.highlight?"bg-secondary/5":k.disabled?"bg-muted/20":"bg-muted/30"}`,children:[a.jsx("div",{className:`mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${k.highlight?"bg-secondary text-secondary-foreground":k.disabled?"bg-muted text-muted-foreground":"bg-primary text-primary-foreground"}`,children:a.jsx(k.icon,{className:"w-8 h-8"})}),a.jsx(Ie,{className:`text-2xl font-serif ${k.disabled?"text-muted-foreground":""}`,children:k.name}),a.jsx(te,{variant:"outline",className:`mx-auto mt-2 ${k.disabled?"opacity-50":""}`,children:k.subtitle})]}),a.jsxs(ae,{className:"flex-1 p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"text-sm text-muted-foreground uppercase tracking-widest",children:n("partner.tierSection.invest")}),a.jsxs("div",{className:`text-3xl font-bold mt-1 ${k.disabled?"text-muted-foreground":"text-foreground"}`,children:["RM ",k.price.toLocaleString()]})]}),a.jsxs("div",{className:`p-4 rounded-xl text-center mb-6 ${k.disabled?"bg-muted/30 border border-muted-foreground/20":"bg-secondary/10 border border-secondary/20"}`,children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:n("partner.tierSection.getLyPoints")}),a.jsx("p",{className:`text-3xl font-bold ${k.disabled?"text-muted-foreground":"text-secondary"}`,children:k.lyPoints.toLocaleString()}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n("partner.tierSection.minWithdraw"),k.lyPoints.toLocaleString()]})]}),a.jsx("ul",{className:"space-y-3",children:k.features.map((S,O)=>a.jsxs("li",{className:"flex items-start gap-3 text-sm",children:[a.jsx("div",{className:`mt-0.5 shrink-0 w-4 h-4 rounded-full flex items-center justify-center ${k.disabled?"bg-muted-foreground/20":"bg-secondary/20"}`,children:a.jsx(Le,{className:`w-3 h-3 ${k.disabled?"text-muted-foreground/50":"text-secondary"}`})}),a.jsx("span",{className:k.disabled?"text-muted-foreground/60":"text-muted-foreground",children:S})]},O))})]}),a.jsx(k2,{className:"p-6 pt-0",children:k.disabled?a.jsx(C,{className:"w-full",variant:"secondary",disabled:!0,"data-testid":`button-join-${k.id}`,children:n("landing.waitingToOpen")}):a.jsx(kb,{className:"w-full",children:a.jsxs(C,{className:`w-full ${k.highlight?"bg-secondary text-secondary-foreground":""}`,variant:k.highlight?"default":"outline",onClick:()=>j(k.id),"data-testid":`button-join-${k.id}`,children:[n("partner.tierSection.consultNow"),a.jsx(mi,{className:"ml-2 w-4 h-4"})]})})})]})},k.id))})]})}),a.jsx("section",{className:"py-20 bg-card","data-testid":"section-rwa-simulator",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-simulator-title",children:n("partner.simulator.title")}),a.jsx("p",{className:"text-muted-foreground",children:n("partner.simulator.subtitle")})]}),a.jsx(W,{className:"p-6 md:p-8 max-w-4xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs(Ke,{className:"mb-2 block",children:[n("partner.simulator.mySales"),": ",a.jsxs("span",{className:"text-secondary font-bold",children:[l.mySales," ",n("partner.simulator.boxes")]})]}),a.jsx(Vp,{value:[l.mySales],onValueChange:([k])=>c(_=>({..._,mySales:k})),min:0,max:100,step:1,className:"w-full","data-testid":"slider-my-sales"})]}),a.jsxs("div",{children:[a.jsxs(Ke,{className:"mb-2 block",children:[n("partner.simulator.totalPlatformSales"),": ",a.jsxs("span",{className:"text-secondary font-bold",children:[l.totalPoolSales," ",n("partner.simulator.boxes")]})]}),a.jsx(Vp,{value:[l.totalPoolSales],onValueChange:([k])=>c(_=>({..._,totalPoolSales:k})),min:100,max:2e3,step:10,className:"w-full","data-testid":"slider-total-sales"})]}),a.jsxs("div",{children:[a.jsxs(Ke,{className:"mb-2 block",children:[n("partner.simulator.activePartners"),": ",a.jsxs("span",{className:"text-secondary font-bold",children:[l.totalPartners," ",n("partner.simulator.people")]})]}),a.jsx(Vp,{value:[l.totalPartners],onValueChange:([k])=>c(_=>({..._,totalPartners:k})),min:10,max:200,step:5,className:"w-full","data-testid":"slider-total-partners"})]}),a.jsxs("div",{children:[a.jsxs(Ke,{className:"mb-2 block",children:[n("partner.simulator.avgSalesPerPerson"),": ",a.jsxs("span",{className:"text-secondary font-bold",children:[l.avgSalesPerPartner," ",n("partner.simulator.boxes")]})]}),a.jsx(Vp,{value:[l.avgSalesPerPartner],onValueChange:([k])=>c(_=>({..._,avgSalesPerPartner:k})),min:1,max:50,step:1,className:"w-full","data-testid":"slider-avg-sales"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-muted",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:n("partner.simulator.cycleTotalSales")}),a.jsxs("span",{className:"font-bold",children:["RM ",N.totalSalesAmount.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:n("partner.simulator.bonusPool30")}),a.jsxs("span",{className:"font-bold text-secondary",children:["RM ",N.bonusPool.toLocaleString()]})]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-muted",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:n("partner.simulator.myRwaTokens")}),a.jsxs("span",{className:"font-bold",children:[N.myTokens," ",n("partner.simulator.units")]})]}),a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:n("partner.simulator.totalPlatformTokens")}),a.jsxs("span",{className:"font-bold",children:[N.totalTokens.toLocaleString()," ",n("partner.simulator.units")]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:n("partner.simulator.myRatio")}),a.jsxs("span",{className:"font-bold text-secondary",children:[(N.myShare*100).toFixed(2),"%"]})]})]}),a.jsxs("div",{className:"p-6 rounded-xl bg-secondary/10 border border-secondary/30",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:n("partner.simulator.estimatedCycleDividend")}),a.jsxs("p",{className:"text-4xl font-bold text-secondary","data-testid":"text-rwa-dividend",children:["RM ",N.myDividend.toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:n("partner.simulator.withdrawNeedsLy")})]})]})]})})]})}),a.jsx("section",{className:"py-20 bg-muted/30","data-testid":"section-ecosystem",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[a.jsx(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Qs,children:a.jsx("img",{src:"/pics/love_young_ecosystem_20260106043624_1.png",alt:n("partner.ecosystem.imgAlt"),className:"rounded-2xl shadow-xl w-full","data-testid":"img-ecosystem"})}),a.jsxs(Fe.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:Qs,className:"space-y-6",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary","data-testid":"text-ecosystem-title",children:n("partner.ecosystem.title")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n("partner.ecosystem.desc1")}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n("partner.ecosystem.desc2")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-background border",children:[a.jsx("p",{className:"text-2xl font-bold text-secondary",children:"5+"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n("partner.ecosystem.modules")})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-background border",children:[a.jsx("p",{className:"text-2xl font-bold text-secondary",children:"360"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n("partner.ecosystem.fullSupport")})]})]})]})]})})}),a.jsx("section",{id:"faq",className:"py-20","data-testid":"section-faq",children:a.jsxs("div",{className:"max-w-3xl mx-auto px-4 md:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-4","data-testid":"text-faq-title",children:n("partner.faqs.title")}),a.jsx("p",{className:"text-muted-foreground",children:n("partner.faqs.subtitle")})]}),a.jsx(DK,{type:"single",collapsible:!0,className:"w-full",children:p.map((k,_)=>a.jsxs(TA,{value:`item-${_}`,"data-testid":`faq-item-${_}`,children:[a.jsx(EA,{className:"text-left","data-testid":`faq-trigger-${_}`,children:k.question}),a.jsx(OA,{className:"text-muted-foreground",children:k.answer})]},_))})]})}),a.jsx("section",{className:"py-20 bg-secondary/10","data-testid":"section-cta",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-serif text-primary mb-6","data-testid":"text-cta-title",children:n("partner.cta.title")}),a.jsxs("p",{className:"text-lg text-muted-foreground mb-8 max-w-2xl mx-auto",children:[n("partner.cta.subtitle"),a.jsx("strong",{children:n("partner.cta.subtitleBold")})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx(kb,{children:a.jsxs(C,{size:"lg",className:"bg-secondary text-secondary-foreground",onClick:()=>{var k;return(k=document.getElementById("tiers"))==null?void 0:k.scrollIntoView({behavior:"smooth"})},"data-testid":"button-final-cta",children:[n("partner.cta.becomePartner"),a.jsx(mi,{className:"ml-2 w-5 h-5"})]})}),a.jsxs(C,{variant:"outline",size:"lg",className:"gap-2",onClick:()=>window.open(d,"_blank"),"data-testid":"button-contact-whatsapp",children:[a.jsx(fi,{className:"w-5 h-5"}),n("partner.cta.whatsappConsult")]})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4","data-testid":"modal-join",children:a.jsxs(W,{className:"w-full max-w-md p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:n("partner.modal.title")}),a.jsxs("p",{className:"text-muted-foreground mb-6",children:[n("partner.modal.selectedTier")," ",(w=u.find(k=>k.id===r))==null?void 0:w.name,"(RM ",(P=u.find(k=>k.id===r))==null?void 0:P.price.toLocaleString(),")"]}),a.jsx("div",{className:"space-y-4 mb-6",children:a.jsxs("div",{children:[a.jsx(Ke,{htmlFor:"referralCode",children:n("partner.modal.referralCodeOptional")}),a.jsx(ce,{id:"referralCode",placeholder:n("partner.modal.referralCodePlaceholder"),value:i,onChange:k=>o(k.target.value.toUpperCase()),maxLength:8,"data-testid":"input-referral-code"})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(C,{variant:"outline",className:"flex-1",onClick:()=>s(null),"data-testid":"button-cancel-join",children:n("partner.modal.cancel")}),a.jsx(C,{className:"flex-1 bg-secondary text-secondary-foreground",onClick:v,disabled:b.isPending,"data-testid":"button-confirm-join",children:b.isPending?"...":n("partner.modal.confirmAndPay")})]})]})}),a.jsx(_x,{whatsappLink:d,metaShopLink:gR})]})}var _fe="Separator",xR="horizontal",Sfe=["horizontal","vertical"],MK=y.forwardRef((e,t)=>{const{decorative:n,orientation:r=xR,...s}=e,i=Cfe(r)?r:xR,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(nt.div,{"data-orientation":i,...l,...s,ref:t})});MK.displayName=_fe;function Cfe(e){return Sfe.includes(e)}var RK=MK;const Sr=y.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>a.jsx(RK,{ref:s,decorative:n,orientation:t,className:Be("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Sr.displayName=RK.displayName;const yR="loveyoung_referral_code",Afe=e=>[{id:"phase1",phase:1,name:e("member.partnerJoin.packages.phase1.name"),price:1e3,lyPoints:2e3,rwaTokens:1,features:[e("member.partnerJoin.packages.phase1.feature1"),e("member.partnerJoin.packages.phase1.feature2"),e("member.partnerJoin.packages.phase1.feature3"),e("member.partnerJoin.packages.phase1.feature4")],popular:!1,available:!0},{id:"phase2",phase:2,name:e("member.partnerJoin.packages.phase2.name"),price:1300,lyPoints:2600,rwaTokens:1,features:[e("member.partnerJoin.packages.phase2.feature1"),e("member.partnerJoin.packages.phase2.feature2"),e("member.partnerJoin.packages.phase2.feature3"),e("member.partnerJoin.packages.phase2.feature4")],popular:!0,available:!1},{id:"phase3",phase:3,name:e("member.partnerJoin.packages.phase3.name"),price:1500,lyPoints:3e3,rwaTokens:1,features:[e("member.partnerJoin.packages.phase3.feature1"),e("member.partnerJoin.packages.phase3.feature2"),e("member.partnerJoin.packages.phase3.feature3"),e("member.partnerJoin.packages.phase3.feature4"),e("member.partnerJoin.packages.phase3.feature5")],popular:!1,available:!1}];function Tfe(){var B,z,K,Y,M;const{t:e}=ft(),[,t]=Or(),{toast:n}=Jt(),{user:r,refreshUserData:s,loading:i}=oa(),[o,l]=y.useState("phase1"),[c,d]=y.useState(""),[u,m]=y.useState(!1),[h,p]=y.useState("profile"),[g,f]=y.useState(""),[x,b]=y.useState(""),[j,v]=y.useState(!1),[N,w]=y.useState(!1),P=Afe(e),{data:k,isLoading:_,refetch:S}=Ae({queryKey:["partner-join-state",r==null?void 0:r.id],queryFn:async()=>{if(!r)return{user:null,member:null,partner:null};try{const{member:R}=await Aoe(r.id);let J=null;return R&&(J=(await Q8(R.id)).partner),{user:{id:r.id,email:r.email},member:R,partner:J}}catch(R){return console.error("Error fetching user state:",R),{user:null,member:null,partner:null}}},enabled:!i,retry:1,staleTime:3e4}),O=i||_;y.useEffect(()=>{if(k!=null&&k.member){const R=new URLSearchParams(window.location.search),J=new URLSearchParams;R.get("ref")&&J.set("ref",R.get("ref")),R.get("payment")&&J.set("payment",R.get("payment"));const ie=J.toString();t(`/member/partner-join${ie?`?${ie}`:""}`,{replace:!0})}},[k==null?void 0:k.member,t]),y.useEffect(()=>{const J=new URLSearchParams(window.location.search).get("ref");if(J){d(J.toUpperCase()),m(!0);try{localStorage.setItem(yR,J.toUpperCase())}catch{}}else try{const ie=localStorage.getItem(yR);ie&&(d(ie.toUpperCase()),m(!0))}catch{}},[]),y.useEffect(()=>{new URLSearchParams(window.location.search).get("payment")==="success"&&(p("success"),window.history.replaceState({},"",window.location.pathname),S(),s())},[]),y.useEffect(()=>{k&&h!=="success"&&(k.member?p("package"):k.user&&p("profile"))},[k]);const A=h==="profile"&&(k!=null&&k.member||k!=null&&k.partner)?"package":h,E=async()=>{if(!g.trim()||!x.trim()){n({title:e("auth.fillRequired")||"",variant:"destructive"});return}if(k!=null&&k.user){v(!0);try{const{member:R,error:J}=await jx(k.user.id,{name:g.trim(),phone:x.trim(),email:k.user.email});if(J)throw J;const{data:ie}=await L.from("users").select("role").eq("id",k.user.id).single(),F=(ie==null?void 0:ie.role)==="admin"||(ie==null?void 0:ie.role)==="partner";await L.from("users").update({first_name:g.trim(),phone:x.trim(),...F?{}:{role:"member"}}).eq("id",k.user.id),n({title:e("auth.profileSaved")||""}),await S(),p("package")}catch(R){n({title:e("auth.profileSaveFailed")||"",description:R.message,variant:"destructive"})}finally{v(!1)}}},D=async()=>{if(!o||!(k!=null&&k.member))return;const R=P.find(J=>J.id===o);if(R){w(!0);try{const J=await fetch("https://vpzmhglfwomgrashheol.supabase.co/functions/v1/create-partner-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwem1oZ2xmd29tZ3Jhc2hoZW9sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NjE1NjQsImV4cCI6MjA4NTAzNzU2NH0.anMz844nf2-sscp4yX5ctLGMMaRjKy24YKjPWAEDUN4"},body:JSON.stringify({memberId:k.member.id,tier:o,packageName:R.name,price:R.price*100,referralCode:c||void 0,isUpgrade:!!k.partner,successUrl:`${window.location.origin}/partner/join?payment=success`,cancelUrl:`${window.location.origin}/partner/join?payment=cancelled`})}),ie=await J.json();if(J.ok&&ie.url)window.location.href=ie.url;else throw new Error(ie.error||"Failed to create checkout session")}catch(J){console.error("Payment error:",J),n({title:e("member.partnerJoin.applicationFailed"),description:J.message,variant:"destructive"}),w(!1)}}};return O?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-secondary"})}):k!=null&&k.user?h==="success"?a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-secondary/10 to-background",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16",children:a.jsxs(W,{className:"text-center",children:[a.jsxs($e,{children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:a.jsx(BB,{className:"w-10 h-10 text-green-500"})}),a.jsx(Ie,{className:"text-2xl",children:e("member.partnerJoin.applicationSuccess")}),a.jsx(Ca,{children:e("member.partnerJoin.congratsMessage")})]}),a.jsxs(ae,{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerJoin.reviewProcess")}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Le,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{children:e("member.partnerJoin.ensurePayment")})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(sn,{href:"/member/partner",children:a.jsxs(C,{className:"w-full bg-secondary text-secondary-foreground gap-2",children:[a.jsx(La,{className:"w-5 h-5"}),e("member.partnerJoin.goToDashboard")]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(sn,{href:"/member",children:a.jsx(C,{variant:"outline",className:"w-full",children:e("member.partnerJoin.backToMember")})}),a.jsx(sn,{href:"/",children:a.jsx(C,{variant:"ghost",className:"w-full",children:e("member.partnerJoin.backToHome")})})]})]})]})]})})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-primary/5 to-background",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-primary text-primary-foreground",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(sn,{href:"/partner",children:a.jsx(C,{variant:"ghost",size:"icon",className:"text-primary-foreground",children:a.jsx(Zn,{className:"w-5 h-5"})})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hr,{className:"w-5 h-5 text-secondary"}),a.jsx("span",{className:"font-semibold",children:e("member.partnerJoin.joinPartner")})]})]}),a.jsx(te,{variant:"outline",className:"text-primary-foreground border-primary-foreground/30",children:A==="profile"?e("member.partnerJoin.stepProfile")||" 1/3":A==="package"?e("member.partnerJoin.step1")||" 2/3":e("member.partnerJoin.step2")||" 3/3"})]})}),a.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[A==="profile"&&(k==null?void 0:k.user)&&!(k!=null&&k.member)&&a.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary/20 flex items-center justify-center mx-auto mb-4",children:a.jsx(Mn,{className:"w-8 h-8 text-secondary"})}),a.jsx("h1",{className:"text-2xl font-serif text-primary mb-2",children:e("member.partnerJoin.completeProfile")||""}),a.jsx("p",{className:"text-muted-foreground",children:e("member.partnerJoin.profileDesc")||""})]}),a.jsx(W,{children:a.jsxs(ae,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ke,{htmlFor:"profileName",children:[e("auth.firstName")||""," *"]}),a.jsx(ce,{id:"profileName",value:g,onChange:R=>f(R.target.value),placeholder:e("member.partnerJoin.namePlaceholder")||"","data-testid":"input-profile-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ke,{htmlFor:"profilePhone",children:[e("auth.phone")||""," *"]}),a.jsx(ce,{id:"profilePhone",type:"tel",value:x,onChange:R=>b(R.target.value),placeholder:"+60 12-345 6789","data-testid":"input-profile-phone"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{className:"text-muted-foreground",children:e("auth.email")||""}),a.jsx(ce,{value:k.user.email||"",disabled:!0,className:"bg-muted"})]})]})}),a.jsxs(C,{className:"w-full bg-secondary text-secondary-foreground gap-2",size:"lg",onClick:E,disabled:j||!g.trim()||!x.trim(),"data-testid":"button-save-profile",children:[j?a.jsx(fe,{className:"w-5 h-5 animate-spin"}):a.jsx(Le,{className:"w-5 h-5"}),e("member.partnerJoin.continueToPackage")||""]})]}),A==="package"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-2xl font-serif text-primary mb-2",children:e("member.partnerJoin.selectPackage")}),a.jsx("p",{className:"text-muted-foreground",children:e("member.partnerJoin.selectPackageDesc")})]}),(k==null?void 0:k.partner)&&a.jsx(W,{className:"border-secondary/50 bg-secondary/5",children:a.jsxs(ae,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(Le,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{className:"font-medium",children:e("member.partnerJoin.alreadyPartner")}),a.jsxs(te,{variant:"outline",className:"ml-auto",children:["Phase ",k.partner.tier==="phase1"?1:k.partner.tier==="phase2"?2:3]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex justify-between p-2 bg-background rounded",children:[a.jsx("span",{className:"text-muted-foreground",children:"LY"}),a.jsx("span",{className:"font-bold text-secondary",children:k.partner.lyBalance})]}),a.jsxs("div",{className:"flex justify-between p-2 bg-background rounded",children:[a.jsx("span",{className:"text-muted-foreground",children:"RWA"}),a.jsx("span",{className:"font-bold text-primary",children:k.partner.rwaTokens})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:" RWA  LY "})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:P.map(R=>a.jsxs(W,{className:`relative transition-all ${R.available?o===R.id?"border-secondary ring-2 ring-secondary/20 cursor-pointer":"hover:border-primary/50 cursor-pointer":"opacity-60 cursor-not-allowed"}`,onClick:()=>R.available&&l(R.id),"data-testid":`package-${R.id}`,children:[!R.available&&a.jsx(te,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-muted text-muted-foreground",children:e("member.partnerJoin.comingSoon")||""}),R.available&&R.popular&&a.jsx(te,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-secondary text-secondary-foreground",children:e("member.partnerJoin.mostPopular")}),a.jsxs($e,{className:"text-center pb-2",children:[a.jsx(Ie,{className:"text-lg",children:R.name}),a.jsxs("div",{className:"text-3xl font-bold text-primary mt-2",children:["RM ",R.price.toLocaleString()]})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"space-y-2 mb-4",children:R.features.map((J,ie)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Le,{className:`w-4 h-4 flex-shrink-0 ${R.available?"text-green-500":"text-muted-foreground"}`}),a.jsx("span",{children:J})]},ie))}),a.jsxs("div",{className:"flex items-center justify-center gap-4 pt-4 border-t",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(pa,{className:"w-5 h-5 text-secondary mx-auto"}),a.jsx("div",{className:"text-lg font-bold text-secondary",children:R.lyPoints}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"LY"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(Go,{className:"w-5 h-5 text-primary mx-auto"}),a.jsx("div",{className:"text-lg font-bold text-primary",children:R.rwaTokens}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"RWA"})]})]})]})]},R.id))}),c&&a.jsx(W,{className:"border-green-200 bg-green-50/50",children:a.jsxs(ae,{className:"p-4 flex items-center gap-3",children:[a.jsx(Le,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:e("member.partnerJoin.referralCodeLabel")}),a.jsx("p",{className:"font-mono text-lg font-bold text-primary",children:c})]}),a.jsx(te,{variant:"outline",className:"text-green-600 border-green-300",children:e("member.partnerJoin.referralApplied")||""})]})}),a.jsx(C,{className:"w-full bg-secondary text-secondary-foreground gap-2",size:"lg",disabled:!o,onClick:()=>p("payment"),"data-testid":"button-next",children:e("member.partnerJoin.nextStep")})]}),A==="payment"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(C,{variant:"ghost",className:"gap-2",onClick:()=>p("package"),children:[a.jsx(Zn,{className:"w-4 h-4"}),e("member.partnerJoin.backToPackage")]}),a.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[a.jsxs(W,{children:[a.jsx($e,{children:a.jsx(Ie,{children:e("member.partnerJoin.orderConfirm")})}),a.jsx(ae,{className:"space-y-4",children:o&&a.jsxs(a.Fragment,{children:[(k==null?void 0:k.partner)&&a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-secondary/10 rounded text-sm mb-2",children:[a.jsx(La,{className:"w-4 h-4 text-secondary"}),a.jsx("span",{children:"   RWA  LY "})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.partnerJoin.package")}),a.jsx("span",{className:"font-medium",children:(B=P.find(R=>R.id===o))==null?void 0:B.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.partnerDashboard.lyPoints")}),a.jsxs("span",{className:"font-medium text-secondary",children:["+",(z=P.find(R=>R.id===o))==null?void 0:z.lyPoints]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.partnerDashboard.rwaToken")}),a.jsxs("span",{className:"font-medium text-primary",children:["+",(K=P.find(R=>R.id===o))==null?void 0:K.rwaTokens]})]}),c&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.partnerJoin.referralCodeLabel")}),a.jsx("span",{className:"font-mono",children:c})]}),a.jsx(Sr,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:e("member.partnerJoin.amountToPay")}),a.jsxs("span",{className:"text-primary",children:["RM ",(Y=P.find(R=>R.id===o))==null?void 0:Y.price.toLocaleString()]})]})]})})]}),a.jsxs(W,{className:"bg-gradient-to-br from-secondary/10 to-primary/10",children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(mx,{className:"w-5 h-5 text-primary"}),e("member.partnerJoin.securityGuarantee")]})}),a.jsxs(ae,{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-green-500 mt-0.5"}),a.jsx("span",{children:e("member.partnerJoin.encryptedTransaction")})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-green-500 mt-0.5"}),a.jsx("span",{children:e("member.partnerJoin.activationTime")})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-green-500 mt-0.5"}),a.jsx("span",{children:e("member.partnerJoin.support24h")})]})]})]}),a.jsx(W,{children:a.jsx(ae,{className:"p-4 text-sm text-muted-foreground",children:a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx(Zi,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:e("member.partnerJoin.paymentNote")})]})})}),a.jsxs(C,{className:"w-full bg-[#635BFF] hover:bg-[#5851DB] text-white gap-2",size:"lg",onClick:D,disabled:N,"data-testid":"button-pay",children:[N?a.jsx(fe,{className:"w-5 h-5 animate-spin"}):a.jsx(In,{className:"w-5 h-5"}),e("member.partnerJoin.confirmPay")," RM ",(M=P.find(R=>R.id===o))==null?void 0:M.price.toLocaleString()]}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:e("member.partnerJoin.stripePaymentNote")||"FPXGrabPay "})]})]})]})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-primary/10 to-background",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16",children:a.jsxs(W,{className:"text-center",children:[a.jsxs($e,{children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary/20 flex items-center justify-center mx-auto mb-4",children:a.jsx(hr,{className:"w-8 h-8 text-secondary"})}),a.jsx(Ie,{className:"text-2xl",children:e("member.partnerJoin.title")}),a.jsx(Ca,{children:e("member.partnerJoin.loginRequired")})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg text-left",children:[a.jsxs("h3",{className:"font-bold mb-2 flex items-center gap-2",children:[a.jsx(pr,{className:"w-5 h-5 text-secondary"}),e("member.partnerJoin.exclusiveBenefits")]}),a.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-green-500"}),e("member.partnerJoin.maxLyPoints")]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-green-500"}),e("member.partnerJoin.rwaDividend")]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-green-500"}),e("member.partnerJoin.tenLevelNetwork")]})]})]}),a.jsxs(C,{className:"w-full bg-secondary text-secondary-foreground gap-2",size:"lg",onClick:()=>window.location.href="/auth/login","data-testid":"button-login-join",children:[a.jsx(hr,{className:"w-5 h-5"}),e("member.partnerJoin.loginToJoin")]}),a.jsx(sn,{href:"/partner",children:a.jsxs(C,{variant:"outline",className:"w-full gap-2",children:[a.jsx(Zn,{className:"w-4 h-4"}),e("member.partnerJoin.learnMore")]})})]})]})})})}function Efe(){const{t:e}=ft(),t=sQ(),[,n]=Or(),[r,s]=y.useState(!0),[i,o]=y.useState(null),l=y.useRef(!1),d=new URLSearchParams(t).get("order")||"";y.useEffect(()=>{l.current||(l.current=!0,u())},[]);async function u(){try{const m=Woe();if(!m||m.orderNumber!==d){s(!1);return}const{bill:h}=await Doe(m.orderId);if(h){VD(),s(!1);return}const{data:{user:p}}=await L.auth.getUser();let g=null;if(p){const{member:f,created:x}=await jx(p.id,{name:m.deliveryInfo.customerName,phone:m.deliveryInfo.phone,email:p.email});f&&(g=f.id,x&&m.referrerId&&await L.from("members").update({referrer_id:m.referrerId}).eq("id",f.id),m.selectedAddressId||await Ow(f.id,{recipientName:m.deliveryInfo.customerName,phone:m.deliveryInfo.phone,addressLine1:m.deliveryInfo.address,city:m.deliveryInfo.city,state:m.deliveryInfo.state,postcode:m.deliveryInfo.postcode,isDefault:!0}),await L.from("orders").update({member_id:f.id}).eq("id",m.orderId),on.invalidateQueries({queryKey:["member-profile"]}),on.invalidateQueries({queryKey:["member-addresses"]}))}await Ooe(m.orderId,m.orderNumber,m.currentPrice*100,g),m.selections&&m.selections.length>0&&await Uce(m.orderId,m.selections.map(f=>({flavor:f.key,quantity:f.quantity}))),await aU(m.orderId,m.currentPrice*100),g&&await Uoe(m.orderId,g),VD()}catch(m){console.error("Checkout success processing error:",m),o(m instanceof Error?m.message:"Processing error")}finally{s(!1)}}return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(fe,{className:"w-12 h-12 animate-spin text-primary mx-auto"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:e("checkout.processing")})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:a.jsxs("div",{className:"max-w-md w-full space-y-6 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:a.jsx(Le,{className:"w-12 h-12 text-green-600 dark:text-green-400"})})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:e("checkout.successTitle")}),a.jsx("p",{className:"text-muted-foreground",children:e("checkout.successDesc")})]}),d&&a.jsxs(W,{className:"p-5",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e("member.orders.orderNumber")||"Order Number"}),a.jsx("p",{className:"text-2xl font-bold text-primary",children:d})]}),i&&a.jsx(W,{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:a.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:i})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(C,{className:"w-full gap-2",onClick:()=>n("/member/orders"),children:e("checkout.viewOrder")}),a.jsxs(C,{variant:"outline",className:"w-full gap-2",onClick:()=>n("/products"),children:[a.jsx(kn,{className:"w-4 h-4"}),e("checkout.continueShopping")]}),a.jsx(C,{variant:"ghost",className:"w-full",onClick:()=>n("/"),children:e("checkout.backToHome")})]})]})})}const Ofe=e=>[{path:"/member/settings",label:e("member.settings.title"),icon:Ni},{path:"/member/notifications",label:e("member.notifications.title"),icon:Fr},{path:"/member/help",label:e("member.help.title"),icon:cx}],Dfe=e=>[{path:"/member/orders",label:e("member.orders.title"),icon:kn},{path:"/member/addresses",label:e("member.addresses.title"),icon:sl},{path:"/member/points",label:e("member.points.title"),icon:pr},{path:"/member/payment",label:e("member.payment.title"),icon:In},{path:"/member/referrals",label:e("member.referrals.title"),icon:gi},{path:"/member/materials",label:e("member.materials.title"),icon:Os},{path:"/member/partner-join",label:"",icon:hr}];function Mfe({role:e,t}){const n=[];return e==="admin"&&n.push({label:t("member.center.userStates.admin"),icon:jr,className:"bg-destructive text-destructive-foreground"}),(e==="admin"||e==="partner")&&n.push({label:t("member.center.userStates.partner"),icon:hr,className:"bg-amber-600 text-white"}),n.push({label:t("member.center.userStates.member"),icon:pa,className:""}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:n.map(r=>{const s=r.icon;return a.jsxs(te,{variant:r.className?"default":"secondary",className:`gap-1 text-xs ${r.className}`,children:[a.jsx(s,{className:"w-3 h-3"}),r.label]},r.label)})})}function Pn({children:e}){var v,N,w,P,k;const{t}=ft(),n=Ofe(t),r=Dfe(t),s=[...n,...r],[i,o]=Or(),[l,c]=y.useState(!1),{user:d,member:u,role:m,signOut:h}=oa(),p=_=>i===_,g=s.find(_=>p(_.path)),f=async()=>{try{await h()}catch(_){console.error("Logout error:",_)}window.location.href="/"},x=m==="partner"||m==="admin",b=m==="admin",j=()=>{var _,S,O,A,E;return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Rd,{className:"w-12 h-12 border-2 border-secondary",children:[a.jsx(Lm,{src:((_=d==null?void 0:d.user_metadata)==null?void 0:_.avatar_url)||void 0}),a.jsx(Id,{className:"bg-secondary text-secondary-foreground",children:((O=(S=d==null?void 0:d.user_metadata)==null?void 0:S.first_name)==null?void 0:O.charAt(0))||((A=u==null?void 0:u.name)==null?void 0:A.charAt(0))||"U"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:(u==null?void 0:u.name)||((E=d==null?void 0:d.user_metadata)==null?void 0:E.first_name)||t("member.center.defaultUser")}),a.jsx(Mfe,{role:m,t})]})]})}),a.jsxs("nav",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:t("member.center.sections.account.title")}),a.jsx("div",{className:"space-y-1",children:n.map(D=>{const B=D.icon,z=p(D.path);return a.jsxs(C,{variant:z?"secondary":"ghost",className:`w-full justify-start gap-3 ${z?"bg-secondary/20 text-secondary font-medium":""}`,onClick:()=>{o(D.path),c(!1)},"data-testid":`nav-${D.path.split("/").pop()}`,children:[a.jsx(B,{className:"w-4 h-4"}),D.label,z&&a.jsx(un,{className:"w-4 h-4 ml-auto"})]},D.path)})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:t("member.center.sections.member.title")}),a.jsx("div",{className:"space-y-1",children:r.map(D=>{const B=D.icon,z=p(D.path);return a.jsxs(C,{variant:z?"secondary":"ghost",className:`w-full justify-start gap-3 ${z?"bg-secondary/20 text-secondary font-medium":""}`,onClick:()=>{o(D.path),c(!1)},"data-testid":`nav-${D.path.split("/").pop()}`,children:[a.jsx(B,{className:"w-4 h-4"}),D.label,z&&a.jsx(un,{className:"w-4 h-4 ml-auto"})]},D.path)})})]}),(x||b)&&a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"space-y-1",children:[x&&a.jsxs(C,{variant:"ghost",className:"w-full justify-start gap-3 text-amber-700 hover:bg-amber-50 dark:text-amber-400 dark:hover:bg-amber-950/30",onClick:()=>{o("/member/partner"),c(!1)},"data-testid":"nav-partner-center",children:[a.jsx(hr,{className:"w-4 h-4"}),t("member.center.sections.partner.title"),a.jsx(un,{className:"w-4 h-4 ml-auto"})]}),b&&a.jsxs(C,{variant:"ghost",className:"w-full justify-start gap-3 text-primary hover:bg-primary/10",onClick:()=>{o("/admin"),c(!1)},"data-testid":"nav-admin-panel",children:[a.jsx(jr,{className:"w-4 h-4"}),t("admin.adminPanel"),a.jsx(un,{className:"w-4 h-4 ml-auto"})]})]})})]}),a.jsxs("div",{className:"p-4 border-t space-y-2",children:[a.jsx("div",{className:"mb-3",children:a.jsx(dc,{testId:"button-language-switcher-sidebar"})}),i!=="/member"&&a.jsxs(C,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>o("/member"),"data-testid":"button-back-center",children:[a.jsx(Zn,{className:"w-4 h-4"}),t("member.center.backToCenter")]}),a.jsxs(C,{variant:"ghost",className:"w-full justify-start gap-2",onClick:()=>o("/"),"data-testid":"button-back-home",children:[a.jsx(dx,{className:"w-4 h-4"}),t("nav.home")]})]})]})};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("header",{className:"sticky top-0 z-50 bg-primary text-primary-foreground",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(il,{open:l,onOpenChange:c,children:[a.jsx(Cw,{asChild:!0,children:a.jsx(C,{variant:"ghost",size:"icon",className:"lg:hidden text-primary-foreground","data-testid":"button-mobile-menu",children:a.jsx(xw,{className:"w-6 h-6"})})}),a.jsx(lo,{side:"left",className:"w-72 p-0",children:a.jsx(j,{})})]}),a.jsx("span",{className:"font-serif text-xl font-bold text-secondary cursor-pointer",onClick:()=>o("/"),"data-testid":"link-logo",children:"LOVE YOUNG"}),a.jsxs("div",{className:"hidden lg:flex items-center gap-2 ml-4",children:[a.jsx(Mn,{className:"w-5 h-5 text-secondary"}),a.jsx("span",{className:"text-sm font-medium",children:t("nav.memberCenter")}),g&&a.jsxs(a.Fragment,{children:[a.jsx(un,{className:"w-4 h-4 text-primary-foreground/60"}),a.jsx("span",{className:"text-sm text-primary-foreground/80",children:g.label})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(dc,{testId:"button-language-switcher-header"}),i!=="/member"&&a.jsxs(C,{variant:"ghost",size:"sm",className:"hidden sm:flex text-primary-foreground gap-2",onClick:()=>o("/member"),"data-testid":"button-header-center",children:[a.jsx(Zn,{className:"w-4 h-4"}),t("member.center.backToCenter")]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Rd,{className:"w-8 h-8 border border-secondary/50",children:[a.jsx(Lm,{src:((v=d==null?void 0:d.user_metadata)==null?void 0:v.avatar_url)||void 0}),a.jsx(Id,{className:"bg-secondary text-secondary-foreground text-sm",children:((w=(N=d==null?void 0:d.user_metadata)==null?void 0:N.first_name)==null?void 0:w.charAt(0))||((P=u==null?void 0:u.name)==null?void 0:P.charAt(0))||"U"})]}),a.jsx("span",{className:"hidden md:block text-sm font-medium","data-testid":"text-user-name",children:(u==null?void 0:u.name)||((k=d==null?void 0:d.user_metadata)==null?void 0:k.first_name)||t("member.center.defaultUser")})]}),a.jsx(C,{variant:"ghost",size:"icon",className:"text-primary-foreground hidden lg:flex",onClick:f,"data-testid":"button-logout",children:a.jsx(Vf,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"lg:hidden flex items-center justify-center gap-2 py-2 bg-primary/90 border-t border-primary-foreground/10",children:g&&a.jsxs(a.Fragment,{children:[a.jsx(g.icon,{className:"w-4 h-4 text-secondary"}),a.jsx("span",{className:"text-sm font-medium",children:g.label})]})})]}),a.jsxs("div",{className:"flex",children:[a.jsx("aside",{className:"hidden lg:block w-64 border-r bg-card min-h-[calc(100vh-56px)] sticky top-14",children:a.jsx(j,{})}),a.jsx("main",{className:"flex-1 p-4 lg:p-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:e})})]})]})}const Rfe=e=>[{icon:kn,label:e("member.center.menuItems.orderHistory"),href:"/member/orders",description:e("member.center.menuItems.orderHistoryDesc")},{icon:sl,label:e("member.center.menuItems.addresses"),href:"/member/addresses",description:e("member.center.menuItems.addressesDesc")},{icon:pr,label:e("member.center.menuItems.pointsCenter"),href:"/member/points",description:e("member.center.menuItems.pointsCenterDesc")},{icon:In,label:e("member.center.menuItems.paymentMethods"),href:"/member/payment",description:e("member.center.menuItems.paymentMethodsDesc")},{icon:gi,label:e("member.center.menuItems.referralNetwork"),href:"/member/referrals",description:e("member.center.menuItems.referralNetworkDesc")},{icon:Tt,label:e("member.center.menuItems.promoMaterials"),href:"/member/materials",description:e("member.center.menuItems.promoMaterialsDesc")}];function Ife({items:e}){const[,t]=Or();return a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(n=>{const r=n.icon;return a.jsx(W,{className:"h-full hover-elevate cursor-pointer group",onClick:()=>t(n.href),children:a.jsxs(ae,{className:"p-4 flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/10 flex items-center justify-center flex-shrink-0 group-hover:bg-secondary/20 transition-colors",children:a.jsx(r,{className:"w-6 h-6 text-secondary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:"font-medium text-foreground",children:n.label}),n.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:n.description})]}),a.jsx(un,{className:"w-5 h-5 text-muted-foreground flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"})]})},n.href+n.label)})})}function Lfe({role:e,member:t,t:n}){const[,r]=Or(),[s,i]=y.useState(null),o=e==="partner"||e==="admin",l=e==="admin",c=()=>{o?r("/member/partner"):i("partner")},d=()=>{l?r("/admin"):i("admin")};return a.jsxs("div",{className:"space-y-4 mt-8",children:[s&&a.jsx(W,{className:"border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-950/30 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Wr,{className:"w-5 h-5 text-amber-600 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-300 flex-1",children:n("member.center.upgradePrompt")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(C,{size:"sm",variant:"outline",onClick:()=>i(null),children:""}),a.jsx(C,{size:"sm",onClick:()=>r("/products"),children:n("member.center.goShopping")})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(W,{className:`cursor-pointer hover-elevate group ${o?"border-amber-200 dark:border-amber-800 bg-amber-50/50 dark:bg-amber-950/20":"border-dashed opacity-75"}`,onClick:c,"data-testid":"entry-partner-center",children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${o?"bg-amber-100 dark:bg-amber-900/40":"bg-muted"}`,children:a.jsx(hr,{className:`w-6 h-6 ${o?"text-amber-600 dark:text-amber-400":"text-muted-foreground"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`font-semibold ${o?"text-amber-800 dark:text-amber-300":"text-muted-foreground"}`,children:n("member.center.sections.partner.title")}),o&&a.jsx(te,{variant:"outline",className:"text-xs border-amber-300 text-amber-700 dark:border-amber-700 dark:text-amber-400",children:n("member.center.userStates.partner")})]}),a.jsx("p",{className:`text-sm mt-0.5 ${o?"text-amber-700/70 dark:text-amber-400/70":"text-muted-foreground"}`,children:n("member.center.sectionDesc.partner")})]}),a.jsx(un,{className:`w-5 h-5 flex-shrink-0 ${o?"text-amber-400":"text-muted-foreground/40"}`})]})}),a.jsx(W,{className:`cursor-pointer hover-elevate group ${l?"border-primary/30 bg-primary/5":"border-dashed opacity-75"}`,onClick:d,"data-testid":"entry-admin-panel",children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${l?"bg-primary/10":"bg-muted"}`,children:a.jsx(jr,{className:`w-6 h-6 ${l?"text-primary":"text-muted-foreground"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`font-semibold ${l?"text-primary":"text-muted-foreground"}`,children:n("admin.adminPanel")}),l&&a.jsx(te,{variant:"outline",className:"text-xs border-primary/30 text-primary",children:n("member.center.userStates.admin")})]}),a.jsx("p",{className:`text-sm mt-0.5 ${l?"text-primary/60":"text-muted-foreground"}`,children:n("member.center.sectionDesc.adminCore")})]}),a.jsx(un,{className:`w-5 h-5 flex-shrink-0 ${l?"text-primary/40":"text-muted-foreground/40"}`})]})})]})]})}function $fe(){const{t:e}=ft(),{role:t,member:n}=oa(),r=Rfe(e);return a.jsxs(Pn,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(pa,{className:"w-6 h-6 text-secondary"}),a.jsx("h1",{className:"text-2xl font-serif font-bold text-foreground","data-testid":"text-section-title",children:e("member.center.sections.member.title")})]}),a.jsx("p",{className:"text-muted-foreground text-sm",children:e("member.center.sectionDesc.member")})]}),a.jsx(Ife,{items:r}),a.jsx(Lfe,{role:t,member:!!n,t:e})]})}var DA="Switch",[Ffe,W8e]=pn(DA),[Bfe,Ufe]=Ffe(DA),IK=y.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=e,[h,p]=y.useState(null),g=jt(t,v=>p(v)),f=y.useRef(!1),x=h?u||!!h.closest("form"):!0,[b=!1,j]=Hr({prop:s,defaultProp:i,onChange:d});return a.jsxs(Bfe,{scope:n,checked:b,disabled:l,children:[a.jsx(nt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":FK(b),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:g,onClick:Te(e.onClick,v=>{j(N=>!N),x&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})}),x&&a.jsx(qfe,{control:h,bubbles:!f.current,name:r,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});IK.displayName=DA;var LK="SwitchThumb",$K=y.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=Ufe(LK,n);return a.jsx(nt.span,{"data-state":FK(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});$K.displayName=LK;var qfe=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,i=y.useRef(null),o=vx(n),l=px(t);return y.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&m){const h=new Event("click",{bubbles:r});m.call(c,n),c.dispatchEvent(h)}},[o,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function FK(e){return e?"checked":"unchecked"}var BK=IK,Vfe=$K;const cn=y.forwardRef(({className:e,...t},n)=>a.jsx(BK,{className:Be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(Vfe,{className:Be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));cn.displayName=BK.displayName;function Kfe(){var o,l,c,d,u;const{t:e}=ft(),[t,n]=y.useState(!1),{user:r,member:s}=oa(),i=()=>{n(!0),setTimeout(()=>n(!1),1e3)};return a.jsx(Pn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-settings-title",children:e("member.settings.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("member.settings.subtitle")})]}),a.jsxs(W,{children:[a.jsxs($e,{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(Mn,{className:"w-5 h-5 text-primary"}),e("member.settings.personalInfo")]}),a.jsx(Ca,{children:e("member.settings.personalInfoDesc")})]}),a.jsxs(ae,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs(Rd,{className:"w-20 h-20 border-2 border-secondary",children:[a.jsx(Lm,{src:((o=r==null?void 0:r.user_metadata)==null?void 0:o.avatar_url)||void 0}),a.jsx(Id,{className:"bg-secondary text-secondary-foreground text-xl",children:((c=(l=r==null?void 0:r.user_metadata)==null?void 0:l.first_name)==null?void 0:c.charAt(0))||((d=s==null?void 0:s.name)==null?void 0:d.charAt(0))||"U"})]}),a.jsxs(C,{variant:"outline",className:"gap-2",children:[a.jsx(bte,{className:"w-4 h-4"}),e("member.settings.changeAvatar")]})]}),a.jsx(Sr,{}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"name",children:e("member.settings.name")}),a.jsx(ce,{id:"name",defaultValue:(s==null?void 0:s.name)||((u=r==null?void 0:r.user_metadata)==null?void 0:u.first_name)||"","data-testid":"input-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"phone",children:e("member.settings.phone")}),a.jsxs("div",{className:"relative",children:[a.jsx(ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{id:"phone",className:"pl-10",defaultValue:(s==null?void 0:s.phone)||"","data-testid":"input-phone"})]})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(Ke,{htmlFor:"email",children:e("member.settings.email")}),a.jsxs("div",{className:"relative",children:[a.jsx(ec,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{id:"email",className:"pl-10",defaultValue:(r==null?void 0:r.email)||"",disabled:!0,"data-testid":"input-email"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.settings.emailNote")})]})]})]})]}),a.jsxs(W,{children:[a.jsxs($e,{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"w-5 h-5 text-primary"}),e("member.settings.security")]}),a.jsx(Ca,{children:e("member.settings.securityDesc")})]}),a.jsx(ae,{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(FB,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e("member.settings.loginMethod")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.settings.loginMethodDesc")})]})]}),a.jsx(C,{variant:"outline",size:"sm",children:e("member.settings.manage")})]})})]}),a.jsxs(W,{children:[a.jsxs($e,{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(Fr,{className:"w-5 h-5 text-primary"}),e("member.settings.notifications")]}),a.jsx(Ca,{children:e("member.settings.notificationsDesc")})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e("member.settings.orderNotify")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.settings.orderNotifyDesc")})]}),a.jsx(cn,{defaultChecked:!0,"data-testid":"switch-order-notify"})]}),a.jsx(Sr,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e("member.settings.promoNotify")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.settings.promoNotifyDesc")})]}),a.jsx(cn,{defaultChecked:!0,"data-testid":"switch-promo-notify"})]}),a.jsx(Sr,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e("member.settings.earningNotify")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.settings.earningNotifyDesc")})]}),a.jsx(cn,{defaultChecked:!0,"data-testid":"switch-earning-notify"})]})]})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(Ki,{className:"w-5 h-5 text-primary"}),e("member.settings.display")]})}),a.jsx(ae,{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ite,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e("member.settings.darkMode")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.settings.darkModeDesc")})]})]}),a.jsx(cn,{"data-testid":"switch-dark-mode"})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground",onClick:i,disabled:t,"data-testid":"button-save",children:[t?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(VB,{className:"w-4 h-4"}),e("member.settings.saveChanges")]})})]})})}function zfe(e){const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),s=Math.floor(r/6e4),i=Math.floor(r/36e5),o=Math.floor(r/864e5),l=Math.floor(o/7);return s<1?"just now":s<60?`${s}m ago`:i<24?`${i}h ago`:o<7?`${o}d ago`:l<4?`${l}w ago`:n.toLocaleDateString()}const Wfe=e=>{switch(e){case"order":return kn;case"earning":return La;case"promo":return pr;case"system":return ur;default:return Fr}},Hfe=e=>{switch(e){case"order":return"bg-blue-500/10 text-blue-500";case"earning":return"bg-green-500/10 text-green-500";case"promo":return"bg-secondary/10 text-secondary";case"system":return"bg-muted text-muted-foreground";default:return"bg-primary/10 text-primary"}};function Gfe(){const{t:e}=ft(),{user:t}=oa(),n=Aa(),[r,s]=y.useState("all"),{data:i=[],isLoading:o}=Ae({queryKey:["notifications",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:h,error:p}=await L.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});return p?(console.error("Error fetching notifications:",p),[]):h||[]},enabled:!!(t!=null&&t.id)}),l=i.filter(h=>!h.read).length,c=r==="all"?i:r==="unread"?i.filter(h=>!h.read):i.filter(h=>h.type===r),d=Ce({mutationFn:async()=>{t!=null&&t.id&&await L.from("notifications").update({read:!0}).eq("user_id",t.id).eq("read",!1)},onSuccess:()=>n.invalidateQueries({queryKey:["notifications"]})}),u=Ce({mutationFn:async h=>{await L.from("notifications").update({read:!0}).eq("id",h)},onSuccess:()=>n.invalidateQueries({queryKey:["notifications"]})}),m=Ce({mutationFn:async h=>{await L.from("notifications").delete().eq("id",h)},onSuccess:()=>n.invalidateQueries({queryKey:["notifications"]})});return a.jsx(Pn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-notifications-title",children:e("member.notifications.title")}),a.jsx("p",{className:"text-muted-foreground",children:l>0?e("member.notifications.unreadCount").replace("{count}",String(l)):e("member.notifications.noUnread")})]}),l>0&&a.jsxs(C,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>d.mutate(),disabled:d.isPending,"data-testid":"button-mark-all-read",children:[a.jsx(wte,{className:"w-4 h-4"}),e("member.notifications.markAllRead")]})]}),a.jsxs(ba,{value:r,onValueChange:s,children:[a.jsxs(fa,{className:"grid w-full grid-cols-5",children:[a.jsxs(Ee,{value:"all","data-testid":"tab-all",children:[e("member.notifications.tabs.all"),i.length>0&&a.jsx(te,{variant:"secondary",className:"ml-1 text-xs",children:i.length})]}),a.jsxs(Ee,{value:"unread","data-testid":"tab-unread",children:[e("member.notifications.tabs.unread"),l>0&&a.jsx(te,{className:"ml-1 text-xs bg-red-500",children:l})]}),a.jsx(Ee,{value:"order","data-testid":"tab-order",children:e("member.notifications.tabs.order")}),a.jsx(Ee,{value:"earning","data-testid":"tab-earning",children:e("member.notifications.tabs.earning")}),a.jsx(Ee,{value:"promo","data-testid":"tab-promo",children:e("member.notifications.tabs.promo")})]}),a.jsx(At,{value:r,className:"mt-4",children:o?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):c.length===0?a.jsx(W,{children:a.jsxs(ae,{className:"p-12 text-center",children:[a.jsx(Fr,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("member.notifications.noMessages")})]})}):a.jsx("div",{className:"space-y-3",children:c.map(h=>{const p=Wfe(h.type),g=Hfe(h.type);return a.jsx(W,{className:`transition-colors ${h.read?"":"bg-primary/5 border-primary/20"}`,"data-testid":`notification-${h.id}`,children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${g}`,children:a.jsx(p,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium",children:h.title}),!h.read&&a.jsx(te,{className:"bg-red-500 text-white text-xs",children:e("member.notifications.new")})]}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:h.content}),a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsx(Ht,{className:"w-3 h-3"}),zfe(h.created_at)]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[!h.read&&a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>u.mutate(h.id),disabled:u.isPending,"data-testid":`button-read-${h.id}`,children:a.jsx(qn,{className:"w-4 h-4"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-red-500",onClick:()=>m.mutate(h.id),disabled:m.isPending,"data-testid":`button-delete-${h.id}`,children:a.jsx(Ut,{className:"w-4 h-4"})})]})]})})},h.id)})})})]})]})})}const Yfe=e=>[{id:1,category:"order",question:e("member.help.faqItems.order1.q"),answer:e("member.help.faqItems.order1.a")},{id:2,category:"order",question:e("member.help.faqItems.order2.q"),answer:e("member.help.faqItems.order2.a")},{id:3,category:"shipping",question:e("member.help.faqItems.shipping1.q"),answer:e("member.help.faqItems.shipping1.a")},{id:4,category:"shipping",question:e("member.help.faqItems.shipping2.q"),answer:e("member.help.faqItems.shipping2.a")},{id:5,category:"payment",question:e("member.help.faqItems.payment1.q"),answer:e("member.help.faqItems.payment1.a")},{id:6,category:"payment",question:e("member.help.faqItems.payment2.q"),answer:e("member.help.faqItems.payment2.a")},{id:7,category:"refund",question:e("member.help.faqItems.refund1.q"),answer:e("member.help.faqItems.refund1.a")},{id:8,category:"refund",question:e("member.help.faqItems.refund2.q"),answer:e("member.help.faqItems.refund2.a")},{id:9,category:"points",question:e("member.help.faqItems.points1.q"),answer:e("member.help.faqItems.points1.a")},{id:10,category:"points",question:e("member.help.faqItems.points2.q"),answer:e("member.help.faqItems.points2.a")},{id:11,category:"partner",question:e("member.help.faqItems.partner1.q"),answer:e("member.help.faqItems.partner1.a")},{id:12,category:"partner",question:e("member.help.faqItems.partner2.q"),answer:e("member.help.faqItems.partner2.a")}];function Jfe(){const{t:e}=ft(),[t,n]=y.useState(""),[r,s]=y.useState(null),i=Yfe(e),o=[{id:"order",label:e("member.help.categories.order"),icon:kn},{id:"shipping",label:e("member.help.categories.shipping"),icon:hs},{id:"payment",label:e("member.help.categories.payment"),icon:In},{id:"refund",label:e("member.help.categories.refund"),icon:Yo},{id:"points",label:e("member.help.categories.points"),icon:pr},{id:"partner",label:e("member.help.categories.partner"),icon:Tt}],l=i.filter(c=>{const d=t===""||c.question.toLowerCase().includes(t.toLowerCase())||c.answer.toLowerCase().includes(t.toLowerCase()),u=!r||c.category===r;return d&&u});return a.jsx(Pn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-help-title",children:e("member.help.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("member.help.subtitle")})]}),a.jsx(W,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:a.jsx(ae,{className:"p-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),a.jsx(ce,{placeholder:e("member.help.searchPlaceholder"),className:"pl-10 bg-background",value:t,onChange:c=>n(c.target.value),"data-testid":"input-search"})]})})}),a.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-3",children:o.map(c=>{const d=c.icon,u=r===c.id;return a.jsxs(C,{variant:u?"secondary":"outline",className:`h-auto py-3 flex-col gap-2 ${u?"bg-secondary/20 border-secondary":""}`,onClick:()=>s(u?null:c.id),"data-testid":`button-category-${c.id}`,children:[a.jsx(d,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:c.label})]},c.id)})}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(cx,{className:"w-5 h-5 text-primary"}),e("member.help.faq")]})}),a.jsx(ae,{children:l.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(va,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("member.help.noResults")})]}):a.jsx(DK,{type:"single",collapsible:!0,className:"w-full",children:l.map(c=>a.jsxs(TA,{value:`faq-${c.id}`,children:[a.jsx(EA,{className:"text-left","data-testid":`faq-${c.id}`,children:c.question}),a.jsx(OA,{className:"text-muted-foreground",children:c.answer})]},c.id))})})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(fi,{className:"w-5 h-5 text-primary"}),e("member.help.contactUs")]})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("a",{href:"https://wa.me/60178228658",target:"_blank",rel:"noopener noreferrer",children:a.jsx(W,{className:"p-4 hover-elevate cursor-pointer h-full",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center",children:a.jsx(Gr,{className:"w-6 h-6 text-green-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e("member.help.whatsapp")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.help.onlineConsult")})]})]})})}),a.jsx(W,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(ds,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e("member.help.phoneSupport")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"+60 17-822 8658"})]})]})}),a.jsx(W,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary/10 flex items-center justify-center",children:a.jsx(ec,{className:"w-6 h-6 text-secondary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e("member.help.emailSupport")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"support@loveyoung.my"})]})]})})]}),a.jsxs("div",{className:"mt-4 p-4 bg-muted/30 rounded-lg flex items-center gap-3",children:[a.jsx(Ht,{className:"w-5 h-5 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.help.serviceHours")})]})]})]})]})})}const et=w2,_b=j2,Qfe=N2,UK=y.forwardRef(({className:e,...t},n)=>a.jsx(fx,{ref:n,className:Be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));UK.displayName=fx.displayName;const Ye=y.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Qfe,{children:[a.jsx(UK,{}),a.jsxs(gx,{ref:r,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(Sw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(eo,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ye.displayName=gx.displayName;const Je=({className:e,...t})=>a.jsx("div",{className:Be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Je.displayName="DialogHeader";const lt=({className:e,...t})=>a.jsx("div",{className:Be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lt.displayName="DialogFooter";const Qe=y.forwardRef(({className:e,...t},n)=>a.jsx(Mh,{ref:n,className:Be("text-lg font-semibold leading-none tracking-tight",e),...t}));Qe.displayName=Mh.displayName;const ht=y.forwardRef(({className:e,...t},n)=>a.jsx(xx,{ref:n,className:Be("text-sm text-muted-foreground",e),...t}));ht.displayName=xx.displayName;function vR(e){if(Array.isArray(e))return e;if(typeof e=="string")try{return JSON.parse(e)}catch{return[]}return[]}function bR(e){return e.product_name||e.productName||e.flavorName||e.name||"Order Item"}function Oy(e){return e.price||e.unitPrice||0}function Xfe(e){switch(e){case"pending":case"pending_payment":case"paid":case"confirmed":return 0;case"processing":return 1;case"shipped":return 2;case"delivered":return 3;default:return 0}}function Zfe(){const{t:e}=ft(),{user:t}=oa(),[n,r]=y.useState("all"),[s,i]=y.useState(null),[o,l]=y.useState(!1),{data:c=[],isLoading:d}=Ae({queryKey:["member-orders",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const{data:x,error:b}=await L.from("orders").select("*").eq("customer_email",t.email).order("created_at",{ascending:!1});return b?(console.error("Error fetching orders:",b),[]):(x||[]).map(j=>({id:j.id,order_number:j.order_number||`LY${j.id.slice(0,8).toUpperCase()}`,created_at:j.created_at,updated_at:j.updated_at||j.created_at,status:j.status,total_amount:j.total_amount||0,customer_name:j.customer_name||"",customer_phone:j.customer_phone||"",customer_email:j.customer_email||"",items:j.items||"[]",shipping_address:j.shipping_address||"",shipping_city:j.shipping_city||"",shipping_state:j.shipping_state||"",shipping_postcode:j.shipping_postcode||"",tracking_number:j.tracking_number||null,payment_status:j.payment_status||"",preferred_delivery_date:j.preferred_delivery_date||null}))},enabled:!!(t!=null&&t.email)}),u=x=>{switch(x){case"pending":return{label:e("member.orders.statusPending"),icon:Ht,color:"bg-yellow-500/10 text-yellow-600",badgeVariant:"outline"};case"paid":return{label:e("member.orders.statusPaid"),icon:Le,color:"bg-blue-500/10 text-blue-500",badgeVariant:"default"};case"processing":return{label:e("member.orders.statusProcessing"),icon:ca,color:"bg-blue-500/10 text-blue-500",badgeVariant:"default"};case"shipped":return{label:e("member.orders.statusShipped"),icon:hs,color:"bg-primary/10 text-primary",badgeVariant:"default"};case"delivered":return{label:e("member.orders.statusDelivered"),icon:Le,color:"bg-green-500/10 text-green-500",badgeVariant:"secondary"};case"cancelled":return{label:e("member.orders.statusCancelled"),icon:Yo,color:"bg-muted text-muted-foreground",badgeVariant:"outline"};default:return{label:e("member.orders.statusUnknown"),icon:Ht,color:"bg-muted",badgeVariant:"outline"}}},m=x=>{switch(x){case"paid":return e("member.orders.statusPaid");case"pending":return e("member.orders.statusPendingPayment");default:return x}},h=n==="all"?c:c.filter(x=>x.status===n),p=x=>new Date(x).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}),g=x=>new Date(x).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});if(d)return a.jsx(Pn,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})});const f=[e("member.orders.timelineOrdered"),e("member.orders.timelinePreparing"),e("member.orders.timelineShipping"),e("member.orders.timelineCompleted")];return a.jsxs(Pn,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-orders-title",children:e("member.orders.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("member.orders.subtitle")})]}),a.jsxs(ba,{value:n,onValueChange:r,children:[a.jsx("div",{className:"overflow-x-auto -mx-1 px-1",children:a.jsxs(fa,{className:"inline-flex w-auto min-w-full md:grid md:w-full md:grid-cols-5",children:[a.jsx(Ee,{value:"all",className:"flex-1 md:flex-none","data-testid":"tab-all",children:e("member.orders.tabAll")}),a.jsx(Ee,{value:"pending",className:"flex-1 md:flex-none","data-testid":"tab-pending",children:e("member.orders.tabPending")}),a.jsx(Ee,{value:"shipped",className:"flex-1 md:flex-none","data-testid":"tab-shipped",children:e("member.orders.tabShipped")}),a.jsx(Ee,{value:"delivered",className:"flex-1 md:flex-none","data-testid":"tab-delivered",children:e("member.orders.tabDelivered")}),a.jsx(Ee,{value:"cancelled",className:"flex-1 md:flex-none","data-testid":"tab-cancelled",children:e("member.orders.tabCancelled")})]})}),a.jsx(At,{value:n,className:"mt-4",children:h.length===0?a.jsx(W,{children:a.jsxs(ae,{className:"p-12 text-center",children:[a.jsx(kn,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("member.orders.noOrders")}),a.jsx(sn,{href:"/products",children:a.jsx(C,{className:"mt-4 bg-secondary text-secondary-foreground","data-testid":"button-shop",children:e("member.orders.goShop")})})]})}):a.jsx("div",{className:"space-y-4",children:h.map(x=>{const b=u(x.status),j=b.icon,v=vR(x.items),N=v.reduce((w,P)=>w+(P.quantity||1),0);return a.jsxs(W,{className:"overflow-hidden","data-testid":`order-${x.id}`,children:[a.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-muted/30 border-b gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[a.jsxs("span",{className:"text-xs sm:text-sm font-mono text-muted-foreground truncate",children:["#",x.order_number]}),a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground flex-shrink-0",children:p(x.created_at)})]}),a.jsxs(te,{variant:b.badgeVariant,className:"gap-1",children:[a.jsx(j,{className:"w-3 h-3"}),b.label]})]}),a.jsxs(ae,{className:"p-4",children:[a.jsx("div",{className:"space-y-3",children:v.length>0?v.map((w,P)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-16 h-16 rounded-lg bg-muted flex items-center justify-center",children:a.jsx(ca,{className:"w-6 h-6 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:bR(w)}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["x",w.quantity||1]})]})]}),Oy(w)>0&&a.jsxs("span",{className:"font-medium",children:["RM ",(Oy(w)/100).toFixed(2)]})]},P)):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-16 h-16 rounded-lg bg-muted flex items-center justify-center",children:a.jsx(ca,{className:"w-6 h-6 text-muted-foreground"})}),a.jsx("div",{children:a.jsx("p",{className:"font-medium",children:e("member.orders.orderItems")||"Order Items"})})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mt-4 pt-4 border-t",children:[a.jsx("span",{className:"text-muted-foreground text-sm",children:e("member.orders.totalItems").replace("{count}",String(N||1))}),a.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4",children:[a.jsxs("span",{className:"font-bold text-base sm:text-lg",children:[e("member.orders.total"),": ",a.jsxs("span",{className:"text-primary",children:["RM ",(x.total_amount/100).toFixed(2)]})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 flex-shrink-0",onClick:()=>{i(x),l(!0)},"data-testid":`button-detail-${x.id}`,children:[e("member.orders.viewDetails"),a.jsx(un,{className:"w-4 h-4"})]})]})]})]})]},x.id)})})})]})]}),a.jsx(et,{open:o,onOpenChange:l,children:a.jsx(Ye,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:s&&(()=>{const x=s;u(x.status);const b=vR(x.items),j=x.status==="cancelled",v=Xfe(x.status);return a.jsxs(a.Fragment,{children:[a.jsx(Je,{children:a.jsx(Qe,{children:e("member.orders.orderInfo")})}),a.jsxs("div",{className:"space-y-5 pt-2",children:[j?a.jsx("div",{className:"flex items-center justify-center py-4",children:a.jsxs(te,{variant:"destructive",className:"gap-1.5 text-sm px-4 py-2",children:[a.jsx(ms,{className:"w-4 h-4"}),e("member.orders.statusCancelled")]})}):a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:"flex items-center justify-between relative",children:[a.jsx("div",{className:"absolute top-4 left-4 right-4 h-0.5 bg-muted"}),a.jsx("div",{className:"absolute top-4 left-4 h-0.5 bg-primary transition-all",style:{width:`${v/(f.length-1)*(100-100/f.length)}%`}}),f.map((N,w)=>{const P=w<=v,k=w===v;return a.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all ${P?"bg-primary border-primary text-primary-foreground":"bg-background border-muted-foreground/30 text-muted-foreground/30"} ${k&&!P?"animate-pulse":""}`,children:P?a.jsx(qn,{className:"w-4 h-4"}):a.jsx("span",{className:"text-xs font-medium",children:w+1})}),a.jsx("span",{className:`text-xs mt-2 text-center ${P?"text-foreground font-medium":"text-muted-foreground"}`,children:N})]},w)})]})}),a.jsx(W,{className:"p-4",children:a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.orders.orderNumber")}),a.jsx("span",{className:"font-mono font-medium",children:x.order_number})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.orders.orderDate")}),a.jsx("span",{children:g(x.created_at)})]}),x.payment_status&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.orders.paymentStatus")}),a.jsx(te,{variant:x.payment_status==="paid"?"default":"outline",className:"text-xs",children:m(x.payment_status)})]})]})}),a.jsx(W,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[b.length>0?b.map((N,w)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded bg-muted flex items-center justify-center",children:a.jsx(ca,{className:"w-4 h-4 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:bR(N)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["x",N.quantity||1]})]})]}),Oy(N)>0&&a.jsxs("span",{className:"text-sm font-medium",children:["RM ",(Oy(N)/100).toFixed(2)]})]},w)):a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.orders.orderItems")||"Order Items"}),a.jsxs("div",{className:"border-t pt-3 flex justify-between font-semibold",children:[a.jsx("span",{children:e("member.orders.total")}),a.jsxs("span",{className:"text-primary",children:["RM ",(x.total_amount/100).toFixed(2)]})]})]})}),x.shipping_address&&a.jsx(W,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(sl,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:e("member.orders.shippingAddress")}),a.jsx("p",{className:"font-medium",children:x.customer_name}),x.customer_phone&&a.jsx("p",{className:"text-muted-foreground",children:x.customer_phone}),a.jsx("p",{className:"text-muted-foreground",children:x.shipping_address}),a.jsxs("p",{className:"text-muted-foreground",children:[x.shipping_postcode," ",x.shipping_city,x.shipping_state&&`, ${e(`states.${x.shipping_state}`)}`]})]})]})}),x.tracking_number&&a.jsx(W,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(hs,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:e("member.orders.trackingInfo")}),a.jsx("p",{className:"font-mono font-medium",children:x.tracking_number})]})]})}),a.jsx(C,{variant:"outline",className:"w-full gap-2",asChild:!0,children:a.jsxs("a",{href:`https://wa.me/60178228658?text=${encodeURIComponent(`Hi, I have a question about my order #${x.order_number}`)}`,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Gr,{className:"w-4 h-4 text-green-600"}),e("member.orders.contactAboutOrder")]})})]})]})})()})})]})}function ege(){const{t:e}=ft(),{user:t,member:n}=oa(),{toast:r}=Jt(),s=Aa(),[i,o]=y.useState(!1),[l,c]=y.useState(null),[d,u]=y.useState({recipient_name:"",phone:"",address_line_1:"",address_line_2:"",city:"",postcode:"",state:""}),{data:m=[],isLoading:h}=Ae({queryKey:["member-addresses",n==null?void 0:n.id],queryFn:async()=>{if(!(n!=null&&n.id))return[];const{data:v,error:N}=await L.from("member_addresses").select("*").eq("member_id",n.id).order("is_default",{ascending:!1});return N?(console.error("Error fetching addresses:",N),[]):v||[]},enabled:!!(n!=null&&n.id)}),p=Ce({mutationFn:async v=>{if(!(n!=null&&n.id))throw new Error("Not authenticated");const N={recipient_name:v.recipient_name,phone:v.phone,address_line_1:v.address_line_1,address_line_2:v.address_line_2||null,city:v.city,postcode:v.postcode,state:v.state,is_default:v.is_default};if(v.id){const{error:w}=await L.from("member_addresses").update(N).eq("id",v.id);if(w)throw w}else{const{error:w}=await L.from("member_addresses").insert({...N,member_id:n.id});if(w)throw w}},onSuccess:()=>{s.invalidateQueries({queryKey:["member-addresses"]}),o(!1),c(null),x(),r({title:l?"":""})},onError:v=>{console.error("Error saving address:",v),r({title:"",variant:"destructive"})}}),g=Ce({mutationFn:async v=>{const{error:N}=await L.from("member_addresses").delete().eq("id",v);if(N)throw N},onSuccess:()=>{s.invalidateQueries({queryKey:["member-addresses"]}),r({title:""})},onError:()=>{r({title:"",variant:"destructive"})}}),f=Ce({mutationFn:async v=>{if(!(n!=null&&n.id))throw new Error("Not authenticated");await L.from("member_addresses").update({is_default:!1}).eq("member_id",n.id);const{error:N}=await L.from("member_addresses").update({is_default:!0}).eq("id",v);if(N)throw N},onSuccess:()=>{s.invalidateQueries({queryKey:["member-addresses"]}),r({title:""})},onError:()=>{r({title:"",variant:"destructive"})}}),x=()=>{u({recipient_name:"",phone:"",address_line_1:"",address_line_2:"",city:"",postcode:"",state:""})},b=v=>{c(v),u({recipient_name:v.recipient_name,phone:v.phone,address_line_1:v.address_line_1,address_line_2:v.address_line_2||"",city:v.city,postcode:v.postcode,state:v.state}),o(!0)},j=()=>{if(!d.recipient_name||!d.phone||!d.address_line_1){r({title:"",variant:"destructive"});return}p.mutate({id:l==null?void 0:l.id,...d,is_default:(l==null?void 0:l.is_default)||m.length===0})};return h?a.jsx(Pn,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(Pn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-addresses-title",children:e("member.addresses.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("member.addresses.subtitle")})]}),a.jsxs(et,{open:i,onOpenChange:v=>{o(v),v||(c(null),x())},children:[a.jsx(_b,{asChild:!0,children:a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground","data-testid":"button-add-address",children:[a.jsx(zt,{className:"w-4 h-4"}),e("member.addresses.addAddress")]})}),a.jsxs(Ye,{className:"sm:max-w-lg",children:[a.jsx(Je,{children:a.jsx(Qe,{children:l?"":e("member.addresses.addAddressTitle")})}),a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"name",children:e("member.addresses.form.name")}),a.jsx(ce,{id:"name",placeholder:e("member.addresses.form.namePlaceholder"),value:d.recipient_name,onChange:v=>u({...d,recipient_name:v.target.value}),"data-testid":"input-name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"phone",children:e("member.addresses.form.phone")}),a.jsx(ce,{id:"phone",placeholder:"+60 12-345 6789",value:d.phone,onChange:v=>u({...d,phone:v.target.value}),"data-testid":"input-phone"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"address",children:e("member.addresses.form.address")}),a.jsx(Pt,{id:"address",placeholder:e("member.addresses.form.addressPlaceholder"),value:d.address_line_1,onChange:v=>u({...d,address_line_1:v.target.value}),"data-testid":"input-address"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"city",children:e("member.addresses.form.city")}),a.jsx(ce,{id:"city",placeholder:"Kuala Lumpur",value:d.city,onChange:v=>u({...d,city:v.target.value}),"data-testid":"input-city"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"postcode",children:e("member.addresses.form.postcode")}),a.jsx(ce,{id:"postcode",placeholder:"50000",value:d.postcode,onChange:v=>u({...d,postcode:v.target.value}),"data-testid":"input-postcode"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"state",children:e("member.addresses.form.state")}),a.jsx(ce,{id:"state",placeholder:"Selangor",value:d.state,onChange:v=>u({...d,state:v.target.value}),"data-testid":"input-state"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx(C,{variant:"outline",onClick:()=>o(!1),children:e("member.addresses.cancel")}),a.jsx(C,{className:"bg-secondary text-secondary-foreground",onClick:j,disabled:p.isPending,"data-testid":"button-save-address",children:p.isPending?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):e("member.addresses.save")})]})]})]})]})]}),m.length===0?a.jsx(W,{children:a.jsxs(ae,{className:"p-12 text-center",children:[a.jsx(sl,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:e("member.addresses.noAddresses")}),a.jsx(C,{className:"bg-secondary text-secondary-foreground",onClick:()=>o(!0),children:e("member.addresses.addFirst")})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(v=>a.jsxs(W,{className:`relative ${v.is_default?"border-secondary":""}`,"data-testid":`address-${v.id}`,children:[v.is_default&&a.jsxs(te,{className:"absolute top-4 right-4 bg-secondary text-secondary-foreground gap-1",children:[a.jsx(Le,{className:"w-3 h-3"}),e("member.addresses.defaultBadge")]}),a.jsxs(ae,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-primary/10",children:a.jsx(dx,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"font-bold",children:v.recipient_name}),a.jsx("span",{className:"text-sm text-muted-foreground",children:v.phone})]}),a.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:[v.address_line_1,v.address_line_2&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),v.address_line_2]}),a.jsx("br",{}),v.postcode," ",v.city,", ",v.state]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t",children:[!v.is_default&&a.jsx(C,{variant:"outline",size:"sm",onClick:()=>f.mutate(v.id),disabled:f.isPending,"data-testid":`button-default-${v.id}`,children:e("member.addresses.setDefault")}),a.jsxs(C,{variant:"ghost",size:"sm",className:"gap-1",onClick:()=>b(v),"data-testid":`button-edit-${v.id}`,children:[a.jsx(_a,{className:"w-4 h-4"}),e("member.addresses.edit")]}),a.jsxs(C,{variant:"ghost",size:"sm",className:"gap-1 text-red-500 hover:text-red-600",onClick:()=>g.mutate(v.id),disabled:g.isPending,"data-testid":`button-delete-${v.id}`,children:[a.jsx(Ut,{className:"w-4 h-4"}),e("member.addresses.delete")]})]})]})]},v.id))})]})})}var MA="Progress",RA=100,[tge,H8e]=pn(MA),[age,nge]=tge(MA),qK=y.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=rge,...o}=e;(s||s===0)&&!wR(s)&&console.error(sge(`${s}`,"Progress"));const l=wR(s)?s:RA;r!==null&&!jR(r,l)&&console.error(ige(`${r}`,"Progress"));const c=jR(r,l)?r:null,d=Sb(c)?i(c,l):void 0;return a.jsx(age,{scope:n,value:c,max:l,children:a.jsx(nt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Sb(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":zK(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});qK.displayName=MA;var VK="ProgressIndicator",KK=y.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=nge(VK,n);return a.jsx(nt.div,{"data-state":zK(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});KK.displayName=VK;function rge(e,t){return`${Math.round(e/t*100)}%`}function zK(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Sb(e){return typeof e=="number"}function wR(e){return Sb(e)&&!isNaN(e)&&e>0}function jR(e,t){return Sb(e)&&!isNaN(e)&&e<=t&&e>=0}function sge(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${RA}\`.`}function ige(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${RA} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var WK=qK,oge=KK;const Ld=y.forwardRef(({className:e,value:t,...n},r)=>a.jsx(WK,{ref:r,className:Be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:a.jsx(oge,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ld.displayName=WK.displayName;function lge(){const{t:e}=ft(),{member:t}=oa(),{data:n=[],isLoading:r}=Ae({queryKey:["member-points-history",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:u,error:m}=await L.from("member_points_ledger").select("*").eq("member_id",t.id).order("created_at",{ascending:!1}).limit(50);return m?(console.log("Points ledger not available:",m.message),[]):(u||[]).map(h=>({id:h.id,type:h.amount>=0?"earn":"spend",amount:Math.abs(h.amount),description:h.description||"",created_at:h.created_at,balance_after:h.balance_after||0}))},enabled:!!(t!=null&&t.id)}),s=(t==null?void 0:t.pointsBalance)||0,i=new Date().toISOString().slice(0,7),o=n.filter(u=>{var m;return u.type==="earn"&&((m=u.created_at)==null?void 0:m.startsWith(i))}).reduce((u,m)=>u+m.amount,0),l={totalPoints:s,thisMonthEarned:o,expiringSoon:0,expiryDate:"2026-12-31",nextTierPoints:2e3,currentTier:s>=1e3?"":"",nextTier:""},c=l.totalPoints/l.nextTierPoints*100,d=u=>new Date(u).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return r?a.jsx(Pn,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(Pn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-points-title",children:e("member.points.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("member.points.subtitle")})]}),a.jsx(W,{className:"bg-gradient-to-r from-secondary/10 to-primary/10 border-secondary/20",children:a.jsx(ae,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary/20 flex items-center justify-center",children:a.jsx(pa,{className:"w-8 h-8 text-secondary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.points.currentPoints")}),a.jsx("p",{className:"text-4xl font-bold text-secondary","data-testid":"text-total-points",children:l.totalPoints}),a.jsx(te,{variant:"secondary",className:"mt-1",children:l.currentTier})]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:l.thisMonthEarned}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.points.earnedThisMonth")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-500",children:l.expiringSoon}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.points.expiringSoon")})]})]})]})})}),a.jsxs(W,{children:[a.jsxs($e,{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(La,{className:"w-5 h-5 text-primary"}),e("member.points.tierProgress")]}),a.jsx(Ca,{children:e("member.points.tierProgressDesc").replace("{nextTier}",l.nextTier).replace("{points}",String(Math.max(0,l.nextTierPoints-l.totalPoints)))})]}),a.jsx(ae,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:l.currentTier}),a.jsx("span",{className:"text-muted-foreground",children:l.nextTier})]}),a.jsx(Ld,{value:Math.min(100,c),className:"h-3"}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"font-medium",children:[l.totalPoints," ",e("member.points.points")]}),a.jsxs("span",{className:"text-muted-foreground",children:[l.nextTierPoints," ",e("member.points.points")]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(W,{className:"hover-elevate cursor-pointer",children:a.jsxs(ae,{className:"p-6 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary/10 flex items-center justify-center",children:a.jsx(pr,{className:"w-6 h-6 text-secondary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold",children:e("member.points.redeem")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.points.redeemRate")})]}),a.jsx(C,{variant:"outline",size:"sm","data-testid":"button-redeem",children:e("member.points.redeemNow")})]})}),a.jsx(sn,{href:"/products",children:a.jsx(W,{className:"hover-elevate cursor-pointer",children:a.jsxs(ae,{className:"p-6 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(kn,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold",children:e("member.points.earnPoints")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.points.earnRate")})]}),a.jsx(C,{variant:"outline",size:"sm","data-testid":"button-shop",children:e("member.points.goShop")})]})})})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(Ht,{className:"w-5 h-5 text-primary"}),e("member.points.history")]})}),a.jsx(ae,{children:a.jsxs(ba,{defaultValue:"all",children:[a.jsxs(fa,{className:"grid w-full grid-cols-3",children:[a.jsx(Ee,{value:"all","data-testid":"tab-all",children:e("member.points.tabAll")}),a.jsx(Ee,{value:"earn","data-testid":"tab-earn",children:e("member.points.tabEarn")}),a.jsx(Ee,{value:"spend","data-testid":"tab-spend",children:e("member.points.tabSpend")})]}),a.jsx(At,{value:"all",className:"mt-4",children:n.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(pr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:""})]}):a.jsx("div",{className:"space-y-3",children:n.map(u=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg","data-testid":`record-${u.id}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u.type==="spend"?"bg-red-500/10":"bg-green-500/10"}`,children:u.type==="spend"?a.jsx(is,{className:"w-4 h-4 text-red-500"}):a.jsx(En,{className:"w-4 h-4 text-green-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:u.description}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d(u.created_at)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-bold ${u.type==="spend"?"text-red-500":"text-green-500"}`,children:[u.type==="spend"?"-":"+",u.amount]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("member.points.balance"),": ",u.balance_after]})]})]},u.id))})}),a.jsx(At,{value:"earn",className:"mt-4",children:a.jsx("div",{className:"space-y-3",children:n.filter(u=>u.type!=="spend").length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a.jsx("p",{children:""})}):n.filter(u=>u.type!=="spend").map(u=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-green-500/10",children:a.jsx(En,{className:"w-4 h-4 text-green-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:u.description}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d(u.created_at)})]})]}),a.jsxs("p",{className:"font-bold text-green-500",children:["+",u.amount]})]},u.id))})}),a.jsx(At,{value:"spend",className:"mt-4",children:a.jsx("div",{className:"space-y-3",children:n.filter(u=>u.type==="spend").length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a.jsx("p",{children:""})}):n.filter(u=>u.type==="spend").map(u=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-red-500/10",children:a.jsx(is,{className:"w-4 h-4 text-red-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:u.description}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d(u.created_at)})]})]}),a.jsxs("p",{className:"font-bold text-red-500",children:["-",u.amount]})]},u.id))})})]})})]}),a.jsx(W,{className:"bg-muted/30",children:a.jsxs(ae,{className:"p-4 flex items-start gap-3",children:[a.jsx(ux,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsx("p",{className:"font-medium text-foreground mb-1",children:e("member.points.rulesTitle")}),a.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[a.jsx("li",{children:e("member.points.rule1")}),a.jsx("li",{children:e("member.points.rule2")}),a.jsx("li",{children:e("member.points.rule3")}),a.jsx("li",{children:e("member.points.rule4")})]})]})]})})]})})}var IA="Radio",[cge,HK]=pn(IA),[dge,uge]=cge(IA),GK=y.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[m,h]=y.useState(null),p=jt(t,x=>h(x)),g=y.useRef(!1),f=m?d||!!m.closest("form"):!0;return a.jsxs(dge,{scope:n,checked:s,disabled:o,children:[a.jsx(nt.button,{type:"button",role:"radio","aria-checked":s,"data-state":QK(s),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:Te(e.onClick,x=>{s||c==null||c(),f&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),f&&a.jsx(mge,{control:m,bubbles:!g.current,name:r,value:l,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});GK.displayName=IA;var YK="RadioIndicator",JK=y.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,i=uge(YK,n);return a.jsx(Kn,{present:r||i.checked,children:a.jsx(nt.span,{"data-state":QK(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});JK.displayName=YK;var mge=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,i=y.useRef(null),o=vx(n),l=px(t);return y.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&m){const h=new Event("click",{bubbles:r});m.call(c,n),c.dispatchEvent(h)}},[o,n,r]),a.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function QK(e){return e?"checked":"unchecked"}var hge=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],LA="RadioGroup",[pge,G8e]=pn(LA,[Fh,HK]),XK=Fh(),ZK=HK(),[fge,gge]=pge(LA),e9=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...h}=e,p=XK(n),g=wc(d),[f,x]=Hr({prop:i,defaultProp:s,onChange:m});return a.jsx(fge,{scope:n,name:r,required:o,disabled:l,value:f,onValueChange:x,children:a.jsx(C2,{asChild:!0,...p,orientation:c,dir:g,loop:u,children:a.jsx(nt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});e9.displayName=LA;var t9="RadioGroupItem",a9=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,i=gge(t9,n),o=i.disabled||r,l=XK(n),c=ZK(n),d=y.useRef(null),u=jt(t,d),m=i.value===s.value,h=y.useRef(!1);return y.useEffect(()=>{const p=f=>{hge.includes(f.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),a.jsx(A2,{asChild:!0,...l,focusable:!o,active:m,children:a.jsx(GK,{disabled:o,required:i.required,checked:m,...c,...s,name:i.name,ref:u,onCheck:()=>i.onValueChange(s.value),onKeyDown:Te(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Te(s.onFocus,()=>{var p;h.current&&((p=d.current)==null||p.click())})})})});a9.displayName=t9;var xge="RadioGroupIndicator",n9=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=ZK(n);return a.jsx(JK,{...s,...r,ref:t})});n9.displayName=xge;var r9=e9,s9=a9,yge=n9;const i9=y.forwardRef(({className:e,...t},n)=>a.jsx(r9,{className:Be("grid gap-2",e),...t,ref:n}));i9.displayName=r9.displayName;const o_=y.forwardRef(({className:e,...t},n)=>a.jsx(s9,{ref:n,className:Be("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(yge,{className:"flex items-center justify-center",children:a.jsx(IB,{className:"h-2.5 w-2.5 fill-current text-current"})})}));o_.displayName=s9.displayName;function vge(){const{t:e,language:t}=ft(),{user:n}=oa(),r=Aa(),[s,i]=y.useState(!1),[o,l]=y.useState("bank"),[c,d]=y.useState(""),[u,m]=y.useState(""),h=t==="zh",{data:p=[],isLoading:g}=Ae({queryKey:["payment-methods",n==null?void 0:n.id],queryFn:async()=>{if(!(n!=null&&n.id))return[];const{data:N,error:w}=await L.from("payment_methods").select("*").eq("user_id",n.id).order("created_at",{ascending:!1});return w?(console.error("Error fetching payment methods:",w),[]):N||[]},enabled:!!(n!=null&&n.id)}),f=Ce({mutationFn:async N=>{n!=null&&n.id&&(await L.from("payment_methods").update({is_default:!1}).eq("user_id",n.id),await L.from("payment_methods").update({is_default:!0}).eq("id",N))},onSuccess:()=>r.invalidateQueries({queryKey:["payment-methods"]})}),x=Ce({mutationFn:async N=>{await L.from("payment_methods").delete().eq("id",N)},onSuccess:()=>r.invalidateQueries({queryKey:["payment-methods"]})}),b=Ce({mutationFn:async()=>{if(!(n!=null&&n.id))return;const N=u.slice(-4).replace(/\D/g,"")||"0000";await L.from("payment_methods").insert({user_id:n.id,type:o,name:c,last4:N,is_default:p.length===0})},onSuccess:()=>{r.invalidateQueries({queryKey:["payment-methods"]}),i(!1),d(""),m(""),l("bank")}}),j=N=>{switch(N){case"bank":return a.jsx(cs,{className:"w-5 h-5 text-primary"});case"ewallet":return a.jsx(bs,{className:"w-5 h-5 text-secondary"});default:return a.jsx(In,{className:"w-5 h-5 text-primary"})}},v=N=>{switch(N){case"bank":return h?"":"Bank Account";case"ewallet":return h?"":"E-Wallet";default:return h?"":"Card"}};return a.jsx(Pn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-payment-title",children:e("member.payment.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("member.payment.subtitle")})]}),a.jsx(W,{className:"bg-gradient-to-r from-[#635BFF]/10 to-primary/10 border-[#635BFF]/20",children:a.jsx(ae,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-[#635BFF]/20 flex items-center justify-center flex-shrink-0",children:a.jsx(In,{className:"w-6 h-6 text-[#635BFF]"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold mb-1",children:h?"":"Online Payment"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:h?" Stripe ":"All order payments are securely processed via Stripe. No need to save payment methods  simply pay at checkout."}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(te,{variant:"outline",className:"gap-1.5",children:[a.jsx(In,{className:"w-3 h-3"}),h?"/":"Credit / Debit Card"]}),a.jsxs(te,{variant:"outline",className:"gap-1.5",children:[a.jsx(Tte,{className:"w-3 h-3"}),"FPX"]}),a.jsxs(te,{variant:"outline",className:"gap-1.5",children:[a.jsx(gte,{className:"w-3 h-3"}),"GrabPay"]})]})]})]})})}),a.jsx(W,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:a.jsx(ae,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:a.jsx(mx,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-1",children:e("member.payment.securityTitle")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.payment.securityDesc")})]})]})})}),a.jsxs(W,{children:[a.jsxs($e,{className:"flex flex-row items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(cs,{className:"w-5 h-5 text-primary"}),h?"":"Withdrawal Accounts"]}),a.jsx(Ca,{children:h?` ${p.length}   `:`${p.length} account(s) linked  For partner commission withdrawals`})]}),a.jsxs(et,{open:s,onOpenChange:i,children:[a.jsx(_b,{asChild:!0,children:a.jsxs(C,{variant:"outline",className:"gap-2","data-testid":"button-add-payment",children:[a.jsx(zt,{className:"w-4 h-4"}),e("member.payment.add")]})}),a.jsxs(Ye,{children:[a.jsx(Je,{children:a.jsx(Qe,{children:h?"":"Add Withdrawal Account"})}),a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs(i9,{value:o,onValueChange:l,children:[a.jsxs("div",{className:`flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition-colors ${o==="bank"?"border-secondary bg-secondary/5":""}`,onClick:()=>l("bank"),children:[a.jsx(o_,{value:"bank",id:"pm-bank"}),a.jsxs(Ke,{htmlFor:"pm-bank",className:"flex items-center gap-2 cursor-pointer flex-1",children:[a.jsx(cs,{className:"w-5 h-5"}),e("member.payment.bankAccount")]})]}),a.jsxs("div",{className:`flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition-colors ${o==="ewallet"?"border-secondary bg-secondary/5":""}`,onClick:()=>l("ewallet"),children:[a.jsx(o_,{value:"ewallet",id:"pm-ewallet"}),a.jsxs(Ke,{htmlFor:"pm-ewallet",className:"flex items-center gap-2 cursor-pointer flex-1",children:[a.jsx(bs,{className:"w-5 h-5"}),e("member.payment.ewallet")]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"bank-name",children:o==="bank"?h?"":"Bank Name":h?"":"E-Wallet Name"}),a.jsx(ce,{id:"bank-name",placeholder:o==="bank"?h?": Maybank, CIMB, Public Bank":"e.g. Maybank, CIMB, Public Bank":h?": Touch 'n Go, GrabPay, Boost":"e.g. Touch 'n Go, GrabPay, Boost",value:c,onChange:N=>d(N.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"account",children:o==="bank"?h?"":"Account Number":h?" / ":"Phone Number / Account ID"}),a.jsx(ce,{id:"account",placeholder:o==="bank"?"1234567890":"012-345 6789",value:u,onChange:N=>m(N.target.value)})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(C,{variant:"outline",onClick:()=>i(!1),children:e("member.payment.cancel")}),a.jsxs(C,{className:"bg-secondary text-secondary-foreground",onClick:()=>b.mutate(),disabled:b.isPending||!c||!u,"data-testid":"button-save-payment",children:[b.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("member.payment.save")]})]})]})]})]})]}),a.jsx(ae,{children:g?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):p.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(cs,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:h?"":"No withdrawal accounts yet"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h?"":"Add a bank account or e-wallet to withdraw commissions"})]}):a.jsx("div",{className:"space-y-3",children:p.map(N=>a.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg ${N.is_default?"border-secondary bg-secondary/5":""}`,"data-testid":`payment-${N.id}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${N.type==="bank"?"bg-primary/10":"bg-secondary/10"}`,children:j(N.type)}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:N.name}),a.jsx(te,{variant:"outline",className:"text-xs",children:v(N.type)}),N.is_default&&a.jsxs(te,{className:"bg-secondary text-secondary-foreground gap-1",children:[a.jsx(Le,{className:"w-3 h-3"}),e("member.payment.default")]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:N.last4?`****${N.last4}`:""})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!N.is_default&&a.jsx(C,{variant:"outline",size:"sm",onClick:()=>f.mutate(N.id),disabled:f.isPending,"data-testid":`button-default-${N.id}`,children:e("member.payment.setDefault")}),a.jsx(C,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>x.mutate(N.id),disabled:x.isPending,"data-testid":`button-delete-${N.id}`,children:a.jsx(Ut,{className:"w-4 h-4"})})]})]},N.id))})})]}),a.jsx(W,{className:"bg-muted/30",children:a.jsxs(ae,{className:"p-4 flex items-start gap-3",children:[a.jsx(ux,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsx("p",{className:"font-medium text-foreground mb-2",children:h?"":"Payment & Withdrawal Info"}),a.jsxs("ul",{className:"space-y-1.5 list-disc list-inside",children:[a.jsx("li",{children:h?" Stripe FPXGrabPay":"Purchases: Paid online via Stripe (Credit Card, FPX, GrabPay)"}),a.jsx("li",{children:h?"":"Withdrawals: Link a bank account or e-wallet to request payouts"}),a.jsx("li",{children:h?"":"The default account will be used for automatic payout processing"})]})]})]})})]})})}async function bge(e,t){let n=L.from("members").select("id, name, email, role, referral_code, created_at, points_balance").eq("referrer_id",e).order("created_at",{ascending:!1});t&&t!=="all"&&(n=n.eq("role",t));const{data:r,error:s}=await n;if(s)throw s;return(r||[]).map(i=>({id:i.id,name:i.name||"",email:i.email||"",role:i.role||"member",referral_code:i.referral_code||"",created_at:i.created_at,points_balance:i.points_balance||0}))}const wge=e=>{switch(e){case"user":return{label:"",icon:Tt,variant:"outline"};case"member":return{label:"",icon:pa,variant:"secondary"};case"partner":return{label:"",icon:hr,variant:"default"};case"admin":return{label:"",icon:jr,variant:"destructive"};default:return{label:"",icon:Tt,variant:"outline"}}},jge=e=>new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});function Nge(){ft();const{user:e,member:t,loading:n}=oa(),{toast:r}=Jt(),[s,i]=y.useState(!1),[o,l]=y.useState("all"),[c,d]=y.useState([]),u=c.length>0?c[c.length-1].id:t==null?void 0:t.id,m=(t==null?void 0:t.referralCode)||"",h=m?`${window.location.origin}/auth/login?ref=${m}`:"",p=(v,N)=>{d(w=>[...w,{id:v,name:N}])},g=v=>{d(N=>N.slice(0,v))},{data:f}=Ae({queryKey:["member-referral-stats",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{data:v,error:N}=await L.rpc("get_referral_stats",{p_member_id:t.id});if(N){console.log("Stats function not available:",N.message);const{data:w}=await L.from("members").select("id, role, referrer_id").eq("referrer_id",t.id);return{direct_referrals:(w==null?void 0:w.length)||0,total_network:(w==null?void 0:w.length)||0,partners_in_network:(w==null?void 0:w.filter(P=>P.role==="partner").length)||0,level1_count:(w==null?void 0:w.length)||0,level2_count:0,level3_count:0}}return(v==null?void 0:v[0])||{direct_referrals:0,total_network:0,partners_in_network:0,level1_count:0,level2_count:0,level3_count:0}},enabled:!!(t!=null&&t.id)}),{data:x=[],isLoading:b}=Ae({queryKey:["referral-children",u,o],queryFn:()=>bge(u,o),enabled:!!u}),j=async(v,N)=>{try{await navigator.clipboard.writeText(v),i(!0),r({title:`${N}`}),setTimeout(()=>i(!1),2e3)}catch{r({title:"",variant:"destructive"})}};return e?n?a.jsx(Pn,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(Pn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-referrals-title",children:""}),a.jsx("p",{className:"text-muted-foreground",children:""})]}),a.jsxs(W,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:[a.jsxs($e,{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(gi,{className:"w-5 h-5 text-primary"}),""]}),a.jsx(Ca,{children:""})]}),a.jsx(ae,{className:"space-y-4",children:m?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-3xl font-mono font-bold text-primary tracking-wider",children:m}),a.jsx(C,{variant:"outline",size:"sm",onClick:()=>j(m,""),"data-testid":"button-copy-code",children:s?a.jsx(Le,{className:"w-4 h-4"}):a.jsx(Oo,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center border",children:a.jsx(UB,{className:"w-12 h-12 text-muted-foreground"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{value:h,readOnly:!0,className:"font-mono text-sm","data-testid":"input-referral-link"}),a.jsx(C,{variant:"outline",size:"icon",onClick:()=>j(h,""),"data-testid":"button-copy-link",children:a.jsx(Ote,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsxs(C,{className:"flex-1 bg-green-500 hover:bg-green-600",onClick:()=>{const v=`LOVEYOUNG ${m} ${h}`;window.open(`https://wa.me/?text=${encodeURIComponent(v)}`,"_blank")},children:[a.jsx(gi,{className:"w-4 h-4 mr-2"})," WhatsApp"]}),a.jsxs(C,{variant:"outline",className:"flex-1",onClick:()=>j(h,""),children:[a.jsx(Oo,{className:"w-4 h-4 mr-2"}),""]})]})]}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-muted-foreground",children:""}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:""})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 text-center",children:[a.jsx(Br,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto text-primary mb-1 sm:mb-2"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:(f==null?void 0:f.direct_referrals)||0}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 text-center",children:[a.jsx(ed,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto text-secondary mb-1 sm:mb-2"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:(f==null?void 0:f.total_network)||0}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 text-center",children:[a.jsx(hr,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto text-primary mb-1 sm:mb-2"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary",children:(f==null?void 0:f.partners_in_network)||0}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 text-center",children:[a.jsx(Tt,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto text-blue-500 mb-1 sm:mb-2"}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:((f==null?void 0:f.level2_count)||0)+((f==null?void 0:f.level3_count)||0)}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""})]})})]}),a.jsxs(W,{children:[a.jsxs($e,{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(ed,{className:"w-5 h-5 text-primary"}),""]}),a.jsx(Ca,{children:c.length===0?"":` ${c.length+1}   `})]}),a.jsxs(ae,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-1 flex-wrap min-w-0",children:[a.jsxs("button",{onClick:()=>g(0),className:`flex items-center gap-1 text-sm shrink-0 ${c.length>0?"text-primary hover:underline":"font-medium text-foreground"}`,children:[c.length>0&&a.jsx(Zn,{className:"w-3.5 h-3.5"}),""]}),c.map((v,N)=>a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(un,{className:"w-3.5 h-3.5 text-muted-foreground shrink-0"}),N===c.length-1?a.jsx("span",{className:"text-sm font-medium truncate",children:v.name}):a.jsx("button",{onClick:()=>g(N+1),className:"text-sm text-primary hover:underline truncate",children:v.name})]},v.id))]}),a.jsxs(tt,{value:o,onValueChange:v=>{l(v),d([])},children:[a.jsx(Xe,{className:"w-[120px] shrink-0","data-testid":"select-role-filter",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"all",children:""}),a.jsx(ge,{value:"partner",children:""}),a.jsx(ge,{value:"member",children:""}),a.jsx(ge,{value:"user",children:""})]})]})]}),b?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):x.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Tt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:c.length>0?"":""}),c.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:""}),c.length>0&&a.jsxs(C,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>g(c.length-1),children:[a.jsx(Zn,{className:"w-4 h-4 mr-1"}),""]})]}):a.jsx("div",{className:"space-y-2",children:x.map(v=>{const N=wge(v.role),w=N.icon;return a.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border rounded-lg cursor-pointer hover:bg-muted/50 active:bg-muted/70 transition-colors gap-2","data-testid":`downline-${v.id}`,onClick:()=>p(v.id,v.name),children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(w,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:v.name}),a.jsx(te,{variant:N.variant,className:"text-[10px] sm:text-xs px-1.5 sm:px-2",children:N.label})]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:v.email})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 shrink-0",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-mono text-xs sm:text-sm text-muted-foreground",children:v.referral_code}),a.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:jge(v.created_at)})]}),a.jsx(un,{className:"w-4 h-4 text-muted-foreground shrink-0"})]})]},v.id)})})]})]}),a.jsx(W,{className:"bg-muted/30",children:a.jsxs(ae,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-3",children:""}),a.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground list-disc list-inside",children:[a.jsx("li",{children:""}),a.jsx("li",{children:""}),a.jsx("li",{children:"RWA"}),a.jsx("li",{children:""})]})]})})]})}):a.jsx(Pn,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:""})})})}const NR="loveyoung_referral_code",kge=e=>[{id:"phase1",phase:1,name:e("member.partnerJoin.packages.phase1.name"),price:1e3,lyPoints:2e3,rwaTokens:1,features:[e("member.partnerJoin.packages.phase1.feature1"),e("member.partnerJoin.packages.phase1.feature2"),e("member.partnerJoin.packages.phase1.feature3"),e("member.partnerJoin.packages.phase1.feature4")],available:!0},{id:"phase2",phase:2,name:e("member.partnerJoin.packages.phase2.name"),price:1300,lyPoints:2600,rwaTokens:1,features:[e("member.partnerJoin.packages.phase2.feature1"),e("member.partnerJoin.packages.phase2.feature2"),e("member.partnerJoin.packages.phase2.feature3"),e("member.partnerJoin.packages.phase2.feature4")],available:!1},{id:"phase3",phase:3,name:e("member.partnerJoin.packages.phase3.name"),price:1500,lyPoints:3e3,rwaTokens:1,features:[e("member.partnerJoin.packages.phase3.feature1"),e("member.partnerJoin.packages.phase3.feature2"),e("member.partnerJoin.packages.phase3.feature3"),e("member.partnerJoin.packages.phase3.feature4"),e("member.partnerJoin.packages.phase3.feature5")],available:!1}];function Pge(){const{t:e}=ft(),[,t]=Or(),{toast:n}=Jt(),{user:r,member:s,refreshUserData:i}=oa(),[o,l]=y.useState("phase1"),[c,d]=y.useState(""),[u,m]=y.useState("package"),[h,p]=y.useState(!1),g=kge(e),{data:f,isLoading:x,refetch:b}=Ae({queryKey:["member-partner-join",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return null;const{partner:N}=await Q8(s.id);return N},enabled:!!(s!=null&&s.id),staleTime:3e4});y.useEffect(()=>{if(f)return;const w=new URLSearchParams(window.location.search).get("ref");if(w){d(w.toUpperCase());try{localStorage.setItem(NR,w.toUpperCase())}catch{}}else try{const P=localStorage.getItem(NR);P&&d(P.toUpperCase())}catch{}},[f]),y.useEffect(()=>{new URLSearchParams(window.location.search).get("payment")==="success"&&(m("success"),window.history.replaceState({},"",window.location.pathname),b(),i())},[]);const j=async()=>{if(!o||!s)return;const N=g.find(w=>w.id===o);if(N){p(!0);try{const w=await fetch("https://vpzmhglfwomgrashheol.supabase.co/functions/v1/create-partner-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwem1oZ2xmd29tZ3Jhc2hoZW9sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0NjE1NjQsImV4cCI6MjA4NTAzNzU2NH0.anMz844nf2-sscp4yX5ctLGMMaRjKy24YKjPWAEDUN4"},body:JSON.stringify({memberId:s.id,tier:o,packageName:N.name,price:N.price*100,referralCode:c||void 0,isUpgrade:!!f,successUrl:`${window.location.origin}/member/partner-join?payment=success`,cancelUrl:`${window.location.origin}/member/partner-join?payment=cancelled`})}),P=await w.json();if(w.ok&&P.url)window.location.href=P.url;else throw new Error(P.error||"Failed to create checkout session")}catch(w){console.error("Payment error:",w),n({title:e("member.partnerJoin.applicationFailed"),description:w.message,variant:"destructive"}),p(!1)}}};if(x)return a.jsx(Pn,{children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})});if(u==="success")return a.jsx(Pn,{children:a.jsx("div",{className:"max-w-lg mx-auto py-8",children:a.jsxs(W,{className:"text-center",children:[a.jsxs($e,{children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:a.jsx(BB,{className:"w-10 h-10 text-green-500"})}),a.jsx(Ie,{className:"text-2xl",children:e("member.partnerJoin.applicationSuccess")}),a.jsx(Ca,{children:e("member.partnerJoin.congratsMessage")})]}),a.jsxs(ae,{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerJoin.reviewProcess")}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Le,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{children:e("member.partnerJoin.ensurePayment")})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(C,{className:"w-full bg-secondary text-secondary-foreground gap-2",onClick:()=>t("/member/partner"),children:[a.jsx(La,{className:"w-5 h-5"}),e("member.partnerJoin.goToDashboard")]}),a.jsx(C,{variant:"outline",className:"w-full",onClick:()=>t("/member"),children:e("member.partnerJoin.backToMember")})]})]})]})})});const v=g.find(N=>N.id===o);return a.jsx(Pn,{children:a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-serif text-primary flex items-center gap-2",children:[a.jsx(hr,{className:"w-6 h-6 text-secondary"}),""]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:" LY  RWA "})]}),f&&a.jsx(W,{className:"border-secondary/50 bg-secondary/5",children:a.jsxs(ae,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(Le,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{className:"font-medium",children:e("member.partnerJoin.alreadyPartner")}),a.jsxs(te,{variant:"outline",className:"ml-auto",children:["Phase ",f.tier==="phase1"?1:f.tier==="phase2"?2:3]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[a.jsxs("div",{className:"flex flex-col items-center p-2 bg-background rounded",children:[a.jsx("span",{className:"text-muted-foreground text-xs",children:"LY "}),a.jsx("span",{className:"font-bold text-secondary",children:f.lyBalance??0})]}),a.jsxs("div",{className:"flex flex-col items-center p-2 bg-background rounded",children:[a.jsx("span",{className:"text-muted-foreground text-xs",children:"RWA "}),a.jsx("span",{className:"font-bold text-primary",children:f.rwaTokens??0})]}),a.jsxs("div",{className:"flex flex-col items-center p-2 bg-background rounded",children:[a.jsx("span",{className:"text-muted-foreground text-xs",children:""}),a.jsx("span",{className:"font-bold",children:f.packagesPurchased??1})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:" LY  RWA "})]})}),u==="package"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:g.map(N=>a.jsxs(W,{className:`relative transition-all ${N.available?o===N.id?"border-secondary ring-2 ring-secondary/20 cursor-pointer":"hover:border-primary/50 cursor-pointer":"opacity-60 cursor-not-allowed"}`,onClick:()=>N.available&&l(N.id),"data-testid":`package-${N.id}`,children:[!N.available&&a.jsx(te,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-muted text-muted-foreground",children:e("member.partnerJoin.comingSoon")||""}),a.jsxs($e,{className:"text-center pb-2",children:[a.jsx(Ie,{className:"text-lg",children:N.name}),a.jsxs("div",{className:"text-3xl font-bold text-primary mt-2",children:["RM ",N.price.toLocaleString()]})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"space-y-2 mb-4",children:N.features.map((w,P)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Le,{className:`w-4 h-4 flex-shrink-0 ${N.available?"text-green-500":"text-muted-foreground"}`}),a.jsx("span",{children:w})]},P))}),a.jsxs("div",{className:"flex items-center justify-center gap-4 pt-4 border-t",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(pa,{className:"w-5 h-5 text-secondary mx-auto"}),a.jsx("div",{className:"text-lg font-bold text-secondary",children:N.lyPoints}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"LY"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(Go,{className:"w-5 h-5 text-primary mx-auto"}),a.jsx("div",{className:"text-lg font-bold text-primary",children:N.rwaTokens}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"RWA"})]})]})]})]},N.id))}),!f&&c&&a.jsx(W,{className:"border-green-200 bg-green-50/50 dark:border-green-900 dark:bg-green-950/30",children:a.jsxs(ae,{className:"p-4 flex items-center gap-3",children:[a.jsx(Le,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:e("member.partnerJoin.referralCodeLabel")}),a.jsx("p",{className:"font-mono text-lg font-bold text-primary",children:c})]}),a.jsx(te,{variant:"outline",className:"text-green-600 border-green-300",children:""})]})}),a.jsxs(C,{className:"w-full bg-secondary text-secondary-foreground gap-2",size:"lg",disabled:!o,onClick:()=>m("payment"),"data-testid":"button-next",children:[e("member.partnerJoin.nextStep"),a.jsx(mi,{className:"w-4 h-4"})]})]}),u==="payment"&&v&&a.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[a.jsx(C,{variant:"ghost",className:"gap-2",onClick:()=>m("package"),children:e("member.partnerJoin.backToPackage")}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsx(Ie,{children:e("member.partnerJoin.orderConfirm")})}),a.jsxs(ae,{className:"space-y-4",children:[f&&a.jsxs("div",{className:"flex items-center gap-2 p-2 bg-secondary/10 rounded text-sm mb-2",children:[a.jsx(La,{className:"w-4 h-4 text-secondary"}),a.jsx("span",{children:"   RWA  LY "})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.partnerJoin.package")}),a.jsx("span",{className:"font-medium",children:v.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.partnerDashboard.lyPoints")}),a.jsxs("span",{className:"font-medium text-secondary",children:["+",v.lyPoints]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.partnerDashboard.rwaToken")}),a.jsxs("span",{className:"font-medium text-primary",children:["+",v.rwaTokens]})]}),!f&&c&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.partnerJoin.referralCodeLabel")}),a.jsx("span",{className:"font-mono",children:c})]}),a.jsx(Sr,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:e("member.partnerJoin.amountToPay")}),a.jsxs("span",{className:"text-primary",children:["RM ",v.price.toLocaleString()]})]})]})]}),a.jsxs(W,{className:"bg-gradient-to-br from-secondary/10 to-primary/10",children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2 text-base",children:[a.jsx(mx,{className:"w-5 h-5 text-primary"}),e("member.partnerJoin.securityGuarantee")]})}),a.jsxs(ae,{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-green-500 mt-0.5"}),a.jsx("span",{children:e("member.partnerJoin.encryptedTransaction")})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-green-500 mt-0.5"}),a.jsx("span",{children:e("member.partnerJoin.activationTime")})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Le,{className:"w-4 h-4 text-green-500 mt-0.5"}),a.jsx("span",{children:e("member.partnerJoin.support24h")})]})]})]}),a.jsx(W,{children:a.jsx(ae,{className:"p-4 text-sm text-muted-foreground",children:a.jsxs("p",{className:"flex items-start gap-2",children:[a.jsx(Zi,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:e("member.partnerJoin.paymentNote")})]})})}),a.jsxs(C,{className:"w-full bg-[#635BFF] hover:bg-[#5851DB] text-white gap-2",size:"lg",onClick:j,disabled:h,"data-testid":"button-pay",children:[h?a.jsx(fe,{className:"w-5 h-5 animate-spin"}):a.jsx(In,{className:"w-5 h-5"}),e("member.partnerJoin.confirmPay")," RM ",v.price.toLocaleString()]}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:e("member.partnerJoin.stripePaymentNote")||"FPXGrabPay "})]})]})})}const _ge=e=>[{path:"/member/partner",label:e("member.center.sections.partner.dashboard"),icon:LB},{path:"/member/partner/ly-points",label:e("member.lyPoints.title"),icon:pa},{path:"/member/partner/wallet",label:e("member.wallet.title"),icon:bs},{path:"/member/partner/rwa",label:e("member.rwa.title"),icon:pw},{path:"/member/partner/earnings",label:e("member.earnings.title"),icon:La}];function ao({children:e}){var x,b,j,v;const{t}=ft(),n=_ge(t),[r,s]=Or(),[i,o]=y.useState(!1),{user:l,member:c,partner:d,role:u,signOut:m}=oa(),h=N=>N==="/member/partner"?r===N:r.startsWith(N),p=n.find(N=>h(N.path)),g=async()=>{try{await m()}catch(N){console.error("Logout error:",N)}window.location.href="/"},f=()=>a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/20 flex items-center justify-center",children:a.jsx(hr,{className:"w-5 h-5 text-secondary"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold text-primary",children:t("member.center.sections.partner.title")}),a.jsx(te,{variant:"outline",className:"text-xs",children:"Phase 1"})]})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:n.map(N=>{const w=N.icon,P=h(N.path);return a.jsxs(C,{variant:P?"secondary":"ghost",className:`w-full justify-start gap-3 ${P?"bg-secondary/20 text-secondary font-medium":""}`,onClick:()=>{s(N.path),o(!1)},"data-testid":`nav-${N.path.split("/").pop()}`,children:[a.jsx(w,{className:"w-4 h-4"}),N.label,P&&a.jsx(un,{className:"w-4 h-4 ml-auto"})]},N.path)})}),a.jsxs("div",{className:"p-4 border-t space-y-2",children:[u==="admin"&&a.jsxs(C,{variant:"ghost",className:"w-full justify-start gap-3 text-primary hover:bg-primary/10",onClick:()=>{s("/admin"),o(!1)},"data-testid":"nav-admin-panel",children:[a.jsx(jr,{className:"w-4 h-4"}),t("admin.adminPanel"),a.jsx(un,{className:"w-4 h-4 ml-auto"})]}),a.jsxs(C,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>s("/member"),"data-testid":"button-back-member",children:[a.jsx(Zn,{className:"w-4 h-4"}),t("member.center.backToCenter")]}),a.jsxs(C,{variant:"ghost",className:"w-full justify-start gap-2",onClick:()=>s("/"),"data-testid":"button-back-home",children:[a.jsx(dx,{className:"w-4 h-4"}),t("nav.home")]}),a.jsx("div",{className:"mt-3",children:a.jsx(dc,{testId:"button-language-switcher-sidebar"})})]})]});return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("header",{className:"sticky top-0 z-50 bg-primary text-primary-foreground",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(il,{open:i,onOpenChange:o,children:[a.jsx(Cw,{asChild:!0,children:a.jsx(C,{variant:"ghost",size:"icon",className:"lg:hidden text-primary-foreground","data-testid":"button-mobile-menu",children:a.jsx(xw,{className:"w-6 h-6"})})}),a.jsx(lo,{side:"left",className:"w-72 p-0",children:a.jsx(f,{})})]}),a.jsx("span",{className:"font-serif text-xl font-bold text-secondary cursor-pointer",onClick:()=>s("/"),"data-testid":"link-logo",children:"LOVE YOUNG"}),a.jsxs("div",{className:"hidden lg:flex items-center gap-2 ml-4",children:[a.jsx(hr,{className:"w-5 h-5 text-secondary"}),a.jsx("span",{className:"text-sm font-medium",children:t("member.center.sections.partner.title")}),p&&a.jsxs(a.Fragment,{children:[a.jsx(un,{className:"w-4 h-4 text-primary-foreground/60"}),a.jsx("span",{className:"text-sm text-primary-foreground/80",children:p.label})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(dc,{testId:"button-language-switcher-header"}),a.jsxs(C,{variant:"ghost",size:"sm",className:"hidden sm:flex text-primary-foreground gap-2",onClick:()=>s("/member"),"data-testid":"button-header-member",children:[a.jsx(Zn,{className:"w-4 h-4"}),t("member.center.backToCenter")]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rd,{className:"w-8 h-8 border border-secondary/50",children:a.jsx(Id,{className:"bg-secondary text-secondary-foreground text-sm",children:((b=(x=l==null?void 0:l.user_metadata)==null?void 0:x.first_name)==null?void 0:b.charAt(0))||((j=c==null?void 0:c.name)==null?void 0:j.charAt(0))||"U"})}),a.jsx("span",{className:"hidden md:block text-sm font-medium","data-testid":"text-user-name",children:(c==null?void 0:c.name)||((v=l==null?void 0:l.user_metadata)==null?void 0:v.first_name)||t("member.center.sections.partner.title")})]}),a.jsx(C,{variant:"ghost",size:"icon",className:"text-primary-foreground hidden lg:flex",onClick:g,"data-testid":"button-logout",children:a.jsx(Vf,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"lg:hidden flex items-center justify-center gap-2 py-2 bg-primary/90 border-t border-primary-foreground/10",children:p&&a.jsxs(a.Fragment,{children:[a.jsx(p.icon,{className:"w-4 h-4 text-secondary"}),a.jsx("span",{className:"text-sm font-medium",children:p.label})]})})]}),a.jsxs("div",{className:"flex",children:[a.jsx("aside",{className:"hidden lg:block w-64 border-r bg-card min-h-[calc(100vh-56px)] sticky top-14",children:a.jsx(f,{})}),a.jsx("main",{className:"flex-1 p-4 lg:p-8",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:e})})]})]})}function kR(){const{t:e}=ft(),{partner:t,member:n}=oa(),[r,s]=y.useState(!1),{data:i,isLoading:o}=Ae({queryKey:["partner-dashboard-stats",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{count:h}=await L.from("partners").select("*",{count:"exact",head:!0}).eq("referrer_id",t.id),{count:p}=await L.from("partners").select("*",{count:"exact",head:!0}).eq("referrer_id",t.id).eq("status","active"),g=new Date().toISOString().slice(0,7),{data:f}=await L.from("cash_wallet_ledger").select("amount").eq("partner_id",t.id).gte("created_at",`${g}-01`),x=(f==null?void 0:f.reduce((A,E)=>A+(E.amount>0?E.amount:0),0))||0,b=new Date;b.setMonth(b.getMonth()-1);const j=b.toISOString().slice(0,7),{data:v}=await L.from("cash_wallet_ledger").select("amount").eq("partner_id",t.id).gte("created_at",`${j}-01`).lt("created_at",`${g}-01`),N=(v==null?void 0:v.reduce((A,E)=>A+(E.amount>0?E.amount:0),0))||0,{data:w}=await L.from("cash_wallet_ledger").select("amount").eq("partner_id",t.id).gt("amount",0),P=(w==null?void 0:w.reduce((A,E)=>A+E.amount,0))||0,{count:k}=await L.from("cashback_blocked_records").select("*",{count:"exact",head:!0}).eq("partner_id",t.id),{data:_}=await L.from("bonus_pool_cycles").select("*").eq("status","active").order("created_at",{ascending:!1}).limit(1).single();let S=0,O="";if(_){const A=new Date(_.start_date),E=new Date(_.end_date),D=new Date,B=(E.getTime()-A.getTime())/(1e3*60*60*24),z=(D.getTime()-A.getTime())/(1e3*60*60*24);S=Math.min(100,Math.max(0,z/B*100)),O=_.end_date}return{totalReferrals:h||0,activeReferrals:p||0,monthlyEarnings:x,lastMonthEarnings:N,totalEarnings:P,blockedCashback:k||0,currentCycle:(_==null?void 0:_.cycle_number)||1,cycleProgress:S,nextPayout:O}},enabled:!!(t!=null&&t.id)}),l=h=>({phase1:e("member.partnerDashboard.tiers.phase1"),phase2:e("member.partnerDashboard.tiers.phase2"),phase3:e("member.partnerDashboard.tiers.phase3")})[h]||h,c=h=>`RM ${(h/100).toFixed(2)}`,d=i&&i.lastMonthEarnings>0?((i.monthlyEarnings-i.lastMonthEarnings)/i.lastMonthEarnings*100).toFixed(1):"0",u=i?i.monthlyEarnings>=i.lastMonthEarnings:!0,m=()=>{t!=null&&t.referralCode&&(navigator.clipboard.writeText(t.referralCode),s(!0),setTimeout(()=>s(!1),2e3))};return o?a.jsx(ao,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(ao,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-partner-dashboard-title",children:e("member.partnerDashboard.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("member.partnerDashboard.subtitle")})]}),a.jsx(W,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:a.jsx(ae,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary/20 flex items-center justify-center",children:a.jsx(hr,{className:"w-8 h-8 text-secondary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.currentTier")}),a.jsx("h2",{className:"text-2xl font-bold text-primary",children:l((t==null?void 0:t.tier)||"phase1")}),a.jsx(te,{className:"mt-1 bg-secondary/20 text-secondary",children:e("member.partnerDashboard.partnerBadge")})]})]}),a.jsxs("div",{className:"flex flex-col items-start md:items-end gap-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.myReferralCode")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("code",{className:"px-4 py-2 bg-background rounded-lg font-mono text-lg font-bold text-primary",children:(t==null?void 0:t.referralCode)||"--------"}),a.jsx(C,{size:"icon",variant:"outline",onClick:m,"data-testid":"button-copy-referral",children:r?a.jsx(qn,{className:"w-4 h-4 text-green-500"}):a.jsx(Oo,{className:"w-4 h-4"})})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(W,{"data-testid":"card-ly-balance",children:a.jsxs(ae,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(pa,{className:"w-5 h-5 text-primary"})}),a.jsx(te,{variant:"outline",className:"text-xs",children:e("member.partnerDashboard.lyPoints")})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-3xl font-bold text-foreground",children:((t==null?void 0:t.lyBalance)||0).toLocaleString()}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.lyBalance")})]})]})}),a.jsx(W,{"data-testid":"card-cash-balance",children:a.jsxs(ae,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center",children:a.jsx(bs,{className:"w-5 h-5 text-green-500"})}),a.jsx(te,{variant:"outline",className:"text-xs",children:e("member.partnerDashboard.cashWallet")})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-3xl font-bold text-foreground",children:c((t==null?void 0:t.cashWalletBalance)||0)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.cashBalance")})]})]})}),a.jsx(W,{"data-testid":"card-rwa-tokens",children:a.jsxs(ae,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center",children:a.jsx(Go,{className:"w-5 h-5 text-secondary"})}),a.jsx(te,{variant:"outline",className:"text-xs",children:e("member.partnerDashboard.rwaToken")})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-3xl font-bold text-foreground",children:(t==null?void 0:t.rwaTokens)||0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.rwaBalance")})]})]})}),a.jsx(W,{"data-testid":"card-referrals",children:a.jsxs(ae,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center",children:a.jsx(Tt,{className:"w-5 h-5 text-blue-500"})}),a.jsx(te,{variant:"outline",className:"text-xs",children:e("member.partnerDashboard.referralNetwork")})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-3xl font-bold text-foreground",children:(i==null?void 0:i.totalReferrals)||0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.activeMembers").replace("{count}",String((i==null?void 0:i.activeReferrals)||0))})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(W,{children:[a.jsxs($e,{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(La,{className:"w-5 h-5 text-primary"}),e("member.partnerDashboard.monthlyEarnings")]}),a.jsx(Ca,{children:e("member.partnerDashboard.earningsDesc")})]}),a.jsxs(ae,{children:[a.jsxs("div",{className:"flex items-end gap-4 mb-6",children:[a.jsx("p",{className:"text-4xl font-bold text-foreground",children:c((i==null?void 0:i.monthlyEarnings)||0)}),a.jsxs("div",{className:`flex items-center gap-1 text-sm ${u?"text-green-500":"text-red-500"}`,children:[u?a.jsx(En,{className:"w-4 h-4"}):a.jsx(is,{className:"w-4 h-4"}),d,"%"]})]}),a.jsx(Sr,{className:"my-4"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.totalEarnings")}),a.jsx("p",{className:"text-xl font-bold text-foreground",children:c((i==null?void 0:i.totalEarnings)||0)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.lastMonthEarnings")}),a.jsx("p",{className:"text-xl font-bold text-foreground",children:c((i==null?void 0:i.lastMonthEarnings)||0)})]})]})]})]}),a.jsxs(W,{children:[a.jsxs($e,{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(Go,{className:"w-5 h-5 text-secondary"}),e("member.partnerDashboard.rwaCycle")]}),a.jsx(Ca,{children:e("member.partnerDashboard.cycleDesc").replace("{cycle}",String((i==null?void 0:i.currentCycle)||1))})]}),a.jsx(ae,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.partnerDashboard.cycleProgress")}),a.jsxs("span",{className:"font-medium",children:[Math.round((i==null?void 0:i.cycleProgress)||0),"%"]})]}),a.jsx(Ld,{value:(i==null?void 0:i.cycleProgress)||0,className:"h-3"})]}),a.jsx(Sr,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.partnerDashboard.nextPayoutDate")}),a.jsx("p",{className:"font-medium text-foreground",children:(i==null?void 0:i.nextPayout)||"-"})]}),a.jsx(C,{variant:"outline",size:"sm","data-testid":"button-view-rwa",children:e("member.partnerDashboard.viewDetails")})]})]})})]})]}),a.jsxs(W,{children:[a.jsxs($e,{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(ca,{className:"w-5 h-5 text-primary"}),e("member.partnerDashboard.cashbackProgress")]}),a.jsx(Ca,{children:e("member.partnerDashboard.cashbackProgressDesc")})]}),a.jsx(ae,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.partnerDashboard.boxesProcessed")}),a.jsxs("span",{className:"font-medium",children:[(t==null?void 0:t.totalBoxesProcessed)||0," / ",((t==null?void 0:t.packagesPurchased)||1)*5]})]}),a.jsx(Ld,{value:Math.min(100,((t==null?void 0:t.totalBoxesProcessed)||0)/(((t==null?void 0:t.packagesPurchased)||1)*5)*100),className:"h-3"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:((t==null?void 0:t.totalBoxesProcessed)||0)<((t==null?void 0:t.packagesPurchased)||1)*5?e("member.partnerDashboard.currentRate50"):e("member.partnerDashboard.currentRate30")})]}),((i==null?void 0:i.blockedCashback)||0)>0&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-orange-500/10 rounded-lg",children:[a.jsx(Zi,{className:"w-4 h-4 text-orange-500"}),a.jsx("p",{className:"text-sm text-orange-500",children:e("member.partnerDashboard.blockedCashback").replace("{count}",String((i==null?void 0:i.blockedCashback)||0))})]})]})})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(oi,{className:"w-5 h-5 text-primary"}),e("member.partnerDashboard.quickActions")]})}),a.jsx(ae,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(C,{variant:"outline",className:"h-auto py-4 flex-col gap-2","data-testid":"button-share-materials",children:[a.jsx(gi,{className:"w-5 h-5"}),a.jsx("span",{children:e("member.partnerDashboard.promoMaterials")})]}),a.jsxs(C,{variant:"outline",className:"h-auto py-4 flex-col gap-2","data-testid":"button-invite-friends",children:[a.jsx(Tt,{className:"w-5 h-5"}),a.jsx("span",{children:e("member.partnerDashboard.inviteFriends")})]}),a.jsxs(C,{variant:"outline",className:"h-auto py-4 flex-col gap-2","data-testid":"button-withdraw",children:[a.jsx(bs,{className:"w-5 h-5"}),a.jsx("span",{children:e("member.partnerDashboard.withdraw")})]}),a.jsxs(C,{variant:"outline",className:"h-auto py-4 flex-col gap-2","data-testid":"button-upgrade",children:[a.jsx(zi,{className:"w-5 h-5"}),a.jsx("span",{children:e("member.partnerDashboard.upgradePlan")})]})]})})]})]})})}const Sge=e=>({images:[{id:1,title:e("member.materials.productPoster"),thumbnail:"/pics/love_young_brand_identity_20260106043554_1.png",size:"1080x1920"},{id:2,title:e("member.materials.brandStory"),thumbnail:"/pics/love_young_founders_story_20260106043351_1.png",size:"1200x630"},{id:3,title:e("member.materials.recruitPoster"),thumbnail:"/pics/love_young_digital_marketing_20260106043418_1.png",size:"1080x1920"},{id:4,title:e("member.materials.holidayPromo"),thumbnail:"/pics/love_young_community_impact_20260106043528_1.png",size:"1080x1080"}],documents:[{id:1,title:e("member.materials.productManual"),type:"PDF",size:"2.5 MB"},{id:2,title:e("member.materials.trainingMaterial"),type:"PDF",size:"5.2 MB"},{id:3,title:e("member.materials.faqDocument"),type:"PDF",size:"1.1 MB"},{id:4,title:e("member.materials.brandPpt"),type:"PPTX",size:"8.7 MB"}],videos:[{id:1,title:e("member.materials.brandVideo"),duration:"2:30",thumbnail:"/pics/love_young_brand_identity_20260106043554_1.png"},{id:2,title:e("member.materials.productProcess"),duration:"5:15",thumbnail:"/pics/craftsmanship_journey.webp"},{id:3,title:e("member.materials.successStory"),duration:"3:45",thumbnail:"/pics/partner_story_1.webp"}]});function Cge(){const{t:e}=ft(),t=Sge(e),{member:n,loading:r}=oa(),{toast:s}=Jt();y.useState(null);const i=(n==null?void 0:n.referralCode)||"",o=i?`${window.location.origin}/auth/login?ref=${i}`:"",l=async(u,m)=>{try{await navigator.clipboard.writeText(u),s({title:e("member.materials.copiedToClipboard")})}catch{s({title:e("member.materials.copyFailed"),variant:"destructive"})}},c=()=>{const u=`${e("member.materials.shareText").replace("{code}",i)}
${o}`;window.open(`https://wa.me/?text=${encodeURIComponent(u)}`,"_blank")},d=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(o)}`,"_blank")};return n?a.jsx(Pn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-materials-title",children:e("member.materials.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.materials.subtitle")})]}),a.jsx(W,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:a.jsxs(ae,{className:"p-4 sm:p-6 space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-11 h-11 sm:w-16 sm:h-16 rounded-xl bg-background flex items-center justify-center border-2 border-dashed border-primary/30 shrink-0",children:a.jsx(UB,{className:"w-5 h-5 sm:w-8 sm:h-8 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-base sm:text-lg",children:e("member.materials.myReferralLink")}),a.jsxs("p",{className:"text-muted-foreground text-xs sm:text-sm",children:[e("member.materials.referralCodeLabel"),": ",a.jsx("span",{className:"font-mono font-bold text-primary",children:i})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"flex-1 md:flex-none h-8 sm:h-9 px-2 sm:px-3",onClick:()=>l(i,e("member.materials.referralCodeLabel")),"data-testid":"button-copy-code",children:[a.jsx(Oo,{className:"w-3.5 h-3.5 mr-1 sm:mr-1.5 shrink-0"}),a.jsx("span",{className:"text-[10px] sm:text-sm truncate",children:e("member.materials.copyReferralCode")})]}),a.jsxs(C,{size:"sm",className:"flex-1 md:flex-none h-8 sm:h-9 px-2 sm:px-3 bg-green-500 hover:bg-green-600",onClick:c,"data-testid":"button-share-whatsapp",children:[a.jsx(gi,{className:"w-3.5 h-3.5 mr-1 sm:mr-1.5 shrink-0"}),a.jsx("span",{className:"text-[10px] sm:text-sm truncate",children:e("member.materials.shareWhatsApp")})]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground mb-1",children:e("member.materials.referralLinkLabel")}),a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[a.jsx(ce,{value:o,readOnly:!0,className:"font-mono text-[10px] sm:text-sm bg-background h-8 sm:h-9","data-testid":"input-referral-link"}),a.jsx(C,{variant:"outline",size:"icon",className:"h-8 w-8 sm:h-9 sm:w-9 shrink-0",onClick:()=>l(o,e("member.materials.referralLinkLabel")),"data-testid":"button-copy-link",children:a.jsx(Oo,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]})}),a.jsxs(ba,{defaultValue:"images",className:"space-y-4 sm:space-y-6",children:[a.jsxs(fa,{className:"grid w-full grid-cols-3",children:[a.jsxs(Ee,{value:"images",className:"gap-1.5 text-xs sm:text-sm","data-testid":"tab-images",children:[a.jsx(Os,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e("member.materials.tabs.images")]}),a.jsxs(Ee,{value:"documents",className:"gap-1.5 text-xs sm:text-sm","data-testid":"tab-documents",children:[a.jsx(Mo,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e("member.materials.tabs.documents")]}),a.jsxs(Ee,{value:"videos",className:"gap-1.5 text-xs sm:text-sm","data-testid":"tab-videos",children:[a.jsx(dD,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e("member.materials.tabs.videos")]})]}),a.jsx(At,{value:"images",children:a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4",children:t.images.map(u=>a.jsxs(W,{className:"overflow-hidden","data-testid":`card-image-${u.id}`,children:[a.jsx("div",{className:"aspect-[3/4] sm:aspect-[9/16] bg-muted overflow-hidden",children:a.jsx("img",{src:u.thumbnail,alt:u.title,className:"w-full h-full object-cover"})}),a.jsxs(ae,{className:"p-2.5 sm:p-4",children:[a.jsx("h4",{className:"font-medium text-xs sm:text-sm mb-0.5 sm:mb-1 truncate",children:u.title}),a.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mb-2 sm:mb-3",children:u.size}),a.jsxs("div",{className:"flex gap-1.5 sm:gap-2",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"flex-1 h-7 sm:h-9 text-[10px] sm:text-xs px-1.5 sm:px-3",children:[a.jsx(Do,{className:"w-3 h-3 mr-0.5 sm:mr-1 shrink-0"}),a.jsx("span",{className:"truncate",children:e("member.materials.download")})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"flex-1 h-7 sm:h-9 text-[10px] sm:text-xs px-1.5 sm:px-3",onClick:()=>{const m=`${e("member.materials.itemShareText").replace("{title}",u.title).replace("{code}",i)}
${o}`;window.open(`https://wa.me/?text=${encodeURIComponent(m)}`,"_blank")},children:[a.jsx(gi,{className:"w-3 h-3 mr-0.5 sm:mr-1 shrink-0"}),a.jsx("span",{className:"truncate",children:e("member.materials.share")})]})]})]})]},u.id))})}),a.jsx(At,{value:"documents",children:a.jsx("div",{className:"space-y-2 sm:space-y-0",children:t.documents.map(u=>a.jsx(W,{"data-testid":`card-document-${u.id}`,className:"sm:rounded-none sm:border-x-0 sm:border-t-0 sm:shadow-none sm:last:border-b-0",children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-4 mb-2 sm:mb-0",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(Mo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-xs sm:text-base truncate",children:u.title}),a.jsxs("p",{className:"text-[10px] sm:text-sm text-muted-foreground",children:[u.type,"  ",u.size]})]}),a.jsxs("div",{className:"hidden sm:flex gap-1.5 shrink-0",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"h-9 px-3",children:[a.jsx(Zl,{className:"w-4 h-4 mr-1"}),e("member.materials.preview")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-9 px-3",children:[a.jsx(Do,{className:"w-4 h-4 mr-1"}),e("member.materials.download")]})]})]}),a.jsxs("div",{className:"flex gap-2 sm:hidden",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"flex-1 h-7 text-[10px]",children:[a.jsx(Zl,{className:"w-3 h-3 mr-1 shrink-0"}),e("member.materials.preview")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"flex-1 h-7 text-[10px]",children:[a.jsx(Do,{className:"w-3 h-3 mr-1 shrink-0"}),e("member.materials.download")]})]})]})},u.id))})}),a.jsx(At,{value:"videos",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 sm:gap-4",children:t.videos.map(u=>a.jsxs(W,{className:"overflow-hidden","data-testid":`card-video-${u.id}`,children:[a.jsxs("div",{className:"aspect-video bg-muted overflow-hidden relative",children:[a.jsx("img",{src:u.thumbnail,alt:u.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:a.jsx("div",{className:"w-9 h-9 sm:w-12 sm:h-12 rounded-full bg-white/90 flex items-center justify-center",children:a.jsx(dD,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})})}),a.jsx(te,{className:"absolute bottom-1.5 right-1.5 sm:bottom-2 sm:right-2 bg-black/70 text-[10px] sm:text-xs",children:u.duration})]}),a.jsxs(ae,{className:"p-2.5 sm:p-4",children:[a.jsx("h4",{className:"font-medium text-xs sm:text-sm mb-2 sm:mb-3 truncate",children:u.title}),a.jsxs("div",{className:"flex gap-1.5 sm:gap-2",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"flex-1 h-7 sm:h-9 text-[10px] sm:text-xs px-1.5 sm:px-3",children:[a.jsx(Zl,{className:"w-3 h-3 mr-0.5 sm:mr-1 shrink-0"}),a.jsx("span",{className:"truncate",children:e("member.materials.play")})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"flex-1 h-7 sm:h-9 text-[10px] sm:text-xs px-1.5 sm:px-3",onClick:()=>{const m=`${e("member.materials.itemShareText").replace("{title}",u.title).replace("{code}",i)}
${o}`;window.open(`https://wa.me/?text=${encodeURIComponent(m)}`,"_blank")},children:[a.jsx(gi,{className:"w-3 h-3 mr-0.5 sm:mr-1 shrink-0"}),a.jsx("span",{className:"truncate",children:e("member.materials.share")})]})]})]})]},u.id))})})]}),a.jsxs(W,{children:[a.jsxs($e,{className:"p-4 sm:p-6",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(KB,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("member.materials.socialShare")]}),a.jsx(Ca,{className:"text-xs sm:text-sm",children:e("member.materials.socialShareDesc")})]}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[a.jsxs(C,{variant:"outline",className:"h-auto py-3 sm:py-4 flex-col gap-1.5 sm:gap-2 bg-green-500/5 border-green-500/20 hover:bg-green-500/10",onClick:c,children:[a.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-green-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-base sm:text-lg",children:"W"})}),a.jsx("span",{className:"text-xs sm:text-sm",children:"WhatsApp"})]}),a.jsxs(C,{variant:"outline",className:"h-auto py-3 sm:py-4 flex-col gap-1.5 sm:gap-2 bg-blue-500/5 border-blue-500/20 hover:bg-blue-500/10",onClick:d,children:[a.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-blue-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-base sm:text-lg",children:"F"})}),a.jsx("span",{className:"text-xs sm:text-sm",children:"Facebook"})]}),a.jsxs(C,{variant:"outline",className:"h-auto py-3 sm:py-4 flex-col gap-1.5 sm:gap-2 bg-pink-500/5 border-pink-500/20 hover:bg-pink-500/10",onClick:()=>l(o,e("member.materials.referralLinkLabel")),children:[a.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-gradient-to-br from-pink-500 to-orange-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-base sm:text-lg",children:"I"})}),a.jsx("span",{className:"text-xs sm:text-sm",children:"Instagram"})]}),a.jsxs(C,{variant:"outline",className:"h-auto py-3 sm:py-4 flex-col gap-1.5 sm:gap-2 bg-red-500/5 border-red-500/20 hover:bg-red-500/10",onClick:()=>l(o,e("member.materials.referralLinkLabel")),children:[a.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-red-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-base sm:text-lg",children:""})}),a.jsx("span",{className:"text-xs sm:text-sm",children:""})]})]})})]})]})}):r?a.jsx(Pn,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(Pn,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[a.jsx(gi,{className:"w-16 h-16 text-muted-foreground/40 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:e("member.materials.notMember")}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-sm",children:e("member.materials.notMemberDesc")}),a.jsx("a",{href:"/#products",children:a.jsx(C,{children:e("member.materials.goShopping")})})]})})}function Age(){const{t:e}=ft(),{partner:t}=oa(),{data:n=[],isLoading:r}=Ae({queryKey:["partner-ly-ledger",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:o,error:l}=await L.from("ly_points_ledger").select("*").eq("partner_id",t.id).order("created_at",{ascending:!1}).limit(100);return l?(console.error("Error fetching LY ledger:",l),[]):(o||[]).map(c=>({id:c.id,type:c.type,points:c.points,description:c.description||"",createdAt:c.created_at}))},enabled:!!(t!=null&&t.id)}),s={totalBalance:(t==null?void 0:t.lyBalance)||0,totalEarned:n.filter(o=>o.points>0).reduce((o,l)=>o+l.points,0),totalSpent:Math.abs(n.filter(o=>o.points<0).reduce((o,l)=>o+l.points,0)),fromNetwork:n.filter(o=>o.type==="replenish").reduce((o,l)=>o+l.points,0)},i=o=>o?new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-";return r?a.jsx(ao,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(ao,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-ly-points-title",children:e("member.lyPoints.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.lyPoints.subtitle")})]}),a.jsx(W,{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:a.jsx(ae,{className:"p-4 sm:p-6",children:a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 sm:gap-6",children:a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-secondary/20 flex items-center justify-center shrink-0",children:a.jsx(pa,{className:"w-6 h-6 sm:w-8 sm:h-8 text-secondary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("member.lyPoints.currentBalance")}),a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-primary",children:s.totalBalance.toLocaleString()})]})]})})})}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1 sm:mb-2",children:[a.jsx(La,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-500 shrink-0"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground leading-tight truncate",children:e("member.lyPoints.totalEarned")})]}),a.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:["+",s.totalEarned.toLocaleString()]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1 sm:mb-2",children:[a.jsx(is,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-orange-500 shrink-0"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground leading-tight truncate",children:e("member.lyPoints.totalSpent")})]}),a.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-orange-500",children:["-",s.totalSpent.toLocaleString()]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1 sm:mb-2",children:[a.jsx(Tt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-primary shrink-0"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground leading-tight truncate",children:""})]}),a.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-primary",children:["+",s.fromNetwork.toLocaleString()]})]})})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(XC,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary shrink-0"}),e("member.lyPoints.history")]}),a.jsx(Ca,{className:"text-xs sm:text-sm",children:e("member.lyPoints.historyDesc")})]}),a.jsxs("div",{className:"flex gap-1.5 sm:gap-2 shrink-0",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"h-8 px-2 sm:px-3","data-testid":"button-filter-ledger",children:[a.jsx(QC,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline ml-1",children:e("member.lyPoints.filter")})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-8 px-2 sm:px-3","data-testid":"button-export-ledger",children:[a.jsx(Do,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline ml-1",children:e("member.lyPoints.export")})]})]})]})}),a.jsx(ae,{children:a.jsxs(ba,{defaultValue:"all",children:[a.jsxs(fa,{className:"mb-4",children:[a.jsx(Ee,{value:"all","data-testid":"tab-all-ledger",children:e("member.lyPoints.tabs.all")}),a.jsx(Ee,{value:"earn","data-testid":"tab-earn",children:e("member.lyPoints.tabs.earn")}),a.jsx(Ee,{value:"spend","data-testid":"tab-spend",children:e("member.lyPoints.tabs.spend")})]}),a.jsxs(At,{value:"all",className:"space-y-0",children:[a.jsx("div",{className:"divide-y",children:n.map(o=>a.jsxs("div",{className:"flex items-center justify-between py-3 sm:py-4 gap-3","data-testid":`ledger-item-${o.id}`,children:[a.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-4 min-w-0",children:[a.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center shrink-0 ${o.points>0?"bg-green-500/10":"bg-orange-500/10"}`,children:o.points>0?a.jsx(En,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"}):a.jsx(is,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:o.description||o.type}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:i(o.createdAt)})]})]}),a.jsx("div",{className:"text-right shrink-0",children:a.jsxs("p",{className:`font-bold text-sm sm:text-base ${o.points>0?"text-green-500":"text-orange-500"}`,children:[o.points>0?"+":"",o.points.toLocaleString()]})})]},o.id))}),n.length===0&&a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(pa,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:e("member.lyPoints.noRecords")})]})]}),a.jsx(At,{value:"earn",className:"space-y-0",children:a.jsx("div",{className:"divide-y",children:n.filter(o=>o.points>0).map(o=>a.jsxs("div",{className:"flex items-center justify-between py-3 sm:py-4 gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-4 min-w-0",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:a.jsx(En,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:o.description||o.type}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:i(o.createdAt)})]})]}),a.jsx("div",{className:"text-right shrink-0",children:a.jsxs("p",{className:"font-bold text-sm sm:text-base text-green-500",children:["+",o.points.toLocaleString()]})})]},o.id))})}),a.jsx(At,{value:"spend",className:"space-y-0",children:a.jsx("div",{className:"divide-y",children:n.filter(o=>o.points<0).map(o=>a.jsxs("div",{className:"flex items-center justify-between py-3 sm:py-4 gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2.5 sm:gap-4 min-w-0",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-orange-500/10 flex items-center justify-center shrink-0",children:a.jsx(is,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:o.description||o.type}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:i(o.createdAt)})]})]}),a.jsx("div",{className:"text-right shrink-0",children:a.jsx("p",{className:"font-bold text-sm sm:text-base text-orange-500",children:o.points.toLocaleString()})})]},o.id))})})]})})]}),a.jsx(W,{className:"bg-muted/30",children:a.jsxs(ae,{className:"p-4 sm:p-6",children:[a.jsx("h3",{className:"font-bold text-sm sm:text-base mb-3 sm:mb-4",children:e("member.lyPoints.rulesTitle")}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(te,{variant:"outline",className:"text-xs",children:e("member.lyPoints.earnBadge")}),e("member.lyPoints.ruleEarn1")]}),a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(te,{variant:"outline",className:"text-xs",children:e("member.lyPoints.earnBadge")}),e("member.lyPoints.ruleEarn2")]}),a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(te,{variant:"outline",className:"text-xs",children:e("member.lyPoints.earnBadge")}),e("member.lyPoints.ruleEarn3")]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(te,{variant:"outline",className:"text-xs",children:e("member.lyPoints.useBadge")}),e("member.lyPoints.ruleUse1")]}),a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(te,{variant:"outline",className:"text-xs",children:e("member.lyPoints.useBadge")}),e("member.lyPoints.ruleUse2")]}),a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(te,{variant:"outline",className:"text-xs",children:e("member.lyPoints.noteBadge")}),e("member.lyPoints.ruleNote")]})]})]})]})})]})})}const PR={completed:{icon:Le,color:"text-green-500"},pending:{icon:Ht,color:"text-orange-500"},failed:{icon:ms,color:"text-red-500"}};function Tge(){const{t:e}=ft(),{partner:t}=oa(),{toast:n}=Jt(),[r,s]=y.useState(""),[i,o]=y.useState(!1),[l,c]=y.useState(""),[d,u]=y.useState(!1),[m,h]=y.useState({bankName:"",accountNumber:"",accountName:""}),{data:p=[],isLoading:g}=Ae({queryKey:["partner-wallet-transactions",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:O,error:A}=await L.from("cash_wallet_ledger").select("*").eq("partner_id",t.id).order("created_at",{ascending:!1}).limit(50);return A?(console.error("Error fetching transactions:",A),[]):(O||[]).map(E=>({id:E.id,type:E.type,amount:E.amount,description:E.description||"",status:E.status,createdAt:E.created_at}))},enabled:!!(t!=null&&t.id)}),{data:f=[],isLoading:x}=Ae({queryKey:["partner-bank-accounts",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:O,error:A}=await L.from("partner_bank_accounts").select("*").eq("partner_id",t.id).order("is_default",{ascending:!1});return A?(console.error("Error fetching bank accounts:",A),[]):O||[]},enabled:!!(t!=null&&t.id)}),{data:b=[]}=Ae({queryKey:["partner-pending-withdrawals",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:O}=await L.from("withdrawal_requests").select("*").eq("partner_id",t.id).eq("status","pending");return O||[]},enabled:!!(t!=null&&t.id)}),j=Ce({mutationFn:async()=>{if(!(t!=null&&t.id))throw new Error("Not authenticated");const{error:O}=await L.from("partner_bank_accounts").insert({partner_id:t.id,bank_name:m.bankName,account_number:m.accountNumber,account_name:m.accountName,is_default:f.length===0});if(O)throw O},onSuccess:()=>{on.invalidateQueries({queryKey:["partner-bank-accounts"]}),n({title:e("member.wallet.bankSaved")}),u(!1),h({bankName:"",accountNumber:"",accountName:""})},onError:O=>{n({title:e("member.wallet.withdrawFailed"),description:O.message,variant:"destructive"})}}),v=Ce({mutationFn:async O=>{const{error:A}=await L.from("partner_bank_accounts").delete().eq("id",O);if(A)throw A},onSuccess:()=>{on.invalidateQueries({queryKey:["partner-bank-accounts"]}),n({title:e("member.wallet.bankDeleted")})}}),N=Ce({mutationFn:async O=>{if(!(t!=null&&t.id))return;const{error:A}=await L.from("partner_bank_accounts").update({is_default:!0}).eq("id",O);if(A)throw A},onSuccess:()=>on.invalidateQueries({queryKey:["partner-bank-accounts"]})}),w=Ce({mutationFn:async O=>{if(!(t!=null&&t.id))throw new Error("Not authenticated");const A=f.find(D=>D.id===l),{error:E}=await L.from("withdrawal_requests").insert({partner_id:t.id,amount:O*100,bank_name:(A==null?void 0:A.bank_name)||"",account_number:(A==null?void 0:A.account_number)||"",account_name:(A==null?void 0:A.account_name)||"",status:"pending"});if(E)throw E},onSuccess:()=>{on.invalidateQueries({queryKey:["partner-pending-withdrawals"]}),n({title:e("member.wallet.withdrawSuccess"),description:e("member.wallet.withdrawSuccessDesc")}),o(!1),s("")},onError:O=>{n({title:e("member.wallet.withdrawFailed"),description:O.message,variant:"destructive"})}}),P={availableBalance:((t==null?void 0:t.cashWalletBalance)||0)/100,pendingWithdraw:b.reduce((O,A)=>O+A.amount,0)/100,totalIncome:p.filter(O=>O.amount>0).reduce((O,A)=>O+A.amount,0)/100,totalWithdrawn:Math.abs(p.filter(O=>O.type==="withdraw").reduce((O,A)=>O+A.amount,0))/100,thisMonthIncome:p.filter(O=>{var A;return O.amount>0&&((A=O.createdAt)==null?void 0:A.startsWith(new Date().toISOString().slice(0,7)))}).reduce((O,A)=>O+A.amount,0)/100},k=O=>O?new Date(O).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",_=O=>O.length<=4?O:"****"+O.slice(-4),S=()=>{const O=parseFloat(r);if(isNaN(O)||O<50){n({title:e("member.wallet.invalidAmount"),description:e("member.wallet.minAmountMsg"),variant:"destructive"});return}if(O>P.availableBalance){n({title:e("member.wallet.insufficientBalance"),description:e("member.wallet.exceedsBalanceMsg"),variant:"destructive"});return}if(!l&&f.length>0){n({title:e("member.wallet.bindBankFirst"),variant:"destructive"});return}w.mutate(O)};if(!l&&f.length>0){const O=f.find(A=>A.is_default)||f[0];O&&c(O.id)}return g?a.jsx(ao,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(ao,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-wallet-title",children:e("member.wallet.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("member.wallet.subtitle")})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(W,{className:"lg:col-span-2 bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:a.jsx(ae,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e("member.wallet.availableBalance")}),a.jsxs("h2",{className:"text-4xl font-bold text-primary",children:["RM ",P.availableBalance.toFixed(2)]}),P.pendingWithdraw>0&&a.jsxs("p",{className:"text-sm text-orange-500 mt-2 flex items-center gap-1",children:[a.jsx(Ht,{className:"w-4 h-4"}),"RM ",P.pendingWithdraw.toFixed(2)," ",e("member.wallet.pendingWithdraw")]})]}),a.jsxs(et,{open:i,onOpenChange:o,children:[a.jsx(_b,{asChild:!0,children:a.jsxs(C,{size:"lg","data-testid":"button-withdraw",children:[a.jsx(bs,{className:"w-4 h-4 mr-2"}),e("member.wallet.applyWithdraw")]})}),a.jsxs(Ye,{children:[a.jsxs(Je,{children:[a.jsx(Qe,{children:e("member.wallet.withdrawTitle")}),a.jsx(ht,{children:e("member.wallet.withdrawDesc")})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{children:e("member.wallet.withdrawAmount")}),a.jsx(ce,{type:"number",placeholder:e("member.wallet.withdrawPlaceholder"),value:r,onChange:O=>s(O.target.value),"data-testid":"input-withdraw-amount"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("member.wallet.availableBalanceLabel"),": RM ",P.availableBalance.toFixed(2)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{children:e("member.wallet.selectBankForWithdraw")}),f.length>0?a.jsxs(tt,{value:l,onValueChange:c,children:[a.jsx(Xe,{children:a.jsx(at,{placeholder:e("member.wallet.selectBankForWithdraw")})}),a.jsx(Ze,{children:f.map(O=>a.jsxs(ge,{value:O.id,children:[O.bank_name," - ",_(O.account_number)," (",O.account_name,")"]},O.id))})]}):a.jsxs("div",{className:"p-3 bg-muted rounded-lg flex items-center gap-3",children:[a.jsx(cs,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e("member.wallet.bindBankFirst")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.wallet.contactToAdd")})]})]})]}),a.jsxs("div",{className:"p-3 bg-orange-500/10 rounded-lg flex items-start gap-2",children:[a.jsx(Zi,{className:"w-4 h-4 text-orange-500 mt-0.5"}),a.jsx("p",{className:"text-sm text-orange-500",children:e("member.wallet.minWithdrawNote")})]})]}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>o(!1),children:e("member.wallet.cancel")}),a.jsxs(C,{onClick:S,disabled:w.isPending||f.length>0&&!l,"data-testid":"button-confirm-withdraw",children:[w.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("member.wallet.confirmWithdraw")]})]})]})]})]})})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:e("member.wallet.thisMonthIncome")}),a.jsx(La,{className:"w-4 h-4 text-green-500"})]}),a.jsxs("p",{className:"text-2xl font-bold text-green-500",children:["+RM ",P.thisMonthIncome.toFixed(2)]}),a.jsx(Sr,{}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.wallet.totalIncome")}),a.jsxs("p",{className:"font-bold",children:["RM ",P.totalIncome.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.wallet.totalWithdrawn")}),a.jsxs("p",{className:"font-bold",children:["RM ",P.totalWithdrawn.toFixed(2)]})]})]})]})})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(In,{className:"w-5 h-5 text-primary"}),e("member.wallet.bankAccount")]}),a.jsx(Ca,{children:e("member.wallet.bankAccountDesc")})]}),a.jsxs(et,{open:d,onOpenChange:u,children:[a.jsx(_b,{asChild:!0,children:a.jsxs(C,{variant:"outline",className:"gap-2","data-testid":"button-add-bank",children:[a.jsx(zt,{className:"w-4 h-4"}),e("member.wallet.addBankAccount")]})}),a.jsxs(Ye,{children:[a.jsx(Je,{children:a.jsx(Qe,{children:e("member.wallet.addBankAccount")})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{children:e("member.wallet.bankName")}),a.jsx(ce,{placeholder:e("member.wallet.bankNamePlaceholder"),value:m.bankName,onChange:O=>h(A=>({...A,bankName:O.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{children:e("member.wallet.accountNumber")}),a.jsx(ce,{placeholder:e("member.wallet.accountNumberPlaceholder"),value:m.accountNumber,onChange:O=>h(A=>({...A,accountNumber:O.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{children:e("member.wallet.accountName")}),a.jsx(ce,{placeholder:e("member.wallet.accountNamePlaceholder"),value:m.accountName,onChange:O=>h(A=>({...A,accountName:O.target.value}))})]})]}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>u(!1),children:e("member.wallet.cancel")}),a.jsxs(C,{onClick:()=>j.mutate(),disabled:j.isPending||!m.bankName||!m.accountNumber||!m.accountName,children:[j.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("member.wallet.saveBankAccount")]})]})]})]})]})}),a.jsx(ae,{children:x?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):f.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(cs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:e("member.wallet.noBankAccount")}),a.jsx("p",{className:"text-sm",children:e("member.wallet.contactForBank")})]}):a.jsx("div",{className:"space-y-3",children:f.map(O=>a.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg ${O.is_default?"border-secondary bg-secondary/5":""}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(cs,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:O.bank_name}),O.is_default&&a.jsxs(te,{className:"bg-secondary text-secondary-foreground gap-1 text-xs",children:[a.jsx(pa,{className:"w-3 h-3"}),e("member.wallet.defaultBadge")]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[_(O.account_number),"  ",O.account_name]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!O.is_default&&a.jsx(C,{variant:"outline",size:"sm",onClick:()=>N.mutate(O.id),disabled:N.isPending,children:e("member.wallet.setDefault")}),a.jsx(C,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600",onClick:()=>{confirm(e("member.wallet.confirmDeleteBank"))&&v.mutate(O.id)},disabled:v.isPending,children:a.jsx(Ut,{className:"w-4 h-4"})})]})]},O.id))})})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(XC,{className:"w-5 h-5 text-primary"}),e("member.wallet.transactions")]}),a.jsx(Ca,{children:e("member.wallet.transactionsDesc")})]}),a.jsxs(C,{variant:"outline",size:"sm","data-testid":"button-export-transactions",children:[a.jsx(Do,{className:"w-4 h-4 mr-1"}),e("member.wallet.exportRecords")]})]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"divide-y",children:p.map(O=>{const A=PR[O.status]||PR.completed,E=A.icon,D=O.amount>0;return a.jsxs("div",{className:"flex items-center justify-between py-4","data-testid":`transaction-${O.id}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${D?"bg-green-500/10":"bg-blue-500/10"}`,children:D?a.jsx(En,{className:"w-5 h-5 text-green-500"}):a.jsx(is,{className:"w-5 h-5 text-blue-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:O.description||O.type}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:k(O.createdAt)}),a.jsxs(te,{variant:"outline",className:`text-xs ${A.color}`,children:[a.jsx(E,{className:"w-3 h-3 mr-1"}),e(`member.wallet.status.${O.status}`)]})]})]})]}),a.jsxs("p",{className:`font-bold ${D?"text-green-500":"text-foreground"}`,children:[D?"+":"","RM ",Math.abs(O.amount/100).toFixed(2)]})]},O.id)})}),p.length===0&&a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(bs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:e("member.wallet.noTransactions")})]})]})]})]})})}function Ege(){const{t:e}=ft(),{partner:t}=oa(),{data:n=[],isLoading:r}=Ae({queryKey:["bonus-pool-cycles"],queryFn:async()=>{const{data:h,error:p}=await L.from("bonus_pool_cycles").select("*").order("cycle_number",{ascending:!1}).limit(10);return p?(console.error("Error fetching cycles:",p),[]):(h||[]).map(g=>({id:g.id,cycleNumber:g.cycle_number,status:g.status,startDate:g.start_date,endDate:g.end_date,poolAmount:g.pool_amount||0,totalTokens:g.total_tokens||0}))}}),{data:s=[],isLoading:i}=Ae({queryKey:["partner-rwa-history",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:h,error:p}=await L.from("rwa_token_ledger").select("*").eq("partner_id",t.id).order("created_at",{ascending:!1}).limit(20);return p?(console.error("Error fetching token history:",p),[]):(h||[]).map(g=>({id:g.id,tokens:g.tokens,source:g.source,createdAt:g.created_at}))},enabled:!!(t!=null&&t.id)}),o=n.find(h=>h.status==="active"),l={totalTokens:(t==null?void 0:t.rwaTokens)||0,totalDividends:0,currentCycleEstimate:0,avgDividendPerToken:0};o&&o.totalTokens>0&&l.totalTokens>0&&(l.currentCycleEstimate=o.poolAmount/o.totalTokens*l.totalTokens/100,l.avgDividendPerToken=o.poolAmount/o.totalTokens/100);const c=h=>{if(h.status!=="active")return 100;const p=new Date(h.startDate).getTime(),g=new Date(h.endDate).getTime(),f=Date.now();return Math.min(100,Math.max(0,(f-p)/(g-p)*100))},d=h=>h?h.split("T")[0]:"-",u=h=>({package:e("member.rwa.sourcePackage"),network_order:e("member.rwa.sourceNetworkOrder"),milestone:e("member.rwa.sourceMilestone"),referral:e("member.rwa.sourceReferral")})[h]||h;return r||i?a.jsx(ao,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(ao,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-rwa-title",children:e("member.rwa.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("member.rwa.subtitle")})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(W,{className:"lg:col-span-2 bg-gradient-to-r from-secondary/10 to-primary/10 border-secondary/20",children:a.jsxs(ae,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary/20 flex items-center justify-center",children:a.jsx(Go,{className:"w-6 h-6 text-secondary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.rwa.myTokens")}),a.jsxs("h2",{className:"text-3xl font-bold text-primary",children:[l.totalTokens," ",a.jsx("span",{className:"text-lg font-normal",children:e("member.rwa.tokenUnit")})]})]})]}),a.jsx(te,{className:"bg-secondary/20 text-secondary",children:e("member.rwa.activeHolding")})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-background/50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-secondary",children:["RM ",l.totalDividends.toFixed(0)]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.rwa.totalDividends")})]}),a.jsxs("div",{className:"text-center p-3 bg-background/50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-primary",children:["RM ",l.currentCycleEstimate.toFixed(0)]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.rwa.currentEstimate")})]}),a.jsxs("div",{className:"text-center p-3 bg-background/50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["RM ",l.avgDividendPerToken.toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("member.rwa.avgPerToken")})]})]})]})}),a.jsxs(W,{children:[a.jsx($e,{className:"pb-3",children:a.jsxs(Ie,{className:"text-lg flex items-center gap-2",children:[a.jsx(Ht,{className:"w-4 h-4 text-primary"}),e("member.rwa.currentCycle")]})}),a.jsx(ae,{children:o?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(te,{children:e("member.rwa.cycle").replace("{n}",String(o.cycleNumber))}),a.jsx(te,{variant:"outline",className:"text-green-500 border-green-500",children:e("member.rwa.active")})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-muted-foreground",children:e("member.rwa.cycleProgress")}),a.jsxs("span",{className:"font-medium",children:[Math.round(c(o)),"%"]})]}),a.jsx(Ld,{value:c(o),className:"h-2"})]}),a.jsx(Sr,{}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:e("member.rwa.startDate")}),a.jsx("p",{className:"font-medium",children:d(o.startDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:e("member.rwa.endDate")}),a.jsx("p",{className:"font-medium",children:d(o.endDate)})]})]}),a.jsxs("div",{className:"p-3 bg-secondary/10 rounded-lg text-center",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:e("member.rwa.currentPool")}),a.jsxs("p",{className:"text-xl font-bold text-secondary",children:["RM ",(o.poolAmount/100).toLocaleString()]})]})]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ht,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:e("member.rwa.noCycle")})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(W,{children:[a.jsxs($e,{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(jn,{className:"w-5 h-5 text-primary"}),e("member.rwa.cycleHistory")]}),a.jsx(Ca,{children:e("member.rwa.cycleHistoryDesc")})]}),a.jsx(ae,{children:a.jsx("div",{className:"space-y-4",children:n.length>0?n.map(h=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors","data-testid":`cycle-${h.cycleNumber}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${h.status==="active"?"bg-green-500/10":"bg-muted"}`,children:h.status==="active"?a.jsx(Ht,{className:"w-5 h-5 text-green-500"}):a.jsx(Le,{className:"w-5 h-5 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium",children:e("member.rwa.cycle").replace("{n}",String(h.cycleNumber))}),h.status==="active"&&a.jsx(te,{className:"bg-green-500/10 text-green-500 text-xs",children:e("member.rwa.active")})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[d(h.startDate)," ~ ",d(h.endDate)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-secondary",children:["RM ",(h.poolAmount/100).toFixed(2)]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.totalTokens||0," ",e("member.rwa.tokensParticipated")]})]})]},h.id)):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(jn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:e("member.rwa.noCycles")})]})})})]}),a.jsxs(W,{children:[a.jsxs($e,{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(ab,{className:"w-5 h-5 text-secondary"}),e("member.rwa.tokenHistory")]}),a.jsx(Ca,{children:e("member.rwa.tokenHistoryDesc")})]}),a.jsx(ae,{children:a.jsx("div",{className:"space-y-3",children:s.length>0?s.map(h=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-0","data-testid":`token-history-${h.id}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary/10 flex items-center justify-center",children:a.jsx(Go,{className:"w-4 h-4 text-secondary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:u(h.source)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d(h.createdAt)})]})]}),a.jsxs(te,{className:"bg-secondary/20 text-secondary",children:["+",h.tokens," ",e("member.rwa.tokenUnit")]})]},h.id)):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ab,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:e("member.rwa.noTokens")})]})})})]})]}),a.jsx(W,{className:"bg-muted/30",children:a.jsx(ae,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(ux,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-2",children:e("member.rwa.howItWorks")}),a.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[a.jsx("p",{children:e("member.rwa.rule1")}),a.jsx("p",{children:e("member.rwa.rule2")}),a.jsx("p",{children:e("member.rwa.rule3")}),a.jsx("p",{children:e("member.rwa.rule4")})]})]})]})})})]})})}const Dy={cashback:{icon:Cr,color:"text-green-500",bgColor:"bg-green-500/10"},pool_reward:{icon:Go,color:"text-secondary",bgColor:"bg-secondary/10"},referral:{icon:Tt,color:"text-blue-500",bgColor:"bg-blue-500/10"},income:{icon:La,color:"text-green-500",bgColor:"bg-green-500/10"}};function Oge(){const{t:e}=ft(),{partner:t}=oa(),n={cashback:e("member.earnings.cashback"),pool_reward:e("member.earnings.rwaDividend"),referral:e("member.earnings.referralReward"),income:e("member.earnings.income")},{data:r=[],isLoading:s}=Ae({queryKey:["partner-earnings",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{data:m,error:h}=await L.from("cash_wallet_ledger").select("*").eq("partner_id",t.id).gt("amount",0).order("created_at",{ascending:!1}).limit(100);return h?(console.error("Error fetching earnings:",h),[]):(m||[]).map(p=>({id:p.id,type:p.type,amount:p.amount,description:p.description||"",source:p.reference_type||p.type,createdAt:p.created_at}))},enabled:!!(t!=null&&t.id)}),i=new Date().toISOString().slice(0,7),o=new Date;o.setMonth(o.getMonth()-1);const l=o.toISOString().slice(0,7),c={totalEarnings:r.reduce((m,h)=>m+h.amount,0)/100,thisMonthEarnings:r.filter(m=>{var h;return(h=m.createdAt)==null?void 0:h.startsWith(i)}).reduce((m,h)=>m+h.amount,0)/100,lastMonthEarnings:r.filter(m=>{var h;return(h=m.createdAt)==null?void 0:h.startsWith(l)}).reduce((m,h)=>m+h.amount,0)/100,cashbackTotal:r.filter(m=>m.type==="cashback").reduce((m,h)=>m+h.amount,0)/100,rwaTotal:r.filter(m=>m.type==="pool_reward").reduce((m,h)=>m+h.amount,0)/100,referralTotal:r.filter(m=>m.type==="referral").reduce((m,h)=>m+h.amount,0)/100},d=c.lastMonthEarnings>0?((c.thisMonthEarnings-c.lastMonthEarnings)/c.lastMonthEarnings*100).toFixed(1):"0",u=m=>m?new Date(m).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-";return s?a.jsx(ao,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(ao,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-earnings-title",children:e("member.earnings.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("member.earnings.subtitle")})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[a.jsx(W,{className:"lg:col-span-2 bg-gradient-to-r from-primary/10 to-secondary/10 border-primary/20",children:a.jsx(ae,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e("member.earnings.totalEarnings")}),a.jsxs("h2",{className:"text-4xl font-bold text-primary",children:["RM ",c.totalEarnings.toFixed(2)]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsxs(te,{className:"bg-green-500/20 text-green-500",children:[a.jsx(En,{className:"w-3 h-3 mr-1"}),"+",d,"%"]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:e("member.earnings.vsLastMonth")})]})]}),a.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary/20 flex items-center justify-center",children:a.jsx(La,{className:"w-8 h-8 text-secondary"})})]})})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx(jn,{className:"w-5 h-5 text-muted-foreground"}),a.jsx(te,{variant:"outline",children:e("member.earnings.thisMonth")})]}),a.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["RM ",c.thisMonthEarnings.toFixed(2)]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e("member.earnings.thisMonthEarnings")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx(jn,{className:"w-5 h-5 text-muted-foreground"}),a.jsx(te,{variant:"outline",children:e("member.earnings.lastMonth")})]}),a.jsxs("p",{className:"text-3xl font-bold text-foreground",children:["RM ",c.lastMonthEarnings.toFixed(2)]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e("member.earnings.lastMonthEarnings")})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(W,{children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center",children:a.jsx(Cr,{className:"w-5 h-5 text-green-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.earnings.cashback")}),a.jsxs("p",{className:"text-xl font-bold",children:["RM ",c.cashbackTotal.toFixed(2)]})]}),c.totalEarnings>0&&a.jsxs(te,{className:"bg-green-500/10 text-green-500",children:[(c.cashbackTotal/c.totalEarnings*100).toFixed(0),"%"]})]})})}),a.jsx(W,{children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center",children:a.jsx(Go,{className:"w-5 h-5 text-secondary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.earnings.rwaDividend")}),a.jsxs("p",{className:"text-xl font-bold",children:["RM ",c.rwaTotal.toFixed(2)]})]}),c.totalEarnings>0&&a.jsxs(te,{className:"bg-secondary/10 text-secondary",children:[(c.rwaTotal/c.totalEarnings*100).toFixed(0),"%"]})]})})}),a.jsx(W,{children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center",children:a.jsx(Tt,{className:"w-5 h-5 text-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("member.earnings.referralReward")}),a.jsxs("p",{className:"text-xl font-bold",children:["RM ",c.referralTotal.toFixed(2)]})]}),c.totalEarnings>0&&a.jsxs(te,{className:"bg-blue-500/10 text-blue-500",children:[(c.referralTotal/c.totalEarnings*100).toFixed(0),"%"]})]})})})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(pw,{className:"w-5 h-5 text-primary"}),e("member.earnings.history")]}),a.jsx(Ca,{children:e("member.earnings.historyDesc")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(C,{variant:"outline",size:"sm","data-testid":"button-filter-earnings",children:[a.jsx(QC,{className:"w-4 h-4 mr-1"}),e("member.earnings.filter")]}),a.jsxs(C,{variant:"outline",size:"sm","data-testid":"button-export-earnings",children:[a.jsx(Do,{className:"w-4 h-4 mr-1"}),e("member.earnings.export")]})]})]})}),a.jsx(ae,{children:a.jsxs(ba,{defaultValue:"all",children:[a.jsxs(fa,{className:"mb-4",children:[a.jsx(Ee,{value:"all","data-testid":"tab-all-earnings",children:e("member.earnings.tabs.all")}),a.jsx(Ee,{value:"cashback","data-testid":"tab-cashback",children:e("member.earnings.cashback")}),a.jsx(Ee,{value:"pool_reward","data-testid":"tab-rwa-earnings",children:e("member.earnings.rwaDividend")}),a.jsx(Ee,{value:"referral","data-testid":"tab-referral",children:e("member.earnings.referralReward")})]}),a.jsxs(At,{value:"all",className:"space-y-0",children:[a.jsx("div",{className:"divide-y",children:r.map(m=>{const h=Dy[m.type]||Dy.income,p=h.icon;return a.jsxs("div",{className:"flex items-center justify-between py-4","data-testid":`earning-${m.id}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${h.bgColor}`,children:a.jsx(p,{className:`w-5 h-5 ${h.color}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:m.description||n[m.type]||m.type}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:u(m.createdAt)}),a.jsx(te,{variant:"outline",className:"text-xs",children:m.source})]})]})]}),a.jsxs("p",{className:`font-bold ${h.color}`,children:["+RM ",(m.amount/100).toFixed(2)]})]},m.id)})}),r.length===0&&a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(La,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:e("member.earnings.noRecords")})]})]}),["cashback","pool_reward","referral"].map(m=>a.jsxs(At,{value:m,className:"space-y-0",children:[a.jsx("div",{className:"divide-y",children:r.filter(h=>h.type===m).map(h=>{const p=Dy[h.type]||Dy.income,g=p.icon;return a.jsxs("div",{className:"flex items-center justify-between py-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${p.bgColor}`,children:a.jsx(g,{className:`w-5 h-5 ${p.color}`})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:h.description||n[h.type]||h.type}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:u(h.createdAt)}),a.jsx(te,{variant:"outline",className:"text-xs",children:h.source})]})]})]}),a.jsxs("p",{className:`font-bold ${p.color}`,children:["+RM ",(h.amount/100).toFixed(2)]})]},h.id)})}),r.filter(h=>h.type===m).length===0&&a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:a.jsx("p",{children:e("member.earnings.noRecordsForType")})})]},m))]})})]})]})})}const Dge=e=>[{path:"/admin",label:e("admin.menu.dashboard"),icon:LB},{path:"/admin/partners",label:e("admin.menu.partners"),icon:Tt},{path:"/admin/orders",label:e("admin.menu.orders"),icon:Wr},{path:"/admin/order-supplement",label:e("admin.menu.orderSupplement"),icon:bP},{path:"/admin/products",label:e("admin.menu.products"),icon:ca},{path:"/admin/members",label:e("admin.menu.members"),icon:Tt},{path:"/admin/bonus-pool",label:e("admin.menu.bonusPool"),icon:wP},{path:"/admin/withdrawals",label:e("admin.menu.withdrawals"),icon:bs},{path:"/admin/site-settings",label:e("admin.menu.siteSettings"),icon:Ni},{path:"/admin/system-health",label:e("admin.menu.systemHealth"),icon:MB},{path:"/admin/notifications",label:e("admin.menu.notifications"),icon:Fr}],Mge=e=>[{path:"/admin/inventory",label:e("admin.menu.inventory"),icon:xP},{path:"/admin/production",label:e("admin.menu.production"),icon:pv},{path:"/admin/purchase",label:e("admin.menu.purchase"),icon:Vl},{path:"/admin/logistics",label:e("admin.menu.logistics"),icon:Kf},{path:"/admin/bills",label:e("admin.menu.bills"),icon:Mo},{path:"/admin/finance",label:e("admin.menu.finance"),icon:Cr}],Rge=e=>[{path:"/admin/marketing/ads",label:e("admin.menu.adManagement"),icon:ei},{path:"/admin/marketing/xiaohongshu",label:e("admin.menu.xiaohongshu"),icon:Ul},{path:"/admin/marketing/content",label:e("admin.menu.contentCreation"),icon:_a},{path:"/admin/marketing/media-plan",label:e("admin.menu.mediaPlan"),icon:jn},{path:"/admin/marketing/reports",label:e("admin.menu.performanceReports"),icon:Fi}],Ige=e=>[{path:"/admin/whatsapp/config",label:e("admin.menu.whatsappConfig"),icon:ur},{path:"/admin/whatsapp/orders",label:e("admin.menu.whatsappOrders"),icon:kn},{path:"/admin/whatsapp/members",label:e("admin.menu.whatsappMembers"),icon:Br},{path:"/admin/whatsapp/chat",label:e("admin.menu.whatsappChat"),icon:$i},{path:"/admin/whatsapp/admins",label:e("admin.menu.whatsappAdmins"),icon:Tt},{path:"/admin/whatsapp/flows",label:e("admin.menu.whatsappFlows"),icon:Ip}],Lge=e=>[{path:"/admin/ai/memory",label:e("admin.menu.memoryDatabase"),icon:qf},{path:"/admin/ai/knowledge",label:e("admin.menu.knowledgeBase"),icon:ql}];function yt({children:e}){var N,w,P,k;const[t,n]=Or(),[r,s]=y.useState(!1),{t:i}=ft(),{user:o,loading:l,signOut:c}=oa(),d=y.useMemo(()=>Dge(i),[i]),u=y.useMemo(()=>Mge(i),[i]),m=y.useMemo(()=>Rge(i),[i]),h=y.useMemo(()=>Ige(i),[i]),p=y.useMemo(()=>Lge(i),[i]),g=y.useMemo(()=>[...d,...u,...m,...h,...p],[d,u,m,h,p]),{data:f=0}=Ae({queryKey:["admin-notifications-count"],queryFn:async()=>{const{count:_}=await L.from("admin_notifications").select("*",{count:"exact",head:!0}).eq("is_read",!1);return _||0},refetchInterval:3e4}),x=_=>t===_,b=g.find(_=>x(_.path)),j=async()=>{try{await c()}catch(_){console.error("Logout error:",_)}window.location.href="/"};if(l)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})});if(!o)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsxs(W,{className:"p-8 max-w-md text-center",children:[a.jsx(jr,{className:"w-12 h-12 mx-auto text-primary mb-4"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:i("admin.pleaseLogin")}),a.jsx("p",{className:"text-muted-foreground mb-6",children:i("admin.adminRequired")}),a.jsx(C,{onClick:()=>window.location.href="/auth/login","data-testid":"button-login",children:i("admin.login")})]})});const v=()=>{var _;return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary flex items-center justify-center",children:a.jsx(jr,{className:"w-6 h-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:((_=o==null?void 0:o.user_metadata)==null?void 0:_.first_name)||i("admin.adminRole")}),a.jsxs(te,{className:"bg-primary text-primary-foreground gap-1 text-xs",children:[a.jsx(jr,{className:"w-3 h-3"}),i("admin.adminRole")]})]})]})}),a.jsxs("nav",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:i("admin.adminPanel")}),a.jsx("div",{className:"space-y-1",children:d.map(S=>{const O=S.icon,A=x(S.path);return a.jsxs(C,{variant:A?"secondary":"ghost",className:`w-full justify-start gap-3 ${A?"bg-primary/20 text-primary font-medium":""}`,onClick:()=>{n(S.path),s(!1)},"data-testid":`nav-${S.path.split("/").pop()}`,children:[a.jsx(O,{className:"w-4 h-4"}),S.label,A&&a.jsx(un,{className:"w-4 h-4 ml-auto"})]},S.path)})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:i("admin.erpSystem")}),a.jsx("div",{className:"space-y-1",children:u.map(S=>{const O=S.icon,A=x(S.path);return a.jsxs(C,{variant:A?"secondary":"ghost",className:`w-full justify-start gap-3 ${A?"bg-primary/20 text-primary font-medium":""}`,onClick:()=>{n(S.path),s(!1)},"data-testid":`nav-${S.path.split("/").pop()}`,children:[a.jsx(O,{className:"w-4 h-4"}),S.label,A&&a.jsx(un,{className:"w-4 h-4 ml-auto"})]},S.path)})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:i("admin.marketingSystem")}),a.jsx("div",{className:"space-y-1",children:m.map(S=>{const O=S.icon,A=x(S.path);return a.jsxs(C,{variant:A?"secondary":"ghost",className:`w-full justify-start gap-3 ${A?"bg-primary/20 text-primary font-medium":""}`,onClick:()=>{n(S.path),s(!1)},"data-testid":`nav-${S.path.split("/").pop()}`,children:[a.jsx(O,{className:"w-4 h-4"}),S.label,A&&a.jsx(un,{className:"w-4 h-4 ml-auto"})]},S.path)})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:i("admin.whatsappBusiness")}),a.jsx("div",{className:"space-y-1",children:h.map(S=>{const O=S.icon,A=x(S.path);return a.jsxs(C,{variant:A?"secondary":"ghost",className:`w-full justify-start gap-3 ${A?"bg-primary/20 text-primary font-medium":""}`,onClick:()=>{n(S.path),s(!1)},"data-testid":`nav-${S.path.split("/").pop()}`,children:[a.jsx(O,{className:"w-4 h-4"}),S.label,A&&a.jsx(un,{className:"w-4 h-4 ml-auto"})]},S.path)})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2 px-2",children:i("admin.aiKnowledge")}),a.jsx("div",{className:"space-y-1",children:p.map(S=>{const O=S.icon,A=x(S.path);return a.jsxs(C,{variant:A?"secondary":"ghost",className:`w-full justify-start gap-3 ${A?"bg-primary/20 text-primary font-medium":""}`,onClick:()=>{n(S.path),s(!1)},"data-testid":`nav-${S.path.split("/").pop()}`,children:[a.jsx(O,{className:"w-4 h-4"}),S.label,A&&a.jsx(un,{className:"w-4 h-4 ml-auto"})]},S.path)})})]})]}),a.jsxs("div",{className:"p-4 border-t space-y-2",children:[a.jsx("div",{className:"mb-3",children:a.jsx(dc,{testId:"button-language-switcher-sidebar"})}),a.jsxs(C,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>n("/member"),"data-testid":"button-back-member",children:[a.jsx(Zn,{className:"w-4 h-4"}),i("admin.backToMember")]}),a.jsxs(C,{variant:"ghost",className:"w-full justify-start gap-2",onClick:()=>n("/"),"data-testid":"button-back-home",children:[a.jsx(dx,{className:"w-4 h-4"}),i("admin.backToHome")]})]})]})};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("header",{className:"sticky top-0 z-50 bg-primary text-primary-foreground",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(il,{open:r,onOpenChange:s,children:[a.jsx(Cw,{asChild:!0,children:a.jsx(C,{variant:"ghost",size:"icon",className:"lg:hidden text-primary-foreground","data-testid":"button-mobile-menu",children:a.jsx(xw,{className:"w-6 h-6"})})}),a.jsx(lo,{side:"left",className:"w-72 p-0",children:a.jsx(v,{})})]}),a.jsx("span",{className:"font-serif text-xl font-bold text-secondary cursor-pointer",onClick:()=>n("/"),"data-testid":"link-logo",children:"LOVE YOUNG"}),a.jsxs("div",{className:"hidden lg:flex items-center gap-2 ml-4",children:[a.jsx(jr,{className:"w-5 h-5 text-secondary"}),a.jsx("span",{className:"text-sm font-medium",children:i("admin.adminPanel")}),b&&a.jsxs(a.Fragment,{children:[a.jsx(un,{className:"w-4 h-4 text-primary-foreground/60"}),a.jsx("span",{className:"text-sm text-primary-foreground/80",children:b.label})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(C,{variant:"ghost",size:"icon",className:"relative text-primary-foreground",onClick:()=>n("/admin/notifications"),"data-testid":"button-notification-bell",children:[a.jsx(Fr,{className:"w-5 h-5"}),f>0&&a.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:f>99?"99+":f})]}),a.jsx(dc,{testId:"button-language-switcher-header"}),a.jsxs(C,{variant:"ghost",size:"sm",className:"hidden sm:flex text-primary-foreground gap-2",onClick:()=>n("/member"),"data-testid":"button-header-member",children:[a.jsx(Zn,{className:"w-4 h-4"}),i("admin.memberCenter")]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Rd,{className:"w-8 h-8 border border-secondary/50",children:[a.jsx(Lm,{src:((N=o==null?void 0:o.user_metadata)==null?void 0:N.avatar_url)||void 0}),a.jsx(Id,{className:"bg-secondary text-secondary-foreground text-sm",children:((P=(w=o==null?void 0:o.user_metadata)==null?void 0:w.first_name)==null?void 0:P.charAt(0))||"A"})]}),a.jsx("span",{className:"hidden md:block text-sm font-medium","data-testid":"text-admin-name",children:((k=o==null?void 0:o.user_metadata)==null?void 0:k.first_name)||i("admin.adminRole")})]}),a.jsx(C,{variant:"ghost",size:"icon",className:"text-primary-foreground hidden lg:flex",onClick:j,"data-testid":"button-logout",children:a.jsx(Vf,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"lg:hidden flex items-center justify-center gap-2 py-2 bg-primary/90 border-t border-primary-foreground/10",children:b&&a.jsxs(a.Fragment,{children:[a.jsx(b.icon,{className:"w-4 h-4 text-secondary"}),a.jsx("span",{className:"text-sm font-medium",children:b.label})]})})]}),a.jsxs("div",{className:"flex",children:[a.jsx("aside",{className:"hidden lg:block w-64 border-r bg-card min-h-[calc(100vh-56px)] sticky top-14",children:a.jsx(v,{})}),a.jsx("main",{className:"flex-1 p-4 lg:p-8",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:e})})]})]})}function $ge(){const{t:e}=ft();return a.jsx(yt,{children:a.jsxs("div",{className:"space-y-6","data-testid":"section-dashboard",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(W,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center",children:a.jsx(Tt,{className:"w-6 h-6 text-emerald-600"})}),a.jsx(La,{className:"w-5 h-5 text-green-500"})]}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:"0"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:e("admin.activePartners")})]}),a.jsxs(W,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center",children:a.jsx(Wr,{className:"w-6 h-6 text-amber-600"})}),a.jsx(La,{className:"w-5 h-5 text-green-500"})]}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:"0"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:e("admin.monthlyOrders")})]}),a.jsxs(W,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:a.jsx(Cr,{className:"w-6 h-6 text-blue-600"})}),a.jsx(La,{className:"w-5 h-5 text-green-500"})]}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:"RM 0"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:e("admin.monthlySales")})]}),a.jsxs(W,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:a.jsx(bs,{className:"w-6 h-6 text-purple-600"})}),a.jsx(La,{className:"w-5 h-5 text-green-500"})]}),a.jsx("div",{className:"text-3xl font-bold mb-1",children:"RM 0"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:e("admin.currentBonusPool")})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(W,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:e("admin.recentOrders")}),a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("admin.noOrderData")})]}),a.jsxs(W,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:e("admin.pendingItems")}),a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("admin.noPendingItems")})]})]})]})})}function Fge(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState(""),[i,o]=y.useState("all"),[l,c]=y.useState(null),[d,u]=y.useState(!1),{data:m=[]}=Ae({queryKey:["partner-referrals",l==null?void 0:l.id],enabled:!!l,queryFn:async()=>{const{data:w,error:P}=await L.from("partners").select("id, tier, status, members(name)").eq("referrer_id",l.id);return P?(console.error(P),[]):(w||[]).map(k=>{var _;return{id:k.id,member_name:((_=k.members)==null?void 0:_.name)||"Partner",tier:k.tier,status:k.status}})}}),{data:h=[]}=Ae({queryKey:["partner-orders",l==null?void 0:l.referral_code],enabled:!!(l!=null&&l.referral_code),queryFn:async()=>{const{data:w,error:P}=await L.from("orders").select("id, order_number, total_amount, status, created_at").eq("source",l.referral_code).order("created_at",{ascending:!1}).limit(10);return P?(console.error(P),[]):w||[]}}),p=Ce({mutationFn:async({partnerId:w,tier:P})=>{const{error:k}=await L.from("partners").update({tier:P}).eq("id",w);if(k)throw k},onSuccess:()=>{var w;n.invalidateQueries({queryKey:["admin-partners"]}),t({title:""}),l&&c({...l,tier:((w=p.variables)==null?void 0:w.tier)||l.tier})},onError:w=>{t({title:"",description:w.message,variant:"destructive"})}}),g=Ce({mutationFn:async({partnerId:w,status:P})=>{const{error:k}=await L.from("partners").update({status:P}).eq("id",w);if(k)throw k},onSuccess:()=>{if(n.invalidateQueries({queryKey:["admin-partners"]}),t({title:""}),l){const w=l.status==="active"?"suspended":"active";c({...l,status:w})}},onError:w=>{t({title:"",description:w.message,variant:"destructive"})}}),f=w=>{c(w),u(!0)},{data:x=[],isLoading:b}=Ae({queryKey:["admin-partners"],queryFn:async()=>{const{data:w,error:P}=await L.from("partners").select(`
          *,
          members (
            name,
            email,
            phone
          )
        `).order("created_at",{ascending:!1});return P?(console.error("Error fetching partners:",P),[]):(w||[]).map(k=>{var _,S,O;return{id:k.id,referral_code:k.referral_code,tier:k.tier,status:k.status,ly_balance:k.ly_balance||0,rwa_tokens:k.rwa_tokens||0,cash_wallet_balance:k.cash_wallet_balance||0,total_cashback:k.total_cashback||0,total_sales:k.total_sales||0,created_at:k.created_at,member_name:(_=k.members)==null?void 0:_.name,member_email:(S=k.members)==null?void 0:S.email,member_phone:(O=k.members)==null?void 0:O.phone}})}}),j=Ce({mutationFn:async w=>{const{error:P}=await L.from("partners").update({status:"active"}).eq("id",w);if(P)throw P},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-partners"]}),t({title:e("admin.partnersPage.activateSuccess"),description:e("admin.partnersPage.activateSuccessDesc")})},onError:w=>{t({title:e("admin.partnersPage.activateFailed"),description:w.message,variant:"destructive"})}}),v=x.filter(w=>{const P=r===""||w.id.toLowerCase().includes(r.toLowerCase())||w.referral_code&&w.referral_code.toLowerCase().includes(r.toLowerCase())||w.member_name&&w.member_name.toLowerCase().includes(r.toLowerCase())||w.member_email&&w.member_email.toLowerCase().includes(r.toLowerCase()),k=i==="all"||w.status===i;return P&&k}),N={total:x.length,active:x.filter(w=>w.status==="active").length,pending:x.filter(w=>w.status==="pending").length};return a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-partners-title",children:e("admin.partnersPage.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.partnersPage.subtitle")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(Tt,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:N.total}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.partnersPage.totalPartners")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center",children:a.jsx(Le,{className:"w-6 h-6 text-green-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-green-500",children:N.active}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.partnersPage.activated")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-500/10 flex items-center justify-center",children:a.jsx(Ht,{className:"w-6 h-6 text-yellow-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:N.pending}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.partnersPage.pendingReview")})]})]})})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(Br,{className:"w-5 h-5 text-primary"}),e("admin.partnersPage.partnerList")]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.partnersPage.searchPlaceholder"),className:"pl-9",value:r,onChange:w=>s(w.target.value),"data-testid":"input-search"})]})]})}),a.jsx(ae,{children:a.jsxs(ba,{value:i,onValueChange:o,children:[a.jsxs(fa,{className:"grid w-full grid-cols-3",children:[a.jsxs(Ee,{value:"all","data-testid":"tab-all",children:[e("admin.partnersPage.tabAll")," (",N.total,")"]}),a.jsxs(Ee,{value:"pending","data-testid":"tab-pending",children:[e("admin.partnersPage.tabPending")," (",N.pending,")"]}),a.jsxs(Ee,{value:"active","data-testid":"tab-active",children:[e("admin.partnersPage.tabActive")," (",N.active,")"]})]}),a.jsx(At,{value:i,className:"mt-4",children:b?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):v.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Tt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.partnersPage.noPartners")})]}):a.jsx("div",{className:"space-y-3",children:v.map(w=>a.jsx("div",{className:"p-3 md:p-4 border rounded-lg","data-testid":`partner-${w.id}`,children:a.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex-shrink-0 flex items-center justify-center",children:a.jsx(Tt,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 md:gap-2",children:[a.jsx("span",{className:"font-medium",children:w.member_name||"Partner"}),a.jsx("span",{className:"font-mono text-xs sm:text-sm text-muted-foreground",children:w.referral_code}),a.jsx(te,{variant:w.status==="active"?"default":"outline",children:w.status==="active"?e("admin.partnersPage.activated"):e("admin.partnersPage.pendingReview")})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-0.5 text-xs sm:text-sm text-muted-foreground mt-1",children:[a.jsxs("span",{children:["LY: ",w.ly_balance]}),a.jsxs("span",{children:["RWA: ",w.rwa_tokens]}),a.jsxs("span",{className:"hidden sm:inline",children:[e("admin.partnersPage.package"),": Phase ",w.tier==="phase1"?1:w.tier==="phase2"?2:3]}),a.jsxs("span",{children:[": RM ",(w.total_sales/100).toFixed(2)]}),a.jsxs("span",{children:[": RM ",(w.total_cashback/100).toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[w.status==="pending"&&a.jsxs(C,{size:"sm",className:"gap-1",onClick:()=>j.mutate(w.id),disabled:j.isPending,"data-testid":`button-activate-${w.id}`,children:[j.isPending?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Le,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.partnersPage.activate")})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>f(w),"data-testid":`button-view-${w.id}`,children:[a.jsx(xa,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.partnersPage.viewDetails")})]})]})]})},w.id))})})]})})]})]}),a.jsx(et,{open:d,onOpenChange:u,children:a.jsxs(Ye,{className:"max-w-2xl max-h-[90dvh] overflow-y-auto p-4 sm:p-6",children:[a.jsx(Je,{children:a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Tt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),""]})}),l&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs(W,{className:"p-3 sm:p-4",children:[a.jsx("h4",{className:"font-semibold text-sm sm:text-base mb-2 sm:mb-3",children:""}),a.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsx("span",{className:"font-medium",children:l.member_name||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsx("span",{className:"font-medium truncate ml-2 max-w-[60%]",children:l.member_email||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsx("span",{className:"font-medium",children:l.member_phone||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsx("span",{className:"font-mono font-medium",children:l.referral_code})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsx("span",{className:"font-medium",children:new Date(l.created_at).toLocaleDateString("zh-CN")})]})]})]}),a.jsxs(W,{className:"p-3 sm:p-4",children:[a.jsx("h4",{className:"font-semibold text-sm sm:text-base mb-2 sm:mb-3",children:""}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3 text-xs sm:text-sm",children:[a.jsxs("div",{className:"p-2 bg-muted rounded text-center",children:[a.jsx("p",{className:"text-muted-foreground text-[10px] sm:text-xs",children:"LY"}),a.jsx("p",{className:"text-sm sm:text-lg font-bold",children:l.ly_balance})]}),a.jsxs("div",{className:"p-2 bg-muted rounded text-center",children:[a.jsx("p",{className:"text-muted-foreground text-[10px] sm:text-xs",children:""}),a.jsxs("p",{className:"text-sm sm:text-lg font-bold",children:["RM ",(l.cash_wallet_balance/100).toFixed(0)]})]}),a.jsxs("div",{className:"p-2 bg-muted rounded text-center",children:[a.jsx("p",{className:"text-muted-foreground text-[10px] sm:text-xs",children:"RWA"}),a.jsx("p",{className:"text-sm sm:text-lg font-bold",children:l.rwa_tokens})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 mt-2 sm:mt-3 text-xs sm:text-sm",children:[a.jsxs("div",{className:"p-2 bg-primary/10 rounded text-center",children:[a.jsx("p",{className:"text-muted-foreground text-[10px] sm:text-xs",children:""}),a.jsxs("p",{className:"text-sm sm:text-lg font-bold text-primary",children:["RM ",(l.total_sales/100).toFixed(2)]})]}),a.jsxs("div",{className:"p-2 bg-green-500/10 rounded text-center",children:[a.jsx("p",{className:"text-muted-foreground text-[10px] sm:text-xs",children:""}),a.jsxs("p",{className:"text-sm sm:text-lg font-bold text-green-500",children:["RM ",(l.total_cashback/100).toFixed(2)]})]})]})]}),a.jsxs(W,{className:"p-3 sm:p-4",children:[a.jsx("h4",{className:"font-semibold text-sm sm:text-base mb-2 sm:mb-3",children:""}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground shrink-0",children:":"}),a.jsxs(tt,{value:l.tier,onValueChange:w=>{p.mutate({partnerId:l.id,tier:w})},children:[a.jsx(Xe,{className:"w-24 sm:w-32 h-8 sm:h-9 text-xs sm:text-sm",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"phase1",children:"Phase 1"}),a.jsx(ge,{value:"phase2",children:"Phase 2"}),a.jsx(ge,{value:"phase3",children:"Phase 3"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground shrink-0",children:":"}),a.jsx(te,{variant:l.status==="active"?"default":"destructive",className:"text-xs",children:l.status==="active"?"":l.status==="suspended"?"":l.status}),a.jsx(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 text-xs sm:text-sm px-2 sm:px-3",onClick:()=>{const w=l.status==="active"?"suspended":"active";g.mutate({partnerId:l.id,status:w})},disabled:g.isPending,children:l.status==="active"?a.jsxs(a.Fragment,{children:[a.jsx(RB,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"})," "]}):a.jsxs(a.Fragment,{children:[a.jsx(fv,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"})," "]})})]})]})]}),a.jsxs(W,{className:"p-3 sm:p-4",children:[a.jsxs("h4",{className:"font-semibold text-sm sm:text-base mb-2 sm:mb-3",children:[" (",m.length,")"]}),m.length===0?a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}):a.jsx("div",{className:"space-y-2",children:m.map(w=>a.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm p-2 border rounded gap-2",children:[a.jsx("span",{className:"font-medium truncate",children:w.member_name}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 shrink-0",children:[a.jsxs(te,{variant:"outline",className:"text-[10px] sm:text-xs px-1 sm:px-2",children:["P",w.tier==="phase1"?1:w.tier==="phase2"?2:3]}),a.jsx(te,{variant:w.status==="active"?"default":"outline",className:"text-[10px] sm:text-xs px-1 sm:px-2",children:w.status==="active"?"":""})]})]},w.id))})]}),a.jsxs(W,{className:"p-3 sm:p-4",children:[a.jsx("h4",{className:"font-semibold text-sm sm:text-base mb-2 sm:mb-3",children:" (10)"}),h.length===0?a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}):a.jsx("div",{className:"space-y-2",children:h.map(w=>a.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm p-2 border rounded gap-2",children:[a.jsxs("span",{className:"font-mono truncate",children:["#",w.order_number]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 shrink-0",children:[a.jsxs("span",{className:"font-bold text-primary",children:["RM ",(w.total_amount/100).toFixed(0)]}),a.jsx(te,{variant:"outline",className:"text-[10px] sm:text-xs px-1 sm:px-2",children:w.status})]})]},w.id))})]})]})]})})]})}async function Bge(e){const{data:t,error:n}=await L.from("notifications").insert({user_id:e.userId,member_id:e.memberId,type:e.type,title:e.title,content:e.content,read:!1,data:e.data,created_at:new Date().toISOString()}).select().single();return n?(console.error("Error creating notification:",n),{notification:null,error:new Error(n.message)}):{notification:qge(t),error:null}}async function Uge(e,t,n,r){const i={pending:{title:"Order Confirmed",content:`Your order #${t} has been confirmed and is being processed.`},confirmed:{title:"Order Confirmed",content:`Your order #${t} has been confirmed.`},processing:{title:"Order Processing",content:`Your order #${t} is being prepared.`},shipped:{title:"Order Shipped",content:`Your order #${t} has been shipped and is on its way!`},delivered:{title:"Order Delivered",content:`Your order #${t} has been delivered. Enjoy!`},cancelled:{title:"Order Cancelled",content:`Your order #${t} has been cancelled.`}}[r];if(!i||!n)return{success:!0,error:null};const{error:o}=await Bge({userId:null,memberId:n,type:"order",title:i.title,content:i.content,data:{orderId:e,orderNumber:t,status:r}});return{success:!o,error:o}}function qge(e){return{id:e.id,userId:e.user_id,memberId:e.member_id,type:e.type,title:e.title,content:e.content,read:e.read,data:e.data,createdAt:e.created_at}}var o9="AlertDialog",[Vge,Y8e]=pn(o9,[q6]),ll=q6(),l9=e=>{const{__scopeAlertDialog:t,...n}=e,r=ll(t);return a.jsx(w2,{...r,...n,modal:!0})};l9.displayName=o9;var Kge="AlertDialogTrigger",zge=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ll(n);return a.jsx(j2,{...s,...r,ref:t})});zge.displayName=Kge;var Wge="AlertDialogPortal",c9=e=>{const{__scopeAlertDialog:t,...n}=e,r=ll(t);return a.jsx(N2,{...r,...n})};c9.displayName=Wge;var Hge="AlertDialogOverlay",d9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ll(n);return a.jsx(fx,{...s,...r,ref:t})});d9.displayName=Hge;var om="AlertDialogContent",[Gge,Yge]=Vge(om),Jge=cB("AlertDialogContent"),u9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=ll(n),o=y.useRef(null),l=jt(t,o),c=y.useRef(null);return a.jsx($ie,{contentName:om,titleName:m9,docsSlug:"alert-dialog",children:a.jsx(Gge,{scope:n,cancelRef:c,children:a.jsxs(gx,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:Te(s.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[a.jsx(Jge,{children:r}),a.jsx(Xge,{contentRef:o})]})})})});u9.displayName=om;var m9="AlertDialogTitle",h9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ll(n);return a.jsx(Mh,{...s,...r,ref:t})});h9.displayName=m9;var p9="AlertDialogDescription",f9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ll(n);return a.jsx(xx,{...s,...r,ref:t})});f9.displayName=p9;var Qge="AlertDialogAction",g9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ll(n);return a.jsx(Sw,{...s,...r,ref:t})});g9.displayName=Qge;var x9="AlertDialogCancel",y9=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=Yge(x9,n),i=ll(n),o=jt(t,s);return a.jsx(Sw,{...i,...r,ref:o})});y9.displayName=x9;var Xge=({contentRef:e})=>{const t=`\`${om}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${om}\` by passing a \`${p9}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${om}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Zge=l9,exe=c9,v9=d9,b9=u9,w9=g9,j9=y9,N9=h9,k9=f9;const P9=Zge,txe=exe,_9=y.forwardRef(({className:e,...t},n)=>a.jsx(v9,{className:Be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));_9.displayName=v9.displayName;const $A=y.forwardRef(({className:e,...t},n)=>a.jsxs(txe,{children:[a.jsx(_9,{}),a.jsx(b9,{ref:n,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));$A.displayName=b9.displayName;const FA=({className:e,...t})=>a.jsx("div",{className:Be("flex flex-col space-y-2 text-center sm:text-left",e),...t});FA.displayName="AlertDialogHeader";const BA=({className:e,...t})=>a.jsx("div",{className:Be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});BA.displayName="AlertDialogFooter";const UA=y.forwardRef(({className:e,...t},n)=>a.jsx(N9,{ref:n,className:Be("text-lg font-semibold",e),...t}));UA.displayName=N9.displayName;const qA=y.forwardRef(({className:e,...t},n)=>a.jsx(k9,{ref:n,className:Be("text-sm text-muted-foreground",e),...t}));qA.displayName=k9.displayName;const VA=y.forwardRef(({className:e,...t},n)=>a.jsx(w9,{ref:n,className:Be(p2(),e),...t}));VA.displayName=w9.displayName;const KA=y.forwardRef(({className:e,...t},n)=>a.jsx(j9,{ref:n,className:Be(p2({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));KA.displayName=j9.displayName;function axe(){const{t:e}=ft(),{toast:t}=Jt(),[n,r]=y.useState(""),[s,i]=y.useState("all"),[o,l]=y.useState(null),[c,d]=y.useState(!1),[u,m]=y.useState(!1),[h,p]=y.useState(null),{data:g=[],isLoading:f,refetch:x}=Ae({queryKey:["admin-orders"],queryFn:async()=>{const{data:D,error:B}=await L.from("orders").select("*").order("created_at",{ascending:!1});return B?(console.error("Error fetching orders:",B),[]):(D||[]).map(z=>({id:z.id,orderNumber:z.order_number,userId:z.user_id,memberId:z.member_id,customerName:z.customer_name,customerPhone:z.customer_phone,customerEmail:z.customer_email,status:z.status,totalAmount:z.total_amount,items:z.items,packageType:z.package_type,shippingAddress:z.shipping_address,shippingCity:z.shipping_city,shippingState:z.shipping_state,shippingPostcode:z.shipping_postcode,preferredDeliveryDate:z.preferred_delivery_date,trackingNumber:z.tracking_number,notes:z.notes,source:z.source,erpnextId:z.erpnext_id,metaOrderId:z.meta_order_id,pointsEarned:z.points_earned,pointsRedeemed:z.points_redeemed,sourceChannel:z.source_channel,whatsappConversationId:z.whatsapp_conversation_id,createdAt:z.created_at,updatedAt:z.updated_at}))}}),b=Ce({mutationFn:async({orderId:D,status:B,order:z})=>{const K=z.status,{error:Y}=await L.from("orders").update({status:B,updated_at:new Date().toISOString()}).eq("id",D);if(Y)throw Y;if(z.memberId&&await Uge(D,z.orderNumber,z.memberId,B),B==="cancelled"&&K!=="cancelled")try{const M=JSON.parse(z.items);await WD(D,M)}catch(M){console.error("Error restoring inventory:",M)}},onSuccess:()=>{on.invalidateQueries({queryKey:["admin-orders"]}),d(!1)}}),j=Ce({mutationFn:async D=>{if(D.status!=="cancelled")try{const z=JSON.parse(D.items);await WD(D.id,z)}catch(z){console.error("Error restoring inventory:",z)}const{error:B}=await L.from("orders").delete().eq("id",D.id);if(B)throw B},onSuccess:()=>{on.invalidateQueries({queryKey:["admin-orders"]}),d(!1),m(!1),p(null),t({title:""})},onError:D=>{t({title:"",description:String(D),variant:"destructive"})}}),v=D=>{p(D),m(!0)},N=()=>{h&&j.mutate(h)},w=D=>{switch(D){case"pending_payment":return{label:e("admin.ordersPage.pendingPayment"),icon:Ht,color:"text-yellow-500",bg:"bg-yellow-500/10"};case"pending":return{label:e("admin.ordersPage.pendingPayment"),icon:Ht,color:"text-yellow-500",bg:"bg-yellow-500/10"};case"confirmed":return{label:e("admin.ordersPage.confirmed")||"Confirmed",icon:Le,color:"text-blue-500",bg:"bg-blue-500/10"};case"processing":return{label:e("admin.ordersPage.preparing"),icon:ca,color:"text-blue-500",bg:"bg-blue-500/10"};case"shipped":return{label:e("admin.ordersPage.shipping"),icon:hs,color:"text-primary",bg:"bg-primary/10"};case"delivered":return{label:e("admin.ordersPage.completed"),icon:Le,color:"text-green-500",bg:"bg-green-500/10"};case"cancelled":return{label:e("admin.ordersPage.cancelled"),icon:ms,color:"text-muted-foreground",bg:"bg-muted"};default:return{label:e("admin.ordersPage.unknown"),icon:Ht,color:"text-muted-foreground",bg:"bg-muted"}}},P=g.filter(D=>{var K,Y,M;const B=n===""||((K=D.orderNumber)==null?void 0:K.toLowerCase().includes(n.toLowerCase()))||((Y=D.customerName)==null?void 0:Y.toLowerCase().includes(n.toLowerCase()))||((M=D.customerPhone)==null?void 0:M.includes(n)),z=s==="all"||s==="pending"&&(D.status==="pending"||D.status==="pending_payment")||s==="processing"&&(D.status==="processing"||D.status==="confirmed")||s!=="pending"&&s!=="processing"&&D.status===s;return B&&z}),k={total:g.length,pending:g.filter(D=>D.status==="pending"||D.status==="pending_payment").length,processing:g.filter(D=>D.status==="processing"||D.status==="confirmed").length,shipped:g.filter(D=>D.status==="shipped").length,delivered:g.filter(D=>D.status==="delivered").length,cancelled:g.filter(D=>D.status==="cancelled").length},_=D=>`RM ${(D/100).toFixed(2)}`,S=D=>D?new Date(D).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",O=D=>{try{return JSON.parse(D)}catch{return[]}},A=D=>{l(D),d(!0)},E=(D,B,z)=>{b.mutate({orderId:D,status:B,order:z})};return a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-orders-title",children:e("admin.ordersPage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.ordersPage.subtitle")})]}),a.jsxs(C,{variant:"outline",size:"sm",onClick:()=>x(),disabled:f,className:"flex-shrink-0",children:[a.jsx(Yo,{className:`w-4 h-4 mr-2 ${f?"animate-spin":""}`}),a.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-2 sm:p-4 text-center",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:k.total}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:e("admin.ordersPage.totalOrders")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-2 sm:p-4 text-center",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:k.pending}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:e("admin.ordersPage.pendingPayment")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-2 sm:p-4 text-center",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-500",children:k.processing}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:e("admin.ordersPage.preparing")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-2 sm:p-4 text-center",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary",children:k.shipped}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:e("admin.ordersPage.shipping")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-2 sm:p-4 text-center",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:k.delivered}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:e("admin.ordersPage.completed")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-2 sm:p-4 text-center",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-muted-foreground",children:k.cancelled}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground truncate",children:e("admin.ordersPage.cancelled")})]})})]}),a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Wr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.ordersPage.orderList")]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.ordersPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:n,onChange:D=>r(D.target.value),"data-testid":"input-search"})]})]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:a.jsxs(ba,{value:s,onValueChange:i,children:[a.jsx("div",{className:"overflow-x-auto -mx-1 px-1 pb-1",children:a.jsxs(fa,{className:"inline-flex w-auto min-w-full md:grid md:w-full md:grid-cols-6 h-auto p-1",children:[a.jsx(Ee,{value:"all",className:"flex-1 md:flex-none text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3","data-testid":"tab-all",children:e("admin.ordersPage.tabAll")}),a.jsxs(Ee,{value:"pending",className:"flex-1 md:flex-none text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3 whitespace-nowrap","data-testid":"tab-pending",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.ordersPage.pendingPayment")}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs(Ee,{value:"processing",className:"flex-1 md:flex-none text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3 whitespace-nowrap","data-testid":"tab-processing",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.ordersPage.preparing")}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs(Ee,{value:"shipped",className:"flex-1 md:flex-none text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3 whitespace-nowrap","data-testid":"tab-shipped",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.ordersPage.shipping")}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs(Ee,{value:"delivered",className:"flex-1 md:flex-none text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3 whitespace-nowrap","data-testid":"tab-delivered",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.ordersPage.completed")}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs(Ee,{value:"cancelled",className:"flex-1 md:flex-none text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3 whitespace-nowrap","data-testid":"tab-cancelled",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.ordersPage.cancelled")}),a.jsx("span",{className:"sm:hidden",children:""})]})]})}),a.jsx(At,{value:s,className:"mt-3 sm:mt-4",children:f?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):P.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wr,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.ordersPage.noOrders")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:P.map(D=>{const B=w(D.status),z=B.icon,K=O(D.items);return a.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors","data-testid":`order-${D.orderNumber}`,children:[a.jsxs("div",{className:"flex items-start sm:items-center gap-2.5 sm:gap-4",children:[a.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full shrink-0 flex items-center justify-center ${B.bg}`,children:a.jsx(z,{className:`w-4 h-4 sm:w-5 sm:h-5 ${B.color}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2",children:[a.jsxs("span",{className:"font-mono text-xs sm:text-sm font-medium",children:["#",D.orderNumber]}),a.jsx(te,{variant:"outline",className:"text-[10px] sm:text-xs h-5 sm:h-6",children:B.label}),D.sourceChannel==="whatsapp"&&a.jsxs(te,{className:"text-[10px] sm:text-xs h-5 sm:h-6 bg-green-500/10 text-green-600 border-green-500/20 gap-0.5",children:[a.jsx(ur,{className:"w-3 h-3"}),"WA"]}),D.sourceChannel==="admin"&&a.jsxs(te,{className:"text-[10px] sm:text-xs h-5 sm:h-6 bg-purple-500/10 text-purple-600 border-purple-500/20 gap-0.5",children:[a.jsx(jr,{className:"w-3 h-3"}),"Admin"]}),(!D.sourceChannel||D.sourceChannel==="website")&&a.jsxs(te,{className:"text-[10px] sm:text-xs h-5 sm:h-6 bg-blue-500/10 text-blue-600 border-blue-500/20 gap-0.5",children:[a.jsx(Ki,{className:"w-3 h-3"}),"Web"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 sm:gap-x-3 gap-y-0.5 text-xs sm:text-sm text-muted-foreground mt-0.5",children:[a.jsx("span",{className:"truncate max-w-[100px] sm:max-w-[150px] md:max-w-none",children:D.customerName}),a.jsxs("span",{children:[K.length," ",e("admin.ordersPage.items")]}),a.jsx("span",{className:"hidden md:inline",children:S(D.createdAt)})]})]}),a.jsxs("div",{className:"hidden sm:flex items-center gap-3 sm:gap-4 shrink-0",children:[a.jsx("span",{className:"font-bold text-primary text-sm sm:text-base",children:_(D.totalAmount)}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>A(D),"data-testid":`button-view-${D.orderNumber}`,children:[a.jsx(xa,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden md:inline",children:e("admin.ordersPage.viewDetails")})]})]})]}),a.jsxs("div",{className:"flex sm:hidden items-center justify-between mt-2 pl-[46px]",children:[a.jsx("span",{className:"font-bold text-primary text-sm",children:_(D.totalAmount)}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-7 text-xs",onClick:()=>A(D),"data-testid":`button-view-mobile-${D.orderNumber}`,children:[a.jsx(xa,{className:"w-3.5 h-3.5"}),""]})]})]},D.id)})})})]})})]})]}),a.jsx(et,{open:c,onOpenChange:d,children:a.jsxs(Ye,{className:"w-[95vw] max-w-2xl max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsx(Je,{children:a.jsxs(Qe,{className:"text-base sm:text-lg",children:[" - #",o==null?void 0:o.orderNumber]})}),o&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:":"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(tt,{value:o.status,onValueChange:D=>E(o.id,D,o),children:[a.jsx(Xe,{className:"w-full sm:w-48 h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"pending_payment",children:""}),a.jsx(ge,{value:"pending",children:""}),a.jsx(ge,{value:"confirmed",children:""}),a.jsx(ge,{value:"processing",children:""}),a.jsx(ge,{value:"shipped",children:""}),a.jsx(ge,{value:"delivered",children:""}),a.jsx(ge,{value:"cancelled",children:""})]})]}),b.isPending&&a.jsx(fe,{className:"w-4 h-4 animate-spin"})]})]}),a.jsxs(W,{className:"p-3 sm:p-4",children:[a.jsx("h4",{className:"font-semibold mb-2 sm:mb-3 text-sm sm:text-base",children:""}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:":"}),a.jsx("span",{className:"ml-2 font-medium",children:o.customerName})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:":"}),a.jsx("span",{className:"ml-2 font-medium",children:o.customerPhone})]}),o.customerEmail&&a.jsxs("div",{className:"col-span-1 sm:col-span-2",children:[a.jsx("span",{className:"text-muted-foreground",children:":"}),a.jsx("span",{className:"ml-2 font-medium break-all",children:o.customerEmail})]})]})]}),a.jsxs(W,{className:"p-3 sm:p-4",children:[a.jsx("h4",{className:"font-semibold mb-2 sm:mb-3 text-sm sm:text-base",children:""}),a.jsxs("p",{className:"text-xs sm:text-sm",children:[o.shippingAddress,a.jsx("br",{}),o.shippingPostcode," ",o.shippingCity,a.jsx("br",{}),o.shippingState]}),o.preferredDeliveryDate&&a.jsxs("p",{className:"text-xs sm:text-sm mt-2 text-muted-foreground",children:[": ",o.preferredDeliveryDate]})]}),a.jsxs(W,{className:"p-3 sm:p-4",children:[a.jsx("h4",{className:"font-semibold mb-2 sm:mb-3 text-sm sm:text-base",children:""}),a.jsx("div",{className:"space-y-2",children:O(o.items).map((D,B)=>a.jsxs("div",{className:"flex justify-between text-xs sm:text-sm gap-2",children:[a.jsx("span",{className:"truncate",children:D.flavorName}),a.jsxs("span",{className:"text-muted-foreground shrink-0",children:["x ",D.quantity]})]},B))}),a.jsxs("div",{className:"border-t mt-3 sm:mt-4 pt-3 sm:pt-4 flex justify-between font-semibold text-sm sm:text-base",children:[a.jsx("span",{children:""}),a.jsx("span",{className:"text-primary",children:_(o.totalAmount)})]})]}),a.jsxs("div",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[a.jsxs("p",{children:[": ",S(o.createdAt)]}),a.jsxs("p",{children:[": ",S(o.updatedAt)]})]}),a.jsx("div",{className:"flex justify-end pt-2 border-t",children:a.jsxs(C,{variant:"destructive",size:"sm",className:"gap-1",onClick:()=>v(o),disabled:j.isPending,children:[j.isPending?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Ut,{className:"w-4 h-4"}),""]})})]})]})}),a.jsx(P9,{open:u,onOpenChange:m,children:a.jsxs($A,{className:"w-[95vw] max-w-md",children:[a.jsxs(FA,{children:[a.jsx(UA,{children:""}),a.jsxs(qA,{children:[" ",a.jsxs("span",{className:"font-mono font-bold",children:["#",h==null?void 0:h.orderNumber]})," "]})]}),a.jsxs(BA,{className:"flex-col sm:flex-row gap-2",children:[a.jsx(KA,{className:"w-full sm:w-auto",children:""}),a.jsxs(VA,{onClick:N,className:"w-full sm:w-auto bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:j.isPending,children:[j.isPending?a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(Ut,{className:"w-4 h-4 mr-2"}),""]})]})]})})]})}const gp={phase1:"Phase 1 ",phase2:"Phase 2 ",phase3:"Phase 3 "};function r1(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let n=0;n<8;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function _R(){const t=new Date().toISOString().slice(0,10).replace(/-/g,""),n=Math.floor(1e3+Math.random()*9e3);return`BILL-${t}-${n}`}function nxe(){var ye,H,oe,G,$,Z;const{t:e}=ft(),{toast:t}=Jt(),[n,r]=y.useState(null),[s,i]=y.useState([]),[o,l]=y.useState(null),[c,d]=y.useState(!1),[u,m]=y.useState(""),[h,p]=y.useState(!1),[g,f]=y.useState(!1),[x,b]=y.useState(null),[j,v]=y.useState(!1),[N,w]=y.useState({}),[P,k]=y.useState(null),_=y.useRef(null),S=y.useRef(null),O=y.useRef(null),A=y.useRef(null),E=y.useRef("");y.useEffect(()=>{var U;(U=_.current)==null||U.scrollIntoView({behavior:"smooth"})},[s]);const{data:D}=Ae({queryKey:["order-supplement-stats"],queryFn:async()=>{const{data:U}=await L.from("order_supplement_sessions").select("status, total_orders_created, total_partners_created, total_members_created, total_amount_cents"),pe=U||[],ke=pe.filter(se=>se.status==="confirmed");return{totalSessions:pe.length,totalOrders:ke.reduce((se,I)=>se+(I.total_orders_created||0),0),totalPartners:ke.reduce((se,I)=>se+(I.total_partners_created||0),0),totalMembers:ke.reduce((se,I)=>se+(I.total_members_created||0),0),totalAmount:ke.reduce((se,I)=>se+(I.total_amount_cents||0),0)}}}),{data:B=[]}=Ae({queryKey:["order-supplement-history"],queryFn:async()=>{const{data:U}=await L.from("order_supplement_sessions").select("*").order("created_at",{ascending:!1}).limit(20);return U||[]}}),z=async U=>{const pe=U.name.split(".").pop()||"jpg",ke=`receipts/supplement-${Date.now()}-${Math.random().toString(36).slice(2,6)}.${pe}`,{error:se}=await L.storage.from("purchase-docs").upload(ke,U);if(se)throw se;const{data:{publicUrl:I}}=L.storage.from("purchase-docs").getPublicUrl(ke);return I},K=Ce({mutationFn:async({msg:U,imageUrl:pe})=>{const{data:{session:ke}}=await L.auth.getSession(),se=ke==null?void 0:ke.access_token;if(!se)throw new Error("Not authenticated");const be=await fetch("https://vpzmhglfwomgrashheol.supabase.co/functions/v1/admin-order-supplement",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({session_id:n,message:U,image_url:pe||void 0})});if(!be.ok){const _e=await be.json().catch(()=>({}));throw new Error(_e.error||`HTTP ${be.status}`)}return be.json()},onSuccess:U=>{!n&&U.session_id&&r(U.session_id),i(pe=>[...pe,{role:"assistant",content:U.message}]),U.parsed_actions&&l(U.parsed_actions),U.ready_to_confirm&&d(!0)},onError:U=>{t({title:e("admin.orderSupplementPage.error"),description:U.message,variant:"destructive"})}}),Y=y.useCallback(async()=>{const U=u.trim();if(!U&&!x||K.isPending||j)return;let pe;if(x){v(!0);try{pe=await z(x.file)}catch(I){t({title:e("admin.orderSupplementPage.uploadFailed"),description:I.message,variant:"destructive"}),v(!1);return}v(!1)}const ke=U||e("admin.orderSupplementPage.sentImage");i(I=>[...I,{role:"user",content:ke,image_url:pe}]),m(""),b(null);const se=U||"";K.mutate({msg:se,imageUrl:pe})},[u,x,K,j]),M=U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),Y())},R=U=>{var se;const pe=(se=U.target.files)==null?void 0:se[0];if(!pe)return;if(!pe.type.startsWith("image/")){t({title:e("admin.orderSupplementPage.imageOnly"),variant:"destructive"});return}if(pe.size>10*1024*1024){t({title:e("admin.orderSupplementPage.imageTooLarge"),variant:"destructive"});return}const ke=URL.createObjectURL(pe);b({file:pe,preview:ke}),U.target.value=""},J=async U=>{var se;const pe=(se=U.target.files)==null?void 0:se[0],ke=E.current;if(!(!pe||!ke)){U.target.value="",k(ke);try{const I=await z(pe);w(be=>({...be,[ke]:I})),t({title:e("admin.orderSupplementPage.receiptUploaded")})}catch(I){t({title:e("admin.orderSupplementPage.uploadFailed"),description:I.message,variant:"destructive"})}finally{k(null)}}},ie=U=>{var pe;E.current=U,(pe=A.current)==null||pe.click()},F=()=>{var U;r(null),i([]),l(null),d(!1),f(!1),m(""),b(null),w({}),(U=S.current)==null||U.focus()},le=U=>{r(U.id),i(U.messages||[]),l(U.parsed_actions),d(U.status==="in_progress"&&!!U.parsed_actions),f(!1),w({})},q=async()=>{var U,pe,ke,se,I,be;if(!(!o||!n)){p(!0);try{let _e=0,Me=0,He=0,mt=0;const ee=[],{data:{session:he}}=await L.auth.getSession(),T=((U=he==null?void 0:he.user)==null?void 0:U.id)||null;if((pe=o.member_registrations)!=null&&pe.length)for(const Ne of o.member_registrations)try{const je=Ne.customer_phone.replace(/\s+/g,""),{data:Ge}=await L.from("members").select("id").eq("phone",je).maybeSingle();if(Ge){ee.push({action:"member_register",success:!0,details:`${Ne.customer_name} already exists`});continue}let pt=null;if(Ne.referral_code){const Ta=Ne.referral_code.toUpperCase(),{data:wa}=await L.from("members").select("id").eq("referral_code",Ta).maybeSingle();if(wa)pt=wa.id;else{const{data:Ha}=await L.from("members").select("id").eq("phone",Ne.referral_code).maybeSingle();Ha&&(pt=Ha.id)}}const Wa=r1(),{error:ga}=await L.from("members").insert({user_id:null,name:Ne.customer_name,phone:je,email:Ne.customer_email||null,role:"member",points_balance:0,referral_code:Wa,referrer_id:pt,created_at:new Date().toISOString()});if(ga)throw ga;He++,ee.push({action:"member_register",success:!0,details:`${Ne.customer_name} (${je})`})}catch(je){ee.push({action:"member_register",success:!1,details:`${Ne.customer_name}: ${je.message}`})}if((ke=o.partner_joins)!=null&&ke.length)for(let Ne=0;Ne<o.partner_joins.length;Ne++){const je=o.partner_joins[Ne];try{const Ge=je.customer_phone.replace(/\s+/g,"");let{data:pt}=await L.from("members").select("id, referrer_id, referral_code").eq("phone",Ge).maybeSingle();if(!pt){const Ve=r1(),{data:Rt,error:ne}=await L.from("members").insert({name:je.customer_name,phone:Ge,role:"member",points_balance:0,referral_code:Ve,created_at:new Date().toISOString()}).select("id, referrer_id, referral_code").single();if(ne)throw ne;pt=Rt,He++}if(je.referral_code&&!pt.referrer_id){const{data:Ve}=await L.from("members").select("id").eq("referral_code",je.referral_code.toUpperCase()).maybeSingle();Ve&&await L.from("members").update({referrer_id:Ve.id}).eq("id",pt.id)}const{error:Wa}=await Ioe(pt.id,je.tier,je.referral_code||null,je.payment_reference||"bank_transfer");if(Wa)throw Wa;const ga=(se=je.deductions)!=null&&se.length?je.deductions.map(Ve=>`${Ve.description}: -RM${(Ve.amount_cents/100).toFixed(2)}`).join("; "):"",Ta=je.actual_paid_cents!=null&&je.actual_paid_cents!==je.payment_amount_cents?` | RM${(je.actual_paid_cents/100).toFixed(2)}`:"",wa=JSON.stringify([{product_name:gp[je.tier],quantity:1,unit_price_cents:je.payment_amount_cents}]),{order:Ha}=await Im({userId:null,memberId:pt.id,customerName:je.customer_name,customerPhone:Ge,customerEmail:null,status:"confirmed",totalAmount:je.payment_amount_cents,items:wa,packageType:je.tier,shippingAddress:null,shippingCity:null,shippingState:null,shippingPostcode:null,preferredDeliveryDate:null,trackingNumber:null,notes:`[] ${gp[je.tier]}${Ta}${ga?` | : ${ga}`:""} ${je.payment_reference||""}`.trim(),source:"bank_transfer",erpnextId:null,metaOrderId:null,pointsEarned:null,pointsRedeemed:null,sourceChannel:"admin_supplement",orderNumber:""});Ha&&(await FD(Ha.id,"confirmed"),_e++);const Fa=`partner-${Ne}`,Ba=N[Fa]||null,fn=_R(),ue=je.actual_paid_cents??je.payment_amount_cents;await L.from("bills").insert({bill_number:fn,type:"operation",category:"",vendor:je.customer_name,amount:ue,description:`${gp[je.tier]} - ${je.customer_name} (${Ge})${Ta}`,status:"paid",paid_date:new Date().toISOString().slice(0,10),due_date:new Date().toISOString().slice(0,10),reference_type:"order",reference_id:(Ha==null?void 0:Ha.id)||n,receipt_url:Ba,created_by:T,notes:[je.payment_reference,ga].filter(Boolean).join(" | ")||null}),Me++,mt+=je.payment_amount_cents,ee.push({action:"partner_join",success:!0,details:`${je.customer_name}  ${gp[je.tier]}`})}catch(Ge){ee.push({action:"partner_join",success:!1,details:`${je.customer_name}: ${Ge.message}`})}}if((I=o.product_orders)!=null&&I.length)for(let Ne=0;Ne<o.product_orders.length;Ne++){const je=o.product_orders[Ne];try{const Ge=je.customer_phone.replace(/\s+/g,"");let{data:pt}=await L.from("members").select("id, referrer_id").eq("phone",Ge).maybeSingle();if(!pt){const Ve=r1(),{data:Rt,error:ne}=await L.from("members").insert({name:je.customer_name,phone:Ge,role:"member",points_balance:0,referral_code:Ve,created_at:new Date().toISOString()}).select("id, referrer_id").single();if(ne)throw ne;pt=Rt,He++}if(je.referral_code&&!pt.referrer_id){const{data:Ve}=await L.from("members").select("id").eq("referral_code",je.referral_code.toUpperCase()).maybeSingle();Ve&&await L.from("members").update({referrer_id:Ve.id}).eq("id",pt.id)}const Wa=(be=je.deductions)!=null&&be.length?je.deductions.map(Ve=>`${Ve.description}: -RM${(Ve.amount_cents/100).toFixed(2)}`).join("; "):"",ga=je.actual_paid_cents!=null&&je.actual_paid_cents!==je.total_amount_cents?` | RM${(je.actual_paid_cents/100).toFixed(2)}`:"",Ta=JSON.stringify(je.items),{order:wa,error:Ha}=await Im({userId:null,memberId:pt.id,customerName:je.customer_name,customerPhone:Ge,customerEmail:null,status:"confirmed",totalAmount:je.total_amount_cents,items:Ta,packageType:null,shippingAddress:null,shippingCity:null,shippingState:null,shippingPostcode:null,preferredDeliveryDate:null,trackingNumber:null,notes:`[]${ga}${Wa?` | : ${Wa}`:""} ${je.payment_reference||""} ${je.notes||""}`.trim(),source:"bank_transfer",erpnextId:null,metaOrderId:null,pointsEarned:null,pointsRedeemed:null,sourceChannel:"admin_supplement",orderNumber:""});if(Ha)throw Ha;if(!wa)throw new Error("Order creation returned null");await FD(wa.id,"confirmed"),je.skip_cashback||await $oe(wa.id,je.total_amount_cents,je.box_count,pt.id),await aU(wa.id,je.total_amount_cents);const Fa=`order-${Ne}`,Ba=N[Fa]||null,fn=_R(),ue=je.actual_paid_cents??je.total_amount_cents;await L.from("bills").insert({bill_number:fn,type:"operation",category:"",vendor:je.customer_name,amount:ue,description:` ${wa.orderNumber} - ${je.customer_name}  ${je.box_count}${ga}`,status:"paid",paid_date:new Date().toISOString().slice(0,10),due_date:new Date().toISOString().slice(0,10),reference_type:"order",reference_id:wa.id,receipt_url:Ba,created_by:T,notes:[je.payment_reference,Wa].filter(Boolean).join(" | ")||null}),_e++,mt+=je.total_amount_cents,ee.push({action:"product_order",success:!0,details:`${je.customer_name}  ${je.box_count}  RM ${(je.total_amount_cents/100).toFixed(2)}`})}catch(Ge){ee.push({action:"product_order",success:!1,details:`${je.customer_name}: ${Ge.message}`})}}await L.from("order_supplement_sessions").update({status:"confirmed",execution_results:ee,total_orders_created:_e,total_partners_created:Me,total_members_created:He,total_amount_cents:mt,updated_at:new Date().toISOString()}).eq("id",n);const me=ee.filter(Ne=>Ne.success).length,re=ee.filter(Ne=>!Ne.success).length,xe=[` ${e("admin.orderSupplementPage.executionComplete")}`,He>0?`${e("admin.orderSupplementPage.membersCreated")}: ${He}`:null,Me>0?`${e("admin.orderSupplementPage.partnersCreated")}: ${Me}`:null,_e>0?`${e("admin.orderSupplementPage.ordersCreated")}: ${_e}`:null,`${e("admin.orderSupplementPage.totalAmount")}: RM ${(mt/100).toFixed(2)}`,re>0?` ${re} ${e("admin.orderSupplementPage.failed")}`:null].filter(Boolean).join(`
`);i(Ne=>[...Ne,{role:"assistant",content:xe}]),d(!1),w({}),on.invalidateQueries({queryKey:["order-supplement-stats"]}),on.invalidateQueries({queryKey:["order-supplement-history"]}),t({title:e("admin.orderSupplementPage.confirmSuccess"),description:`${me} ${e("admin.orderSupplementPage.actionsCompleted")}`})}catch(_e){t({title:e("admin.orderSupplementPage.error"),description:_e.message,variant:"destructive"})}finally{p(!1)}}},ve=(((ye=o==null?void 0:o.member_registrations)==null?void 0:ye.length)||0)+(((H=o==null?void 0:o.partner_joins)==null?void 0:H.length)||0)+(((oe=o==null?void 0:o.product_orders)==null?void 0:oe.length)||0);return a.jsxs(yt,{children:[a.jsx("input",{ref:O,type:"file",accept:"image/*",className:"hidden",onChange:R}),a.jsx("input",{ref:A,type:"file",accept:"image/*",className:"hidden",onChange:J}),a.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] max-w-full overflow-hidden",children:[a.jsxs("div",{className:"flex-none px-3 sm:px-4 pt-3 sm:pt-4 pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[g&&a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>f(!1),children:a.jsx(Zn,{className:"w-4 h-4"})}),a.jsx(bP,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary shrink-0"}),a.jsx("h1",{className:"text-base sm:text-xl font-bold truncate",children:e("admin.orderSupplementPage.title")})]}),a.jsxs("div",{className:"flex gap-1.5 sm:gap-2 shrink-0",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"h-8 px-2 sm:px-3 text-xs sm:text-sm",onClick:()=>f(!g),children:[a.jsx(XC,{className:"w-3.5 h-3.5 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.orderSupplementPage.history")})]}),a.jsxs(C,{size:"sm",className:"h-8 px-2 sm:px-3 text-xs sm:text-sm",onClick:F,children:[a.jsx(zt,{className:"w-3.5 h-3.5 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.orderSupplementPage.newSession")})]})]})]}),a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-3 px-3 sm:mx-0 sm:px-0 sm:grid sm:grid-cols-5 sm:overflow-visible scrollbar-none",children:[{label:e("admin.orderSupplementPage.statSessions"),value:(D==null?void 0:D.totalSessions)||0},{label:e("admin.orderSupplementPage.statOrders"),value:(D==null?void 0:D.totalOrders)||0},{label:e("admin.orderSupplementPage.statPartners"),value:(D==null?void 0:D.totalPartners)||0},{label:e("admin.orderSupplementPage.statMembers"),value:(D==null?void 0:D.totalMembers)||0},{label:e("admin.orderSupplementPage.statAmount"),value:`RM ${(((D==null?void 0:D.totalAmount)||0)/100).toFixed(0)}`}].map((U,pe)=>a.jsx(W,{className:"shrink-0 w-[120px] sm:w-auto",children:a.jsxs(ae,{className:"p-2 sm:p-3",children:[a.jsx("div",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:U.label}),a.jsx("div",{className:"text-sm sm:text-lg font-bold",children:U.value})]})},pe))})]}),g?a.jsx("div",{className:"flex-1 overflow-y-auto px-3 sm:px-4 pb-4",children:a.jsx("div",{className:"space-y-2",children:B.length===0?a.jsx("div",{className:"text-center py-12 text-muted-foreground text-sm",children:e("admin.orderSupplementPage.noHistory")}):B.map(U=>{var pe;return a.jsx(W,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>le(U),children:a.jsxs(ae,{className:"p-2.5 sm:p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[a.jsx(te,{variant:U.status==="confirmed"?"default":U.status==="cancelled"?"destructive":"secondary",className:"text-[10px] shrink-0",children:U.status==="confirmed"?e("admin.orderSupplementPage.confirmed"):U.status==="cancelled"?e("admin.orderSupplementPage.cancelled"):e("admin.orderSupplementPage.inProgress")}),a.jsx("span",{className:"text-xs text-muted-foreground truncate",children:new Date(U.created_at).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs shrink-0",children:[U.total_partners_created>0&&a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx(Tt,{className:"w-3 h-3"})," ",U.total_partners_created]}),U.total_orders_created>0&&a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx(Wr,{className:"w-3 h-3"})," ",U.total_orders_created]}),U.total_amount_cents>0&&a.jsxs("span",{className:"font-medium",children:["RM ",(U.total_amount_cents/100).toFixed(0)]})]})]}),((pe=U.messages)==null?void 0:pe.length)>0&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:U.messages[0].content})]})},U.id)})})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-1 overflow-y-auto px-3 sm:px-4",children:s.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-muted-foreground px-4",children:[a.jsx(bP,{className:"w-10 h-10 sm:w-12 sm:h-12 mb-3 opacity-30"}),a.jsx("p",{className:"text-sm sm:text-lg font-medium mb-1",children:e("admin.orderSupplementPage.welcomeTitle")}),a.jsx("p",{className:"text-xs sm:text-sm max-w-sm",children:e("admin.orderSupplementPage.welcomeDesc")}),a.jsxs("div",{className:"mt-4 sm:mt-6 space-y-2 text-xs sm:text-sm text-left w-full max-w-sm",children:[a.jsx("p",{className:"font-medium",children:e("admin.orderSupplementPage.exampleTitle")}),a.jsxs("div",{className:"bg-muted/50 rounded-lg p-2.5 sm:p-3 space-y-1 text-[11px] sm:text-xs",children:[a.jsx("p",{children:'"RM1000Phase 10123456789"'}),a.jsx("p",{children:'"RM73620187654321"'}),a.jsxs("p",{className:"flex items-center gap-1",children:[a.jsx(oD,{className:"w-3 h-3"})," ",e("admin.orderSupplementPage.sendImageTip")]})]})]})]}):a.jsxs("div",{className:"space-y-2.5 sm:space-y-3 py-3 sm:py-4",children:[s.map((U,pe)=>a.jsx("div",{className:`flex ${U.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[85%] sm:max-w-[75%] rounded-2xl px-3 py-2 text-[13px] sm:text-sm ${U.role==="user"?"bg-primary text-primary-foreground rounded-br-md":"bg-muted rounded-bl-md"}`,children:[U.image_url&&a.jsx("img",{src:U.image_url,alt:"receipt",className:"rounded-lg mb-1.5 max-w-full max-h-48 sm:max-h-64 object-contain cursor-pointer",onClick:()=>window.open(U.image_url,"_blank")}),a.jsx("div",{className:"whitespace-pre-wrap break-words",children:U.content})]})},pe)),(K.isPending||j)&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-muted rounded-2xl rounded-bl-md px-3 py-2",children:a.jsx(fe,{className:"w-4 h-4 animate-spin"})})}),a.jsx("div",{ref:_})]})}),o&&ve>0&&a.jsx("div",{className:"flex-none px-3 sm:px-4 py-2 border-t bg-muted/30 max-h-[40vh] overflow-y-auto",children:a.jsxs("div",{className:"space-y-1.5",children:[(G=o.member_registrations)==null?void 0:G.map((U,pe)=>a.jsxs("div",{className:"flex items-center gap-1.5 text-xs sm:text-sm bg-background rounded-lg p-2",children:[a.jsx(Br,{className:"w-3.5 h-3.5 text-blue-500 shrink-0"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:U.customer_name}),a.jsx("span",{className:"text-muted-foreground ml-1",children:U.customer_phone})]})]},`reg-${pe}`)),($=o.partner_joins)==null?void 0:$.map((U,pe)=>{var I;const ke=`partner-${pe}`,se=U.deductions&&U.deductions.length>0;return a.jsxs("div",{className:"bg-background rounded-lg p-2",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-xs sm:text-sm",children:[a.jsx(Tt,{className:"w-3.5 h-3.5 text-green-500 shrink-0"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:U.customer_name}),a.jsx("span",{className:"text-muted-foreground ml-1 text-xs",children:U.customer_phone})]}),a.jsx(te,{variant:"outline",className:"text-[10px] shrink-0",children:(I=gp[U.tier])==null?void 0:I.split(" ").slice(0,2).join(" ")}),a.jsxs(te,{variant:"secondary",className:"text-[10px] shrink-0",children:["RM ",(U.payment_amount_cents/100).toFixed(0)]})]}),se&&a.jsxs("div",{className:"ml-5 mt-1 space-y-0.5",children:[U.actual_paid_cents!=null&&U.actual_paid_cents!==U.payment_amount_cents&&a.jsxs("div",{className:"text-[10px] text-blue-600 font-medium",children:[e("admin.orderSupplementPage.actualPaid"),": RM ",(U.actual_paid_cents/100).toFixed(2)]}),U.deductions.map((be,_e)=>a.jsxs("div",{className:"text-[10px] text-muted-foreground flex items-center gap-1",children:[a.jsx("span",{className:"text-amber-500",children:"-"}),a.jsxs("span",{children:[be.description,": RM ",(be.amount_cents/100).toFixed(2)]})]},_e))]}),a.jsx("div",{className:"flex items-center gap-1.5 mt-1.5 ml-5",children:N[ke]?a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-green-600",children:[a.jsx(Le,{className:"w-3 h-3"}),a.jsx("span",{children:e("admin.orderSupplementPage.receiptAttached")}),a.jsx("img",{src:N[ke],className:"w-8 h-8 rounded object-cover ml-1 cursor-pointer",onClick:()=>window.open(N[ke],"_blank")})]}):a.jsxs(C,{variant:"ghost",size:"sm",className:"h-6 px-2 text-[10px] text-muted-foreground",onClick:()=>ie(ke),disabled:P===ke,children:[P===ke?a.jsx(fe,{className:"w-3 h-3 animate-spin mr-1"}):a.jsx(rb,{className:"w-3 h-3 mr-1"}),e("admin.orderSupplementPage.attachReceipt")]})})]},ke)}),(Z=o.product_orders)==null?void 0:Z.map((U,pe)=>{const ke=`order-${pe}`,se=U.deductions&&U.deductions.length>0;return a.jsxs("div",{className:"bg-background rounded-lg p-2",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-xs sm:text-sm",children:[a.jsx(Wr,{className:"w-3.5 h-3.5 text-orange-500 shrink-0"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:U.customer_name}),a.jsx("span",{className:"text-muted-foreground ml-1 text-xs",children:U.customer_phone})]}),a.jsxs(te,{variant:"outline",className:"text-[10px] shrink-0",children:[U.box_count,e("admin.orderSupplementPage.boxes")]}),a.jsxs(te,{variant:"secondary",className:"text-[10px] shrink-0",children:["RM ",(U.total_amount_cents/100).toFixed(0)]})]}),se&&a.jsxs("div",{className:"ml-5 mt-1 space-y-0.5",children:[U.actual_paid_cents!=null&&U.actual_paid_cents!==U.total_amount_cents&&a.jsxs("div",{className:"text-[10px] text-blue-600 font-medium",children:[e("admin.orderSupplementPage.actualPaid"),": RM ",(U.actual_paid_cents/100).toFixed(2)]}),U.deductions.map((I,be)=>a.jsxs("div",{className:"text-[10px] text-muted-foreground flex items-center gap-1",children:[a.jsx("span",{className:"text-amber-500",children:"-"}),a.jsxs("span",{children:[I.description,": RM ",(I.amount_cents/100).toFixed(2)]})]},be))]}),a.jsx("div",{className:"flex items-center gap-1.5 mt-1.5 ml-5",children:N[ke]?a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-green-600",children:[a.jsx(Le,{className:"w-3 h-3"}),a.jsx("span",{children:e("admin.orderSupplementPage.receiptAttached")}),a.jsx("img",{src:N[ke],className:"w-8 h-8 rounded object-cover ml-1 cursor-pointer",onClick:()=>window.open(N[ke],"_blank")})]}):a.jsxs(C,{variant:"ghost",size:"sm",className:"h-6 px-2 text-[10px] text-muted-foreground",onClick:()=>ie(ke),disabled:P===ke,children:[P===ke?a.jsx(fe,{className:"w-3 h-3 animate-spin mr-1"}):a.jsx(rb,{className:"w-3 h-3 mr-1"}),e("admin.orderSupplementPage.attachReceipt")]})})]},ke)}),c&&a.jsxs("div",{className:"flex items-center gap-2 pt-1 pb-0.5",children:[a.jsx(Zi,{className:"w-4 h-4 text-amber-500 shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm font-medium text-amber-600 flex-1",children:e("admin.orderSupplementPage.readyToConfirm")}),a.jsxs(C,{size:"sm",onClick:q,disabled:h,className:"h-8 text-xs sm:text-sm shrink-0",children:[h?a.jsx(fe,{className:"w-3.5 h-3.5 animate-spin mr-1"}):a.jsx(Le,{className:"w-3.5 h-3.5 mr-1"}),e("admin.orderSupplementPage.confirmExecute")]})]})]})}),x&&a.jsx("div",{className:"flex-none px-3 sm:px-4 pt-2 border-t bg-muted/20",children:a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:x.preview,alt:"preview",className:"h-16 sm:h-20 rounded-lg object-cover"}),a.jsx("button",{className:"absolute -top-1.5 -right-1.5 bg-destructive text-destructive-foreground rounded-full w-5 h-5 flex items-center justify-center",onClick:()=>{URL.revokeObjectURL(x.preview),b(null)},children:a.jsx(eo,{className:"w-3 h-3"})})]})}),a.jsx("div",{className:"flex-none px-2 sm:px-4 py-2 sm:py-3 border-t bg-background",children:a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[a.jsx(C,{variant:"ghost",size:"icon",className:"h-9 w-9 shrink-0 text-muted-foreground",onClick:()=>{var U;return(U=O.current)==null?void 0:U.click()},disabled:K.isPending||j,children:a.jsx(oD,{className:"w-5 h-5"})}),a.jsx(ce,{ref:S,value:u,onChange:U=>m(U.target.value),onKeyDown:M,placeholder:e("admin.orderSupplementPage.inputPlaceholder"),disabled:K.isPending||j,className:"flex-1 h-9 sm:h-10 text-sm rounded-full bg-muted/50 border-0 focus-visible:ring-1"}),a.jsx(C,{onClick:Y,disabled:!u.trim()&&!x||K.isPending||j,size:"icon",className:"h-9 w-9 rounded-full shrink-0",children:K.isPending||j?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Ro,{className:"w-4 h-4"})})]})})]})]})]})}var Ex=e=>e.type==="checkbox",ad=e=>e instanceof Date,wr=e=>e==null;const S9=e=>typeof e=="object";var mn=e=>!wr(e)&&!Array.isArray(e)&&S9(e)&&!ad(e),C9=e=>mn(e)&&e.target?Ex(e.target)?e.target.checked:e.target.value:e,rxe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,A9=(e,t)=>e.has(rxe(t)),sxe=e=>{const t=e.constructor&&e.constructor.prototype;return mn(t)&&t.hasOwnProperty("isPrototypeOf")},zA=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ga(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(zA&&(e instanceof Blob||r))&&(n||mn(e)))if(t=n?[]:{},!n&&!sxe(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Ga(e[s]));else return e;return t}var Ox=e=>Array.isArray(e)?e.filter(Boolean):[],Ra=e=>e===void 0,qe=(e,t,n)=>{if(!t||!mn(e))return n;const r=Ox(t.split(/[,[\].]+?/)).reduce((s,i)=>wr(s)?s:s[i],e);return Ra(r)||r===e?Ra(e[t])?n:e[t]:r},ns=e=>typeof e=="boolean",WA=e=>/^\w*$/.test(e),T9=e=>Ox(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ea=(e,t,n)=>{let r=-1;const s=WA(t)?[t]:T9(t),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const d=e[l];c=mn(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Cb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Is={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},go={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},E9=X.createContext(null),Dx=()=>X.useContext(E9),ixe=e=>{const{children:t,...n}=e;return X.createElement(E9.Provider,{value:n},t)};var O9=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Is.all&&(t._proxyFormState[o]=!r||Is.all),n&&(n[o]=!0),e[o]}});return s};function oxe(e){const t=Dx(),{control:n=t.control,disabled:r,name:s,exact:i}=e||{},[o,l]=X.useState(n._formState),c=X.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=X.useRef(s);return d.current=s,X.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[n,r,i]),X.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),X.useMemo(()=>O9(o,n,c.current,!1),[o,n])}var Bi=e=>typeof e=="string",D9=(e,t,n,r,s)=>Bi(e)?(r&&t.watch.add(e),qe(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),qe(n,i))):(r&&(t.watchAll=!0),n);function lxe(e){const t=Dx(),{control:n=t.control,name:r,defaultValue:s,disabled:i,exact:o}=e||{},l=X.useRef(r),c=X.useRef(s);l.current=r,X.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:m=>!i&&u(D9(l.current,n._names,m.values||n._formValues,!1,c.current))}),[n,i,o]);const[d,u]=X.useState(n._getWatch(r,s));return X.useEffect(()=>n._removeUnmounted()),d}function cxe(e){const t=Dx(),{name:n,disabled:r,control:s=t.control,shouldUnregister:i}=e,o=A9(s._names.array,n),l=lxe({control:s,name:n,defaultValue:qe(s._formValues,n,qe(s._defaultValues,n,e.defaultValue)),exact:!0}),c=oxe({control:s,name:n,exact:!0}),d=X.useRef(e),u=X.useRef(s.register(n,{...e.rules,value:l,...ns(e.disabled)?{disabled:e.disabled}:{}})),m=X.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!qe(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!qe(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!qe(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!qe(c.validatingFields,n)},error:{enumerable:!0,get:()=>qe(c.errors,n)}}),[c,n]),h=X.useCallback(x=>u.current.onChange({target:{value:C9(x),name:n},type:Cb.CHANGE}),[n]),p=X.useCallback(()=>u.current.onBlur({target:{value:qe(s._formValues,n),name:n},type:Cb.BLUR}),[n,s._formValues]),g=X.useCallback(x=>{const b=qe(s._fields,n);b&&x&&(b._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:j=>x.setCustomValidity(j),reportValidity:()=>x.reportValidity()})},[s._fields,n]),f=X.useMemo(()=>({name:n,value:l,...ns(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:h,onBlur:p,ref:g}),[n,r,c.disabled,h,p,g,l]);return X.useEffect(()=>{const x=s._options.shouldUnregister||i;s.register(n,{...d.current.rules,...ns(d.current.disabled)?{disabled:d.current.disabled}:{}});const b=(j,v)=>{const N=qe(s._fields,j);N&&N._f&&(N._f.mount=v)};if(b(n,!0),x){const j=Ga(qe(s._options.defaultValues,n));ea(s._defaultValues,n,j),Ra(qe(s._formValues,n))&&ea(s._formValues,n,j)}return!o&&s.register(n),()=>{(o?x&&!s._state.action:x)?s.unregister(n):b(n,!1)}},[n,s,o,i]),X.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),X.useMemo(()=>({field:f,formState:c,fieldState:m}),[f,c,m])}const dxe=e=>e.render(cxe(e));var M9=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},Ur=e=>Array.isArray(e)?e:[e],SR=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},l_=e=>wr(e)||!S9(e);function Cl(e,t){if(l_(e)||l_(t))return e===t;if(ad(e)&&ad(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const i=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=t[s];if(ad(i)&&ad(o)||mn(i)&&mn(o)||Array.isArray(i)&&Array.isArray(o)?!Cl(i,o):i!==o)return!1}}return!0}var ir=e=>mn(e)&&!Object.keys(e).length,HA=e=>e.type==="file",hi=e=>typeof e=="function",Ab=e=>{if(!zA)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},R9=e=>e.type==="select-multiple",GA=e=>e.type==="radio",uxe=e=>GA(e)||Ex(e),s1=e=>Ab(e)&&e.isConnected;function mxe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ra(e)?r++:e[t[r++]];return e}function hxe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ra(e[t]))return!1;return!0}function xn(e,t){const n=Array.isArray(t)?t:WA(t)?[t]:T9(t),r=n.length===1?e:mxe(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(mn(r)&&ir(r)||Array.isArray(r)&&hxe(r))&&xn(e,n.slice(0,-1)),e}var I9=e=>{for(const t in e)if(hi(e[t]))return!0;return!1};function Tb(e,t={}){const n=Array.isArray(e);if(mn(e)||n)for(const r in e)Array.isArray(e[r])||mn(e[r])&&!I9(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Tb(e[r],t[r])):wr(e[r])||(t[r]=!0);return t}function L9(e,t,n){const r=Array.isArray(e);if(mn(e)||r)for(const s in e)Array.isArray(e[s])||mn(e[s])&&!I9(e[s])?Ra(t)||l_(n[s])?n[s]=Array.isArray(e[s])?Tb(e[s],[]):{...Tb(e[s])}:L9(e[s],wr(t)?{}:t[s],n[s]):n[s]=!Cl(e[s],t[s]);return n}var xp=(e,t)=>L9(e,t,Tb(t));const CR={value:!1,isValid:!1},AR={value:!0,isValid:!0};var $9=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ra(e[0].attributes.value)?Ra(e[0].value)||e[0].value===""?AR:{value:e[0].value,isValid:!0}:AR:CR}return CR},F9=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Ra(e)?e:t?e===""?NaN:e&&+e:n&&Bi(e)?new Date(e):r?r(e):e;const TR={isValid:!1,value:null};var B9=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,TR):TR;function ER(e){const t=e.ref;return HA(t)?t.files:GA(t)?B9(e.refs).value:R9(t)?[...t.selectedOptions].map(({value:n})=>n):Ex(t)?$9(e.refs).value:F9(Ra(t.value)?e.ref.value:t.value,e)}var pxe=(e,t,n,r)=>{const s={};for(const i of e){const o=qe(t,i);o&&ea(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Eb=e=>e instanceof RegExp,yp=e=>Ra(e)?e:Eb(e)?e.source:mn(e)?Eb(e.value)?e.value.source:e.value:e,Vu=e=>({isOnSubmit:!e||e===Is.onSubmit,isOnBlur:e===Is.onBlur,isOnChange:e===Is.onChange,isOnAll:e===Is.all,isOnTouch:e===Is.onTouched});const OR="AsyncFunction";var fxe=e=>!!e&&!!e.validate&&!!(hi(e.validate)&&e.validate.constructor.name===OR||mn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===OR)),gxe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),c_=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const lm=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=qe(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(lm(l,t))break}else if(mn(l)&&lm(l,t))break}}};function DR(e,t,n){const r=qe(e,n);if(r||WA(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=qe(t,i),l=qe(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var xxe=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return ir(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||Is.all))},yxe=(e,t,n)=>!e||!t||e===t||Ur(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),vxe=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,bxe=(e,t)=>!Ox(qe(e,t)).length&&xn(e,t),U9=(e,t,n)=>{const r=Ur(qe(e,n));return ea(r,"root",t[n]),ea(e,n,r),e},kv=e=>Bi(e);function MR(e,t,n="validate"){if(kv(e)||Array.isArray(e)&&e.every(kv)||ns(e)&&!e)return{type:n,message:kv(e)?e:"",ref:t}}var fu=e=>mn(e)&&!Eb(e)?e:{value:e,message:""},d_=async(e,t,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:m,max:h,pattern:p,validate:g,name:f,valueAsNumber:x,mount:b}=e._f,j=qe(n,f);if(!b||t.has(f))return{};const v=l?l[0]:o,N=E=>{s&&v.reportValidity&&(v.setCustomValidity(ns(E)?"":E||""),v.reportValidity())},w={},P=GA(o),k=Ex(o),_=P||k,S=(x||HA(o))&&Ra(o.value)&&Ra(j)||Ab(o)&&o.value===""||j===""||Array.isArray(j)&&!j.length,O=M9.bind(null,f,r,w),A=(E,D,B,z=go.maxLength,K=go.minLength)=>{const Y=E?D:B;w[f]={type:E?z:K,message:Y,ref:o,...O(E?z:K,Y)}};if(i?!Array.isArray(j)||!j.length:c&&(!_&&(S||wr(j))||ns(j)&&!j||k&&!$9(l).isValid||P&&!B9(l).isValid)){const{value:E,message:D}=kv(c)?{value:!!c,message:c}:fu(c);if(E&&(w[f]={type:go.required,message:D,ref:v,...O(go.required,D)},!r))return N(D),w}if(!S&&(!wr(m)||!wr(h))){let E,D;const B=fu(h),z=fu(m);if(!wr(j)&&!isNaN(j)){const K=o.valueAsNumber||j&&+j;wr(B.value)||(E=K>B.value),wr(z.value)||(D=K<z.value)}else{const K=o.valueAsDate||new Date(j),Y=J=>new Date(new Date().toDateString()+" "+J),M=o.type=="time",R=o.type=="week";Bi(B.value)&&j&&(E=M?Y(j)>Y(B.value):R?j>B.value:K>new Date(B.value)),Bi(z.value)&&j&&(D=M?Y(j)<Y(z.value):R?j<z.value:K<new Date(z.value))}if((E||D)&&(A(!!E,B.message,z.message,go.max,go.min),!r))return N(w[f].message),w}if((d||u)&&!S&&(Bi(j)||i&&Array.isArray(j))){const E=fu(d),D=fu(u),B=!wr(E.value)&&j.length>+E.value,z=!wr(D.value)&&j.length<+D.value;if((B||z)&&(A(B,E.message,D.message),!r))return N(w[f].message),w}if(p&&!S&&Bi(j)){const{value:E,message:D}=fu(p);if(Eb(E)&&!j.match(E)&&(w[f]={type:go.pattern,message:D,ref:o,...O(go.pattern,D)},!r))return N(D),w}if(g){if(hi(g)){const E=await g(j,n),D=MR(E,v);if(D&&(w[f]={...D,...O(go.validate,D.message)},!r))return N(D.message),w}else if(mn(g)){let E={};for(const D in g){if(!ir(E)&&!r)break;const B=MR(await g[D](j,n),v,D);B&&(E={...B,...O(D,B.message)},N(B.message),r&&(w[f]=E))}if(!ir(E)&&(w[f]={ref:v,...E},!r))return w}}return N(!0),w};const wxe={mode:Is.onSubmit,reValidateMode:Is.onChange,shouldFocusError:!0};function jxe(e={}){let t={...wxe,...e},n={submitCount:0,isDirty:!1,isLoading:hi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let s=mn(t.defaultValues)||mn(t.values)?Ga(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:Ga(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...u};const h={array:SR(),state:SR()},p=Vu(t.mode),g=Vu(t.reValidateMode),f=t.criteriaMode===Is.all,x=ee=>he=>{clearTimeout(d),d=setTimeout(ee,he)},b=async ee=>{if(!t.disabled&&(u.isValid||m.isValid||ee)){const he=t.resolver?ir((await S()).errors):await A(r,!0);he!==n.isValid&&h.state.next({isValid:he})}},j=(ee,he)=>{!t.disabled&&(u.isValidating||u.validatingFields||m.isValidating||m.validatingFields)&&((ee||Array.from(l.mount)).forEach(T=>{T&&(he?ea(n.validatingFields,T,he):xn(n.validatingFields,T))}),h.state.next({validatingFields:n.validatingFields,isValidating:!ir(n.validatingFields)}))},v=(ee,he=[],T,me,re=!0,xe=!0)=>{if(me&&T&&!t.disabled){if(o.action=!0,xe&&Array.isArray(qe(r,ee))){const Ne=T(qe(r,ee),me.argA,me.argB);re&&ea(r,ee,Ne)}if(xe&&Array.isArray(qe(n.errors,ee))){const Ne=T(qe(n.errors,ee),me.argA,me.argB);re&&ea(n.errors,ee,Ne),bxe(n.errors,ee)}if((u.touchedFields||m.touchedFields)&&xe&&Array.isArray(qe(n.touchedFields,ee))){const Ne=T(qe(n.touchedFields,ee),me.argA,me.argB);re&&ea(n.touchedFields,ee,Ne)}(u.dirtyFields||m.dirtyFields)&&(n.dirtyFields=xp(s,i)),h.state.next({name:ee,isDirty:D(ee,he),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ea(i,ee,he)},N=(ee,he)=>{ea(n.errors,ee,he),h.state.next({errors:n.errors})},w=ee=>{n.errors=ee,h.state.next({errors:n.errors,isValid:!1})},P=(ee,he,T,me)=>{const re=qe(r,ee);if(re){const xe=qe(i,ee,Ra(T)?qe(s,ee):T);Ra(xe)||me&&me.defaultChecked||he?ea(i,ee,he?xe:ER(re._f)):K(ee,xe),o.mount&&b()}},k=(ee,he,T,me,re)=>{let xe=!1,Ne=!1;const je={name:ee};if(!t.disabled){if(!T||me){(u.isDirty||m.isDirty)&&(Ne=n.isDirty,n.isDirty=je.isDirty=D(),xe=Ne!==je.isDirty);const Ge=Cl(qe(s,ee),he);Ne=!!qe(n.dirtyFields,ee),Ge?xn(n.dirtyFields,ee):ea(n.dirtyFields,ee,!0),je.dirtyFields=n.dirtyFields,xe=xe||(u.dirtyFields||m.dirtyFields)&&Ne!==!Ge}if(T){const Ge=qe(n.touchedFields,ee);Ge||(ea(n.touchedFields,ee,T),je.touchedFields=n.touchedFields,xe=xe||(u.touchedFields||m.touchedFields)&&Ge!==T)}xe&&re&&h.state.next(je)}return xe?je:{}},_=(ee,he,T,me)=>{const re=qe(n.errors,ee),xe=(u.isValid||m.isValid)&&ns(he)&&n.isValid!==he;if(t.delayError&&T?(c=x(()=>N(ee,T)),c(t.delayError)):(clearTimeout(d),c=null,T?ea(n.errors,ee,T):xn(n.errors,ee)),(T?!Cl(re,T):re)||!ir(me)||xe){const Ne={...me,...xe&&ns(he)?{isValid:he}:{},errors:n.errors,name:ee};n={...n,...Ne},h.state.next(Ne)}},S=async ee=>{j(ee,!0);const he=await t.resolver(i,t.context,pxe(ee||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return j(ee),he},O=async ee=>{const{errors:he}=await S(ee);if(ee)for(const T of ee){const me=qe(he,T);me?ea(n.errors,T,me):xn(n.errors,T)}else n.errors=he;return he},A=async(ee,he,T={valid:!0})=>{for(const me in ee){const re=ee[me];if(re){const{_f:xe,...Ne}=re;if(xe){const je=l.array.has(xe.name),Ge=re._f&&fxe(re._f);Ge&&u.validatingFields&&j([me],!0);const pt=await d_(re,l.disabled,i,f,t.shouldUseNativeValidation&&!he,je);if(Ge&&u.validatingFields&&j([me]),pt[xe.name]&&(T.valid=!1,he))break;!he&&(qe(pt,xe.name)?je?U9(n.errors,pt,xe.name):ea(n.errors,xe.name,pt[xe.name]):xn(n.errors,xe.name))}!ir(Ne)&&await A(Ne,he,T)}}return T.valid},E=()=>{for(const ee of l.unMount){const he=qe(r,ee);he&&(he._f.refs?he._f.refs.every(T=>!s1(T)):!s1(he._f.ref))&&G(ee)}l.unMount=new Set},D=(ee,he)=>!t.disabled&&(ee&&he&&ea(i,ee,he),!Cl(F(),s)),B=(ee,he,T)=>D9(ee,l,{...o.mount?i:Ra(he)?s:Bi(ee)?{[ee]:he}:he},T,he),z=ee=>Ox(qe(o.mount?i:s,ee,t.shouldUnregister?qe(s,ee,[]):[])),K=(ee,he,T={})=>{const me=qe(r,ee);let re=he;if(me){const xe=me._f;xe&&(!xe.disabled&&ea(i,ee,F9(he,xe)),re=Ab(xe.ref)&&wr(he)?"":he,R9(xe.ref)?[...xe.ref.options].forEach(Ne=>Ne.selected=re.includes(Ne.value)):xe.refs?Ex(xe.ref)?xe.refs.length>1?xe.refs.forEach(Ne=>(!Ne.defaultChecked||!Ne.disabled)&&(Ne.checked=Array.isArray(re)?!!re.find(je=>je===Ne.value):re===Ne.value)):xe.refs[0]&&(xe.refs[0].checked=!!re):xe.refs.forEach(Ne=>Ne.checked=Ne.value===re):HA(xe.ref)?xe.ref.value="":(xe.ref.value=re,xe.ref.type||h.state.next({name:ee,values:Ga(i)})))}(T.shouldDirty||T.shouldTouch)&&k(ee,re,T.shouldTouch,T.shouldDirty,!0),T.shouldValidate&&ie(ee)},Y=(ee,he,T)=>{for(const me in he){const re=he[me],xe=`${ee}.${me}`,Ne=qe(r,xe);(l.array.has(ee)||mn(re)||Ne&&!Ne._f)&&!ad(re)?Y(xe,re,T):K(xe,re,T)}},M=(ee,he,T={})=>{const me=qe(r,ee),re=l.array.has(ee),xe=Ga(he);ea(i,ee,xe),re?(h.array.next({name:ee,values:Ga(i)}),(u.isDirty||u.dirtyFields||m.isDirty||m.dirtyFields)&&T.shouldDirty&&h.state.next({name:ee,dirtyFields:xp(s,i),isDirty:D(ee,xe)})):me&&!me._f&&!wr(xe)?Y(ee,xe,T):K(ee,xe,T),c_(ee,l)&&h.state.next({...n}),h.state.next({name:o.mount?ee:void 0,values:Ga(i)})},R=async ee=>{o.mount=!0;const he=ee.target;let T=he.name,me=!0;const re=qe(r,T),xe=Ne=>{me=Number.isNaN(Ne)||ad(Ne)&&isNaN(Ne.getTime())||Cl(Ne,qe(i,T,Ne))};if(re){let Ne,je;const Ge=he.type?ER(re._f):C9(ee),pt=ee.type===Cb.BLUR||ee.type===Cb.FOCUS_OUT,Wa=!gxe(re._f)&&!t.resolver&&!qe(n.errors,T)&&!re._f.deps||vxe(pt,qe(n.touchedFields,T),n.isSubmitted,g,p),ga=c_(T,l,pt);ea(i,T,Ge),pt?(re._f.onBlur&&re._f.onBlur(ee),c&&c(0)):re._f.onChange&&re._f.onChange(ee);const Ta=k(T,Ge,pt),wa=!ir(Ta)||ga;if(!pt&&h.state.next({name:T,type:ee.type,values:Ga(i)}),Wa)return(u.isValid||m.isValid)&&(t.mode==="onBlur"?pt&&b():pt||b()),wa&&h.state.next({name:T,...ga?{}:Ta});if(!pt&&ga&&h.state.next({...n}),t.resolver){const{errors:Ha}=await S([T]);if(xe(Ge),me){const Fa=DR(n.errors,r,T),Ba=DR(Ha,r,Fa.name||T);Ne=Ba.error,T=Ba.name,je=ir(Ha)}}else j([T],!0),Ne=(await d_(re,l.disabled,i,f,t.shouldUseNativeValidation))[T],j([T]),xe(Ge),me&&(Ne?je=!1:(u.isValid||m.isValid)&&(je=await A(r,!0)));me&&(re._f.deps&&ie(re._f.deps),_(T,je,Ne,Ta))}},J=(ee,he)=>{if(qe(n.errors,he)&&ee.focus)return ee.focus(),1},ie=async(ee,he={})=>{let T,me;const re=Ur(ee);if(t.resolver){const xe=await O(Ra(ee)?ee:re);T=ir(xe),me=ee?!re.some(Ne=>qe(xe,Ne)):T}else ee?(me=(await Promise.all(re.map(async xe=>{const Ne=qe(r,xe);return await A(Ne&&Ne._f?{[xe]:Ne}:Ne)}))).every(Boolean),!(!me&&!n.isValid)&&b()):me=T=await A(r);return h.state.next({...!Bi(ee)||(u.isValid||m.isValid)&&T!==n.isValid?{}:{name:ee},...t.resolver||!ee?{isValid:T}:{},errors:n.errors}),he.shouldFocus&&!me&&lm(r,J,ee?re:l.mount),me},F=ee=>{const he={...o.mount?i:s};return Ra(ee)?he:Bi(ee)?qe(he,ee):ee.map(T=>qe(he,T))},le=(ee,he)=>({invalid:!!qe((he||n).errors,ee),isDirty:!!qe((he||n).dirtyFields,ee),error:qe((he||n).errors,ee),isValidating:!!qe(n.validatingFields,ee),isTouched:!!qe((he||n).touchedFields,ee)}),q=ee=>{ee&&Ur(ee).forEach(he=>xn(n.errors,he)),h.state.next({errors:ee?n.errors:{}})},ve=(ee,he,T)=>{const me=(qe(r,ee,{_f:{}})._f||{}).ref,re=qe(n.errors,ee)||{},{ref:xe,message:Ne,type:je,...Ge}=re;ea(n.errors,ee,{...Ge,...he,ref:me}),h.state.next({name:ee,errors:n.errors,isValid:!1}),T&&T.shouldFocus&&me&&me.focus&&me.focus()},ye=(ee,he)=>hi(ee)?h.state.subscribe({next:T=>ee(B(void 0,he),T)}):B(ee,he,!0),H=ee=>h.state.subscribe({next:he=>{yxe(ee.name,he.name,ee.exact)&&xxe(he,ee.formState||u,Me,ee.reRenderRoot)&&ee.callback({values:{...i},...n,...he})}}).unsubscribe,oe=ee=>(o.mount=!0,m={...m,...ee.formState},H({...ee,formState:m})),G=(ee,he={})=>{for(const T of ee?Ur(ee):l.mount)l.mount.delete(T),l.array.delete(T),he.keepValue||(xn(r,T),xn(i,T)),!he.keepError&&xn(n.errors,T),!he.keepDirty&&xn(n.dirtyFields,T),!he.keepTouched&&xn(n.touchedFields,T),!he.keepIsValidating&&xn(n.validatingFields,T),!t.shouldUnregister&&!he.keepDefaultValue&&xn(s,T);h.state.next({values:Ga(i)}),h.state.next({...n,...he.keepDirty?{isDirty:D()}:{}}),!he.keepIsValid&&b()},$=({disabled:ee,name:he})=>{(ns(ee)&&o.mount||ee||l.disabled.has(he))&&(ee?l.disabled.add(he):l.disabled.delete(he))},Z=(ee,he={})=>{let T=qe(r,ee);const me=ns(he.disabled)||ns(t.disabled);return ea(r,ee,{...T||{},_f:{...T&&T._f?T._f:{ref:{name:ee}},name:ee,mount:!0,...he}}),l.mount.add(ee),T?$({disabled:ns(he.disabled)?he.disabled:t.disabled,name:ee}):P(ee,!0,he.value),{...me?{disabled:he.disabled||t.disabled}:{},...t.progressive?{required:!!he.required,min:yp(he.min),max:yp(he.max),minLength:yp(he.minLength),maxLength:yp(he.maxLength),pattern:yp(he.pattern)}:{},name:ee,onChange:R,onBlur:R,ref:re=>{if(re){Z(ee,he),T=qe(r,ee);const xe=Ra(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,Ne=uxe(xe),je=T._f.refs||[];if(Ne?je.find(Ge=>Ge===xe):xe===T._f.ref)return;ea(r,ee,{_f:{...T._f,...Ne?{refs:[...je.filter(s1),xe,...Array.isArray(qe(s,ee))?[{}]:[]],ref:{type:xe.type,name:ee}}:{ref:xe}}}),P(ee,!1,void 0,xe)}else T=qe(r,ee,{}),T._f&&(T._f.mount=!1),(t.shouldUnregister||he.shouldUnregister)&&!(A9(l.array,ee)&&o.action)&&l.unMount.add(ee)}}},U=()=>t.shouldFocusError&&lm(r,J,l.mount),pe=ee=>{ns(ee)&&(h.state.next({disabled:ee}),lm(r,(he,T)=>{const me=qe(r,T);me&&(he.disabled=me._f.disabled||ee,Array.isArray(me._f.refs)&&me._f.refs.forEach(re=>{re.disabled=me._f.disabled||ee}))},0,!1))},ke=(ee,he)=>async T=>{let me;T&&(T.preventDefault&&T.preventDefault(),T.persist&&T.persist());let re=Ga(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:xe,values:Ne}=await S();n.errors=xe,re=Ne}else await A(r);if(l.disabled.size)for(const xe of l.disabled)ea(re,xe,void 0);if(xn(n.errors,"root"),ir(n.errors)){h.state.next({errors:{}});try{await ee(re,T)}catch(xe){me=xe}}else he&&await he({...n.errors},T),U(),setTimeout(U);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ir(n.errors)&&!me,submitCount:n.submitCount+1,errors:n.errors}),me)throw me},se=(ee,he={})=>{qe(r,ee)&&(Ra(he.defaultValue)?M(ee,Ga(qe(s,ee))):(M(ee,he.defaultValue),ea(s,ee,Ga(he.defaultValue))),he.keepTouched||xn(n.touchedFields,ee),he.keepDirty||(xn(n.dirtyFields,ee),n.isDirty=he.defaultValue?D(ee,Ga(qe(s,ee))):D()),he.keepError||(xn(n.errors,ee),u.isValid&&b()),h.state.next({...n}))},I=(ee,he={})=>{const T=ee?Ga(ee):s,me=Ga(T),re=ir(ee),xe=re?s:me;if(he.keepDefaultValues||(s=T),!he.keepValues){if(he.keepDirtyValues){const Ne=new Set([...l.mount,...Object.keys(xp(s,i))]);for(const je of Array.from(Ne))qe(n.dirtyFields,je)?ea(xe,je,qe(i,je)):M(je,qe(xe,je))}else{if(zA&&Ra(ee))for(const Ne of l.mount){const je=qe(r,Ne);if(je&&je._f){const Ge=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(Ab(Ge)){const pt=Ge.closest("form");if(pt){pt.reset();break}}}}for(const Ne of l.mount)M(Ne,qe(xe,Ne))}i=Ga(xe),h.array.next({values:{...xe}}),h.state.next({values:{...xe}})}l={mount:he.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!he.keepIsValid||!!he.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:he.keepSubmitCount?n.submitCount:0,isDirty:re?!1:he.keepDirty?n.isDirty:!!(he.keepDefaultValues&&!Cl(ee,s)),isSubmitted:he.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?{}:he.keepDirtyValues?he.keepDefaultValues&&i?xp(s,i):n.dirtyFields:he.keepDefaultValues&&ee?xp(s,ee):he.keepDirty?n.dirtyFields:{},touchedFields:he.keepTouched?n.touchedFields:{},errors:he.keepErrors?n.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},be=(ee,he)=>I(hi(ee)?ee(i):ee,he),_e=(ee,he={})=>{const T=qe(r,ee),me=T&&T._f;if(me){const re=me.refs?me.refs[0]:me.ref;re.focus&&(re.focus(),he.shouldSelect&&hi(re.select)&&re.select())}},Me=ee=>{n={...n,...ee}},mt={control:{register:Z,unregister:G,getFieldState:le,handleSubmit:ke,setError:ve,_subscribe:H,_runSchema:S,_getWatch:B,_getDirty:D,_setValid:b,_setFieldArray:v,_setDisabledField:$,_setErrors:w,_getFieldArray:z,_reset:I,_resetDefaultValues:()=>hi(t.defaultValues)&&t.defaultValues().then(ee=>{be(ee,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:pe,_subjects:h,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(ee){o=ee},get _defaultValues(){return s},get _names(){return l},set _names(ee){l=ee},get _formState(){return n},get _options(){return t},set _options(ee){t={...t,...ee}}},subscribe:oe,trigger:ie,register:Z,handleSubmit:ke,watch:ye,setValue:M,getValues:F,reset:be,resetField:se,clearErrors:q,unregister:G,setError:ve,setFocus:_e,getFieldState:le};return{...mt,formControl:mt}}var xl=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},i1=(e,t,n={})=>n.shouldFocus||Ra(n.shouldFocus)?n.focusName||`${e}.${Ra(n.focusIndex)?t:n.focusIndex}.`:"",o1=(e,t)=>[...e,...Ur(t)],l1=e=>Array.isArray(e)?e.map(()=>{}):void 0;function c1(e,t,n){return[...e.slice(0,t),...Ur(n),...e.slice(t)]}var d1=(e,t,n)=>Array.isArray(e)?(Ra(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],u1=(e,t)=>[...Ur(t),...Ur(e)];function Nxe(e,t){let n=0;const r=[...e];for(const s of t)r.splice(s-n,1),n++;return Ox(r).length?r:[]}var m1=(e,t)=>Ra(t)?[]:Nxe(e,Ur(t).sort((n,r)=>n-r)),h1=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},RR=(e,t,n)=>(e[t]=n,e);function kxe(e){const t=Dx(),{control:n=t.control,name:r,keyName:s="id",shouldUnregister:i,rules:o}=e,[l,c]=X.useState(n._getFieldArray(r)),d=X.useRef(n._getFieldArray(r).map(xl)),u=X.useRef(l),m=X.useRef(r),h=X.useRef(!1);m.current=r,u.current=l,n._names.array.add(r),o&&n.register(r,o),X.useEffect(()=>n._subjects.array.subscribe({next:({values:P,name:k})=>{if(k===m.current||!k){const _=qe(P,m.current);Array.isArray(_)&&(c(_),d.current=_.map(xl))}}}).unsubscribe,[n]);const p=X.useCallback(P=>{h.current=!0,n._setFieldArray(r,P)},[n,r]),g=(P,k)=>{const _=Ur(Ga(P)),S=o1(n._getFieldArray(r),_);n._names.focus=i1(r,S.length-1,k),d.current=o1(d.current,_.map(xl)),p(S),c(S),n._setFieldArray(r,S,o1,{argA:l1(P)})},f=(P,k)=>{const _=Ur(Ga(P)),S=u1(n._getFieldArray(r),_);n._names.focus=i1(r,0,k),d.current=u1(d.current,_.map(xl)),p(S),c(S),n._setFieldArray(r,S,u1,{argA:l1(P)})},x=P=>{const k=m1(n._getFieldArray(r),P);d.current=m1(d.current,P),p(k),c(k),!Array.isArray(qe(n._fields,r))&&ea(n._fields,r,void 0),n._setFieldArray(r,k,m1,{argA:P})},b=(P,k,_)=>{const S=Ur(Ga(k)),O=c1(n._getFieldArray(r),P,S);n._names.focus=i1(r,P,_),d.current=c1(d.current,P,S.map(xl)),p(O),c(O),n._setFieldArray(r,O,c1,{argA:P,argB:l1(k)})},j=(P,k)=>{const _=n._getFieldArray(r);h1(_,P,k),h1(d.current,P,k),p(_),c(_),n._setFieldArray(r,_,h1,{argA:P,argB:k},!1)},v=(P,k)=>{const _=n._getFieldArray(r);d1(_,P,k),d1(d.current,P,k),p(_),c(_),n._setFieldArray(r,_,d1,{argA:P,argB:k},!1)},N=(P,k)=>{const _=Ga(k),S=RR(n._getFieldArray(r),P,_);d.current=[...S].map((O,A)=>!O||A===P?xl():d.current[A]),p(S),c([...S]),n._setFieldArray(r,S,RR,{argA:P,argB:_},!0,!1)},w=P=>{const k=Ur(Ga(P));d.current=k.map(xl),p([...k]),c([...k]),n._setFieldArray(r,[...k],_=>_,{},!0,!1)};return X.useEffect(()=>{if(n._state.action=!1,c_(r,n._names)&&n._subjects.state.next({...n._formState}),h.current&&(!Vu(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!Vu(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(P=>{const k=qe(P.errors,r),_=qe(n._formState.errors,r);(_?!k&&_.type||k&&(_.type!==k.type||_.message!==k.message):k&&k.type)&&(k?ea(n._formState.errors,r,k):xn(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const P=qe(n._fields,r);P&&P._f&&!(Vu(n._options.reValidateMode).isOnSubmit&&Vu(n._options.mode).isOnSubmit)&&d_(P,n._names.disabled,n._formValues,n._options.criteriaMode===Is.all,n._options.shouldUseNativeValidation,!0).then(k=>!ir(k)&&n._subjects.state.next({errors:U9(n._formState.errors,k,r)}))}n._subjects.state.next({name:r,values:Ga(n._formValues)}),n._names.focus&&lm(n._fields,(P,k)=>{if(n._names.focus&&k.startsWith(n._names.focus)&&P.focus)return P.focus(),1}),n._names.focus="",n._setValid(),h.current=!1},[l,r,n]),X.useEffect(()=>(!qe(n._formValues,r)&&n._setFieldArray(r),()=>{const P=(k,_)=>{const S=qe(n._fields,k);S&&S._f&&(S._f.mount=_)};n._options.shouldUnregister||i?n.unregister(r):P(r,!1)}),[r,n,s,i]),{swap:X.useCallback(j,[p,r,n]),move:X.useCallback(v,[p,r,n]),prepend:X.useCallback(f,[p,r,n]),append:X.useCallback(g,[p,r,n]),remove:X.useCallback(x,[p,r,n]),insert:X.useCallback(b,[p,r,n]),update:X.useCallback(N,[p,r,n]),replace:X.useCallback(w,[p,r,n]),fields:X.useMemo(()=>l.map((P,k)=>({...P,[s]:d.current[k]||xl()})),[l,s])}}function Um(e={}){const t=X.useRef(void 0),n=X.useRef(void 0),[r,s]=X.useState({isDirty:!1,isValidating:!1,isLoading:hi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:hi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:jxe(e),formState:r},e.formControl&&e.defaultValues&&!hi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,X.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),X.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),X.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),X.useEffect(()=>{e.values&&!Cl(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),X.useEffect(()=>{e.errors&&!ir(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),X.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),X.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=O9(r,i),t.current}const IR=(e,t,n)=>{if(e&&"reportValidity"in e){const r=qe(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},q9=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?IR(r.ref,n,e):r.refs&&r.refs.forEach(s=>IR(s,n,e))}},Pxe=(e,t)=>{t.shouldUseNativeValidation&&q9(e,t);const n={};for(const r in e){const s=qe(t.fields,r),i=Object.assign(e[r]||{},{ref:s&&s.ref});if(_xe(t.names||Object.keys(e),r)){const o=Object.assign({},qe(n,r));ea(o,"root",i),ea(n,r,o)}else ea(n,r,i)}return n},_xe=(e,t)=>e.some(n=>n.startsWith(t+"."));var Sxe=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return e.push(m)})}),t){var c=n[o].types,d=c&&c[r.code];n[o]=M9(o,t,n,s,d?[].concat(d,r.message):r.message)}e.shift()}return n},qm=function(e,t,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return i.shouldUseNativeValidation&&q9({},i),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Pxe(Sxe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Xt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Xt||(Xt={}));var u_;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(u_||(u_={}));const st=Xt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ko=e=>{switch(typeof e){case"undefined":return st.undefined;case"string":return st.string;case"number":return isNaN(e)?st.nan:st.number;case"boolean":return st.boolean;case"function":return st.function;case"bigint":return st.bigint;case"symbol":return st.symbol;case"object":return Array.isArray(e)?st.array:e===null?st.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?st.promise:typeof Map<"u"&&e instanceof Map?st.map:typeof Set<"u"&&e instanceof Set?st.set:typeof Date<"u"&&e instanceof Date?st.date:st.object;default:return st.unknown}},Oe=Xt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Cxe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class gs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),r}static assert(t){if(!(t instanceof gs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}gs.create=e=>new gs(e);const Vm=(e,t)=>{let n;switch(e.code){case Oe.invalid_type:e.received===st.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Oe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Xt.jsonStringifyReplacer)}`;break;case Oe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Xt.joinValues(e.keys,", ")}`;break;case Oe.invalid_union:n="Invalid input";break;case Oe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Xt.joinValues(e.options)}`;break;case Oe.invalid_enum_value:n=`Invalid enum value. Expected ${Xt.joinValues(e.options)}, received '${e.received}'`;break;case Oe.invalid_arguments:n="Invalid function arguments";break;case Oe.invalid_return_type:n="Invalid function return type";break;case Oe.invalid_date:n="Invalid date";break;case Oe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Xt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Oe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Oe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Oe.custom:n="Invalid input";break;case Oe.invalid_intersection_types:n="Intersection results could not be merged";break;case Oe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Oe.not_finite:n="Number must be finite";break;default:n=t.defaultError,Xt.assertNever(e)}return{message:n}};let V9=Vm;function Axe(e){V9=e}function Ob(){return V9}const Db=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}},Txe=[];function We(e,t){const n=Ob(),r=Db({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Vm?void 0:Vm].filter(s=>!!s)});e.common.issues.push(r)}class gr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return _t;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return gr.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return _t;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const _t=Object.freeze({status:"aborted"}),Ku=e=>({status:"dirty",value:e}),Ar=e=>({status:"valid",value:e}),m_=e=>e.status==="aborted",h_=e=>e.status==="dirty",$d=e=>e.status==="valid",ag=e=>typeof Promise<"u"&&e instanceof Promise;function Mb(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function K9(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var ct;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ct||(ct={}));var Kp,zp;class no{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const LR=(e,t)=>{if($d(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new gs(e.common.issues);return this._error=n,this._error}}};function Dt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??n)!==null&&d!==void 0?d:l.defaultError}},description:s}}class qt{get description(){return this._def.description}_getType(t){return ko(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ko(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new gr,ctx:{common:t.parent.common,data:t.data,parsedType:ko(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(ag(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ko(t)},i=this._parseSync({data:t,path:s.path,parent:s});return LR(s,i)}"~validate"(t){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ko(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return $d(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>$d(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ko(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(ag(s)?s:Promise.resolve(s));return LR(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:Oe.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new _i({schema:this,typeName:kt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Yi.create(this,this._def)}nullable(){return gc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bi.create(this)}promise(){return zm.create(this,this._def)}or(t){return ig.create([this,t],this._def)}and(t){return og.create(this,t,this._def)}transform(t){return new _i({...Dt(this._def),schema:this,typeName:kt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new mg({...Dt(this._def),innerType:this,defaultValue:n,typeName:kt.ZodDefault})}brand(){return new YA({typeName:kt.ZodBranded,type:this,...Dt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new hg({...Dt(this._def),innerType:this,catchValue:n,typeName:kt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Mx.create(this,t)}readonly(){return pg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Exe=/^c[^\s-]{8,}$/i,Oxe=/^[0-9a-z]+$/,Dxe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Mxe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Rxe=/^[a-z0-9_-]{21}$/i,Ixe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Lxe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$xe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Fxe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let p1;const Bxe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uxe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,qxe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Vxe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Kxe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zxe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,z9="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Wxe=new RegExp(`^${z9}$`);function W9(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Hxe(e){return new RegExp(`^${W9(e)}$`)}function H9(e){let t=`${z9}T${W9(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Gxe(e,t){return!!((t==="v4"||!t)&&Bxe.test(e)||(t==="v6"||!t)&&qxe.test(e))}function Yxe(e,t){if(!Ixe.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function Jxe(e,t){return!!((t==="v4"||!t)&&Uxe.test(e)||(t==="v6"||!t)&&Vxe.test(e))}class xi extends qt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==st.string){const i=this._getOrReturnCtx(t);return We(i,{code:Oe.invalid_type,expected:st.string,received:i.parsedType}),_t}const r=new gr;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),We(s,{code:Oe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),We(s,{code:Oe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?We(s,{code:Oe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&We(s,{code:Oe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")$xe.test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"email",code:Oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")p1||(p1=new RegExp(Fxe,"u")),p1.test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"emoji",code:Oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Mxe.test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"uuid",code:Oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Rxe.test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"nanoid",code:Oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Exe.test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"cuid",code:Oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Oxe.test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"cuid2",code:Oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Dxe.test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"ulid",code:Oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),We(s,{validation:"url",code:Oe.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"regex",code:Oe.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),We(s,{code:Oe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),We(s,{code:Oe.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),We(s,{code:Oe.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?H9(i).test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{code:Oe.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Wxe.test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{code:Oe.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Hxe(i).test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{code:Oe.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Lxe.test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"duration",code:Oe.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Gxe(t.data,i.version)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"ip",code:Oe.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Yxe(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"jwt",code:Oe.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Jxe(t.data,i.version)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"cidr",code:Oe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Kxe.test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"base64",code:Oe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?zxe.test(t.data)||(s=this._getOrReturnCtx(t,s),We(s,{validation:"base64url",code:Oe.invalid_string,message:i.message}),r.dirty()):Xt.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:Oe.invalid_string,...ct.errToObj(r)})}_addCheck(t){return new xi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ct.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ct.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ct.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ct.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ct.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ct.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ct.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ct.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ct.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ct.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ct.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ct.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ct.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...ct.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ct.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ct.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ct.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ct.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ct.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ct.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ct.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ct.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ct.errToObj(n)})}nonempty(t){return this.min(1,ct.errToObj(t))}trim(){return new xi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}xi.create=e=>{var t;return new xi({checks:[],typeName:kt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Dt(e)})};function Qxe(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class hc extends qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==st.number){const i=this._getOrReturnCtx(t);return We(i,{code:Oe.invalid_type,expected:st.number,received:i.parsedType}),_t}let r;const s=new gr;for(const i of this._def.checks)i.kind==="int"?Xt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),We(r,{code:Oe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Oe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Oe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Qxe(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),We(r,{code:Oe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),We(r,{code:Oe.not_finite,message:i.message}),s.dirty()):Xt.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ct.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ct.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ct.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ct.toString(n))}setLimit(t,n,r,s){return new hc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ct.toString(s)}]})}_addCheck(t){return new hc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ct.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ct.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ct.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ct.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ct.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ct.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ct.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ct.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ct.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Xt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}hc.create=e=>new hc({checks:[],typeName:kt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Dt(e)});class pc extends qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==st.bigint)return this._getInvalidInput(t);let r;const s=new gr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Oe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Oe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Oe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Xt.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return We(n,{code:Oe.invalid_type,expected:st.bigint,received:n.parsedType}),_t}gte(t,n){return this.setLimit("min",t,!0,ct.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ct.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ct.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ct.toString(n))}setLimit(t,n,r,s){return new pc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ct.toString(s)}]})}_addCheck(t){return new pc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ct.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ct.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ct.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ct.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ct.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}pc.create=e=>{var t;return new pc({checks:[],typeName:kt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Dt(e)})};class ng extends qt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==st.boolean){const r=this._getOrReturnCtx(t);return We(r,{code:Oe.invalid_type,expected:st.boolean,received:r.parsedType}),_t}return Ar(t.data)}}ng.create=e=>new ng({typeName:kt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Dt(e)});class Fd extends qt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==st.date){const i=this._getOrReturnCtx(t);return We(i,{code:Oe.invalid_type,expected:st.date,received:i.parsedType}),_t}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return We(i,{code:Oe.invalid_date}),_t}const r=new gr;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),We(s,{code:Oe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),We(s,{code:Oe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Xt.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Fd({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ct.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ct.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Fd.create=e=>new Fd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:kt.ZodDate,...Dt(e)});class Rb extends qt{_parse(t){if(this._getType(t)!==st.symbol){const r=this._getOrReturnCtx(t);return We(r,{code:Oe.invalid_type,expected:st.symbol,received:r.parsedType}),_t}return Ar(t.data)}}Rb.create=e=>new Rb({typeName:kt.ZodSymbol,...Dt(e)});class rg extends qt{_parse(t){if(this._getType(t)!==st.undefined){const r=this._getOrReturnCtx(t);return We(r,{code:Oe.invalid_type,expected:st.undefined,received:r.parsedType}),_t}return Ar(t.data)}}rg.create=e=>new rg({typeName:kt.ZodUndefined,...Dt(e)});class sg extends qt{_parse(t){if(this._getType(t)!==st.null){const r=this._getOrReturnCtx(t);return We(r,{code:Oe.invalid_type,expected:st.null,received:r.parsedType}),_t}return Ar(t.data)}}sg.create=e=>new sg({typeName:kt.ZodNull,...Dt(e)});class Km extends qt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ar(t.data)}}Km.create=e=>new Km({typeName:kt.ZodAny,...Dt(e)});class bd extends qt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ar(t.data)}}bd.create=e=>new bd({typeName:kt.ZodUnknown,...Dt(e)});class Zo extends qt{_parse(t){const n=this._getOrReturnCtx(t);return We(n,{code:Oe.invalid_type,expected:st.never,received:n.parsedType}),_t}}Zo.create=e=>new Zo({typeName:kt.ZodNever,...Dt(e)});class Ib extends qt{_parse(t){if(this._getType(t)!==st.undefined){const r=this._getOrReturnCtx(t);return We(r,{code:Oe.invalid_type,expected:st.void,received:r.parsedType}),_t}return Ar(t.data)}}Ib.create=e=>new Ib({typeName:kt.ZodVoid,...Dt(e)});class bi extends qt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==st.array)return We(n,{code:Oe.invalid_type,expected:st.array,received:n.parsedType}),_t;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(We(n,{code:o?Oe.too_big:Oe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(We(n,{code:Oe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(We(n,{code:Oe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new no(n,o,n.path,l)))).then(o=>gr.mergeArray(r,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new no(n,o,n.path,l)));return gr.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new bi({...this._def,minLength:{value:t,message:ct.toString(n)}})}max(t,n){return new bi({...this._def,maxLength:{value:t,message:ct.toString(n)}})}length(t,n){return new bi({...this._def,exactLength:{value:t,message:ct.toString(n)}})}nonempty(t){return this.min(1,t)}}bi.create=(e,t)=>new bi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:kt.ZodArray,...Dt(t)});function Nu(e){if(e instanceof Ya){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Yi.create(Nu(r))}return new Ya({...e._def,shape:()=>t})}else return e instanceof bi?new bi({...e._def,type:Nu(e.element)}):e instanceof Yi?Yi.create(Nu(e.unwrap())):e instanceof gc?gc.create(Nu(e.unwrap())):e instanceof ro?ro.create(e.items.map(t=>Nu(t))):e}class Ya extends qt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Xt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==st.object){const d=this._getOrReturnCtx(t);return We(d,{code:Oe.invalid_type,expected:st.object,received:d.parsedType}),_t}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Zo&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],m=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new no(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Zo){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(d==="strict")l.length>0&&(We(s,{code:Oe.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const m=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new no(s,m,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const m=await u.key,h=await u.value;d.push({key:m,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>gr.mergeObjectSync(r,d)):gr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return ct.errToObj,new Ya({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,i,o,l;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=ct.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Ya({...this._def,unknownKeys:"strip"})}passthrough(){return new Ya({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ya({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ya({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:kt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ya({...this._def,catchall:t})}pick(t){const n={};return Xt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ya({...this._def,shape:()=>n})}omit(t){const n={};return Xt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Ya({...this._def,shape:()=>n})}deepPartial(){return Nu(this)}partial(t){const n={};return Xt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new Ya({...this._def,shape:()=>n})}required(t){const n={};return Xt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Yi;)i=i._def.innerType;n[r]=i}}),new Ya({...this._def,shape:()=>n})}keyof(){return G9(Xt.objectKeys(this.shape))}}Ya.create=(e,t)=>new Ya({shape:()=>e,unknownKeys:"strip",catchall:Zo.create(),typeName:kt.ZodObject,...Dt(t)});Ya.strictCreate=(e,t)=>new Ya({shape:()=>e,unknownKeys:"strict",catchall:Zo.create(),typeName:kt.ZodObject,...Dt(t)});Ya.lazycreate=(e,t)=>new Ya({shape:e,unknownKeys:"strip",catchall:Zo.create(),typeName:kt.ZodObject,...Dt(t)});class ig extends qt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new gs(l.ctx.common.issues));return We(n,{code:Oe.invalid_union,unionErrors:o}),_t}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new gs(c));return We(n,{code:Oe.invalid_union,unionErrors:l}),_t}}get options(){return this._def.options}}ig.create=(e,t)=>new ig({options:e,typeName:kt.ZodUnion,...Dt(t)});const vo=e=>e instanceof cg?vo(e.schema):e instanceof _i?vo(e.innerType()):e instanceof dg?[e.value]:e instanceof fc?e.options:e instanceof ug?Xt.objectValues(e.enum):e instanceof mg?vo(e._def.innerType):e instanceof rg?[void 0]:e instanceof sg?[null]:e instanceof Yi?[void 0,...vo(e.unwrap())]:e instanceof gc?[null,...vo(e.unwrap())]:e instanceof YA||e instanceof pg?vo(e.unwrap()):e instanceof hg?vo(e._def.innerType):[];class Ww extends qt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==st.object)return We(n,{code:Oe.invalid_type,expected:st.object,received:n.parsedType}),_t;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(We(n,{code:Oe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),_t)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const i of n){const o=vo(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,i)}}return new Ww({typeName:kt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Dt(r)})}}function p_(e,t){const n=ko(e),r=ko(t);if(e===t)return{valid:!0,data:e};if(n===st.object&&r===st.object){const s=Xt.objectKeys(t),i=Xt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=p_(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===st.array&&r===st.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=p_(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===st.date&&r===st.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class og extends qt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,o)=>{if(m_(i)||m_(o))return _t;const l=p_(i.value,o.value);return l.valid?((h_(i)||h_(o))&&n.dirty(),{status:n.value,value:l.data}):(We(r,{code:Oe.invalid_intersection_types}),_t)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}og.create=(e,t,n)=>new og({left:e,right:t,typeName:kt.ZodIntersection,...Dt(n)});class ro extends qt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==st.array)return We(r,{code:Oe.invalid_type,expected:st.array,received:r.parsedType}),_t;if(r.data.length<this._def.items.length)return We(r,{code:Oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_t;!this._def.rest&&r.data.length>this._def.items.length&&(We(r,{code:Oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new no(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>gr.mergeArray(n,o)):gr.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new ro({...this._def,rest:t})}}ro.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ro({items:e,typeName:kt.ZodTuple,rest:null,...Dt(t)})};class lg extends qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==st.object)return We(r,{code:Oe.invalid_type,expected:st.object,received:r.parsedType}),_t;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in r.data)s.push({key:i._parse(new no(r,l,r.path,l)),value:o._parse(new no(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?gr.mergeObjectAsync(n,s):gr.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof qt?new lg({keyType:t,valueType:n,typeName:kt.ZodRecord,...Dt(r)}):new lg({keyType:xi.create(),valueType:t,typeName:kt.ZodRecord,...Dt(n)})}}class Lb extends qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==st.map)return We(r,{code:Oe.invalid_type,expected:st.map,received:r.parsedType}),_t;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:s._parse(new no(r,l,r.path,[d,"key"])),value:i._parse(new no(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return _t;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return _t;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}Lb.create=(e,t,n)=>new Lb({valueType:t,keyType:e,typeName:kt.ZodMap,...Dt(n)});class Bd extends qt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==st.set)return We(r,{code:Oe.invalid_type,expected:st.set,received:r.parsedType}),_t;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(We(r,{code:Oe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(We(r,{code:Oe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return _t;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>i._parse(new no(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Bd({...this._def,minSize:{value:t,message:ct.toString(n)}})}max(t,n){return new Bd({...this._def,maxSize:{value:t,message:ct.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Bd.create=(e,t)=>new Bd({valueType:e,minSize:null,maxSize:null,typeName:kt.ZodSet,...Dt(t)});class cm extends qt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==st.function)return We(n,{code:Oe.invalid_type,expected:st.function,received:n.parsedType}),_t;function r(l,c){return Db({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ob(),Vm].filter(d=>!!d),issueData:{code:Oe.invalid_arguments,argumentsError:c}})}function s(l,c){return Db({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ob(),Vm].filter(d=>!!d),issueData:{code:Oe.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof zm){const l=this;return Ar(async function(...c){const d=new gs([]),u=await l._def.args.parseAsync(c,i).catch(p=>{throw d.addIssue(r(c,p)),d}),m=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(m,i).catch(p=>{throw d.addIssue(s(m,p)),d})})}else{const l=this;return Ar(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new gs([r(c,d.error)]);const u=Reflect.apply(o,this,d.data),m=l._def.returns.safeParse(u,i);if(!m.success)throw new gs([s(u,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new cm({...this._def,args:ro.create(t).rest(bd.create())})}returns(t){return new cm({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new cm({args:t||ro.create([]).rest(bd.create()),returns:n||bd.create(),typeName:kt.ZodFunction,...Dt(r)})}}class cg extends qt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}cg.create=(e,t)=>new cg({getter:e,typeName:kt.ZodLazy,...Dt(t)});class dg extends qt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return We(n,{received:n.data,code:Oe.invalid_literal,expected:this._def.value}),_t}return{status:"valid",value:t.data}}get value(){return this._def.value}}dg.create=(e,t)=>new dg({value:e,typeName:kt.ZodLiteral,...Dt(t)});function G9(e,t){return new fc({values:e,typeName:kt.ZodEnum,...Dt(t)})}class fc extends qt{constructor(){super(...arguments),Kp.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return We(n,{expected:Xt.joinValues(r),received:n.parsedType,code:Oe.invalid_type}),_t}if(Mb(this,Kp)||K9(this,Kp,new Set(this._def.values)),!Mb(this,Kp).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return We(n,{received:n.data,code:Oe.invalid_enum_value,options:r}),_t}return Ar(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return fc.create(t,{...this._def,...n})}exclude(t,n=this._def){return fc.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Kp=new WeakMap;fc.create=G9;class ug extends qt{constructor(){super(...arguments),zp.set(this,void 0)}_parse(t){const n=Xt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==st.string&&r.parsedType!==st.number){const s=Xt.objectValues(n);return We(r,{expected:Xt.joinValues(s),received:r.parsedType,code:Oe.invalid_type}),_t}if(Mb(this,zp)||K9(this,zp,new Set(Xt.getValidEnumValues(this._def.values))),!Mb(this,zp).has(t.data)){const s=Xt.objectValues(n);return We(r,{received:r.data,code:Oe.invalid_enum_value,options:s}),_t}return Ar(t.data)}get enum(){return this._def.values}}zp=new WeakMap;ug.create=(e,t)=>new ug({values:e,typeName:kt.ZodNativeEnum,...Dt(t)});class zm extends qt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==st.promise&&n.common.async===!1)return We(n,{code:Oe.invalid_type,expected:st.promise,received:n.parsedType}),_t;const r=n.parsedType===st.promise?n.data:Promise.resolve(n.data);return Ar(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}zm.create=(e,t)=>new zm({type:e,typeName:kt.ZodPromise,...Dt(t)});class _i extends qt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===kt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{We(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return _t;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?_t:c.status==="dirty"||n.value==="dirty"?Ku(c.value):c});{if(n.value==="aborted")return _t;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?_t:l.status==="dirty"||n.value==="dirty"?Ku(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?_t:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?_t:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!$d(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>$d(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);Xt.assertNever(s)}}_i.create=(e,t,n)=>new _i({schema:e,typeName:kt.ZodEffects,effect:t,...Dt(n)});_i.createWithPreprocess=(e,t,n)=>new _i({schema:t,effect:{type:"preprocess",transform:e},typeName:kt.ZodEffects,...Dt(n)});class Yi extends qt{_parse(t){return this._getType(t)===st.undefined?Ar(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Yi.create=(e,t)=>new Yi({innerType:e,typeName:kt.ZodOptional,...Dt(t)});class gc extends qt{_parse(t){return this._getType(t)===st.null?Ar(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gc.create=(e,t)=>new gc({innerType:e,typeName:kt.ZodNullable,...Dt(t)});class mg extends qt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===st.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}mg.create=(e,t)=>new mg({innerType:e,typeName:kt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Dt(t)});class hg extends qt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ag(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new gs(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new gs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hg.create=(e,t)=>new hg({innerType:e,typeName:kt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Dt(t)});class $b extends qt{_parse(t){if(this._getType(t)!==st.nan){const r=this._getOrReturnCtx(t);return We(r,{code:Oe.invalid_type,expected:st.nan,received:r.parsedType}),_t}return{status:"valid",value:t.data}}}$b.create=e=>new $b({typeName:kt.ZodNaN,...Dt(e)});const Xxe=Symbol("zod_brand");class YA extends qt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Mx extends qt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?_t:i.status==="dirty"?(n.dirty(),Ku(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?_t:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Mx({in:t,out:n,typeName:kt.ZodPipeline})}}class pg extends qt{_parse(t){const n=this._def.innerType._parse(t),r=s=>($d(s)&&(s.value=Object.freeze(s.value)),s);return ag(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}pg.create=(e,t)=>new pg({innerType:e,typeName:kt.ZodReadonly,...Dt(t)});function $R(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function Y9(e,t={},n){return e?Km.create().superRefine((r,s)=>{var i,o;const l=e(r);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const m=$R(t,r),h=(u=(d=m.fatal)!==null&&d!==void 0?d:n)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...m,fatal:h})}});if(!l){const c=$R(t,r),d=(o=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:d})}}):Km.create()}const Zxe={object:Ya.lazycreate};var kt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(kt||(kt={}));const eye=(e,t={message:`Input not instance of ${e.name}`})=>Y9(n=>n instanceof e,t),J9=xi.create,Q9=hc.create,tye=$b.create,aye=pc.create,X9=ng.create,nye=Fd.create,rye=Rb.create,sye=rg.create,iye=sg.create,oye=Km.create,lye=bd.create,cye=Zo.create,dye=Ib.create,uye=bi.create,mye=Ya.create,hye=Ya.strictCreate,pye=ig.create,fye=Ww.create,gye=og.create,xye=ro.create,yye=lg.create,vye=Lb.create,bye=Bd.create,wye=cm.create,jye=cg.create,Nye=dg.create,kye=fc.create,Pye=ug.create,_ye=zm.create,FR=_i.create,Sye=Yi.create,Cye=gc.create,Aye=_i.createWithPreprocess,Tye=Mx.create,Eye=()=>J9().optional(),Oye=()=>Q9().optional(),Dye=()=>X9().optional(),Mye={string:e=>xi.create({...e,coerce:!0}),number:e=>hc.create({...e,coerce:!0}),boolean:e=>ng.create({...e,coerce:!0}),bigint:e=>pc.create({...e,coerce:!0}),date:e=>Fd.create({...e,coerce:!0})},Rye=_t;var Ct=Object.freeze({__proto__:null,defaultErrorMap:Vm,setErrorMap:Axe,getErrorMap:Ob,makeIssue:Db,EMPTY_PATH:Txe,addIssueToContext:We,ParseStatus:gr,INVALID:_t,DIRTY:Ku,OK:Ar,isAborted:m_,isDirty:h_,isValid:$d,isAsync:ag,get util(){return Xt},get objectUtil(){return u_},ZodParsedType:st,getParsedType:ko,ZodType:qt,datetimeRegex:H9,ZodString:xi,ZodNumber:hc,ZodBigInt:pc,ZodBoolean:ng,ZodDate:Fd,ZodSymbol:Rb,ZodUndefined:rg,ZodNull:sg,ZodAny:Km,ZodUnknown:bd,ZodNever:Zo,ZodVoid:Ib,ZodArray:bi,ZodObject:Ya,ZodUnion:ig,ZodDiscriminatedUnion:Ww,ZodIntersection:og,ZodTuple:ro,ZodRecord:lg,ZodMap:Lb,ZodSet:Bd,ZodFunction:cm,ZodLazy:cg,ZodLiteral:dg,ZodEnum:fc,ZodNativeEnum:ug,ZodPromise:zm,ZodEffects:_i,ZodTransformer:_i,ZodOptional:Yi,ZodNullable:gc,ZodDefault:mg,ZodCatch:hg,ZodNaN:$b,BRAND:Xxe,ZodBranded:YA,ZodPipeline:Mx,ZodReadonly:pg,custom:Y9,Schema:qt,ZodSchema:qt,late:Zxe,get ZodFirstPartyTypeKind(){return kt},coerce:Mye,any:oye,array:uye,bigint:aye,boolean:X9,date:nye,discriminatedUnion:fye,effect:FR,enum:kye,function:wye,instanceof:eye,intersection:gye,lazy:jye,literal:Nye,map:vye,nan:tye,nativeEnum:Pye,never:cye,null:iye,nullable:Cye,number:Q9,object:mye,oboolean:Dye,onumber:Oye,optional:Sye,ostring:Eye,pipeline:Tye,preprocess:Aye,promise:_ye,record:yye,set:bye,strictObject:hye,string:J9,symbol:rye,transformer:FR,tuple:xye,undefined:sye,union:pye,unknown:lye,void:dye,NEVER:Rye,ZodIssueCode:Oe,quotelessJson:Cxe,ZodError:gs});const Fb=y.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:Be("w-full caption-bottom text-sm",e),...t})}));Fb.displayName="Table";const Bb=y.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:Be("[&_tr]:border-b",e),...t}));Bb.displayName="TableHeader";const Ub=y.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:Be("[&_tr:last-child]:border-0",e),...t}));Ub.displayName="TableBody";const Iye=y.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:Be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Iye.displayName="TableFooter";const nd=y.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:Be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));nd.displayName="TableRow";const bn=y.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:Be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));bn.displayName="TableHead";const wn=y.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:Be("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));wn.displayName="TableCell";const Lye=y.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:Be("mt-4 text-sm text-muted-foreground",e),...t}));Lye.displayName="TableCaption";const Wm=ixe,Z9=y.createContext({}),Vt=({...e})=>a.jsx(Z9.Provider,{value:{name:e.name},children:a.jsx(dxe,{...e})}),Hw=()=>{const e=y.useContext(Z9),t=y.useContext(ez),{getFieldState:n,formState:r}=Dx(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},ez=y.createContext({}),Ft=y.forwardRef(({className:e,...t},n)=>{const r=y.useId();return a.jsx(ez.Provider,{value:{id:r},children:a.jsx("div",{ref:n,className:Be("space-y-2",e),...t})})});Ft.displayName="FormItem";const Lt=y.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=Hw();return a.jsx(Ke,{ref:n,className:Be(r&&"text-destructive",e),htmlFor:s,...t})});Lt.displayName="FormLabel";const Bt=y.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Hw();return a.jsx(oB,{ref:t,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});Bt.displayName="FormControl";const tz=y.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Hw();return a.jsx("p",{ref:n,id:r,className:Be("text-sm text-muted-foreground",e),...t})});tz.displayName="FormDescription";const Kt=y.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:i}=Hw(),o=s?String((s==null?void 0:s.message)??""):t;return o?a.jsx("p",{ref:r,id:i,className:Be("text-sm font-medium text-destructive",e),...n,children:o}):null});Kt.displayName="FormMessage";const $ye=Ct.object({name:Ct.string().min(1,""),nameEn:Ct.string().optional(),description:Ct.string().min(1,""),price:Ct.coerce.number().min(1,"0"),priceUnit:Ct.string().default(""),image:Ct.string().default("/pics/product-placeholder.jpg"),category:Ct.string().min(1,""),featured:Ct.boolean().default(!1)}),Fye=Ct.object({name:Ct.string().min(1,""),nameEn:Ct.string().optional(),description:Ct.string().optional(),color:Ct.string().default("emerald")});function Bye(){var po;const{t:e}=ft(),{toast:t}=Jt(),n=y.useRef(null);y.useRef(null);const[r,s]=y.useState(!1);y.useState(!1);const[i,o]=y.useState(""),[l,c]=y.useState("all"),[d,u]=y.useState("grid"),[m,h]=y.useState("bundles"),[p,g]=y.useState(!1),[f,x]=y.useState(!1),[b,j]=y.useState(!1),[v,N]=y.useState(!1),[w,P]=y.useState(null),[k,_]=y.useState(!1),[S,O]=y.useState(!1),[A,E]=y.useState(!1),[D,B]=y.useState([]),[z,K]=y.useState(!1),[Y,M]=y.useState(null),[R,J]=y.useState({name:"",name_en:"",name_ms:"",image:"",stock:0}),[ie,F]=y.useState(!1),le=y.useRef(null),[q,ve]=y.useState({name:"",name_en:"",name_ms:"",description:"",target_audience:"",target_audience_en:"",target_audience_ms:"",keywords:"",keywords_en:"",keywords_ms:"",price:0,original_price:null,image:"",items:[],sort_order:0,is_active:!0,is_featured:!1,is_hot:!1,is_new:!0}),[ye,H]=y.useState(null),[oe,G]=y.useState(null),$=Aa(),{data:Z=[],isLoading:U}=Ae({queryKey:["admin-bundles"],queryFn:async()=>{const{data:V,error:Se}=await L.from("product_bundles").select("*").order("sort_order",{ascending:!0});return Se?(console.error("Error fetching bundles:",Se),[]):V}}),{data:pe=[]}=Ae({queryKey:["admin-bundle-variants-all"],queryFn:async()=>{const{data:V,error:Se}=await L.from("bundle_variants").select("*").order("sort_order",{ascending:!0});return Se?[]:V}}),ke=pe.reduce((V,Se)=>(V[Se.bundle_id]||(V[Se.bundle_id]=[]),V[Se.bundle_id].push(Se),V),{}),se=Z.filter(V=>{var Se;return i===""||V.name.toLowerCase().includes(i.toLowerCase())||((Se=V.name_en)==null?void 0:Se.toLowerCase().includes(i.toLowerCase()))}),I=Ce({mutationFn:async V=>{const{error:Se}=await L.from("product_bundles").update({...V,updated_at:new Date().toISOString()}).eq("id",V.id);if(Se)throw Se},onSuccess:()=>{$.invalidateQueries({queryKey:["admin-bundles"]}),t({title:""}),_(!1)},onError:V=>{t({title:"",description:V.message,variant:"destructive"})}}),be=(V,Se)=>{I.mutate({id:V.id,[Se]:!V[Se]})},_e=Ce({mutationFn:async V=>{const{error:Se}=await L.from("product_bundles").insert({name:V.name,name_en:V.name_en||null,name_ms:V.name_ms||null,description:V.description||null,target_audience:V.target_audience||null,target_audience_en:V.target_audience_en||null,target_audience_ms:V.target_audience_ms||null,keywords:V.keywords||null,keywords_en:V.keywords_en||null,keywords_ms:V.keywords_ms||null,price:V.price,original_price:V.original_price,image:V.image||null,items:V.items,sort_order:V.sort_order,is_active:V.is_active,is_featured:V.is_featured,is_hot:V.is_hot,is_new:V.is_new});if(Se)throw Se},onSuccess:()=>{$.invalidateQueries({queryKey:["admin-bundles"]}),t({title:""}),O(!1),ve({name:"",name_en:"",name_ms:"",description:"",target_audience:"",target_audience_en:"",target_audience_ms:"",keywords:"",keywords_en:"",keywords_ms:"",price:0,original_price:null,image:"",items:[],sort_order:0,is_active:!0,is_featured:!1,is_hot:!1,is_new:!0})},onError:V=>{t({title:"",description:V.message,variant:"destructive"})}}),Me=Ce({mutationFn:async V=>{const{error:Se}=await L.from("product_bundles").delete().eq("id",V);if(Se)throw Se},onSuccess:()=>{$.invalidateQueries({queryKey:["admin-bundles"]}),t({title:""}),E(!1),_(!1),P(null)},onError:V=>{t({title:"",description:V.message,variant:"destructive"})}}),He={total:Z.length,active:Z.filter(V=>V.is_active).length,featured:Z.filter(V=>V.is_featured).length,heroBundle:Z.find(V=>V.is_hot)},mt=Ce({mutationFn:async V=>{await L.from("product_bundles").update({is_hot:!1,updated_at:new Date().toISOString()}).eq("is_hot",!0);const{error:Se}=await L.from("product_bundles").update({is_hot:!0,updated_at:new Date().toISOString()}).eq("id",V);if(Se)throw Se},onSuccess:()=>{$.invalidateQueries({queryKey:["admin-bundles"]}),t({title:"",description:"Hero"})},onError:V=>{t({title:"",description:V.message,variant:"destructive"})}}),ee=async V=>{K(!0);const{data:Se,error:ze}=await L.from("bundle_variants").select("*").eq("bundle_id",V).order("sort_order",{ascending:!0});!ze&&Se&&B(Se),K(!1)},he=async()=>{if(!w||!R.name)return;const{error:V}=await L.from("bundle_variants").insert({bundle_id:w.id,name:R.name,name_en:R.name_en||null,name_ms:R.name_ms||null,image:R.image||null,stock:R.stock,sort_order:D.length});V?t({title:"",description:V.message,variant:"destructive"}):(t({title:""}),ee(w.id),J({name:"",name_en:"",name_ms:"",image:"",stock:0}))},T=async V=>{const{error:Se}=await L.from("bundle_variants").update({name:V.name,name_en:V.name_en,name_ms:V.name_ms,image:V.image,stock:V.stock,is_available:V.is_available,updated_at:new Date().toISOString()}).eq("id",V.id);Se?t({title:"",description:Se.message,variant:"destructive"}):(t({title:""}),w&&ee(w.id),M(null))},me=async V=>{const{error:Se}=await L.from("bundle_variants").delete().eq("id",V);Se?t({title:"",description:Se.message,variant:"destructive"}):(t({title:""}),w&&ee(w.id))},re=async(V,Se)=>{var zx;const ze=(zx=V.target.files)==null?void 0:zx[0];if(!ze)return;if(!["image/jpeg","image/png","image/webp"].includes(ze.type)){t({title:" JPG/PNG/WebP ",variant:"destructive"});return}if(ze.size>5*1024*1024){t({title:" 5MB",variant:"destructive"});return}F(!0);const Jr=ze.name.split(".").pop(),Ai=`variants/${crypto.randomUUID()}.${Jr}`,{error:Tc}=await L.storage.from("product-images").upload(Ai,ze);if(Tc){t({title:"",description:Tc.message,variant:"destructive"}),F(!1);return}const{data:ap}=L.storage.from("product-images").getPublicUrl(Ai),nu=ap.publicUrl;Se&&Y?M({...Y,image:nu}):J({...R,image:nu}),F(!1),t({title:""})},{data:xe=[]}=Ae({queryKey:["product-categories"],queryFn:async()=>{const{data:V,error:Se}=await L.from("product_categories").select("*").order("created_at",{ascending:!0});return Se?(console.error("Error fetching categories:",Se),[]):(V||[]).map(ze=>({id:ze.id,name:ze.name,nameEn:ze.name_en,description:ze.description,color:ze.color||"emerald"}))}}),Ne=Um({resolver:qm($ye),defaultValues:{name:"",nameEn:"",description:"",price:0,priceUnit:"",image:"/pics/product-placeholder.jpg",category:"",featured:!1}}),je=Um({resolver:qm(Fye),defaultValues:{name:"",nameEn:"",description:"",color:"emerald"}}),{data:Ge,isLoading:pt}=Ae({queryKey:["admin-products"],queryFn:async()=>{const{data:V,error:Se}=await L.from("products").select("*").order("created_at",{ascending:!1});return Se?(console.error("Error fetching products:",Se),[]):(V||[]).map(ze=>({id:ze.id,name:ze.name,nameEn:ze.name_en,description:ze.description,price:ze.price,priceUnit:ze.price_unit,image:ze.image,category:ze.category,featured:ze.featured,erpnextItemCode:ze.erpnext_item_code||null}))}}),Wa=(Ge==null?void 0:Ge.filter(V=>{var Yt;const Se=i===""||V.name.toLowerCase().includes(i.toLowerCase())||((Yt=V.nameEn)==null?void 0:Yt.toLowerCase().includes(i.toLowerCase())),ze=l==="all"||V.category===l;return Se&&ze}))||[],ga=V=>{const Se=xe.find(ze=>ze.id===V);return(Se==null?void 0:Se.name)||V},Ta=V=>{const Se={emerald:"bg-emerald-500/10 text-emerald-600 border-emerald-200",amber:"bg-amber-500/10 text-amber-600 border-amber-200",rose:"bg-rose-500/10 text-rose-600 border-rose-200",blue:"bg-blue-500/10 text-blue-600 border-blue-200"};return Se[V]||Se.emerald},wa=V=>{H(V),je.reset({name:V.name,nameEn:V.nameEn,description:V.description,color:V.color}),g(!0)},Ha=()=>{H(null),je.reset({name:"",nameEn:"",description:"",color:"emerald"}),g(!0)},Fa=()=>{G(null),Ne.reset({name:"",nameEn:"",description:"",price:0,priceUnit:"",image:"/pics/product-placeholder.jpg",category:"",featured:!1}),x(!0)},Ba=V=>{G(V),Ne.reset({name:V.name,nameEn:V.nameEn||"",description:V.description,price:V.price,priceUnit:V.priceUnit||"",image:V.image,category:V.category,featured:V.featured||!1}),x(!0)},fn=V=>{G(V),j(!0)},ue=V=>{G(V),N(!0)},Ve=async V=>{var Yt;const Se=(Yt=V.target.files)==null?void 0:Yt[0];if(!Se)return;if(!["image/jpeg","image/png","image/webp"].includes(Se.type)){t({title:"",description:" JPG, PNG  WebP ",variant:"destructive"});return}if(Se.size>5*1024*1024){t({title:"",description:" 5MB",variant:"destructive"});return}s(!0);try{const Jr=Se.name.split(".").pop()||"jpg",Ai=`products/${crypto.randomUUID()}.${Jr}`,{error:Tc}=await L.storage.from("product-images").upload(Ai,Se);if(Tc)throw Tc;const{data:ap}=L.storage.from("product-images").getPublicUrl(Ai);Ne.setValue("image",ap.publicUrl),t({title:""})}catch(Jr){t({title:"",description:String(Jr),variant:"destructive"})}finally{s(!1),n.current&&(n.current.value="")}},Rt=(V,Se)=>{if(Se&&w){const ze=w.items.find(Yt=>Yt.flavor===V.name);P(ze?{...w,items:w.items.filter(Yt=>Yt.flavor!==V.name)}:{...w,items:[...w.items,{flavor:V.name,quantity:1}]})}else{const ze=q.items.find(Yt=>Yt.flavor===V.name);ve(ze?{...q,items:q.items.filter(Yt=>Yt.flavor!==V.name)}:{...q,items:[...q.items,{flavor:V.name,quantity:1}]})}},ne=(V,Se,ze)=>{ze&&w?P({...w,items:w.items.map(Yt=>Yt.flavor===V?{...Yt,quantity:Math.max(1,Se)}:Yt)}):ve({...q,items:q.items.map(Yt=>Yt.flavor===V?{...Yt,quantity:Math.max(1,Se)}:Yt)})},Et=Ce({mutationFn:async V=>{const Se={name:V.name,name_en:V.nameEn||null,description:V.description,price:V.price,price_unit:V.priceUnit,image:V.image,category:V.category,featured:V.featured};if(oe){const{error:ze}=await L.from("products").update(Se).eq("id",oe.id);if(ze)throw ze}else{const{error:ze}=await L.from("products").insert(Se);if(ze)throw ze}},onSuccess:()=>{$.invalidateQueries({queryKey:["admin-products"]}),x(!1),G(null),Ne.reset()},onError:V=>{console.error("Error saving product:",V)}}),Wt=V=>{Et.mutate(V)},ho=Ce({mutationFn:async V=>{if(ye)await L.from("product_categories").update({name:V.name,name_en:V.nameEn,description:V.description,color:V.color}).eq("id",ye.id);else{const Se=V.name.toLowerCase().replace(/\s+/g,"-");await L.from("product_categories").insert({id:Se,name:V.name,name_en:V.nameEn,description:V.description,color:V.color})}},onSuccess:()=>{$.invalidateQueries({queryKey:["product-categories"]}),g(!1),je.reset()}}),Vj=V=>{ho.mutate(V)},Kj=Ce({mutationFn:async V=>{const{error:Se}=await L.from("products").delete().eq("id",V);if(Se)throw Se},onSuccess:()=>{$.invalidateQueries({queryKey:["admin-products"]}),N(!1),G(null)},onError:V=>{console.error("Error deleting product:",V)}}),au=()=>{oe!=null&&oe.id&&Kj.mutate(oe.id)},Ac={total:(Ge==null?void 0:Ge.length)||0,active:(Ge==null?void 0:Ge.length)||0,birdNest:(Ge==null?void 0:Ge.filter(V=>V.category==="bird-nest").length)||0,fishMaw:(Ge==null?void 0:Ge.filter(V=>V.category==="fish-maw").length)||0};return a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif","data-testid":"text-products-title",children:e("admin.productsPage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.subtitle")})]})}),a.jsxs(ba,{value:m,onValueChange:V=>h(V),children:[a.jsxs(fa,{className:"grid w-full grid-cols-2 mb-4",children:[a.jsxs(Ee,{value:"bundles",className:"gap-2",children:[a.jsx(pr,{className:"w-4 h-4"}),""]}),a.jsxs(Ee,{value:"products",className:"gap-2",children:[a.jsx(ca,{className:"w-4 h-4"}),""]})]}),a.jsxs(At,{value:"bundles",className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground",onClick:()=>O(!0),children:[a.jsx(zt,{className:"w-4 h-4"}),""]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(pr,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:""})]}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:He.total})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(qn,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:""})]}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:He.active})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(pa,{className:"w-4 h-4 text-amber-500"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:""})]}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-500",children:He.featured})]})}),a.jsx(W,{className:"border-red-200 bg-red-50/50",children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(sf,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Hero"})]}),a.jsx("p",{className:"text-xs sm:text-sm font-medium text-red-600 truncate",children:((po=He.heroBundle)==null?void 0:po.name)||""})]})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:"...",className:"pl-9",value:i,onChange:V=>o(V.target.value)})]}),U?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsx("div",{className:"space-y-3",children:se.map(V=>{var Yt;const ze=(Yt=(ke[V.id]||[]).find(Jr=>Jr.image))==null?void 0:Yt.image;return a.jsx(W,{className:V.is_active?"":"opacity-60",children:a.jsx(ae,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg bg-muted flex items-center justify-center shrink-0 overflow-hidden",children:ze?a.jsx("img",{src:ze,alt:V.name,className:"w-full h-full object-cover"}):a.jsx(ca,{className:"w-6 h-6 sm:w-8 sm:h-8 text-muted-foreground/50"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 mb-1",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base",children:V.name}),V.is_featured&&a.jsxs(te,{className:"bg-amber-500 text-[10px] sm:text-xs",children:[a.jsx(pa,{className:"w-2.5 h-2.5 mr-0.5"}),""]}),V.is_hot&&a.jsxs(te,{className:"bg-red-500 text-[10px] sm:text-xs",children:[a.jsx(sf,{className:"w-2.5 h-2.5 mr-0.5"}),""]}),V.is_new&&a.jsxs(te,{className:"bg-green-500 text-[10px] sm:text-xs",children:[a.jsx(Lr,{className:"w-2.5 h-2.5 mr-0.5"}),""]}),!V.is_active&&a.jsx(te,{variant:"outline",className:"text-[10px] sm:text-xs",children:""})]}),a.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground mb-1 truncate",children:V.target_audience}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("span",{className:"font-bold text-sm sm:text-base text-primary",children:["RM ",(V.price/100).toFixed(0)]}),V.original_price&&V.original_price>V.price&&a.jsxs("span",{className:"text-xs text-muted-foreground line-through",children:["RM ",(V.original_price/100).toFixed(0)]})]}),a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[V.items.slice(0,3).map((Jr,Ai)=>a.jsxs(te,{variant:"outline",className:"text-[9px] sm:text-[10px] px-1 py-0",children:[Jr.flavor," ",Jr.quantity]},Ai)),V.items.length>3&&a.jsxs(te,{variant:"outline",className:"text-[9px] sm:text-[10px] px-1 py-0",children:["+",V.items.length-3]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5 shrink-0",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 px-2 text-xs",onClick:()=>{P(V),ee(V.id),_(!0)},children:[a.jsx(_a,{className:"w-3 h-3 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:""})]}),a.jsxs(C,{variant:V.is_hot?"default":"outline",size:"sm",className:`h-7 sm:h-8 px-2 text-xs ${V.is_hot?"bg-red-500 hover:bg-red-600":""}`,onClick:()=>mt.mutate(V.id),disabled:V.is_hot||mt.isPending,children:[a.jsx(sf,{className:"w-3 h-3 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:V.is_hot?"":"Hero"})]}),a.jsxs(C,{variant:V.is_featured?"default":"outline",size:"sm",className:"h-7 sm:h-8 px-2 text-xs",onClick:()=>be(V,"is_featured"),children:[a.jsx(pa,{className:"w-3 h-3 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:""})]}),a.jsx(C,{variant:V.is_active?"outline":"destructive",size:"sm",className:"h-7 sm:h-8 px-2 text-xs",onClick:()=>be(V,"is_active"),children:V.is_active?a.jsx(qn,{className:"w-3 h-3"}):a.jsx(eo,{className:"w-3 h-3"})})]})]})})},V.id)})})]}),a.jsxs(At,{value:"products",className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsxs(C,{variant:"outline",className:"gap-2",onClick:Ha,"data-testid":"button-manage-categories",children:[a.jsx(Ste,{className:"w-4 h-4"}),e("admin.productsPage.manageCategories")]}),a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground",onClick:Fa,"data-testid":"button-add-product",children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.productsPage.addProduct")]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(ca,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:Ac.total}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.totalProducts")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center",children:a.jsx(pa,{className:"w-6 h-6 text-green-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-green-500",children:Ac.active}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.activeProducts")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-500/10 flex items-center justify-center",children:a.jsx(TN,{className:"w-6 h-6 text-emerald-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:Ac.birdNest}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.categoryBirdNest")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-500/10 flex items-center justify-center",children:a.jsx(TN,{className:"w-6 h-6 text-amber-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:Ac.fishMaw}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.categoryFishMaw")})]})]})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("span",{className:"text-sm text-muted-foreground mr-2",children:[e("admin.productsPage.categories"),":"]}),a.jsx(te,{variant:l==="all"?"default":"outline",className:"cursor-pointer",onClick:()=>c("all"),"data-testid":"category-all",children:e("admin.productsPage.allCategories")}),xe.map(V=>a.jsxs(te,{variant:"outline",className:`cursor-pointer ${l===V.id?Ta(V.color):""}`,onClick:()=>c(V.id),"data-testid":`category-${V.id}`,children:[V.name,a.jsx(C,{variant:"ghost",size:"icon",className:"h-4 w-4 ml-1 p-0",onClick:Se=>{Se.stopPropagation(),wa(V)},children:a.jsx(Ni,{className:"w-3 h-3"})})]},V.id))]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(ca,{className:"w-5 h-5 text-primary"}),e("admin.productsPage.productList")," (",Wa.length,")"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.productsPage.searchPlaceholder"),className:"pl-9",value:i,onChange:V=>o(V.target.value),"data-testid":"input-search"})]}),a.jsxs("div",{className:"flex border rounded-md",children:[a.jsx(C,{variant:d==="grid"?"secondary":"ghost",size:"icon",onClick:()=>u("grid"),"data-testid":"button-view-grid",children:a.jsx(TN,{className:"w-4 h-4"})}),a.jsx(C,{variant:d==="table"?"secondary":"ghost",size:"icon",onClick:()=>u("table"),"data-testid":"button-view-table",children:a.jsx(ca,{className:"w-4 h-4"})})]})]})]})}),a.jsx(ae,{children:pt?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):Wa.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ca,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.productsPage.noProducts")}),a.jsxs(C,{className:"mt-4",onClick:Fa,children:[a.jsx(zt,{className:"w-4 h-4 mr-2"}),e("admin.productsPage.addFirstProduct")]})]}):d==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Wa.map(V=>{const Se=xe.find(ze=>ze.id===V.category);return a.jsxs(W,{className:"overflow-hidden hover-elevate","data-testid":`product-${V.id}`,children:[a.jsxs("div",{className:"aspect-video bg-muted flex items-center justify-center relative",children:[V.image?a.jsx("img",{src:V.image,alt:V.name,className:"w-full h-full object-cover"}):a.jsx(Os,{className:"w-12 h-12 text-muted-foreground/50"}),!V.featured&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:a.jsx(te,{variant:"destructive",children:e("admin.productsPage.unavailable")})})]}),a.jsxs(ae,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold",children:V.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:V.nameEn})]}),Se&&a.jsx(te,{variant:"outline",className:Ta(Se.color),children:Se.name})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-lg font-bold text-primary",children:["RM ",V.price]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(C,{variant:"ghost",size:"icon",onClick:()=>fn(V),"data-testid":`button-view-${V.id}`,children:a.jsx(xa,{className:"w-4 h-4"})}),a.jsx(C,{variant:"ghost",size:"icon",onClick:()=>Ba(V),"data-testid":`button-edit-${V.id}`,children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>ue(V),"data-testid":`button-delete-${V.id}`,children:a.jsx(Ut,{className:"w-4 h-4"})})]})]})]})]},V.id)})}):a.jsxs(Fb,{children:[a.jsx(Bb,{children:a.jsxs(nd,{children:[a.jsx(bn,{children:e("admin.productsPage.image")}),a.jsx(bn,{children:e("admin.productsPage.productName")}),a.jsx(bn,{children:e("admin.productsPage.category")}),a.jsx(bn,{className:"text-right",children:e("admin.productsPage.price")}),a.jsx(bn,{children:e("admin.productsPage.status")}),a.jsx(bn,{className:"text-right",children:e("admin.productsPage.actions")})]})}),a.jsx(Ub,{children:Wa.map(V=>{const Se=xe.find(ze=>ze.id===V.category);return a.jsxs(nd,{"data-testid":`product-row-${V.id}`,children:[a.jsx(wn,{children:a.jsx("div",{className:"w-16 h-12 bg-muted rounded flex items-center justify-center overflow-hidden",children:V.image?a.jsx("img",{src:V.image,alt:V.name,className:"w-full h-full object-cover"}):a.jsx(Os,{className:"w-6 h-6 text-muted-foreground/50"})})}),a.jsx(wn,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:V.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:V.nameEn})]})}),a.jsx(wn,{children:Se&&a.jsx(te,{variant:"outline",className:Ta(Se.color),children:Se.name})}),a.jsxs(wn,{className:"text-right font-bold",children:["RM ",V.price]}),a.jsx(wn,{children:a.jsx(te,{className:V.featured!==!1?"bg-green-500":"bg-red-500",children:V.featured!==!1?e("admin.productsPage.available"):e("admin.productsPage.unavailable")})}),a.jsx(wn,{className:"text-right",children:a.jsxs(xd,{children:[a.jsx(yd,{asChild:!0,children:a.jsx(C,{variant:"ghost",size:"icon","data-testid":`button-actions-${V.id}`,children:a.jsx(yP,{className:"w-4 h-4"})})}),a.jsxs(ac,{align:"end",children:[a.jsxs(lr,{onClick:()=>fn(V),children:[a.jsx(xa,{className:"w-4 h-4 mr-2"}),e("admin.productsPage.view")]}),a.jsxs(lr,{onClick:()=>Ba(V),children:[a.jsx(_a,{className:"w-4 h-4 mr-2"}),e("admin.productsPage.edit")]}),a.jsxs(lr,{onClick:()=>ue(V),className:"text-destructive",children:[a.jsx(Ut,{className:"w-4 h-4 mr-2"}),e("admin.productsPage.delete")]})]})]})})]},V.id)})})]})})]})]})]})]}),a.jsx(et,{open:k,onOpenChange:_,children:a.jsxs(Ye,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsx(Je,{children:a.jsx(Qe,{className:"text-base sm:text-lg",children:""})}),w&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(ce,{value:w.name,onChange:V=>P({...w,name:V.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:""}),a.jsx(ce,{value:w.name_en||"",onChange:V=>P({...w,name_en:V.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:""}),a.jsx(ce,{value:w.name_ms||"",onChange:V=>P({...w,name_ms:V.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:""}),a.jsx(ce,{value:w.target_audience||"",onChange:V=>P({...w,target_audience:V.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:""}),a.jsx(ce,{value:w.keywords||"",onChange:V=>P({...w,keywords:V.target.value}),placeholder:""})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(ce,{type:"number",value:w.price,onChange:V=>P({...w,price:parseInt(V.target.value)||0})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(ce,{type:"number",value:w.original_price||"",onChange:V=>P({...w,original_price:parseInt(V.target.value)||null})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:""}),a.jsxs("div",{className:"border rounded-lg p-3 max-h-48 overflow-y-auto space-y-2",children:[Ge==null?void 0:Ge.map(V=>{const Se=w.items.some(Yt=>Yt.flavor===V.name),ze=w.items.find(Yt=>Yt.flavor===V.name);return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>Rt(V,!0),className:`flex-1 flex items-center gap-2 p-2 rounded border text-left transition-colors ${Se?"bg-primary/10 border-primary":"hover:bg-muted"}`,children:[Se?a.jsx(qn,{className:"w-4 h-4 text-primary"}):a.jsx("div",{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm truncate",children:V.name})]}),Se&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(C,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>ne(V.name,((ze==null?void 0:ze.quantity)||1)-1,!0),children:"-"}),a.jsx("span",{className:"w-6 text-center text-sm",children:(ze==null?void 0:ze.quantity)||1}),a.jsx(C,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>ne(V.name,((ze==null?void 0:ze.quantity)||1)+1,!0),children:"+"})]})]},V.id)}),(!Ge||Ge.length===0)&&a.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:""})]}),w.items.length>0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",w.items.map(V=>`${V.flavor}${V.quantity}`).join(", ")]})]}),a.jsxs("div",{className:"space-y-3 border-t pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Lp,{className:"w-4 h-4"}),""]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[D.length," "]})]}),z?a.jsx("div",{className:"flex justify-center py-4",children:a.jsx(fe,{className:"w-5 h-5 animate-spin"})}):a.jsx("div",{className:"space-y-2",children:D.map(V=>a.jsx("div",{className:"flex items-center gap-2 p-2 border rounded-lg",children:(Y==null?void 0:Y.id)===V.id?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-12 rounded bg-muted flex items-center justify-center overflow-hidden shrink-0",children:Y.image?a.jsx("img",{src:Y.image,alt:"",className:"w-full h-full object-cover"}):a.jsx(Os,{className:"w-5 h-5 text-muted-foreground/50"})}),a.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[a.jsx(ce,{value:Y.name,onChange:Se=>M({...Y,name:Se.target.value}),placeholder:"",className:"h-7 text-sm"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ce,{value:Y.name_en||"",onChange:Se=>M({...Y,name_en:Se.target.value}),placeholder:"English",className:"h-6 text-xs"}),a.jsx(ce,{type:"number",value:Y.stock,onChange:Se=>M({...Y,stock:parseInt(Se.target.value)||0}),placeholder:"",className:"h-6 text-xs w-16"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("input",{type:"file",className:"hidden",id:`variant-upload-${V.id}`,accept:"image/jpeg,image/png,image/webp",onChange:Se=>re(Se,V.id)}),a.jsx(C,{type:"button",variant:"outline",size:"icon",className:"h-6 w-6",disabled:ie,onClick:()=>{var Se;return(Se=document.getElementById(`variant-upload-${V.id}`))==null?void 0:Se.click()},children:ie?a.jsx(fe,{className:"w-3 h-3 animate-spin"}):a.jsx(Os,{className:"w-3 h-3"})}),a.jsx(C,{type:"button",size:"icon",className:"h-6 w-6",onClick:()=>T(Y),children:a.jsx(qn,{className:"w-3 h-3"})}),a.jsx(C,{type:"button",variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>M(null),children:a.jsx(eo,{className:"w-3 h-3"})})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-12 rounded bg-muted flex items-center justify-center overflow-hidden shrink-0",children:V.image?a.jsx("img",{src:V.image,alt:"",className:"w-full h-full object-cover"}):a.jsx(Os,{className:"w-5 h-5 text-muted-foreground/50"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:V.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[V.name_en&&a.jsxs("span",{children:[V.name_en,"  "]}),": ",V.stock]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(C,{type:"button",variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>M(V),children:a.jsx(_a,{className:"w-3 h-3"})}),a.jsx(C,{type:"button",variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:()=>me(V.id),children:a.jsx(Ut,{className:"w-3 h-3"})})]})]})},V.id))}),a.jsxs("div",{className:"flex items-center gap-2 p-2 border border-dashed rounded-lg",children:[a.jsx("div",{className:"w-12 h-12 rounded bg-muted flex items-center justify-center overflow-hidden shrink-0",children:R.image?a.jsx("img",{src:R.image,alt:"",className:"w-full h-full object-cover"}):a.jsx(zt,{className:"w-5 h-5 text-muted-foreground/50"})}),a.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[a.jsx(ce,{value:R.name,onChange:V=>J({...R,name:V.target.value}),placeholder:"",className:"h-7 text-sm"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ce,{value:R.name_en,onChange:V=>J({...R,name_en:V.target.value}),placeholder:"English name",className:"h-6 text-xs"}),a.jsx(ce,{type:"number",value:R.stock||"",onChange:V=>J({...R,stock:parseInt(V.target.value)||0}),placeholder:"",className:"h-6 text-xs w-16"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("input",{type:"file",ref:le,className:"hidden",accept:"image/jpeg,image/png,image/webp",onChange:V=>re(V)}),a.jsx(C,{type:"button",variant:"outline",size:"icon",className:"h-6 w-6",disabled:ie,onClick:()=>{var V;return(V=le.current)==null?void 0:V.click()},children:ie?a.jsx(fe,{className:"w-3 h-3 animate-spin"}):a.jsx(Os,{className:"w-3 h-3"})}),a.jsx(C,{type:"button",size:"icon",className:"h-6 w-6",onClick:he,disabled:!R.name,children:a.jsx(zt,{className:"w-3 h-3"})})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx(cn,{checked:w.is_active,onCheckedChange:V=>P({...w,is_active:V})}),a.jsx("span",{className:"text-sm",children:""})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx(cn,{checked:w.is_featured,onCheckedChange:V=>P({...w,is_featured:V})}),a.jsx("span",{className:"text-sm",children:""})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx(cn,{checked:w.is_hot,onCheckedChange:V=>P({...w,is_hot:V})}),a.jsx("span",{className:"text-sm",children:""})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx(cn,{checked:w.is_new,onCheckedChange:V=>P({...w,is_new:V})}),a.jsx("span",{className:"text-sm",children:""})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2",children:[a.jsxs(C,{variant:"destructive",onClick:()=>E(!0),className:"sm:mr-auto",children:[a.jsx(Ut,{className:"w-4 h-4 mr-1"}),""]}),a.jsx(C,{variant:"outline",onClick:()=>_(!1),children:""}),a.jsxs(C,{onClick:()=>I.mutate(w),disabled:I.isPending,children:[I.isPending?a.jsx(fe,{className:"w-4 h-4 mr-1 animate-spin"}):null,""]})]})]})]})}),a.jsx(et,{open:S,onOpenChange:O,children:a.jsxs(Ye,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsxs(Je,{children:[a.jsx(Qe,{className:"text-base sm:text-lg",children:""}),a.jsx(ht,{children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" () *"}),a.jsx(ce,{value:q.name,onChange:V=>ve({...q,name:V.target.value}),placeholder:""})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:""}),a.jsx(ce,{value:q.name_en,onChange:V=>ve({...q,name_en:V.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:""}),a.jsx(ce,{value:q.name_ms,onChange:V=>ve({...q,name_ms:V.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:""}),a.jsx(ce,{value:q.target_audience,onChange:V=>ve({...q,target_audience:V.target.value}),placeholder:""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:""}),a.jsx(ce,{value:q.keywords,onChange:V=>ve({...q,keywords:V.target.value}),placeholder:""})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" () *"}),a.jsx(ce,{type:"number",value:q.price,onChange:V=>ve({...q,price:parseInt(V.target.value)||0})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(ce,{type:"number",value:q.original_price||"",onChange:V=>ve({...q,original_price:parseInt(V.target.value)||null})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:" *"}),a.jsxs("div",{className:"border rounded-lg p-3 max-h-48 overflow-y-auto space-y-2",children:[Ge==null?void 0:Ge.map(V=>{const Se=q.items.some(Yt=>Yt.flavor===V.name),ze=q.items.find(Yt=>Yt.flavor===V.name);return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>Rt(V,!1),className:`flex-1 flex items-center gap-2 p-2 rounded border text-left transition-colors ${Se?"bg-primary/10 border-primary":"hover:bg-muted"}`,children:[Se?a.jsx(qn,{className:"w-4 h-4 text-primary"}):a.jsx("div",{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm truncate",children:V.name})]}),Se&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(C,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>ne(V.name,((ze==null?void 0:ze.quantity)||1)-1,!1),children:"-"}),a.jsx("span",{className:"w-6 text-center text-sm",children:(ze==null?void 0:ze.quantity)||1}),a.jsx(C,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>ne(V.name,((ze==null?void 0:ze.quantity)||1)+1,!1),children:"+"})]})]},V.id)}),(!Ge||Ge.length===0)&&a.jsx("p",{className:"text-sm text-muted-foreground text-center py-2",children:""})]}),q.items.length>0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",q.items.map(V=>`${V.flavor}${V.quantity}`).join(", ")]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:""}),a.jsx(ce,{type:"number",value:q.sort_order,onChange:V=>ve({...q,sort_order:parseInt(V.target.value)||0})})]}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx(cn,{checked:q.is_active,onCheckedChange:V=>ve({...q,is_active:V})}),a.jsx("span",{className:"text-sm",children:""})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx(cn,{checked:q.is_featured,onCheckedChange:V=>ve({...q,is_featured:V})}),a.jsx("span",{className:"text-sm",children:""})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx(cn,{checked:q.is_new,onCheckedChange:V=>ve({...q,is_new:V})}),a.jsx("span",{className:"text-sm",children:""})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2",children:[a.jsx(C,{variant:"outline",onClick:()=>O(!1),children:""}),a.jsxs(C,{onClick:()=>_e.mutate(q),disabled:!q.name||!q.price||q.items.length===0||_e.isPending,children:[_e.isPending?a.jsx(fe,{className:"w-4 h-4 mr-1 animate-spin"}):null,""]})]})]})]})}),a.jsx(et,{open:A,onOpenChange:E,children:a.jsxs(Ye,{className:"max-w-sm",children:[a.jsxs(Je,{children:[a.jsx(Qe,{children:""}),a.jsxs(ht,{children:["",w==null?void 0:w.name,""]})]}),a.jsxs(lt,{className:"gap-2",children:[a.jsx(C,{variant:"outline",onClick:()=>E(!1),children:""}),a.jsxs(C,{variant:"destructive",onClick:()=>w&&Me.mutate(w.id),disabled:Me.isPending,children:[Me.isPending?a.jsx(fe,{className:"w-4 h-4 mr-1 animate-spin"}):null,""]})]})]})}),a.jsx(et,{open:p,onOpenChange:g,children:a.jsxs(Ye,{className:"sm:max-w-[500px]",children:[a.jsxs(Je,{children:[a.jsx(Qe,{children:e(ye?"admin.productsPage.editCategory":"admin.productsPage.addCategory")}),a.jsx(ht,{children:e("admin.productsPage.categoryModalDesc")})]}),a.jsx(Wm,{...je,children:a.jsxs("form",{onSubmit:je.handleSubmit(Vj),className:"space-y-4 py-4",children:[a.jsx(Vt,{control:je.control,name:"name",render:({field:V})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:e("admin.productsPage.categoryName")}),a.jsx(Bt,{children:a.jsx(ce,{...V,placeholder:e("admin.productsPage.categoryNamePlaceholder"),"data-testid":"input-category-name"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:je.control,name:"nameEn",render:({field:V})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:e("admin.productsPage.categoryNameEn")}),a.jsx(Bt,{children:a.jsx(ce,{...V,placeholder:e("admin.productsPage.categoryNameEnPlaceholder"),"data-testid":"input-category-name-en"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:je.control,name:"description",render:({field:V})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:e("admin.productsPage.categoryDescription")}),a.jsx(Bt,{children:a.jsx(Pt,{...V,placeholder:e("admin.productsPage.categoryDescPlaceholder"),"data-testid":"input-category-desc"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:je.control,name:"color",render:({field:V})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:e("admin.productsPage.categoryColor")}),a.jsx(Bt,{children:a.jsx("div",{className:"flex gap-2",children:["emerald","amber","rose","blue"].map(Se=>a.jsx("button",{type:"button",onClick:()=>V.onChange(Se),className:`w-8 h-8 rounded-full border-2 ${Se==="emerald"?"bg-emerald-500":Se==="amber"?"bg-amber-500":Se==="rose"?"bg-rose-500":"bg-blue-500"} ${V.value===Se?"border-foreground":"border-transparent"}`,"data-testid":`color-${Se}`},Se))})}),a.jsx(Kt,{})]})}),a.jsxs(lt,{children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>g(!1),children:e("common.cancel")}),a.jsx(C,{type:"submit","data-testid":"button-save-category",children:e("common.save")})]})]})})]})}),a.jsx(et,{open:f,onOpenChange:x,children:a.jsxs(Ye,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsxs(Je,{children:[a.jsx(Qe,{children:e(oe?"admin.productsPage.editProduct":"admin.productsPage.addProduct")}),a.jsx(ht,{children:e("admin.productsPage.productModalDesc")})]}),a.jsx(Wm,{...Ne,children:a.jsxs("form",{onSubmit:Ne.handleSubmit(Wt),className:"space-y-4 py-4",children:[a.jsx(Vt,{control:Ne.control,name:"image",render:({field:V})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:e("admin.productsPage.productImage")}),a.jsx(Bt,{children:a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[V.value&&V.value!=="/pics/product-placeholder.jpg"?a.jsx("img",{src:V.value,alt:"",className:"w-32 h-32 object-cover mx-auto rounded-lg mb-2"}):a.jsx(Os,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-2"}),a.jsx("input",{type:"file",ref:n,accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:Ve}),a.jsx(C,{type:"button",variant:"outline",size:"sm",onClick:()=>{var Se;return(Se=n.current)==null?void 0:Se.click()},disabled:r,"data-testid":"button-upload-image",children:r?a.jsxs(a.Fragment,{children:[a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):e("admin.productsPage.uploadImage")})]})}),a.jsx(Kt,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Vt,{control:Ne.control,name:"name",render:({field:V})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:e("admin.productsPage.productNameZh")}),a.jsx(Bt,{children:a.jsx(ce,{...V,placeholder:e("admin.productsPage.productNameZhPlaceholder"),"data-testid":"input-product-name"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:Ne.control,name:"nameEn",render:({field:V})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:e("admin.productsPage.productNameEn")}),a.jsx(Bt,{children:a.jsx(ce,{...V,placeholder:e("admin.productsPage.productNameEnPlaceholder"),"data-testid":"input-product-name-en"})}),a.jsx(Kt,{})]})})]}),a.jsx(Vt,{control:Ne.control,name:"description",render:({field:V})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:e("admin.productsPage.productDescription")}),a.jsx(Bt,{children:a.jsx(Pt,{...V,placeholder:e("admin.productsPage.productDescPlaceholder"),rows:3,"data-testid":"input-product-desc"})}),a.jsx(Kt,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Vt,{control:Ne.control,name:"category",render:({field:V})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:e("admin.productsPage.category")}),a.jsxs(tt,{onValueChange:V.onChange,value:V.value,children:[a.jsx(Bt,{children:a.jsx(Xe,{"data-testid":"select-product-category",children:a.jsx(at,{placeholder:e("admin.productsPage.selectCategory")})})}),a.jsx(Ze,{children:xe.map(Se=>a.jsx(ge,{value:Se.id,children:Se.name},Se.id))})]}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:Ne.control,name:"price",render:({field:V})=>a.jsxs(Ft,{children:[a.jsxs(Lt,{children:[e("admin.productsPage.price")," (RM)"]}),a.jsx(Bt,{children:a.jsx(ce,{...V,type:"number",placeholder:"0.00","data-testid":"input-product-price"})}),a.jsx(Kt,{})]})})]}),a.jsx(Vt,{control:Ne.control,name:"priceUnit",render:({field:V})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:e("admin.productsPage.weight")}),a.jsx(Bt,{children:a.jsx(ce,{...V,placeholder:" /  / ","data-testid":"input-product-unit"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:Ne.control,name:"featured",render:({field:V})=>a.jsxs(Ft,{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Lt,{className:"text-base",children:e("admin.productsPage.isFeatured")}),a.jsx(tz,{children:e("admin.productsPage.isFeaturedDesc")})]}),a.jsx(Bt,{children:a.jsx(cn,{checked:V.value,onCheckedChange:V.onChange,"data-testid":"switch-featured"})})]})}),a.jsxs(lt,{children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>x(!1),children:e("common.cancel")}),a.jsx(C,{type:"submit","data-testid":"button-save-product",children:e("common.save")})]})]})})]})}),a.jsx(et,{open:b,onOpenChange:j,children:a.jsxs(Ye,{className:"sm:max-w-[500px]",children:[a.jsx(Je,{children:a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(xa,{className:"w-5 h-5"}),e("admin.productsPage.productDetails")]})}),oe&&a.jsxs("div",{className:"space-y-4 py-4",children:[oe.image&&a.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden",children:a.jsx("img",{src:oe.image,alt:oe.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.productNameZh")}),a.jsx("p",{className:"font-medium",children:oe.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.productNameEn")}),a.jsx("p",{className:"font-medium",children:oe.nameEn||"-"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.productDescription")}),a.jsx("p",{children:oe.description||"-"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.category")}),a.jsx(te,{variant:"outline",children:ga(oe.category)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.price")}),a.jsxs("p",{className:"font-bold text-primary",children:["RM ",oe.price]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productsPage.weight")}),a.jsx("p",{children:oe.priceUnit||"-"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(te,{className:"bg-green-500",children:e("admin.productsPage.available")}),oe.featured&&a.jsxs(te,{className:"bg-amber-500",children:[a.jsx(pa,{className:"w-3 h-3 mr-1"}),e("admin.productsPage.featured")]})]})]}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>j(!1),children:e("common.close")}),a.jsxs(C,{onClick:()=>{j(!1),Ba(oe)},children:[a.jsx(_a,{className:"w-4 h-4 mr-2"}),e("admin.productsPage.edit")]})]})]})}),a.jsx(et,{open:v,onOpenChange:N,children:a.jsxs(Ye,{className:"sm:max-w-[400px]",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(Ut,{className:"w-5 h-5"}),e("admin.productsPage.deleteConfirmTitle")]}),a.jsxs(ht,{children:[e("admin.productsPage.deleteConfirmDesc"),' "',oe==null?void 0:oe.name,'"']})]}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>N(!1),children:e("common.cancel")}),a.jsx(C,{variant:"destructive",onClick:au,"data-testid":"button-confirm-delete",children:e("common.delete")})]})]})})]})}function Uye(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState(""),[i,o]=y.useState("all"),[l,c]=y.useState(null),[d,u]=y.useState(!1),[m,h]=y.useState(!1),[p,g]=y.useState("date_desc"),[f,x]=y.useState(null),[b,j]=y.useState(!1),{data:v=[],isLoading:N,refetch:w}=Ae({queryKey:["admin-members"],queryFn:async()=>{const{data:M,error:R}=await L.from("members").select("*").order("created_at",{ascending:!1});if(R)return console.error("Error fetching members:",R),[];const{data:J}=await L.from("users").select("id, email, first_name, last_name, phone, role, created_at"),ie=new Map((J==null?void 0:J.map(G=>[G.id,G]))||[]),F=new Set((M==null?void 0:M.map(G=>G.user_id))||[]),{data:le}=await L.from("orders").select("member_id").not("member_id","is",null),q=new Map;le==null||le.forEach(G=>{const $=q.get(G.member_id)||0;q.set(G.member_id,$+1)});const ve=new Map((M==null?void 0:M.map(G=>[G.id,G.name]))||[]),ye=new Map;M==null||M.forEach(G=>{if(G.referrer_id){const $=ye.get(G.referrer_id)||0;ye.set(G.referrer_id,$+1)}});const H=(M||[]).map(G=>{var $;return{id:G.id,user_id:G.user_id,name:G.name||"",email:G.email||"",phone:G.phone||"",role:(($=ie.get(G.user_id))==null?void 0:$.role)||G.role||"member",points_balance:G.points_balance||0,referral_code:G.referral_code||"",referrer_id:G.referrer_id,created_at:G.created_at,orders_count:q.get(G.id)||0,referrer_name:G.referrer_id?ve.get(G.referrer_id):void 0,downline_count:ye.get(G.id)||0,is_registered_only:!1}}),oe=(J||[]).filter(G=>!F.has(G.id)).map(G=>({id:G.id,user_id:G.id,name:[G.first_name,G.last_name].filter(Boolean).join(" ")||G.email||"",email:G.email||"",phone:G.phone||"",role:"user",points_balance:0,referral_code:"",referrer_id:null,created_at:G.created_at,orders_count:0,referrer_name:void 0,downline_count:0,is_registered_only:!0}));return[...H,...oe]}}),{data:P=[],isLoading:k}=Ae({queryKey:["member-network",l==null?void 0:l.id],queryFn:async()=>{if(!(l!=null&&l.id))return[];const{data:M,error:R}=await L.rpc("get_member_downline",{p_member_id:l.id,p_max_level:10});if(R){console.error("Error fetching network:",R);const{data:J}=await L.from("members").select("*").eq("referrer_id",l.id);return J||[]}return M||[]},enabled:!!(l!=null&&l.id)&&m}),_=Ce({mutationFn:async({userId:M,role:R,name:J,email:ie,phone:F})=>{const{data:le,error:q}=await L.rpc("admin_set_user_role",{p_user_id:M,p_new_role:R,p_name:J||null,p_email:ie||null,p_phone:F||null});if(q)throw q;return le},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-members"]}),t({title:""})},onError:M=>{t({title:"",description:M.message,variant:"destructive"})}}),S=M=>{switch(M){case"user":return{label:"",icon:Br,variant:"outline"};case"member":return{label:e("admin.membersPage.roleMember"),icon:pa,variant:"secondary"};case"partner":return{label:e("admin.membersPage.rolePartner"),icon:hr,variant:"default"};case"admin":return{label:e("admin.membersPage.roleAdmin"),icon:jr,variant:"destructive"};default:return{label:"",icon:Br,variant:"outline"}}},O=M=>{const R=[];return M==="admin"&&R.push({label:e("admin.membersPage.roleAdmin"),icon:jr,variant:"destructive"}),(M==="admin"||M==="partner")&&R.push({label:e("admin.membersPage.rolePartner"),icon:hr,variant:"default"}),M==="user"?R.push({label:"",icon:Br,variant:"outline"}):R.push({label:e("admin.membersPage.roleMember"),icon:pa,variant:"secondary"}),R},A=Ce({mutationFn:async M=>{if(!M.is_registered_only){await L.from("partners").delete().eq("member_id",M.id);const{error:J}=await L.from("members").delete().eq("id",M.id);if(J)throw J}const{error:R}=await L.from("users").delete().eq("id",M.user_id);if(R)throw R},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-members"]}),j(!1),x(null),u(!1),t({title:""})},onError:M=>{t({title:"",description:M.message,variant:"destructive"})}}),E=()=>{const M=["","","","","","","","",""],R={user:"",member:"",partner:"",admin:""},J=D.map(ye=>[ye.name,ye.email,ye.phone||"",R[ye.role]||ye.role,ye.referral_code||"",String(ye.points_balance),String(ye.orders_count||0),String(ye.downline_count||0),Y(ye.created_at)]),ie=[M,...J].map(ye=>ye.map(H=>`"${H.replace(/"/g,'""')}"`).join(",")).join(`
`),F="\uFEFF",le=new Blob([F+ie],{type:"text/csv;charset=utf-8;"}),q=URL.createObjectURL(le),ve=document.createElement("a");ve.href=q,ve.download=`_${new Date().toISOString().slice(0,10)}.csv`,ve.click(),URL.revokeObjectURL(q)},D=v.filter(M=>{const R=r===""||M.name.toLowerCase().includes(r.toLowerCase())||M.email.toLowerCase().includes(r.toLowerCase())||M.referral_code.toLowerCase().includes(r.toLowerCase()),J=i==="all"||M.role===i;return R&&J}).sort((M,R)=>{switch(p){case"date_asc":return new Date(M.created_at).getTime()-new Date(R.created_at).getTime();case"name":return M.name.localeCompare(R.name,"zh");case"points":return(R.points_balance||0)-(M.points_balance||0);default:return new Date(R.created_at).getTime()-new Date(M.created_at).getTime()}}),B={total:v.length,registered:v.filter(M=>M.role==="user").length,members:v.filter(M=>M.role==="member").length,partners:v.filter(M=>M.role==="partner").length,admins:v.filter(M=>M.role==="admin").length},z=M=>{c(M),u(!0)},K=M=>{c(M),h(!0)},Y=M=>new Date(M).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-members-title",children:e("admin.membersPage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.membersPage.subtitle")})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"shrink-0",onClick:()=>w(),disabled:N,children:[a.jsx(Yo,{className:`w-4 h-4 ${N?"animate-spin":""}`}),a.jsx("span",{className:"hidden sm:inline ml-1.5",children:""})]})]}),a.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2 sm:gap-3 md:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-3",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(Tt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:B.total}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:e("admin.membersPage.totalUsers")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-3",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0",children:a.jsx(Br,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-500"})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-500",children:B.registered}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:""})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-3",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-secondary/10 flex items-center justify-center shrink-0",children:a.jsx(pa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-secondary"})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-secondary",children:B.members}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:e("admin.membersPage.regularMembers")})]})]})}),a.jsx(W,{className:"hidden sm:block",children:a.jsxs(ae,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-3",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-primary",children:B.partners}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:e("admin.membersPage.partners")})]})]})}),a.jsx(W,{className:"hidden sm:block",children:a.jsxs(ae,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-3",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-red-500/10 flex items-center justify-center shrink-0",children:a.jsx(jr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-500",children:B.admins}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:""})]})]})})]}),a.jsxs(W,{children:[a.jsx($e,{className:"px-3 sm:px-6 py-3 sm:py-4",children:a.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Tt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary shrink-0"}),e("admin.membersPage.memberList")]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsxs(tt,{value:p,onValueChange:M=>g(M),children:[a.jsxs(Xe,{className:"h-8 w-8 sm:w-auto sm:h-9 p-0 sm:px-3 border-none shadow-none [&>svg:last-child]:hidden sm:[&>svg:last-child]:block",children:[a.jsx(pte,{className:"w-4 h-4 sm:hidden"}),a.jsx("span",{className:"hidden sm:inline",children:a.jsx(at,{})})]}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"date_desc",children:""}),a.jsx(ge,{value:"date_asc",children:""}),a.jsx(ge,{value:"name",children:""}),a.jsx(ge,{value:"points",children:""})]})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-8 px-2 sm:px-3",onClick:E,children:[a.jsx(Do,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline ml-1.5",children:""})]})]})]}),a.jsxs("div",{className:"relative w-full",children:[a.jsx(va,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.membersPage.searchPlaceholder"),className:"pl-8 h-9 text-sm",value:r,onChange:M=>s(M.target.value),"data-testid":"input-search"})]})]})}),a.jsx(ae,{className:"px-3 sm:px-6",children:a.jsxs(ba,{value:i,onValueChange:o,children:[a.jsx("div",{className:"overflow-x-auto -mx-1 px-1 pb-1",children:a.jsxs(fa,{className:"inline-flex w-auto min-w-max md:grid md:w-full md:grid-cols-5 h-auto",children:[a.jsxs(Ee,{value:"all",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5","data-testid":"tab-all",children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.membersPage.tabAll")}),a.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",B.total,")"]})]}),a.jsxs(Ee,{value:"user",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5","data-testid":"tab-user",children:["",a.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",B.registered,")"]})]}),a.jsxs(Ee,{value:"member",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5","data-testid":"tab-member",children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.membersPage.tabMember")}),a.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",B.members,")"]})]}),a.jsxs(Ee,{value:"partner",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5","data-testid":"tab-partner",children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.membersPage.tabPartner")}),a.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",B.partners,")"]})]}),a.jsxs(Ee,{value:"admin",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5","data-testid":"tab-admin",children:[a.jsx("span",{className:"sm:hidden",children:""}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.membersPage.tabAdmin")}),a.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",B.admins,")"]})]})]})}),a.jsx(At,{value:i,className:"mt-4",children:N?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):D.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Tt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.membersPage.noMembers")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:D.map(M=>{const J=S(M.role).icon,ie=O(M.role),F=M.is_registered_only;return a.jsx("div",{className:`p-2.5 sm:p-3 md:p-4 border rounded-lg hover:bg-muted/50 transition-colors ${F?"border-dashed opacity-80":""}`,"data-testid":`member-${M.id}`,children:a.jsxs("div",{className:"flex items-start gap-2.5 sm:gap-3 md:gap-4",children:[a.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex-shrink-0 flex items-center justify-center ${F?"bg-blue-500/10":"bg-primary/10"}`,children:a.jsx(J,{className:`w-4 h-4 sm:w-5 sm:h-5 ${F?"text-blue-500":"text-primary"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-1 sm:gap-1.5 min-w-0",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base truncate max-w-[120px] sm:max-w-none",children:M.name}),ie.map(le=>a.jsx(te,{variant:le.variant,className:"text-[10px] sm:text-xs px-1.5 sm:px-2 py-0",children:le.label},le.label))]}),a.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 sm:hidden",children:[!F&&a.jsx(C,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>K(M),"data-testid":`button-network-${M.id}`,children:a.jsx(ed,{className:"w-3.5 h-3.5"})}),a.jsxs(xd,{children:[a.jsx(yd,{asChild:!0,children:a.jsx(C,{variant:"ghost",size:"icon",className:"h-7 w-7",children:a.jsx(kte,{className:"w-3.5 h-3.5"})})}),a.jsxs(ac,{align:"end",children:[a.jsxs(lr,{onClick:()=>z(M),children:[a.jsx(xa,{className:"w-4 h-4 mr-2"}),""]}),a.jsxs(lr,{className:"text-red-500 focus:text-red-500",onClick:()=>{x(M),j(!0)},children:[a.jsx(Ut,{className:"w-4 h-4 mr-2"}),""]})]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 sm:gap-x-3 gap-y-0.5 text-xs sm:text-sm text-muted-foreground mt-0.5",children:[M.referral_code&&a.jsx("span",{className:"font-mono",children:M.referral_code}),a.jsxs("span",{className:"flex items-center gap-1 truncate max-w-[160px] sm:max-w-none",children:[a.jsx(ec,{className:"w-3 h-3 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:M.email})]}),M.phone&&a.jsxs("span",{className:"hidden md:flex items-center gap-1",children:[a.jsx(ds,{className:"w-3 h-3"}),M.phone]})]}),M.referrer_name&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[": ",M.referrer_name]}),!F&&a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mt-1 sm:mt-1.5 md:hidden text-[11px] sm:text-xs text-muted-foreground",children:[a.jsxs("span",{children:[M.points_balance," ",e("admin.membersPage.points")]}),a.jsxs("span",{children:[M.orders_count," "]}),a.jsxs("span",{children:[M.downline_count," "]})]}),F&&a.jsxs("p",{className:"text-[11px] sm:text-xs text-muted-foreground mt-1 sm:mt-1.5 md:hidden",children:[" ",Y(M.created_at)]})]}),a.jsxs("div",{className:"hidden sm:flex items-center gap-2 md:gap-4 flex-shrink-0",children:[F?a.jsx("div",{className:"text-right hidden md:block",children:a.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",Y(M.created_at)]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-right hidden md:block",children:[a.jsxs("p",{className:"text-sm",children:[M.points_balance," ",e("admin.membersPage.points")]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[M.orders_count,"   ",M.downline_count," "]})]}),a.jsx(C,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>K(M),"data-testid":`button-network-${M.id}`,children:a.jsx(ed,{className:"w-4 h-4"})})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>z(M),"data-testid":`button-view-${M.id}`,children:[a.jsx(xa,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.membersPage.viewDetails")})]})]})]})},M.id)})})})]})})]})]}),a.jsx(et,{open:d,onOpenChange:u,children:a.jsxs(Ye,{className:"max-w-lg max-h-[90dvh] overflow-y-auto",children:[a.jsx(Je,{children:a.jsxs(Qe,{className:"text-base sm:text-lg truncate",children:[l!=null&&l.is_registered_only?"":""," - ",l==null?void 0:l.name]})}),l&&a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[l.referral_code?a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"font-mono font-bold text-base sm:text-lg text-primary",children:l.referral_code})]}):a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx(te,{variant:"outline",className:"mt-1 text-xs",children:"  "})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsxs(tt,{value:l.role,onValueChange:M=>_.mutate({userId:l.user_id,role:M,name:l.name,email:l.email,phone:l.phone}),disabled:_.isPending,children:[a.jsx(Xe,{className:"w-full h-9 text-sm",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[l.is_registered_only&&a.jsx(ge,{value:"user",children:""}),a.jsx(ge,{value:"member",children:""}),a.jsx(ge,{value:"partner",children:""}),a.jsx(ge,{value:"admin",children:""})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"text-sm break-all",children:l.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"text-sm",children:l.phone||"-"})]})]}),!l.is_registered_only&&a.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"font-bold",children:l.points_balance})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"font-bold",children:l.orders_count})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"font-bold",children:l.downline_count})]})]}),l.referrer_name&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"text-sm",children:l.referrer_name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"text-sm",children:Y(l.created_at)})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs(C,{variant:"outline",size:"sm",className:"text-red-500 border-red-200 hover:bg-red-50 hover:text-red-600 w-full",onClick:()=>{x(l),j(!0)},children:[a.jsx(Ut,{className:"w-4 h-4 mr-1.5"}),""]})})]})]})}),a.jsx(et,{open:m,onOpenChange:h,children:a.jsxs(Ye,{className:"max-w-2xl max-h-[85dvh] overflow-y-auto",children:[a.jsx(Je,{children:a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(ed,{className:"w-4 h-4 sm:w-5 sm:h-5 shrink-0"}),a.jsxs("span",{className:"truncate",children:[l==null?void 0:l.name," "]})]})}),k?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):P.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ed,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:""})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[" ",P.length," "]}),P.map(M=>{const R=S(M.role);return a.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 sm:p-3 border rounded-lg",style:{marginLeft:`${Math.min((M.level-1)*12,48)}px`},children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[a.jsxs(te,{variant:"outline",className:"text-[10px] sm:text-xs shrink-0 px-1.5",children:["L",M.level]}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base truncate block",children:M.name}),a.jsx(te,{variant:R.variant,className:"text-[10px] sm:text-xs mt-0.5",children:R.label})]})]}),a.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground font-mono shrink-0",children:M.referral_code})]},M.id)})]})]})}),a.jsx(P9,{open:b,onOpenChange:j,children:a.jsxs($A,{children:[a.jsxs(FA,{children:[a.jsx(UA,{children:""}),a.jsxs(qA,{children:[" ",a.jsx("span",{className:"font-medium text-foreground",children:f==null?void 0:f.name}),"",f==null?void 0:f.email,""]})]}),a.jsxs(BA,{children:[a.jsx(KA,{disabled:A.isPending,children:""}),a.jsxs(VA,{className:"bg-red-500 hover:bg-red-600",disabled:A.isPending,onClick:()=>f&&A.mutate(f),children:[A.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-1.5 animate-spin"}),""]})]})]})})]})}function qye(){const{t:e}=ft(),{data:t=[],isLoading:n,refetch:r}=Ae({queryKey:["admin-bonus-pool-cycles"],queryFn:async()=>{const{data:u,error:m}=await L.from("bonus_pool_cycles").select("*").order("cycle_number",{ascending:!1}).limit(10);return m?(console.error("Error fetching bonus pool cycles:",m),[]):(u||[]).map(h=>{const p=h.pool_amount||0,g=h.total_tokens||0;return{id:h.id,cycle_number:h.cycle_number,start_date:h.start_date,end_date:h.end_date,pool_amount:p,total_tokens:g,per_token_value:g>0?Math.floor(p/g):0,participating_partners:0,total_sales:h.total_sales||0,status:h.status||"pending",created_at:h.created_at}})}}),s=t.find(u=>u.status==="active")||t[0],i=t.filter(u=>u.status==="settled"),l=s?(u=>{const m=new Date(u),h=new Date,p=Math.ceil((m.getTime()-h.getTime())/(1e3*60*60*24));return Math.max(0,p)})(s.end_date):0,c=s?(10-l)/10*100:0,d=u=>new Date(u).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return n?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(yt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-bonus-pool-title",children:e("admin.bonusPoolPage.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.bonusPoolPage.subtitle")})]}),a.jsxs(C,{variant:"outline",className:"gap-2",onClick:()=>r(),"data-testid":"button-refresh",children:[a.jsx(Yo,{className:"w-4 h-4"}),e("admin.bonusPoolPage.refreshData")]})]}),s?a.jsxs(W,{className:"bg-gradient-to-r from-secondary/10 to-primary/10 border-secondary/20",children:[a.jsxs($e,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(wP,{className:"w-6 h-6 text-secondary"}),e("admin.bonusPoolPage.currentCycle")," #",s.cycle_number]}),a.jsx(te,{className:s.status==="active"?"bg-green-500 text-white":"bg-yellow-500",children:s.status==="active"?e("admin.bonusPoolPage.inProgress"):s.status})]}),a.jsxs(Ca,{children:[d(s.start_date)," ~ ",d(s.end_date)]})]}),a.jsxs(ae,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:e("admin.bonusPoolPage.cycleProgress")}),a.jsxs("span",{children:[10-l,"/10 ",e("admin.bonusPoolPage.days")]})]}),a.jsx(Ld,{value:c,className:"h-3"}),a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(Ht,{className:"w-4 h-4"}),e("admin.bonusPoolPage.daysRemaining").replace("{days}",String(l))]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-background rounded-lg",children:[a.jsx(Cr,{className:"w-6 h-6 mx-auto text-secondary mb-2"}),a.jsxs("p",{className:"text-2xl font-bold text-secondary",children:["RM ",(s.pool_amount/100).toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.bonusPoolPage.currentPool")})]}),a.jsxs("div",{className:"text-center p-4 bg-background rounded-lg",children:[a.jsx(La,{className:"w-6 h-6 mx-auto text-primary mb-2"}),a.jsxs("p",{className:"text-2xl font-bold text-primary",children:["RM ",(s.per_token_value/100).toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.bonusPoolPage.perTokenValue")})]}),a.jsxs("div",{className:"text-center p-4 bg-background rounded-lg",children:[a.jsx(Tt,{className:"w-6 h-6 mx-auto text-primary mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:s.total_tokens}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"RWA "})]}),a.jsxs("div",{className:"text-center p-4 bg-background rounded-lg",children:[a.jsx(En,{className:"w-6 h-6 mx-auto text-green-500 mb-2"}),a.jsxs("p",{className:"text-2xl font-bold",children:["RM ",(s.total_sales/100).toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.bonusPoolPage.cycleSales")})]})]})]})]}):a.jsx(W,{children:a.jsxs(ae,{className:"p-12 text-center",children:[a.jsx(wP,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:""})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(jn,{className:"w-5 h-5 text-primary"}),e("admin.bonusPoolPage.cycleSettings")]})}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:e("admin.bonusPoolPage.cycleLength")}),a.jsxs("span",{className:"font-medium",children:["10 ",e("admin.bonusPoolPage.days")]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:e("admin.bonusPoolPage.salesPoolRatio")}),a.jsx("span",{className:"font-medium text-secondary",children:"30%"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[a.jsx("span",{className:"text-sm",children:e("admin.bonusPoolPage.totalRwaTokens")}),a.jsxs("span",{className:"font-medium",children:[(s==null?void 0:s.total_tokens)||0," ",e("admin.bonusPoolPage.tokens")]})]}),a.jsx(C,{className:"w-full",variant:"outline","data-testid":"button-edit-settings",children:e("admin.bonusPoolPage.editSettings")})]})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(ux,{className:"w-5 h-5 text-primary"}),e("admin.bonusPoolPage.dividendNote")]})}),a.jsxs(ae,{className:"space-y-3 text-sm text-muted-foreground",children:[a.jsx("p",{children:e("admin.bonusPoolPage.dividendDesc1")}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:e("admin.bonusPoolPage.dividendRule1")}),a.jsx("li",{children:e("admin.bonusPoolPage.dividendRule2")}),a.jsx("li",{children:e("admin.bonusPoolPage.dividendRule3")})]})]})]})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(Ht,{className:"w-5 h-5 text-primary"}),e("admin.bonusPoolPage.historyCycles")]})}),a.jsx(ae,{children:i.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ht,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:""})]}):a.jsx("div",{className:"space-y-3",children:i.map(u=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`cycle-${u.cycle_number}`,children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-medium",children:[e("admin.bonusPoolPage.cycle")," #",u.cycle_number]}),a.jsx(te,{variant:"outline",children:e("admin.bonusPoolPage.settled")})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[d(u.start_date)," ~ ",d(u.end_date)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-secondary",children:["RM ",(u.pool_amount/100).toFixed(2)]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("admin.bonusPoolPage.perToken")," RM ",(u.per_token_value/100).toFixed(2),"  ",u.total_tokens," "]})]})]},u.id))})})]})]})})}const Vye=Ct.object({name:Ct.string().min(1,""),sku:Ct.string().min(1,"SKU"),categoryId:Ct.string().optional(),stock:Ct.coerce.number().min(0,""),minStock:Ct.coerce.number().min(0,""),unit:Ct.string().min(1,"")});function Kye(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState(""),[i,o]=y.useState("all"),[l,c]=y.useState(!1),[d,u]=y.useState(!1),[m,h]=y.useState(null),[p,g]=y.useState(""),[f,x]=y.useState(""),[b,j]=y.useState(""),[v,N]=y.useState(!1),w=Um({resolver:qm(Vye),defaultValues:{name:"",sku:"",categoryId:void 0,stock:0,minStock:10,unit:""}}),P=()=>{const F="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let le="INV-";for(let q=0;q<6;q++)le+=F.charAt(Math.floor(Math.random()*F.length));w.setValue("sku",le)},k=Ce({mutationFn:async F=>{let le="normal";F.stock===0?le="out_of_stock":F.stock<F.minStock?le="low":F.stock<F.minStock*2&&(le="critical");const{error:q}=await L.from("inventory_items").insert({name:F.name,sku:F.sku,category_id:F.categoryId||null,stock:F.stock,min_stock:F.minStock,unit:F.unit,status:le});if(q)throw q},onSuccess:()=>{n.invalidateQueries({queryKey:["inventory-items"]}),N(!1),w.reset(),t({title:""})},onError:F=>{t({title:"",description:String(F),variant:"destructive"})}}),{data:_=[]}=Ae({queryKey:["inventory-categories"],queryFn:async()=>{const{data:F,error:le}=await L.from("inventory_categories").select("*").order("name");return le?(console.error("Error fetching categories:",le),[]):F||[]}}),{data:S=[],isLoading:O}=Ae({queryKey:["inventory-items"],queryFn:async()=>{const{data:F,error:le}=await L.from("inventory_items").select("*").order("name");return le?(console.error("Error fetching inventory:",le),[]):F||[]}}),{data:A=[],isLoading:E}=Ae({queryKey:["inventory-ledger"],queryFn:async()=>{const{data:F,error:le}=await L.from("inventory_ledger").select("*, item:inventory_items(name)").order("created_at",{ascending:!1}).limit(20);return le?(console.error("Error fetching ledger:",le),[]):(F||[]).map(q=>{var ve;return{...q,item_name:((ve=q.item)==null?void 0:ve.name)||""}})}}),D=Ce({mutationFn:async({itemId:F,type:le,quantity:q,movementType:ve,note:ye})=>{const{error:H}=await L.from("inventory_ledger").insert({item_id:F,type:le,quantity:q,movement_type:ve,note:ye,operator:""});if(H)throw H;const oe=S.find(Z=>Z.id===F);if(!oe)throw new Error("Item not found");const G=le==="in"?oe.stock+q:Math.max(0,oe.stock-q),{error:$}=await L.from("inventory_items").update({stock:G}).eq("id",F);if($)throw $},onSuccess:()=>{n.invalidateQueries({queryKey:["inventory-items"]}),n.invalidateQueries({queryKey:["inventory-ledger"]}),c(!1),u(!1),h(null),g(""),x(""),j(""),t({title:""})},onError:F=>{t({title:"",description:String(F),variant:"destructive"})}}),B=()=>{!m||!p||!f||D.mutate({itemId:m.id,type:"in",quantity:parseInt(p),movementType:f,note:b})},z=()=>{!m||!p||!f||D.mutate({itemId:m.id,type:"out",quantity:parseInt(p),movementType:f,note:b})},K=S.filter(F=>{const le=r===""||F.name.toLowerCase().includes(r.toLowerCase())||F.sku.toLowerCase().includes(r.toLowerCase()),q=i==="all"||F.category_id===i;return le&&q}),Y={totalSku:S.length,lowStock:S.filter(F=>F.status==="low").length,critical:S.filter(F=>F.status==="critical"||F.status==="out_of_stock").length},M=F=>{switch(F){case"normal":return a.jsx(te,{className:"bg-green-500",children:e("admin.inventoryPage.statusNormal")});case"low":return a.jsx(te,{className:"bg-yellow-500",children:e("admin.inventoryPage.statusLow")});case"critical":return a.jsx(te,{className:"bg-red-500",children:e("admin.inventoryPage.statusCritical")});case"out_of_stock":return a.jsx(te,{className:"bg-red-700",children:""});default:return a.jsx(te,{variant:"outline",children:e("admin.inventoryPage.statusUnknown")})}},R=F=>{const le={blue:"bg-blue-500/10 text-blue-600 border-blue-200",green:"bg-green-500/10 text-green-600 border-green-200",purple:"bg-purple-500/10 text-purple-600 border-purple-200",amber:"bg-amber-500/10 text-amber-600 border-amber-200"};return le[F]||le.blue},J=F=>new Date(F).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return O||E?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif","data-testid":"text-inventory-title",children:e("admin.inventoryPage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.inventoryPage.subtitle")})]}),a.jsxs(xd,{children:[a.jsx(yd,{asChild:!0,children:a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground shrink-0",size:"sm","data-testid":"button-add-stock",children:[a.jsx(zt,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.inventoryPage.addStock")}),a.jsx("span",{className:"sm:hidden",children:""})]})}),a.jsxs(ac,{children:[a.jsxs(lr,{onClick:()=>{h(null),c(!0)},"data-testid":"menu-stock-in",children:[a.jsx(En,{className:"w-4 h-4 mr-2 text-green-500"}),e("admin.inventoryPage.stockIn")]}),a.jsxs(lr,{onClick:()=>{h(null),u(!0)},"data-testid":"menu-stock-out",children:[a.jsx(is,{className:"w-4 h-4 mr-2 text-red-500"}),e("admin.inventoryPage.stockOut")]}),a.jsxs(lr,{onClick:()=>{w.reset(),P(),N(!0)},"data-testid":"menu-new-item",children:[a.jsx(zt,{className:"w-4 h-4 mr-2 text-primary"}),""]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-4",children:[a.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(xP,{className:"w-4 h-4 sm:w-6 sm:h-6 text-primary"})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:Y.totalSku}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:e("admin.inventoryPage.productSku")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-4",children:[a.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:a.jsx(ic,{className:"w-4 h-4 sm:w-6 sm:h-6 text-yellow-500"})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:Y.lowStock}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:e("admin.inventoryPage.lowStock")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex flex-col sm:flex-row items-center sm:items-center gap-1 sm:gap-4",children:[a.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-red-500/10 flex items-center justify-center shrink-0",children:a.jsx(ic,{className:"w-4 h-4 sm:w-6 sm:h-6 text-red-500"})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-500",children:Y.critical}),a.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground leading-tight",children:e("admin.inventoryPage.criticalStock")})]})]})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[a.jsxs("span",{className:"text-sm text-muted-foreground mr-2",children:[e("admin.inventoryPage.categories"),":"]}),a.jsx(te,{variant:i==="all"?"default":"outline",className:"cursor-pointer",onClick:()=>o("all"),"data-testid":"category-all",children:e("admin.inventoryPage.allCategories")}),_.map(F=>a.jsx(te,{variant:"outline",className:`cursor-pointer ${i===F.id?R(F.color):""}`,onClick:()=>o(F.id),"data-testid":`category-${F.id}`,children:F.name},F.id))]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(ca,{className:"w-5 h-5 text-primary"}),e("admin.inventoryPage.inventoryStatus")]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.inventoryPage.searchPlaceholder"),className:"pl-9",value:r,onChange:F=>s(F.target.value),"data-testid":"input-search"})]})]})}),a.jsx(ae,{children:K.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(xP,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:""})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden space-y-3",children:K.map(F=>{const le=_.find(q=>q.id===F.category_id);return a.jsxs("div",{className:"border rounded-lg p-3 space-y-2","data-testid":`inventory-card-${F.id}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:F.name}),a.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:F.sku})]}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[M(F.status),a.jsxs(xd,{children:[a.jsx(yd,{asChild:!0,children:a.jsx(C,{variant:"ghost",size:"icon",className:"h-7 w-7","data-testid":`button-actions-${F.id}`,children:a.jsx(yP,{className:"w-4 h-4"})})}),a.jsxs(ac,{align:"end",children:[a.jsxs(lr,{onClick:()=>{h(F),c(!0)},children:[a.jsx(En,{className:"w-4 h-4 mr-2 text-green-500"}),e("admin.inventoryPage.stockIn")]}),a.jsxs(lr,{onClick:()=>{h(F),u(!0)},children:[a.jsx(is,{className:"w-4 h-4 mr-2 text-red-500"}),e("admin.inventoryPage.stockOut")]})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("div",{className:"flex items-center gap-2",children:le&&a.jsx(te,{variant:"outline",className:`text-xs ${R(le.color)}`,children:le.name})}),a.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[a.jsxs("span",{className:"font-bold",children:[F.stock," ",a.jsx("span",{className:"text-muted-foreground font-normal",children:F.unit})]}),a.jsxs("span",{className:"text-muted-foreground",children:["/ ",e("admin.inventoryPage.minStock"),": ",F.min_stock]})]})]})]},F.id)})}),a.jsx("div",{className:"hidden md:block",children:a.jsxs(Fb,{children:[a.jsx(Bb,{children:a.jsxs(nd,{children:[a.jsx(bn,{children:e("admin.inventoryPage.itemName")}),a.jsx(bn,{children:e("admin.inventoryPage.sku")}),a.jsx(bn,{children:e("admin.inventoryPage.category")}),a.jsx(bn,{className:"text-center",children:e("admin.inventoryPage.currentStock")}),a.jsx(bn,{className:"text-center",children:e("admin.inventoryPage.minStock")}),a.jsx(bn,{children:e("admin.inventoryPage.status")}),a.jsx(bn,{className:"text-right",children:e("admin.inventoryPage.actions")})]})}),a.jsx(Ub,{children:K.map(F=>{const le=_.find(q=>q.id===F.category_id);return a.jsxs(nd,{"data-testid":`inventory-row-${F.id}`,children:[a.jsx(wn,{className:"font-medium",children:F.name}),a.jsx(wn,{className:"text-muted-foreground",children:F.sku}),a.jsx(wn,{children:le&&a.jsx(te,{variant:"outline",className:R(le.color),children:le.name})}),a.jsxs(wn,{className:"text-center font-bold",children:[F.stock," ",F.unit]}),a.jsxs(wn,{className:"text-center text-muted-foreground",children:[F.min_stock," ",F.unit]}),a.jsx(wn,{children:M(F.status)}),a.jsx(wn,{className:"text-right",children:a.jsxs(xd,{children:[a.jsx(yd,{asChild:!0,children:a.jsx(C,{variant:"ghost",size:"icon","data-testid":`button-actions-${F.id}`,children:a.jsx(yP,{className:"w-4 h-4"})})}),a.jsxs(ac,{align:"end",children:[a.jsxs(lr,{onClick:()=>{h(F),c(!0)},children:[a.jsx(En,{className:"w-4 h-4 mr-2 text-green-500"}),e("admin.inventoryPage.stockIn")]}),a.jsxs(lr,{onClick:()=>{h(F),u(!0)},children:[a.jsx(is,{className:"w-4 h-4 mr-2 text-red-500"}),e("admin.inventoryPage.stockOut")]})]})]})})]},F.id)})})]})})]})})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(En,{className:"w-5 h-5 text-primary"}),e("admin.inventoryPage.recentChanges")]})}),a.jsx(ae,{children:A.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:""})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden space-y-3",children:A.map(F=>a.jsxs("div",{className:"border rounded-lg p-3 space-y-2","data-testid":`ledger-card-${F.id}`,children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(te,{className:`shrink-0 text-xs ${F.type==="in"?"bg-green-500":"bg-red-500"}`,children:F.type==="in"?e("admin.inventoryPage.stockIn"):e("admin.inventoryPage.stockOut")}),a.jsx("span",{className:"text-xs text-muted-foreground",children:J(F.created_at)})]}),a.jsxs("span",{className:`font-bold text-sm shrink-0 ${F.type==="in"?"text-green-500":"text-red-500"}`,children:[F.type==="in"?"+":"-",F.quantity]})]}),a.jsx("p",{className:"text-sm font-medium truncate",children:F.item_name}),(F.note||F.movement_type||F.operator)&&a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{className:"truncate",children:F.note||F.movement_type}),F.operator&&a.jsx("span",{className:"shrink-0 ml-2",children:F.operator})]})]},F.id))}),a.jsx("div",{className:"hidden md:block",children:a.jsxs(Fb,{children:[a.jsx(Bb,{children:a.jsxs(nd,{children:[a.jsx(bn,{children:e("admin.inventoryPage.date")}),a.jsx(bn,{children:e("admin.inventoryPage.type")}),a.jsx(bn,{children:e("admin.inventoryPage.product")}),a.jsx(bn,{className:"text-center",children:e("admin.inventoryPage.quantity")}),a.jsx(bn,{children:e("admin.inventoryPage.note")}),a.jsx(bn,{children:e("admin.inventoryPage.operator")})]})}),a.jsx(Ub,{children:A.map(F=>a.jsxs(nd,{"data-testid":`ledger-row-${F.id}`,children:[a.jsx(wn,{children:J(F.created_at)}),a.jsx(wn,{children:a.jsx(te,{className:F.type==="in"?"bg-green-500":"bg-red-500",children:F.type==="in"?e("admin.inventoryPage.stockIn"):e("admin.inventoryPage.stockOut")})}),a.jsx(wn,{className:"font-medium",children:F.item_name}),a.jsxs(wn,{className:`text-center font-bold ${F.type==="in"?"text-green-500":"text-red-500"}`,children:[F.type==="in"?"+":"-",F.quantity]}),a.jsx(wn,{className:"text-muted-foreground",children:F.note||F.movement_type}),a.jsx(wn,{children:F.operator||"-"})]},F.id))})]})})]})})]})]}),a.jsx(et,{open:l,onOpenChange:c,children:a.jsxs(Ye,{className:"sm:max-w-[500px] max-h-[90dvh] overflow-y-auto",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(En,{className:"w-5 h-5 text-green-500"}),e("admin.inventoryPage.stockIn")]}),a.jsx(ht,{children:e("admin.inventoryPage.stockInDesc")})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{children:e("admin.inventoryPage.selectProduct")}),a.jsxs(tt,{value:(m==null?void 0:m.id)||"",onValueChange:F=>h(S.find(le=>le.id===F)||null),children:[a.jsx(Xe,{"data-testid":"select-product-in",children:a.jsx(at,{placeholder:e("admin.inventoryPage.selectProductPlaceholder")})}),a.jsx(Ze,{children:S.map(F=>a.jsxs(ge,{value:F.id,children:[F.name," (",F.sku,")"]},F.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"qty-in",children:e("admin.inventoryPage.quantity")}),a.jsx(ce,{id:"qty-in",type:"number",placeholder:"0",value:p,onChange:F=>g(F.target.value),"data-testid":"input-qty-in"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{children:e("admin.inventoryPage.stockInType")}),a.jsxs(tt,{value:f,onValueChange:x,children:[a.jsx(Xe,{"data-testid":"select-in-type",children:a.jsx(at,{placeholder:e("admin.inventoryPage.selectType")})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"production",children:e("admin.inventoryPage.typeProduction")}),a.jsx(ge,{value:"purchase",children:e("admin.inventoryPage.typePurchase")}),a.jsx(ge,{value:"return",children:e("admin.inventoryPage.typeReturn")}),a.jsx(ge,{value:"adjust",children:e("admin.inventoryPage.typeAdjust")})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"note-in",children:e("admin.inventoryPage.note")}),a.jsx(Pt,{id:"note-in",placeholder:e("admin.inventoryPage.notePlaceholder"),value:b,onChange:F=>j(F.target.value),"data-testid":"input-note-in"})]})]}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>c(!1),children:e("common.cancel")}),a.jsxs(C,{onClick:B,className:"bg-green-500 hover:bg-green-600",disabled:D.isPending,"data-testid":"button-confirm-in",children:[a.jsx(En,{className:"w-4 h-4 mr-2"}),e("admin.inventoryPage.confirmStockIn")]})]})]})}),a.jsx(et,{open:v,onOpenChange:N,children:a.jsxs(Ye,{className:"sm:max-w-[500px] max-h-[90dvh] overflow-y-auto",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(zt,{className:"w-5 h-5 text-primary"}),""]}),a.jsx(ht,{children:""})]}),a.jsx(Wm,{...w,children:a.jsxs("form",{onSubmit:w.handleSubmit(F=>k.mutate(F)),className:"space-y-4 py-4",children:[a.jsx(Vt,{control:w.control,name:"name",render:({field:F})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:""}),a.jsx(Bt,{children:a.jsx(ce,{...F,placeholder:"","data-testid":"input-new-item-name"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:w.control,name:"sku",render:({field:F})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:"SKU"}),a.jsx(Bt,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{...F,placeholder:"INV-XXXXXX","data-testid":"input-new-item-sku"}),a.jsx(C,{type:"button",variant:"outline",size:"sm",onClick:P,children:a.jsx(Yo,{className:"w-4 h-4"})})]})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:w.control,name:"categoryId",render:({field:F})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:""}),a.jsxs(tt,{onValueChange:F.onChange,value:F.value,children:[a.jsx(Bt,{children:a.jsx(Xe,{"data-testid":"select-new-item-category",children:a.jsx(at,{placeholder:""})})}),a.jsx(Ze,{children:_.map(le=>a.jsx(ge,{value:le.id,children:le.name},le.id))})]}),a.jsx(Kt,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Vt,{control:w.control,name:"stock",render:({field:F})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:""}),a.jsx(Bt,{children:a.jsx(ce,{...F,type:"number",placeholder:"0","data-testid":"input-new-item-stock"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:w.control,name:"minStock",render:({field:F})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:""}),a.jsx(Bt,{children:a.jsx(ce,{...F,type:"number",placeholder:"10","data-testid":"input-new-item-min-stock"})}),a.jsx(Kt,{})]})})]}),a.jsx(Vt,{control:w.control,name:"unit",render:({field:F})=>a.jsxs(Ft,{children:[a.jsx(Lt,{children:""}),a.jsx(Bt,{children:a.jsx(ce,{...F,placeholder:" /  / kg","data-testid":"input-new-item-unit"})}),a.jsx(Kt,{})]})}),a.jsxs(lt,{children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>N(!1),children:""}),a.jsxs(C,{type:"submit",disabled:k.isPending,"data-testid":"button-confirm-new-item",children:[k.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})})]})}),a.jsx(et,{open:d,onOpenChange:u,children:a.jsxs(Ye,{className:"sm:max-w-[500px] max-h-[90dvh] overflow-y-auto",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(is,{className:"w-5 h-5 text-red-500"}),e("admin.inventoryPage.stockOut")]}),a.jsx(ht,{children:e("admin.inventoryPage.stockOutDesc")})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{children:e("admin.inventoryPage.selectProduct")}),a.jsxs(tt,{value:(m==null?void 0:m.id)||"",onValueChange:F=>h(S.find(le=>le.id===F)||null),children:[a.jsx(Xe,{"data-testid":"select-product-out",children:a.jsx(at,{placeholder:e("admin.inventoryPage.selectProductPlaceholder")})}),a.jsx(Ze,{children:S.map(F=>a.jsxs(ge,{value:F.id,children:[F.name," (",F.sku,") - ",e("admin.inventoryPage.currentStock"),": ",F.stock]},F.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"qty-out",children:e("admin.inventoryPage.quantity")}),a.jsx(ce,{id:"qty-out",type:"number",placeholder:"0",value:p,onChange:F=>g(F.target.value),"data-testid":"input-qty-out"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{children:e("admin.inventoryPage.stockOutType")}),a.jsxs(tt,{value:f,onValueChange:x,children:[a.jsx(Xe,{"data-testid":"select-out-type",children:a.jsx(at,{placeholder:e("admin.inventoryPage.selectType")})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"sales",children:e("admin.inventoryPage.typeSales")}),a.jsx(ge,{value:"production",children:e("admin.inventoryPage.typeProductionUse")}),a.jsx(ge,{value:"damage",children:e("admin.inventoryPage.typeDamage")}),a.jsx(ge,{value:"adjust",children:e("admin.inventoryPage.typeAdjust")})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ke,{htmlFor:"note-out",children:e("admin.inventoryPage.note")}),a.jsx(Pt,{id:"note-out",placeholder:e("admin.inventoryPage.notePlaceholder"),value:b,onChange:F=>j(F.target.value),"data-testid":"input-note-out"})]})]}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>u(!1),children:e("common.cancel")}),a.jsxs(C,{onClick:z,className:"bg-red-500 hover:bg-red-600",disabled:D.isPending,"data-testid":"button-confirm-out",children:[a.jsx(is,{className:"w-4 h-4 mr-2"}),e("admin.inventoryPage.confirmStockOut")]})]})]})})]})}const zye=Ct.object({name:Ct.string().min(1,""),contactPerson:Ct.string().optional(),phone:Ct.string().optional(),email:Ct.string().optional(),address:Ct.string().optional(),category:Ct.string().optional(),notes:Ct.string().optional()}),Wye=Ct.object({supplierId:Ct.string().min(1,""),expectedDate:Ct.string().optional(),notes:Ct.string().optional(),items:Ct.array(Ct.object({itemName:Ct.string().min(1,""),quantity:Ct.coerce.number().min(1,"1"),unitPrice:Ct.coerce.number().min(.01,"0")})).min(1,"")});function Hye(){const{t:e}=ft(),{toast:t}=Jt(),{member:n}=oa(),r=Aa(),[s,i]=y.useState(""),[o,l]=y.useState("orders"),[c,d]=y.useState(!1),[u,m]=y.useState(!1),[h,p]=y.useState(!1),[g,f]=y.useState(null),[x,b]=y.useState("info"),j=y.useRef(null),v=y.useRef(null),[N,w]=y.useState(!1),[P,k]=y.useState(!1),[_,S]=y.useState(""),[O,A]=y.useState(""),E=Um({resolver:qm(zye),defaultValues:{name:"",contactPerson:"",phone:"",email:"",address:"",category:"",notes:""}}),D=Um({resolver:qm(Wye),defaultValues:{supplierId:"",expectedDate:"",notes:"",items:[{itemName:"",quantity:1,unitPrice:0}]}}),{fields:B,append:z,remove:K}=kxe({control:D.control,name:"items"}),Y=()=>{const me=new Date().toISOString().slice(0,10).replace(/-/g,""),re=Math.floor(1e3+Math.random()*9e3);return`PO-${me}-${re}`},M=()=>{const me=new Date().toISOString().slice(0,10).replace(/-/g,""),re=Math.floor(1e3+Math.random()*9e3);return`BILL-${me}-${re}`},{data:R={}}=Ae({queryKey:["member-names"],queryFn:async()=>{const{data:T}=await L.from("members").select("id, name"),me={};return(T||[]).forEach(re=>{me[re.id]=re.name}),me}}),J=Ce({mutationFn:async T=>{const{error:me}=await L.from("suppliers").insert({name:T.name,contact_person:T.contactPerson||null,phone:T.phone||null,email:T.email||null,address:T.address||null,category:T.category||null,notes:T.notes||null});if(me)throw me},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-suppliers"]}),d(!1),E.reset(),t({title:""})},onError:T=>{t({title:"",description:String(T),variant:"destructive"})}}),ie=Ce({mutationFn:async T=>{const me=I.find(je=>je.id===T.supplierId),re=T.items.map(je=>({name:je.itemName,quantity:je.quantity,unit_price:Math.round(je.unitPrice*100),total:Math.round(je.quantity*je.unitPrice*100)})),xe=re.reduce((je,Ge)=>je+Ge.total,0),{error:Ne}=await L.from("purchase_orders").insert({order_number:Y(),supplier_id:T.supplierId,supplier_name:(me==null?void 0:me.name)||"",items:re,total_amount:xe,status:"pending",expected_date:T.expectedDate||null,notes:T.notes||null,created_by:(n==null?void 0:n.id)||null});if(Ne)throw Ne},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-purchase-orders"]}),m(!1),D.reset(),t({title:""})},onError:T=>{t({title:"",description:String(T),variant:"destructive"})}}),le=(D.watch("items")||[]).reduce((T,me)=>T+(me.quantity||0)*(me.unitPrice||0),0),q=Ce({mutationFn:async T=>{const{id:me,...re}=T,{error:xe}=await L.from("purchase_orders").update(re).eq("id",me);if(xe)throw xe},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-purchase-orders"]}),t({title:""})},onError:T=>{t({title:"",description:String(T),variant:"destructive"})}}),ve=()=>{!g||!(n!=null&&n.id)||(q.mutate({id:g.id,status:"approved",approved_by:n.id,approved_at:new Date().toISOString()}),f({...g,status:"approved",approved_by:n.id,approved_at:new Date().toISOString()}))},ye=()=>{if(!g)return;const T=O?Math.round(parseFloat(O)*100):null;q.mutate({id:g.id,invoice_number:_||null,invoice_amount:T}),f({...g,invoice_number:_||null,invoice_amount:T})},H=async T=>{if(g){w(!0);try{const me=T.name.split(".").pop(),re=`invoices/${g.id}-${Date.now()}.${me}`,{error:xe}=await L.storage.from("purchase-docs").upload(re,T);if(xe)throw xe;const{data:{publicUrl:Ne}}=L.storage.from("purchase-docs").getPublicUrl(re);await q.mutateAsync({id:g.id,invoice_url:Ne}),f({...g,invoice_url:Ne}),t({title:""})}catch(me){t({title:"",description:String(me),variant:"destructive"})}finally{w(!1)}}},oe=()=>{!g||!(n!=null&&n.id)||(q.mutate({id:g.id,bank_status:"maker_done",bank_maker_id:n.id,bank_maker_at:new Date().toISOString()}),f({...g,bank_status:"maker_done",bank_maker_id:n.id,bank_maker_at:new Date().toISOString()}))},G=()=>{!g||!(n!=null&&n.id)||(q.mutate({id:g.id,bank_status:"approver_done",bank_approver_id:n.id,bank_approver_at:new Date().toISOString()}),f({...g,bank_status:"approver_done",bank_approver_id:n.id,bank_approver_at:new Date().toISOString()}))},$=async T=>{if(g){k(!0);try{const me=T.name.split(".").pop(),re=`receipts/${g.id}-${Date.now()}.${me}`,{error:xe}=await L.storage.from("purchase-docs").upload(re,T);if(xe)throw xe;const{data:{publicUrl:Ne}}=L.storage.from("purchase-docs").getPublicUrl(re),je=M(),{data:Ge,error:pt}=await L.from("bills").insert({bill_number:je,type:"purchase",category:"",amount:g.invoice_amount||g.total_amount,description:` ${g.order_number} - ${g.supplier_name}`,status:"paid",paid_date:new Date().toISOString(),vendor:g.supplier_name,reference_type:"purchase_order",reference_id:g.id,created_by:n==null?void 0:n.id}).select("id").single();if(pt)throw pt;await q.mutateAsync({id:g.id,receipt_url:Ne,paid_at:new Date().toISOString(),bank_status:"paid",bill_id:Ge.id,status:"received"}),f({...g,receipt_url:Ne,paid_at:new Date().toISOString(),bank_status:"paid",bill_id:Ge.id,status:"received"}),t({title:""})}catch(me){t({title:"",description:String(me),variant:"destructive"})}finally{k(!1)}}},Z=()=>{g&&(q.mutate({id:g.id,status:"shipped"}),f({...g,status:"shipped"}))},U=()=>{g&&(q.mutate({id:g.id,status:"received",received_date:new Date().toISOString()}),f({...g,status:"received",received_date:new Date().toISOString()}))},pe=T=>{f(T),S(T.invoice_number||""),A(T.invoice_amount?(T.invoice_amount/100).toString():""),b("info"),p(!0)},{data:ke=[],isLoading:se}=Ae({queryKey:["admin-purchase-orders"],queryFn:async()=>{const{data:T,error:me}=await L.from("purchase_orders").select("*").order("created_at",{ascending:!1});return me?(console.error("Error fetching purchase orders:",me),[]):T||[]}}),{data:I=[],isLoading:be}=Ae({queryKey:["admin-suppliers"],queryFn:async()=>{const{data:T,error:me}=await L.from("suppliers").select("*").order("name");return me?(console.error("Error fetching suppliers:",me),[]):T||[]}}),_e=T=>{switch(T){case"pending":return{label:"",icon:Ht,color:"text-yellow-500",bg:"bg-yellow-500/10"};case"approved":return{label:"",icon:Le,color:"text-blue-500",bg:"bg-blue-500/10"};case"shipped":return{label:"",icon:hs,color:"text-primary",bg:"bg-primary/10"};case"received":return{label:"",icon:ca,color:"text-green-500",bg:"bg-green-500/10"};default:return{label:"",icon:Ht,color:"text-muted-foreground",bg:"bg-muted"}}},Me=T=>{switch(T){case"pending":return{label:"",color:"text-yellow-500",bg:"bg-yellow-500/10"};case"maker_done":return{label:"Maker",color:"text-blue-500",bg:"bg-blue-500/10"};case"approver_done":return{label:"Approver",color:"text-primary",bg:"bg-primary/10"};case"paid":return{label:"",color:"text-green-500",bg:"bg-green-500/10"};case"failed":return{label:"",color:"text-red-500",bg:"bg-red-500/10"};default:return{label:"",color:"text-muted-foreground",bg:"bg-muted"}}},He=ke.filter(T=>s===""||T.order_number.toLowerCase().includes(s.toLowerCase())||T.supplier_name.toLowerCase().includes(s.toLowerCase())),mt=T=>T?new Date(T).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",ee=T=>T?new Date(T).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-";return se||be?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-purchase-title",children:e("admin.purchasePage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.purchasePage.subtitle")})]}),a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:()=>{D.reset({supplierId:"",expectedDate:"",notes:"",items:[{itemName:"",quantity:1,unitPrice:0}]}),m(!0)},"data-testid":"button-new-po",children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.purchasePage.newPo")]})]}),a.jsxs(ba,{value:o,onValueChange:l,children:[a.jsxs(fa,{className:"grid w-full grid-cols-2",children:[a.jsx(Ee,{value:"orders","data-testid":"tab-orders",children:e("admin.purchasePage.purchaseOrders")}),a.jsx(Ee,{value:"suppliers","data-testid":"tab-suppliers",children:e("admin.purchasePage.suppliers")})]}),a.jsx(At,{value:"orders",className:"mt-4",children:a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(Vl,{className:"w-5 h-5 text-primary"}),e("admin.purchasePage.purchaseOrders")," (",ke.length,")"]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.purchasePage.searchPlaceholder"),className:"pl-9",value:s,onChange:T=>i(T.target.value),"data-testid":"input-search"})]})]})}),a.jsx(ae,{children:He.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Vl,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:""})]}):a.jsx("div",{className:"space-y-3",children:He.map(T=>{const me=_e(T.status),re=me.icon,xe=Me(T.bank_status);return a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3","data-testid":`po-${T.order_number}`,children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[a.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center shrink-0 ${me.bg}`,children:a.jsx(re,{className:`w-4 h-4 sm:w-5 sm:h-5 ${me.color}`})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[a.jsx("span",{className:"font-mono text-xs sm:text-sm",children:T.order_number}),a.jsx(te,{variant:"outline",className:"text-xs",children:me.label}),T.bank_status&&T.bank_status!=="pending"&&a.jsx(te,{className:`${xe.bg} ${xe.color} text-xs`,children:xe.label})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[a.jsx("span",{className:"truncate",children:T.supplier_name}),a.jsx("span",{className:"shrink-0",children:mt(T.created_at)})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 pl-12 sm:pl-0",children:[a.jsxs("span",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(T.total_amount/100).toLocaleString()]}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>pe(T),"data-testid":`button-view-${T.order_number}`,children:[a.jsx(xa,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:""})]})]})]},T.id)})})})]})}),a.jsx(At,{value:"suppliers",className:"mt-4",children:a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(cs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.purchasePage.supplierList")]}),a.jsxs(C,{variant:"outline",className:"gap-2 w-full sm:w-auto",onClick:()=>{E.reset(),d(!0)},"data-testid":"button-add-supplier",children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.purchasePage.addSupplier")]})]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:I.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(cs,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:""})]}):a.jsx("div",{className:"space-y-3",children:I.map(T=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg gap-3","data-testid":`supplier-${T.id}`,children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[a.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(cs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:T.name}),a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:[T.contact_person||"-","  ",T.phone||"-"]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 sm:gap-4 pl-12 sm:pl-0",children:[a.jsxs(te,{variant:"outline",className:"text-xs",children:[T.total_orders??0," "]}),a.jsx(C,{variant:"outline",size:"sm",className:"h-8","data-testid":`button-edit-${T.id}`,children:""})]})]},T.id))})})]})})]})]}),a.jsx(et,{open:c,onOpenChange:d,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[500px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(cs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),""]}),a.jsx(ht,{className:"text-sm",children:""})]}),a.jsx(Wm,{...E,children:a.jsxs("form",{onSubmit:E.handleSubmit(T=>J.mutate(T)),className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[a.jsx(Vt,{control:E.control,name:"name",render:({field:T})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:" *"}),a.jsx(Bt,{children:a.jsx(ce,{...T,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-supplier-name"})}),a.jsx(Kt,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(Vt,{control:E.control,name:"contactPerson",render:({field:T})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(ce,{...T,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-supplier-contact"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:E.control,name:"phone",render:({field:T})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(ce,{...T,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-supplier-phone"})}),a.jsx(Kt,{})]})})]}),a.jsx(Vt,{control:E.control,name:"email",render:({field:T})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(ce,{...T,type:"email",placeholder:"",className:"h-9 sm:h-10","data-testid":"input-supplier-email"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:E.control,name:"address",render:({field:T})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(ce,{...T,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-supplier-address"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:E.control,name:"category",render:({field:T})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(ce,{...T,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-supplier-category"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:E.control,name:"notes",render:({field:T})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(Pt,{...T,placeholder:"",className:"min-h-[80px]","data-testid":"input-supplier-notes"})}),a.jsx(Kt,{})]})}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>d(!1),className:"w-full sm:w-auto",children:""}),a.jsxs(C,{type:"submit",disabled:J.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-supplier",children:[J.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})})]})}),a.jsx(et,{open:u,onOpenChange:m,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Vl,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),""]}),a.jsx(ht,{className:"text-sm",children:""})]}),a.jsx(Wm,{...D,children:a.jsxs("form",{onSubmit:D.handleSubmit(T=>ie.mutate(T)),className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[a.jsx(Vt,{control:D.control,name:"supplierId",render:({field:T})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:" *"}),a.jsxs(tt,{onValueChange:T.onChange,value:T.value,children:[a.jsx(Bt,{children:a.jsx(Xe,{className:"h-9 sm:h-10","data-testid":"select-po-supplier",children:a.jsx(at,{placeholder:""})})}),a.jsx(Ze,{children:I.map(me=>a.jsx(ge,{value:me.id,children:me.name},me.id))})]}),a.jsx(Kt,{})]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Lt,{className:"text-sm",children:" *"}),a.jsxs(C,{type:"button",variant:"outline",size:"sm",className:"h-8 text-xs sm:text-sm",onClick:()=>z({itemName:"",quantity:1,unitPrice:0}),children:[a.jsx(zt,{className:"w-3.5 h-3.5 mr-1"})," "]})]}),a.jsx("div",{className:"space-y-3",children:B.map((T,me)=>a.jsx("div",{className:"p-2.5 sm:p-3 border rounded-lg space-y-2 sm:space-y-0",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-2",children:[a.jsx(Vt,{control:D.control,name:`items.${me}.itemName`,render:({field:re})=>a.jsxs(Ft,{className:"flex-1",children:[a.jsx(Lt,{className:"text-xs sm:text-sm",children:me===0?"":a.jsx("span",{className:"sm:hidden",children:""})}),a.jsx(Bt,{children:a.jsx(ce,{...re,placeholder:"",className:"h-9 sm:h-10"})}),a.jsx(Kt,{})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Vt,{control:D.control,name:`items.${me}.quantity`,render:({field:re})=>a.jsxs(Ft,{className:"w-20 sm:w-24",children:[a.jsx(Lt,{className:"text-xs sm:text-sm",children:me===0?"":a.jsx("span",{className:"sm:hidden",children:""})}),a.jsx(Bt,{children:a.jsx(ce,{...re,type:"number",min:1,placeholder:"1",className:"h-9 sm:h-10"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:D.control,name:`items.${me}.unitPrice`,render:({field:re})=>a.jsxs(Ft,{className:"w-24 sm:w-28",children:[a.jsx(Lt,{className:"text-xs sm:text-sm",children:me===0?"(RM)":a.jsx("span",{className:"sm:hidden",children:""})}),a.jsx(Bt,{children:a.jsx(ce,{...re,type:"number",step:"0.01",placeholder:"0.00",className:"h-9 sm:h-10"})}),a.jsx(Kt,{})]})}),B.length>1&&a.jsx(C,{type:"button",variant:"ghost",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 mt-auto shrink-0",onClick:()=>K(me),children:a.jsx(Ut,{className:"w-4 h-4 text-destructive"})})]})]})},T.id))}),a.jsxs("div",{className:"text-right mt-2 font-bold text-primary text-sm sm:text-base",children:[": RM ",le.toFixed(2)]})]}),a.jsx(Vt,{control:D.control,name:"expectedDate",render:({field:T})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(ce,{...T,type:"date",className:"h-9 sm:h-10","data-testid":"input-po-expected-date"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:D.control,name:"notes",render:({field:T})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(Pt,{...T,placeholder:"",className:"min-h-[80px]","data-testid":"input-po-notes"})}),a.jsx(Kt,{})]})}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>m(!1),className:"w-full sm:w-auto",children:""}),a.jsxs(C,{type:"submit",disabled:ie.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-po",children:[ie.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})})]})}),a.jsx(et,{open:h,onOpenChange:p,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[800px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsx(Je,{children:a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Vl,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),a.jsxs("span",{className:"truncate",children:[" - ",g==null?void 0:g.order_number]})]})}),g&&a.jsxs(ba,{value:x,onValueChange:b,className:"mt-2 sm:mt-4",children:[a.jsxs(fa,{className:"grid w-full grid-cols-4 h-auto p-1",children:[a.jsxs(Ee,{value:"info",className:"flex flex-col sm:flex-row gap-0.5 sm:gap-1 text-[10px] sm:text-xs px-1 sm:px-3 py-1.5 sm:py-2",children:[a.jsx(Mo,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:""}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs(Ee,{value:"invoice",className:"flex flex-col sm:flex-row gap-0.5 sm:gap-1 text-[10px] sm:text-xs px-1 sm:px-3 py-1.5 sm:py-2",children:[a.jsx(rb,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:"/"}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs(Ee,{value:"payment",className:"flex flex-col sm:flex-row gap-0.5 sm:gap-1 text-[10px] sm:text-xs px-1 sm:px-3 py-1.5 sm:py-2",children:[a.jsx(In,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:""}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs(Ee,{value:"receipt",className:"flex flex-col sm:flex-row gap-0.5 sm:gap-1 text-[10px] sm:text-xs px-1 sm:px-3 py-1.5 sm:py-2",children:[a.jsx(Cr,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:""}),a.jsx("span",{className:"sm:hidden",children:""})]})]}),a.jsxs(At,{value:"info",className:"space-y-3 sm:space-y-4 mt-3 sm:mt-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:g.supplier_name})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx(te,{className:`${_e(g.status).bg} text-xs`,children:_e(g.status).label})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(Mn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," "]}),a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:g.created_by?R[g.created_by]||g.created_by:"-"})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(jn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," "]}),a.jsx("p",{className:"font-medium text-sm sm:text-base",children:ee(g.created_at)})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(Le,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," "]}),a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:g.approved_by?R[g.approved_by]||g.approved_by:"-"})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"font-medium text-sm sm:text-base",children:ee(g.approved_at)})]})]}),a.jsx(Sr,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-2",children:""}),a.jsx("div",{className:"border rounded-lg divide-y",children:Array.isArray(g.items)&&g.items.map((T,me)=>a.jsxs("div",{className:"flex items-center justify-between p-2.5 sm:p-3 gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:T.name}),a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[T.quantity,"  RM ",(T.unit_price/100).toFixed(2)]})]}),a.jsxs("p",{className:"font-bold text-sm sm:text-base shrink-0",children:["RM ",(T.total/100).toFixed(2)]})]},me))}),a.jsxs("div",{className:"flex justify-between items-center mt-2 sm:mt-3 pt-2 sm:pt-3 border-t",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base",children:""}),a.jsxs("span",{className:"text-lg sm:text-xl font-bold text-primary",children:["RM ",(g.total_amount/100).toLocaleString()]})]})]}),g.notes&&a.jsxs(a.Fragment,{children:[a.jsx(Sr,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:""}),a.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg",children:g.notes})]})]}),g.status==="pending"&&a.jsx("div",{className:"flex justify-end pt-2 sm:pt-4",children:a.jsxs(C,{onClick:ve,disabled:q.isPending,className:"w-full sm:w-auto",children:[q.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),a.jsx(Le,{className:"w-4 h-4 mr-2"}),""]})}),g.status==="approved"&&a.jsx("div",{className:"flex justify-end gap-2 pt-2 sm:pt-4",children:a.jsxs(C,{variant:"outline",onClick:Z,disabled:q.isPending,className:"w-full sm:w-auto",children:[a.jsx(hs,{className:"w-4 h-4 mr-2"}),""]})}),g.status==="shipped"&&a.jsx("div",{className:"flex justify-end gap-2 pt-2 sm:pt-4",children:a.jsxs(C,{onClick:U,disabled:q.isPending,className:"w-full sm:w-auto",children:[a.jsx(ca,{className:"w-4 h-4 mr-2"}),""]})})]}),a.jsxs(At,{value:"invoice",className:"space-y-3 sm:space-y-4 mt-3 sm:mt-4",children:[a.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg space-y-3 sm:space-y-4",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[a.jsx(rb,{className:"w-4 h-4 text-primary"}),""]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx(ce,{value:_,onChange:T=>S(T.target.value),placeholder:"",className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:" (RM)"}),a.jsx(ce,{type:"number",step:"0.01",value:O,onChange:T=>A(T.target.value),placeholder:"0.00",className:"h-9 sm:h-10"})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(C,{variant:"outline",size:"sm",onClick:ye,disabled:q.isPending,className:"w-full sm:w-auto",children:""})})]}),a.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg space-y-3 sm:space-y-4",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[a.jsx(gv,{className:"w-4 h-4 text-primary"}),""]}),a.jsx("input",{type:"file",ref:j,className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:T=>{var re;const me=(re=T.target.files)==null?void 0:re[0];me&&H(me)}}),g.invoice_url?a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-green-500/10 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx(Le,{className:"w-5 h-5 text-green-500 shrink-0"}),a.jsx("span",{className:"text-sm truncate",children:""})]}),a.jsxs("div",{className:"flex gap-2 pl-7 sm:pl-0",children:[a.jsx(C,{variant:"outline",size:"sm",className:"h-8 flex-1 sm:flex-none",asChild:!0,children:a.jsxs("a",{href:g.invoice_url,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Zl,{className:"w-4 h-4 mr-1"}),""]})}),a.jsx(C,{variant:"outline",size:"sm",className:"h-8 flex-1 sm:flex-none",onClick:()=>{var T;return(T=j.current)==null?void 0:T.click()},children:""})]})]}):a.jsxs(C,{variant:"outline",onClick:()=>{var T;return(T=j.current)==null?void 0:T.click()},disabled:N,className:"w-full sm:w-auto",children:[N?a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(gv,{className:"w-4 h-4 mr-2"})," (PDF/)"]})]})]}),a.jsxs(At,{value:"payment",className:"space-y-3 sm:space-y-4 mt-3 sm:mt-4",children:[a.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[a.jsx(In,{className:"w-4 h-4 text-primary"}),""]}),a.jsx(te,{className:`${Me(g.bank_status).bg} text-xs`,children:Me(g.bank_status).label})]}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx("div",{className:`p-2.5 sm:p-3 rounded-lg border ${g.bank_maker_id?"bg-green-500/5 border-green-500/20":"bg-muted/50"}`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm ${g.bank_maker_id?"bg-green-500 text-white":"bg-muted-foreground/20"}`,children:"1"}),a.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Maker "})]}),g.bank_maker_id?a.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground pl-7 sm:pl-0",children:[R[g.bank_maker_id]||g.bank_maker_id,"  ",ee(g.bank_maker_at)]}):g.status==="approved"&&!g.bank_maker_id&&a.jsx(C,{size:"sm",onClick:oe,disabled:q.isPending,className:"h-8 ml-7 sm:ml-0 w-fit",children:""})]})}),a.jsx("div",{className:`p-2.5 sm:p-3 rounded-lg border ${g.bank_approver_id?"bg-green-500/5 border-green-500/20":"bg-muted/50"}`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm ${g.bank_approver_id?"bg-green-500 text-white":"bg-muted-foreground/20"}`,children:"2"}),a.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Approver "})]}),g.bank_approver_id?a.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground pl-7 sm:pl-0",children:[R[g.bank_approver_id]||g.bank_approver_id,"  ",ee(g.bank_approver_at)]}):g.bank_status==="maker_done"&&a.jsx(C,{size:"sm",onClick:G,disabled:q.isPending,className:"h-8 ml-7 sm:ml-0 w-fit",children:""})]})}),a.jsx("div",{className:`p-2.5 sm:p-3 rounded-lg border ${g.bank_status==="paid"?"bg-green-500/5 border-green-500/20":"bg-muted/50"}`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center text-xs sm:text-sm ${g.bank_status==="paid"?"bg-green-500 text-white":"bg-muted-foreground/20"}`,children:"3"}),a.jsx("span",{className:"font-medium text-sm sm:text-base",children:""})]}),g.paid_at&&a.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground pl-7 sm:pl-0",children:ee(g.paid_at)})]})})]}),g.bank_status==="approver_done"&&!g.receipt_url&&a.jsxs("div",{className:"p-2.5 sm:p-3 bg-yellow-500/10 rounded-lg flex items-start gap-2",children:[a.jsx(Zi,{className:"w-4 h-4 text-yellow-500 mt-0.5 shrink-0"}),a.jsx("p",{className:"text-xs sm:text-sm",children:'"" Receipt '})]})]}),a.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:""}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsxs("span",{children:["RM ",(g.total_amount/100).toFixed(2)]})]}),g.invoice_amount&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:""}),a.jsxs("span",{children:["RM ",(g.invoice_amount/100).toFixed(2)]})]}),a.jsx(Sr,{}),a.jsxs("div",{className:"flex justify-between font-bold text-sm sm:text-base",children:[a.jsx("span",{children:""}),a.jsxs("span",{className:"text-primary",children:["RM ",((g.invoice_amount||g.total_amount)/100).toFixed(2)]})]})]})]})]}),a.jsx(At,{value:"receipt",className:"space-y-3 sm:space-y-4 mt-3 sm:mt-4",children:a.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg space-y-3 sm:space-y-4",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[a.jsx(Cr,{className:"w-4 h-4 text-primary"})," (Receipt)"]}),a.jsx("input",{type:"file",ref:v,className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:T=>{var re;const me=(re=T.target.files)==null?void 0:re[0];me&&$(me)}}),g.receipt_url?a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-green-500/10 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx(Le,{className:"w-5 h-5 text-green-500 shrink-0"}),a.jsx("span",{className:"text-sm truncate",children:""})]}),a.jsx(C,{variant:"outline",size:"sm",className:"h-8 w-full sm:w-auto",asChild:!0,children:a.jsxs("a",{href:g.receipt_url,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Zl,{className:"w-4 h-4 mr-1"}),""]})})]}),g.paid_at&&a.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[": ",ee(g.paid_at)]}),g.bill_id&&a.jsx("div",{className:"p-2.5 sm:p-3 bg-primary/5 rounded-lg",children:a.jsxs("p",{className:"text-xs sm:text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"ID: "}),a.jsx("span",{className:"font-mono text-xs break-all",children:g.bill_id})]})})]}):a.jsx(a.Fragment,{children:g.bank_status==="approver_done"?a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsxs("ul",{className:"text-xs sm:text-sm text-muted-foreground list-disc list-inside space-y-0.5 sm:space-y-1",children:[a.jsx("li",{children:""}),a.jsx("li",{children:""}),a.jsx("li",{children:""})]}),a.jsxs(C,{onClick:()=>{var T;return(T=v.current)==null?void 0:T.click()},disabled:P,className:"w-full sm:w-auto",children:[P?a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(gv,{className:"w-4 h-4 mr-2"}),""]})]}):a.jsx("div",{className:"p-2.5 sm:p-3 bg-muted rounded-lg text-xs sm:text-sm text-muted-foreground",children:"Maker  Approver"})})]})})]}),a.jsx(lt,{className:"mt-3 sm:mt-4",children:a.jsx(C,{variant:"outline",onClick:()=>p(!1),className:"w-full sm:w-auto",children:""})})]})})]})}function Gye(){const{t:e}=ft(),[t,n]=y.useState(""),{data:r=[],isLoading:s}=Ae({queryKey:["admin-shipments"],queryFn:async()=>{const{data:d,error:u}=await L.from("shipments").select("*").order("created_at",{ascending:!1});return u?(console.error("Error fetching shipments:",u),[]):d||[]}}),i=d=>{switch(d){case"pending":return{label:e("admin.logisticsPage.pendingShipment"),icon:Ht,color:"text-yellow-500",bg:"bg-yellow-500/10"};case"in_transit":return{label:e("admin.logisticsPage.inTransit"),icon:hs,color:"text-blue-500",bg:"bg-blue-500/10"};case"delivered":return{label:e("admin.logisticsPage.delivered"),icon:Le,color:"text-green-500",bg:"bg-green-500/10"};default:return{label:e("admin.logisticsPage.statusUnknown"),icon:ca,color:"text-muted-foreground",bg:"bg-muted"}}},o=r.filter(d=>t===""||d.shipment_number.toLowerCase().includes(t.toLowerCase())||d.order_number&&d.order_number.toLowerCase().includes(t.toLowerCase())||d.destination.toLowerCase().includes(t.toLowerCase())),l={total:r.length,inTransit:r.filter(d=>d.status==="in_transit").length,pending:r.filter(d=>d.status==="pending").length,delivered:r.filter(d=>d.status==="delivered").length},c=d=>d?new Date(d).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-";return s?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(yt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-logistics-title",children:e("admin.logisticsPage.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.logisticsPage.subtitle")})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:l.total}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.logisticsPage.totalShipments")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:l.pending}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.logisticsPage.pendingShipment")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-500",children:l.inTransit}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.logisticsPage.inTransit")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-500",children:l.delivered}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.logisticsPage.delivered")})]})})]}),a.jsx(W,{className:"bg-gradient-to-r from-blue-500/10 to-primary/10 border-blue-500/20",children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center",children:a.jsx(Kf,{className:"w-6 h-6 text-blue-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:e("admin.logisticsPage.coldChainMonitor")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.logisticsPage.tempNormal")})]}),a.jsxs(te,{className:"ml-auto bg-green-500 text-white gap-1",children:[a.jsx(Le,{className:"w-3 h-3"}),e("admin.logisticsPage.statusNormal")]})]})}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(hs,{className:"w-5 h-5 text-primary"}),e("admin.logisticsPage.shipmentList")]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.logisticsPage.searchPlaceholder"),className:"pl-9",value:t,onChange:d=>n(d.target.value),"data-testid":"input-search"})]})]})}),a.jsx(ae,{children:o.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(hs,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:""})]}):a.jsx("div",{className:"space-y-3",children:o.map(d=>{const u=i(d.status),m=u.icon;return a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`shipment-${d.shipment_number}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${u.bg}`,children:a.jsx(m,{className:`w-5 h-5 ${u.color}`})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-sm",children:d.shipment_number}),a.jsx(te,{variant:"outline",children:u.label})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{children:[e("admin.logisticsPage.order"),": ",d.order_number||"-"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(sl,{className:"w-3 h-3"}),d.destination]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right hidden md:block",children:[a.jsxs("p",{className:"text-sm font-medium flex items-center gap-1",children:[a.jsx(Kf,{className:"w-4 h-4 text-blue-500"}),d.temperature]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["ETA: ",c(d.eta)]})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1","data-testid":`button-track-${d.shipment_number}`,children:[a.jsx(xa,{className:"w-4 h-4"}),e("admin.logisticsPage.track")]})]})]},d.id)})})})]})]})})}const Yye=Ct.object({billNumber:Ct.string().min(1),type:Ct.enum(["purchase","logistics","operation"],{required_error:""}),vendor:Ct.string().min(1,""),amount:Ct.coerce.number().min(.01,"0"),dueDate:Ct.string().min(1,""),category:Ct.string().optional(),description:Ct.string().optional(),notes:Ct.string().optional()});function Jye(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState(""),[i,o]=y.useState("all"),[l,c]=y.useState(!1),[d,u]=y.useState(!1),[m,h]=y.useState(null),p=()=>{const D=new Date().toISOString().slice(0,10).replace(/-/g,""),B=Math.floor(1e3+Math.random()*9e3);return`BILL-${D}-${B}`},g=Um({resolver:qm(Yye),defaultValues:{billNumber:"",type:"purchase",vendor:"",amount:0,dueDate:"",category:"",description:"",notes:""}}),f=Ce({mutationFn:async E=>{const{error:D}=await L.from("bills").insert({bill_number:E.billNumber,type:E.type,vendor:E.vendor,amount:Math.round(E.amount*100),due_date:E.dueDate,category:E.category||null,description:E.description||null,notes:E.notes||null,status:"pending"});if(D)throw D},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-bills"]}),c(!1),g.reset(),t({title:""})},onError:E=>{t({title:"",description:String(E),variant:"destructive"})}}),x=Ce({mutationFn:async E=>{const{error:D}=await L.from("bills").update({status:"paid",paid_date:new Date().toISOString()}).eq("id",E);if(D)throw D},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-bills"]}),m&&h({...m,status:"paid",paid_date:new Date().toISOString()}),t({title:""})},onError:E=>{t({title:"",description:String(E),variant:"destructive"})}}),b=()=>{g.reset({billNumber:p(),type:"purchase",vendor:"",amount:0,dueDate:"",category:"",description:"",notes:""}),c(!0)},j=E=>{h(E),u(!0)},{data:v=[],isLoading:N}=Ae({queryKey:["admin-bills"],queryFn:async()=>{const{data:E,error:D}=await L.from("bills").select("*").order("due_date",{ascending:!0});return D?(console.error("Error fetching bills:",D),[]):E||[]}}),{data:w}=Ae({queryKey:["linked-po",m==null?void 0:m.reference_id],queryFn:async()=>{if(!(m!=null&&m.reference_id)||m.reference_type!=="purchase_order")return null;const{data:E}=await L.from("purchase_orders").select("id, order_number, supplier_name, total_amount, status, created_at").eq("id",m.reference_id).single();return E},enabled:!!(m!=null&&m.reference_id)&&(m==null?void 0:m.reference_type)==="purchase_order"}),P=E=>{switch(E){case"pending":return{label:e("admin.billsPage.statusPending"),icon:Ht,color:"text-yellow-500",bg:"bg-yellow-500/10"};case"paid":return{label:e("admin.billsPage.statusPaid"),icon:Le,color:"text-green-500",bg:"bg-green-500/10"};case"overdue":return{label:e("admin.billsPage.statusOverdue"),icon:Zi,color:"text-red-500",bg:"bg-red-500/10"};default:return{label:e("admin.billsPage.statusUnknown"),icon:Ht,color:"text-muted-foreground",bg:"bg-muted"}}},k=E=>{switch(E){case"purchase":return e("admin.billsPage.typePurchase");case"logistics":return e("admin.billsPage.typeLogistics");case"operation":return e("admin.billsPage.typeOperation");default:return E}},_=v.filter(E=>{const D=r===""||E.bill_number.toLowerCase().includes(r.toLowerCase())||E.vendor.toLowerCase().includes(r.toLowerCase()),B=i==="all"||E.status===i;return D&&B}),S={total:v.reduce((E,D)=>E+D.amount,0),pending:v.filter(E=>E.status==="pending").reduce((E,D)=>E+D.amount,0),overdue:v.filter(E=>E.status==="overdue").reduce((E,D)=>E+D.amount,0)},O=E=>E?new Date(E).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",A=E=>E?new Date(E).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-";return N?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-bills-title",children:e("admin.billsPage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.billsPage.subtitle")})]}),a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:b,"data-testid":"button-add-bill",children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.billsPage.addBill")]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(Cr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("p",{className:"text-lg sm:text-2xl font-bold truncate",children:["RM ",(S.total/100).toLocaleString()]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.billsPage.totalBills")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:a.jsx(Ht,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500 truncate",children:["RM ",(S.pending/100).toLocaleString()]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.billsPage.pendingPayment")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-red-500/10 flex items-center justify-center shrink-0",children:a.jsx(Zi,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-red-500 truncate",children:["RM ",(S.overdue/100).toLocaleString()]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.billsPage.overdue")})]})]})})]}),a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Mo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.billsPage.billList")]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.billsPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:r,onChange:E=>s(E.target.value),"data-testid":"input-search"})]})]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:a.jsxs(ba,{value:i,onValueChange:o,children:[a.jsxs(fa,{className:"grid w-full grid-cols-4 h-auto p-1",children:[a.jsx(Ee,{value:"all",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-all",children:e("admin.billsPage.tabAll")}),a.jsxs(Ee,{value:"pending",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-pending",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.billsPage.statusPending")}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs(Ee,{value:"paid",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-paid",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.billsPage.statusPaid")}),a.jsx("span",{className:"sm:hidden",children:""})]}),a.jsxs(Ee,{value:"overdue",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-overdue",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.billsPage.statusOverdue")}),a.jsx("span",{className:"sm:hidden",children:""})]})]}),a.jsx(At,{value:i,className:"mt-3 sm:mt-4",children:_.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Mo,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.billsPage.noBills")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:_.map(E=>{const D=P(E.status),B=D.icon;return a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg gap-3","data-testid":`bill-${E.bill_number}`,children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[a.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center shrink-0 ${D.bg}`,children:a.jsx(B,{className:`w-4 h-4 sm:w-5 sm:h-5 ${D.color}`})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[a.jsx("span",{className:"font-mono text-xs sm:text-sm",children:E.bill_number}),a.jsx(te,{variant:"outline",className:"text-xs",children:D.label}),a.jsx(te,{variant:"secondary",className:"text-xs hidden sm:inline-flex",children:k(E.type)})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[a.jsx("span",{className:"truncate",children:E.vendor}),a.jsx("span",{className:"shrink-0",children:O(E.due_date)})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-4 pl-12 sm:pl-0",children:[a.jsxs("span",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(E.amount/100).toLocaleString()]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>j(E),"data-testid":`button-view-${E.bill_number}`,children:[a.jsx(xa,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:""})]}),a.jsx(C,{variant:"outline",size:"sm",className:"gap-1 h-8","data-testid":`button-download-${E.bill_number}`,children:a.jsx(Do,{className:"w-4 h-4"})})]})]})]},E.id)})})})]})})]})]}),a.jsx(et,{open:l,onOpenChange:c,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(zt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),""]}),a.jsx(ht,{className:"text-sm",children:""})]}),a.jsx(Wm,{...g,children:a.jsxs("form",{onSubmit:g.handleSubmit(E=>f.mutate(E)),className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[a.jsx(Vt,{control:g.control,name:"billNumber",render:({field:E})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(ce,{...E,readOnly:!0,className:"bg-muted h-9 sm:h-10","data-testid":"input-bill-number"})}),a.jsx(Kt,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(Vt,{control:g.control,name:"type",render:({field:E})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsxs(tt,{onValueChange:E.onChange,value:E.value,children:[a.jsx(Bt,{children:a.jsx(Xe,{className:"h-9 sm:h-10","data-testid":"select-bill-type",children:a.jsx(at,{placeholder:""})})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"purchase",children:e("admin.billsPage.typePurchase")}),a.jsx(ge,{value:"logistics",children:e("admin.billsPage.typeLogistics")}),a.jsx(ge,{value:"operation",children:e("admin.billsPage.typeOperation")})]})]}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:g.control,name:"vendor",render:({field:E})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(ce,{...E,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-bill-vendor"})}),a.jsx(Kt,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(Vt,{control:g.control,name:"amount",render:({field:E})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:" (RM)"}),a.jsx(Bt,{children:a.jsx(ce,{...E,type:"number",step:"0.01",placeholder:"0.00",className:"h-9 sm:h-10","data-testid":"input-bill-amount"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:g.control,name:"dueDate",render:({field:E})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(ce,{...E,type:"date",className:"h-9 sm:h-10","data-testid":"input-bill-due-date"})}),a.jsx(Kt,{})]})})]}),a.jsx(Vt,{control:g.control,name:"category",render:({field:E})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(ce,{...E,placeholder:"",className:"h-9 sm:h-10","data-testid":"input-bill-category"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:g.control,name:"description",render:({field:E})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(Pt,{...E,placeholder:"",className:"min-h-[80px]","data-testid":"input-bill-desc"})}),a.jsx(Kt,{})]})}),a.jsx(Vt,{control:g.control,name:"notes",render:({field:E})=>a.jsxs(Ft,{children:[a.jsx(Lt,{className:"text-sm",children:""}),a.jsx(Bt,{children:a.jsx(Pt,{...E,placeholder:"",className:"min-h-[80px]","data-testid":"input-bill-notes"})}),a.jsx(Kt,{})]})}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:""}),a.jsxs(C,{type:"submit",disabled:f.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-add-bill",children:[f.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),""]})]})]})})]})}),a.jsx(et,{open:d,onOpenChange:u,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsx(Je,{children:a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Mo,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),a.jsxs("span",{className:"truncate",children:[" - ",m==null?void 0:m.bill_number]})]})}),m&&a.jsxs("div",{className:"space-y-4 sm:space-y-6 py-2 sm:py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx(te,{className:`${P(m.status).bg} text-xs`,children:P(m.status).label})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx(te,{variant:"secondary",className:"text-xs",children:k(m.type)})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(cs,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," "]}),a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:m.vendor})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(Cr,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," "]}),a.jsxs("p",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(m.amount/100).toLocaleString()]})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(jn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})," "]}),a.jsx("p",{className:"font-medium text-sm sm:text-base",children:O(m.due_date)})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"font-medium text-sm sm:text-base",children:O(m.paid_date)})]})]}),m.category&&a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"text-sm sm:text-base",children:m.category})]}),m.description&&a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg",children:m.description})]}),m.notes&&a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:""}),a.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg",children:m.notes})]}),w&&a.jsxs(a.Fragment,{children:[a.jsx(Sr,{}),a.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg bg-primary/5",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2 mb-3 text-sm sm:text-base",children:[a.jsx(Vl,{className:"w-4 h-4 text-primary"}),""]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 text-sm",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:""}),a.jsx("p",{className:"font-mono text-xs sm:text-sm",children:w.order_number})]}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:""}),a.jsx("p",{className:"text-xs sm:text-sm truncate",children:w.supplier_name})]}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:""}),a.jsxs("p",{className:"text-xs sm:text-sm",children:["RM ",(w.total_amount/100).toLocaleString()]})]}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:""}),a.jsx("p",{className:"text-xs sm:text-sm",children:A(w.created_at)})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t",children:a.jsxs(C,{variant:"outline",size:"sm",className:"h-8 gap-1 w-full sm:w-auto",children:[a.jsx(Zl,{className:"w-4 h-4"}),""]})})]})]}),m.status==="pending"&&a.jsx("div",{className:"flex justify-end pt-2 sm:pt-4",children:a.jsxs(C,{onClick:()=>x.mutate(m.id),disabled:x.isPending,className:"w-full sm:w-auto",children:[x.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),a.jsx(Le,{className:"w-4 h-4 mr-2"}),""]})})]}),a.jsx(lt,{className:"mt-3 sm:mt-4",children:a.jsx(C,{variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:""})})]})})]})}function Qye(){const{t:e}=ft(),[t,n]=y.useState("all"),{data:r=[],isLoading:s}=Ae({queryKey:["admin-finance-transactions"],queryFn:async()=>{const{data:h,error:p}=await L.from("finance_transactions").select("*").order("date",{ascending:!1}).limit(50);return p?(console.error("Error fetching transactions:",p),[]):h||[]}}),{data:i,isLoading:o}=Ae({queryKey:["admin-finance-summary"],queryFn:async()=>{const{data:h,error:p}=await L.rpc("get_finance_summary");if(p){console.log("Finance summary function not available:",p.message);const g=r.filter(x=>x.type==="income").reduce((x,b)=>x+b.amount,0),f=r.filter(x=>x.type==="expense").reduce((x,b)=>x+b.amount,0);return{total_revenue:g,total_expenses:f,total_profit:g-f,partner_payouts:0,bonus_pool_payouts:0}}return(h==null?void 0:h[0])||{total_revenue:0,total_expenses:0,total_profit:0,partner_payouts:0,bonus_pool_payouts:0}}}),l=r.filter(h=>h.type==="expense").reduce((h,p)=>(h[p.category]=(h[p.category]||0)+p.amount,h),{}),c=Object.values(l).reduce((h,p)=>h+p,0),d=t==="all"?r:r.filter(h=>h.type===t),u=h=>new Date(h).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return s||o?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(yt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary","data-testid":"text-finance-title",children:e("admin.financePage.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.financePage.subtitle")})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(C,{variant:"outline",className:"gap-2","data-testid":"button-export",children:[a.jsx(Do,{className:"w-4 h-4"}),e("admin.financePage.exportReport")]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(W,{className:"bg-gradient-to-br from-green-500/10 to-green-500/5 border-green-500/20",children:a.jsxs(ae,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center",children:a.jsx(La,{className:"w-6 h-6 text-green-500"})}),a.jsxs(te,{className:"bg-green-500 text-white gap-1",children:[a.jsx(En,{className:"w-3 h-3"}),""]})]}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["RM ",(((i==null?void 0:i.total_revenue)||0)/100).toLocaleString()]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.financePage.monthlyRevenue")})]})}),a.jsx(W,{className:"bg-gradient-to-br from-red-500/10 to-red-500/5 border-red-500/20",children:a.jsxs(ae,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:a.jsx(Bte,{className:"w-6 h-6 text-red-500"})}),a.jsxs(te,{variant:"outline",className:"text-red-500 gap-1",children:[a.jsx(En,{className:"w-3 h-3"}),""]})]}),a.jsxs("p",{className:"text-3xl font-bold text-red-500",children:["RM ",(((i==null?void 0:i.total_expenses)||0)/100).toLocaleString()]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.financePage.monthlyExpenses")})]})}),a.jsx(W,{className:"bg-gradient-to-br from-primary/10 to-secondary/10 border-primary/20",children:a.jsxs(ae,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center",children:a.jsx(Cr,{className:"w-6 h-6 text-primary"})}),a.jsxs(te,{className:"bg-primary text-primary-foreground gap-1",children:[a.jsx(En,{className:"w-3 h-3"}),""]})]}),a.jsxs("p",{className:"text-3xl font-bold text-primary",children:["RM ",(((i==null?void 0:i.total_profit)||0)/100).toLocaleString()]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.financePage.monthlyProfit")})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(pw,{className:"w-5 h-5 text-primary"}),e("admin.financePage.expenseBreakdown")]})}),a.jsx(ae,{className:"space-y-4",children:Object.entries(l).length===0?a.jsx("p",{className:"text-center py-4 text-muted-foreground",children:""}):Object.entries(l).map(([h,p])=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[a.jsx("span",{children:h}),a.jsxs("span",{className:"font-bold",children:["RM ",(p/100).toLocaleString()," (",c>0?(p/c*100).toFixed(0):0,"%)"]})]},h))})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"w-5 h-5 text-secondary"}),e("admin.financePage.partnerExpenses")]})}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-secondary/10 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{children:e("admin.financePage.cashbackPayout")}),a.jsxs("span",{className:"font-bold text-secondary",children:["RM ",(((i==null?void 0:i.partner_payouts)||0)/100).toLocaleString()]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.financePage.cashbackDesc")})]}),a.jsxs("div",{className:"p-4 bg-primary/10 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{children:e("admin.financePage.bonusPoolPayout")}),a.jsxs("span",{className:"font-bold text-primary",children:["RM ",(((i==null?void 0:i.bonus_pool_payouts)||0)/100).toLocaleString()]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.financePage.bonusPoolDesc")})]})]})]})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(jn,{className:"w-5 h-5 text-primary"}),e("admin.financePage.recentTransactions")]})}),a.jsx(ae,{children:a.jsxs(ba,{value:t,onValueChange:n,children:[a.jsxs(fa,{className:"grid w-full grid-cols-3",children:[a.jsx(Ee,{value:"all","data-testid":"tab-all",children:e("admin.financePage.tabAll")}),a.jsx(Ee,{value:"income","data-testid":"tab-income",children:e("admin.financePage.tabIncome")}),a.jsx(Ee,{value:"expense","data-testid":"tab-expense",children:e("admin.financePage.tabExpense")})]}),a.jsx(At,{value:t,className:"mt-4",children:d.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(jn,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:""})]}):a.jsx("div",{className:"space-y-3",children:d.map(h=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`transaction-${h.id}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${h.type==="income"?"bg-green-500/10":"bg-red-500/10"}`,children:h.type==="income"?a.jsx(En,{className:"w-5 h-5 text-green-500"}):a.jsx(is,{className:"w-5 h-5 text-red-500"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:h.description||h.category}),a.jsx(te,{variant:"outline",children:h.category})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:u(h.date)})]})]}),a.jsxs("span",{className:`font-bold ${h.type==="income"?"text-green-500":"text-red-500"}`,children:[h.type==="income"?"+":"-","RM ",(h.amount/100).toLocaleString()]})]},h.id))})})]})})]})]})})}const f1=["planned","material_prep","cleaning","cooking","cold_storage","inspection","completed"];function Xye(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),s=String(Math.floor(Math.random()*1e4)).padStart(4,"0");return`BATCH-${t}${n}${r}-${s}`}function Zye(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState(""),[i,o]=y.useState(null),[l,c]=y.useState("batches"),[d,u]=y.useState(!1),[m,h]=y.useState(""),[p,g]=y.useState(""),[f,x]=y.useState(""),[b,j]=y.useState(""),[v,N]=y.useState(""),[w,P]=y.useState(!1),[k,_]=y.useState(""),[S,O]=y.useState(""),[A,E]=y.useState("g"),{data:D=[],isLoading:B}=Ae({queryKey:["admin-production-batches"],queryFn:async()=>{const{data:se,error:I}=await L.from("production_batches").select("*").order("planned_date",{ascending:!1});return I?(console.error("Error fetching batches:",I),[]):se||[]}}),{data:z=[],isLoading:K}=Ae({queryKey:["admin-production-materials",i],queryFn:async()=>{let se=L.from("production_materials").select("*");i&&(se=se.eq("batch_id",i));const{data:I,error:be}=await se.order("created_at",{ascending:!1}).limit(50);return be?(console.error("Error fetching materials:",be),[]):I||[]}}),{data:Y=[]}=Ae({queryKey:["products-list"],queryFn:async()=>{const{data:se}=await L.from("products").select("id, name").order("name");return se||[]}}),{data:M=[]}=Ae({queryKey:["inventory-items-list"],queryFn:async()=>{const{data:se}=await L.from("inventory_items").select("id, name, sku, stock, unit").order("name");return se||[]}}),{data:R=[]}=Ae({queryKey:["product-bom",v],enabled:!!v,queryFn:async()=>{try{const{data:se,error:I}=await L.from("product_bom").select("*, inventory_items(name, stock, unit)").eq("product_id",v);if(I)throw I;return se||[]}catch{return[]}}}),J=Ce({mutationFn:async()=>{const se=Y.find(He=>He.id===m);if(!se)throw new Error("");const I=parseInt(p);if(isNaN(I)||I<1)throw new Error("1");if(!f)throw new Error("");const be=Xye(),{data:_e,error:Me}=await L.from("production_batches").insert({batch_number:be,product_id:m,product_name:se.name,planned_qty:I,status:"planned",current_step:0,total_steps:5,planned_date:f,notes:b||null}).select().single();if(Me)throw Me;try{const{data:He}=await L.from("product_bom").select("*, inventory_items(name)").eq("product_id",m);if(He&&He.length>0){const mt=He.map(ee=>{var he;return{batch_id:_e.id,material_name:((he=ee.inventory_items)==null?void 0:he.name)||"Unknown",inventory_item_id:ee.inventory_item_id,planned_qty:ee.quantity*I,unit:ee.unit}});await L.from("production_materials").insert(mt)}}catch{}return _e},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-production-batches"]}),u(!1),h(""),g(""),x(""),j(""),t({title:e("admin.operationSuccess")})},onError:se=>{t({title:e("admin.operationFailed"),description:se.message,variant:"destructive"})}}),ie=Ce({mutationFn:async se=>{const I=D.find(mt=>mt.id===se);if(!I)throw new Error("Batch not found");const be=f1.indexOf(I.status);if(be<0||be>=f1.length-1)throw new Error("Cannot advance");const _e=f1[be+1],Me={status:_e,current_step:be+1,updated_at:new Date().toISOString()};_e==="material_prep"&&!I.started_at&&(Me.started_at=new Date().toISOString()),_e==="completed"&&(Me.completed_at=new Date().toISOString());const{error:He}=await L.from("production_batches").update(Me).eq("id",se);if(He)throw He},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-production-batches"]}),t({title:e("admin.operationSuccess")})},onError:se=>{t({title:e("admin.operationFailed"),description:se.message,variant:"destructive"})}}),F=Ce({mutationFn:async se=>{const I=D.find(He=>He.id===se),{data:be,error:_e}=await L.from("production_materials").select("*").eq("batch_id",se);if(_e||!be)throw new Error("");const Me=be.filter(He=>He.inventory_item_id);if(Me.length===0)throw new Error("");for(const He of Me){const{data:mt}=await L.from("inventory_items").select("stock, name").eq("id",He.inventory_item_id).single();if(!mt||mt.stock<Math.round(He.planned_qty))throw new Error(`${(mt==null?void 0:mt.name)||He.material_name}  ( ${He.planned_qty} ${He.unit},  ${(mt==null?void 0:mt.stock)??0})`)}for(const He of Me){const{data:mt}=await L.from("inventory_items").select("stock").eq("id",He.inventory_item_id).single();if(!mt)continue;const ee=Math.round(He.planned_qty);await L.from("inventory_items").update({stock:Math.max(0,mt.stock-ee),updated_at:new Date().toISOString()}).eq("id",He.inventory_item_id),await L.from("inventory_ledger").insert({item_id:He.inventory_item_id,type:"out",quantity:ee,movement_type:"production",note:` ${(I==null?void 0:I.batch_number)||se}`}),await L.from("production_materials").update({actual_qty:He.planned_qty}).eq("id",He.id)}},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-production-batches"]}),n.invalidateQueries({queryKey:["admin-production-materials"]}),n.invalidateQueries({queryKey:["inventory-items-list"]}),t({title:e("admin.operationSuccess"),description:e("admin.productionPage.materialsExtracted")})},onError:se=>{t({title:e("admin.operationFailed"),description:se.message,variant:"destructive"})}}),le=Ce({mutationFn:async()=>{if(!v)throw new Error("");if(!k)throw new Error("");const se=parseFloat(S);if(isNaN(se)||se<=0)throw new Error("0");const{error:I}=await L.from("product_bom").insert({product_id:v,inventory_item_id:k,quantity:se,unit:A});if(I)throw I.code==="23505"?new Error(""):I},onSuccess:()=>{n.invalidateQueries({queryKey:["product-bom",v]}),P(!1),_(""),O(""),E("g"),t({title:e("admin.operationSuccess")})},onError:se=>{t({title:e("admin.operationFailed"),description:se.message,variant:"destructive"})}}),q=Ce({mutationFn:async se=>{const{error:I}=await L.from("product_bom").delete().eq("id",se);if(I)throw I},onSuccess:()=>{n.invalidateQueries({queryKey:["product-bom",v]}),t({title:e("admin.operationSuccess")})}}),ve=[e("admin.productionPage.stepMaterialPrep"),e("admin.productionPage.stepCleaning"),e("admin.productionPage.stepCooking"),e("admin.productionPage.stepColdStorage"),e("admin.productionPage.stepInspection")],ye=ve.length,H={planned:0,material_prep:1,cleaning:2,cooking:3,cold_storage:4,inspection:5,completed:5,cancelled:0},oe=se=>H[se]??0,G=D.filter(se=>r===""||se.batch_number.toLowerCase().includes(r.toLowerCase())||se.product_name.toLowerCase().includes(r.toLowerCase())),$={total:D.length,inProgress:D.filter(se=>!["planned","completed","cancelled"].includes(se.status)).length,completed:D.filter(se=>se.status==="completed").length,planned:D.filter(se=>se.status==="planned").length},Z=se=>{switch(se){case"planned":return a.jsxs(te,{variant:"outline",children:[a.jsx(Ht,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusPlanned")]});case"material_prep":return a.jsxs(te,{className:"bg-blue-500",children:[a.jsx(ca,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusMaterialPrep")]});case"cleaning":return a.jsxs(te,{className:"bg-cyan-500",children:[a.jsx(xte,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusCleaning")]});case"cooking":return a.jsxs(te,{className:"bg-orange-500",children:[a.jsx(Kf,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusCooking")]});case"cold_storage":return a.jsxs(te,{className:"bg-indigo-500",children:[a.jsx(Kf,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusColdStorage")]});case"inspection":return a.jsxs(te,{className:"bg-purple-500",children:[a.jsx(Vl,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusInspection")]});case"completed":return a.jsxs(te,{className:"bg-green-500",children:[a.jsx(Le,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusCompleted")]});case"cancelled":return a.jsxs(te,{className:"bg-red-500",children:[a.jsx(ic,{className:"w-3 h-3 mr-1"}),e("admin.productionPage.statusCancelled")]});default:return a.jsx(te,{variant:"outline",children:e("admin.productionPage.statusUnknown")})}},U=se=>se?new Date(se).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",pe=se=>se?new Date(se).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-";return B||K?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif","data-testid":"text-production-title",children:e("admin.productionPage.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.subtitle")})]}),a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground self-start sm:self-auto",onClick:()=>u(!0),"data-testid":"button-new-batch",children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.productionPage.newBatch")]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(pv,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:$.total}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productionPage.totalBatches")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-500/10 flex items-center justify-center",children:a.jsx(iD,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:$.inProgress}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productionPage.inProgress")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center",children:a.jsx(Le,{className:"w-6 h-6 text-green-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:$.completed}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productionPage.completed")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/10 flex items-center justify-center",children:a.jsx(Ht,{className:"w-6 h-6 text-blue-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:$.planned}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.productionPage.planned")})]})]})})]}),a.jsxs(ba,{value:l,onValueChange:c,className:"space-y-4",children:[a.jsxs(fa,{className:"grid grid-cols-3 w-full max-w-md",children:[a.jsx(Ee,{value:"batches","data-testid":"tab-batches",children:e("admin.productionPage.batchList")}),a.jsx(Ee,{value:"materials","data-testid":"tab-materials",children:e("admin.productionPage.materialUsage")}),a.jsx(Ee,{value:"bom","data-testid":"tab-bom",children:e("admin.productionPage.bomTab")})]}),a.jsx(At,{value:"batches",className:"space-y-4",children:a.jsxs(W,{children:[a.jsx($e,{className:"pb-3",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[a.jsx(Ie,{className:"text-lg",children:e("admin.productionPage.batchList")}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.productionPage.searchPlaceholder"),className:"pl-9",value:r,onChange:se=>s(se.target.value),"data-testid":"input-search-batch"})]})]})}),a.jsx(ae,{children:G.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(pv,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.noBatches")})]}):a.jsx("div",{className:"space-y-4",children:G.map(se=>a.jsxs("div",{className:"border rounded-lg p-4 hover-elevate cursor-pointer",onClick:()=>o(se.id===i?null:se.id),"data-testid":`batch-${se.id}`,children:[a.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-3 gap-2",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx(pv,{className:"w-5 h-5 text-primary flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:se.batch_number}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:se.product_name})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-1.5 sm:gap-3 flex-shrink-0",children:[Z(se.status),a.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[e("admin.productionPage.qty"),": ",se.actual_qty??se.planned_qty]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:e("admin.productionPage.progress")}),a.jsxs("span",{children:[oe(se.status),"/",ye," ",e("admin.productionPage.steps")]})]}),a.jsx(Ld,{value:oe(se.status)/ye*100,className:"h-2"}),a.jsx("div",{className:"flex justify-between text-[10px] sm:text-xs text-muted-foreground gap-1",children:ve.map((I,be)=>a.jsx("span",{className:`text-center truncate ${be<oe(se.status)?"text-primary font-medium":""}`,children:I},be))})]}),i===se.id&&a.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.plannedDate")}),a.jsx("p",{className:"font-medium",children:U(se.planned_date)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.startTime")}),a.jsx("p",{className:"font-medium",children:pe(se.started_at)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.plannedQty")}),a.jsx("p",{className:"font-medium",children:se.planned_qty})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.actualQty")}),a.jsx("p",{className:"font-medium",children:se.actual_qty??"-"})]})]}),z.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.materialReq")}),a.jsx("div",{className:"bg-muted/50 rounded p-3 space-y-1.5",children:z.map(I=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:I.material_name}),a.jsxs("span",{className:I.actual_qty!=null?"text-green-600 font-medium":"",children:[I.actual_qty!=null?` ${I.actual_qty}`:I.planned_qty," ",I.unit]})]},I.id))})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[se.status!=="completed"&&se.status!=="cancelled"&&a.jsxs(C,{size:"sm",className:"gap-1",onClick:I=>{I.stopPropagation(),ie.mutate(se.id)},disabled:ie.isPending,"data-testid":`button-next-step-${se.id}`,children:[ie.isPending?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(iD,{className:"w-4 h-4"}),e("admin.productionPage.nextStep")]}),se.status==="material_prep"&&z.some(I=>I.inventory_item_id&&I.actual_qty==null)&&a.jsxs(C,{size:"sm",variant:"outline",className:"gap-1",onClick:I=>{I.stopPropagation(),F.mutate(se.id)},disabled:F.isPending,children:[F.isPending?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(hte,{className:"w-4 h-4"}),e("admin.productionPage.extractMaterials")]}),se.status==="completed"&&a.jsxs(C,{size:"sm",variant:"outline","data-testid":`button-view-report-${se.id}`,children:[a.jsx(Vl,{className:"w-4 h-4 mr-1"}),e("admin.productionPage.viewReport")]})]})]})]},se.id))})})]})}),a.jsx(At,{value:"materials",className:"space-y-4",children:a.jsxs(W,{children:[a.jsx($e,{children:a.jsx(Ie,{className:"text-lg",children:e("admin.productionPage.materialUsage")})}),a.jsx(ae,{children:z.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ca,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.noMaterials")})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b text-left text-sm text-muted-foreground",children:[a.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.materialName")}),a.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.plannedUsage")}),a.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.actualUsage")}),a.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.wastage")}),a.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.wastageRate")})]})}),a.jsx("tbody",{children:z.map(se=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-3 font-medium",children:se.material_name}),a.jsxs("td",{className:"py-3",children:[se.planned_qty," ",se.unit]}),a.jsxs("td",{className:"py-3",children:[se.actual_qty??"-"," ",se.unit]}),a.jsx("td",{className:"py-3",children:a.jsxs("span",{className:se.wastage>0?"text-orange-500":"text-green-500",children:[se.wastage," ",se.unit]})}),a.jsx("td",{className:"py-3",children:a.jsxs(te,{variant:se.planned_qty>0&&se.wastage/se.planned_qty>.05?"destructive":"outline",children:[se.planned_qty>0?(se.wastage/se.planned_qty*100).toFixed(1):"0.0","%"]})})]},se.id))})]})})})]})}),a.jsx(At,{value:"bom",className:"space-y-4",children:a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsx(Ie,{className:"text-lg",children:e("admin.productionPage.bomTab")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(tt,{value:v,onValueChange:N,children:[a.jsx(Xe,{className:"w-48",children:a.jsx(at,{placeholder:e("admin.productionPage.selectProduct")})}),a.jsx(Ze,{children:Y.map(se=>a.jsx(ge,{value:se.id,children:se.name},se.id))})]}),v&&a.jsxs(C,{size:"sm",onClick:()=>P(!0),className:"gap-1",children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.productionPage.addBomEntry")]})]})]})}),a.jsx(ae,{children:v?R.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ca,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.noBom")})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b text-left text-sm text-muted-foreground",children:[a.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.materialName")}),a.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.quantityPerUnit")}),a.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.unit")}),a.jsx("th",{className:"pb-3 font-medium",children:e("admin.productionPage.currentStock")}),a.jsx("th",{className:"pb-3 font-medium w-16"})]})}),a.jsx("tbody",{children:R.map(se=>{var I,be,_e,Me;return a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-3 font-medium",children:((I=se.inventory_items)==null?void 0:I.name)||"-"}),a.jsx("td",{className:"py-3",children:se.quantity}),a.jsx("td",{className:"py-3",children:se.unit}),a.jsx("td",{className:"py-3",children:a.jsxs("span",{className:(((be=se.inventory_items)==null?void 0:be.stock)??0)<=0?"text-red-500":"",children:[((_e=se.inventory_items)==null?void 0:_e.stock)??"-"," ",((Me=se.inventory_items)==null?void 0:Me.unit)||""]})}),a.jsx("td",{className:"py-3",children:a.jsx(C,{size:"sm",variant:"ghost",className:"text-red-500 hover:text-red-600 h-8 w-8 p-0",onClick:()=>q.mutate(se.id),disabled:q.isPending,children:a.jsx(Ut,{className:"w-4 h-4"})})})]},se.id)})})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Mo,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.productionPage.noProductSelected")})]})})]})})]})]}),a.jsx(et,{open:d,onOpenChange:u,children:a.jsxs(Ye,{className:"max-w-md",children:[a.jsx(Je,{children:a.jsx(Qe,{children:e("admin.productionPage.createBatch")})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.product")}),a.jsxs(tt,{value:m,onValueChange:h,children:[a.jsx(Xe,{children:a.jsx(at,{placeholder:e("admin.productionPage.selectProduct")})}),a.jsx(Ze,{children:Y.map(se=>a.jsx(ge,{value:se.id,children:se.name},se.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.plannedQty")}),a.jsx(ce,{type:"number",min:1,placeholder:"100",value:p,onChange:se=>g(se.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.plannedDate")}),a.jsx(ce,{type:"date",value:f,onChange:se=>x(se.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.notesLabel")}),a.jsx(Pt,{placeholder:e("admin.productionPage.notesPlaceholder"),value:b,onChange:se=>j(se.target.value),rows:3})]}),a.jsxs(C,{className:"w-full",onClick:()=>J.mutate(),disabled:J.isPending||!m||!p||!f,children:[J.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.productionPage.createBatch")]})]})]})}),a.jsx(et,{open:w,onOpenChange:P,children:a.jsxs(Ye,{className:"max-w-md",children:[a.jsx(Je,{children:a.jsx(Qe,{children:e("admin.productionPage.addBomEntry")})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.selectMaterial")}),a.jsxs(tt,{value:k,onValueChange:_,children:[a.jsx(Xe,{children:a.jsx(at,{placeholder:e("admin.productionPage.selectMaterial")})}),a.jsx(Ze,{children:M.map(se=>a.jsxs(ge,{value:se.id,children:[se.name," (",se.sku,") - ",e("admin.productionPage.currentStock"),": ",se.stock," ",se.unit]},se.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.quantityPerUnit")}),a.jsx(ce,{type:"number",step:"0.01",min:.01,placeholder:"50",value:S,onChange:se=>O(se.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:e("admin.productionPage.unit")}),a.jsxs(tt,{value:A,onValueChange:E,children:[a.jsx(Xe,{children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"g",children:"g ()"}),a.jsx(ge,{value:"kg",children:"kg ()"}),a.jsx(ge,{value:"ml",children:"ml ()"}),a.jsx(ge,{value:"L",children:"L ()"}),a.jsx(ge,{value:"",children:""}),a.jsx(ge,{value:"",children:""}),a.jsx(ge,{value:"",children:""})]})]})]}),a.jsxs(C,{className:"w-full",onClick:()=>le.mutate(),disabled:le.isPending||!k||!S,children:[le.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.productionPage.addBomEntry")]})]})]})})]})}function eve(){var E,D,B,z;const{t:e}=ft(),{user:t}=oa(),{toast:n}=Jt(),r=Aa(),[s,i]=y.useState("pending"),[o,l]=y.useState(null),[c,d]=y.useState(!1),[u,m]=y.useState(!1),[h,p]=y.useState(""),{data:g=[],isLoading:f}=Ae({queryKey:["admin-withdrawals"],queryFn:async()=>{const{data:K,error:Y}=await L.from("withdrawal_requests").select("*, partners(user_id, members(name, email, phone))").order("created_at",{ascending:!1}).limit(200);return Y?(console.error("Error fetching withdrawals:",Y),[]):K||[]}}),x=g.filter(K=>K.status==="pending"),b=g.filter(K=>K.status==="accepted"),j=g.filter(K=>K.status==="completed"),v=g.filter(K=>K.status==="rejected"),N={pendingCount:x.length,pendingAmount:x.reduce((K,Y)=>K+Y.amount,0),acceptedCount:b.length,acceptedAmount:b.reduce((K,Y)=>K+Y.amount,0),completedCount:j.length,completedAmount:j.reduce((K,Y)=>K+Y.amount,0),rejectedCount:v.length},w=Ce({mutationFn:async K=>{const Y=await qoe(K,(t==null?void 0:t.id)||"");if(Y.error)throw Y.error;return Y},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-withdrawals"]}),n({title:e("admin.withdrawals.approveSuccess")}),d(!1)},onError:K=>{n({title:e("admin.withdrawals.approveFailed"),description:K.message,variant:"destructive"})}}),P=Ce({mutationFn:async K=>{const Y=await Voe(K);if(Y.error)throw Y.error;return Y},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-withdrawals"]}),n({title:e("admin.withdrawals.completeSuccess")}),d(!1)},onError:K=>{n({title:e("admin.withdrawals.completeFailed"),description:K.message,variant:"destructive"})}}),k=Ce({mutationFn:async({requestId:K,reason:Y})=>{const M=await Koe(K,(t==null?void 0:t.id)||"",Y);if(M.error)throw M.error;return M},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-withdrawals"]}),n({title:e("admin.withdrawals.rejectSuccess")}),m(!1),d(!1),p("")},onError:K=>{n({title:e("admin.withdrawals.rejectFailed"),description:K.message,variant:"destructive"})}}),_=K=>{switch(K){case"pending":return a.jsxs(te,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/30",children:[a.jsx(Ht,{className:"w-3 h-3 mr-1"}),""]});case"accepted":return a.jsxs(te,{variant:"outline",className:"bg-blue-500/10 text-blue-600 border-blue-500/30",children:[a.jsx(Le,{className:"w-3 h-3 mr-1"}),""]});case"completed":return a.jsxs(te,{className:"bg-green-500",children:[a.jsx(Le,{className:"w-3 h-3 mr-1"}),""]});case"rejected":return a.jsxs(te,{variant:"destructive",children:[a.jsx(ms,{className:"w-3 h-3 mr-1"}),""]});default:return a.jsx(te,{variant:"outline",children:K})}},S=K=>K?new Date(K).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",O=K=>{var Y,M;return((M=(Y=K.partners)==null?void 0:Y.members)==null?void 0:M.name)||K.account_name||"-"},A=s==="all"?g:g.filter(K=>K.status===s);return f?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(yt,{children:a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.withdrawals.title")}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.withdrawals.subtitle")})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[a.jsx(W,{className:"border-yellow-500/20",children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[a.jsx(Ht,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-yellow-500 shrink-0"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:e("admin.withdrawals.pendingRequests")})]}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-600",children:N.pendingCount}),a.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["RM ",(N.pendingAmount/100).toLocaleString()]})]})}),a.jsx(W,{className:"border-blue-500/20",children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[a.jsx(Le,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-500 shrink-0"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:""})]}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:N.acceptedCount}),a.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["RM ",(N.acceptedAmount/100).toLocaleString()]})]})}),a.jsx(W,{className:"border-green-500/20",children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[a.jsx(Le,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-500 shrink-0"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:e("admin.withdrawals.completedRequests")})]}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:N.completedCount}),a.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:["RM ",(N.completedAmount/100).toLocaleString()]})]})}),a.jsx(W,{className:"border-red-500/20",children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[a.jsx(ms,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-red-500 shrink-0"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:e("admin.withdrawals.rejectedRequests")})]}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-500",children:N.rejectedCount})]})})]}),a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(bs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.withdrawals.requestsList")]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:a.jsxs(ba,{value:s,onValueChange:i,children:[a.jsxs(fa,{className:"grid w-full grid-cols-5 mb-4",children:[a.jsx(Ee,{value:"pending",className:"text-[10px] sm:text-xs",children:""}),a.jsx(Ee,{value:"accepted",className:"text-[10px] sm:text-xs",children:""}),a.jsx(Ee,{value:"completed",className:"text-[10px] sm:text-xs",children:""}),a.jsx(Ee,{value:"rejected",className:"text-[10px] sm:text-xs",children:""}),a.jsx(Ee,{value:"all",className:"text-[10px] sm:text-xs",children:""})]}),a.jsx(At,{value:s,children:A.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(bs,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.withdrawals.noRequests")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:A.map(K=>{var Y;return a.jsxs("div",{className:"border rounded-lg p-3 sm:p-4 cursor-pointer hover:bg-muted/30 transition-colors",onClick:()=>{l(K),d(!0)},children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:O(K)}),a.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:S(K.created_at)})]}),a.jsxs("div",{className:"text-right shrink-0",children:[a.jsxs("p",{className:"font-bold text-sm sm:text-base text-primary",children:["RM ",(K.amount/100).toFixed(2)]}),_(K.status)]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-[10px] sm:text-xs text-muted-foreground",children:[a.jsx("span",{children:K.bank_name||"-"}),a.jsx("span",{children:""}),a.jsxs("span",{children:["****",((Y=K.account_number)==null?void 0:Y.slice(-4))||"----"]}),a.jsx("span",{children:""}),a.jsx("span",{children:K.account_name||"-"})]})]},K.id)})})})]})})]}),a.jsx(et,{open:c,onOpenChange:d,children:a.jsxs(Ye,{className:"max-w-md max-h-[90dvh] overflow-y-auto",children:[a.jsx(Je,{children:a.jsx(Qe,{className:"text-base sm:text-lg",children:e("admin.withdrawals.requestDetail")})}),o&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center py-4 bg-primary/5 rounded-lg",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:e("admin.withdrawals.withdrawAmount")}),a.jsxs("p",{className:"text-3xl font-bold text-primary",children:["RM ",(o.amount/100).toFixed(2)]}),a.jsx("div",{className:"mt-2",children:_(o.status)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:e("admin.withdrawals.partnerInfo")}),a.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 space-y-1.5 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.name")}),a.jsx("span",{className:"font-medium",children:O(o)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.email")}),a.jsx("span",{className:"font-medium",children:((D=(E=o.partners)==null?void 0:E.members)==null?void 0:D.email)||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.phone")}),a.jsx("span",{className:"font-medium",children:((z=(B=o.partners)==null?void 0:B.members)==null?void 0:z.phone)||"-"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:e("admin.withdrawals.bankInfo")}),a.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 space-y-1.5 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.bankName")}),a.jsx("span",{className:"font-medium",children:o.bank_name||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.accountNumber")}),a.jsx("span",{className:"font-medium font-mono",children:o.account_number||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.accountName")}),a.jsx("span",{className:"font-medium",children:o.account_name||"-"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:e("admin.withdrawals.timeline")}),a.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 space-y-1.5 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.submittedAt")}),a.jsx("span",{children:S(o.created_at)})]}),o.processed_at&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:e("admin.withdrawals.processedAt")}),a.jsx("span",{children:S(o.processed_at)})]}),o.notes&&a.jsxs("div",{className:"mt-2 p-2 bg-red-500/10 rounded text-red-600 text-xs",children:[a.jsxs("span",{className:"font-medium",children:[e("admin.withdrawals.rejectReasonLabel"),":"]})," ",o.notes]})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2",children:[o.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(C,{variant:"destructive",size:"sm",className:"w-full sm:w-auto",onClick:()=>{m(!0)},children:[a.jsx(RB,{className:"w-4 h-4 mr-1.5"}),""]}),a.jsxs(C,{size:"sm",className:"w-full sm:w-auto",onClick:()=>w.mutate(o.id),disabled:w.isPending,children:[w.isPending?a.jsx(fe,{className:"w-4 h-4 mr-1.5 animate-spin"}):a.jsx(Le,{className:"w-4 h-4 mr-1.5"}),""]})]}),o.status==="accepted"&&a.jsxs(C,{size:"sm",className:"w-full sm:w-auto bg-green-500 hover:bg-green-600",onClick:()=>P.mutate(o.id),disabled:P.isPending,children:[P.isPending?a.jsx(fe,{className:"w-4 h-4 mr-1.5 animate-spin"}):a.jsx(Le,{className:"w-4 h-4 mr-1.5"}),""]})]})]})]})}),a.jsx(et,{open:u,onOpenChange:m,children:a.jsxs(Ye,{className:"max-w-sm",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base",children:[a.jsx(ic,{className:"w-5 h-5 text-red-500"}),e("admin.withdrawals.rejectTitle")]}),a.jsx(ht,{className:"text-xs sm:text-sm",children:e("admin.withdrawals.rejectDesc")})]}),a.jsx(Pt,{placeholder:e("admin.withdrawals.rejectPlaceholder"),value:h,onChange:K=>p(K.target.value),rows:3}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2",children:[a.jsx(C,{variant:"outline",size:"sm",onClick:()=>m(!1),children:e("admin.withdrawals.cancel")}),a.jsxs(C,{variant:"destructive",size:"sm",disabled:!h.trim()||k.isPending,onClick:()=>{o&&k.mutate({requestId:o.id,reason:h.trim()})},children:[k.isPending?a.jsx(fe,{className:"w-4 h-4 mr-1.5 animate-spin"}):a.jsx(ms,{className:"w-4 h-4 mr-1.5"}),e("admin.withdrawals.confirmReject")]})]})]})})]})})}function tve(){var x,b,j,v;const{toast:e}=Jt(),t=Aa(),{data:n,isLoading:r}=Ae({queryKey:["site-settings"],queryFn:async()=>{const{data:N,error:w}=await L.from("site_settings").select("*");if(w)throw w;const P={};for(const k of N||[])P[k.id]=k.value;return P}}),{data:s=[]}=Ae({queryKey:["admin-bundles-list"],queryFn:async()=>{const{data:N,error:w}=await L.from("product_bundles").select("id, name, is_active, is_featured").eq("is_active",!0).order("sort_order");if(w)throw w;return N}}),[i,o]=y.useState(null),[l,c]=y.useState(null),[d,u]=y.useState(!1),[m,h]=y.useState(!1),p=()=>{n!=null&&n.hero&&(o({...n.hero}),u(!0))},g=()=>{n!=null&&n.featured_bundles&&(c({...n.featured_bundles}),h(!0))},f=Ce({mutationFn:async({id:N,value:w})=>{const{error:P}=await L.from("site_settings").update({value:w,updated_at:new Date().toISOString()}).eq("id",N);if(P)throw P},onSuccess:()=>{t.invalidateQueries({queryKey:["site-settings"]}),e({title:""}),u(!1),h(!1)},onError:N=>{e({title:"",description:N.message,variant:"destructive"})}});return r?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(yt,{children:a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:""}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Hero"})]}),a.jsxs(W,{children:[a.jsxs($e,{className:"p-4 sm:p-6",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(dx,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),"Hero "]}),a.jsx(Ca,{className:"text-xs sm:text-sm",children:""})]}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0",children:(n==null?void 0:n.hero)&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),a.jsx("p",{className:"font-medium text-sm",children:n.hero.title})]}),a.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),a.jsx("p",{className:"font-medium text-sm",children:n.hero.button_text})]})]}),a.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),a.jsx("p",{className:"text-sm",children:n.hero.subtitle})]}),a.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:""}),a.jsx("p",{className:"text-xs font-mono truncate",children:n.hero.background_image})]}),a.jsxs(C,{onClick:p,className:"w-full sm:w-auto",children:[a.jsx(Ute,{className:"w-4 h-4 mr-1.5"})," Hero "]})]})})]}),a.jsxs(W,{children:[a.jsxs($e,{className:"p-4 sm:p-6",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(pa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500"}),""]}),a.jsx(Ca,{className:"text-xs sm:text-sm",children:""})]}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0",children:(n==null?void 0:n.featured_bundles)&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:""}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.filter(N=>N.is_featured).map(N=>a.jsxs(te,{className:"bg-amber-500",children:[a.jsx(pa,{className:"w-3 h-3 mr-1"}),N.name]},N.id)),s.filter(N=>N.is_featured).length===0&&a.jsx("span",{className:"text-sm text-muted-foreground",children:""})]})]}),a.jsxs(C,{onClick:g,className:"w-full sm:w-auto",children:[a.jsx(ca,{className:"w-4 h-4 mr-1.5"}),""]})]})})]}),a.jsxs(W,{className:"bg-gradient-to-br from-emerald-900/10 to-emerald-950/10 border-emerald-500/20",children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsx(Ie,{className:"text-base sm:text-lg",children:""})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0",children:a.jsxs("div",{className:"aspect-video bg-gradient-to-br from-emerald-900 to-emerald-950 rounded-lg overflow-hidden relative",children:[((x=n==null?void 0:n.hero)==null?void 0:x.background_image)&&a.jsx("img",{src:n.hero.background_image,alt:"Hero",className:"absolute inset-0 w-full h-full object-cover opacity-30 grayscale"}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white p-4 text-center",children:[a.jsx("p",{className:"text-amber-400 text-xs sm:text-sm mb-1",children:"LOVE YOUNG"}),a.jsx("h2",{className:"text-lg sm:text-2xl font-bold mb-2",children:(b=n==null?void 0:n.hero)==null?void 0:b.title}),a.jsx("p",{className:"text-xs sm:text-sm opacity-80 mb-4",children:(j=n==null?void 0:n.hero)==null?void 0:j.subtitle}),a.jsx(C,{size:"sm",className:"bg-amber-500 hover:bg-amber-600 text-xs",children:(v=n==null?void 0:n.hero)==null?void 0:v.button_text})]})]})})]}),a.jsx(et,{open:d,onOpenChange:u,children:a.jsxs(Ye,{className:"max-w-lg max-h-[90dvh] overflow-y-auto",children:[a.jsx(Je,{children:a.jsx(Qe,{children:" Hero "})}),i&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(ce,{value:i.title,onChange:N=>o({...i,title:N.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(ce,{value:i.title_en,onChange:N=>o({...i,title_en:N.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(ce,{value:i.title_ms,onChange:N=>o({...i,title_ms:N.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(Pt,{value:i.subtitle,onChange:N=>o({...i,subtitle:N.target.value}),rows:2})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(Pt,{value:i.subtitle_en,onChange:N=>o({...i,subtitle_en:N.target.value}),rows:2})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(Pt,{value:i.subtitle_ms,onChange:N=>o({...i,subtitle_ms:N.target.value}),rows:2})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(ce,{value:i.button_text,onChange:N=>o({...i,button_text:N.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(ce,{value:i.button_text_en,onChange:N=>o({...i,button_text_en:N.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" ()"}),a.jsx(ce,{value:i.button_text_ms,onChange:N=>o({...i,button_text_ms:N.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:""}),a.jsx(ce,{value:i.button_link,onChange:N=>o({...i,button_link:N.target.value}),placeholder:"/#products"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:" URL"}),a.jsx(ce,{value:i.background_image,onChange:N=>o({...i,background_image:N.target.value}),placeholder:"/pics/hero-background.jpg"})]}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>u(!1),children:""}),a.jsxs(C,{onClick:()=>f.mutate({id:"hero",value:i}),disabled:f.isPending,children:[f.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-1 animate-spin"}),""]})]})]})]})}),a.jsx(et,{open:m,onOpenChange:h,children:a.jsxs(Ye,{className:"max-w-lg max-h-[90dvh] overflow-y-auto",children:[a.jsx(Je,{children:a.jsx(Qe,{children:""})}),l&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"is_featured"}),a.jsx("div",{className:"space-y-2",children:s.map(N=>a.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors ${N.is_featured?"bg-amber-500/10 border-amber-500/30":"bg-muted/30"}`,children:[a.jsx("span",{className:"text-sm font-medium",children:N.name}),N.is_featured?a.jsxs(te,{className:"bg-amber-500",children:[a.jsx(pa,{className:"w-3 h-3 mr-1"}),""]}):a.jsx(te,{variant:"outline",children:""})]},N.id))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'""'}),a.jsx(lt,{children:a.jsx(C,{variant:"outline",onClick:()=>h(!1),children:""})})]})]})})]})})}const My={name:"",platform:"facebook",objective:"awareness",budget_type:"daily",budget_amount:"",start_date:"",end_date:"",notes:""},Ry={name:"",description:"",platform:"facebook",campaign_id:"",total_budget:"",daily_budget:"",start_date:"",end_date:"",kpi_targets:"",notes:""},vp={name:"",campaign_id:"",targeting:"{}",budget:"",status:"active"},Iy={ad_set_id:"",title:"",description:"",media_url:"",call_to_action:"",creative_type:"image",status:"draft"};function ave(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),r=Q=>e(`admin.adManagementPage.${Q}`),[s,i]=y.useState("campaigns"),[o,l]=y.useState(""),[c,d]=y.useState("all"),[u,m]=y.useState(!1),[h,p]=y.useState(!1),[g,f]=y.useState(!1),[x,b]=y.useState(null),[j,v]=y.useState(null),[N,w]=y.useState(My),[P,k]=y.useState(""),[_,S]=y.useState("all"),[O,A]=y.useState(!1),[E,D]=y.useState(!1),[B,z]=y.useState(null),[K,Y]=y.useState(null),[M,R]=y.useState(Ry),[J,ie]=y.useState(!1),[F,le]=y.useState(!1),[q,ve]=y.useState(!1),[ye,H]=y.useState(!1),[oe,G]=y.useState(null),[$,Z]=y.useState(null),[U,pe]=y.useState(null),[ke,se]=y.useState(null),[I,be]=y.useState(vp),[_e,Me]=y.useState(Iy),{data:He=[],isLoading:mt}=Ae({queryKey:["admin-marketing-campaigns"],queryFn:async()=>{const{data:Q,error:De}=await L.from("marketing_campaigns").select("*").order("created_at",{ascending:!1});return De?(console.error("Error fetching campaigns:",De),[]):Q||[]}}),{data:ee=[],isLoading:he}=Ae({queryKey:["admin-ad-placement-plans"],queryFn:async()=>{const{data:Q,error:De}=await L.from("ad_placement_plans").select("*").order("created_at",{ascending:!1});return De?(console.error("Error fetching plans:",De),[]):Q||[]}}),{data:T=[],isLoading:me}=Ae({queryKey:["admin-marketing-ad-sets"],queryFn:async()=>{const{data:Q,error:De}=await L.from("marketing_ad_sets").select("*, marketing_campaigns(name)").order("created_at",{ascending:!1});return De?(console.error("Error fetching ad sets:",De),[]):Q||[]}}),{data:re=[],isLoading:xe}=Ae({queryKey:["admin-marketing-ad-creatives"],queryFn:async()=>{const{data:Q,error:De}=await L.from("marketing_ad_creatives").select("*").order("created_at",{ascending:!1});return De?(console.error("Error fetching creatives:",De),[]):Q||[]}}),Ne=Ce({mutationFn:async Q=>{const{error:De}=await L.from("marketing_campaigns").insert({name:Q.name,platform:Q.platform,objective:Q.objective,status:"draft",budget_type:Q.budget_type,budget_amount:Math.round(parseFloat(Q.budget_amount)*100),spent_amount:0,start_date:Q.start_date||null,end_date:Q.end_date||null,notes:Q.notes||null});if(De)throw De},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-campaigns"]}),m(!1),w(My),t({title:r("campaignCreated")})},onError:Q=>{t({title:r("createFailed"),description:String(Q),variant:"destructive"})}}),je=Ce({mutationFn:async Q=>{const{error:De}=await L.from("marketing_campaigns").update({name:Q.name,platform:Q.platform,objective:Q.objective,budget_type:Q.budget_type,budget_amount:Math.round(parseFloat(Q.budget_amount)*100),start_date:Q.start_date||null,end_date:Q.end_date||null,notes:Q.notes||null,updated_at:new Date().toISOString()}).eq("id",Q.id);if(De)throw De},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-campaigns"]}),m(!1),v(null),w(My),t({title:r("campaignUpdated")})},onError:Q=>{t({title:r("updateFailed"),description:String(Q),variant:"destructive"})}}),Ge=Ce({mutationFn:async Q=>{const{error:De}=await L.from("marketing_campaigns").delete().eq("id",Q);if(De)throw De},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-campaigns"]}),f(!1),b(null),t({title:r("campaignDeleted")})},onError:Q=>{t({title:r("deleteFailed"),description:String(Q),variant:"destructive"})}}),pt=Ce({mutationFn:async({id:Q,status:De})=>{const{error:ma}=await L.from("marketing_campaigns").update({status:De,updated_at:new Date().toISOString()}).eq("id",Q);if(ma)throw ma},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-campaigns"]}),t({title:r("statusUpdated")})},onError:Q=>{t({title:r("updateFailed"),description:String(Q),variant:"destructive"})}}),Wa=Ce({mutationFn:async Q=>{const{error:De}=await L.from("ad_placement_plans").insert({name:Q.name,description:Q.description||null,platform:Q.platform,campaign_id:Q.campaign_id||null,total_budget:parseFloat(Q.total_budget)||0,daily_budget:parseFloat(Q.daily_budget)||0,start_date:Q.start_date||null,end_date:Q.end_date||null,kpi_targets:Q.kpi_targets||null,approval_notes:Q.notes||null,status:"draft"});if(De)throw De},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ad-placement-plans"]}),A(!1),R(Ry),z(null),t({title:r("planCreated")})},onError:Q=>{t({title:r("createFailed"),description:String(Q),variant:"destructive"})}}),ga=Ce({mutationFn:async({id:Q,d:De})=>{const{error:ma}=await L.from("ad_placement_plans").update({name:De.name,description:De.description||null,platform:De.platform,campaign_id:De.campaign_id||null,total_budget:parseFloat(De.total_budget)||0,daily_budget:parseFloat(De.daily_budget)||0,start_date:De.start_date||null,end_date:De.end_date||null,kpi_targets:De.kpi_targets||null,approval_notes:De.notes||null,updated_at:new Date().toISOString()}).eq("id",Q);if(ma)throw ma},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ad-placement-plans"]}),A(!1),R(Ry),z(null),t({title:r("planUpdated")})},onError:Q=>{t({title:r("updateFailed"),description:String(Q),variant:"destructive"})}}),Ta=Ce({mutationFn:async Q=>{const{error:De}=await L.from("ad_placement_plans").delete().eq("id",Q);if(De)throw De},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ad-placement-plans"]}),D(!1),Y(null),t({title:r("planDeleted")})},onError:Q=>{t({title:r("deleteFailed"),description:String(Q),variant:"destructive"})}}),wa=Ce({mutationFn:async Q=>{const{error:De}=await L.from("ad_placement_plans").update({status:"pending_approval",updated_at:new Date().toISOString()}).eq("id",Q);if(De)throw De},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ad-placement-plans"]}),t({title:r("submittedForApproval")})},onError:Q=>{t({title:r("submitFailed"),description:String(Q),variant:"destructive"})}}),Ha=Ce({mutationFn:async({id:Q,notes:De})=>{const{error:ma}=await L.from("ad_placement_plans").update({status:"approved",approval_notes:De||null,approved_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",Q);if(ma)throw ma},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ad-placement-plans"]}),t({title:r("planApproved")})},onError:Q=>{t({title:r("approveFailed"),description:String(Q),variant:"destructive"})}}),Fa=Ce({mutationFn:async({id:Q,notes:De})=>{const{error:ma}=await L.from("ad_placement_plans").update({status:"draft",approval_notes:De||null,updated_at:new Date().toISOString()}).eq("id",Q);if(ma)throw ma},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ad-placement-plans"]}),t({title:r("planRejected")})},onError:Q=>{t({title:r("rejectFailed"),description:String(Q),variant:"destructive"})}}),Ba=Ce({mutationFn:async Q=>{let De={};try{De=JSON.parse(Q.targeting)}catch{De={}}const{error:ma}=await L.from("marketing_ad_sets").insert({name:Q.name,campaign_id:Q.campaign_id||null,targeting:De,budget:parseFloat(Q.budget)||0,status:Q.status});if(ma)throw ma},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-ad-sets"]}),ie(!1),be(vp),G(null),t({title:r("adSetCreated")})},onError:Q=>{t({title:r("createFailed"),description:String(Q),variant:"destructive"})}}),fn=Ce({mutationFn:async({id:Q,d:De})=>{let ma={};try{ma=JSON.parse(De.targeting)}catch{ma={}}const{error:Ua}=await L.from("marketing_ad_sets").update({name:De.name,campaign_id:De.campaign_id||null,targeting:ma,budget:parseFloat(De.budget)||0,status:De.status,updated_at:new Date().toISOString()}).eq("id",Q);if(Ua)throw Ua},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-ad-sets"]}),ie(!1),be(vp),G(null),t({title:r("adSetUpdated")})},onError:Q=>{t({title:r("updateFailed"),description:String(Q),variant:"destructive"})}}),ue=Ce({mutationFn:async Q=>{const{error:De}=await L.from("marketing_ad_sets").delete().eq("id",Q);if(De)throw De},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-ad-sets"]}),le(!1),Z(null),t({title:r("adSetDeleted")})},onError:Q=>{t({title:r("deleteFailed"),description:String(Q),variant:"destructive"})}}),Ve=Ce({mutationFn:async Q=>{const{error:De}=await L.from("marketing_ad_creatives").insert({ad_set_id:Q.ad_set_id||null,title:Q.title,description:Q.description||null,media_url:Q.media_url||null,call_to_action:Q.call_to_action||null,creative_type:Q.creative_type,status:Q.status});if(De)throw De},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-ad-creatives"]}),ve(!1),Me(Iy),pe(null),t({title:r("creativeCreated")})},onError:Q=>{t({title:r("createFailed"),description:String(Q),variant:"destructive"})}}),Rt=Ce({mutationFn:async({id:Q,d:De})=>{const{error:ma}=await L.from("marketing_ad_creatives").update({ad_set_id:De.ad_set_id||null,title:De.title,description:De.description||null,media_url:De.media_url||null,call_to_action:De.call_to_action||null,creative_type:De.creative_type,status:De.status,updated_at:new Date().toISOString()}).eq("id",Q);if(ma)throw ma},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-ad-creatives"]}),ve(!1),Me(Iy),pe(null),t({title:r("creativeUpdated")})},onError:Q=>{t({title:r("updateFailed"),description:String(Q),variant:"destructive"})}}),ne=Ce({mutationFn:async Q=>{const{error:De}=await L.from("marketing_ad_creatives").delete().eq("id",Q);if(De)throw De},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-marketing-ad-creatives"]}),H(!1),se(null),t({title:r("creativeDeleted")})},onError:Q=>{t({title:r("deleteFailed"),description:String(Q),variant:"destructive"})}}),Et=()=>{s==="campaigns"?(v(null),w(My),m(!0)):s==="placements"?(z(null),R(Ry),A(!0)):(G(null),be(vp),ie(!0))},Wt=()=>{if(!N.name.trim()){t({title:r("nameRequired"),variant:"destructive"});return}if(!N.budget_amount||parseFloat(N.budget_amount)<=0){t({title:r("budgetRequired"),variant:"destructive"});return}j?je.mutate({...N,id:j.id}):Ne.mutate(N)},ho=()=>{if(!M.name.trim()){t({title:r("nameRequired"),variant:"destructive"});return}B?ga.mutate({id:B.id,d:M}):Wa.mutate(M)},Vj=()=>{if(!I.name.trim()){t({title:r("nameRequired"),variant:"destructive"});return}oe?fn.mutate({id:oe.id,d:I}):Ba.mutate(I)},Kj=()=>{if(!_e.title.trim()){t({title:r("nameRequired"),variant:"destructive"});return}U?Rt.mutate({id:U.id,d:_e}):Ve.mutate(_e)},au=Q=>{switch(Q){case"active":return{label:r("statusActive"),icon:Le,color:"text-green-500",bg:"bg-green-500/10"};case"paused":return{label:r("statusPaused"),icon:nb,color:"text-yellow-500",bg:"bg-yellow-500/10"};case"draft":return{label:r("statusDraft"),icon:mp,color:"text-blue-500",bg:"bg-blue-500/10"};case"completed":return{label:r("statusCompleted"),icon:Le,color:"text-muted-foreground",bg:"bg-muted"};default:return{label:r("statusUnknown"),icon:Ht,color:"text-muted-foreground",bg:"bg-muted"}}},Ac=Q=>{switch(Q){case"draft":return{label:r("statusDraft"),color:"text-gray-500",bg:"bg-gray-500/10",icon:Ht};case"pending_approval":return{label:r("statusPending"),color:"text-yellow-500",bg:"bg-yellow-500/10",icon:Ht};case"approved":return{label:r("statusApproved"),color:"text-green-500",bg:"bg-green-500/10",icon:Le};case"active":return{label:r("statusActive"),color:"text-blue-500",bg:"bg-blue-500/10",icon:oi};case"completed":return{label:r("statusCompleted"),color:"text-gray-500",bg:"bg-gray-500/10",icon:Le};default:return{label:Q,color:"text-muted-foreground",bg:"bg-muted",icon:Ht}}},po=Q=>{switch(Q){case"facebook":return{label:"Facebook",icon:Ki,color:"text-blue-600",bg:"bg-blue-600/10"};case"instagram":return{label:"Instagram",icon:KB,color:"text-pink-500",bg:"bg-pink-500/10"};case"both":return{label:"Facebook + Instagram",icon:Lp,color:"text-purple-500",bg:"bg-purple-500/10"};case"xiaohongshu":return{label:r("platformXiaohongshu"),icon:ei,color:"text-red-500",bg:"bg-red-500/10"};case"google":return{label:"Google",icon:ei,color:"text-green-600",bg:"bg-green-600/10"};case"tiktok":return{label:"TikTok",icon:ei,color:"text-black",bg:"bg-black/10"};default:return{label:Q,icon:ei,color:"text-muted-foreground",bg:"bg-muted"}}},V=Q=>({awareness:r("objectiveAwareness"),traffic:r("objectiveTraffic"),engagement:r("objectiveEngagement"),leads:r("objectiveLeads"),sales:r("objectiveSales"),app_promotion:r("objectiveAppPromotion")})[Q]||Q,Se=Q=>Q==="daily"?r("budgetDaily"):Q==="lifetime"?r("budgetLifetime"):Q,ze=Q=>Q?new Date(Q).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",Yt=Q=>Q?new Date(Q).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",Jr=He.filter(Q=>(o===""||Q.name.toLowerCase().includes(o.toLowerCase()))&&(c==="all"||Q.status===c)),Ai=ee.filter(Q=>(P===""||Q.name.toLowerCase().includes(P.toLowerCase()))&&(_==="all"||(_==="pending"?Q.status==="pending_approval":Q.status===_))),Tc=He.length,ap=ee.filter(Q=>Q.status==="active"||Q.status==="approved").length,nu=He.reduce((Q,De)=>Q+De.spent_amount,0),zx=He.reduce((Q,De)=>Q+De.budget_amount,0),aG=nu>0?(zx/nu).toFixed(2):"0.00";return mt||he||me||xe?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:r("title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r("subtitle")})]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[a.jsxs(C,{variant:"outline",className:"gap-2",onClick:async()=>{try{const{error:Q}=await L.functions.invoke("meta-sync-performance");if(Q)throw Q;t({title:r("syncSuccess")}),n.invalidateQueries({queryKey:["admin-marketing-campaigns"]})}catch{t({title:r("syncFailed"),variant:"destructive"})}},children:[a.jsx(La,{className:"w-4 h-4"}),r("syncPerformance")]}),a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground flex-1 sm:flex-none",onClick:Et,children:[a.jsx(zt,{className:"w-4 h-4"}),r("new")]})]})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[{icon:ei,val:Tc,label:r("totalCampaigns"),iconCls:"text-primary",bgCls:"bg-primary/10"},{icon:oi,val:ap,label:r("activePlans"),iconCls:"text-green-500",bgCls:"bg-green-500/10",valCls:"text-green-500"},{icon:Cr,val:`RM ${(nu/100).toLocaleString()}`,label:r("totalSpend"),iconCls:"text-yellow-500",bgCls:"bg-yellow-500/10",valCls:"text-yellow-500"},{icon:Fi,val:`${aG}x`,label:r("roas"),iconCls:"text-blue-500",bgCls:"bg-blue-500/10",valCls:"text-blue-500"}].map((Q,De)=>a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full ${Q.bgCls} flex items-center justify-center shrink-0`,children:a.jsx(Q.icon,{className:`w-5 h-5 sm:w-6 sm:h-6 ${Q.iconCls}`})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:`text-lg sm:text-2xl font-bold truncate ${Q.valCls||""}`,children:Q.val}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:Q.label})]})]})},De))}),a.jsx(W,{children:a.jsx(ae,{className:"p-4 sm:p-6",children:a.jsxs(ba,{value:s,onValueChange:i,children:[a.jsxs(fa,{className:"grid w-full grid-cols-3 h-auto p-1 mb-4",children:[a.jsx(Ee,{value:"campaigns",className:"text-xs sm:text-sm py-1.5 sm:py-2",children:r("tabCampaigns")}),a.jsx(Ee,{value:"placements",className:"text-xs sm:text-sm py-1.5 sm:py-2",children:r("tabPlacements")}),a.jsx(Ee,{value:"creatives",className:"text-xs sm:text-sm py-1.5 sm:py-2",children:r("tabCreatives")})]}),a.jsxs(At,{value:"campaigns",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(ei,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),r("campaignList")]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:r("searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:o,onChange:Q=>l(Q.target.value)})]})]}),a.jsxs(ba,{value:c,onValueChange:d,children:[a.jsx(fa,{className:"grid w-full grid-cols-5 h-auto p-1",children:["all","active","paused","draft","completed"].map(Q=>a.jsx(Ee,{value:Q,className:"text-xs sm:text-sm py-1.5 sm:py-2",children:Q==="all"?r("tabAll"):au(Q).label},Q))}),a.jsx(At,{value:c,className:"mt-3 sm:mt-4",children:Jr.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ei,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:r("noCampaigns")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:Jr.map(Q=>{const De=au(Q.status),ma=De.icon,Ua=po(Q.platform),nG=Ua.icon;return a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[a.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center shrink-0 ${De.bg}`,children:a.jsx(ma,{className:`w-4 h-4 sm:w-5 sm:h-5 ${De.color}`})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:Q.name}),a.jsx(te,{variant:"outline",className:"text-xs",children:De.label}),a.jsxs(te,{className:`${Ua.bg} ${Ua.color} text-xs`,children:[a.jsx(nG,{className:"w-3 h-3 mr-1"}),Ua.label]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(oi,{className:"w-3 h-3"}),V(Q.objective)]}),a.jsxs("span",{className:"shrink-0",children:[Se(Q.budget_type),": RM ",(Q.budget_amount/100).toLocaleString()]}),a.jsxs("span",{className:"shrink-0 hidden sm:inline",children:[ze(Q.start_date)," ~ ",ze(Q.end_date)]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-4 pl-12 sm:pl-0",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(Q.spent_amount/100).toLocaleString()]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r("spent")})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>{b(Q),p(!0)},children:[a.jsx(xa,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:r("details")})]}),a.jsx(C,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>{v(Q),w({name:Q.name,platform:Q.platform,objective:Q.objective,budget_type:Q.budget_type,budget_amount:(Q.budget_amount/100).toString(),start_date:Q.start_date||"",end_date:Q.end_date||"",notes:Q.notes||""}),m(!0)},children:a.jsx(mp,{className:"w-4 h-4"})}),a.jsx(C,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>{b(Q),f(!0)},children:a.jsx(Ut,{className:"w-4 h-4 text-destructive"})})]})]})]},Q.id)})})})]})]}),a.jsxs(At,{value:"placements",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(oi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),r("planList")]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:r("searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:P,onChange:Q=>k(Q.target.value)})]})]}),a.jsxs(ba,{value:_,onValueChange:S,children:[a.jsx(fa,{className:"grid w-full grid-cols-6 h-auto p-1",children:["all","draft","pending","approved","active","completed"].map(Q=>a.jsx(Ee,{value:Q,className:"text-xs sm:text-sm py-1.5 sm:py-2",children:Q==="all"?r("tabAll"):Q==="pending"?r("statusPending"):Ac(Q).label},Q))}),a.jsx(At,{value:_,className:"mt-3 sm:mt-4",children:Ai.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(oi,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:r("noPlans")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:Ai.map(Q=>{const De=Ac(Q.status),ma=De.icon;return a.jsx("div",{className:"p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 min-w-0",children:[a.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center shrink-0 ${De.bg}`,children:a.jsx(ma,{className:`w-4 h-4 sm:w-5 sm:h-5 ${De.color}`})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:Q.name}),a.jsx(te,{variant:"secondary",className:"text-xs",children:po(Q.platform).label}),a.jsx(te,{variant:"outline",className:`text-xs ${De.color}`,children:De.label})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground mt-1 flex-wrap",children:[a.jsxs("span",{children:[r("budget"),": RM ",Q.total_budget.toLocaleString()]}),a.jsxs("span",{children:[r("dailyBudgetLabel"),": RM ",Q.daily_budget.toLocaleString()]}),Q.start_date&&Q.end_date&&a.jsxs("span",{className:"shrink-0",children:[ze(Q.start_date)," ~ ",ze(Q.end_date)]})]}),Q.approval_notes&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 bg-muted px-2 py-1 rounded",children:[r("approvalNotes"),": ",Q.approval_notes]})]})]}),a.jsxs("div",{className:"flex items-center gap-1.5 pl-12 sm:pl-0 shrink-0",children:[Q.status==="draft"&&a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>wa.mutate(Q.id),disabled:wa.isPending,children:[wa.isPending?a.jsx(fe,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx(Le,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:r("submitForApproval")})]}),Q.status==="pending_approval"&&a.jsxs(a.Fragment,{children:[a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs text-green-600",onClick:()=>Ha.mutate({id:Q.id,notes:""}),disabled:Ha.isPending,children:[a.jsx(Le,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:r("approve")})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs text-red-600",onClick:()=>Fa.mutate({id:Q.id,notes:""}),disabled:Fa.isPending,children:[a.jsx(ms,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:r("reject")})]})]}),(Q.status==="draft"||Q.status==="pending_approval")&&a.jsx(C,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>{z(Q),R({name:Q.name,description:Q.description||"",platform:Q.platform,campaign_id:Q.campaign_id||"",total_budget:String(Q.total_budget),daily_budget:String(Q.daily_budget),start_date:Q.start_date||"",end_date:Q.end_date||"",kpi_targets:Q.kpi_targets||"",notes:Q.approval_notes||""}),A(!0)},children:a.jsx(mp,{className:"w-3.5 h-3.5"})}),a.jsx(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-destructive",onClick:()=>{Y(Q),D(!0)},children:a.jsx(Ut,{className:"w-3.5 h-3.5"})})]})]})},Q.id)})})})]})]}),a.jsxs(At,{value:"creatives",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Os,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),r("creativesTitle")]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>{G(null),be(vp),ie(!0)},children:[a.jsx(zt,{className:"w-4 h-4"}),r("newAdSet")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>{pe(null),Me(Iy),ve(!0)},children:[a.jsx(zt,{className:"w-4 h-4"}),r("newCreative")]})]})]}),T.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lp,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:r("noAdSets")})]}):a.jsx("div",{className:"space-y-3 sm:space-y-4",children:T.map(Q=>{var ma;const De=re.filter(Ua=>Ua.ad_set_id===Q.id);return a.jsxs("div",{className:"border rounded-lg",children:[a.jsxs("div",{className:"p-3 sm:p-4 flex flex-col sm:flex-row sm:items-center justify-between gap-2 bg-muted/30",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[a.jsx(Lp,{className:"w-4 h-4 text-primary shrink-0"}),a.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:Q.name}),((ma=Q.marketing_campaigns)==null?void 0:ma.name)&&a.jsx(te,{variant:"secondary",className:"text-xs",children:Q.marketing_campaigns.name}),a.jsx(te,{variant:"outline",className:"text-xs",children:Q.status})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs text-muted-foreground mt-1",children:[a.jsxs("span",{children:[r("budget"),": RM ",Q.budget.toLocaleString()]}),Q.targeting!=null&&typeof Q.targeting=="object"?a.jsxs("span",{className:"truncate max-w-[200px]",children:[r("targeting"),": ",String(JSON.stringify(Q.targeting)).substring(0,50),"..."]}):null]})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx(C,{variant:"outline",size:"sm",className:"h-8",onClick:()=>{G(Q),be({name:Q.name,campaign_id:Q.campaign_id||"",targeting:JSON.stringify(Q.targeting||{},null,2),budget:String(Q.budget),status:Q.status}),ie(!0)},children:a.jsx(mp,{className:"w-3.5 h-3.5"})}),a.jsx(C,{variant:"outline",size:"sm",className:"h-8 text-destructive",onClick:()=>{Z(Q),le(!0)},children:a.jsx(Ut,{className:"w-3.5 h-3.5"})})]})]}),a.jsx("div",{className:"p-3 sm:p-4 space-y-2",children:De.length===0?a.jsx("p",{className:"text-xs text-muted-foreground text-center py-3",children:r("noCreatives")}):De.map(Ua=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-2 sm:p-3 border rounded-md hover:bg-muted/30 gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Ua.creative_type==="video"?a.jsx(_te,{className:"w-4 h-4 text-purple-500 shrink-0"}):a.jsx(Os,{className:"w-4 h-4 text-blue-500 shrink-0"}),a.jsx("span",{className:"text-sm font-medium truncate",children:Ua.title}),a.jsx(te,{variant:"outline",className:"text-xs",children:Ua.creative_type}),a.jsx(te,{variant:"outline",className:"text-xs",children:Ua.status})]}),a.jsxs("div",{className:"flex gap-1 shrink-0 pl-6 sm:pl-0",children:[a.jsx(C,{variant:"ghost",size:"sm",className:"h-7",onClick:()=>{pe(Ua),Me({ad_set_id:Ua.ad_set_id||"",title:Ua.title,description:Ua.description||"",media_url:Ua.media_url||"",call_to_action:Ua.call_to_action||"",creative_type:Ua.creative_type,status:Ua.status}),ve(!0)},children:a.jsx(mp,{className:"w-3 h-3"})}),a.jsx(C,{variant:"ghost",size:"sm",className:"h-7 text-destructive",onClick:()=>{se(Ua),H(!0)},children:a.jsx(Ut,{className:"w-3 h-3"})})]})]},Ua.id))})]},Q.id)})})]})]})})})]}),a.jsx(et,{open:u,onOpenChange:m,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(ei,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),r(j?"editCampaign":"newCampaign")]}),a.jsx(ht,{className:"text-sm",children:r(j?"editCampaignDesc":"newCampaignDesc")})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[r("campaignName")," *"]}),a.jsx(ce,{value:N.name,onChange:Q=>w({...N,name:Q.target.value}),placeholder:r("campaignNamePlaceholder"),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("platform")}),a.jsxs(tt,{value:N.platform,onValueChange:Q=>w({...N,platform:Q}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"facebook",children:"Facebook"}),a.jsx(ge,{value:"instagram",children:"Instagram"}),a.jsx(ge,{value:"both",children:"Facebook + Instagram"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("objective")}),a.jsxs(tt,{value:N.objective,onValueChange:Q=>w({...N,objective:Q}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"awareness",children:r("objectiveAwareness")}),a.jsx(ge,{value:"traffic",children:r("objectiveTraffic")}),a.jsx(ge,{value:"engagement",children:r("objectiveEngagement")}),a.jsx(ge,{value:"leads",children:r("objectiveLeads")}),a.jsx(ge,{value:"sales",children:r("objectiveSales")}),a.jsx(ge,{value:"app_promotion",children:r("objectiveAppPromotion")})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("budgetType")}),a.jsxs(tt,{value:N.budget_type,onValueChange:Q=>w({...N,budget_type:Q}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"daily",children:r("budgetDaily")}),a.jsx(ge,{value:"lifetime",children:r("budgetLifetime")})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[r("budgetAmount")," (RM) *"]}),a.jsx(ce,{type:"number",step:"0.01",value:N.budget_amount,onChange:Q=>w({...N,budget_amount:Q.target.value}),placeholder:"0.00",className:"h-9 sm:h-10"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("startDate")}),a.jsx(ce,{type:"date",value:N.start_date,onChange:Q=>w({...N,start_date:Q.target.value}),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("endDate")}),a.jsx(ce,{type:"date",value:N.end_date,onChange:Q=>w({...N,end_date:Q.target.value}),className:"h-9 sm:h-10"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("notes")}),a.jsx(Pt,{value:N.notes,onChange:Q=>w({...N,notes:Q.target.value}),placeholder:r("notesPlaceholder"),className:"min-h-[80px]"})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{variant:"outline",onClick:()=>m(!1),className:"w-full sm:w-auto",children:r("cancel")}),a.jsxs(C,{onClick:Wt,disabled:Ne.isPending||je.isPending,className:"w-full sm:w-auto",children:[(Ne.isPending||je.isPending)&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r(j?"save":"create")]})]})]})}),a.jsx(et,{open:h,onOpenChange:p,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsx(Je,{children:a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(ei,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),a.jsxs("span",{className:"truncate",children:[r("campaignDetails")," - ",x==null?void 0:x.name]})]})}),x&&a.jsxs("div",{className:"space-y-4 sm:space-y-6 py-2 sm:py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:r("status")}),a.jsx(te,{className:`${au(x.status).bg} text-xs`,children:au(x.status).label})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:r("platform")}),a.jsx(te,{className:`${po(x.platform).bg} ${po(x.platform).color} text-xs`,children:po(x.platform).label})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(oi,{className:"w-3 h-3"}),r("objective")]}),a.jsx("p",{className:"font-medium text-sm",children:V(x.objective)})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(Cr,{className:"w-3 h-3"}),r("budget")]}),a.jsxs("p",{className:"font-medium text-sm",children:["RM ",(x.budget_amount/100).toLocaleString()," (",Se(x.budget_type),")"]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(La,{className:"w-3 h-3"}),r("spent")]}),a.jsxs("p",{className:"font-bold text-primary text-sm",children:["RM ",(x.spent_amount/100).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(jn,{className:"w-3 h-3"}),r("dateRange")]}),a.jsxs("p",{className:"font-medium text-sm",children:[ze(x.start_date)," ~ ",ze(x.end_date)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:r("createdAt")}),a.jsx("p",{className:"font-medium text-sm",children:Yt(x.created_at)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:r("updatedAt")}),a.jsx("p",{className:"font-medium text-sm",children:Yt(x.updated_at)})]})]}),a.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:r("budgetUsage")}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[x.budget_amount>0?Math.min(100,Math.round(x.spent_amount/x.budget_amount*100)):0,"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${x.budget_amount>0?Math.min(100,x.spent_amount/x.budget_amount*100):0}%`}})}),a.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["RM ",(x.spent_amount/100).toLocaleString()," ",r("spent")]}),a.jsxs("span",{children:["RM ",(x.budget_amount/100).toLocaleString()," ",r("budget")]})]})]}),x.notes&&a.jsxs(a.Fragment,{children:[a.jsx(Sr,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:r("notes")}),a.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg",children:x.notes})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-end pt-2 sm:pt-4",children:[x.status==="draft"&&a.jsxs(C,{onClick:()=>{pt.mutate({id:x.id,status:"active"}),b({...x,status:"active"})},disabled:pt.isPending,className:"w-full sm:w-auto",children:[pt.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),a.jsx(Le,{className:"w-4 h-4 mr-2"}),r("activate")]}),x.status==="active"&&a.jsxs(C,{variant:"outline",onClick:()=>{pt.mutate({id:x.id,status:"paused"}),b({...x,status:"paused"})},disabled:pt.isPending,className:"w-full sm:w-auto",children:[pt.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),a.jsx(nb,{className:"w-4 h-4 mr-2"}),r("pause")]}),x.status==="paused"&&a.jsxs(C,{onClick:()=>{pt.mutate({id:x.id,status:"active"}),b({...x,status:"active"})},disabled:pt.isPending,className:"w-full sm:w-auto",children:[pt.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),a.jsx(Le,{className:"w-4 h-4 mr-2"}),r("resume")]})]})]}),a.jsx(lt,{className:"mt-3 sm:mt-4",children:a.jsx(C,{variant:"outline",onClick:()=>p(!1),className:"w-full sm:w-auto",children:r("close")})})]})}),a.jsx(et,{open:g,onOpenChange:f,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-4 h-4 text-destructive"}),r("deleteCampaign")]}),a.jsx(ht,{children:r("deleteConfirm")})]}),x&&a.jsx("div",{className:"py-2 sm:py-4",children:a.jsxs("p",{className:"text-sm",children:[r("deleteWarning")," ",a.jsx("span",{className:"font-bold",children:x.name})]})}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{variant:"outline",onClick:()=>f(!1),className:"w-full sm:w-auto",children:r("cancel")}),a.jsxs(C,{variant:"destructive",onClick:()=>x&&Ge.mutate(x.id),disabled:Ge.isPending,className:"w-full sm:w-auto",children:[Ge.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r("confirmDelete")]})]})]})}),a.jsx(et,{open:O,onOpenChange:A,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(oi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),r(B?"editPlan":"createPlan")]}),a.jsx(ht,{className:"text-sm",children:r(B?"editPlanDesc":"createPlanDesc")})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[r("planName")," *"]}),a.jsx(ce,{value:M.name,onChange:Q=>R({...M,name:Q.target.value}),placeholder:r("planNamePlaceholder"),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("description")}),a.jsx(Pt,{value:M.description,onChange:Q=>R({...M,description:Q.target.value}),placeholder:r("descriptionPlaceholder"),className:"min-h-[80px]"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[r("platform")," *"]}),a.jsxs(tt,{value:M.platform,onValueChange:Q=>R({...M,platform:Q}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"facebook",children:"Facebook"}),a.jsx(ge,{value:"instagram",children:"Instagram"}),a.jsx(ge,{value:"both",children:"Facebook + Instagram"}),a.jsx(ge,{value:"xiaohongshu",children:r("platformXiaohongshu")}),a.jsx(ge,{value:"google",children:"Google"}),a.jsx(ge,{value:"tiktok",children:"TikTok"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("campaign")}),a.jsxs(tt,{value:M.campaign_id,onValueChange:Q=>R({...M,campaign_id:Q}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{placeholder:r("selectCampaign")})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"",children:r("none")}),He.map(Q=>a.jsx(ge,{value:Q.id,children:Q.name},Q.id))]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[r("totalBudget")," (RM)"]}),a.jsx(ce,{type:"number",step:"0.01",value:M.total_budget,onChange:Q=>R({...M,total_budget:Q.target.value}),placeholder:"0.00",className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[r("dailyBudget")," (RM)"]}),a.jsx(ce,{type:"number",step:"0.01",value:M.daily_budget,onChange:Q=>R({...M,daily_budget:Q.target.value}),placeholder:"0.00",className:"h-9 sm:h-10"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("startDate")}),a.jsx(ce,{type:"date",value:M.start_date,onChange:Q=>R({...M,start_date:Q.target.value}),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("endDate")}),a.jsx(ce,{type:"date",value:M.end_date,onChange:Q=>R({...M,end_date:Q.target.value}),className:"h-9 sm:h-10"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("kpiTargets")}),a.jsx(Pt,{value:M.kpi_targets,onChange:Q=>R({...M,kpi_targets:Q.target.value}),placeholder:r("kpiTargetsPlaceholder"),className:"min-h-[80px] font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("notes")}),a.jsx(Pt,{value:M.notes,onChange:Q=>R({...M,notes:Q.target.value}),placeholder:r("notesPlaceholder"),className:"min-h-[80px]"})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{variant:"outline",onClick:()=>A(!1),className:"w-full sm:w-auto",children:r("cancel")}),a.jsxs(C,{onClick:ho,disabled:Wa.isPending||ga.isPending,className:"w-full sm:w-auto",children:[(Wa.isPending||ga.isPending)&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r(B?"save":"create")]})]})]})}),a.jsx(et,{open:E,onOpenChange:D,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-4 h-4 text-destructive"}),r("deletePlan")]}),a.jsx(ht,{children:r("deleteConfirm")})]}),K&&a.jsxs("div",{className:"py-2 sm:py-4",children:[a.jsx("p",{className:"text-sm font-medium",children:K.name}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[po(K.platform).label," - RM ",K.total_budget.toLocaleString()]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{variant:"outline",onClick:()=>D(!1),className:"w-full sm:w-auto",children:r("cancel")}),a.jsxs(C,{variant:"destructive",onClick:()=>K&&Ta.mutate(K.id),disabled:Ta.isPending,className:"w-full sm:w-auto",children:[Ta.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r("confirmDelete")]})]})]})}),a.jsx(et,{open:J,onOpenChange:ie,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(Lp,{className:"w-4 h-4 text-primary"}),r(oe?"editAdSet":"newAdSet")]}),a.jsx(ht,{children:r(oe?"editAdSetDesc":"newAdSetDesc")})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[r("adSetName")," *"]}),a.jsx(ce,{value:I.name,onChange:Q=>be({...I,name:Q.target.value}),placeholder:r("adSetNamePlaceholder"),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("campaign")}),a.jsxs(tt,{value:I.campaign_id,onValueChange:Q=>be({...I,campaign_id:Q}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{placeholder:r("selectCampaign")})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"",children:r("none")}),He.map(Q=>a.jsx(ge,{value:Q.id,children:Q.name},Q.id))]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[r("budget")," (RM)"]}),a.jsx(ce,{type:"number",step:"0.01",value:I.budget,onChange:Q=>be({...I,budget:Q.target.value}),placeholder:"0.00",className:"h-9 sm:h-10"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[r("targeting")," (JSON)"]}),a.jsx(Pt,{value:I.targeting,onChange:Q=>be({...I,targeting:Q.target.value}),placeholder:'{"age_min": 18, "age_max": 65}',className:"min-h-[100px] font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("status")}),a.jsxs(tt,{value:I.status,onValueChange:Q=>be({...I,status:Q}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"active",children:r("statusActive")}),a.jsx(ge,{value:"paused",children:r("statusPaused")}),a.jsx(ge,{value:"draft",children:r("statusDraft")})]})]})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{variant:"outline",onClick:()=>ie(!1),className:"w-full sm:w-auto",children:r("cancel")}),a.jsxs(C,{onClick:Vj,disabled:Ba.isPending||fn.isPending,className:"w-full sm:w-auto",children:[(Ba.isPending||fn.isPending)&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r(oe?"save":"create")]})]})]})}),a.jsx(et,{open:F,onOpenChange:le,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-4 h-4 text-destructive"}),r("deleteAdSet")]}),a.jsx(ht,{children:r("deleteConfirm")})]}),$&&a.jsx("div",{className:"py-2 sm:py-4",children:a.jsx("p",{className:"text-sm font-medium",children:$.name})}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{variant:"outline",onClick:()=>le(!1),className:"w-full sm:w-auto",children:r("cancel")}),a.jsxs(C,{variant:"destructive",onClick:()=>$&&ue.mutate($.id),disabled:ue.isPending,className:"w-full sm:w-auto",children:[ue.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r("confirmDelete")]})]})]})}),a.jsx(et,{open:q,onOpenChange:ve,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(Os,{className:"w-4 h-4 text-primary"}),r(U?"editCreative":"newCreative")]}),a.jsx(ht,{children:r(U?"editCreativeDesc":"newCreativeDesc")})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("adSet")}),a.jsxs(tt,{value:_e.ad_set_id,onValueChange:Q=>Me({..._e,ad_set_id:Q}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{placeholder:r("selectAdSet")})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"",children:r("none")}),T.map(Q=>a.jsx(ge,{value:Q.id,children:Q.name},Q.id))]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[r("creativeTitle")," *"]}),a.jsx(ce,{value:_e.title,onChange:Q=>Me({..._e,title:Q.target.value}),placeholder:r("creativeTitlePlaceholder"),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("description")}),a.jsx(Pt,{value:_e.description,onChange:Q=>Me({..._e,description:Q.target.value}),placeholder:r("descriptionPlaceholder"),className:"min-h-[80px]"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("mediaUrl")}),a.jsx(ce,{value:_e.media_url,onChange:Q=>Me({..._e,media_url:Q.target.value}),placeholder:"https://...",className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("callToAction")}),a.jsx(ce,{value:_e.call_to_action,onChange:Q=>Me({..._e,call_to_action:Q.target.value}),placeholder:"Shop Now",className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("creativeType")}),a.jsxs(tt,{value:_e.creative_type,onValueChange:Q=>Me({..._e,creative_type:Q}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"image",children:r("typeImage")}),a.jsx(ge,{value:"video",children:r("typeVideo")}),a.jsx(ge,{value:"carousel",children:r("typeCarousel")}),a.jsx(ge,{value:"story",children:r("typeStory")})]})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:r("status")}),a.jsxs(tt,{value:_e.status,onValueChange:Q=>Me({..._e,status:Q}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"draft",children:r("statusDraft")}),a.jsx(ge,{value:"active",children:r("statusActive")}),a.jsx(ge,{value:"paused",children:r("statusPaused")})]})]})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{variant:"outline",onClick:()=>ve(!1),className:"w-full sm:w-auto",children:r("cancel")}),a.jsxs(C,{onClick:Kj,disabled:Ve.isPending||Rt.isPending,className:"w-full sm:w-auto",children:[(Ve.isPending||Rt.isPending)&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r(U?"save":"create")]})]})]})}),a.jsx(et,{open:ye,onOpenChange:H,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(Ut,{className:"w-4 h-4 text-destructive"}),r("deleteCreative")]}),a.jsx(ht,{children:r("deleteConfirm")})]}),ke&&a.jsx("div",{className:"py-2 sm:py-4",children:a.jsx("p",{className:"text-sm font-medium",children:ke.title})}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{variant:"outline",onClick:()=>H(!1),className:"w-full sm:w-auto",children:r("cancel")}),a.jsxs(C,{variant:"destructive",onClick:()=>ke&&ne.mutate(ke.id),disabled:ne.isPending,className:"w-full sm:w-auto",children:[ne.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),r("confirmDelete")]})]})]})})]})}function nve(){return a.jsx(yt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:""}),a.jsx("p",{className:"text-sm text-muted-foreground",children:""})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(Nte,{className:"w-5 h-5 text-primary"}),""]})}),a.jsx(ae,{children:a.jsx("p",{className:"text-muted-foreground",children:""})})]})]})})}const rve=["facebook","instagram","xiaohongshu","tiktok","youtube","website"],sve=["post","story","reel","video","article","live"],Ly={title:"",description:"",platform:"",content_type:"",scheduled_date:"",scheduled_time:"",assigned_to:"",content_url:"",notes:""};function ive(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState(""),[i,o]=y.useState("all"),[l,c]=y.useState("list"),[d,u]=y.useState(!1),[m,h]=y.useState(!1),[p,g]=y.useState(null),[f,x]=y.useState(null),[b,j]=y.useState(Ly),[v,N]=y.useState(()=>new Date),{data:w=[],isLoading:P}=Ae({queryKey:["admin-media-plans"],queryFn:async()=>{const{data:$,error:Z}=await L.from("media_publishing_plan").select("*").order("scheduled_date",{ascending:!0});return Z?(console.error("Error fetching media plans:",Z),[]):$||[]}}),k=Ce({mutationFn:async $=>{const{error:Z}=await L.from("media_publishing_plan").insert({title:$.title,description:$.description||null,platform:$.platform,content_type:$.content_type,status:"planned",scheduled_date:$.scheduled_date||null,scheduled_time:$.scheduled_time||null,assigned_to:$.assigned_to||null,content_url:$.content_url||null,notes:$.notes||null});if(Z)throw Z},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-media-plans"]}),u(!1),j(Ly),t({title:e("admin.mediaPlanPage.createSuccess")})},onError:$=>{t({title:e("admin.mediaPlanPage.createError"),description:String($),variant:"destructive"})}}),_=Ce({mutationFn:async({id:$,data:Z})=>{const{error:U}=await L.from("media_publishing_plan").update({title:Z.title,description:Z.description||null,platform:Z.platform,content_type:Z.content_type,scheduled_date:Z.scheduled_date||null,scheduled_time:Z.scheduled_time||null,assigned_to:Z.assigned_to||null,content_url:Z.content_url||null,notes:Z.notes||null,updated_at:new Date().toISOString()}).eq("id",$);if(U)throw U},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-media-plans"]}),u(!1),g(null),j(Ly),t({title:e("admin.mediaPlanPage.updateSuccess")})},onError:$=>{t({title:e("admin.mediaPlanPage.updateError"),description:String($),variant:"destructive"})}}),S=Ce({mutationFn:async $=>{const{error:Z}=await L.from("media_publishing_plan").delete().eq("id",$);if(Z)throw Z},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-media-plans"]}),h(!1),x(null),t({title:e("admin.mediaPlanPage.deleteSuccess")})},onError:$=>{t({title:e("admin.mediaPlanPage.deleteError"),description:String($),variant:"destructive"})}}),O=()=>{g(null),j(Ly),u(!0)},A=$=>{g($),j({title:$.title,description:$.description||"",platform:$.platform,content_type:$.content_type,scheduled_date:$.scheduled_date||"",scheduled_time:$.scheduled_time||"",assigned_to:$.assigned_to||"",content_url:$.content_url||"",notes:$.notes||""}),u(!0)},E=$=>{x($),h(!0)},D=()=>{if(!b.title||!b.platform||!b.content_type){t({title:e("admin.mediaPlanPage.validationError"),variant:"destructive"});return}p?_.mutate({id:p.id,data:b}):k.mutate(b)},B=$=>{switch($){case"facebook":return{label:"Facebook",color:"bg-blue-500/10 text-blue-600"};case"instagram":return{label:"Instagram",color:"bg-pink-500/10 text-pink-600"};case"xiaohongshu":return{label:e("admin.mediaPlanPage.platformXiaohongshu"),color:"bg-red-500/10 text-red-600"};case"tiktok":return{label:"TikTok",color:"bg-slate-800/10 text-slate-700"};case"youtube":return{label:"YouTube",color:"bg-red-600/10 text-red-700"};case"website":return{label:e("admin.mediaPlanPage.platformWebsite"),color:"bg-green-500/10 text-green-600"};default:return{label:$,color:"bg-muted text-muted-foreground"}}},z=$=>{switch($){case"post":return e("admin.mediaPlanPage.typePost");case"story":return e("admin.mediaPlanPage.typeStory");case"reel":return e("admin.mediaPlanPage.typeReel");case"video":return e("admin.mediaPlanPage.typeVideo");case"article":return e("admin.mediaPlanPage.typeArticle");case"live":return e("admin.mediaPlanPage.typeLive");default:return $}},K=$=>{switch($){case"planned":return{label:e("admin.mediaPlanPage.statusPlanned"),color:"bg-yellow-500/10 text-yellow-600"};case"in_progress":return{label:e("admin.mediaPlanPage.statusInProgress"),color:"bg-blue-500/10 text-blue-600"};case"ready":return{label:e("admin.mediaPlanPage.statusReady"),color:"bg-purple-500/10 text-purple-600"};case"published":return{label:e("admin.mediaPlanPage.statusPublished"),color:"bg-green-500/10 text-green-600"};default:return{label:$,color:"bg-muted text-muted-foreground"}}},Y=w.filter($=>{const Z=r===""||$.title.toLowerCase().includes(r.toLowerCase())||$.assigned_to&&$.assigned_to.toLowerCase().includes(r.toLowerCase()),U=i==="all"||$.status===i;return Z&&U}),M={total:w.length,planned:w.filter($=>$.status==="planned").length,in_progress:w.filter($=>$.status==="in_progress").length,published:w.filter($=>$.status==="published").length},R=$=>$?new Date($).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",J=v.getFullYear(),ie=v.getMonth(),F=new Date(J,ie+1,0).getDate(),le=new Date(J,ie,1).getDay(),q=[];for(let $=0;$<le;$++)q.push(null);for(let $=1;$<=F;$++)q.push($);const ve=$=>{const Z=`${J}-${String(ie+1).padStart(2,"0")}-${String($).padStart(2,"0")}`;return w.filter(U=>U.scheduled_date===Z)},ye=()=>{N(new Date(J,ie-1,1))},H=()=>{N(new Date(J,ie+1,1))},oe=[e("admin.mediaPlanPage.sun"),e("admin.mediaPlanPage.mon"),e("admin.mediaPlanPage.tue"),e("admin.mediaPlanPage.wed"),e("admin.mediaPlanPage.thu"),e("admin.mediaPlanPage.fri"),e("admin.mediaPlanPage.sat")],G=k.isPending||_.isPending;return P?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-media-plan-title",children:e("admin.mediaPlanPage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.mediaPlanPage.subtitle")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex border rounded-lg overflow-hidden",children:[a.jsx(C,{variant:l==="list"?"default":"ghost",size:"sm",className:"rounded-none h-9",onClick:()=>c("list"),"data-testid":"button-view-list",children:a.jsx(Dte,{className:"w-4 h-4"})}),a.jsx(C,{variant:l==="calendar"?"default":"ghost",size:"sm",className:"rounded-none h-9",onClick:()=>c("calendar"),"data-testid":"button-view-calendar",children:a.jsx(Ete,{className:"w-4 h-4"})})]}),a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground",onClick:O,"data-testid":"button-new-plan",children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.mediaPlanPage.newPlan")]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(jn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:M.total}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.mediaPlanPage.totalPlans")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:a.jsx(jn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:M.planned}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.mediaPlanPage.statusPlanned")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0",children:a.jsx(jn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-500",children:M.in_progress}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.mediaPlanPage.statusInProgress")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:a.jsx(jn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:M.published}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.mediaPlanPage.statusPublished")})]})]})})]}),l==="list"&&a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(jn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.mediaPlanPage.planList")]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.mediaPlanPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:r,onChange:$=>s($.target.value),"data-testid":"input-search"})]})]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:a.jsxs(ba,{value:i,onValueChange:o,children:[a.jsxs(fa,{className:"grid w-full grid-cols-5 h-auto p-1",children:[a.jsx(Ee,{value:"all",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-all",children:e("admin.mediaPlanPage.tabAll")}),a.jsxs(Ee,{value:"planned",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-planned",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.mediaPlanPage.statusPlanned")}),a.jsx("span",{className:"sm:hidden",children:e("admin.mediaPlanPage.statusPlannedShort")})]}),a.jsxs(Ee,{value:"in_progress",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-in-progress",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.mediaPlanPage.statusInProgress")}),a.jsx("span",{className:"sm:hidden",children:e("admin.mediaPlanPage.statusInProgressShort")})]}),a.jsx(Ee,{value:"ready",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-ready",children:e("admin.mediaPlanPage.statusReady")}),a.jsxs(Ee,{value:"published",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-published",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.mediaPlanPage.statusPublished")}),a.jsx("span",{className:"sm:hidden",children:e("admin.mediaPlanPage.statusPublishedShort")})]})]}),a.jsx(At,{value:i,className:"mt-3 sm:mt-4",children:Y.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(jn,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.mediaPlanPage.noPlans")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:Y.map($=>{const Z=B($.platform),U=K($.status);return a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3","data-testid":`plan-${$.id}`,children:[a.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[a.jsx("div",{className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full flex items-center justify-center shrink-0 ${Z.color}`,children:a.jsx(jn,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:$.title}),a.jsx(te,{className:`text-xs ${U.color}`,children:U.label})]}),a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap mt-1",children:[a.jsx(te,{variant:"outline",className:`text-xs ${Z.color}`,children:Z.label}),a.jsx(te,{variant:"secondary",className:"text-xs",children:z($.content_type)}),$.scheduled_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:[R($.scheduled_date),$.scheduled_time?` ${$.scheduled_time}`:""]})]}),$.assigned_to&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:[e("admin.mediaPlanPage.assignedTo"),": ",$.assigned_to]})]})]}),a.jsxs("div",{className:"flex items-center gap-1 pl-12 sm:pl-0 shrink-0",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>A($),"data-testid":`button-edit-${$.id}`,children:[a.jsx(_a,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.mediaPlanPage.edit")})]}),a.jsx(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-destructive hover:text-destructive",onClick:()=>E($),"data-testid":`button-delete-${$.id}`,children:a.jsx(Ut,{className:"w-4 h-4"})})]})]},$.id)})})})]})})]}),l==="calendar"&&a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(C,{variant:"outline",size:"sm",onClick:ye,"data-testid":"button-prev-month",children:""}),a.jsx(Ie,{className:"text-base sm:text-lg",children:v.toLocaleDateString("zh-CN",{year:"numeric",month:"long"})}),a.jsx(C,{variant:"outline",size:"sm",onClick:H,"data-testid":"button-next-month",children:""})]})}),a.jsxs(ae,{className:"p-2 sm:p-6 pt-0 sm:pt-0",children:[a.jsx("div",{className:"grid grid-cols-7 gap-px mb-1",children:oe.map($=>a.jsx("div",{className:"text-center text-xs sm:text-sm font-medium text-muted-foreground py-2",children:$},$))}),a.jsx("div",{className:"grid grid-cols-7 gap-px border rounded-lg overflow-hidden bg-border",children:q.map(($,Z)=>{const U=$?ve($):[],pe=new Date,ke=$===pe.getDate()&&ie===pe.getMonth()&&J===pe.getFullYear();return a.jsx("div",{className:`bg-background min-h-[60px] sm:min-h-[90px] p-1 sm:p-2 ${$?"":"bg-muted/30"}`,children:$&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`text-xs sm:text-sm font-medium mb-0.5 sm:mb-1 ${ke?"bg-primary text-primary-foreground w-5 h-5 sm:w-6 sm:h-6 rounded-full flex items-center justify-center":"text-muted-foreground"}`,children:$}),a.jsxs("div",{className:"space-y-0.5",children:[U.slice(0,3).map(se=>{const I=B(se.platform);return a.jsxs("div",{className:`text-[10px] sm:text-xs px-1 py-0.5 rounded truncate cursor-pointer ${I.color}`,title:`${se.title} (${I.label})`,onClick:()=>A(se),children:[a.jsx("span",{className:"hidden sm:inline",children:se.title}),a.jsx("span",{className:"sm:hidden",children:I.label.slice(0,2)})]},se.id)}),U.length>3&&a.jsxs("div",{className:"text-[10px] sm:text-xs text-muted-foreground pl-1",children:["+",U.length-3]})]})]})},Z)})})]})]})]}),a.jsx(et,{open:d,onOpenChange:u,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[p?a.jsx(_a,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}):a.jsx(zt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e(p?"admin.mediaPlanPage.editPlan":"admin.mediaPlanPage.newPlan")]}),a.jsx(ht,{className:"text-sm",children:e(p?"admin.mediaPlanPage.editPlanDesc":"admin.mediaPlanPage.newPlanDesc")})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[e("admin.mediaPlanPage.fieldTitle")," *"]}),a.jsx(ce,{value:b.title,onChange:$=>j({...b,title:$.target.value}),placeholder:e("admin.mediaPlanPage.fieldTitlePlaceholder"),className:"h-9 sm:h-10","data-testid":"input-plan-title"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.mediaPlanPage.fieldDescription")}),a.jsx(Pt,{value:b.description,onChange:$=>j({...b,description:$.target.value}),placeholder:e("admin.mediaPlanPage.fieldDescriptionPlaceholder"),className:"min-h-[80px]","data-testid":"input-plan-description"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[e("admin.mediaPlanPage.fieldPlatform")," *"]}),a.jsxs(tt,{value:b.platform,onValueChange:$=>j({...b,platform:$}),children:[a.jsx(Xe,{className:"h-9 sm:h-10","data-testid":"select-plan-platform",children:a.jsx(at,{placeholder:e("admin.mediaPlanPage.fieldPlatformPlaceholder")})}),a.jsx(Ze,{children:rve.map($=>a.jsx(ge,{value:$,children:B($).label},$))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-sm font-medium",children:[e("admin.mediaPlanPage.fieldContentType")," *"]}),a.jsxs(tt,{value:b.content_type,onValueChange:$=>j({...b,content_type:$}),children:[a.jsx(Xe,{className:"h-9 sm:h-10","data-testid":"select-plan-content-type",children:a.jsx(at,{placeholder:e("admin.mediaPlanPage.fieldContentTypePlaceholder")})}),a.jsx(Ze,{children:sve.map($=>a.jsx(ge,{value:$,children:z($)},$))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.mediaPlanPage.fieldScheduledDate")}),a.jsx(ce,{type:"date",value:b.scheduled_date,onChange:$=>j({...b,scheduled_date:$.target.value}),className:"h-9 sm:h-10","data-testid":"input-plan-date"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.mediaPlanPage.fieldScheduledTime")}),a.jsx(ce,{type:"time",value:b.scheduled_time,onChange:$=>j({...b,scheduled_time:$.target.value}),className:"h-9 sm:h-10","data-testid":"input-plan-time"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.mediaPlanPage.fieldAssignedTo")}),a.jsx(ce,{value:b.assigned_to,onChange:$=>j({...b,assigned_to:$.target.value}),placeholder:e("admin.mediaPlanPage.fieldAssignedToPlaceholder"),className:"h-9 sm:h-10","data-testid":"input-plan-assigned"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.mediaPlanPage.fieldContentUrl")}),a.jsx(C,{type:"button",variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>window.open("/admin/marketing/content","_blank"),children:e("admin.mediaPlanPage.selectContent")||"Select Content"})]}),a.jsx(ce,{value:b.content_url,onChange:$=>j({...b,content_url:$.target.value}),placeholder:e("admin.mediaPlanPage.fieldContentUrlPlaceholder"),className:"h-9 sm:h-10","data-testid":"input-plan-url"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.mediaPlanPage.fieldNotes")}),a.jsx(Pt,{value:b.notes,onChange:$=>j({...b,notes:$.target.value}),placeholder:e("admin.mediaPlanPage.fieldNotesPlaceholder"),className:"min-h-[80px]","data-testid":"input-plan-notes"})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:e("admin.mediaPlanPage.cancel")}),a.jsxs(C,{onClick:D,disabled:G,className:"w-full sm:w-auto","data-testid":"button-confirm-plan",children:[G&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e(p?"admin.mediaPlanPage.save":"admin.mediaPlanPage.create")]})]})]})}),a.jsx(et,{open:m,onOpenChange:h,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Ut,{className:"w-4 h-4 sm:w-5 sm:h-5 text-destructive"}),e("admin.mediaPlanPage.deleteConfirmTitle")]}),a.jsx(ht,{className:"text-sm",children:e("admin.mediaPlanPage.deleteConfirmDesc","").replace("{{title}}",(f==null?void 0:f.title)||"")})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>h(!1),className:"w-full sm:w-auto",children:e("admin.mediaPlanPage.cancel")}),a.jsxs(C,{variant:"destructive",onClick:()=>f&&S.mutate(f.id),disabled:S.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-delete",children:[S.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.mediaPlanPage.delete")]})]})]})})]})}var ove=Array.isArray,Yr=ove,lve=typeof Hx=="object"&&Hx&&Hx.Object===Object&&Hx,az=lve,cve=az,dve=typeof self=="object"&&self&&self.Object===Object&&self,uve=cve||dve||Function("return this")(),co=uve,mve=co,hve=mve.Symbol,Rx=hve,BR=Rx,nz=Object.prototype,pve=nz.hasOwnProperty,fve=nz.toString,bp=BR?BR.toStringTag:void 0;function gve(e){var t=pve.call(e,bp),n=e[bp];try{e[bp]=void 0;var r=!0}catch{}var s=fve.call(e);return r&&(t?e[bp]=n:delete e[bp]),s}var xve=gve,yve=Object.prototype,vve=yve.toString;function bve(e){return vve.call(e)}var wve=bve,UR=Rx,jve=xve,Nve=wve,kve="[object Null]",Pve="[object Undefined]",qR=UR?UR.toStringTag:void 0;function _ve(e){return e==null?e===void 0?Pve:kve:qR&&qR in Object(e)?jve(e):Nve(e)}var cl=_ve;function Sve(e){return e!=null&&typeof e=="object"}var dl=Sve,Cve=cl,Ave=dl,Tve="[object Symbol]";function Eve(e){return typeof e=="symbol"||Ave(e)&&Cve(e)==Tve}var Vh=Eve,Ove=Yr,Dve=Vh,Mve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rve=/^\w*$/;function Ive(e,t){if(Ove(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Dve(e)?!0:Rve.test(e)||!Mve.test(e)||t!=null&&e in Object(t)}var JA=Ive;function Lve(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Pc=Lve;const Kh=ia(Pc);var $ve=cl,Fve=Pc,Bve="[object AsyncFunction]",Uve="[object Function]",qve="[object GeneratorFunction]",Vve="[object Proxy]";function Kve(e){if(!Fve(e))return!1;var t=$ve(e);return t==Uve||t==qve||t==Bve||t==Vve}var QA=Kve;const St=ia(QA);var zve=co,Wve=zve["__core-js_shared__"],Hve=Wve,g1=Hve,VR=function(){var e=/[^.]+$/.exec(g1&&g1.keys&&g1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Gve(e){return!!VR&&VR in e}var Yve=Gve,Jve=Function.prototype,Qve=Jve.toString;function Xve(e){if(e!=null){try{return Qve.call(e)}catch{}try{return e+""}catch{}}return""}var rz=Xve,Zve=QA,ebe=Yve,tbe=Pc,abe=rz,nbe=/[\\^$.*+?()[\]{}|]/g,rbe=/^\[object .+?Constructor\]$/,sbe=Function.prototype,ibe=Object.prototype,obe=sbe.toString,lbe=ibe.hasOwnProperty,cbe=RegExp("^"+obe.call(lbe).replace(nbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dbe(e){if(!tbe(e)||ebe(e))return!1;var t=Zve(e)?cbe:rbe;return t.test(abe(e))}var ube=dbe;function mbe(e,t){return e==null?void 0:e[t]}var hbe=mbe,pbe=ube,fbe=hbe;function gbe(e,t){var n=fbe(e,t);return pbe(n)?n:void 0}var Xd=gbe,xbe=Xd,ybe=xbe(Object,"create"),Gw=ybe,KR=Gw;function vbe(){this.__data__=KR?KR(null):{},this.size=0}var bbe=vbe;function wbe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var jbe=wbe,Nbe=Gw,kbe="__lodash_hash_undefined__",Pbe=Object.prototype,_be=Pbe.hasOwnProperty;function Sbe(e){var t=this.__data__;if(Nbe){var n=t[e];return n===kbe?void 0:n}return _be.call(t,e)?t[e]:void 0}var Cbe=Sbe,Abe=Gw,Tbe=Object.prototype,Ebe=Tbe.hasOwnProperty;function Obe(e){var t=this.__data__;return Abe?t[e]!==void 0:Ebe.call(t,e)}var Dbe=Obe,Mbe=Gw,Rbe="__lodash_hash_undefined__";function Ibe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mbe&&t===void 0?Rbe:t,this}var Lbe=Ibe,$be=bbe,Fbe=jbe,Bbe=Cbe,Ube=Dbe,qbe=Lbe;function zh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zh.prototype.clear=$be;zh.prototype.delete=Fbe;zh.prototype.get=Bbe;zh.prototype.has=Ube;zh.prototype.set=qbe;var Vbe=zh;function Kbe(){this.__data__=[],this.size=0}var zbe=Kbe;function Wbe(e,t){return e===t||e!==e&&t!==t}var XA=Wbe,Hbe=XA;function Gbe(e,t){for(var n=e.length;n--;)if(Hbe(e[n][0],t))return n;return-1}var Yw=Gbe,Ybe=Yw,Jbe=Array.prototype,Qbe=Jbe.splice;function Xbe(e){var t=this.__data__,n=Ybe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Qbe.call(t,n,1),--this.size,!0}var Zbe=Xbe,e0e=Yw;function t0e(e){var t=this.__data__,n=e0e(t,e);return n<0?void 0:t[n][1]}var a0e=t0e,n0e=Yw;function r0e(e){return n0e(this.__data__,e)>-1}var s0e=r0e,i0e=Yw;function o0e(e,t){var n=this.__data__,r=i0e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var l0e=o0e,c0e=zbe,d0e=Zbe,u0e=a0e,m0e=s0e,h0e=l0e;function Wh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wh.prototype.clear=c0e;Wh.prototype.delete=d0e;Wh.prototype.get=u0e;Wh.prototype.has=m0e;Wh.prototype.set=h0e;var Jw=Wh,p0e=Xd,f0e=co,g0e=p0e(f0e,"Map"),ZA=g0e,zR=Vbe,x0e=Jw,y0e=ZA;function v0e(){this.size=0,this.__data__={hash:new zR,map:new(y0e||x0e),string:new zR}}var b0e=v0e;function w0e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var j0e=w0e,N0e=j0e;function k0e(e,t){var n=e.__data__;return N0e(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Qw=k0e,P0e=Qw;function _0e(e){var t=P0e(this,e).delete(e);return this.size-=t?1:0,t}var S0e=_0e,C0e=Qw;function A0e(e){return C0e(this,e).get(e)}var T0e=A0e,E0e=Qw;function O0e(e){return E0e(this,e).has(e)}var D0e=O0e,M0e=Qw;function R0e(e,t){var n=M0e(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var I0e=R0e,L0e=b0e,$0e=S0e,F0e=T0e,B0e=D0e,U0e=I0e;function Hh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hh.prototype.clear=L0e;Hh.prototype.delete=$0e;Hh.prototype.get=F0e;Hh.prototype.has=B0e;Hh.prototype.set=U0e;var eT=Hh,sz=eT,q0e="Expected a function";function tT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(q0e);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(tT.Cache||sz),n}tT.Cache=sz;var iz=tT;const V0e=ia(iz);var K0e=iz,z0e=500;function W0e(e){var t=K0e(e,function(r){return n.size===z0e&&n.clear(),r}),n=t.cache;return t}var H0e=W0e,G0e=H0e,Y0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J0e=/\\(\\)?/g,Q0e=G0e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Y0e,function(n,r,s,i){t.push(s?i.replace(J0e,"$1"):r||n)}),t}),X0e=Q0e;function Z0e(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var aT=Z0e,WR=Rx,ewe=aT,twe=Yr,awe=Vh,nwe=1/0,HR=WR?WR.prototype:void 0,GR=HR?HR.toString:void 0;function oz(e){if(typeof e=="string")return e;if(twe(e))return ewe(e,oz)+"";if(awe(e))return GR?GR.call(e):"";var t=e+"";return t=="0"&&1/e==-nwe?"-0":t}var rwe=oz,swe=rwe;function iwe(e){return e==null?"":swe(e)}var lz=iwe,owe=Yr,lwe=JA,cwe=X0e,dwe=lz;function uwe(e,t){return owe(e)?e:lwe(e,t)?[e]:cwe(dwe(e))}var cz=uwe,mwe=Vh,hwe=1/0;function pwe(e){if(typeof e=="string"||mwe(e))return e;var t=e+"";return t=="0"&&1/e==-hwe?"-0":t}var Xw=pwe,fwe=cz,gwe=Xw;function xwe(e,t){t=fwe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[gwe(t[n++])];return n&&n==r?e:void 0}var nT=xwe,ywe=nT;function vwe(e,t,n){var r=e==null?void 0:ywe(e,t);return r===void 0?n:r}var dz=vwe;const xs=ia(dz);function bwe(e){return e==null}var wwe=bwe;const Ot=ia(wwe);var jwe=cl,Nwe=Yr,kwe=dl,Pwe="[object String]";function _we(e){return typeof e=="string"||!Nwe(e)&&kwe(e)&&jwe(e)==Pwe}var Swe=_we;const Ix=ia(Swe);var uz={exports:{}},ua={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT=Symbol.for("react.element"),sT=Symbol.for("react.portal"),Zw=Symbol.for("react.fragment"),ej=Symbol.for("react.strict_mode"),tj=Symbol.for("react.profiler"),aj=Symbol.for("react.provider"),nj=Symbol.for("react.context"),Cwe=Symbol.for("react.server_context"),rj=Symbol.for("react.forward_ref"),sj=Symbol.for("react.suspense"),ij=Symbol.for("react.suspense_list"),oj=Symbol.for("react.memo"),lj=Symbol.for("react.lazy"),Awe=Symbol.for("react.offscreen"),mz;mz=Symbol.for("react.module.reference");function Ws(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rT:switch(e=e.type,e){case Zw:case tj:case ej:case sj:case ij:return e;default:switch(e=e&&e.$$typeof,e){case Cwe:case nj:case rj:case lj:case oj:case aj:return e;default:return t}}case sT:return t}}}ua.ContextConsumer=nj;ua.ContextProvider=aj;ua.Element=rT;ua.ForwardRef=rj;ua.Fragment=Zw;ua.Lazy=lj;ua.Memo=oj;ua.Portal=sT;ua.Profiler=tj;ua.StrictMode=ej;ua.Suspense=sj;ua.SuspenseList=ij;ua.isAsyncMode=function(){return!1};ua.isConcurrentMode=function(){return!1};ua.isContextConsumer=function(e){return Ws(e)===nj};ua.isContextProvider=function(e){return Ws(e)===aj};ua.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rT};ua.isForwardRef=function(e){return Ws(e)===rj};ua.isFragment=function(e){return Ws(e)===Zw};ua.isLazy=function(e){return Ws(e)===lj};ua.isMemo=function(e){return Ws(e)===oj};ua.isPortal=function(e){return Ws(e)===sT};ua.isProfiler=function(e){return Ws(e)===tj};ua.isStrictMode=function(e){return Ws(e)===ej};ua.isSuspense=function(e){return Ws(e)===sj};ua.isSuspenseList=function(e){return Ws(e)===ij};ua.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zw||e===tj||e===ej||e===sj||e===ij||e===Awe||typeof e=="object"&&e!==null&&(e.$$typeof===lj||e.$$typeof===oj||e.$$typeof===aj||e.$$typeof===nj||e.$$typeof===rj||e.$$typeof===mz||e.getModuleId!==void 0)};ua.typeOf=Ws;uz.exports=ua;var Twe=uz.exports,Ewe=cl,Owe=dl,Dwe="[object Number]";function Mwe(e){return typeof e=="number"||Owe(e)&&Ewe(e)==Dwe}var hz=Mwe;const Rwe=ia(hz);var Iwe=hz;function Lwe(e){return Iwe(e)&&e!=+e}var $we=Lwe;const Lx=ia($we);var Nr=function(t){return t===0?0:t>0?1:-1},rd=function(t){return Ix(t)&&t.indexOf("%")===t.length-1},Ue=function(t){return Rwe(t)&&!Lx(t)},Rn=function(t){return Ue(t)||Ix(t)},Fwe=0,Gh=function(t){var n=++Fwe;return"".concat(t||"").concat(n)},kr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(t)&&!Ix(t))return r;var i;if(rd(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Lx(i)&&(i=r),s&&i>n&&(i=n),i},Al=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Bwe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},s=0;s<n;s++)if(!r[t[s]])r[t[s]]=!0;else return!0;return!1},ss=function(t,n){return Ue(t)&&Ue(n)?function(r){return t+r*(n-t)}:function(){return n}};function qb(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):xs(r,t))===n})}function dm(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function f_(e){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f_(e)}var Uwe=["viewBox","children"],qwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YR=["points","pathLength"],x1={svg:Uwe,polygon:YR,polyline:YR},iT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vb=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(y.isValidElement(t)&&(r=t.props),!Kh(r))return null;var s={};return Object.keys(r).forEach(function(i){iT.includes(i)&&(s[i]=n||function(o){return r[i](r,o)})}),s},Vwe=function(t,n,r){return function(s){return t(n,r,s),null}},Ud=function(t,n,r){if(!Kh(t)||f_(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];iT.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Vwe(o,n,r))}),s},Kwe=["children"],zwe=["children"];function JR(e,t){if(e==null)return{};var n=Wwe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wwe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function g_(e){"@babel/helpers - typeof";return g_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g_(e)}var QR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},$o=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},XR=null,y1=null,oT=function e(t){if(t===XR&&Array.isArray(y1))return y1;var n=[];return y.Children.forEach(t,function(r){Ot(r)||(Twe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),y1=n,XR=t,n};function ys(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(s){return $o(s)}):r=[$o(t)],oT(e).forEach(function(s){var i=xs(s,"type.displayName")||xs(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}function as(e,t){var n=ys(e,t);return n&&n[0]}var ZR=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,s=n.height;return!(!Ue(r)||r<=0||!Ue(s)||s<=0)},Hwe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gwe=function(t){return t&&t.type&&Ix(t.type)&&Hwe.indexOf(t.type)>=0},Ywe=function(t){return t&&g_(t)==="object"&&"clipDot"in t},Jwe=function(t,n,r,s){var i,o=(i=x1==null?void 0:x1[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!St(t)&&(s&&o.includes(n)||qwe.includes(n))||r&&iT.includes(n)},gt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(y.isValidElement(t)&&(s=t.props),!Kh(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;Jwe((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=s[o])}),i},x_=function e(t,n){if(t===n)return!0;var r=y.Children.count(t);if(r!==y.Children.count(n))return!1;if(r===0)return!0;if(r===1)return e4(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var i=t[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!e4(i,o))return!1}return!0},e4=function(t,n){if(Ot(t)&&Ot(n))return!0;if(!Ot(t)&&!Ot(n)){var r=t.props||{},s=r.children,i=JR(r,Kwe),o=n.props||{},l=o.children,c=JR(o,zwe);return s&&l?dm(i,c)&&x_(s,l):!s&&!l?dm(i,c):!1}return!1},t4=function(t,n){var r=[],s={};return oT(t).forEach(function(i,o){if(Gwe(i))r.push(i);else if(i){var l=$o(i.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!s[l])){var m=d(i,l,o);r.push(m),s[l]=!0}}}),r},Qwe=function(t){var n=t&&t.type;return n&&QR[n]?QR[n]:null},Xwe=function(t,n){return oT(n).indexOf(t)},Zwe=["children","width","height","viewBox","className","style","title","desc"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y_.apply(this,arguments)}function eje(e,t){if(e==null)return{};var n=tje(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function v_(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=eje(e,Zwe),u=s||{width:n,height:r,x:0,y:0},m=Mt("recharts-surface",i);return X.createElement("svg",y_({},gt(d,!0,"svg"),{className:m,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),X.createElement("title",null,l),X.createElement("desc",null,c),t)}var aje=["children","className"];function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b_.apply(this,arguments)}function nje(e,t){if(e==null)return{};var n=rje(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ta=X.forwardRef(function(e,t){var n=e.children,r=e.className,s=nje(e,aje),i=Mt("recharts-layer",r);return X.createElement("g",b_({className:i},gt(s,!0),{ref:t}),n)}),wi=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]};function sje(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(s);++r<s;)i[r]=e[r+t];return i}var ije=sje,oje=ije;function lje(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:oje(e,t,n)}var cje=lje,dje="\\ud800-\\udfff",uje="\\u0300-\\u036f",mje="\\ufe20-\\ufe2f",hje="\\u20d0-\\u20ff",pje=uje+mje+hje,fje="\\ufe0e\\ufe0f",gje="\\u200d",xje=RegExp("["+gje+dje+pje+fje+"]");function yje(e){return xje.test(e)}var pz=yje;function vje(e){return e.split("")}var bje=vje,fz="\\ud800-\\udfff",wje="\\u0300-\\u036f",jje="\\ufe20-\\ufe2f",Nje="\\u20d0-\\u20ff",kje=wje+jje+Nje,Pje="\\ufe0e\\ufe0f",_je="["+fz+"]",w_="["+kje+"]",j_="\\ud83c[\\udffb-\\udfff]",Sje="(?:"+w_+"|"+j_+")",gz="[^"+fz+"]",xz="(?:\\ud83c[\\udde6-\\uddff]){2}",yz="[\\ud800-\\udbff][\\udc00-\\udfff]",Cje="\\u200d",vz=Sje+"?",bz="["+Pje+"]?",Aje="(?:"+Cje+"(?:"+[gz,xz,yz].join("|")+")"+bz+vz+")*",Tje=bz+vz+Aje,Eje="(?:"+[gz+w_+"?",w_,xz,yz,_je].join("|")+")",Oje=RegExp(j_+"(?="+j_+")|"+Eje+Tje,"g");function Dje(e){return e.match(Oje)||[]}var Mje=Dje,Rje=bje,Ije=pz,Lje=Mje;function $je(e){return Ije(e)?Lje(e):Rje(e)}var Fje=$je,Bje=cje,Uje=pz,qje=Fje,Vje=lz;function Kje(e){return function(t){t=Vje(t);var n=Uje(t)?qje(t):void 0,r=n?n[0]:t.charAt(0),s=n?Bje(n,1).join(""):t.slice(1);return r[e]()+s}}var zje=Kje,Wje=zje,Hje=Wje("toUpperCase"),Gje=Hje;const cj=ia(Gje);function ka(e){return function(){return e}}const wz=Math.cos,Kb=Math.sin,Ci=Math.sqrt,zb=Math.PI,dj=2*zb,N_=Math.PI,k_=2*N_,Kc=1e-6,Yje=k_-Kc;function jz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Jje(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return jz;const n=10**t;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class Qje{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?jz:Jje(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,i,o){this._append`C${+t},${+n},${+r},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,s,i){if(t=+t,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,d=s-n,u=o-t,m=l-n,h=u*u+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Kc)if(!(Math.abs(m*c-d*u)>Kc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,g=s-l,f=c*c+d*d,x=p*p+g*g,b=Math.sqrt(f),j=Math.sqrt(h),v=i*Math.tan((N_-Math.acos((f+h-x)/(2*b*j)))/2),N=v/j,w=v/b;Math.abs(N-1)>Kc&&this._append`L${t+N*u},${n+N*m}`,this._append`A${i},${i},0,0,${+(m*p>u*g)},${this._x1=t+w*c},${this._y1=n+w*d}`}}arc(t,n,r,s,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),d=t+l,u=n+c,m=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Kc||Math.abs(this._y1-u)>Kc)&&this._append`L${d},${u}`,r&&(h<0&&(h=h%k_+k_),h>Yje?this._append`A${r},${r},0,1,${m},${t-l},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=u}`:h>Kc&&this._append`A${r},${r},0,${+(h>=N_)},${m},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function lT(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Qje(t)}function cT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Nz(e){this._context=e}Nz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function uj(e){return new Nz(e)}function kz(e){return e[0]}function Pz(e){return e[1]}function _z(e,t){var n=ka(!0),r=null,s=uj,i=null,o=lT(l);e=typeof e=="function"?e:e===void 0?kz:ka(e),t=typeof t=="function"?t:t===void 0?Pz:ka(t);function l(c){var d,u=(c=cT(c)).length,m,h=!1,p;for(r==null&&(i=s(p=o())),d=0;d<=u;++d)!(d<u&&n(m=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(m,d,c),+t(m,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ka(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ka(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ka(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(i=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=i=null:i=s(r=c),l):r},l}function $y(e,t,n){var r=null,s=ka(!0),i=null,o=uj,l=null,c=lT(d);e=typeof e=="function"?e:e===void 0?kz:ka(+e),t=typeof t=="function"?t:ka(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Pz:ka(+n);function d(m){var h,p,g,f=(m=cT(m)).length,x,b=!1,j,v=new Array(f),N=new Array(f);for(i==null&&(l=o(j=c())),h=0;h<=f;++h){if(!(h<f&&s(x=m[h],h,m))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(v[g],N[g]);l.lineEnd(),l.areaEnd()}b&&(v[h]=+e(x,h,m),N[h]=+t(x,h,m),l.point(r?+r(x,h,m):v[h],n?+n(x,h,m):N[h]))}if(j)return l=null,j+""||null}function u(){return _z().defined(s).curve(o).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:ka(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:ka(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ka(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:ka(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:ka(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ka(+m),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(r).y(t)},d.defined=function(m){return arguments.length?(s=typeof m=="function"?m:ka(!!m),d):s},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class Sz{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Xje(e){return new Sz(e,!0)}function Zje(e){return new Sz(e,!1)}const dT={draw(e,t){const n=Ci(t/zb);e.moveTo(n,0),e.arc(0,0,n,0,dj)}},eNe={draw(e,t){const n=Ci(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Cz=Ci(1/3),tNe=Cz*2,aNe={draw(e,t){const n=Ci(t/tNe),r=n*Cz;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},nNe={draw(e,t){const n=Ci(t),r=-n/2;e.rect(r,r,n,n)}},rNe=.8908130915292852,Az=Kb(zb/10)/Kb(7*zb/10),sNe=Kb(dj/10)*Az,iNe=-wz(dj/10)*Az,oNe={draw(e,t){const n=Ci(t*rNe),r=sNe*n,s=iNe*n;e.moveTo(0,-n),e.lineTo(r,s);for(let i=1;i<5;++i){const o=dj*i/5,l=wz(o),c=Kb(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*s,c*r+l*s)}e.closePath()}},v1=Ci(3),lNe={draw(e,t){const n=-Ci(t/(v1*3));e.moveTo(0,n*2),e.lineTo(-v1*n,-n),e.lineTo(v1*n,-n),e.closePath()}},_s=-.5,Ss=Ci(3)/2,P_=1/Ci(12),cNe=(P_/2+1)*3,dNe={draw(e,t){const n=Ci(t/cNe),r=n/2,s=n*P_,i=r,o=n*P_+n,l=-i,c=o;e.moveTo(r,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(_s*r-Ss*s,Ss*r+_s*s),e.lineTo(_s*i-Ss*o,Ss*i+_s*o),e.lineTo(_s*l-Ss*c,Ss*l+_s*c),e.lineTo(_s*r+Ss*s,_s*s-Ss*r),e.lineTo(_s*i+Ss*o,_s*o-Ss*i),e.lineTo(_s*l+Ss*c,_s*c-Ss*l),e.closePath()}};function uNe(e,t){let n=null,r=lT(s);e=typeof e=="function"?e:ka(e||dT),t=typeof t=="function"?t:ka(t===void 0?64:+t);function s(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:ka(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:ka(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function Wb(){}function Hb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Tz(e){this._context=e}Tz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mNe(e){return new Tz(e)}function Ez(e){this._context=e}Ez.prototype={areaStart:Wb,areaEnd:Wb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hNe(e){return new Ez(e)}function Oz(e){this._context=e}Oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pNe(e){return new Oz(e)}function Dz(e){this._context=e}Dz.prototype={areaStart:Wb,areaEnd:Wb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fNe(e){return new Dz(e)}function a4(e){return e<0?-1:1}function n4(e,t,n){var r=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(r||s<0&&-0),o=(n-e._y1)/(s||r<0&&-0),l=(i*s+o*r)/(r+s);return(a4(i)+a4(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function r4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function b1(e,t,n){var r=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,s+l*t,i-l,o-l*n,i,o)}function Gb(e){this._context=e}Gb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:b1(this,this._t0,r4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,b1(this,r4(this,n=n4(this,e,t)),n);break;default:b1(this,this._t0,n=n4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Mz(e){this._context=new Rz(e)}(Mz.prototype=Object.create(Gb.prototype)).point=function(e,t){Gb.prototype.point.call(this,t,e)};function Rz(e){this._context=e}Rz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,i){this._context.bezierCurveTo(t,e,r,n,i,s)}};function gNe(e){return new Gb(e)}function xNe(e){return new Mz(e)}function Iz(e){this._context=e}Iz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=s4(e),s=s4(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function s4(e){var t,n=e.length-1,r,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(s[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function yNe(e){return new Iz(e)}function mj(e,t){this._context=e,this._t=t}mj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function vNe(e){return new mj(e,.5)}function bNe(e){return new mj(e,0)}function wNe(e){return new mj(e,1)}function Hm(e,t){if((o=e.length)>1)for(var n=1,r,s,i=e[t[0]],o,l=i.length;n<o;++n)for(s=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function __(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function jNe(e,t){return e[t]}function NNe(e){const t=[];return t.key=e,t}function kNe(){var e=ka([]),t=__,n=Hm,r=jNe;function s(i){var o=Array.from(e.apply(this,arguments),NNe),l,c=o.length,d=-1,u;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+r(m,o[l].key,d,i)]).data=m;for(l=0,u=cT(t(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ka(Array.from(i)),s):e},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:ka(+i),s):r},s.order=function(i){return arguments.length?(t=i==null?__:typeof i=="function"?i:ka(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??Hm,s):n},s}function PNe(e,t){if((r=e.length)>0){for(var n,r,s=0,i=e[0].length,o;s<i;++s){for(o=n=0;n<r;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<r;++n)e[n][s][1]/=o}Hm(e,t)}}function _Ne(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,i=r.length;n<i;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Hm(e,t)}}function SNe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,i,o;r<i;++r){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],m=u[r][1]||0,h=u[r-1][1]||0,p=(m-h)/2,g=0;g<l;++g){var f=e[t[g]],x=f[r][1]||0,b=f[r-1][1]||0;p+=x-b}c+=m,d+=p*m}s[r-1][1]+=s[r-1][0]=n,c&&(n-=d/c)}s[r-1][1]+=s[r-1][0]=n,Hm(e,t)}}function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}var CNe=["type","size","sizeType"];function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S_.apply(this,arguments)}function i4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function o4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(n),!0).forEach(function(r){ANe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ANe(e,t,n){return t=TNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TNe(e){var t=ENe(e,"string");return fg(t)=="symbol"?t:t+""}function ENe(e,t){if(fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ONe(e,t){if(e==null)return{};var n=DNe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function DNe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Lz={symbolCircle:dT,symbolCross:eNe,symbolDiamond:aNe,symbolSquare:nNe,symbolStar:oNe,symbolTriangle:lNe,symbolWye:dNe},MNe=Math.PI/180,RNe=function(t){var n="symbol".concat(cj(t));return Lz[n]||dT},INe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*MNe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},LNe=function(t,n){Lz["symbol".concat(cj(t))]=n},uT=function(t){var n=t.type,r=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=ONe(t,CNe),d=o4(o4({},c),{},{type:r,size:i,sizeType:l}),u=function(){var x=RNe(r),b=uNe().type(x).size(INe(i,l,r));return b()},m=d.className,h=d.cx,p=d.cy,g=gt(d,!0);return h===+h&&p===+p&&i===+i?X.createElement("path",S_({},g,{className:Mt("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};uT.registerSymbol=LNe;function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C_.apply(this,arguments)}function l4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function $Ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(n),!0).forEach(function(r){gg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fz(r.key),r)}}function UNe(e,t,n){return t&&BNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qNe(e,t,n){return t=Yb(t),VNe(e,$z()?Reflect.construct(t,n||[],Yb(e).constructor):t.apply(e,n))}function VNe(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KNe(e)}function KNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yb(e)}function zNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A_(e,t)}function A_(e,t){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},A_(e,t)}function gg(e,t,n){return t=Fz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fz(e){var t=WNe(e,"string");return Gm(t)=="symbol"?t:t+""}function WNe(e,t){if(Gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cs=32,mT=function(e){function t(){return FNe(this,t),qNe(this,t,arguments)}return zNe(t,e),UNe(t,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,i=Cs/2,o=Cs/6,l=Cs/3,c=r.inactive?s:r.color;if(r.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:Cs,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Cs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return X.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Cs/8,"h").concat(Cs,"v").concat(Cs*3/4,"h").concat(-Cs,"z"),className:"recharts-legend-icon"});if(X.isValidElement(r.legendIcon)){var d=$Ne({},r);return delete d.legendIcon,X.cloneElement(r.legendIcon,d)}return X.createElement(uT,{fill:c,cx:i,cy:i,size:Cs,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:Cs,height:Cs},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var f=p.formatter||c,x=Mt(gg(gg({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=St(p.value)?null:p.value;wi(!St(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=p.inactive?d:p.color;return X.createElement("li",C_({className:x,style:m,key:"legend-item-".concat(g)},Ud(r.props,p,g)),X.createElement(v_,{width:o,height:o,viewBox:u,style:h},r.renderIcon(p)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},f?f(b,p,g):b))})}},{key:"render",value:function(){var r=this.props,s=r.payload,i=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);gg(mT,"displayName","Legend");gg(mT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var HNe=Jw;function GNe(){this.__data__=new HNe,this.size=0}var YNe=GNe;function JNe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var QNe=JNe;function XNe(e){return this.__data__.get(e)}var ZNe=XNe;function e1e(e){return this.__data__.has(e)}var t1e=e1e,a1e=Jw,n1e=ZA,r1e=eT,s1e=200;function i1e(e,t){var n=this.__data__;if(n instanceof a1e){var r=n.__data__;if(!n1e||r.length<s1e-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new r1e(r)}return n.set(e,t),this.size=n.size,this}var o1e=i1e,l1e=Jw,c1e=YNe,d1e=QNe,u1e=ZNe,m1e=t1e,h1e=o1e;function Yh(e){var t=this.__data__=new l1e(e);this.size=t.size}Yh.prototype.clear=c1e;Yh.prototype.delete=d1e;Yh.prototype.get=u1e;Yh.prototype.has=m1e;Yh.prototype.set=h1e;var Bz=Yh,p1e="__lodash_hash_undefined__";function f1e(e){return this.__data__.set(e,p1e),this}var g1e=f1e;function x1e(e){return this.__data__.has(e)}var y1e=x1e,v1e=eT,b1e=g1e,w1e=y1e;function Jb(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new v1e;++t<n;)this.add(e[t])}Jb.prototype.add=Jb.prototype.push=b1e;Jb.prototype.has=w1e;var Uz=Jb;function j1e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var qz=j1e;function N1e(e,t){return e.has(t)}var Vz=N1e,k1e=Uz,P1e=qz,_1e=Vz,S1e=1,C1e=2;function A1e(e,t,n,r,s,i){var o=n&S1e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var m=-1,h=!0,p=n&C1e?new k1e:void 0;for(i.set(e,t),i.set(t,e);++m<l;){var g=e[m],f=t[m];if(r)var x=o?r(f,g,m,t,e,i):r(g,f,m,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!P1e(t,function(b,j){if(!_1e(p,j)&&(g===b||s(g,b,n,r,i)))return p.push(j)})){h=!1;break}}else if(!(g===f||s(g,f,n,r,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var Kz=A1e,T1e=co,E1e=T1e.Uint8Array,O1e=E1e;function D1e(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var M1e=D1e;function R1e(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var hT=R1e,c4=Rx,d4=O1e,I1e=XA,L1e=Kz,$1e=M1e,F1e=hT,B1e=1,U1e=2,q1e="[object Boolean]",V1e="[object Date]",K1e="[object Error]",z1e="[object Map]",W1e="[object Number]",H1e="[object RegExp]",G1e="[object Set]",Y1e="[object String]",J1e="[object Symbol]",Q1e="[object ArrayBuffer]",X1e="[object DataView]",u4=c4?c4.prototype:void 0,w1=u4?u4.valueOf:void 0;function Z1e(e,t,n,r,s,i,o){switch(n){case X1e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Q1e:return!(e.byteLength!=t.byteLength||!i(new d4(e),new d4(t)));case q1e:case V1e:case W1e:return I1e(+e,+t);case K1e:return e.name==t.name&&e.message==t.message;case H1e:case Y1e:return e==t+"";case z1e:var l=$1e;case G1e:var c=r&B1e;if(l||(l=F1e),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;r|=U1e,o.set(e,t);var u=L1e(l(e),l(t),r,s,i,o);return o.delete(e),u;case J1e:if(w1)return w1.call(e)==w1.call(t)}return!1}var eke=Z1e;function tke(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var zz=tke,ake=zz,nke=Yr;function rke(e,t,n){var r=t(e);return nke(e)?r:ake(r,n(e))}var ske=rke;function ike(e,t){for(var n=-1,r=e==null?0:e.length,s=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[s++]=o)}return i}var oke=ike;function lke(){return[]}var cke=lke,dke=oke,uke=cke,mke=Object.prototype,hke=mke.propertyIsEnumerable,m4=Object.getOwnPropertySymbols,pke=m4?function(e){return e==null?[]:(e=Object(e),dke(m4(e),function(t){return hke.call(e,t)}))}:uke,fke=pke;function gke(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var xke=gke,yke=cl,vke=dl,bke="[object Arguments]";function wke(e){return vke(e)&&yke(e)==bke}var jke=wke,h4=jke,Nke=dl,Wz=Object.prototype,kke=Wz.hasOwnProperty,Pke=Wz.propertyIsEnumerable,_ke=h4(function(){return arguments}())?h4:function(e){return Nke(e)&&kke.call(e,"callee")&&!Pke.call(e,"callee")},pT=_ke,Qb={exports:{}};function Ske(){return!1}var Cke=Ske;Qb.exports;(function(e,t){var n=co,r=Cke,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;e.exports=d})(Qb,Qb.exports);var Hz=Qb.exports,Ake=9007199254740991,Tke=/^(?:0|[1-9]\d*)$/;function Eke(e,t){var n=typeof e;return t=t??Ake,!!t&&(n=="number"||n!="symbol"&&Tke.test(e))&&e>-1&&e%1==0&&e<t}var fT=Eke,Oke=9007199254740991;function Dke(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Oke}var gT=Dke,Mke=cl,Rke=gT,Ike=dl,Lke="[object Arguments]",$ke="[object Array]",Fke="[object Boolean]",Bke="[object Date]",Uke="[object Error]",qke="[object Function]",Vke="[object Map]",Kke="[object Number]",zke="[object Object]",Wke="[object RegExp]",Hke="[object Set]",Gke="[object String]",Yke="[object WeakMap]",Jke="[object ArrayBuffer]",Qke="[object DataView]",Xke="[object Float32Array]",Zke="[object Float64Array]",ePe="[object Int8Array]",tPe="[object Int16Array]",aPe="[object Int32Array]",nPe="[object Uint8Array]",rPe="[object Uint8ClampedArray]",sPe="[object Uint16Array]",iPe="[object Uint32Array]",Da={};Da[Xke]=Da[Zke]=Da[ePe]=Da[tPe]=Da[aPe]=Da[nPe]=Da[rPe]=Da[sPe]=Da[iPe]=!0;Da[Lke]=Da[$ke]=Da[Jke]=Da[Fke]=Da[Qke]=Da[Bke]=Da[Uke]=Da[qke]=Da[Vke]=Da[Kke]=Da[zke]=Da[Wke]=Da[Hke]=Da[Gke]=Da[Yke]=!1;function oPe(e){return Ike(e)&&Rke(e.length)&&!!Da[Mke(e)]}var lPe=oPe;function cPe(e){return function(t){return e(t)}}var Gz=cPe,Xb={exports:{}};Xb.exports;(function(e,t){var n=az,r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===r,o=i&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Xb,Xb.exports);var dPe=Xb.exports,uPe=lPe,mPe=Gz,p4=dPe,f4=p4&&p4.isTypedArray,hPe=f4?mPe(f4):uPe,Yz=hPe,pPe=xke,fPe=pT,gPe=Yr,xPe=Hz,yPe=fT,vPe=Yz,bPe=Object.prototype,wPe=bPe.hasOwnProperty;function jPe(e,t){var n=gPe(e),r=!n&&fPe(e),s=!n&&!r&&xPe(e),i=!n&&!r&&!s&&vPe(e),o=n||r||s||i,l=o?pPe(e.length,String):[],c=l.length;for(var d in e)(t||wPe.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||yPe(d,c)))&&l.push(d);return l}var NPe=jPe,kPe=Object.prototype;function PPe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||kPe;return e===n}var _Pe=PPe;function SPe(e,t){return function(n){return e(t(n))}}var Jz=SPe,CPe=Jz,APe=CPe(Object.keys,Object),TPe=APe,EPe=_Pe,OPe=TPe,DPe=Object.prototype,MPe=DPe.hasOwnProperty;function RPe(e){if(!EPe(e))return OPe(e);var t=[];for(var n in Object(e))MPe.call(e,n)&&n!="constructor"&&t.push(n);return t}var IPe=RPe,LPe=QA,$Pe=gT;function FPe(e){return e!=null&&$Pe(e.length)&&!LPe(e)}var $x=FPe,BPe=NPe,UPe=IPe,qPe=$x;function VPe(e){return qPe(e)?BPe(e):UPe(e)}var hj=VPe,KPe=ske,zPe=fke,WPe=hj;function HPe(e){return KPe(e,WPe,zPe)}var GPe=HPe,g4=GPe,YPe=1,JPe=Object.prototype,QPe=JPe.hasOwnProperty;function XPe(e,t,n,r,s,i){var o=n&YPe,l=g4(e),c=l.length,d=g4(t),u=d.length;if(c!=u&&!o)return!1;for(var m=c;m--;){var h=l[m];if(!(o?h in t:QPe.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var f=!0;i.set(e,t),i.set(t,e);for(var x=o;++m<c;){h=l[m];var b=e[h],j=t[h];if(r)var v=o?r(j,b,h,t,e,i):r(b,j,h,e,t,i);if(!(v===void 0?b===j||s(b,j,n,r,i):v)){f=!1;break}x||(x=h=="constructor")}if(f&&!x){var N=e.constructor,w=t.constructor;N!=w&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof w=="function"&&w instanceof w)&&(f=!1)}return i.delete(e),i.delete(t),f}var ZPe=XPe,e_e=Xd,t_e=co,a_e=e_e(t_e,"DataView"),n_e=a_e,r_e=Xd,s_e=co,i_e=r_e(s_e,"Promise"),o_e=i_e,l_e=Xd,c_e=co,d_e=l_e(c_e,"Set"),Qz=d_e,u_e=Xd,m_e=co,h_e=u_e(m_e,"WeakMap"),p_e=h_e,T_=n_e,E_=ZA,O_=o_e,D_=Qz,M_=p_e,Xz=cl,Jh=rz,x4="[object Map]",f_e="[object Object]",y4="[object Promise]",v4="[object Set]",b4="[object WeakMap]",w4="[object DataView]",g_e=Jh(T_),x_e=Jh(E_),y_e=Jh(O_),v_e=Jh(D_),b_e=Jh(M_),zc=Xz;(T_&&zc(new T_(new ArrayBuffer(1)))!=w4||E_&&zc(new E_)!=x4||O_&&zc(O_.resolve())!=y4||D_&&zc(new D_)!=v4||M_&&zc(new M_)!=b4)&&(zc=function(e){var t=Xz(e),n=t==f_e?e.constructor:void 0,r=n?Jh(n):"";if(r)switch(r){case g_e:return w4;case x_e:return x4;case y_e:return y4;case v_e:return v4;case b_e:return b4}return t});var w_e=zc,j1=Bz,j_e=Kz,N_e=eke,k_e=ZPe,j4=w_e,N4=Yr,k4=Hz,P_e=Yz,__e=1,P4="[object Arguments]",_4="[object Array]",Fy="[object Object]",S_e=Object.prototype,S4=S_e.hasOwnProperty;function C_e(e,t,n,r,s,i){var o=N4(e),l=N4(t),c=o?_4:j4(e),d=l?_4:j4(t);c=c==P4?Fy:c,d=d==P4?Fy:d;var u=c==Fy,m=d==Fy,h=c==d;if(h&&k4(e)){if(!k4(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new j1),o||P_e(e)?j_e(e,t,n,r,s,i):N_e(e,t,c,n,r,s,i);if(!(n&__e)){var p=u&&S4.call(e,"__wrapped__"),g=m&&S4.call(t,"__wrapped__");if(p||g){var f=p?e.value():e,x=g?t.value():t;return i||(i=new j1),s(f,x,n,r,i)}}return h?(i||(i=new j1),k_e(e,t,n,r,s,i)):!1}var A_e=C_e,T_e=A_e,C4=dl;function Zz(e,t,n,r,s){return e===t?!0:e==null||t==null||!C4(e)&&!C4(t)?e!==e&&t!==t:T_e(e,t,n,r,Zz,s)}var xT=Zz,E_e=Bz,O_e=xT,D_e=1,M_e=2;function R_e(e,t,n,r){var s=n.length,i=s,o=!r;if(e==null)return!i;for(e=Object(e);s--;){var l=n[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=n[s];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var m=new E_e;if(r)var h=r(d,u,c,e,t,m);if(!(h===void 0?O_e(u,d,D_e|M_e,r,m):h))return!1}}return!0}var I_e=R_e,L_e=Pc;function $_e(e){return e===e&&!L_e(e)}var eW=$_e,F_e=eW,B_e=hj;function U_e(e){for(var t=B_e(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,F_e(s)]}return t}var q_e=U_e;function V_e(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var tW=V_e,K_e=I_e,z_e=q_e,W_e=tW;function H_e(e){var t=z_e(e);return t.length==1&&t[0][2]?W_e(t[0][0],t[0][1]):function(n){return n===e||K_e(n,e,t)}}var G_e=H_e;function Y_e(e,t){return e!=null&&t in Object(e)}var J_e=Y_e,Q_e=cz,X_e=pT,Z_e=Yr,eSe=fT,tSe=gT,aSe=Xw;function nSe(e,t,n){t=Q_e(t,e);for(var r=-1,s=t.length,i=!1;++r<s;){var o=aSe(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=s?i:(s=e==null?0:e.length,!!s&&tSe(s)&&eSe(o,s)&&(Z_e(e)||X_e(e)))}var rSe=nSe,sSe=J_e,iSe=rSe;function oSe(e,t){return e!=null&&iSe(e,t,sSe)}var lSe=oSe,cSe=xT,dSe=dz,uSe=lSe,mSe=JA,hSe=eW,pSe=tW,fSe=Xw,gSe=1,xSe=2;function ySe(e,t){return mSe(e)&&hSe(t)?pSe(fSe(e),t):function(n){var r=dSe(n,e);return r===void 0&&r===t?uSe(n,e):cSe(t,r,gSe|xSe)}}var vSe=ySe;function bSe(e){return e}var Qh=bSe;function wSe(e){return function(t){return t==null?void 0:t[e]}}var jSe=wSe,NSe=nT;function kSe(e){return function(t){return NSe(t,e)}}var PSe=kSe,_Se=jSe,SSe=PSe,CSe=JA,ASe=Xw;function TSe(e){return CSe(e)?_Se(ASe(e)):SSe(e)}var ESe=TSe,OSe=G_e,DSe=vSe,MSe=Qh,RSe=Yr,ISe=ESe;function LSe(e){return typeof e=="function"?e:e==null?MSe:typeof e=="object"?RSe(e)?DSe(e[0],e[1]):OSe(e):ISe(e)}var uo=LSe;function $Se(e,t,n,r){for(var s=e.length,i=n+(r?1:-1);r?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var aW=$Se;function FSe(e){return e!==e}var BSe=FSe;function USe(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}var qSe=USe,VSe=aW,KSe=BSe,zSe=qSe;function WSe(e,t,n){return t===t?zSe(e,t,n):VSe(e,KSe,n)}var HSe=WSe,GSe=HSe;function YSe(e,t){var n=e==null?0:e.length;return!!n&&GSe(e,t,0)>-1}var JSe=YSe;function QSe(e,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(t,e[r]))return!0;return!1}var XSe=QSe;function ZSe(){}var eCe=ZSe,N1=Qz,tCe=eCe,aCe=hT,nCe=1/0,rCe=N1&&1/aCe(new N1([,-0]))[1]==nCe?function(e){return new N1(e)}:tCe,sCe=rCe,iCe=Uz,oCe=JSe,lCe=XSe,cCe=Vz,dCe=sCe,uCe=hT,mCe=200;function hCe(e,t,n){var r=-1,s=oCe,i=e.length,o=!0,l=[],c=l;if(n)o=!1,s=lCe;else if(i>=mCe){var d=t?null:dCe(e);if(d)return uCe(d);o=!1,s=cCe,c=new iCe}else c=t?[]:l;e:for(;++r<i;){var u=e[r],m=t?t(u):u;if(u=n||u!==0?u:0,o&&m===m){for(var h=c.length;h--;)if(c[h]===m)continue e;t&&c.push(m),l.push(u)}else s(c,m,n)||(c!==l&&c.push(m),l.push(u))}return l}var pCe=hCe,fCe=uo,gCe=pCe;function xCe(e,t){return e&&e.length?gCe(e,fCe(t)):[]}var yCe=xCe;const A4=ia(yCe);function nW(e,t,n){return t===!0?A4(e,n):St(t)?A4(e,t):e}function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}var vCe=["ref"];function T4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(n),!0).forEach(function(r){pj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sW(r.key),r)}}function wCe(e,t,n){return t&&E4(e.prototype,t),n&&E4(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jCe(e,t,n){return t=Zb(t),NCe(e,rW()?Reflect.construct(t,n||[],Zb(e).constructor):t.apply(e,n))}function NCe(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kCe(e)}function kCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rW=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zb(e)}function PCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R_(e,t)}function R_(e,t){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},R_(e,t)}function pj(e,t,n){return t=sW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sW(e){var t=_Ce(e,"string");return Ym(t)=="symbol"?t:t+""}function _Ce(e,t){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SCe(e,t){if(e==null)return{};var n=CCe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ACe(e){return e.value}function TCe(e,t){if(X.isValidElement(e))return X.cloneElement(e,t);if(typeof e=="function")return X.createElement(e,t);t.ref;var n=SCe(t,vCe);return X.createElement(mT,n)}var O4=1,Fo=function(e){function t(){var n;bCe(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=jCe(this,t,[].concat(s)),pj(n,"lastBoundingBox",{width:-1,height:-1}),n}return PCe(t,e),wCe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>O4||Math.abs(s.height-this.lastBoundingBox.height)>O4)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,m,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();m={left:((d||0)-p.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return xo(xo({},m),h)}},{key:"render",value:function(){var r=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,m=xo(xo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return X.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(p){r.wrapperNode=p}},TCe(i,xo(xo({},this.props),{},{payload:nW(u,d,ACe)})))}}],[{key:"getWithHeight",value:function(r,s){var i=xo(xo({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Ue(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||s}:null}}])}(y.PureComponent);pj(Fo,"displayName","Legend");pj(Fo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var D4=Rx,ECe=pT,OCe=Yr,M4=D4?D4.isConcatSpreadable:void 0;function DCe(e){return OCe(e)||ECe(e)||!!(M4&&e&&e[M4])}var MCe=DCe,RCe=zz,ICe=MCe;function iW(e,t,n,r,s){var i=-1,o=e.length;for(n||(n=ICe),s||(s=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?iW(l,t-1,n,r,s):RCe(s,l):r||(s[s.length]=l)}return s}var oW=iW;function LCe(e){return function(t,n,r){for(var s=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++s];if(n(i[c],c,i)===!1)break}return t}}var $Ce=LCe,FCe=$Ce,BCe=FCe(),UCe=BCe,qCe=UCe,VCe=hj;function KCe(e,t){return e&&qCe(e,t,VCe)}var lW=KCe,zCe=$x;function WCe(e,t){return function(n,r){if(n==null)return n;if(!zCe(n))return e(n,r);for(var s=n.length,i=t?s:-1,o=Object(n);(t?i--:++i<s)&&r(o[i],i,o)!==!1;);return n}}var HCe=WCe,GCe=lW,YCe=HCe,JCe=YCe(GCe),yT=JCe,QCe=yT,XCe=$x;function ZCe(e,t){var n=-1,r=XCe(e)?Array(e.length):[];return QCe(e,function(s,i,o){r[++n]=t(s,i,o)}),r}var cW=ZCe;function e2e(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var t2e=e2e,R4=Vh;function a2e(e,t){if(e!==t){var n=e!==void 0,r=e===null,s=e===e,i=R4(e),o=t!==void 0,l=t===null,c=t===t,d=R4(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||r&&o&&c||!n&&c||!s)return 1;if(!r&&!i&&!d&&e<t||d&&n&&s&&!r&&!i||l&&n&&s||!o&&s||!c)return-1}return 0}var n2e=a2e,r2e=n2e;function s2e(e,t,n){for(var r=-1,s=e.criteria,i=t.criteria,o=s.length,l=n.length;++r<o;){var c=r2e(s[r],i[r]);if(c){if(r>=l)return c;var d=n[r];return c*(d=="desc"?-1:1)}}return e.index-t.index}var i2e=s2e,k1=aT,o2e=nT,l2e=uo,c2e=cW,d2e=t2e,u2e=Gz,m2e=i2e,h2e=Qh,p2e=Yr;function f2e(e,t,n){t.length?t=k1(t,function(i){return p2e(i)?function(o){return o2e(o,i.length===1?i[0]:i)}:i}):t=[h2e];var r=-1;t=k1(t,u2e(l2e));var s=c2e(e,function(i,o,l){var c=k1(t,function(d){return d(i)});return{criteria:c,index:++r,value:i}});return d2e(s,function(i,o){return m2e(i,o,n)})}var g2e=f2e;function x2e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var y2e=x2e,v2e=y2e,I4=Math.max;function b2e(e,t,n){return t=I4(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,i=I4(r.length-t,0),o=Array(i);++s<i;)o[s]=r[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=r[s];return l[t]=n(o),v2e(e,this,l)}}var w2e=b2e;function j2e(e){return function(){return e}}var N2e=j2e,k2e=Xd,P2e=function(){try{var e=k2e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),dW=P2e,_2e=N2e,L4=dW,S2e=Qh,C2e=L4?function(e,t){return L4(e,"toString",{configurable:!0,enumerable:!1,value:_2e(t),writable:!0})}:S2e,A2e=C2e,T2e=800,E2e=16,O2e=Date.now;function D2e(e){var t=0,n=0;return function(){var r=O2e(),s=E2e-(r-n);if(n=r,s>0){if(++t>=T2e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var M2e=D2e,R2e=A2e,I2e=M2e,L2e=I2e(R2e),$2e=L2e,F2e=Qh,B2e=w2e,U2e=$2e;function q2e(e,t){return U2e(B2e(e,t,F2e),e+"")}var V2e=q2e,K2e=XA,z2e=$x,W2e=fT,H2e=Pc;function G2e(e,t,n){if(!H2e(n))return!1;var r=typeof t;return(r=="number"?z2e(n)&&W2e(t,n.length):r=="string"&&t in n)?K2e(n[t],e):!1}var fj=G2e,Y2e=oW,J2e=g2e,Q2e=V2e,$4=fj,X2e=Q2e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&$4(e,t[0],t[1])?t=[]:n>2&&$4(t[0],t[1],t[2])&&(t=[t[0]]),J2e(e,Y2e(t,1),[])}),Z2e=X2e;const vT=ia(Z2e);function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I_.apply(this,arguments)}function eAe(e,t){return rAe(e)||nAe(e,t)||aAe(e,t)||tAe()}function tAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aAe(e,t){if(e){if(typeof e=="string")return F4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F4(e,t)}}function F4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nAe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function rAe(e){if(Array.isArray(e))return e}function B4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function P1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(n),!0).forEach(function(r){sAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sAe(e,t,n){return t=iAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iAe(e){var t=oAe(e,"string");return xg(t)=="symbol"?t:t+""}function oAe(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lAe(e){return Array.isArray(e)&&Rn(e[0])&&Rn(e[1])?e.join(" ~ "):e}var cAe=function(t){var n=t.separator,r=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,m=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,f=t.label,x=t.labelFormatter,b=t.accessibilityLayer,j=b===void 0?!1:b,v=function(){if(u&&u.length){var E={padding:0,margin:0},D=(h?vT(u,h):u).map(function(B,z){if(B.type==="none")return null;var K=P1({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),Y=B.formatter||m||lAe,M=B.value,R=B.name,J=M,ie=R;if(Y&&J!=null&&ie!=null){var F=Y(M,R,B,z,u);if(Array.isArray(F)){var le=eAe(F,2);J=le[0],ie=le[1]}else J=F}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:K},Rn(ie)?X.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Rn(ie)?X.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,X.createElement("span",{className:"recharts-tooltip-item-value"},J),X.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:E},D)}return null},N=P1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=P1({margin:0},d),P=!Ot(f),k=P?f:"",_=Mt("recharts-default-tooltip",p),S=Mt("recharts-tooltip-label",g);P&&x&&u!==void 0&&u!==null&&(k=x(f,u));var O=j?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",I_({className:_,style:N},O),X.createElement("p",{className:S,style:w},X.isValidElement(k)?k:"".concat(k)),v())};function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function By(e,t,n){return t=dAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dAe(e){var t=uAe(e,"string");return yg(t)=="symbol"?t:t+""}function uAe(e,t){if(yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wp="recharts-tooltip-wrapper",mAe={visibility:"hidden"};function hAe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Mt(wp,By(By(By(By({},"".concat(wp,"-right"),Ue(n)&&t&&Ue(t.x)&&n>=t.x),"".concat(wp,"-left"),Ue(n)&&t&&Ue(t.x)&&n<t.x),"".concat(wp,"-bottom"),Ue(r)&&t&&Ue(t.y)&&r>=t.y),"".concat(wp,"-top"),Ue(r)&&t&&Ue(t.y)&&r<t.y))}function U4(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Ue(i[r]))return i[r];var u=n[r]-l-s,m=n[r]+s;if(t[r])return o[r]?u:m;if(o[r]){var h=u,p=c[r];return h<p?Math.max(m,c[r]):Math.max(u,c[r])}var g=m+l,f=c[r]+d;return g>f?Math.max(u,c[r]):Math.max(m,c[r])}function pAe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function fAe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,m;return o.height>0&&o.width>0&&n?(u=U4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=U4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=pAe({translateX:u,translateY:m,useTranslate3d:l})):d=mAe,{cssProperties:d,cssClasses:hAe({translateX:u,translateY:m,coordinate:n})}}function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function q4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function V4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(n),!0).forEach(function(r){$_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mW(r.key),r)}}function yAe(e,t,n){return t&&xAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vAe(e,t,n){return t=e0(t),bAe(e,uW()?Reflect.construct(t,n||[],e0(e).constructor):t.apply(e,n))}function bAe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wAe(e)}function wAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uW=function(){return!!e})()}function e0(e){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e0(e)}function jAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},L_(e,t)}function $_(e,t,n){return t=mW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mW(e){var t=NAe(e,"string");return Jm(t)=="symbol"?t:t+""}function NAe(e,t){if(Jm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K4=1,kAe=function(e){function t(){var n;gAe(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=vAe(this,t,[].concat(s)),$_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$_(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return jAe(t,e),yAe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>K4||Math.abs(r.height-this.state.lastBoundingBox.height)>K4)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,m=s.hasPayload,h=s.isAnimationActive,p=s.offset,g=s.position,f=s.reverseDirection,x=s.useTranslate3d,b=s.viewBox,j=s.wrapperStyle,v=fAe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),N=v.cssClasses,w=v.cssProperties,P=V4(V4({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},j);return X.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(_){r.wrapperNode=_}},d)}}])}(y.PureComponent),PAe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ji={isSsr:PAe(),get:function(t){return Ji[t]},set:function(t,n){if(typeof t=="string")Ji[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(s){Ji[s]=t[s]})}}};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function W4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(n),!0).forEach(function(r){bT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SAe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pW(r.key),r)}}function CAe(e,t,n){return t&&SAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AAe(e,t,n){return t=t0(t),TAe(e,hW()?Reflect.construct(t,n||[],t0(e).constructor):t.apply(e,n))}function TAe(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EAe(e)}function EAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hW=function(){return!!e})()}function t0(e){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t0(e)}function OAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F_(e,t)}function F_(e,t){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},F_(e,t)}function bT(e,t,n){return t=pW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e){var t=DAe(e,"string");return Qm(t)=="symbol"?t:t+""}function DAe(e,t){if(Qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MAe(e){return e.dataKey}function RAe(e,t){return X.isValidElement(e)?X.cloneElement(e,t):typeof e=="function"?X.createElement(e,t):X.createElement(cAe,t)}var Ds=function(e){function t(){return _Ae(this,t),AAe(this,t,arguments)}return OAe(t,e),CAe(t,[{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,m=s.filterNull,h=s.isAnimationActive,p=s.offset,g=s.payload,f=s.payloadUniqBy,x=s.position,b=s.reverseDirection,j=s.useTranslate3d,v=s.viewBox,N=s.wrapperStyle,w=g??[];m&&w.length&&(w=nW(g.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),f,MAe));var P=w.length>0;return X.createElement(kAe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:P,offset:p,position:x,reverseDirection:b,useTranslate3d:j,viewBox:v,wrapperStyle:N},RAe(d,W4(W4({},this.props),{},{payload:w})))}}])}(y.PureComponent);bT(Ds,"displayName","Tooltip");bT(Ds,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ji.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var IAe=co,LAe=function(){return IAe.Date.now()},$Ae=LAe,FAe=/\s/;function BAe(e){for(var t=e.length;t--&&FAe.test(e.charAt(t)););return t}var UAe=BAe,qAe=UAe,VAe=/^\s+/;function KAe(e){return e&&e.slice(0,qAe(e)+1).replace(VAe,"")}var zAe=KAe,WAe=zAe,H4=Pc,HAe=Vh,G4=NaN,GAe=/^[-+]0x[0-9a-f]+$/i,YAe=/^0b[01]+$/i,JAe=/^0o[0-7]+$/i,QAe=parseInt;function XAe(e){if(typeof e=="number")return e;if(HAe(e))return G4;if(H4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=H4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=WAe(e);var n=YAe.test(e);return n||JAe.test(e)?QAe(e.slice(2),n?2:8):GAe.test(e)?G4:+e}var fW=XAe,ZAe=Pc,_1=$Ae,Y4=fW,eTe="Expected a function",tTe=Math.max,aTe=Math.min;function nTe(e,t,n){var r,s,i,o,l,c,d=0,u=!1,m=!1,h=!0;if(typeof e!="function")throw new TypeError(eTe);t=Y4(t)||0,ZAe(n)&&(u=!!n.leading,m="maxWait"in n,i=m?tTe(Y4(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h);function p(P){var k=r,_=s;return r=s=void 0,d=P,o=e.apply(_,k),o}function g(P){return d=P,l=setTimeout(b,t),u?p(P):o}function f(P){var k=P-c,_=P-d,S=t-k;return m?aTe(S,i-_):S}function x(P){var k=P-c,_=P-d;return c===void 0||k>=t||k<0||m&&_>=i}function b(){var P=_1();if(x(P))return j(P);l=setTimeout(b,f(P))}function j(P){return l=void 0,h&&r?p(P):(r=s=void 0,o)}function v(){l!==void 0&&clearTimeout(l),d=0,r=c=s=l=void 0}function N(){return l===void 0?o:j(_1())}function w(){var P=_1(),k=x(P);if(r=arguments,s=this,c=P,k){if(l===void 0)return g(c);if(m)return clearTimeout(l),l=setTimeout(b,t),p(c)}return l===void 0&&(l=setTimeout(b,t)),o}return w.cancel=v,w.flush=N,w}var rTe=nTe,sTe=rTe,iTe=Pc,oTe="Expected a function";function lTe(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(oTe);return iTe(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),sTe(e,t,{leading:r,maxWait:t,trailing:s})}var cTe=lTe;const gW=ia(cTe);function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function J4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Uy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(n),!0).forEach(function(r){dTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dTe(e,t,n){return t=uTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uTe(e){var t=mTe(e,"string");return vg(t)=="symbol"?t:t+""}function mTe(e,t){if(vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hTe(e,t){return xTe(e)||gTe(e,t)||fTe(e,t)||pTe()}function pTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fTe(e,t){if(e){if(typeof e=="string")return Q4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q4(e,t)}}function Q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function xTe(e){if(Array.isArray(e))return e}var S1=y.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,s=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,m=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,f=g===void 0?0:g,x=e.id,b=e.className,j=e.onResize,v=e.style,N=v===void 0?{}:v,w=y.useRef(null),P=y.useRef();P.current=j,y.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var k=y.useState({containerWidth:s.width,containerHeight:s.height}),_=hTe(k,2),S=_[0],O=_[1],A=y.useCallback(function(D,B){O(function(z){var K=Math.round(D),Y=Math.round(B);return z.containerWidth===K&&z.containerHeight===Y?z:{containerWidth:K,containerHeight:Y}})},[]);y.useEffect(function(){var D=function(R){var J,ie=R[0].contentRect,F=ie.width,le=ie.height;A(F,le),(J=P.current)===null||J===void 0||J.call(P,F,le)};f>0&&(D=gW(D,f,{trailing:!0,leading:!1}));var B=new ResizeObserver(D),z=w.current.getBoundingClientRect(),K=z.width,Y=z.height;return A(K,Y),B.observe(w.current),function(){B.disconnect()}},[A,f]);var E=y.useMemo(function(){var D=S.containerWidth,B=S.containerHeight;if(D<0||B<0)return null;wi(rd(o)||rd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),wi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=rd(o)?D:o,K=rd(c)?B:c;n&&n>0&&(z?K=z/n:K&&(z=K*n),h&&K>h&&(K=h)),wi(z>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,K,o,c,u,m,n);var Y=!Array.isArray(p)&&$o(p.type).endsWith("Chart");return X.Children.map(p,function(M){return X.isValidElement(M)?y.cloneElement(M,Uy({width:z,height:K},Y?{style:Uy({height:"100%",width:"100%",maxHeight:K,maxWidth:z},M.props.style)}:{})):M})},[n,p,c,h,m,u,S,o]);return X.createElement("div",{id:x?"".concat(x):void 0,className:Mt("recharts-responsive-container",b),style:Uy(Uy({},N),{},{width:o,height:c,minWidth:u,minHeight:m,maxHeight:h}),ref:w},E)}),gj=function(t){return null};gj.displayName="Cell";function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function X4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function B_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(n),!0).forEach(function(r){yTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yTe(e,t,n){return t=vTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vTe(e){var t=bTe(e,"string");return bg(t)=="symbol"?t:t+""}function bTe(e,t){if(bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gu={widthCache:{},cacheCount:0},wTe=2e3,jTe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Z4="recharts_measurement_span";function NTe(e){var t=B_({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var uf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ji.isSsr)return{width:0,height:0};var r=NTe(n),s=JSON.stringify({text:t,copyStyle:r});if(gu.widthCache[s])return gu.widthCache[s];try{var i=document.getElementById(Z4);i||(i=document.createElement("span"),i.setAttribute("id",Z4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=B_(B_({},jTe),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return gu.widthCache[s]=c,++gu.cacheCount>wTe&&(gu.cacheCount=0,gu.widthCache={}),c}catch{return{width:0,height:0}}},kTe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function a0(e,t){return CTe(e)||STe(e,t)||_Te(e,t)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Te(e,t){if(e){if(typeof e=="string")return e5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e5(e,t)}}function e5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function STe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function CTe(e){if(Array.isArray(e))return e}function ATe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ETe(r.key),r)}}function TTe(e,t,n){return t&&t5(e.prototype,t),n&&t5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ETe(e){var t=OTe(e,"string");return wg(t)=="symbol"?t:t+""}function OTe(e,t){if(wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,n5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DTe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,MTe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},RTe=Object.keys(xW),zu="NaN";function ITe(e,t){return e*xW[t]}var qy=function(){function e(t,n){ATe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!DTe.test(n)&&(this.num=NaN,this.unit=""),RTe.includes(n)&&(this.num=ITe(t,n),this.unit="px")}return TTe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=MTe.exec(n))!==null&&r!==void 0?r:[],i=a0(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function yW(e){if(e.includes(zu))return zu;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=a5.exec(t))!==null&&n!==void 0?n:[],s=a0(r,4),i=s[1],o=s[2],l=s[3],c=qy.parse(i??""),d=qy.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return zu;t=t.replace(a5,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,h=(m=n5.exec(t))!==null&&m!==void 0?m:[],p=a0(h,4),g=p[1],f=p[2],x=p[3],b=qy.parse(g??""),j=qy.parse(x??""),v=f==="+"?b.add(j):b.subtract(j);if(v.isNaN())return zu;t=t.replace(n5,v.toString())}return t}var r5=/\(([^()]*)\)/;function LTe(e){for(var t=e;t.includes("(");){var n=r5.exec(t),r=a0(n,2),s=r[1];t=t.replace(r5,yW(s))}return t}function $Te(e){var t=e.replace(/\s+/g,"");return t=LTe(t),t=yW(t),t}function FTe(e){try{return $Te(e)}catch{return zu}}function C1(e){var t=FTe(e.slice(5,-1));return t===zu?"":t}var BTe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],UTe=["dx","dy","angle","className","breakAll"];function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U_.apply(this,arguments)}function s5(e,t){if(e==null)return{};var n=qTe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function i5(e,t){return WTe(e)||zTe(e,t)||KTe(e,t)||VTe()}function VTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KTe(e,t){if(e){if(typeof e=="string")return o5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o5(e,t)}}function o5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function WTe(e){if(Array.isArray(e))return e}var vW=/[ \f\n\r\t\v\u2028\u2029]+/,bW=function(t){var n=t.children,r=t.breakAll,s=t.style;try{var i=[];Ot(n)||(r?i=n.toString().split(""):i=n.toString().split(vW));var o=i.map(function(c){return{word:c,width:uf(c,s).width}}),l=r?0:uf("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},HTe=function(t,n,r,s,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Ue(o),m=l,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(K,Y){var M=Y.word,R=Y.width,J=K[K.length-1];if(J&&(s==null||i||J.width+R+r<Number(s)))J.words.push(M),J.width+=R+r;else{var ie={words:[M],width:R};K.push(ie)}return K},[])},p=h(n),g=function(z){return z.reduce(function(K,Y){return K.width>Y.width?K:Y})};if(!u)return p;for(var f="",x=function(z){var K=m.slice(0,z),Y=bW({breakAll:d,style:c,children:K+f}).wordsWithComputedWidth,M=h(Y),R=M.length>o||g(M).width>Number(s);return[R,M]},b=0,j=m.length-1,v=0,N;b<=j&&v<=m.length-1;){var w=Math.floor((b+j)/2),P=w-1,k=x(P),_=i5(k,2),S=_[0],O=_[1],A=x(w),E=i5(A,1),D=E[0];if(!S&&!D&&(b=w+1),S&&D&&(j=w-1),!S&&D){N=O;break}v++}return N||p},l5=function(t){var n=Ot(t)?[]:t.toString().split(vW);return[{words:n}]},GTe=function(t){var n=t.width,r=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Ji.isSsr){var c,d,u=bW({breakAll:o,children:s,style:i});if(u){var m=u.wordsWithComputedWidth,h=u.spaceWidth;c=m,d=h}else return l5(s);return HTe({breakAll:o,children:s,maxLines:l,style:i},c,d,n,r)}return l5(s)},c5="#808080",qd=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,m=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,f=g===void 0?"end":g,x=t.fill,b=x===void 0?c5:x,j=s5(t,BTe),v=y.useMemo(function(){return GTe({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:m,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,m,j.style,j.width]),N=j.dx,w=j.dy,P=j.angle,k=j.className,_=j.breakAll,S=s5(j,UTe);if(!Rn(r)||!Rn(i))return null;var O=r+(Ue(N)?N:0),A=i+(Ue(w)?w:0),E;switch(f){case"start":E=C1("calc(".concat(d,")"));break;case"middle":E=C1("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:E=C1("calc(".concat(v.length-1," * -").concat(l,")"));break}var D=[];if(m){var B=v[0].width,z=j.width;D.push("scale(".concat((Ue(z)?z/B:1)/B,")"))}return P&&D.push("rotate(".concat(P,", ").concat(O,", ").concat(A,")")),D.length&&(S.transform=D.join(" ")),X.createElement("text",U_({},gt(S,!0),{x:O,y:A,className:Mt("recharts-text",k),textAnchor:p,fill:b.includes("url")?c5:b}),v.map(function(K,Y){var M=K.words.join(_?"":" ");return X.createElement("tspan",{x:O,dy:Y===0?E:l,key:"".concat(M,"-").concat(Y)},M)}))};function nc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YTe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wT(e){let t,n,r;e.length!==2?(t=nc,n=(l,c)=>nc(e(l),c),r=(l,c)=>e(l)-c):(t=e===nc||e===YTe?e:JTe,n=e,r=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;n(l[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const m=d+u>>>1;n(l[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function o(l,c,d=0,u=l.length){const m=s(l,c,d,u-1);return m>d&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:s,center:o,right:i}}function JTe(){return 0}function wW(e){return e===null?NaN:+e}function*QTe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const XTe=wT(nc),Fx=XTe.right;wT(wW).center;class d5 extends Map{constructor(t,n=tEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(u5(this,t))}has(t){return super.has(u5(this,t))}set(t,n){return super.set(ZTe(this,t),n)}delete(t){return super.delete(eEe(this,t))}}function u5({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ZTe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function eEe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function tEe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function aEe(e=nc){if(e===nc)return jW;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function jW(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const nEe=Math.sqrt(50),rEe=Math.sqrt(10),sEe=Math.sqrt(2);function n0(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=nEe?10:i>=rEe?5:i>=sEe?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=n&&n<2?n0(e,t,n*2):[l,c,d]}function q_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,i,o]=r?n0(t,e,n):n0(e,t,n);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function V_(e,t,n){return t=+t,e=+e,n=+n,n0(e,t,n)[2]}function K_(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?V_(t,e,n):V_(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function m5(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function h5(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NW(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?jW:aEe(s);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,u=Math.log(c),m=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),p=Math.max(n,Math.floor(t-d*m/c+h)),g=Math.min(r,Math.floor(t+(c-d)*m/c+h));NW(e,t,p,g,s)}const i=e[t];let o=n,l=r;for(jp(e,n,t),s(e[r],i)>0&&jp(e,n,r);o<l;){for(jp(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[n],i)===0?jp(e,n,l):(++l,jp(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function jp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function iEe(e,t,n){if(e=Float64Array.from(QTe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return h5(e);if(t>=1)return m5(e);var r,s=(r-1)*t,i=Math.floor(s),o=m5(NW(e,i).subarray(0,i+1)),l=h5(e.subarray(i+1));return o+(l-o)*(s-i)}}function oEe(e,t,n=wW){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,i=Math.floor(s),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function lEe(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++r<s;)i[r]=e+r*n;return i}function Hs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ul(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const z_=Symbol("implicit");function jT(){var e=new d5,t=[],n=[],r=z_;function s(i){let o=e.get(i);if(o===void 0){if(r!==z_)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new d5;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return jT(t,n).unknown(r)},Hs.apply(s,arguments),s}function jg(){var e=jT().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function m(){var h=t().length,p=s<r,g=p?s:r,f=p?r:s;i=(f-g)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),g+=(f-g-i*(h-c))*u,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=lEe(h).map(function(b){return g+i*b});return n(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),m()):t()},e.range=function(h){return arguments.length?([r,s]=h,r=+r,s=+s,m()):[r,s]},e.rangeRound=function(h){return[r,s]=h,r=+r,s=+s,l=!0,m()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,m()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),m()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),m()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,m()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),m()):u},e.copy=function(){return jg(t(),[r,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},Hs.apply(m(),arguments)}function kW(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kW(t())},e}function mf(){return kW(jg.apply(null,arguments).paddingInner(1))}function NT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function PW(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Bx(){}var Ng=.7,r0=1/Ng,um="\\s*([+-]?\\d+)\\s*",kg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cEe=/^#([0-9a-f]{3,8})$/,dEe=new RegExp(`^rgb\\(${um},${um},${um}\\)$`),uEe=new RegExp(`^rgb\\(${Qi},${Qi},${Qi}\\)$`),mEe=new RegExp(`^rgba\\(${um},${um},${um},${kg}\\)$`),hEe=new RegExp(`^rgba\\(${Qi},${Qi},${Qi},${kg}\\)$`),pEe=new RegExp(`^hsl\\(${kg},${Qi},${Qi}\\)$`),fEe=new RegExp(`^hsla\\(${kg},${Qi},${Qi},${kg}\\)$`),p5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NT(Bx,Pg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:f5,formatHex:f5,formatHex8:gEe,formatHsl:xEe,formatRgb:g5,toString:g5});function f5(){return this.rgb().formatHex()}function gEe(){return this.rgb().formatHex8()}function xEe(){return _W(this).formatHsl()}function g5(){return this.rgb().formatRgb()}function Pg(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cEe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?x5(t):n===3?new qr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Vy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Vy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dEe.exec(e))?new qr(t[1],t[2],t[3],1):(t=uEe.exec(e))?new qr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mEe.exec(e))?Vy(t[1],t[2],t[3],t[4]):(t=hEe.exec(e))?Vy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pEe.exec(e))?b5(t[1],t[2]/100,t[3]/100,1):(t=fEe.exec(e))?b5(t[1],t[2]/100,t[3]/100,t[4]):p5.hasOwnProperty(e)?x5(p5[e]):e==="transparent"?new qr(NaN,NaN,NaN,0):null}function x5(e){return new qr(e>>16&255,e>>8&255,e&255,1)}function Vy(e,t,n,r){return r<=0&&(e=t=n=NaN),new qr(e,t,n,r)}function yEe(e){return e instanceof Bx||(e=Pg(e)),e?(e=e.rgb(),new qr(e.r,e.g,e.b,e.opacity)):new qr}function W_(e,t,n,r){return arguments.length===1?yEe(e):new qr(e,t,n,r??1)}function qr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}NT(qr,W_,PW(Bx,{brighter(e){return e=e==null?r0:Math.pow(r0,e),new qr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ng:Math.pow(Ng,e),new qr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qr(wd(this.r),wd(this.g),wd(this.b),s0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y5,formatHex:y5,formatHex8:vEe,formatRgb:v5,toString:v5}));function y5(){return`#${sd(this.r)}${sd(this.g)}${sd(this.b)}`}function vEe(){return`#${sd(this.r)}${sd(this.g)}${sd(this.b)}${sd((isNaN(this.opacity)?1:this.opacity)*255)}`}function v5(){const e=s0(this.opacity);return`${e===1?"rgb(":"rgba("}${wd(this.r)}, ${wd(this.g)}, ${wd(this.b)}${e===1?")":`, ${e})`}`}function s0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sd(e){return e=wd(e),(e<16?"0":"")+e.toString(16)}function b5(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pi(e,t,n,r)}function _W(e){if(e instanceof pi)return new pi(e.h,e.s,e.l,e.opacity);if(e instanceof Bx||(e=Pg(e)),!e)return new pi;if(e instanceof pi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new pi(o,l,c,e.opacity)}function bEe(e,t,n,r){return arguments.length===1?_W(e):new pi(e,t,n,r??1)}function pi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}NT(pi,bEe,PW(Bx,{brighter(e){return e=e==null?r0:Math.pow(r0,e),new pi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ng:Math.pow(Ng,e),new pi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new qr(A1(e>=240?e-240:e+120,s,r),A1(e,s,r),A1(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new pi(w5(this.h),Ky(this.s),Ky(this.l),s0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=s0(this.opacity);return`${e===1?"hsl(":"hsla("}${w5(this.h)}, ${Ky(this.s)*100}%, ${Ky(this.l)*100}%${e===1?")":`, ${e})`}`}}));function w5(e){return e=(e||0)%360,e<0?e+360:e}function Ky(e){return Math.max(0,Math.min(1,e||0))}function A1(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const kT=e=>()=>e;function wEe(e,t){return function(n){return e+n*t}}function jEe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function NEe(e){return(e=+e)==1?SW:function(t,n){return n-t?jEe(t,n,e):kT(isNaN(t)?n:t)}}function SW(e,t){var n=t-e;return n?wEe(e,n):kT(isNaN(e)?t:e)}const j5=function e(t){var n=NEe(t);function r(s,i){var o=n((s=W_(s)).r,(i=W_(i)).r),l=n(s.g,i.g),c=n(s.b,i.b),d=SW(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return r.gamma=e,r}(1);function kEe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function PEe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _Ee(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Xh(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function SEe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function i0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function CEe(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Xh(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var H_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T1=new RegExp(H_.source,"g");function AEe(e){return function(){return e}}function TEe(e){return function(t){return e(t)+""}}function EEe(e,t){var n=H_.lastIndex=T1.lastIndex=0,r,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=H_.exec(e))&&(s=T1.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:i0(r,s)})),n=T1.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?TEe(c[0].x):AEe(t):(t=c.length,function(d){for(var u=0,m;u<t;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function Xh(e,t){var n=typeof t,r;return t==null||n==="boolean"?kT(t):(n==="number"?i0:n==="string"?(r=Pg(t))?(t=r,j5):EEe:t instanceof Pg?j5:t instanceof Date?SEe:PEe(t)?kEe:Array.isArray(t)?_Ee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?CEe:i0)(e,t)}function PT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function OEe(e,t){t===void 0&&(t=e,e=Xh);for(var n=0,r=t.length-1,s=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function DEe(e){return function(){return e}}function o0(e){return+e}var N5=[0,1];function Pr(e){return e}function G_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:DEe(isNaN(t)?NaN:.5)}function MEe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function REe(e,t,n){var r=e[0],s=e[1],i=t[0],o=t[1];return s<r?(r=G_(s,r),i=n(o,i)):(r=G_(r,s),i=n(i,o)),function(l){return i(r(l))}}function IEe(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=G_(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=Fx(e,l,1,r)-1;return i[c](s[c](l))}}function Ux(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xj(){var e=N5,t=N5,n=Xh,r,s,i,o=Pr,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==Pr&&(o=MEe(e[0],e[h-1])),l=h>2?IEe:REe,c=d=null,m}function m(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(r),t,n)))(r(o(h)))}return m.invert=function(h){return o(s((d||(d=l(t,e.map(r),i0)))(h)))},m.domain=function(h){return arguments.length?(e=Array.from(h,o0),u()):e.slice()},m.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},m.rangeRound=function(h){return t=Array.from(h),n=PT,u()},m.clamp=function(h){return arguments.length?(o=h?!0:Pr,u()):o!==Pr},m.interpolate=function(h){return arguments.length?(n=h,u()):n},m.unknown=function(h){return arguments.length?(i=h,m):i},function(h,p){return r=h,s=p,u()}}function _T(){return xj()(Pr,Pr)}function LEe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function l0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Xm(e){return e=l0(Math.abs(e)),e?e[1]:NaN}function $Ee(e,t){return function(n,r){for(var s=n.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function FEe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var BEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _g(e){if(!(t=BEe.exec(e)))throw new Error("invalid format: "+e);var t;return new ST({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_g.prototype=ST.prototype;function ST(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ST.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function UEe(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var CW;function qEe(e,t){var n=l0(e,t);if(!n)return e+"";var r=n[0],s=n[1],i=s-(CW=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+l0(e,Math.max(0,t+i-1))[0]}function k5(e,t){var n=l0(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const P5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:LEe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>k5(e*100,t),r:k5,s:qEe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _5(e){return e}var S5=Array.prototype.map,C5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function VEe(e){var t=e.grouping===void 0||e.thousands===void 0?_5:$Ee(S5.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?_5:FEe(S5.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=_g(m);var h=m.fill,p=m.align,g=m.sign,f=m.symbol,x=m.zero,b=m.width,j=m.comma,v=m.precision,N=m.trim,w=m.type;w==="n"?(j=!0,w="g"):P5[w]||(v===void 0&&(v=12),N=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var P=f==="$"?n:f==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k=f==="$"?r:/[%p]/.test(w)?o:"",_=P5[w],S=/[defgprs%]/.test(w);v=v===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function O(A){var E=P,D=k,B,z,K;if(w==="c")D=_(A)+D,A="";else{A=+A;var Y=A<0||1/A<0;if(A=isNaN(A)?c:_(Math.abs(A),v),N&&(A=UEe(A)),Y&&+A==0&&g!=="+"&&(Y=!1),E=(Y?g==="("?g:l:g==="-"||g==="("?"":g)+E,D=(w==="s"?C5[8+CW/3]:"")+D+(Y&&g==="("?")":""),S){for(B=-1,z=A.length;++B<z;)if(K=A.charCodeAt(B),48>K||K>57){D=(K===46?s+A.slice(B+1):A.slice(B))+D,A=A.slice(0,B);break}}}j&&!x&&(A=t(A,1/0));var M=E.length+A.length+D.length,R=M<b?new Array(b-M+1).join(h):"";switch(j&&x&&(A=t(R+A,R.length?b-D.length:1/0),R=""),p){case"<":A=E+A+D+R;break;case"=":A=E+R+A+D;break;case"^":A=R.slice(0,M=R.length>>1)+E+A+D+R.slice(M);break;default:A=R+E+A+D;break}return i(A)}return O.toString=function(){return m+""},O}function u(m,h){var p=d((m=_g(m),m.type="f",m)),g=Math.max(-8,Math.min(8,Math.floor(Xm(h)/3)))*3,f=Math.pow(10,-g),x=C5[8+g/3];return function(b){return p(f*b)+x}}return{format:d,formatPrefix:u}}var zy,CT,AW;KEe({thousands:",",grouping:[3],currency:["$",""]});function KEe(e){return zy=VEe(e),CT=zy.format,AW=zy.formatPrefix,zy}function zEe(e){return Math.max(0,-Xm(Math.abs(e)))}function WEe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xm(t)/3)))*3-Xm(Math.abs(e)))}function HEe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xm(t)-Xm(e))+1}function TW(e,t,n,r){var s=K_(e,t,n),i;switch(r=_g(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=WEe(s,o))&&(r.precision=i),AW(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=HEe(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=zEe(s))&&(r.precision=i-(r.type==="%")*2);break}}return CT(r)}function _c(e){var t=e.domain;return e.ticks=function(n){var r=t();return q_(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return TW(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,i=r.length-1,o=r[s],l=r[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=V_(o,l,n),d===c)return r[s]=o,r[i]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function c0(){var e=_T();return e.copy=function(){return Ux(e,c0())},Hs.apply(e,arguments),_c(e)}function EW(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,o0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return EW(e).unknown(t)},e=arguments.length?Array.from(e,o0):[0,1],_c(n)}function OW(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],i=e[r],o;return i<s&&(o=n,n=r,r=o,o=s,s=i,i=o),e[n]=t.floor(s),e[r]=t.ceil(i),e}function A5(e){return Math.log(e)}function T5(e){return Math.exp(e)}function GEe(e){return-Math.log(-e)}function YEe(e){return-Math.exp(-e)}function JEe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function QEe(e){return e===10?JEe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XEe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function E5(e){return(t,n)=>-e(-t,n)}function AT(e){const t=e(A5,T5),n=t.domain;let r=10,s,i;function o(){return s=XEe(r),i=QEe(r),n()[0]<0?(s=E5(s),i=E5(i),e(GEe,YEe)):e(A5,T5),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let h=s(d),p=s(u),g,f;const x=l==null?10:+l;let b=[];if(!(r%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),d>0){for(;h<=p;++h)for(g=1;g<r;++g)if(f=h<0?g/i(-h):g*i(h),!(f<d)){if(f>u)break;b.push(f)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(f=h>0?g/i(-h):g*i(h),!(f<d)){if(f>u)break;b.push(f)}b.length*2<x&&(b=q_(d,u,x))}else b=q_(h,p,Math.min(p-h,x)).map(i);return m?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=_g(c)).precision==null&&(c.trim=!0),c=CT(c)),l===1/0)return c;const d=Math.max(1,r*l/t.ticks().length);return u=>{let m=u/i(Math.round(s(u)));return m*r<r-.5&&(m*=r),m<=d?c(u):""}},t.nice=()=>n(OW(n(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function DW(){const e=AT(xj()).domain([1,10]);return e.copy=()=>Ux(e,DW()).base(e.base()),Hs.apply(e,arguments),e}function O5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function D5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function TT(e){var t=1,n=e(O5(t),D5(t));return n.constant=function(r){return arguments.length?e(O5(t=+r),D5(t)):t},_c(n)}function MW(){var e=TT(xj());return e.copy=function(){return Ux(e,MW()).constant(e.constant())},Hs.apply(e,arguments)}function M5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ZEe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function eOe(e){return e<0?-e*e:e*e}function ET(e){var t=e(Pr,Pr),n=1;function r(){return n===1?e(Pr,Pr):n===.5?e(ZEe,eOe):e(M5(n),M5(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},_c(t)}function OT(){var e=ET(xj());return e.copy=function(){return Ux(e,OT()).exponent(e.exponent())},Hs.apply(e,arguments),e}function tOe(){return OT.apply(null,arguments).exponent(.5)}function R5(e){return Math.sign(e)*e*e}function aOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function RW(){var e=_T(),t=[0,1],n=!1,r;function s(i){var o=aOe(e(i));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(i){return e.invert(R5(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,o0)).map(R5)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return RW(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Hs.apply(s,arguments),_c(s)}function IW(){var e=[],t=[],n=[],r;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=oEe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Fx(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(nc),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return IW().domain(e).range(t).unknown(r)},Hs.apply(i,arguments)}function LW(){var e=0,t=1,n=1,r=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Fx(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return LW().domain([e,t]).range(s).unknown(i)},Hs.apply(_c(o),arguments)}function $W(){var e=[.5],t=[0,1],n,r=1;function s(i){return i!=null&&i<=i?t[Fx(e,i,0,r)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return $W().domain(e).range(t).unknown(n)},Hs.apply(s,arguments)}const E1=new Date,O1=new Date;function Ln(e,t,n,r){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},s.filter=i=>Ln(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(s.count=(i,o)=>(E1.setTime(+i),O1.setTime(+o),e(E1),e(O1),Math.floor(n(E1,O1))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?o=>r(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const d0=Ln(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);d0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ln(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):d0);d0.range;const Co=1e3,Fs=Co*60,Ao=Fs*60,el=Ao*24,DT=el*7,I5=el*30,D1=el*365,id=Ln(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getUTCSeconds());id.range;const MT=Ln(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Co)},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getMinutes());MT.range;const RT=Ln(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getUTCMinutes());RT.range;const IT=Ln(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Co-e.getMinutes()*Fs)},(e,t)=>{e.setTime(+e+t*Ao)},(e,t)=>(t-e)/Ao,e=>e.getHours());IT.range;const LT=Ln(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ao)},(e,t)=>(t-e)/Ao,e=>e.getUTCHours());LT.range;const qx=Ln(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fs)/el,e=>e.getDate()-1);qx.range;const yj=Ln(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/el,e=>e.getUTCDate()-1);yj.range;const FW=Ln(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/el,e=>Math.floor(e/el));FW.range;function Zd(e){return Ln(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Fs)/DT)}const vj=Zd(0),u0=Zd(1),nOe=Zd(2),rOe=Zd(3),Zm=Zd(4),sOe=Zd(5),iOe=Zd(6);vj.range;u0.range;nOe.range;rOe.range;Zm.range;sOe.range;iOe.range;function eu(e){return Ln(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/DT)}const bj=eu(0),m0=eu(1),oOe=eu(2),lOe=eu(3),eh=eu(4),cOe=eu(5),dOe=eu(6);bj.range;m0.range;oOe.range;lOe.range;eh.range;cOe.range;dOe.range;const $T=Ln(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$T.range;const FT=Ln(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());FT.range;const tl=Ln(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());tl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ln(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});tl.range;const al=Ln(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());al.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ln(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});al.range;function BW(e,t,n,r,s,i){const o=[[id,1,Co],[id,5,5*Co],[id,15,15*Co],[id,30,30*Co],[i,1,Fs],[i,5,5*Fs],[i,15,15*Fs],[i,30,30*Fs],[s,1,Ao],[s,3,3*Ao],[s,6,6*Ao],[s,12,12*Ao],[r,1,el],[r,2,2*el],[n,1,DT],[t,1,I5],[t,3,3*I5],[e,1,D1]];function l(d,u,m){const h=u<d;h&&([d,u]=[u,d]);const p=m&&typeof m.range=="function"?m:c(d,u,m),g=p?p.range(d,+u+1):[];return h?g.reverse():g}function c(d,u,m){const h=Math.abs(u-d)/m,p=wT(([,,x])=>x).right(o,h);if(p===o.length)return e.every(K_(d/D1,u/D1,m));if(p===0)return d0.every(Math.max(K_(d,u,m),1));const[g,f]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(f)}return[l,c]}const[uOe,mOe]=BW(al,FT,bj,FW,LT,RT),[hOe,pOe]=BW(tl,$T,vj,qx,IT,MT);function M1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function R1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Np(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function fOe(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=kp(s),u=Pp(s),m=kp(i),h=Pp(i),p=kp(o),g=Pp(o),f=kp(l),x=Pp(l),b=kp(c),j=Pp(c),v={a:Y,A:M,b:R,B:J,c:null,d:q5,e:q5,f:$Oe,g:GOe,G:JOe,H:ROe,I:IOe,j:LOe,L:UW,m:FOe,M:BOe,p:ie,q:F,Q:z5,s:W5,S:UOe,u:qOe,U:VOe,V:KOe,w:zOe,W:WOe,x:null,X:null,y:HOe,Y:YOe,Z:QOe,"%":K5},N={a:le,A:q,b:ve,B:ye,c:null,d:V5,e:V5,f:tDe,g:uDe,G:hDe,H:XOe,I:ZOe,j:eDe,L:VW,m:aDe,M:nDe,p:H,q:oe,Q:z5,s:W5,S:rDe,u:sDe,U:iDe,V:oDe,w:lDe,W:cDe,x:null,X:null,y:dDe,Y:mDe,Z:pDe,"%":K5},w={a:O,A,b:E,B:D,c:B,d:B5,e:B5,f:EOe,g:F5,G:$5,H:U5,I:U5,j:SOe,L:TOe,m:_Oe,M:COe,p:S,q:POe,Q:DOe,s:MOe,S:AOe,u:bOe,U:wOe,V:jOe,w:vOe,W:NOe,x:z,X:K,y:F5,Y:$5,Z:kOe,"%":OOe};v.x=P(n,v),v.X=P(r,v),v.c=P(t,v),N.x=P(n,N),N.X=P(r,N),N.c=P(t,N);function P(G,$){return function(Z){var U=[],pe=-1,ke=0,se=G.length,I,be,_e;for(Z instanceof Date||(Z=new Date(+Z));++pe<se;)G.charCodeAt(pe)===37&&(U.push(G.slice(ke,pe)),(be=L5[I=G.charAt(++pe)])!=null?I=G.charAt(++pe):be=I==="e"?" ":"0",(_e=$[I])&&(I=_e(Z,be)),U.push(I),ke=pe+1);return U.push(G.slice(ke,pe)),U.join("")}}function k(G,$){return function(Z){var U=Np(1900,void 0,1),pe=_(U,G,Z+="",0),ke,se;if(pe!=Z.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if($&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(ke=R1(Np(U.y,0,1)),se=ke.getUTCDay(),ke=se>4||se===0?m0.ceil(ke):m0(ke),ke=yj.offset(ke,(U.V-1)*7),U.y=ke.getUTCFullYear(),U.m=ke.getUTCMonth(),U.d=ke.getUTCDate()+(U.w+6)%7):(ke=M1(Np(U.y,0,1)),se=ke.getDay(),ke=se>4||se===0?u0.ceil(ke):u0(ke),ke=qx.offset(ke,(U.V-1)*7),U.y=ke.getFullYear(),U.m=ke.getMonth(),U.d=ke.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),se="Z"in U?R1(Np(U.y,0,1)).getUTCDay():M1(Np(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(se+5)%7:U.w+U.U*7-(se+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,R1(U)):M1(U)}}function _(G,$,Z,U){for(var pe=0,ke=$.length,se=Z.length,I,be;pe<ke;){if(U>=se)return-1;if(I=$.charCodeAt(pe++),I===37){if(I=$.charAt(pe++),be=w[I in L5?$.charAt(pe++):I],!be||(U=be(G,Z,U))<0)return-1}else if(I!=Z.charCodeAt(U++))return-1}return U}function S(G,$,Z){var U=d.exec($.slice(Z));return U?(G.p=u.get(U[0].toLowerCase()),Z+U[0].length):-1}function O(G,$,Z){var U=p.exec($.slice(Z));return U?(G.w=g.get(U[0].toLowerCase()),Z+U[0].length):-1}function A(G,$,Z){var U=m.exec($.slice(Z));return U?(G.w=h.get(U[0].toLowerCase()),Z+U[0].length):-1}function E(G,$,Z){var U=b.exec($.slice(Z));return U?(G.m=j.get(U[0].toLowerCase()),Z+U[0].length):-1}function D(G,$,Z){var U=f.exec($.slice(Z));return U?(G.m=x.get(U[0].toLowerCase()),Z+U[0].length):-1}function B(G,$,Z){return _(G,t,$,Z)}function z(G,$,Z){return _(G,n,$,Z)}function K(G,$,Z){return _(G,r,$,Z)}function Y(G){return o[G.getDay()]}function M(G){return i[G.getDay()]}function R(G){return c[G.getMonth()]}function J(G){return l[G.getMonth()]}function ie(G){return s[+(G.getHours()>=12)]}function F(G){return 1+~~(G.getMonth()/3)}function le(G){return o[G.getUTCDay()]}function q(G){return i[G.getUTCDay()]}function ve(G){return c[G.getUTCMonth()]}function ye(G){return l[G.getUTCMonth()]}function H(G){return s[+(G.getUTCHours()>=12)]}function oe(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var $=P(G+="",v);return $.toString=function(){return G},$},parse:function(G){var $=k(G+="",!1);return $.toString=function(){return G},$},utcFormat:function(G){var $=P(G+="",N);return $.toString=function(){return G},$},utcParse:function(G){var $=k(G+="",!0);return $.toString=function(){return G},$}}}var L5={"-":"",_:" ",0:"0"},zn=/^\s*\d+/,gOe=/^%/,xOe=/[\\^$*+?|[\]().{}]/g;function aa(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(t)+s:s)}function yOe(e){return e.replace(xOe,"\\$&")}function kp(e){return new RegExp("^(?:"+e.map(yOe).join("|")+")","i")}function Pp(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function vOe(e,t,n){var r=zn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bOe(e,t,n){var r=zn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function wOe(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function jOe(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function NOe(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function $5(e,t,n){var r=zn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function F5(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kOe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function POe(e,t,n){var r=zn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function _Oe(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function B5(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function SOe(e,t,n){var r=zn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function U5(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function COe(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function AOe(e,t,n){var r=zn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function TOe(e,t,n){var r=zn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function EOe(e,t,n){var r=zn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function OOe(e,t,n){var r=gOe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function DOe(e,t,n){var r=zn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function MOe(e,t,n){var r=zn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function q5(e,t){return aa(e.getDate(),t,2)}function ROe(e,t){return aa(e.getHours(),t,2)}function IOe(e,t){return aa(e.getHours()%12||12,t,2)}function LOe(e,t){return aa(1+qx.count(tl(e),e),t,3)}function UW(e,t){return aa(e.getMilliseconds(),t,3)}function $Oe(e,t){return UW(e,t)+"000"}function FOe(e,t){return aa(e.getMonth()+1,t,2)}function BOe(e,t){return aa(e.getMinutes(),t,2)}function UOe(e,t){return aa(e.getSeconds(),t,2)}function qOe(e){var t=e.getDay();return t===0?7:t}function VOe(e,t){return aa(vj.count(tl(e)-1,e),t,2)}function qW(e){var t=e.getDay();return t>=4||t===0?Zm(e):Zm.ceil(e)}function KOe(e,t){return e=qW(e),aa(Zm.count(tl(e),e)+(tl(e).getDay()===4),t,2)}function zOe(e){return e.getDay()}function WOe(e,t){return aa(u0.count(tl(e)-1,e),t,2)}function HOe(e,t){return aa(e.getFullYear()%100,t,2)}function GOe(e,t){return e=qW(e),aa(e.getFullYear()%100,t,2)}function YOe(e,t){return aa(e.getFullYear()%1e4,t,4)}function JOe(e,t){var n=e.getDay();return e=n>=4||n===0?Zm(e):Zm.ceil(e),aa(e.getFullYear()%1e4,t,4)}function QOe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+aa(t/60|0,"0",2)+aa(t%60,"0",2)}function V5(e,t){return aa(e.getUTCDate(),t,2)}function XOe(e,t){return aa(e.getUTCHours(),t,2)}function ZOe(e,t){return aa(e.getUTCHours()%12||12,t,2)}function eDe(e,t){return aa(1+yj.count(al(e),e),t,3)}function VW(e,t){return aa(e.getUTCMilliseconds(),t,3)}function tDe(e,t){return VW(e,t)+"000"}function aDe(e,t){return aa(e.getUTCMonth()+1,t,2)}function nDe(e,t){return aa(e.getUTCMinutes(),t,2)}function rDe(e,t){return aa(e.getUTCSeconds(),t,2)}function sDe(e){var t=e.getUTCDay();return t===0?7:t}function iDe(e,t){return aa(bj.count(al(e)-1,e),t,2)}function KW(e){var t=e.getUTCDay();return t>=4||t===0?eh(e):eh.ceil(e)}function oDe(e,t){return e=KW(e),aa(eh.count(al(e),e)+(al(e).getUTCDay()===4),t,2)}function lDe(e){return e.getUTCDay()}function cDe(e,t){return aa(m0.count(al(e)-1,e),t,2)}function dDe(e,t){return aa(e.getUTCFullYear()%100,t,2)}function uDe(e,t){return e=KW(e),aa(e.getUTCFullYear()%100,t,2)}function mDe(e,t){return aa(e.getUTCFullYear()%1e4,t,4)}function hDe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?eh(e):eh.ceil(e),aa(e.getUTCFullYear()%1e4,t,4)}function pDe(){return"+0000"}function K5(){return"%"}function z5(e){return+e}function W5(e){return Math.floor(+e/1e3)}var xu,zW,WW;fDe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fDe(e){return xu=fOe(e),zW=xu.format,xu.parse,WW=xu.utcFormat,xu.utcParse,xu}function gDe(e){return new Date(e)}function xDe(e){return e instanceof Date?+e:+new Date(+e)}function BT(e,t,n,r,s,i,o,l,c,d){var u=_T(),m=u.invert,h=u.domain,p=d(".%L"),g=d(":%S"),f=d("%I:%M"),x=d("%I %p"),b=d("%a %d"),j=d("%b %d"),v=d("%B"),N=d("%Y");function w(P){return(c(P)<P?p:l(P)<P?g:o(P)<P?f:i(P)<P?x:r(P)<P?s(P)<P?b:j:n(P)<P?v:N)(P)}return u.invert=function(P){return new Date(m(P))},u.domain=function(P){return arguments.length?h(Array.from(P,xDe)):h().map(gDe)},u.ticks=function(P){var k=h();return e(k[0],k[k.length-1],P??10)},u.tickFormat=function(P,k){return k==null?w:d(k)},u.nice=function(P){var k=h();return(!P||typeof P.range!="function")&&(P=t(k[0],k[k.length-1],P??10)),P?h(OW(k,P)):u},u.copy=function(){return Ux(u,BT(e,t,n,r,s,i,o,l,c,d))},u}function yDe(){return Hs.apply(BT(hOe,pOe,tl,$T,vj,qx,IT,MT,id,zW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vDe(){return Hs.apply(BT(uOe,mOe,al,FT,bj,yj,LT,RT,id,WW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wj(){var e=0,t=1,n,r,s,i,o=Pr,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(s===0?.5:(m=(i(m)-n)*s,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=i(e=+e),r=i(t=+t),s=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function u(m){return function(h){var p,g;return arguments.length?([p,g]=h,o=m(p,g),d):[o(0),o(1)]}}return d.range=u(Xh),d.rangeRound=u(PT),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,n=m(e),r=m(t),s=n===r?0:1/(r-n),d}}function Sc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function HW(){var e=_c(wj()(Pr));return e.copy=function(){return Sc(e,HW())},ul.apply(e,arguments)}function GW(){var e=AT(wj()).domain([1,10]);return e.copy=function(){return Sc(e,GW()).base(e.base())},ul.apply(e,arguments)}function YW(){var e=TT(wj());return e.copy=function(){return Sc(e,YW()).constant(e.constant())},ul.apply(e,arguments)}function UT(){var e=ET(wj());return e.copy=function(){return Sc(e,UT()).exponent(e.exponent())},ul.apply(e,arguments)}function bDe(){return UT.apply(null,arguments).exponent(.5)}function JW(){var e=[],t=Pr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Fx(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(nc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>iEe(e,i/r))},n.copy=function(){return JW(t).domain(e)},ul.apply(n,arguments)}function jj(){var e=0,t=.5,n=1,r=1,s,i,o,l,c,d=Pr,u,m=!1,h;function p(f){return isNaN(f=+f)?h:(f=.5+((f=+u(f))-i)*(r*f<r*i?l:c),d(m?Math.max(0,Math.min(1,f)):f))}p.domain=function(f){return arguments.length?([e,t,n]=f,s=u(e=+e),i=u(t=+t),o=u(n=+n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,p):[e,t,n]},p.clamp=function(f){return arguments.length?(m=!!f,p):m},p.interpolator=function(f){return arguments.length?(d=f,p):d};function g(f){return function(x){var b,j,v;return arguments.length?([b,j,v]=x,d=OEe(f,[b,j,v]),p):[d(0),d(.5),d(1)]}}return p.range=g(Xh),p.rangeRound=g(PT),p.unknown=function(f){return arguments.length?(h=f,p):h},function(f){return u=f,s=f(e),i=f(t),o=f(n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,p}}function QW(){var e=_c(jj()(Pr));return e.copy=function(){return Sc(e,QW())},ul.apply(e,arguments)}function XW(){var e=AT(jj()).domain([.1,1,10]);return e.copy=function(){return Sc(e,XW()).base(e.base())},ul.apply(e,arguments)}function ZW(){var e=TT(jj());return e.copy=function(){return Sc(e,ZW()).constant(e.constant())},ul.apply(e,arguments)}function qT(){var e=ET(jj());return e.copy=function(){return Sc(e,qT()).exponent(e.exponent())},ul.apply(e,arguments)}function wDe(){return qT.apply(null,arguments).exponent(.5)}const H5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jg,scaleDiverging:QW,scaleDivergingLog:XW,scaleDivergingPow:qT,scaleDivergingSqrt:wDe,scaleDivergingSymlog:ZW,scaleIdentity:EW,scaleImplicit:z_,scaleLinear:c0,scaleLog:DW,scaleOrdinal:jT,scalePoint:mf,scalePow:OT,scaleQuantile:IW,scaleQuantize:LW,scaleRadial:RW,scaleSequential:HW,scaleSequentialLog:GW,scaleSequentialPow:UT,scaleSequentialQuantile:JW,scaleSequentialSqrt:bDe,scaleSequentialSymlog:YW,scaleSqrt:tOe,scaleSymlog:MW,scaleThreshold:$W,scaleTime:yDe,scaleUtc:vDe,tickFormat:TW},Symbol.toStringTag,{value:"Module"}));var jDe=Vh;function NDe(e,t,n){for(var r=-1,s=e.length;++r<s;){var i=e[r],o=t(i);if(o!=null&&(l===void 0?o===o&&!jDe(o):n(o,l)))var l=o,c=i}return c}var Nj=NDe;function kDe(e,t){return e>t}var e7=kDe,PDe=Nj,_De=e7,SDe=Qh;function CDe(e){return e&&e.length?PDe(e,SDe,_De):void 0}var ADe=CDe;const kj=ia(ADe);function TDe(e,t){return e<t}var t7=TDe,EDe=Nj,ODe=t7,DDe=Qh;function MDe(e){return e&&e.length?EDe(e,DDe,ODe):void 0}var RDe=MDe;const Pj=ia(RDe);var IDe=aT,LDe=uo,$De=cW,FDe=Yr;function BDe(e,t){var n=FDe(e)?IDe:$De;return n(e,LDe(t))}var UDe=BDe,qDe=oW,VDe=UDe;function KDe(e,t){return qDe(VDe(e,t),1)}var zDe=KDe;const WDe=ia(zDe);var HDe=xT;function GDe(e,t){return HDe(e,t)}var YDe=GDe;const Vx=ia(YDe);var Zh=1e9,JDe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KT,za=!0,zs="[DecimalError] ",jd=zs+"Invalid argument: ",VT=zs+"Exponent out of range: ",ep=Math.floor,Wc=Math.pow,QDe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,os,Fn=1e7,Ma=7,a7=9007199254740991,h0=ep(a7/Ma),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,n,r,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ma;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ot.dividedBy=ot.div=function(e){return Bo(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,n=t.constructor;return ya(Bo(t,new n(e),0,1),n.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return _n(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,n=this,r=n.constructor,s=r.precision,i=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(os))throw Error(zs+"NaN");if(n.s<1)throw Error(zs+(n.s?"NaN":"-Infinity"));return n.eq(os)?new r(0):(za=!1,t=Bo(Sg(n,i),Sg(e,i),i),za=!0,ya(t,s))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?s7(t,e):n7(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(zs+"NaN");return n.s?(za=!1,t=Bo(n,e,0,1).times(e),za=!0,n.minus(t)):ya(new r(n),s)};ot.naturalExponential=ot.exp=function(){return r7(this)};ot.naturalLogarithm=ot.ln=function(){return Sg(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?n7(t,e):s7(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jd+e);if(t=_n(s)+1,r=s.d.length-1,n=r*Ma+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ot.squareRoot=ot.sqrt=function(){var e,t,n,r,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(zs+"NaN")}for(e=_n(l),za=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ui(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=ep((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(i=r,r=i.plus(Bo(l,i,o+2)).times(.5),Ui(i.d).slice(0,o)===(t=Ui(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(ya(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return za=!0,ya(r,n)};ot.times=ot.mul=function(e){var t,n,r,s,i,o,l,c,d,u=this,m=u.constructor,h=u.d,p=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,n=u.e+e.e,c=h.length,d=p.length,c<d&&(i=h,h=p,p=i,o=c,c=d,d=o),i=[],o=c+d,r=o;r--;)i.push(0);for(r=d;--r>=0;){for(t=0,s=c+r;s>r;)l=i[s]+p[r]*h[s-r-1]+t,i[s--]=l%Fn|0,t=l/Fn|0;i[s]=(i[s]+t)%Fn|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,za?ya(e,m.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(so(e,0,Zh),t===void 0?t=r.rounding:so(t,0,8),ya(n,e+_n(n)+1,t))};ot.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Vd(r,!0):(so(e,0,Zh),t===void 0?t=s.rounding:so(t,0,8),r=ya(new s(r),e+1,t),n=Vd(r,!0,e+1)),n};ot.toFixed=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?Vd(s):(so(e,0,Zh),t===void 0?t=i.rounding:so(t,0,8),r=ya(new i(s),e+_n(s)+1,t),n=Vd(r.abs(),!1,e+_n(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return ya(new t(e),_n(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,n,r,s,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(os);if(l=new c(l),!l.s){if(e.s<1)throw Error(zs+"Infinity");return l}if(l.eq(os))return l;if(r=c.precision,e.eq(os))return ya(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=u<0?-u:u)<=a7){for(s=new c(os),t=Math.ceil(r/Ma+4),za=!1;n%2&&(s=s.times(l),Y5(s.d,t)),n=ep(n/2),n!==0;)l=l.times(l),Y5(l.d,t);return za=!0,e.s<0?new c(os).div(s):ya(s,r)}}else if(i<0)throw Error(zs+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,za=!1,s=e.times(Sg(l,r+d)),za=!0,s=r7(s),s.s=i,s};ot.toPrecision=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?(n=_n(s),r=Vd(s,n<=i.toExpNeg||n>=i.toExpPos)):(so(e,1,Zh),t===void 0?t=i.rounding:so(t,0,8),s=ya(new i(s),e,t),n=_n(s),r=Vd(s,e<=n||n<=i.toExpNeg,e)),r};ot.toSignificantDigits=ot.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(so(e,1,Zh),t===void 0?t=r.rounding:so(t,0,8)),ya(new r(n),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_n(e),n=e.constructor;return Vd(e,t<=n.toExpNeg||t>=n.toExpPos)};function n7(e,t){var n,r,s,i,o,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),za?ya(t,m):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(r=c,i=-i,l=d.length):(r=d,s=o,l=c.length),o=Math.ceil(m/Ma),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,r=d,d=c,c=r),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/Fn|0,c[i]%=Fn;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,za?ya(t,m):t}function so(e,t,n){if(e!==~~e||e<t||e>n)throw Error(jd+e)}function Ui(e){var t,n,r,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)r=e[t]+"",n=Ma-r.length,n&&(i+=kl(n)),i+=r;o=e[t],r=o+"",n=Ma-r.length,n&&(i+=kl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Bo=function(){function e(r,s){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*s+o,r[l]=i%Fn|0,o=i/Fn|0;return o&&r.unshift(o),r}function t(r,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,i){for(var o=0;i--;)r[i]-=o,o=r[i]<s[i]?1:0,r[i]=o*Fn+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,o){var l,c,d,u,m,h,p,g,f,x,b,j,v,N,w,P,k,_,S=r.constructor,O=r.s==s.s?1:-1,A=r.d,E=s.d;if(!r.s)return new S(r);if(!s.s)throw Error(zs+"Division by zero");for(c=r.e-s.e,k=E.length,w=A.length,p=new S(O),g=p.d=[],d=0;E[d]==(A[d]||0);)++d;if(E[d]>(A[d]||0)&&--c,i==null?j=i=S.precision:o?j=i+(_n(r)-_n(s))+1:j=i,j<0)return new S(0);if(j=j/Ma+2|0,d=0,k==1)for(u=0,E=E[0],j++;(d<w||u)&&j--;d++)v=u*Fn+(A[d]||0),g[d]=v/E|0,u=v%E|0;else{for(u=Fn/(E[0]+1)|0,u>1&&(E=e(E,u),A=e(A,u),k=E.length,w=A.length),N=k,f=A.slice(0,k),x=f.length;x<k;)f[x++]=0;_=E.slice(),_.unshift(0),P=E[0],E[1]>=Fn/2&&++P;do u=0,l=t(E,f,k,x),l<0?(b=f[0],k!=x&&(b=b*Fn+(f[1]||0)),u=b/P|0,u>1?(u>=Fn&&(u=Fn-1),m=e(E,u),h=m.length,x=f.length,l=t(m,f,h,x),l==1&&(u--,n(m,k<h?_:E,h))):(u==0&&(l=u=1),m=E.slice()),h=m.length,h<x&&m.unshift(0),n(f,m,x),l==-1&&(x=f.length,l=t(E,f,k,x),l<1&&(u++,n(f,k<x?_:E,x))),x=f.length):l===0&&(u++,f=[0]),g[d++]=u,l&&f[0]?f[x++]=A[N]||0:(f=[A[N]],x=1);while((N++<w||f[0]!==void 0)&&j--)}return g[0]||g.shift(),p.e=c,ya(p,o?i+_n(p)+1:i)}}();function r7(e,t){var n,r,s,i,o,l,c=0,d=0,u=e.constructor,m=u.precision;if(_n(e)>16)throw Error(VT+_n(e));if(!e.s)return new u(os);for(t==null?(za=!1,l=m):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(Wc(2,d))/Math.LN10*2+5|0,l+=r,n=s=i=new u(os),u.precision=l;;){if(s=ya(s.times(e),l),n=n.times(++c),o=i.plus(Bo(s,n,l)),Ui(o.d).slice(0,l)===Ui(i.d).slice(0,l)){for(;d--;)i=ya(i.times(i),l);return u.precision=m,t==null?(za=!0,ya(i,m)):i}i=o}}function _n(e){for(var t=e.e*Ma,n=e.d[0];n>=10;n/=10)t++;return t}function I1(e,t,n){if(t>e.LN10.sd())throw za=!0,n&&(e.precision=n),Error(zs+"LN10 precision limit exceeded");return ya(new e(e.LN10),t)}function kl(e){for(var t="";e--;)t+="0";return t}function Sg(e,t){var n,r,s,i,o,l,c,d,u,m=1,h=10,p=e,g=p.d,f=p.constructor,x=f.precision;if(p.s<1)throw Error(zs+(p.s?"NaN":"-Infinity"));if(p.eq(os))return new f(0);if(t==null?(za=!1,d=x):d=t,p.eq(10))return t==null&&(za=!0),I1(f,d);if(d+=h,f.precision=d,n=Ui(g),r=n.charAt(0),i=_n(p),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Ui(p.d),r=n.charAt(0),m++;i=_n(p),r>1?(p=new f("0."+n),i++):p=new f(r+"."+n.slice(1))}else return c=I1(f,d+2,x).times(i+""),p=Sg(new f(r+"."+n.slice(1)),d-h).plus(c),f.precision=x,t==null?(za=!0,ya(p,x)):p;for(l=o=p=Bo(p.minus(os),p.plus(os),d),u=ya(p.times(p),d),s=3;;){if(o=ya(o.times(u),d),c=l.plus(Bo(o,new f(s),d)),Ui(c.d).slice(0,d)===Ui(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(I1(f,d+2,x).times(i+""))),l=Bo(l,new f(m),d),f.precision=x,t==null?(za=!0,ya(l,x)):l;l=c,s+=2}}function G5(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=ep(n/Ma),e.d=[],r=(n+1)%Ma,n<0&&(r+=Ma),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=Ma;r<s;)e.d.push(+t.slice(r,r+=Ma));t=t.slice(r),r=Ma-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),za&&(e.e>h0||e.e<-h0))throw Error(VT+n)}else e.s=0,e.e=0,e.d=[0];return e}function ya(e,t,n){var r,s,i,o,l,c,d,u,m=e.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Ma,s=t,d=m[u=0];else{if(u=Math.ceil((r+1)/Ma),i=m.length,u>=i)return e;for(d=i=m[u],o=1;i>=10;i/=10)o++;r%=Ma,s=r-Ma+o}if(n!==void 0&&(i=Wc(10,o-s-1),l=d/i%10|0,c=t<0||m[u+1]!==void 0||d%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?d/Wc(10,o-s):0:m[u-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(i=_n(e),m.length=1,t=t-i-1,m[0]=Wc(10,(Ma-t%Ma)%Ma),e.e=ep(-t/Ma)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=u,i=1,u--):(m.length=u+1,i=Wc(10,Ma-r),m[u]=s>0?(d/Wc(10,o-s)%Wc(10,s)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==Fn&&(m[0]=1,++e.e);break}else{if(m[u]+=i,m[u]!=Fn)break;m[u--]=0,i=1}for(r=m.length;m[--r]===0;)m.pop();if(za&&(e.e>h0||e.e<-h0))throw Error(VT+_n(e));return e}function s7(e,t){var n,r,s,i,o,l,c,d,u,m,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),za?ya(t,p):t;if(c=e.d,m=t.d,r=t.e,d=e.e,c=c.slice(),o=d-r,o){for(u=o<0,u?(n=c,o=-o,l=m.length):(n=m,r=d,l=c.length),s=Math.max(Math.ceil(p/Ma),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=m.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){u=c[s]<m[s];break}o=0}for(u&&(n=c,c=m,m=n,t.s=-t.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>o;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=Fn-1;--c[i],c[s]+=Fn}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,za?ya(t,p):t):new h(0)}function Vd(e,t,n){var r,s=_n(e),i=Ui(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+kl(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+kl(-s-1)+i,n&&(r=n-o)>0&&(i+=kl(r))):s>=o?(i+=kl(s+1-o),n&&(r=n-s-1)>0&&(i=i+"."+kl(r))):((r=s+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(i+="."),i+=kl(r))),e.s<0?"-"+i:i}function Y5(e,t){if(e.length>t)return e.length=t,!0}function i7(e){var t,n,r;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(jd+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return G5(o,i.toString())}else if(typeof i!="string")throw Error(jd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,QDe.test(i))G5(o,i);else throw Error(jd+i)}if(s.prototype=ot,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=i7,s.config=s.set=XDe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function XDe(e){if(!e||typeof e!="object")throw Error(zs+"Object expected");var t,n,r,s=["precision",1,Zh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(ep(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(jd+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(jd+n+": "+r);return this}var KT=i7(JDe);os=new KT(1);const ha=KT;function ZDe(e){return nMe(e)||aMe(e)||tMe(e)||eMe()}function eMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tMe(e,t){if(e){if(typeof e=="string")return Y_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y_(e,t)}}function aMe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nMe(e){if(Array.isArray(e))return Y_(e)}function Y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rMe=function(t){return t},o7={"@@functional/placeholder":!0},l7=function(t){return t===o7},J5=function(t){return function n(){return arguments.length===0||arguments.length===1&&l7(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},sMe=function e(t,n){return t===1?n:J5(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==o7}).length;return o>=t?n.apply(void 0,s):e(t-o,J5(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=s.map(function(m){return l7(m)?c.shift():m});return n.apply(void 0,ZDe(u).concat(c))}))})},_j=function(t){return sMe(t.length,t)},J_=function(t,n){for(var r=[],s=t;s<n;++s)r[s-t]=s;return r},iMe=_j(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),oMe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return rMe;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Q_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},c7=function(t){var n=null,r=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function lMe(e){var t;return e===0?t=1:t=Math.floor(new ha(e).abs().log(10).toNumber())+1,t}function cMe(e,t,n){for(var r=new ha(e),s=0,i=[];r.lt(t)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var dMe=_j(function(e,t,n){var r=+e,s=+t;return r+n*(s-r)}),uMe=_j(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),mMe=_j(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Sj={rangeStep:cMe,getDigitCount:lMe,interpolateNumber:dMe,uninterpolateNumber:uMe,uninterpolateTruncation:mMe};function X_(e){return fMe(e)||pMe(e)||d7(e)||hMe()}function hMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pMe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fMe(e){if(Array.isArray(e))return Z_(e)}function Cg(e,t){return yMe(e)||xMe(e,t)||d7(e,t)||gMe()}function gMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d7(e,t){if(e){if(typeof e=="string")return Z_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(e,t)}}function Z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xMe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){s=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function yMe(e){if(Array.isArray(e))return e}function u7(e){var t=Cg(e,2),n=t[0],r=t[1],s=n,i=r;return n>r&&(s=r,i=n),[s,i]}function m7(e,t,n){if(e.lte(0))return new ha(0);var r=Sj.getDigitCount(e.toNumber()),s=new ha(10).pow(r),i=e.div(s),o=r!==1?.05:.1,l=new ha(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new ha(Math.ceil(c))}function vMe(e,t,n){var r=1,s=new ha(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(r=new ha(10).pow(Sj.getDigitCount(e)-1),s=new ha(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new ha(Math.floor(e)))}else e===0?s=new ha(Math.floor((t-1)/2)):n||(s=new ha(Math.floor(e)));var o=Math.floor((t-1)/2),l=oMe(iMe(function(c){return s.add(new ha(c-o).mul(r)).toNumber()}),J_);return l(0,t)}function h7(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new ha(0),tickMin:new ha(0),tickMax:new ha(0)};var i=m7(new ha(t).sub(e).div(n-1),r,s),o;e<=0&&t>=0?o=new ha(0):(o=new ha(e).add(t).div(2),o=o.sub(new ha(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new ha(t).sub(o).div(i).toNumber()),d=l+c+1;return d>n?h7(e,t,n,r,s+1):(d<n&&(c=t>0?c+(n-d):c,l=t>0?l:l+(n-d)),{step:i,tickMin:o.sub(new ha(l).mul(i)),tickMax:o.add(new ha(c).mul(i))})}function bMe(e){var t=Cg(e,2),n=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=u7([n,r]),c=Cg(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var m=u===1/0?[d].concat(X_(J_(0,s-1).map(function(){return 1/0}))):[].concat(X_(J_(0,s-1).map(function(){return-1/0})),[u]);return n>r?Q_(m):m}if(d===u)return vMe(d,s,i);var h=h7(d,u,o,i),p=h.step,g=h.tickMin,f=h.tickMax,x=Sj.rangeStep(g,f.add(new ha(.1).mul(p)),p);return n>r?Q_(x):x}function wMe(e,t){var n=Cg(e,2),r=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=u7([r,s]),l=Cg(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,s];if(c===d)return[c];var u=Math.max(t,2),m=m7(new ha(d).sub(c).div(u-1),i,0),h=[].concat(X_(Sj.rangeStep(new ha(c),new ha(d).sub(new ha(.99).mul(m)),m)),[d]);return r>s?Q_(h):h}var jMe=c7(bMe),NMe=c7(wMe),kMe="Invariant failed";function Kd(e,t){throw new Error(kMe)}var PMe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p0.apply(this,arguments)}function _Me(e,t){return TMe(e)||AMe(e,t)||CMe(e,t)||SMe()}function SMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CMe(e,t){if(e){if(typeof e=="string")return Q5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q5(e,t)}}function Q5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function TMe(e){if(Array.isArray(e))return e}function EMe(e,t){if(e==null)return{};var n=OMe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function DMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g7(r.key),r)}}function RMe(e,t,n){return t&&MMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IMe(e,t,n){return t=f0(t),LMe(e,p7()?Reflect.construct(t,n||[],f0(e).constructor):t.apply(e,n))}function LMe(e,t){if(t&&(th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Me(e)}function $Me(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p7=function(){return!!e})()}function f0(e){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f0(e)}function FMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}function eS(e,t){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},eS(e,t)}function f7(e,t,n){return t=g7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g7(e){var t=BMe(e,"string");return th(t)=="symbol"?t:t+""}function BMe(e,t){if(th(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kx=function(e){function t(){return DMe(this,t),IMe(this,t,arguments)}return FMe(t,e),RMe(t,[{key:"render",value:function(){var r=this.props,s=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,u=r.xAxis,m=r.yAxis,h=EMe(r,PMe),p=gt(h,!1);this.props.direction==="x"&&u.type!=="number"&&Kd();var g=c.map(function(f){var x=d(f,l),b=x.x,j=x.y,v=x.value,N=x.errorVal;if(!N)return null;var w=[],P,k;if(Array.isArray(N)){var _=_Me(N,2);P=_[0],k=_[1]}else P=k=N;if(i==="vertical"){var S=u.scale,O=j+s,A=O+o,E=O-o,D=S(v-P),B=S(v+k);w.push({x1:B,y1:A,x2:B,y2:E}),w.push({x1:D,y1:O,x2:B,y2:O}),w.push({x1:D,y1:A,x2:D,y2:E})}else if(i==="horizontal"){var z=m.scale,K=b+s,Y=K-o,M=K+o,R=z(v-P),J=z(v+k);w.push({x1:Y,y1:J,x2:M,y2:J}),w.push({x1:K,y1:R,x2:K,y2:J}),w.push({x1:Y,y1:R,x2:M,y2:R})}return X.createElement(ta,p0({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},p),w.map(function(ie){return X.createElement("line",p0({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return X.createElement(ta,{className:"recharts-errorBars"},g)}}])}(X.Component);f7(Kx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});f7(Kx,"displayName","ErrorBar");function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function X5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Mc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(n),!0).forEach(function(r){UMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UMe(e,t,n){return t=qMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qMe(e){var t=VMe(e,"string");return Ag(t)=="symbol"?t:t+""}function VMe(e,t){if(Ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x7=function(t){var n=t.children,r=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=as(n,Fo);if(!o)return null;var l=Fo.defaultProps,c=l!==void 0?Mc(Mc({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(r||[]).reduce(function(u,m){var h=m.item,p=m.props,g=p.sectors||p.data||[];return u.concat(g.map(function(f){return{type:o.props.iconType||h.props.legendType,value:f.name,color:f.fill,payload:f}}))},[]):d=(r||[]).map(function(u){var m=u.item,h=m.type.defaultProps,p=h!==void 0?Mc(Mc({},h),m.props):{},g=p.dataKey,f=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||x||"square",color:zT(m),value:f||g,payload:p}}),Mc(Mc(Mc({},c),Fo.getWithHeight(o,s)),{},{payload:d,item:o})};function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function Z5(e){return HMe(e)||WMe(e)||zMe(e)||KMe()}function KMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zMe(e,t){if(e){if(typeof e=="string")return tS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tS(e,t)}}function WMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HMe(e){if(Array.isArray(e))return tS(e)}function tS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(r){mm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mm(e,t,n){return t=GMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GMe(e){var t=YMe(e,"string");return Tg(t)=="symbol"?t:t+""}function YMe(e,t){if(Tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function On(e,t,n){return Ot(e)||Ot(t)?n:Rn(t)?xs(e,t,n):St(t)?t(e):n}function hf(e,t,n,r){var s=WDe(e,function(l){return On(l,t)});if(n==="number"){var i=s.filter(function(l){return Ue(l)||parseFloat(l)});return i.length?[Pj(i),kj(i)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!Ot(l)}):s;return o.map(function(l){return Rn(l)||l instanceof Date?l:""})}var JMe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?s[d-1].coordinate:s[l-1].coordinate,m=s[d].coordinate,h=d>=l-1?s[0].coordinate:s[d+1].coordinate,p=void 0;if(Nr(m-u)!==Nr(h-m)){var g=[];if(Nr(h-m)===Nr(c[1]-c[0])){p=h;var f=m+c[1]-c[0];g[0]=Math.min(f,(f+u)/2),g[1]=Math.max(f,(f+u)/2)}else{p=u;var x=h+c[1]-c[0];g[0]=Math.min(m,(x+m)/2),g[1]=Math.max(m,(x+m)/2)}var b=[Math.min(m,(p+m)/2),Math.max(m,(p+m)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=s[d].index;break}}else{var j=Math.min(u,h),v=Math.max(u,h);if(t>(j+m)/2&&t<=(v+m)/2){o=s[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N===l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2){o=r[N].index;break}return o},zT=function(t){var n,r=t,s=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?rn(rn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},QMe=function(t){var n=t.barSize,r=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,m=Object.keys(u),h=0,p=m.length;h<p;h++){var g=u[m[h]],f=g.items,x=g.cateAxisId,b=f.filter(function(k){return $o(k.type).indexOf("Bar")>=0});if(b&&b.length){var j=b[0].type.defaultProps,v=j!==void 0?rn(rn({},j),b[0].props):b[0].props,N=v.barSize,w=v[x];o[w]||(o[w]=[]);var P=Ot(N)?n:N;o[w].push({item:b[0],stackList:b.slice(1),barSize:Ot(P)?void 0:kr(P,r,0)})}}return o},XMe=function(t){var n=t.barGap,r=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=kr(n,s,0,!0),u,m=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,g=o.reduce(function(N,w){return N+w.barSize||0},0);g+=(c-1)*d,g>=s&&(g-=(c-1)*d,d=0),g>=s&&p>0&&(h=!0,p*=.9,g=c*p);var f=(s-g)/2>>0,x={offset:f-d,size:0};u=o.reduce(function(N,w){var P={item:w.item,position:{offset:x.offset+x.size+d,size:h?p:w.barSize}},k=[].concat(Z5(N),[P]);return x=k[k.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){k.push({item:_,position:x})}),k},m)}else{var b=kr(r,s,0,!0);s-2*b-(c-1)*d<=0&&(d=0);var j=(s-2*b-(c-1)*d)/c;j>1&&(j>>=0);var v=l===+l?Math.min(j,l):j;u=o.reduce(function(N,w,P){var k=[].concat(Z5(N),[{item:w.item,position:{offset:b+(j+d)*P+(j-v)/2,size:v}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){k.push({item:_,position:k[k.length-1].position})}),k},m)}return u},ZMe=function(t,n,r,s){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),d=x7({children:i,legendWidth:c});if(d){var u=s||{},m=u.width,h=u.height,p=d.align,g=d.verticalAlign,f=d.layout;if((f==="vertical"||f==="horizontal"&&g==="middle")&&p!=="center"&&Ue(t[p]))return rn(rn({},t),{},mm({},p,t[p]+(m||0)));if((f==="horizontal"||f==="vertical"&&p==="center")&&g!=="middle"&&Ue(t[g]))return rn(rn({},t),{},mm({},g,t[g]+(h||0)))}return t},eRe=function(t,n,r){return Ot(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},y7=function(t,n,r,s,i){var o=n.props.children,l=ys(o,Kx).filter(function(d){return eRe(s,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var m=On(u,r);if(Ot(m))return d;var h=Array.isArray(m)?[Pj(m),kj(m)]:[m,m],p=c.reduce(function(g,f){var x=On(u,f,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),j=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(j,g[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},tRe=function(t,n,r,s,i){var o=n.map(function(l){return y7(t,l,r,i,s)}).filter(function(l){return!Ot(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},v7=function(t,n,r,s,i){var o=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&y7(t,c,d,s)||hf(t,d,r,i)});if(r==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,m=d.length;u<m;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},b7=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},w7=function(t,n,r,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},To=function(t,n,r){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Nr(l[0]-l[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(m){var h=i?i.indexOf(m):m;return{coordinate:s(h)+d,value:m,offset:d}});return u.filter(function(m){return!Lx(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,h){return{coordinate:s(m)+d,value:m,index:h,offset:d}}):s.ticks&&!r?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+d,value:m,offset:d}}):s.domain().map(function(m,h){return{coordinate:s(m)+d,value:i?i[m]:m,index:h,offset:d}})},L1=new WeakMap,Wy=function(t,n){if(typeof n!="function")return t;L1.has(t)||L1.set(t,new WeakMap);var r=L1.get(t);if(r.has(n))return r.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},j7=function(t,n,r){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:jg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:c0(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:mf(),realScaleType:"point"}:i==="category"?{scale:jg(),realScaleType:"band"}:{scale:c0(),realScaleType:"linear"};if(Ix(s)){var c="scale".concat(cj(s));return{scale:(H5[c]||mf)(),realScaleType:H5[c]?c:"point"}}return St(s)?{scale:s}:{scale:mf(),realScaleType:"point"}},tI=1e-4,N7=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,s=t.range(),i=Math.min(s[0],s[1])-tI,o=Math.max(s[0],s[1])+tI,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},aRe=function(t,n){if(!t)return null;for(var r=0,s=t.length;r<s;r++)if(t[r].item===n)return t[r].position;return null},nRe=function(t,n){if(!n||n.length!==2||!Ue(n[0])||!Ue(n[1]))return t;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Ue(t[0])||t[0]<r)&&(i[0]=r),(!Ue(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<r&&(i[1]=r),i},rRe=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Lx(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},sRe=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,o=0;o<n;++o){var l=Lx(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},iRe={sign:rRe,expand:PNe,none:Hm,silhouette:_Ne,wiggle:SNe,positive:sRe},oRe=function(t,n,r){var s=n.map(function(l){return l.props.dataKey}),i=iRe[r],o=kNe().keys(s).value(function(l,c){return+On(l,c,0)}).order(__).offset(i);return o(t)},lRe=function(t,n,r,s,i,o){if(!t)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(m,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?rn(rn({},h.type.defaultProps),h.props):h.props,f=g.stackId,x=g.hide;if(x)return m;var b=g[r],j=m[b]||{hasStack:!1,stackGroups:{}};if(Rn(f)){var v=j.stackGroups[f]||{numericAxisId:r,cateAxisId:s,items:[]};v.items.push(h),j.hasStack=!0,j.stackGroups[f]=v}else j.stackGroups[Gh("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[h]};return rn(rn({},m),{},mm({},b,j))},c),u={};return Object.keys(d).reduce(function(m,h){var p=d[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(f,x){var b=p.stackGroups[x];return rn(rn({},f),{},mm({},x,{numericAxisId:r,cateAxisId:s,items:b.items,stackedData:oRe(t,b.items,i)}))},g)}return rn(rn({},m),{},mm({},h,p))},u)},k7=function(t,n){var r=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=jMe(d,i,l);return t.domain([Pj(u),kj(u)]),{niceTicks:u}}if(i&&s==="number"){var m=t.domain(),h=NMe(m,i,l);return{niceTicks:h}}return null};function aI(e){var t=e.axis,n=e.ticks,r=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ot(s[t.dataKey])){var l=qb(n,"value",s[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=On(s,Ot(o)?t.dataKey:o);return Ot(c)?null:t.scale(c)}var nI=function(t){var n=t.axis,r=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=On(o,n.dataKey,n.domain[l]);return Ot(c)?null:n.scale(c)-i/2+s},cRe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return s<=0&&i>=0?0:i<0?i:s}return r[0]},dRe=function(t,n){var r,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?rn(rn({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Rn(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},uRe=function(t){return t.reduce(function(n,r){return[Pj(r.concat([n[0]]).filter(Ue)),kj(r.concat([n[1]]).filter(Ue))]},[1/0,-1/0])},P7=function(t,n,r){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var m=uRe(u.slice(n,r+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},rI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aS=function(t,n,r){if(St(t))return t(n,r);if(!Array.isArray(t))return n;var s=[];if(Ue(t[0]))s[0]=r?t[0]:Math.min(t[0],n[0]);else if(rI.test(t[0])){var i=+rI.exec(t[0])[1];s[0]=n[0]-i}else St(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(Ue(t[1]))s[1]=r?t[1]:Math.max(t[1],n[1]);else if(sI.test(t[1])){var o=+sI.exec(t[1])[1];s[1]=n[1]+o}else St(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},g0=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!r||s>0)return s}if(t&&n&&n.length>=2){for(var i=vT(n,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},iI=function(t,n,r){return!t||!t.length||Vx(t,xs(r,"type.defaultProps.domain"))?n:t},_7=function(t,n){var r=t.type.defaultProps?rn(rn({},t.type.defaultProps),t.props):t.props,s=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,u=r.hide;return rn(rn({},gt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:zT(t),value:On(n,s),type:c,payload:n,chartType:d,hide:u})};function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(r){S7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S7(e,t,n){return t=mRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mRe(e){var t=hRe(e,"string");return Eg(t)=="symbol"?t:t+""}function hRe(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pRe(e,t){return yRe(e)||xRe(e,t)||gRe(e,t)||fRe()}function fRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gRe(e,t){if(e){if(typeof e=="string")return lI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(e,t)}}function lI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xRe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function yRe(e){if(Array.isArray(e))return e}var x0=Math.PI/180,vRe=function(t){return t*180/Math.PI},Sa=function(t,n,r,s){return{x:t+Math.cos(-x0*s)*r,y:n+Math.sin(-x0*s)*r}},C7=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},bRe=function(t,n,r,s,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=kr(t.cx,o,o/2),m=kr(t.cy,l,l/2),h=C7(o,l,r),p=kr(t.innerRadius,h,0),g=kr(t.outerRadius,h,h*.8),f=Object.keys(n);return f.reduce(function(x,b){var j=n[b],v=j.domain,N=j.reversed,w;if(Ot(j.range))s==="angleAxis"?w=[c,d]:s==="radiusAxis"&&(w=[p,g]),N&&(w=[w[1],w[0]]);else{w=j.range;var P=w,k=pRe(P,2);c=k[0],d=k[1]}var _=j7(j,i),S=_.realScaleType,O=_.scale;O.domain(v).range(w),N7(O);var A=k7(O,jo(jo({},j),{},{realScaleType:S})),E=jo(jo(jo({},j),A),{},{range:w,radius:g,realScaleType:S,scale:O,cx:u,cy:m,innerRadius:p,outerRadius:g,startAngle:c,endAngle:d});return jo(jo({},x),{},S7({},b,E))},{})},wRe=function(t,n){var r=t.x,s=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-o,2))},jRe=function(t,n){var r=t.x,s=t.y,i=n.cx,o=n.cy,l=wRe({x:r,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:vRe(d),angleInRadian:d}},NRe=function(t){var n=t.startAngle,r=t.endAngle,s=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:r-o*360}},kRe=function(t,n){var r=n.startAngle,s=n.endAngle,i=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},cI=function(t,n){var r=t.x,s=t.y,i=jRe({x:r,y:s},n),o=i.radius,l=i.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=NRe(n),m=u.startAngle,h=u.endAngle,p=l,g;if(m<=h){for(;p>h;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=h}else{for(;p>m;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=m}return g?jo(jo({},n),{},{radius:o,angle:kRe(p,n)}):null},A7=function(t){return!y.isValidElement(t)&&!St(t)&&typeof t!="boolean"?t.className:""};function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}var PRe=["offset"];function _Re(e){return TRe(e)||ARe(e)||CRe(e)||SRe()}function SRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CRe(e,t){if(e){if(typeof e=="string")return nS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nS(e,t)}}function ARe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TRe(e){if(Array.isArray(e))return nS(e)}function nS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ERe(e,t){if(e==null)return{};var n=ORe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ORe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(r){DRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DRe(e,t,n){return t=MRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MRe(e){var t=RRe(e,"string");return Og(t)=="symbol"?t:t+""}function RRe(e,t){if(Og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dg.apply(this,arguments)}var IRe=function(t){var n=t.value,r=t.formatter,s=Ot(t.children)?n:t.children;return St(r)?r(s):s},LRe=function(t,n){var r=Nr(n-t),s=Math.min(Math.abs(n-t),360);return r*s},$Re=function(t,n,r){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,m=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,f=c.clockWise,x=(m+h)/2,b=LRe(p,g),j=b>=0?1:-1,v,N;s==="insideStart"?(v=p+j*o,N=f):s==="insideEnd"?(v=g-j*o,N=!f):s==="end"&&(v=g+j*o,N=f),N=b<=0?N:!N;var w=Sa(d,u,x,v),P=Sa(d,u,x,v+(N?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),_=Ot(t.id)?Gh("recharts-radial-line-"):t.id;return X.createElement("text",Dg({},r,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",l)}),X.createElement("defs",null,X.createElement("path",{id:_,d:k})),X.createElement("textPath",{xlinkHref:"#".concat(_)},n))},FRe=function(t){var n=t.viewBox,r=t.offset,s=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,m=i.endAngle,h=(u+m)/2;if(s==="outside"){var p=Sa(o,l,d+r,h),g=p.x,f=p.y;return{x:g,y:f,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+d)/2,b=Sa(o,l,x,h),j=b.x,v=b.y;return{x:j,y:v,textAnchor:"middle",verticalAnchor:"middle"}},BRe=function(t){var n=t.viewBox,r=t.parentViewBox,s=t.offset,i=t.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,m=u>=0?1:-1,h=m*s,p=m>0?"end":"start",g=m>0?"start":"end",f=d>=0?1:-1,x=f*s,b=f>0?"end":"start",j=f>0?"start":"end";if(i==="top"){var v={x:l+d/2,y:c-m*s,textAnchor:"middle",verticalAnchor:p};return Sn(Sn({},v),r?{height:Math.max(c-r.y,0),width:d}:{})}if(i==="bottom"){var N={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:g};return Sn(Sn({},N),r?{height:Math.max(r.y+r.height-(c+u),0),width:d}:{})}if(i==="left"){var w={x:l-x,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return Sn(Sn({},w),r?{width:Math.max(w.x-r.x,0),height:u}:{})}if(i==="right"){var P={x:l+d+x,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return Sn(Sn({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:u}:{})}var k=r?{width:d,height:u}:{};return i==="insideLeft"?Sn({x:l+x,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},k):i==="insideRight"?Sn({x:l+d-x,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideTop"?Sn({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:g},k):i==="insideBottom"?Sn({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:p},k):i==="insideTopLeft"?Sn({x:l+x,y:c+h,textAnchor:j,verticalAnchor:g},k):i==="insideTopRight"?Sn({x:l+d-x,y:c+h,textAnchor:b,verticalAnchor:g},k):i==="insideBottomLeft"?Sn({x:l+x,y:c+u-h,textAnchor:j,verticalAnchor:p},k):i==="insideBottomRight"?Sn({x:l+d-x,y:c+u-h,textAnchor:b,verticalAnchor:p},k):Kh(i)&&(Ue(i.x)||rd(i.x))&&(Ue(i.y)||rd(i.y))?Sn({x:l+kr(i.x,d),y:c+kr(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):Sn({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},URe=function(t){return"cx"in t&&Ue(t.cx)};function Un(e){var t=e.offset,n=t===void 0?5:t,r=ERe(e,PRe),s=Sn({offset:n},r),i=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,u=s.className,m=u===void 0?"":u,h=s.textBreakAll;if(!i||Ot(l)&&Ot(c)&&!y.isValidElement(d)&&!St(d))return null;if(y.isValidElement(d))return y.cloneElement(d,s);var p;if(St(d)){if(p=y.createElement(d,s),y.isValidElement(p))return p}else p=IRe(s);var g=URe(i),f=gt(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return $Re(s,p,f);var x=g?FRe(s):BRe(s);return X.createElement(qd,Dg({className:Mt("recharts-label",m)},f,x,{breakAll:h}),p)}Un.displayName="Label";var T7=function(t){var n=t.cx,r=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,m=t.x,h=t.y,p=t.top,g=t.left,f=t.width,x=t.height,b=t.clockWise,j=t.labelViewBox;if(j)return j;if(Ue(f)&&Ue(x)){if(Ue(m)&&Ue(h))return{x:m,y:h,width:f,height:x};if(Ue(p)&&Ue(g))return{x:p,y:g,width:f,height:x}}return Ue(m)&&Ue(h)?{x:m,y:h,width:0,height:0}:Ue(n)&&Ue(r)?{cx:n,cy:r,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},qRe=function(t,n){return t?t===!0?X.createElement(Un,{key:"label-implicit",viewBox:n}):Rn(t)?X.createElement(Un,{key:"label-implicit",viewBox:n,value:t}):y.isValidElement(t)?t.type===Un?y.cloneElement(t,{key:"label-implicit",viewBox:n}):X.createElement(Un,{key:"label-implicit",content:t,viewBox:n}):St(t)?X.createElement(Un,{key:"label-implicit",content:t,viewBox:n}):Kh(t)?X.createElement(Un,Dg({viewBox:n},t,{key:"label-implicit"})):null:null},VRe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,i=T7(t),o=ys(s,Un).map(function(c,d){return y.cloneElement(c,{viewBox:n||i,key:"label-".concat(d)})});if(!r)return o;var l=qRe(t.label,n||i);return[l].concat(_Re(o))};Un.parseViewBox=T7;Un.renderCallByParent=VRe;function KRe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var zRe=KRe;const WRe=ia(zRe);function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}var HRe=["valueAccessor"],GRe=["data","dataKey","clockWise","id","textBreakAll"];function YRe(e){return ZRe(e)||XRe(e)||QRe(e)||JRe()}function JRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QRe(e,t){if(e){if(typeof e=="string")return rS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rS(e,t)}}function XRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZRe(e){if(Array.isArray(e))return rS(e)}function rS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y0.apply(this,arguments)}function uI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(n),!0).forEach(function(r){e4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e4e(e,t,n){return t=t4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t4e(e){var t=a4e(e,"string");return Mg(t)=="symbol"?t:t+""}function a4e(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hI(e,t){if(e==null)return{};var n=n4e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function n4e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var r4e=function(t){return Array.isArray(t.value)?WRe(t.value):t.value};function Uo(e){var t=e.valueAccessor,n=t===void 0?r4e:t,r=hI(e,HRe),s=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,d=hI(r,GRe);return!s||!s.length?null:X.createElement(ta,{className:"recharts-label-list"},s.map(function(u,m){var h=Ot(i)?n(u,m):On(u&&u.payload,i),p=Ot(l)?{}:{id:"".concat(l,"-").concat(m)};return X.createElement(Un,y0({},gt(u,!0),d,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:Un.parseViewBox(Ot(o)?u:mI(mI({},u),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Uo.displayName="LabelList";function s4e(e,t){return e?e===!0?X.createElement(Uo,{key:"labelList-implicit",data:t}):X.isValidElement(e)||St(e)?X.createElement(Uo,{key:"labelList-implicit",data:t,content:e}):Kh(e)?X.createElement(Uo,y0({data:t},e,{key:"labelList-implicit"})):null:null}function i4e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=ys(r,Uo).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var i=s4e(e.label,t);return[i].concat(YRe(s))}Uo.renderCallByParent=i4e;function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function sS(){return sS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sS.apply(this,arguments)}function pI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function fI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(n),!0).forEach(function(r){o4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o4e(e,t,n){return t=l4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l4e(e){var t=c4e(e,"string");return Rg(t)=="symbol"?t:t+""}function c4e(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d4e=function(t,n){var r=Nr(n-t),s=Math.min(Math.abs(n-t),359.999);return r*s},Hy=function(t){var n=t.cx,r=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+s,m=Math.asin(c/u)/x0,h=d?i:i+o*m,p=Sa(n,r,u,h),g=Sa(n,r,s,h),f=d?i-o*m:i,x=Sa(n,r,u*Math.cos(m*x0),f);return{center:p,circleTangency:g,lineTangency:x,theta:m}},E7=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=d4e(o,l),d=o+c,u=Sa(n,r,i,o),m=Sa(n,r,i,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var p=Sa(n,r,s,o),g=Sa(n,r,s,d);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},u4e=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,m=Nr(u-d),h=Hy({cx:n,cy:r,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,f=h.theta,x=Hy({cx:n,cy:r,radius:i,angle:u,sign:-m,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,j=x.lineTangency,v=x.theta,N=c?Math.abs(d-u):Math.abs(d-u)-f-v;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):E7({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
  `);if(s>0){var P=Hy({cx:n,cy:r,radius:s,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=P.circleTangency,_=P.lineTangency,S=P.theta,O=Hy({cx:n,cy:r,radius:s,angle:u,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=O.circleTangency,E=O.lineTangency,D=O.theta,B=c?Math.abs(d-u):Math.abs(d-u)-S-D;if(B<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(B>180),",").concat(+(m>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},m4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},O7=function(t){var n=fI(fI({},m4e),t),r=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,m=n.endAngle,h=n.className;if(o<i||u===m)return null;var p=Mt("recharts-sector",h),g=o-i,f=kr(l,g,0,!0),x;return f>0&&Math.abs(u-m)<360?x=u4e({cx:r,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(f,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:m}):x=E7({cx:r,cy:s,innerRadius:i,outerRadius:o,startAngle:u,endAngle:m}),X.createElement("path",sS({},gt(n,!0),{className:p,d:x,role:"img"}))};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iS.apply(this,arguments)}function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){h4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h4e(e,t,n){return t=p4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p4e(e){var t=f4e(e,"string");return Ig(t)=="symbol"?t:t+""}function f4e(e,t){if(Ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yI={curveBasisClosed:hNe,curveBasisOpen:pNe,curveBasis:mNe,curveBumpX:Xje,curveBumpY:Zje,curveLinearClosed:fNe,curveLinear:uj,curveMonotoneX:gNe,curveMonotoneY:xNe,curveNatural:yNe,curveStep:vNe,curveStepAfter:wNe,curveStepBefore:bNe},Gy=function(t){return t.x===+t.x&&t.y===+t.y},_p=function(t){return t.x},Sp=function(t){return t.y},g4e=function(t,n){if(St(t))return t;var r="curve".concat(cj(t));return(r==="curveMonotone"||r==="curveBump")&&n?yI["".concat(r).concat(n==="vertical"?"Y":"X")]:yI[r]||uj},x4e=function(t){var n=t.type,r=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=g4e(r,l),m=d?i.filter(function(f){return Gy(f)}):i,h;if(Array.isArray(o)){var p=d?o.filter(function(f){return Gy(f)}):o,g=m.map(function(f,x){return xI(xI({},f),{},{base:p[x]})});return l==="vertical"?h=$y().y(Sp).x1(_p).x0(function(f){return f.base.x}):h=$y().x(_p).y1(Sp).y0(function(f){return f.base.y}),h.defined(Gy).curve(u),h(g)}return l==="vertical"&&Ue(o)?h=$y().y(Sp).x1(_p).x0(o):Ue(o)?h=$y().x(_p).y1(Sp).y0(o):h=_z().x(_p).y(Sp),h.defined(Gy).curve(u),h(m)},v0=function(t){var n=t.className,r=t.points,s=t.path,i=t.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?x4e(t):s;return X.createElement("path",iS({},gt(t,!1),Vb(t),{className:Mt("recharts-curve",n),d:o,ref:i}))},D7={exports:{}},y4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",v4e=y4e,b4e=v4e;function M7(){}function R7(){}R7.resetWarningCache=M7;var w4e=function(){function e(r,s,i,o,l,c){if(c!==b4e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:R7,resetWarningCache:M7};return n.PropTypes=n,n};D7.exports=w4e();var j4e=D7.exports;const ra=ia(j4e);var N4e=Object.getOwnPropertyNames,k4e=Object.getOwnPropertySymbols,P4e=Object.prototype.hasOwnProperty;function vI(e,t){return function(r,s,i){return e(r,s,i)&&t(r,s,i)}}function Yy(e){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,s);var i=s.cache,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);var c=e(n,r,s);return i.delete(n),i.delete(r),c}}function bI(e){return N4e(e).concat(k4e(e))}var _4e=Object.hasOwn||function(e,t){return P4e.call(e,t)};function tu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var S4e="__v",C4e="__o",A4e="_owner",wI=Object.getOwnPropertyDescriptor,jI=Object.keys;function T4e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function E4e(e,t){return tu(e.getTime(),t.getTime())}function O4e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function D4e(e,t){return e===t}function NI(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s=new Array(r),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,m=0;(l=d.next())&&!l.done;){if(s[m]){m++;continue}var h=o.value,p=l.value;if(n.equals(h[0],p[0],c,m,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){u=s[m]=!0;break}m++}if(!u)return!1;c++}return!0}var M4e=tu;function R4e(e,t,n){var r=jI(e),s=r.length;if(jI(t).length!==s)return!1;for(;s-- >0;)if(!I7(e,t,n,r[s]))return!1;return!0}function Cp(e,t,n){var r=bI(e),s=r.length;if(bI(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=r[s],!I7(e,t,n,i)||(o=wI(e,i),l=wI(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function I4e(e,t){return tu(e.valueOf(),t.valueOf())}function L4e(e,t){return e.source===t.source&&e.flags===t.flags}function kI(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s=new Array(r),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!s[u]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function $4e(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function F4e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function I7(e,t,n,r){return(r===A4e||r===C4e||r===S4e)&&(e.$$typeof||t.$$typeof)?!0:_4e(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var B4e="[object Arguments]",U4e="[object Boolean]",q4e="[object Date]",V4e="[object Error]",K4e="[object Map]",z4e="[object Number]",W4e="[object Object]",H4e="[object RegExp]",G4e="[object Set]",Y4e="[object String]",J4e="[object URL]",Q4e=Array.isArray,PI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,_I=Object.assign,X4e=Object.prototype.toString.call.bind(Object.prototype.toString);function Z4e(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,m=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,f,x){if(g===f)return!0;if(g==null||f==null)return!1;var b=typeof g;if(b!==typeof f)return!1;if(b!=="object")return b==="number"?o(g,f,x):b==="function"?s(g,f,x):!1;var j=g.constructor;if(j!==f.constructor)return!1;if(j===Object)return l(g,f,x);if(Q4e(g))return t(g,f,x);if(PI!=null&&PI(g))return m(g,f,x);if(j===Date)return n(g,f,x);if(j===RegExp)return d(g,f,x);if(j===Map)return i(g,f,x);if(j===Set)return u(g,f,x);var v=X4e(g);return v===q4e?n(g,f,x):v===H4e?d(g,f,x):v===K4e?i(g,f,x):v===G4e?u(g,f,x):v===W4e?typeof g.then!="function"&&typeof f.then!="function"&&l(g,f,x):v===J4e?h(g,f,x):v===V4e?r(g,f,x):v===B4e?l(g,f,x):v===U4e||v===z4e||v===Y4e?c(g,f,x):!1}}function e5e(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,s={areArraysEqual:r?Cp:T4e,areDatesEqual:E4e,areErrorsEqual:O4e,areFunctionsEqual:D4e,areMapsEqual:r?vI(NI,Cp):NI,areNumbersEqual:M4e,areObjectsEqual:r?Cp:R4e,arePrimitiveWrappersEqual:I4e,areRegExpsEqual:L4e,areSetsEqual:r?vI(kI,Cp):kI,areTypedArraysEqual:r?Cp:$4e,areUrlsEqual:F4e};if(n&&(s=_I({},s,n(s))),t){var i=Yy(s.areArraysEqual),o=Yy(s.areMapsEqual),l=Yy(s.areObjectsEqual),c=Yy(s.areSetsEqual);s=_I({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function t5e(e){return function(t,n,r,s,i,o,l){return e(t,n,l)}}function a5e(e){var t=e.circular,n=e.comparator,r=e.createState,s=e.equals,i=e.strict;if(r)return function(c,d){var u=r(),m=u.cache,h=m===void 0?t?new WeakMap:void 0:m,p=u.meta;return n(c,d,{cache:h,equals:s,meta:p,strict:i})};if(t)return function(c,d){return n(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,d){return n(c,d,o)}}var n5e=Cc();Cc({strict:!0});Cc({circular:!0});Cc({circular:!0,strict:!0});Cc({createInternalComparator:function(){return tu}});Cc({strict:!0,createInternalComparator:function(){return tu}});Cc({circular:!0,createInternalComparator:function(){return tu}});Cc({circular:!0,createInternalComparator:function(){return tu},strict:!0});function Cc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=e5e(e),c=Z4e(l),d=r?r(c):t5e(c);return a5e({circular:n,comparator:c,createState:s,equals:d,strict:o})}function r5e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function SI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(i){n<0&&(n=i),i-n>t?(e(i),n=-1):r5e(s)};requestAnimationFrame(r)}function oS(e){"@babel/helpers - typeof";return oS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oS(e)}function s5e(e){return c5e(e)||l5e(e)||o5e(e)||i5e()}function i5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o5e(e,t){if(e){if(typeof e=="string")return CI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CI(e,t)}}function CI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c5e(e){if(Array.isArray(e))return e}function d5e(){var e={},t=function(){return null},n=!1,r=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=s5e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){SI(s.bind(null,d),c);return}s(c),SI(s.bind(null,d));return}oS(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function TI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(r){L7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L7(e,t,n){return t=u5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u5e(e){var t=m5e(e,"string");return Lg(t)==="symbol"?t:String(t)}function m5e(e,t){if(Lg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h5e=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,s){return r.filter(function(i){return s.includes(i)})})},p5e=function(t){return t},f5e=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},pf=function(t,n){return Object.keys(n).reduce(function(r,s){return TI(TI({},r),{},L7({},s,t(s,n[s])))},{})},EI=function(t,n,r){return t.map(function(s){return"".concat(f5e(s)," ").concat(n,"ms ").concat(r)}).join(",")};function g5e(e,t){return v5e(e)||y5e(e,t)||$7(e,t)||x5e()}function x5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y5e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function v5e(e){if(Array.isArray(e))return e}function b5e(e){return N5e(e)||j5e(e)||$7(e)||w5e()}function w5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7(e,t){if(e){if(typeof e=="string")return lS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lS(e,t)}}function j5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N5e(e){if(Array.isArray(e))return lS(e)}function lS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b0=1e-4,F7=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},B7=function(t,n){return t.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},OI=function(t,n){return function(r){var s=F7(t,n);return B7(s,r)}},k5e=function(t,n){return function(r){var s=F7(t,n),i=[].concat(b5e(s.map(function(o,l){return o*l}).slice(1)),[0]);return B7(i,r)}},DI=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=g5e(d,4);s=u[0],i=u[1],o=u[2],l=u[3]}}}var m=OI(s,o),h=OI(i,l),p=k5e(s,o),g=function(b){return b>1?1:b<0?0:b},f=function(b){for(var j=b>1?1:b,v=j,N=0;N<8;++N){var w=m(v)-j,P=p(v);if(Math.abs(w-j)<b0||P<b0)return h(v);v=g(v-w/P)}return h(v)};return f.isStepper=!1,f},P5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(u,m,h){var p=-(u-m)*r,g=h*i,f=h+(p-g)*l/1e3,x=h*l/1e3+u;return Math.abs(x-m)<b0&&Math.abs(f)<b0?[m,0]:[x,f]};return c.isStepper=!0,c.dt=l,c},_5e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DI(s);case"spring":return P5e();default:if(s.split("(")[0]==="cubic-bezier")return DI(s)}return typeof s=="function"?s:null};function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function MI(e){return A5e(e)||C5e(e)||U7(e)||S5e()}function S5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A5e(e){if(Array.isArray(e))return dS(e)}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){cS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cS(e,t,n){return t=T5e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T5e(e){var t=E5e(e,"string");return $g(t)==="symbol"?t:String(t)}function E5e(e,t){if($g(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($g(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O5e(e,t){return R5e(e)||M5e(e,t)||U7(e,t)||D5e()}function D5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U7(e,t){if(e){if(typeof e=="string")return dS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dS(e,t)}}function dS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M5e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function R5e(e){if(Array.isArray(e))return e}var w0=function(t,n,r){return t+(n-t)*r},uS=function(t){var n=t.from,r=t.to;return n!==r},I5e=function e(t,n,r){var s=pf(function(i,o){if(uS(o)){var l=t(o.from,o.to,o.velocity),c=O5e(l,2),d=c[0],u=c[1];return Yn(Yn({},o),{},{from:d,velocity:u})}return o},n);return r<1?pf(function(i,o){return uS(o)?Yn(Yn({},o),{},{velocity:w0(o.velocity,s[i].velocity,r),from:w0(o.from,s[i].from,r)}):o},n):e(t,s,r-1)};const L5e=function(e,t,n,r,s){var i=h5e(e,t),o=i.reduce(function(x,b){return Yn(Yn({},x),{},cS({},b,[e[b],t[b]]))},{}),l=i.reduce(function(x,b){return Yn(Yn({},x),{},cS({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,d,u,m=function(){return null},h=function(){return pf(function(b,j){return j.from},l)},p=function(){return!Object.values(l).filter(uS).length},g=function(b){d||(d=b);var j=b-d,v=j/n.dt;l=I5e(n,l,v),s(Yn(Yn(Yn({},e),t),h())),d=b,p()||(c=requestAnimationFrame(m))},f=function(b){u||(u=b);var j=(b-u)/r,v=pf(function(w,P){return w0.apply(void 0,MI(P).concat([n(j)]))},o);if(s(Yn(Yn(Yn({},e),t),v)),j<1)c=requestAnimationFrame(m);else{var N=pf(function(w,P){return w0.apply(void 0,MI(P).concat([n(1)]))},o);s(Yn(Yn(Yn({},e),t),N))}};return m=n.isStepper?g:f,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}var $5e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function F5e(e,t){if(e==null)return{};var n=B5e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function B5e(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function $1(e){return K5e(e)||V5e(e)||q5e(e)||U5e()}function U5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q5e(e,t){if(e){if(typeof e=="string")return mS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mS(e,t)}}function V5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K5e(e){if(Array.isArray(e))return mS(e)}function mS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?II(Object(n),!0).forEach(function(r){Wp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wp(e,t,n){return t=q7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W5e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q7(r.key),r)}}function H5e(e,t,n){return t&&W5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q7(e){var t=G5e(e,"string");return ah(t)==="symbol"?t:String(t)}function G5e(e,t){if(ah(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ah(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hS(e,t)}function hS(e,t){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},hS(e,t)}function J5e(e){var t=Q5e();return function(){var r=j0(e),s;if(t){var i=j0(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return pS(this,s)}}function pS(e,t){if(t&&(ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fS(e)}function fS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j0(e){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(e)}var io=function(e){Y5e(n,e);var t=J5e(n);function n(r,s){var i;z5e(this,n),i=t.call(this,r,s);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,m=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(fS(i)),i.changeStyle=i.changeStyle.bind(fS(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),pS(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof h=="function")return i.state={style:d},pS(i);i.state={style:c?Wp({},c,d):d}}else i.state={style:{}};return i}return H5e(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,m=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Wp({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(p);return}if(!(n5e(s.to,u)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=g||d?m:s.to;if(this.state&&h){var x={style:c?Wp({},c,f):f};(c&&h[c]!==f||!c&&h!==f)&&this.setState(x)}this.runAnimation(Xs(Xs({},this.props),{},{from:f,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,d=s.easing,u=s.begin,m=s.onAnimationEnd,h=s.onAnimationStart,p=L5e(o,l,_5e(d),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,u,g,c,m])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],u=d.style,m=d.duration,h=m===void 0?0:m,p=function(f,x,b){if(b===0)return f;var j=x.duration,v=x.easing,N=v===void 0?"ease":v,w=x.style,P=x.properties,k=x.onAnimationEnd,_=b>0?o[b-1]:x,S=P||Object.keys(w);if(typeof N=="function"||N==="spring")return[].concat($1(f),[i.runJSAnimation.bind(i,{from:_.style,to:w,duration:j,easing:N}),j]);var O=EI(S,j,N),A=Xs(Xs(Xs({},_.style),w),{},{transition:O});return[].concat($1(f),[A,j,k]).filter(p5e)};return this.manager.start([c].concat($1(o.reduce(p,[u,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=d5e());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,m=s.onAnimationEnd,h=s.steps,p=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var f=l?Wp({},l,c):c,x=EI(Object.keys(f),o,d);g.start([u,i,Xs(Xs({},f),{},{transition:x}),o,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=F5e(s,$5e),d=y.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var m=function(p){var g=p.props,f=g.style,x=f===void 0?{}:f,b=g.className,j=y.cloneElement(p,Xs(Xs({},c),{},{style:Xs(Xs({},x),u),className:b}));return j};return d===1?m(y.Children.only(i)):X.createElement("div",null,y.Children.map(i,function(h){return m(h)}))}}]),n}(y.PureComponent);io.displayName="Animate";io.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};io.propTypes={from:ra.oneOfType([ra.object,ra.string]),to:ra.oneOfType([ra.object,ra.string]),attributeName:ra.string,duration:ra.number,begin:ra.number,easing:ra.oneOfType([ra.string,ra.func]),steps:ra.arrayOf(ra.shape({duration:ra.number.isRequired,style:ra.object.isRequired,easing:ra.oneOfType([ra.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ra.func]),properties:ra.arrayOf("string"),onAnimationEnd:ra.func})),children:ra.oneOfType([ra.node,ra.func]),isActive:ra.bool,canBegin:ra.bool,onAnimationEnd:ra.func,shouldReAnimate:ra.bool,onAnimationStart:ra.func,onAnimationReStart:ra.func};function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(this,arguments)}function X5e(e,t){return aIe(e)||tIe(e,t)||eIe(e,t)||Z5e()}function Z5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eIe(e,t){if(e){if(typeof e=="string")return LI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LI(e,t)}}function LI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function aIe(e){if(Array.isArray(e))return e}function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function FI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(n),!0).forEach(function(r){nIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nIe(e,t,n){return t=rIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rIe(e){var t=sIe(e,"string");return Fg(t)=="symbol"?t:t+""}function sIe(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BI=function(t,n,r,s,i){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,d=s>=0&&r>=0||s<0&&r<0?1:0,u;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],h=0,p=4;h<p;h++)m[h]=i[h]>o?o:i[h];u="M".concat(t,",").concat(n+l*m[0]),m[0]>0&&(u+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+c*m[0],",").concat(n)),u+="L ".concat(t+r-c*m[1],",").concat(n),m[1]>0&&(u+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+r,",").concat(n+l*m[1])),u+="L ".concat(t+r,",").concat(n+s-l*m[2]),m[2]>0&&(u+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+r-c*m[2],",").concat(n+s)),u+="L ".concat(t+c*m[3],",").concat(n+s),m[3]>0&&(u+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+s-l*m[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);u="M ".concat(t,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+c*g,",").concat(n,`
            L `).concat(t+r-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+r,",").concat(n+l*g,`
            L `).concat(t+r,",").concat(n+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+r-c*g,",").concat(n+s,`
            L `).concat(t+c*g,",").concat(n+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t,",").concat(n+s-l*g," Z")}else u="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return u},iIe=function(t,n){if(!t||!n)return!1;var r=t.x,s=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),m=Math.min(o,o+c),h=Math.max(o,o+c);return r>=d&&r<=u&&s>=m&&s<=h}return!1},oIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WT=function(t){var n=FI(FI({},oIe),t),r=y.useRef(),s=y.useState(-1),i=X5e(s,2),o=i[0],l=i[1];y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,d=n.y,u=n.width,m=n.height,h=n.radius,p=n.className,g=n.animationEasing,f=n.animationDuration,x=n.animationBegin,b=n.isAnimationActive,j=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||u===0||m===0)return null;var v=Mt("recharts-rectangle",p);return j?X.createElement(io,{canBegin:o>0,from:{width:u,height:m,x:c,y:d},to:{width:u,height:m,x:c,y:d},duration:f,animationEasing:g,isActive:j},function(N){var w=N.width,P=N.height,k=N.x,_=N.y;return X.createElement(io,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:f,isActive:b,easing:g},X.createElement("path",N0({},gt(n,!0),{className:v,d:BI(k,_,w,P,h),ref:r})))}):X.createElement("path",N0({},gt(n,!0),{className:v,d:BI(c,d,u,m,h)}))},lIe=["points","className","baseLinePoints","connectNulls"];function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wu.apply(this,arguments)}function cIe(e,t){if(e==null)return{};var n=dIe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function UI(e){return pIe(e)||hIe(e)||mIe(e)||uIe()}function uIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mIe(e,t){if(e){if(typeof e=="string")return gS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gS(e,t)}}function hIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pIe(e){if(Array.isArray(e))return gS(e)}function gS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qI=function(t){return t&&t.x===+t.x&&t.y===+t.y},fIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){qI(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),qI(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ff=function(t,n){var r=fIe(t);n&&(r=[r.reduce(function(i,o){return[].concat(UI(i),UI(o))},[])]);var s=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},gIe=function(t,n,r){var s=ff(t,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(ff(n.reverse(),r).slice(1))},xIe=function(t){var n=t.points,r=t.className,s=t.baseLinePoints,i=t.connectNulls,o=cIe(t,lIe);if(!n||!n.length)return null;var l=Mt("recharts-polygon",r);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=gIe(n,s,i);return X.createElement("g",{className:l},X.createElement("path",Wu({},gt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?X.createElement("path",Wu({},gt(o,!0),{fill:"none",d:ff(n,i)})):null,c?X.createElement("path",Wu({},gt(o,!0),{fill:"none",d:ff(s,i)})):null)}var u=ff(n,i);return X.createElement("path",Wu({},gt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function xS(){return xS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xS.apply(this,arguments)}var Cj=function(t){var n=t.cx,r=t.cy,s=t.r,i=t.className,o=Mt("recharts-dot",i);return n===+n&&r===+r&&s===+s?X.createElement("circle",xS({},gt(t,!1),Vb(t),{className:o,cx:n,cy:r,r:s})):null};function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}var yIe=["x","y","top","left","width","height","className"];function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yS.apply(this,arguments)}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vIe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(n),!0).forEach(function(r){bIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bIe(e,t,n){return t=wIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wIe(e){var t=jIe(e,"string");return Bg(t)=="symbol"?t:t+""}function jIe(e,t){if(Bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NIe(e,t){if(e==null)return{};var n=kIe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var PIe=function(t,n,r,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},_Ie=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,m=u===void 0?0:u,h=t.height,p=h===void 0?0:h,g=t.className,f=NIe(t,yIe),x=vIe({x:r,y:i,top:l,left:d,width:m,height:p},f);return!Ue(r)||!Ue(i)||!Ue(m)||!Ue(p)||!Ue(l)||!Ue(d)?null:X.createElement("path",yS({},gt(x,!0),{className:Mt("recharts-cross",g),d:PIe(r,i,m,p,l,d)}))},SIe=Nj,CIe=e7,AIe=uo;function TIe(e,t){return e&&e.length?SIe(e,AIe(t),CIe):void 0}var EIe=TIe;const OIe=ia(EIe);var DIe=Nj,MIe=uo,RIe=t7;function IIe(e,t){return e&&e.length?DIe(e,MIe(t),RIe):void 0}var LIe=IIe;const $Ie=ia(LIe);var FIe=["cx","cy","angle","ticks","axisLine"],BIe=["ticks","tick","angle","tickFormatter","stroke"];function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gf.apply(this,arguments)}function KI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Rc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(n),!0).forEach(function(r){Aj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zI(e,t){if(e==null)return{};var n=UIe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function qIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K7(r.key),r)}}function VIe(e,t,n){return t&&WI(e.prototype,t),n&&WI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KIe(e,t,n){return t=k0(t),zIe(e,V7()?Reflect.construct(t,n||[],k0(e).constructor):t.apply(e,n))}function zIe(e,t){if(t&&(nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WIe(e)}function WIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V7=function(){return!!e})()}function k0(e){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k0(e)}function HIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vS(e,t)}function vS(e,t){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},vS(e,t)}function Aj(e,t,n){return t=K7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K7(e){var t=GIe(e,"string");return nh(t)=="symbol"?t:t+""}function GIe(e,t){if(nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tj=function(e){function t(){return qIe(this,t),KIe(this,t,arguments)}return HIe(t,e),VIe(t,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Sa(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=OIe(l,function(u){return u.coordinate||0}),d=$Ie(l,function(u){return u.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,d=zI(r,FIe),u=l.reduce(function(g,f){return[Math.min(g[0],f.coordinate),Math.max(g[1],f.coordinate)]},[1/0,-1/0]),m=Sa(s,i,u[0],o),h=Sa(s,i,u[1],o),p=Rc(Rc(Rc({},gt(d,!1)),{},{fill:"none"},gt(c,!1)),{},{x1:m.x,y1:m.y,x2:h.x,y2:h.y});return X.createElement("line",gf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,u=zI(s,BIe),m=this.getTickTextAnchor(),h=gt(u,!1),p=gt(o,!1),g=i.map(function(f,x){var b=r.getTickValueCoord(f),j=Rc(Rc(Rc(Rc({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:d},p),{},{index:x},b),{},{payload:f});return X.createElement(ta,gf({className:Mt("recharts-polar-radius-axis-tick",A7(o)),key:"tick-".concat(f.coordinate)},Ud(r.props,f,x)),t.renderTickItem(o,j,c?c(f.value,x):f.value))});return X.createElement(ta,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.axisLine,o=r.tick;return!s||!s.length?null:X.createElement(ta,{className:Mt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Un.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,i){var o;return X.isValidElement(r)?o=X.cloneElement(r,s):St(r)?o=r(s):o=X.createElement(qd,gf({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(y.PureComponent);Aj(Tj,"displayName","PolarRadiusAxis");Aj(Tj,"axisType","radiusAxis");Aj(Tj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yc.apply(this,arguments)}function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(r){Ej(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W7(r.key),r)}}function JIe(e,t,n){return t&&GI(e.prototype,t),n&&GI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function QIe(e,t,n){return t=P0(t),XIe(e,z7()?Reflect.construct(t,n||[],P0(e).constructor):t.apply(e,n))}function XIe(e,t){if(t&&(rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZIe(e)}function ZIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z7=function(){return!!e})()}function P0(e){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P0(e)}function e3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bS(e,t)}function bS(e,t){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},bS(e,t)}function Ej(e,t,n){return t=W7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W7(e){var t=t3e(e,"string");return rh(t)=="symbol"?t:t+""}function t3e(e,t){if(rh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a3e=Math.PI/180,YI=1e-5,Oj=function(e){function t(){return YIe(this,t),QIe(this,t,arguments)}return e3e(t,e),JIe(t,[{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,u=d||8,m=Sa(i,o,l,r.coordinate),h=Sa(i,o,l+(c==="inner"?-1:1)*u,r.coordinate);return{x1:m.x,y1:m.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,i=Math.cos(-r.coordinate*a3e),o;return i>YI?o=s==="outer"?"start":"end":i<-YI?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,d=Ic(Ic({},gt(this.props,!1)),{},{fill:"none"},gt(l,!1));if(c==="circle")return X.createElement(Cj,Yc({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var u=this.props.ticks,m=u.map(function(h){return Sa(s,i,o,h.coordinate)});return X.createElement(xIe,Yc({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,u=gt(this.props,!1),m=gt(o,!1),h=Ic(Ic({},u),{},{fill:"none"},gt(l,!1)),p=i.map(function(g,f){var x=r.getTickLineCoord(g),b=r.getTickTextAnchor(g),j=Ic(Ic(Ic({textAnchor:b},u),{},{stroke:"none",fill:d},m),{},{index:f,payload:g,x:x.x2,y:x.y2});return X.createElement(ta,Yc({className:Mt("recharts-polar-angle-axis-tick",A7(o)),key:"tick-".concat(g.coordinate)},Ud(r.props,g,f)),l&&X.createElement("line",Yc({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,j,c?c(g.value,f):g.value))});return X.createElement(ta,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!s||!s.length?null:X.createElement(ta,{className:Mt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,i){var o;return X.isValidElement(r)?o=X.cloneElement(r,s):St(r)?o=r(s):o=X.createElement(qd,Yc({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(y.PureComponent);Ej(Oj,"displayName","PolarAngleAxis");Ej(Oj,"axisType","angleAxis");Ej(Oj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var n3e=Jz,r3e=n3e(Object.getPrototypeOf,Object),s3e=r3e,i3e=cl,o3e=s3e,l3e=dl,c3e="[object Object]",d3e=Function.prototype,u3e=Object.prototype,H7=d3e.toString,m3e=u3e.hasOwnProperty,h3e=H7.call(Object);function p3e(e){if(!l3e(e)||i3e(e)!=c3e)return!1;var t=o3e(e);if(t===null)return!0;var n=m3e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&H7.call(n)==h3e}var f3e=p3e;const g3e=ia(f3e);var x3e=cl,y3e=dl,v3e="[object Boolean]";function b3e(e){return e===!0||e===!1||y3e(e)&&x3e(e)==v3e}var w3e=b3e;const j3e=ia(w3e);function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_0.apply(this,arguments)}function N3e(e,t){return S3e(e)||_3e(e,t)||P3e(e,t)||k3e()}function k3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3e(e,t){if(e){if(typeof e=="string")return JI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JI(e,t)}}function JI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function S3e(e){if(Array.isArray(e))return e}function QI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function XI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(n),!0).forEach(function(r){C3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C3e(e,t,n){return t=A3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A3e(e){var t=T3e(e,"string");return Ug(t)=="symbol"?t:t+""}function T3e(e,t){if(Ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZI=function(t,n,r,s,i){var o=r-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-s,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},E3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O3e=function(t){var n=XI(XI({},E3e),t),r=y.useRef(),s=y.useState(-1),i=N3e(s,2),o=i[0],l=i[1];y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&l(v)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,m=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,f=n.animationDuration,x=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||h!==+h||u===0&&m===0||h===0)return null;var j=Mt("recharts-trapezoid",p);return b?X.createElement(io,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:m,height:h,x:c,y:d},duration:f,animationEasing:g,isActive:b},function(v){var N=v.upperWidth,w=v.lowerWidth,P=v.height,k=v.x,_=v.y;return X.createElement(io,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:f,easing:g},X.createElement("path",_0({},gt(n,!0),{className:j,d:ZI(k,_,N,w,P),ref:r})))}):X.createElement("g",null,X.createElement("path",_0({},gt(n,!0),{className:j,d:ZI(c,d,u,m,h)})))},D3e=["option","shapeType","propTransformer","activeClassName","isActive"];function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function M3e(e,t){if(e==null)return{};var n=R3e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function R3e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function S0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(r){I3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I3e(e,t,n){return t=L3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L3e(e){var t=$3e(e,"string");return qg(t)=="symbol"?t:t+""}function $3e(e,t){if(qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F3e(e,t){return S0(S0({},t),e)}function B3e(e,t){return e==="symbols"}function t3(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return X.createElement(WT,n);case"trapezoid":return X.createElement(O3e,n);case"sector":return X.createElement(O7,n);case"symbols":if(B3e(t))return X.createElement(uT,n);break;default:return null}}function U3e(e){return y.isValidElement(e)?e.props:e}function G7(e){var t=e.option,n=e.shapeType,r=e.propTransformer,s=r===void 0?F3e:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=M3e(e,D3e),d;if(y.isValidElement(t))d=y.cloneElement(t,S0(S0({},c),U3e(t)));else if(St(t))d=t(c);else if(g3e(t)&&!j3e(t)){var u=s(t,c);d=X.createElement(t3,{shapeType:n,elementProps:u})}else{var m=c;d=X.createElement(t3,{shapeType:n,elementProps:m})}return l?X.createElement(ta,{className:o},d):d}function Dj(e,t){return t!=null&&"trapezoids"in e.props}function Mj(e,t){return t!=null&&"sectors"in e.props}function Vg(e,t){return t!=null&&"points"in e.props}function q3e(e,t){var n,r,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return s&&i}function V3e(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function K3e(e,t){var n=e.x===t.x,r=e.y===t.y,s=e.z===t.z;return n&&r&&s}function z3e(e,t){var n;return Dj(e,t)?n=q3e:Mj(e,t)?n=V3e:Vg(e,t)&&(n=K3e),n}function W3e(e,t){var n;return Dj(e,t)?n="trapezoids":Mj(e,t)?n="sectors":Vg(e,t)&&(n="points"),n}function H3e(e,t){if(Dj(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Mj(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Vg(e,t)?t.payload:{}}function G3e(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,s=W3e(n,t),i=H3e(n,t),o=r.filter(function(c,d){var u=Vx(i,c),m=n.props[s].filter(function(g){var f=z3e(n,t);return f(g,t)}),h=n.props[s].indexOf(m[m.length-1]),p=d===h;return u&&p}),l=r.indexOf(o[o.length-1]);return l}var Pv;function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hu.apply(this,arguments)}function a3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(n),!0).forEach(function(r){Ls(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J7(r.key),r)}}function J3e(e,t,n){return t&&n3(e.prototype,t),n&&n3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q3e(e,t,n){return t=C0(t),X3e(e,Y7()?Reflect.construct(t,n||[],C0(e).constructor):t.apply(e,n))}function X3e(e,t){if(t&&(sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z3e(e)}function Z3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y7=function(){return!!e})()}function C0(e){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(e)}function eLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wS(e,t)}function wS(e,t){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},wS(e,t)}function Ls(e,t,n){return t=J7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J7(e){var t=tLe(e,"string");return sh(t)=="symbol"?t:t+""}function tLe(e,t){if(sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ml=function(e){function t(n){var r;return Y3e(this,t),r=Q3e(this,t,[n]),Ls(r,"pieRef",null),Ls(r,"sectorRefs",[]),Ls(r,"id",Gh("recharts-pie-")),Ls(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),St(s)&&s()}),Ls(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),St(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return eLe(t,e),J3e(t,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=gt(this.props,!1),m=gt(o,!1),h=gt(l,!1),p=o&&o.offsetRadius||20,g=r.map(function(f,x){var b=(f.startAngle+f.endAngle)/2,j=Sa(f.cx,f.cy,f.outerRadius+p,b),v=Na(Na(Na(Na({},u),f),{},{stroke:"none"},m),{},{index:x,textAnchor:t.getTextAnchor(j.x,f.cx)},j),N=Na(Na(Na(Na({},u),f),{},{fill:"none",stroke:f.fill},h),{},{index:x,points:[Sa(f.cx,f.cy,f.outerRadius,b),j]}),w=c;return Ot(c)&&Ot(d)?w="value":Ot(c)&&(w=d),X.createElement(ta,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,v,On(f,w)))});return X.createElement(ta,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var m=s.isActiveIndex(u),h=c&&s.hasActiveIndex()?c:null,p=m?o:h,g=Na(Na({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return X.createElement(ta,Hu({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Ud(s.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),X.createElement(G7,Hu({option:p,isActive:m,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,m=this.state,h=m.prevSectors,p=m.prevIsAnimationActive;return X.createElement(io,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var f=g.t,x=[],b=i&&i[0],j=b.startAngle;return i.forEach(function(v,N){var w=h&&h[N],P=N>0?xs(v,"paddingAngle",0):0;if(w){var k=ss(w.endAngle-w.startAngle,v.endAngle-v.startAngle),_=Na(Na({},v),{},{startAngle:j+P,endAngle:j+k(f)+P});x.push(_),j=_.endAngle}else{var S=v.endAngle,O=v.startAngle,A=ss(0,S-O),E=A(f),D=Na(Na({},v),{},{startAngle:j+P,endAngle:j+E+P});x.push(D),j=D.endAngle}}),X.createElement(ta,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Vx(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,u=s.cy,m=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Ue(d)||!Ue(u)||!Ue(m)||!Ue(h))return null;var f=Mt("recharts-pie",l);return X.createElement(ta,{tabIndex:this.props.rootTabIndex,className:f,ref:function(b){r.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Un.renderCallByParent(this.props,null,!1),(!p||g)&&Uo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,i){if(X.isValidElement(r))return X.cloneElement(r,s);if(St(r))return r(s);var o=Mt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return X.createElement(v0,Hu({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,s,i){if(X.isValidElement(r))return X.cloneElement(r,s);var o=i;if(St(r)&&(o=r(s),X.isValidElement(o)))return o;var l=Mt("recharts-pie-label-text",typeof r!="boolean"&&!St(r)?r.className:"");return X.createElement(qd,Hu({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(y.PureComponent);Pv=ml;Ls(ml,"displayName","Pie");Ls(ml,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ji.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ls(ml,"parseDeltaAngle",function(e,t){var n=Nr(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Ls(ml,"getRealPieData",function(e){var t=e.data,n=e.children,r=gt(e,!1),s=ys(n,gj);return t&&t.length?t.map(function(i,o){return Na(Na(Na({payload:i},r),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Na(Na({},r),i.props)}):[]});Ls(ml,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,s=t.width,i=t.height,o=C7(s,i),l=r+kr(e.cx,s,s/2),c=n+kr(e.cy,i,i/2),d=kr(e.innerRadius,o,0),u=kr(e.outerRadius,o,o*.8),m=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:m}});Ls(ml,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Na(Na({},t.type.defaultProps),t.props):t.props,s=Pv.getRealPieData(r);if(!s||!s.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,d=r.dataKey,u=r.nameKey,m=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),g=Pv.parseCoordinateOfPie(r,n),f=Pv.parseDeltaAngle(o,l),x=Math.abs(f),b=d;Ot(d)&&Ot(m)?(wi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Ot(d)&&(wi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=m);var j=s.filter(function(_){return On(_,b,0)!==0}).length,v=(x>=360?j:j-1)*c,N=x-j*p-v,w=s.reduce(function(_,S){var O=On(S,b,0);return _+(Ue(O)?O:0)},0),P;if(w>0){var k;P=s.map(function(_,S){var O=On(_,b,0),A=On(_,u,S),E=(Ue(O)?O:0)/w,D;S?D=k.endAngle+Nr(f)*c*(O!==0?1:0):D=o;var B=D+Nr(f)*((O!==0?p:0)+E*N),z=(D+B)/2,K=(g.innerRadius+g.outerRadius)/2,Y=[{name:A,value:O,payload:_,dataKey:b,type:h}],M=Sa(g.cx,g.cy,K,z);return k=Na(Na(Na({percent:E,cornerRadius:i,name:A,tooltipPayload:Y,midAngle:z,middleRadius:K,tooltipPosition:M},_),g),{},{value:On(_,b),startAngle:D,endAngle:B,payload:_,paddingAngle:Nr(f)*c}),k})}return Na(Na({},g),{},{sectors:P,data:s})});var aLe=Math.ceil,nLe=Math.max;function rLe(e,t,n,r){for(var s=-1,i=nLe(aLe((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++s]=e,e+=n;return o}var sLe=rLe,iLe=fW,r3=1/0,oLe=17976931348623157e292;function lLe(e){if(!e)return e===0?e:0;if(e=iLe(e),e===r3||e===-r3){var t=e<0?-1:1;return t*oLe}return e===e?e:0}var Q7=lLe,cLe=sLe,dLe=fj,F1=Q7;function uLe(e){return function(t,n,r){return r&&typeof r!="number"&&dLe(t,n,r)&&(n=r=void 0),t=F1(t),n===void 0?(n=t,t=0):n=F1(n),r=r===void 0?t<n?1:-1:F1(r),cLe(t,n,r,e)}}var mLe=uLe,hLe=mLe,pLe=hLe(),fLe=pLe;const A0=ia(fLe);function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function s3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function i3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(n),!0).forEach(function(r){X7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X7(e,t,n){return t=gLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gLe(e){var t=xLe(e,"string");return Kg(t)=="symbol"?t:t+""}function xLe(e,t){if(Kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yLe=["Webkit","Moz","O","ms"],vLe=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=yLe.reduce(function(i,o){return i3(i3({},i),{},X7({},o+r,n))},{});return s[t]=n,s};function ih(e){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ih(e)}function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0.apply(this,arguments)}function o3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function B1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(n),!0).forEach(function(r){Zr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eH(r.key),r)}}function wLe(e,t,n){return t&&l3(e.prototype,t),n&&l3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jLe(e,t,n){return t=E0(t),NLe(e,Z7()?Reflect.construct(t,n||[],E0(e).constructor):t.apply(e,n))}function NLe(e,t){if(t&&(ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kLe(e)}function kLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z7=function(){return!!e})()}function E0(e){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E0(e)}function PLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jS(e,t)}function jS(e,t){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},jS(e,t)}function Zr(e,t,n){return t=eH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eH(e){var t=_Le(e,"string");return ih(t)=="symbol"?t:t+""}function _Le(e,t){if(ih(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SLe=function(t){var n=t.data,r=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=mf().domain(A0(0,c)).range([i,i+o-l]),u=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(s),scale:d,scaleValues:u}},c3=function(t){return t.changedTouches&&!!t.changedTouches.length},oh=function(e){function t(n){var r;return bLe(this,t),r=jLe(this,t,[n]),Zr(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),Zr(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),Zr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),Zr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Zr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Zr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Zr(r,"handleSlideDragStart",function(s){var i=c3(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return PLe(t,e),wLe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,m=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,m),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===u?u:g-g%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=On(i[r],l,r);return St(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,u=c.width,m=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,f=r.pageX-i;f>0?f=Math.min(f,d+u-m-l,d+u-m-o):f<0&&(f=Math.max(f,d-o,d-l));var x=this.getIndex({startX:o+f,endX:l+f});(x.startIndex!==h||x.endIndex!==p)&&g&&g(x),this.setState({startX:o+f,endX:l+f,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var i=c3(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],u=this.props,m=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,f=u.gap,x=u.data,b={startX:this.state.startX,endX:this.state.endX},j=r.pageX-i;j>0?j=Math.min(j,m+h-p-d):j<0&&(j=Math.max(j,m-d)),b[o]=d+j;var v=this.getIndex(b),N=v.startIndex,w=v.endIndex,P=function(){var _=x.length-1;return o==="startX"&&(l>c?N%f===0:w%f===0)||l<c&&w===_||o==="endX"&&(l>c?w%f===0:N%f===0)||l>c&&w===_};this.setState(Zr(Zr({},o,d+j),"brushMoveStartX",r.pageX),function(){g&&P()&&g(v)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[s],m=l.indexOf(u);if(m!==-1){var h=m+r;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=d||s==="endX"&&p<=c||this.setState(Zr({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,d=r.stroke;return X.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.data,d=r.children,u=r.padding,m=y.Children.only(d);return m?X.cloneElement(m,{x:s,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,m=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,f=c.startIndex,x=c.endIndex,b=Math.max(r,this.props.x),j=B1(B1({},gt(this.props,!1)),{},{x:b,y:d,width:u,height:m}),v=p||"Min value: ".concat((i=g[f])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return X.createElement(ta,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,j))}},{key:"renderSlide",value:function(r,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(r,s)+d,m=Math.max(Math.abs(s-r)-d,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,u=this.state,m=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:d};return X.createElement(ta,{className:"recharts-brush-texts"},X.createElement(qd,T0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,h)-p,y:o+l/2},g),this.getTextOfTick(s)),X.createElement(qd,T0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,h)+c+p,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,s=r.data,i=r.className,o=r.children,l=r.x,c=r.y,d=r.width,u=r.height,m=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,f=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,j=h.isTravellerFocused;if(!s||!s.length||!Ue(l)||!Ue(c)||!Ue(d)||!Ue(u)||d<=0||u<=0)return null;var v=Mt("recharts-brush",i),N=X.Children.count(o)===1,w=vLe("userSelect","none");return X.createElement(ta,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(f||x||b||j||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,d=Math.floor(i+l/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),X.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var i;return X.isValidElement(r)?i=X.cloneElement(r,s):St(r)?i=r(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(r,s){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,u=r.startIndex,m=r.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return B1({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?SLe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,s){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}])}(y.PureComponent);Zr(oh,"displayName","Brush");Zr(oh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CLe=yT;function ALe(e,t){var n;return CLe(e,function(r,s,i){return n=t(r,s,i),!n}),!!n}var TLe=ALe,ELe=qz,OLe=uo,DLe=TLe,MLe=Yr,RLe=fj;function ILe(e,t,n){var r=MLe(e)?ELe:DLe;return n&&RLe(e,t,n)&&(t=void 0),r(e,OLe(t))}var LLe=ILe;const $Le=ia(LLe);var Xi=function(t,n){var r=t.alwaysShow,s=t.ifOverflow;return r&&(s="extendDomain"),s===n},d3=dW;function FLe(e,t,n){t=="__proto__"&&d3?d3(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var BLe=FLe,ULe=BLe,qLe=lW,VLe=uo;function KLe(e,t){var n={};return t=VLe(t),qLe(e,function(r,s,i){ULe(n,s,t(r,s,i))}),n}var zLe=KLe;const WLe=ia(zLe);function HLe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var GLe=HLe,YLe=yT;function JLe(e,t){var n=!0;return YLe(e,function(r,s,i){return n=!!t(r,s,i),n}),n}var QLe=JLe,XLe=GLe,ZLe=QLe,e$e=uo,t$e=Yr,a$e=fj;function n$e(e,t,n){var r=t$e(e)?XLe:ZLe;return n&&a$e(e,t,n)&&(t=void 0),r(e,e$e(t))}var r$e=n$e;const tH=ia(r$e);var s$e=["x","y"];function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function NS(){return NS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NS.apply(this,arguments)}function u3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(n),!0).forEach(function(r){i$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i$e(e,t,n){return t=o$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o$e(e){var t=l$e(e,"string");return zg(t)=="symbol"?t:t+""}function l$e(e,t){if(zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c$e(e,t){if(e==null)return{};var n=d$e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function d$e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function u$e(e,t){var n=e.x,r=e.y,s=c$e(e,s$e),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),m="".concat(t.width||s.width),h=parseInt(m,10);return Ap(Ap(Ap(Ap(Ap({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function m3(e){return X.createElement(G7,NS({shapeType:"rectangle",propTransformer:u$e,activeClassName:"recharts-active-bar"},e))}var m$e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof t=="number")return t;var i=typeof r=="number";return i?t(r,s):(i||Kd(),n)}},h$e=["value","background"],aH;function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}function p$e(e,t){if(e==null)return{};var n=f$e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function f$e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(this,arguments)}function h3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(n),!0).forEach(function(r){Kl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rH(r.key),r)}}function x$e(e,t,n){return t&&p3(e.prototype,t),n&&p3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y$e(e,t,n){return t=D0(t),v$e(e,nH()?Reflect.construct(t,n||[],D0(e).constructor):t.apply(e,n))}function v$e(e,t){if(t&&(lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b$e(e)}function b$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nH=function(){return!!e})()}function D0(e){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(e)}function w$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kS(e,t)}function kS(e,t){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},kS(e,t)}function Kl(e,t,n){return t=rH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rH(e){var t=j$e(e,"string");return lh(t)=="symbol"?t:t+""}function j$e(e,t){if(lh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xc=function(e){function t(){var n;g$e(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=y$e(this,t,[].concat(s)),Kl(n,"state",{isAnimationFinished:!1}),Kl(n,"id",Gh("recharts-bar-")),Kl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Kl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return w$e(t,e),x$e(t,[{key:"renderRectanglesStatically",value:function(r){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=gt(this.props,!1);return r&&r.map(function(m,h){var p=h===c,g=p?d:o,f=yn(yn(yn({},u),m),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return X.createElement(ta,O0({className:"recharts-bar-rectangle"},Ud(s.props,m,h),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(h)}),X.createElement(m3,f))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,m=s.animationId,h=this.state.prevData;return X.createElement(io,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,f=i.map(function(x,b){var j=h&&h[b];if(j){var v=ss(j.x,x.x),N=ss(j.y,x.y),w=ss(j.width,x.width),P=ss(j.height,x.height);return yn(yn({},x),{},{x:v(g),y:N(g),width:w(g),height:P(g)})}if(o==="horizontal"){var k=ss(0,x.height),_=k(g);return yn(yn({},x),{},{y:x.y+x.height-_,height:_})}var S=ss(0,x.width),O=S(g);return yn(yn({},x),{},{width:O})});return X.createElement(ta,null,r.renderRectanglesStatically(f))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Vx(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=gt(this.props.background,!1);return i.map(function(d,u){d.value;var m=d.background,h=p$e(d,h$e);if(!m)return null;var p=yn(yn(yn(yn(yn({},h),{},{fill:"#eee"},m),c),Ud(r.props,d,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return X.createElement(m3,O0({key:"background-bar-".concat(u),option:r.props.background,isActive:u===l},p))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=ys(u,Kx);if(!m)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,p=function(x,b){var j=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:j,errorVal:On(x,b)}},g={clipPath:r?"url(#clipPath-".concat(s,")"):null};return X.createElement(ta,g,m.map(function(f){return X.cloneElement(f,{key:"error-bar-".concat(s,"-").concat(f.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,d=r.left,u=r.top,m=r.width,h=r.height,p=r.isAnimationActive,g=r.background,f=r.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=Mt("recharts-bar",o),j=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,N=j||v,w=Ot(f)?this.id:f;return X.createElement(ta,{className:b},j||v?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(w)},X.createElement("rect",{x:j?d:d-m/2,y:v?u:u-h/2,width:j?m:m*2,height:v?h:h*2}))):null,X.createElement(ta,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,w),(!p||x)&&Uo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(y.PureComponent);aH=xc;Kl(xc,"displayName","Bar");Kl(xc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ji.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Kl(xc,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,m=e.displayedData,h=e.offset,p=aRe(r,n);if(!p)return null;var g=t.layout,f=n.type.defaultProps,x=f!==void 0?yn(yn({},f),n.props):n.props,b=x.dataKey,j=x.children,v=x.minPointSize,N=g==="horizontal"?o:i,w=d?N.scale.domain():null,P=cRe({numericAxis:N}),k=ys(j,gj),_=m.map(function(S,O){var A,E,D,B,z,K;d?A=nRe(d[u+O],w):(A=On(S,b),Array.isArray(A)||(A=[P,A]));var Y=m$e(v,aH.defaultProps.minPointSize)(A[1],O);if(g==="horizontal"){var M,R=[o.scale(A[0]),o.scale(A[1])],J=R[0],ie=R[1];E=nI({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:S,index:O}),D=(M=ie??J)!==null&&M!==void 0?M:void 0,B=p.size;var F=J-ie;if(z=Number.isNaN(F)?0:F,K={x:E,y:o.y,width:B,height:o.height},Math.abs(Y)>0&&Math.abs(z)<Math.abs(Y)){var le=Nr(z||Y)*(Math.abs(Y)-Math.abs(z));D-=le,z+=le}}else{var q=[i.scale(A[0]),i.scale(A[1])],ve=q[0],ye=q[1];if(E=ve,D=nI({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:S,index:O}),B=ye-ve,z=p.size,K={x:i.x,y:D,width:i.width,height:z},Math.abs(Y)>0&&Math.abs(B)<Math.abs(Y)){var H=Nr(B||Y)*(Math.abs(Y)-Math.abs(B));B+=H}}return yn(yn(yn({},S),{},{x:E,y:D,width:B,height:z,value:d?A:A[1],payload:S,background:K},k&&k[O]&&k[O].props),{},{tooltipPayload:[_7(n,S)],tooltipPosition:{x:E+B/2,y:D+z/2}})});return yn({data:_,layout:g},h)});function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function N$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sH(r.key),r)}}function k$e(e,t,n){return t&&f3(e.prototype,t),n&&f3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(n),!0).forEach(function(r){Rj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rj(e,t,n){return t=sH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(e){var t=P$e(e,"string");return Wg(t)=="symbol"?t:t+""}function P$e(e,t){if(Wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iH=function(t,n,r,s,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(n),m={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!as(d,xc);return u.reduce(function(p,g){var f=n[g],x=f.orientation,b=f.domain,j=f.padding,v=j===void 0?{}:j,N=f.mirror,w=f.reversed,P="".concat(x).concat(N?"Mirror":""),k,_,S,O,A;if(f.type==="number"&&(f.padding==="gap"||f.padding==="no-gap")){var E=b[1]-b[0],D=1/0,B=f.categoricalDomain.sort();if(B.forEach(function(q,ve){ve>0&&(D=Math.min((q||0)-(B[ve-1]||0),D))}),Number.isFinite(D)){var z=D/E,K=f.layout==="vertical"?r.height:r.width;if(f.padding==="gap"&&(k=z*K/2),f.padding==="no-gap"){var Y=kr(t.barCategoryGap,z*K),M=z*K/2;k=M-Y-(M-Y)/K*Y}}}s==="xAxis"?_=[r.left+(v.left||0)+(k||0),r.left+r.width-(v.right||0)-(k||0)]:s==="yAxis"?_=c==="horizontal"?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(k||0),r.top+r.height-(v.bottom||0)-(k||0)]:_=f.range,w&&(_=[_[1],_[0]]);var R=j7(f,i,h),J=R.scale,ie=R.realScaleType;J.domain(b).range(_),N7(J);var F=k7(J,li(li({},f),{},{realScaleType:ie}));s==="xAxis"?(A=x==="top"&&!N||x==="bottom"&&N,S=r.left,O=m[P]-A*f.height):s==="yAxis"&&(A=x==="left"&&!N||x==="right"&&N,S=m[P]-A*f.width,O=r.top);var le=li(li(li({},f),F),{},{realScaleType:ie,x:S,y:O,scale:J,width:s==="xAxis"?r.width:f.width,height:s==="yAxis"?r.height:f.height});return le.bandSize=g0(le,F),!f.hide&&s==="xAxis"?m[P]+=(A?-1:1)*le.height:f.hide||(m[P]+=(A?-1:1)*le.width),li(li({},p),{},Rj({},g,le))},{})},oH=function(t,n){var r=t.x,s=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(s,o),width:Math.abs(i-r),height:Math.abs(o-s)}},_$e=function(t){var n=t.x1,r=t.y1,s=t.x2,i=t.y2;return oH({x:n,y:r},{x:s,y:i})},lH=function(){function e(t){N$e(this,e),this.scale=t}return k$e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],i=r[r.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();Rj(lH,"EPS",1e-4);var HT=function(t){var n=Object.keys(t).reduce(function(r,s){return li(li({},r),{},Rj({},s,lH.create(t[s])))},{});return li(li({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return WLe(s,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return tH(s,function(i,o){return n[o].isInRange(i)})}})};function S$e(e){return(e%180+180)%180}var C$e=function(t){var n=t.width,r=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=S$e(s),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},A$e=uo,T$e=$x,E$e=hj;function O$e(e){return function(t,n,r){var s=Object(t);if(!T$e(t)){var i=A$e(n);t=E$e(t),n=function(l){return i(s[l],l,s)}}var o=e(t,n,r);return o>-1?s[i?t[o]:o]:void 0}}var D$e=O$e,M$e=Q7;function R$e(e){var t=M$e(e),n=t%1;return t===t?n?t-n:t:0}var I$e=R$e,L$e=aW,$$e=uo,F$e=I$e,B$e=Math.max;function U$e(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:F$e(n);return s<0&&(s=B$e(r+s,0)),L$e(e,$$e(t),s)}var q$e=U$e,V$e=D$e,K$e=q$e,z$e=V$e(K$e),W$e=z$e;const H$e=ia(W$e);var G$e=V0e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),GT=y.createContext(void 0),YT=y.createContext(void 0),cH=y.createContext(void 0),dH=y.createContext({}),uH=y.createContext(void 0),mH=y.createContext(0),hH=y.createContext(0),x3=function(t){var n=t.state,r=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=G$e(i);return X.createElement(GT.Provider,{value:r},X.createElement(YT.Provider,{value:s},X.createElement(dH.Provider,{value:i},X.createElement(cH.Provider,{value:u},X.createElement(uH.Provider,{value:o},X.createElement(mH.Provider,{value:d},X.createElement(hH.Provider,{value:c},l)))))))},Y$e=function(){return y.useContext(uH)},pH=function(t){var n=y.useContext(GT);n==null&&Kd();var r=n[t];return r==null&&Kd(),r},J$e=function(){var t=y.useContext(GT);return Al(t)},Q$e=function(){var t=y.useContext(YT),n=H$e(t,function(r){return tH(r.domain,Number.isFinite)});return n||Al(t)},fH=function(t){var n=y.useContext(YT);n==null&&Kd();var r=n[t];return r==null&&Kd(),r},X$e=function(){var t=y.useContext(cH);return t},Z$e=function(){return y.useContext(dH)},JT=function(){return y.useContext(hH)},QT=function(){return y.useContext(mH)};function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(e)}function eFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tFe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xH(r.key),r)}}function aFe(e,t,n){return t&&tFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nFe(e,t,n){return t=M0(t),rFe(e,gH()?Reflect.construct(t,n||[],M0(e).constructor):t.apply(e,n))}function rFe(e,t){if(t&&(ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sFe(e)}function sFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gH=function(){return!!e})()}function M0(e){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M0(e)}function iFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PS(e,t)}function PS(e,t){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},PS(e,t)}function y3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function v3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(n),!0).forEach(function(r){XT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XT(e,t,n){return t=xH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xH(e){var t=oFe(e,"string");return ch(t)=="symbol"?t:t+""}function oFe(e,t){if(ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lFe(e,t){return mFe(e)||uFe(e,t)||dFe(e,t)||cFe()}function cFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dFe(e,t){if(e){if(typeof e=="string")return b3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b3(e,t)}}function b3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uFe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function mFe(e){if(Array.isArray(e))return e}function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_S.apply(this,arguments)}var hFe=function(t,n){var r;return X.isValidElement(t)?r=X.cloneElement(t,n):St(t)?r=t(n):r=X.createElement("line",_S({},n,{className:"recharts-reference-line-line"})),r},pFe=function(t,n,r,s,i,o,l,c,d){var u=i.x,m=i.y,h=i.width,p=i.height;if(r){var g=d.y,f=t.y.apply(g,{position:o});if(Xi(d,"discard")&&!t.y.isInRange(f))return null;var x=[{x:u+h,y:f},{x:u,y:f}];return c==="left"?x.reverse():x}if(n){var b=d.x,j=t.x.apply(b,{position:o});if(Xi(d,"discard")&&!t.x.isInRange(j))return null;var v=[{x:j,y:m+p},{x:j,y:m}];return l==="top"?v.reverse():v}if(s){var N=d.segment,w=N.map(function(P){return t.apply(P,{position:o})});return Xi(d,"discard")&&$Le(w,function(P){return!t.isInRange(P)})?null:w}return null};function fFe(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=Y$e(),u=pH(s),m=fH(i),h=X$e();if(!d||!h)return null;wi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=HT({x:u.scale,y:m.scale}),g=Rn(t),f=Rn(n),x=r&&r.length===2,b=pFe(p,g,f,x,h,e.position,u.orientation,m.orientation,e);if(!b)return null;var j=lFe(b,2),v=j[0],N=v.x,w=v.y,P=j[1],k=P.x,_=P.y,S=Xi(e,"hidden")?"url(#".concat(d,")"):void 0,O=v3(v3({clipPath:S},gt(e,!0)),{},{x1:N,y1:w,x2:k,y2:_});return X.createElement(ta,{className:Mt("recharts-reference-line",l)},hFe(o,O),Un.renderCallByParent(e,_$e({x1:N,y1:w,x2:k,y2:_})))}var ZT=function(e){function t(){return eFe(this,t),nFe(this,t,arguments)}return iFe(t,e),aFe(t,[{key:"render",value:function(){return X.createElement(fFe,this.props)}}])}(X.Component);XT(ZT,"displayName","ReferenceLine");XT(ZT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SS.apply(this,arguments)}function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function w3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function j3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(n),!0).forEach(function(r){Ij(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xFe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vH(r.key),r)}}function yFe(e,t,n){return t&&xFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vFe(e,t,n){return t=R0(t),bFe(e,yH()?Reflect.construct(t,n||[],R0(e).constructor):t.apply(e,n))}function bFe(e,t){if(t&&(dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wFe(e)}function wFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yH=function(){return!!e})()}function R0(e){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R0(e)}function jFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CS(e,t)}function CS(e,t){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},CS(e,t)}function Ij(e,t,n){return t=vH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vH(e){var t=NFe(e,"string");return dh(t)=="symbol"?t:t+""}function NFe(e,t){if(dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kFe=function(t){var n=t.x,r=t.y,s=t.xAxis,i=t.yAxis,o=HT({x:s.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Xi(t,"discard")&&!o.isInRange(l)?null:l},Lj=function(e){function t(){return gFe(this,t),vFe(this,t,arguments)}return jFe(t,e),yFe(t,[{key:"render",value:function(){var r=this.props,s=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,d=Rn(s),u=Rn(i);if(wi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var m=kFe(this.props);if(!m)return null;var h=m.x,p=m.y,g=this.props,f=g.shape,x=g.className,b=Xi(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=j3(j3({clipPath:b},gt(this.props,!0)),{},{cx:h,cy:p});return X.createElement(ta,{className:Mt("recharts-reference-dot",x)},t.renderDot(f,j),Un.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(X.Component);Ij(Lj,"displayName","ReferenceDot");Ij(Lj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ij(Lj,"renderDot",function(e,t){var n;return X.isValidElement(e)?n=X.cloneElement(e,t):St(e)?n=e(t):n=X.createElement(Cj,SS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AS.apply(this,arguments)}function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function N3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function k3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(n),!0).forEach(function(r){$j(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wH(r.key),r)}}function SFe(e,t,n){return t&&_Fe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CFe(e,t,n){return t=I0(t),AFe(e,bH()?Reflect.construct(t,n||[],I0(e).constructor):t.apply(e,n))}function AFe(e,t){if(t&&(uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TFe(e)}function TFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!e})()}function I0(e){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I0(e)}function EFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TS(e,t)}function TS(e,t){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},TS(e,t)}function $j(e,t,n){return t=wH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wH(e){var t=OFe(e,"string");return uh(t)=="symbol"?t:t+""}function OFe(e,t){if(uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DFe=function(t,n,r,s,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,m=i.yAxis;if(!u||!m)return null;var h=HT({x:u.scale,y:m.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(d,{position:"end"}):h.y.rangeMax};return Xi(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:oH(p,g)},Fj=function(e){function t(){return PFe(this,t),CFe(this,t,arguments)}return EFe(t,e),SFe(t,[{key:"render",value:function(){var r=this.props,s=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,u=r.clipPathId;wi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Rn(s),h=Rn(i),p=Rn(o),g=Rn(l),f=this.props.shape;if(!m&&!h&&!p&&!g&&!f)return null;var x=DFe(m,h,p,g,this.props);if(!x&&!f)return null;var b=Xi(this.props,"hidden")?"url(#".concat(u,")"):void 0;return X.createElement(ta,{className:Mt("recharts-reference-area",c)},t.renderRect(f,k3(k3({clipPath:b},gt(this.props,!0)),x)),Un.renderCallByParent(this.props,x))}}])}(X.Component);$j(Fj,"displayName","ReferenceArea");$j(Fj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});$j(Fj,"renderRect",function(e,t){var n;return X.isValidElement(e)?n=X.cloneElement(e,t):St(e)?n=e(t):n=X.createElement(WT,AS({},t,{className:"recharts-reference-area-rect"})),n});function jH(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function MFe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return C$e(r,n)}function RFe(e,t,n){var r=n==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?s:i,end:r?s+o:i+l}:{start:r?s+o:i+l,end:r?s:i}}function L0(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-s)<=0}function IFe(e,t){return jH(e,t+1)}function LFe(e,t,n,r,s){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,m=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:jH(r,d)};var f=c,x,b=function(){return x===void 0&&(x=n(g,f)),x},j=g.coordinate,v=c===0||L0(e,j,b,u,l);v||(c=0,u=o,d+=1),v&&(u=j+e*(b()/2+s),c+=d)},h;d<=i.length;)if(h=m(),h)return h.v;return[]}function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function P3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(n),!0).forEach(function(r){$Fe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Fe(e,t,n){return t=FFe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FFe(e){var t=BFe(e,"string");return Hg(t)=="symbol"?t:t+""}function BFe(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UFe(e,t,n,r,s){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(h){var p=i[h],g,f=function(){return g===void 0&&(g=n(p,h)),g};if(h===o-1){var x=e*(p.coordinate+e*f()/2-c);i[h]=p=or(or({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=or(or({},p),{},{tickCoord:p.coordinate});var b=L0(e,p.tickCoord,f,l,c);b&&(c=p.tickCoord-e*(f()/2+s),i[h]=or(or({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function qFe(e,t,n,r,s,i){var o=(r||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=r[l-1],m=n(u,l-1),h=e*(u.coordinate+e*m/2-d);o[l-1]=u=or(or({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=L0(e,u.tickCoord,function(){return m},c,d);p&&(d=u.tickCoord-e*(m/2+s),o[l-1]=or(or({},u),{},{isShow:!0}))}for(var g=i?l-1:l,f=function(j){var v=o[j],N,w=function(){return N===void 0&&(N=n(v,j)),N};if(j===0){var P=e*(v.coordinate-e*w()/2-c);o[j]=v=or(or({},v),{},{tickCoord:P<0?v.coordinate-P*e:v.coordinate})}else o[j]=v=or(or({},v),{},{tickCoord:v.coordinate});var k=L0(e,v.tickCoord,w,c,d);k&&(c=v.tickCoord+e*(w()/2+s),o[j]=or(or({},v),{},{isShow:!0}))},x=0;x<g;x++)f(x);return o}function eE(e,t,n){var r=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,m=e.angle;if(!s||!s.length||!r)return[];if(Ue(c)||Ji.isSsr)return IFe(s,typeof c=="number"&&Ue(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=u&&p==="width"?uf(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},f=function(v,N){var w=St(d)?d(v.value,N):v.value;return p==="width"?MFe(uf(w,{fontSize:t,letterSpacing:n}),g,m):uf(w,{fontSize:t,letterSpacing:n})[p]},x=s.length>=2?Nr(s[1].coordinate-s[0].coordinate):1,b=RFe(i,x,p);return c==="equidistantPreserveStart"?LFe(x,b,f,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=qFe(x,b,f,s,o,c==="preserveStartEnd"):h=UFe(x,b,f,s,o),h.filter(function(j){return j.isShow}))}var VFe=["viewBox"],KFe=["viewBox"],zFe=["ticks"];function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(e)}function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gu.apply(this,arguments)}function _3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(n),!0).forEach(function(r){tE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U1(e,t){if(e==null)return{};var n=WFe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function WFe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function HFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kH(r.key),r)}}function GFe(e,t,n){return t&&S3(e.prototype,t),n&&S3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YFe(e,t,n){return t=$0(t),JFe(e,NH()?Reflect.construct(t,n||[],$0(e).constructor):t.apply(e,n))}function JFe(e,t){if(t&&(mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QFe(e)}function QFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NH=function(){return!!e})()}function $0(e){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$0(e)}function XFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ES(e,t)}function ES(e,t){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ES(e,t)}function tE(e,t,n){return t=kH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kH(e){var t=ZFe(e,"string");return mh(t)=="symbol"?t:t+""}function ZFe(e,t){if(mh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp=function(e){function t(n){var r;return HFe(this,t),r=YFe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return XFe(t,e),GFe(t,[{key:"shouldComponentUpdate",value:function(r,s){var i=r.viewBox,o=U1(r,VFe),l=this.props,c=l.viewBox,d=U1(l,KFe);return!dm(i,c)||!dm(o,d)||!dm(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,u=s.tickSize,m=s.mirror,h=s.tickMargin,p,g,f,x,b,j,v=m?-1:1,N=r.tickSize||u,w=Ue(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":p=g=r.coordinate,x=o+ +!m*c,f=x-v*N,j=f-v*h,b=w;break;case"left":f=x=r.coordinate,g=i+ +!m*l,p=g-v*N,b=p-v*h,j=w;break;case"right":f=x=r.coordinate,g=i+ +m*l,p=g+v*N,b=p+v*h,j=w;break;default:p=g=r.coordinate,x=o+ +m*c,f=x+v*N,j=f+v*h,b=w;break}return{line:{x1:p,y1:f,x2:g,y2:x},tick:{x:b,y:j}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,d=r.mirror,u=r.axisLine,m=xr(xr(xr({},gt(this.props,!1)),gt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);m=xr(xr({},m),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);m=xr(xr({},m),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return X.createElement("line",Gu({},m,{className:Mt("recharts-cartesian-axis-line",xs(u,"className"))}))}},{key:"renderTicks",value:function(r,s,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,m=l.tickFormatter,h=l.unit,p=eE(xr(xr({},this.props),{},{ticks:r}),s,i),g=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),x=gt(this.props,!1),b=gt(u,!1),j=xr(xr({},x),{},{fill:"none"},gt(c,!1)),v=p.map(function(N,w){var P=o.getTickLineCoord(N),k=P.line,_=P.tick,S=xr(xr(xr(xr({textAnchor:g,verticalAnchor:f},x),{},{stroke:"none",fill:d},b),_),{},{index:w,payload:N,visibleTicksCount:p.length,tickFormatter:m});return X.createElement(ta,Gu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Ud(o.props,N,w)),c&&X.createElement("line",Gu({},j,k,{className:Mt("recharts-cartesian-axis-tick-line",xs(c,"className"))})),u&&t.renderTickItem(u,S,"".concat(St(m)?m(N.value,w):N.value).concat(h||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var r=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var m=this.props,h=m.ticks,p=U1(m,zFe),g=h;return St(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:X.createElement(ta,{className:Mt("recharts-cartesian-axis",d),ref:function(x){r.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,i){var o;return X.isValidElement(r)?o=X.cloneElement(r,s):St(r)?o=r(s):o=X.createElement(qd,Gu({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);tE(tp,"displayName","CartesianAxis");tE(tp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eBe=["x1","y1","x2","y2","key"],tBe=["offset"];function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function C3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(n),!0).forEach(function(r){aBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aBe(e,t,n){return t=nBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nBe(e){var t=rBe(e,"string");return zd(t)=="symbol"?t:t+""}function rBe(e,t){if(zd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},od.apply(this,arguments)}function A3(e,t){if(e==null)return{};var n=sBe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sBe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var iBe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return X.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function PH(e,t){var n;if(X.isValidElement(e))n=X.cloneElement(e,t);else if(St(e))n=e(t);else{var r=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=A3(t,eBe),d=gt(c,!1);d.offset;var u=A3(d,tBe);n=X.createElement("line",od({},u,{x1:r,y1:s,x2:i,y2:o,fill:"none",key:l}))}return n}function oBe(e){var t=e.x,n=e.width,r=e.horizontal,s=r===void 0?!0:r,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=dr(dr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return PH(s,d)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function lBe(e){var t=e.y,n=e.height,r=e.vertical,s=r===void 0?!0:r,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=dr(dr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return PH(s,d)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function cBe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==u[0]&&u.unshift(0);var m=u.map(function(h,p){var g=!u[p+1],f=g?s+o-h:u[p+1]-h;if(f<=0)return null;var x=p%t.length;return X.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:f,width:i,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function dBe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!r||!r.length)return null;var u=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var m=u.map(function(h,p){var g=!u[p+1],f=g?i+l-h:u[p+1]-h;if(f<=0)return null;var x=p%r.length;return X.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:f,height:c,stroke:"none",fill:r[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var uBe=function(t,n){var r=t.xAxis,s=t.width,i=t.height,o=t.offset;return w7(eE(dr(dr(dr({},tp.defaultProps),r),{},{ticks:To(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},mBe=function(t,n){var r=t.yAxis,s=t.width,i=t.height,o=t.offset;return w7(eE(dr(dr(dr({},tp.defaultProps),r),{},{ticks:To(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},yu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function OS(e){var t,n,r,s,i,o,l=JT(),c=QT(),d=Z$e(),u=dr(dr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:yu.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:yu.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:yu.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:yu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:yu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:yu.verticalFill,x:Ue(e.x)?e.x:d.left,y:Ue(e.y)?e.y:d.top,width:Ue(e.width)?e.width:d.width,height:Ue(e.height)?e.height:d.height}),m=u.x,h=u.y,p=u.width,g=u.height,f=u.syncWithTicks,x=u.horizontalValues,b=u.verticalValues,j=J$e(),v=Q$e();if(!Ue(p)||p<=0||!Ue(g)||g<=0||!Ue(m)||m!==+m||!Ue(h)||h!==+h)return null;var N=u.verticalCoordinatesGenerator||uBe,w=u.horizontalCoordinatesGenerator||mBe,P=u.horizontalPoints,k=u.verticalPoints;if((!P||!P.length)&&St(w)){var _=x&&x.length,S=w({yAxis:v?dr(dr({},v),{},{ticks:_?x:v.ticks}):void 0,width:l,height:c,offset:d},_?!0:f);wi(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zd(S),"]")),Array.isArray(S)&&(P=S)}if((!k||!k.length)&&St(N)){var O=b&&b.length,A=N({xAxis:j?dr(dr({},j),{},{ticks:O?b:j.ticks}):void 0,width:l,height:c,offset:d},O?!0:f);wi(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zd(A),"]")),Array.isArray(A)&&(k=A)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(iBe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),X.createElement(oBe,od({},u,{offset:d,horizontalPoints:P,xAxis:j,yAxis:v})),X.createElement(lBe,od({},u,{offset:d,verticalPoints:k,xAxis:j,yAxis:v})),X.createElement(cBe,od({},u,{horizontalPoints:P})),X.createElement(dBe,od({},u,{verticalPoints:k})))}OS.displayName="CartesianGrid";var hBe=["type","layout","connectNulls","ref"],pBe=["key"];function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function T3(e,t){if(e==null)return{};var n=fBe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fBe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xf.apply(this,arguments)}function E3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(n),!0).forEach(function(r){ci(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vu(e){return vBe(e)||yBe(e)||xBe(e)||gBe()}function gBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xBe(e,t){if(e){if(typeof e=="string")return DS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DS(e,t)}}function yBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vBe(e){if(Array.isArray(e))return DS(e)}function DS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SH(r.key),r)}}function wBe(e,t,n){return t&&O3(e.prototype,t),n&&O3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jBe(e,t,n){return t=F0(t),NBe(e,_H()?Reflect.construct(t,n||[],F0(e).constructor):t.apply(e,n))}function NBe(e,t){if(t&&(hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kBe(e)}function kBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _H(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_H=function(){return!!e})()}function F0(e){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F0(e)}function PBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MS(e,t)}function MS(e,t){return MS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},MS(e,t)}function ci(e,t,n){return t=SH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SH(e){var t=_Be(e,"string");return hh(t)=="symbol"?t:t+""}function _Be(e,t){if(hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nd=function(e){function t(){var n;bBe(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=jBe(this,t,[].concat(s)),ci(n,"state",{isAnimationFinished:!0,totalLength:0}),ci(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ci(n,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(b,j){return b+j});if(!d)return n.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),m=o%d,h=l-o,p=[],g=0,f=0;g<c.length;f+=c[g],++g)if(f+c[g]>m){p=[].concat(vu(c.slice(0,g)),[m-f]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(vu(t.repeat(c,u)),vu(p),x).map(function(b){return"".concat(b,"px")}).join(", ")}),ci(n,"id",Gh("recharts-line-")),ci(n,"pathRef",function(o){n.mainCurve=o}),ci(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ci(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return PBe(t,e),wBe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=ys(u,Kx);if(!m)return null;var h=function(f,x){return{x:f.x,y:f.y,value:f.value,errorVal:On(f.payload,x)}},p={clipPath:r?"url(#clipPath-".concat(s,")"):null};return X.createElement(ta,p,m.map(function(g){return X.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,m=gt(this.props,!1),h=gt(c,!0),p=d.map(function(f,x){var b=Xr(Xr(Xr({key:"dot-".concat(x),r:3},m),h),{},{index:x,cx:f.x,cy:f.y,value:f.value,dataKey:u,payload:f.payload,points:d});return t.renderDotItem(c,b)}),g={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return X.createElement(ta,xf({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(r,s,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var m=T3(l,hBe),h=Xr(Xr(Xr({},gt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:d,connectNulls:u});return X.createElement(v0,xf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,m=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,f=o.width,x=o.height,b=this.state,j=b.prevPoints,v=b.totalLength;return X.createElement(io,{begin:u,duration:m,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var w=N.t;if(j){var P=j.length/l.length,k=l.map(function(E,D){var B=Math.floor(D*P);if(j[B]){var z=j[B],K=ss(z.x,E.x),Y=ss(z.y,E.y);return Xr(Xr({},E),{},{x:K(w),y:Y(w)})}if(g){var M=ss(f*2,E.x),R=ss(x/2,E.y);return Xr(Xr({},E),{},{x:M(w),y:R(w)})}return Xr(Xr({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(k,r,s)}var _=ss(0,v),S=_(w),O;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});O=i.getStrokeDasharray(S,v,A)}else O=i.generateSimpleStrokeDasharray(v,S);return i.renderCurveStatically(l,r,s,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Vx(d,o))?this.renderCurveWithAnimation(r,s):this.renderCurveStatically(o,r,s)}},{key:"render",value:function(){var r,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.xAxis,u=s.yAxis,m=s.top,h=s.left,p=s.width,g=s.height,f=s.isAnimationActive,x=s.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,j=l.length===1,v=Mt("recharts-line",c),N=d&&d.allowDataOverflow,w=u&&u.allowDataOverflow,P=N||w,k=Ot(x)?this.id:x,_=(r=gt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},S=_.r,O=S===void 0?3:S,A=_.strokeWidth,E=A===void 0?2:A,D=Ywe(o)?o:{},B=D.clipDot,z=B===void 0?!0:B,K=O*2+E;return X.createElement(ta,{className:v},N||w?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(k)},X.createElement("rect",{x:N?h:h-p/2,y:w?m:m-g/2,width:N?p:p*2,height:w?g:g*2})),!z&&X.createElement("clipPath",{id:"clipPath-dots-".concat(k)},X.createElement("rect",{x:h-K/2,y:m-K/2,width:p+K,height:g+K}))):null,!j&&this.renderCurve(P,k),this.renderErrorBar(P,k),(j||o)&&this.renderDots(P,z,k),(!f||b)&&Uo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:s.curPoints}:r.points!==s.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,s){for(var i=r.length%2!==0?[].concat(vu(r),[0]):r,o=[],l=0;l<s;++l)o=[].concat(vu(o),vu(i));return o}},{key:"renderDotItem",value:function(r,s){var i;if(X.isValidElement(r))i=X.cloneElement(r,s);else if(St(r))i=r(s);else{var o=s.key,l=T3(s,pBe),c=Mt("recharts-line-dot",typeof r!="boolean"?r.className:"");i=X.createElement(Cj,xf({key:o},l,{className:c}))}return i}}])}(y.PureComponent);ci(Nd,"displayName","Line");ci(Nd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ji.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ci(Nd,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,m=c.map(function(h,p){var g=On(h,o);return u==="horizontal"?{x:aI({axis:n,ticks:s,bandSize:l,entry:h,index:p}),y:Ot(g)?null:r.scale(g),value:g,payload:h}:{x:Ot(g)?null:n.scale(g),y:aI({axis:r,ticks:i,bandSize:l,entry:h,index:p}),value:g,payload:h}});return Xr({points:m,layout:u},d)});function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(e)}function SBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CBe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TH(r.key),r)}}function ABe(e,t,n){return t&&CBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TBe(e,t,n){return t=B0(t),EBe(e,CH()?Reflect.construct(t,n||[],B0(e).constructor):t.apply(e,n))}function EBe(e,t){if(t&&(ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OBe(e)}function OBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CH=function(){return!!e})()}function B0(e){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B0(e)}function DBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RS(e,t)}function RS(e,t){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},RS(e,t)}function AH(e,t,n){return t=TH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TH(e){var t=MBe(e,"string");return ph(t)=="symbol"?t:t+""}function MBe(e,t){if(ph(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IS.apply(this,arguments)}function RBe(e){var t=e.xAxisId,n=JT(),r=QT(),s=pH(t);return s==null?null:X.createElement(tp,IS({},s,{className:Mt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return To(o,!0)}}))}var fh=function(e){function t(){return SBe(this,t),TBe(this,t,arguments)}return DBe(t,e),ABe(t,[{key:"render",value:function(){return X.createElement(RBe,this.props)}}])}(X.Component);AH(fh,"displayName","XAxis");AH(fh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(e)}function IBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LBe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DH(r.key),r)}}function $Be(e,t,n){return t&&LBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FBe(e,t,n){return t=U0(t),BBe(e,EH()?Reflect.construct(t,n||[],U0(e).constructor):t.apply(e,n))}function BBe(e,t){if(t&&(gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UBe(e)}function UBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EH=function(){return!!e})()}function U0(e){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(e)}function qBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LS(e,t)}function LS(e,t){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},LS(e,t)}function OH(e,t,n){return t=DH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DH(e){var t=VBe(e,"string");return gh(t)=="symbol"?t:t+""}function VBe(e,t){if(gh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$S.apply(this,arguments)}var KBe=function(t){var n=t.yAxisId,r=JT(),s=QT(),i=fH(n);return i==null?null:X.createElement(tp,$S({},i,{className:Mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return To(l,!0)}}))},xh=function(e){function t(){return IBe(this,t),FBe(this,t,arguments)}return qBe(t,e),$Be(t,[{key:"render",value:function(){return X.createElement(KBe,this.props)}}])}(X.Component);OH(xh,"displayName","YAxis");OH(xh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function D3(e){return GBe(e)||HBe(e)||WBe(e)||zBe()}function zBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WBe(e,t){if(e){if(typeof e=="string")return FS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FS(e,t)}}function HBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GBe(e){if(Array.isArray(e))return FS(e)}function FS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var BS=function(t,n,r,s,i){var o=ys(t,ZT),l=ys(t,Lj),c=[].concat(D3(o),D3(l)),d=ys(t,Fj),u="".concat(s,"Id"),m=s[0],h=n;if(c.length&&(h=c.reduce(function(f,x){if(x.props[u]===r&&Xi(x.props,"extendDomain")&&Ue(x.props[m])){var b=x.props[m];return[Math.min(f[0],b),Math.max(f[1],b)]}return f},h)),d.length){var p="".concat(m,"1"),g="".concat(m,"2");h=d.reduce(function(f,x){if(x.props[u]===r&&Xi(x.props,"extendDomain")&&Ue(x.props[p])&&Ue(x.props[g])){var b=x.props[p],j=x.props[g];return[Math.min(f[0],b,j),Math.max(f[1],b,j)]}return f},h)}return i&&i.length&&(h=i.reduce(function(f,x){return Ue(x)?[Math.min(f[0],x),Math.max(f[1],x)]:f},h)),h},MH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new s(u,m||c,h),g=n?n+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)t.call(u,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,p=m.length,g=new Array(p);h<p;h++)g[h]=m[h].fn;return g},l.prototype.listenerCount=function(d){var u=n?n+d:d,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,u,m,h,p,g){var f=n?n+d:d;if(!this._events[f])return!1;var x=this._events[f],b=arguments.length,j,v;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,m),!0;case 4:return x.fn.call(x.context,u,m,h),!0;case 5:return x.fn.call(x.context,u,m,h,p),!0;case 6:return x.fn.call(x.context,u,m,h,p,g),!0}for(v=1,j=new Array(b-1);v<b;v++)j[v-1]=arguments[v];x.fn.apply(x.context,j)}else{var N=x.length,w;for(v=0;v<N;v++)switch(x[v].once&&this.removeListener(d,x[v].fn,void 0,!0),b){case 1:x[v].fn.call(x[v].context);break;case 2:x[v].fn.call(x[v].context,u);break;case 3:x[v].fn.call(x[v].context,u,m);break;case 4:x[v].fn.call(x[v].context,u,m,h);break;default:if(!j)for(w=1,j=new Array(b-1);w<b;w++)j[w-1]=arguments[w];x[v].fn.apply(x[v].context,j)}}return!0},l.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},l.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},l.prototype.removeListener=function(d,u,m,h){var p=n?n+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!m||g.context===m)&&o(this,p);else{for(var f=0,x=[],b=g.length;f<b;f++)(g[f].fn!==u||h&&!g[f].once||m&&g[f].context!==m)&&x.push(g[f]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(MH);var YBe=MH.exports;const JBe=ia(YBe);var q1=new JBe,V1="recharts.syncMouseEvents";function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function QBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XBe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RH(r.key),r)}}function ZBe(e,t,n){return t&&XBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K1(e,t,n){return t=RH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RH(e){var t=e6e(e,"string");return Gg(t)=="symbol"?t:t+""}function e6e(e,t){if(Gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t6e=function(){function e(){QBe(this,e),K1(this,"activeIndex",0),K1(this,"coordinateList",[]),K1(this,"layout","horizontal")}return ZBe(e,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,i=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,m=u===void 0?null:u,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=i+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:m,pageY:h})}}}])}();function a6e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],s=e==null?void 0:e[1];if(r&&s&&Ue(r)&&Ue(s))return!0}return!1}function n6e(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function IH(e){var t=e.cx,n=e.cy,r=e.radius,s=e.startAngle,i=e.endAngle,o=Sa(t,n,r,s),l=Sa(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:s,endAngle:i}}function r6e(e,t,n){var r,s,i,o;if(e==="horizontal")r=t.x,i=r,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,m=t.angle,h=Sa(l,c,d,m),p=Sa(l,c,u,m);r=h.x,s=h.y,i=p.x,o=p.y}else return IH(t);return[{x:r,y:s},{x:i,y:o}]}function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function M3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Jy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(n),!0).forEach(function(r){s6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s6e(e,t,n){return t=i6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i6e(e){var t=o6e(e,"string");return Yg(t)=="symbol"?t:t+""}function o6e(e,t){if(Yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l6e(e){var t,n,r=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,m=e.layout,h=e.chartName,p=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,f=v0;if(h==="ScatterChart")g=o,f=_Ie;else if(h==="BarChart")g=n6e(m,o,c,u),f=WT;else if(m==="radial"){var x=IH(o),b=x.cx,j=x.cy,v=x.radius,N=x.startAngle,w=x.endAngle;g={cx:b,cy:j,startAngle:N,endAngle:w,innerRadius:v,outerRadius:v},f=O7}else g={points:r6e(m,o,c)},f=v0;var P=Jy(Jy(Jy(Jy({stroke:"#ccc",pointerEvents:"none"},c),g),gt(p,!1)),{},{payload:l,payloadIndex:d,className:Mt("recharts-tooltip-cursor",p.className)});return y.isValidElement(p)?y.cloneElement(p,P):y.createElement(f,P)}var c6e=["item"],d6e=["children","className","width","height","style","compact","title","desc"];function yh(e){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu.apply(this,arguments)}function R3(e,t){return h6e(e)||m6e(e,t)||$H(e,t)||u6e()}function u6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m6e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function h6e(e){if(Array.isArray(e))return e}function I3(e,t){if(e==null)return{};var n=p6e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function p6e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function f6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g6e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FH(r.key),r)}}function x6e(e,t,n){return t&&g6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y6e(e,t,n){return t=q0(t),v6e(e,LH()?Reflect.construct(t,n||[],q0(e).constructor):t.apply(e,n))}function v6e(e,t){if(t&&(yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b6e(e)}function b6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LH=function(){return!!e})()}function q0(e){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q0(e)}function w6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&US(e,t)}function US(e,t){return US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},US(e,t)}function vh(e){return k6e(e)||N6e(e)||$H(e)||j6e()}function j6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $H(e,t){if(e){if(typeof e=="string")return qS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qS(e,t)}}function N6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k6e(e){if(Array.isArray(e))return qS(e)}function qS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(n),!0).forEach(function(r){vt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vt(e,t,n){return t=FH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FH(e){var t=P6e(e,"string");return yh(t)=="symbol"?t:t+""}function P6e(e,t){if(yh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _6e={xAxis:["bottom","top"],yAxis:["left","right"]},S6e={width:"100%",height:"100%"},BH={x:0,y:0};function Qy(e){return e}var C6e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},A6e=function(t,n,r,s){var i=n.find(function(u){return u&&u.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return Pe(Pe(Pe({},s),Sa(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=s.angle;return Pe(Pe(Pe({},s),Sa(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return BH},Bj=function(t,n){var r=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(vh(l),vh(d)):l},[]);return o.length>0?o:t&&t.length&&Ue(s)&&Ue(i)?t.slice(s,i+1):[]};function UH(e){return e==="number"?[0,"auto"]:void 0}var VS=function(t,n,r,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Bj(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,d){var u,m=(u=d.props.data)!==null&&u!==void 0?u:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=m===void 0?l:m;h=qb(p,o.dataKey,s)}else h=m&&m[r]||l[r];return h?[].concat(vh(c),[_7(d,h)]):c},[])},$3=function(t,n,r,s){var i=s||{x:t.chartX,y:t.chartY},o=C6e(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=JMe(o,l,d,c);if(u>=0&&d){var m=d[u]&&d[u].value,h=VS(t,n,u,m),p=A6e(r,l,u,i);return{activeTooltipIndex:u,activeLabel:m,activePayload:h,activeCoordinate:p}}return null},T6e=function(t,n){var r=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,m=t.children,h=t.stackOffset,p=b7(u,i);return r.reduce(function(g,f){var x,b=f.type.defaultProps!==void 0?Pe(Pe({},f.type.defaultProps),f.props):f.props,j=b.type,v=b.dataKey,N=b.allowDataOverflow,w=b.allowDuplicatedCategory,P=b.scale,k=b.ticks,_=b.includeHidden,S=b[o];if(g[S])return g;var O=Bj(t.data,{graphicalItems:s.filter(function(F){var le,q=o in F.props?F.props[o]:(le=F.type.defaultProps)===null||le===void 0?void 0:le[o];return q===S}),dataStartIndex:c,dataEndIndex:d}),A=O.length,E,D,B;a6e(b.domain,N,j)&&(E=aS(b.domain,null,N),p&&(j==="number"||P!=="auto")&&(B=hf(O,v,"category")));var z=UH(j);if(!E||E.length===0){var K,Y=(K=b.domain)!==null&&K!==void 0?K:z;if(v){if(E=hf(O,v,j),j==="category"&&p){var M=Bwe(E);w&&M?(D=E,E=A0(0,A)):w||(E=iI(Y,E,f).reduce(function(F,le){return F.indexOf(le)>=0?F:[].concat(vh(F),[le])},[]))}else if(j==="category")w?E=E.filter(function(F){return F!==""&&!Ot(F)}):E=iI(Y,E,f).reduce(function(F,le){return F.indexOf(le)>=0||le===""||Ot(le)?F:[].concat(vh(F),[le])},[]);else if(j==="number"){var R=tRe(O,s.filter(function(F){var le,q,ve=o in F.props?F.props[o]:(le=F.type.defaultProps)===null||le===void 0?void 0:le[o],ye="hide"in F.props?F.props.hide:(q=F.type.defaultProps)===null||q===void 0?void 0:q.hide;return ve===S&&(_||!ye)}),v,i,u);R&&(E=R)}p&&(j==="number"||P!=="auto")&&(B=hf(O,v,"category"))}else p?E=A0(0,A):l&&l[S]&&l[S].hasStack&&j==="number"?E=h==="expand"?[0,1]:P7(l[S].stackGroups,c,d):E=v7(O,s.filter(function(F){var le=o in F.props?F.props[o]:F.type.defaultProps[o],q="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return le===S&&(_||!q)}),j,u,!0);if(j==="number")E=BS(m,E,S,i,k),Y&&(E=aS(Y,E,N));else if(j==="category"&&Y){var J=Y,ie=E.every(function(F){return J.indexOf(F)>=0});ie&&(E=J)}}return Pe(Pe({},g),{},vt({},S,Pe(Pe({},b),{},{axisType:i,domain:E,categoricalDomain:B,duplicateDomain:D,originalDomain:(x=b.domain)!==null&&x!==void 0?x:z,isCategorical:p,layout:u})))},{})},E6e=function(t,n){var r=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,m=t.children,h=Bj(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),p=h.length,g=b7(u,i),f=-1;return r.reduce(function(x,b){var j=b.type.defaultProps!==void 0?Pe(Pe({},b.type.defaultProps),b.props):b.props,v=j[o],N=UH("number");if(!x[v]){f++;var w;return g?w=A0(0,p):l&&l[v]&&l[v].hasStack?(w=P7(l[v].stackGroups,c,d),w=BS(m,w,v,i)):(w=aS(N,v7(h,r.filter(function(P){var k,_,S=o in P.props?P.props[o]:(k=P.type.defaultProps)===null||k===void 0?void 0:k[o],O="hide"in P.props?P.props.hide:(_=P.type.defaultProps)===null||_===void 0?void 0:_.hide;return S===v&&!O}),"number",u),s.defaultProps.allowDataOverflow),w=BS(m,w,v,i)),Pe(Pe({},x),{},vt({},v,Pe(Pe({axisType:i},s.defaultProps),{},{hide:!0,orientation:xs(_6e,"".concat(i,".").concat(f%2),null),domain:w,originalDomain:N,isCategorical:g,layout:u})))}return x},{})},O6e=function(t,n){var r=n.axisType,s=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.children,m="".concat(s,"Id"),h=ys(u,i),p={};return h&&h.length?p=T6e(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(p=E6e(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),p},D6e=function(t){var n=Al(t),r=To(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:vT(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:g0(n,r)}},F3=function(t){var n=t.children,r=t.defaultShowTooltip,s=as(n,oh),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},M6e=function(t){return!t||!t.length?!1:t.some(function(n){var r=$o(n&&n.type);return r&&r.indexOf("Bar")>=0})},B3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},R6e=function(t,n){var r=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=r.width,u=r.height,m=r.children,h=r.margin||{},p=as(m,oh),g=as(m,Fo),f=Object.keys(c).reduce(function(w,P){var k=c[P],_=k.orientation;return!k.mirror&&!k.hide?Pe(Pe({},w),{},vt({},_,w[_]+k.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(w,P){var k=o[P],_=k.orientation;return!k.mirror&&!k.hide?Pe(Pe({},w),{},vt({},_,xs(w,"".concat(_))+k.height)):w},{top:h.top||0,bottom:h.bottom||0}),b=Pe(Pe({},x),f),j=b.bottom;p&&(b.bottom+=p.props.height||oh.defaultProps.height),g&&n&&(b=ZMe(b,s,r,n));var v=d-b.left-b.right,N=u-b.top-b.bottom;return Pe(Pe({brushBottom:j},b),{},{width:Math.max(v,0),height:Math.max(N,0)})},I6e=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},aE=function(t){var n=t.chartName,r=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,m=t.defaultProps,h=function(b,j){var v=j.graphicalItems,N=j.stackGroups,w=j.offset,P=j.updateId,k=j.dataStartIndex,_=j.dataEndIndex,S=b.barSize,O=b.layout,A=b.barGap,E=b.barCategoryGap,D=b.maxBarSize,B=B3(O),z=B.numericAxisName,K=B.cateAxisName,Y=M6e(v),M=[];return v.forEach(function(R,J){var ie=Bj(b.data,{graphicalItems:[R],dataStartIndex:k,dataEndIndex:_}),F=R.type.defaultProps!==void 0?Pe(Pe({},R.type.defaultProps),R.props):R.props,le=F.dataKey,q=F.maxBarSize,ve=F["".concat(z,"Id")],ye=F["".concat(K,"Id")],H={},oe=c.reduce(function(mt,ee){var he=j["".concat(ee.axisType,"Map")],T=F["".concat(ee.axisType,"Id")];he&&he[T]||ee.axisType==="zAxis"||Kd();var me=he[T];return Pe(Pe({},mt),{},vt(vt({},ee.axisType,me),"".concat(ee.axisType,"Ticks"),To(me)))},H),G=oe[K],$=oe["".concat(K,"Ticks")],Z=N&&N[ve]&&N[ve].hasStack&&dRe(R,N[ve].stackGroups),U=$o(R.type).indexOf("Bar")>=0,pe=g0(G,$),ke=[],se=Y&&QMe({barSize:S,stackGroups:N,totalSize:I6e(oe,K)});if(U){var I,be,_e=Ot(q)?D:q,Me=(I=(be=g0(G,$,!0))!==null&&be!==void 0?be:_e)!==null&&I!==void 0?I:0;ke=XMe({barGap:A,barCategoryGap:E,bandSize:Me!==pe?Me:pe,sizeList:se[ye],maxBarSize:_e}),Me!==pe&&(ke=ke.map(function(mt){return Pe(Pe({},mt),{},{position:Pe(Pe({},mt.position),{},{offset:mt.position.offset-Me/2})})}))}var He=R&&R.type&&R.type.getComposedData;He&&M.push({props:Pe(Pe({},He(Pe(Pe({},oe),{},{displayedData:ie,props:b,dataKey:le,item:R,bandSize:pe,barPosition:ke,offset:w,stackedData:Z,layout:O,dataStartIndex:k,dataEndIndex:_}))),{},vt(vt(vt({key:R.key||"item-".concat(J)},z,oe[z]),K,oe[K]),"animationId",P)),childIndex:Xwe(R,b.children),item:R})}),M},p=function(b,j){var v=b.props,N=b.dataStartIndex,w=b.dataEndIndex,P=b.updateId;if(!ZR({props:v}))return null;var k=v.children,_=v.layout,S=v.stackOffset,O=v.data,A=v.reverseStackOrder,E=B3(_),D=E.numericAxisName,B=E.cateAxisName,z=ys(k,r),K=lRe(O,z,"".concat(D,"Id"),"".concat(B,"Id"),S,A),Y=c.reduce(function(F,le){var q="".concat(le.axisType,"Map");return Pe(Pe({},F),{},vt({},q,O6e(v,Pe(Pe({},le),{},{graphicalItems:z,stackGroups:le.axisType===D&&K,dataStartIndex:N,dataEndIndex:w}))))},{}),M=R6e(Pe(Pe({},Y),{},{props:v,graphicalItems:z}),j==null?void 0:j.legendBBox);Object.keys(Y).forEach(function(F){Y[F]=u(v,Y[F],M,F.replace("Map",""),n)});var R=Y["".concat(B,"Map")],J=D6e(R),ie=h(v,Pe(Pe({},Y),{},{dataStartIndex:N,dataEndIndex:w,updateId:P,graphicalItems:z,stackGroups:K,offset:M}));return Pe(Pe({formattedGraphicalItems:ie,graphicalItems:z,offset:M,stackGroups:K},J),Y)},g=function(x){function b(j){var v,N,w;return f6e(this,b),w=y6e(this,b,[j]),vt(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vt(w,"accessibilityManager",new t6e),vt(w,"handleLegendBBoxUpdate",function(P){if(P){var k=w.state,_=k.dataStartIndex,S=k.dataEndIndex,O=k.updateId;w.setState(Pe({legendBBox:P},p({props:w.props,dataStartIndex:_,dataEndIndex:S,updateId:O},Pe(Pe({},w.state),{},{legendBBox:P}))))}}),vt(w,"handleReceiveSyncEvent",function(P,k,_){if(w.props.syncId===P){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(k)}}),vt(w,"handleBrushChange",function(P){var k=P.startIndex,_=P.endIndex;if(k!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var S=w.state.updateId;w.setState(function(){return Pe({dataStartIndex:k,dataEndIndex:_},p({props:w.props,dataStartIndex:k,dataEndIndex:_,updateId:S},w.state))}),w.triggerSyncEvent({dataStartIndex:k,dataEndIndex:_})}}),vt(w,"handleMouseEnter",function(P){var k=w.getMouseInfo(P);if(k){var _=Pe(Pe({},k),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var S=w.props.onMouseEnter;St(S)&&S(_,P)}}),vt(w,"triggeredAfterMouseMove",function(P){var k=w.getMouseInfo(P),_=k?Pe(Pe({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var S=w.props.onMouseMove;St(S)&&S(_,P)}),vt(w,"handleItemMouseEnter",function(P){w.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),vt(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),vt(w,"handleMouseMove",function(P){P.persist(),w.throttleTriggeredAfterMouseMove(P)}),vt(w,"handleMouseLeave",function(P){w.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var _=w.props.onMouseLeave;St(_)&&_(k,P)}),vt(w,"handleOuterEvent",function(P){var k=Qwe(P),_=xs(w.props,"".concat(k));if(k&&St(_)){var S,O;/.*touch.*/i.test(k)?O=w.getMouseInfo(P.changedTouches[0]):O=w.getMouseInfo(P),_((S=O)!==null&&S!==void 0?S:{},P)}}),vt(w,"handleClick",function(P){var k=w.getMouseInfo(P);if(k){var _=Pe(Pe({},k),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var S=w.props.onClick;St(S)&&S(_,P)}}),vt(w,"handleMouseDown",function(P){var k=w.props.onMouseDown;if(St(k)){var _=w.getMouseInfo(P);k(_,P)}}),vt(w,"handleMouseUp",function(P){var k=w.props.onMouseUp;if(St(k)){var _=w.getMouseInfo(P);k(_,P)}}),vt(w,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),vt(w,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&w.handleMouseDown(P.changedTouches[0])}),vt(w,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&w.handleMouseUp(P.changedTouches[0])}),vt(w,"handleDoubleClick",function(P){var k=w.props.onDoubleClick;if(St(k)){var _=w.getMouseInfo(P);k(_,P)}}),vt(w,"handleContextMenu",function(P){var k=w.props.onContextMenu;if(St(k)){var _=w.getMouseInfo(P);k(_,P)}}),vt(w,"triggerSyncEvent",function(P){w.props.syncId!==void 0&&q1.emit(V1,w.props.syncId,P,w.eventEmitterSymbol)}),vt(w,"applySyncEvent",function(P){var k=w.props,_=k.layout,S=k.syncMethod,O=w.state.updateId,A=P.dataStartIndex,E=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)w.setState(Pe({dataStartIndex:A,dataEndIndex:E},p({props:w.props,dataStartIndex:A,dataEndIndex:E,updateId:O},w.state)));else if(P.activeTooltipIndex!==void 0){var D=P.chartX,B=P.chartY,z=P.activeTooltipIndex,K=w.state,Y=K.offset,M=K.tooltipTicks;if(!Y)return;if(typeof S=="function")z=S(M,P);else if(S==="value"){z=-1;for(var R=0;R<M.length;R++)if(M[R].value===P.activeLabel){z=R;break}}var J=Pe(Pe({},Y),{},{x:Y.left,y:Y.top}),ie=Math.min(D,J.x+J.width),F=Math.min(B,J.y+J.height),le=M[z]&&M[z].value,q=VS(w.state,w.props.data,z),ve=M[z]?{x:_==="horizontal"?M[z].coordinate:ie,y:_==="horizontal"?F:M[z].coordinate}:BH;w.setState(Pe(Pe({},P),{},{activeLabel:le,activeCoordinate:ve,activePayload:q,activeTooltipIndex:z}))}else w.setState(P)}),vt(w,"renderCursor",function(P){var k,_=w.state,S=_.isTooltipActive,O=_.activeCoordinate,A=_.activePayload,E=_.offset,D=_.activeTooltipIndex,B=_.tooltipAxisBandSize,z=w.getTooltipEventType(),K=(k=P.props.active)!==null&&k!==void 0?k:S,Y=w.props.layout,M=P.key||"_recharts-cursor";return X.createElement(l6e,{key:M,activeCoordinate:O,activePayload:A,activeTooltipIndex:D,chartName:n,element:P,isActive:K,layout:Y,offset:E,tooltipAxisBandSize:B,tooltipEventType:z})}),vt(w,"renderPolarAxis",function(P,k,_){var S=xs(P,"type.axisType"),O=xs(w.state,"".concat(S,"Map")),A=P.type.defaultProps,E=A!==void 0?Pe(Pe({},A),P.props):P.props,D=O&&O[E["".concat(S,"Id")]];return y.cloneElement(P,Pe(Pe({},D),{},{className:Mt(S,D.className),key:P.key||"".concat(k,"-").concat(_),ticks:To(D,!0)}))}),vt(w,"renderPolarGrid",function(P){var k=P.props,_=k.radialLines,S=k.polarAngles,O=k.polarRadius,A=w.state,E=A.radiusAxisMap,D=A.angleAxisMap,B=Al(E),z=Al(D),K=z.cx,Y=z.cy,M=z.innerRadius,R=z.outerRadius;return y.cloneElement(P,{polarAngles:Array.isArray(S)?S:To(z,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(O)?O:To(B,!0).map(function(J){return J.coordinate}),cx:K,cy:Y,innerRadius:M,outerRadius:R,key:P.key||"polar-grid",radialLines:_})}),vt(w,"renderLegend",function(){var P=w.state.formattedGraphicalItems,k=w.props,_=k.children,S=k.width,O=k.height,A=w.props.margin||{},E=S-(A.left||0)-(A.right||0),D=x7({children:_,formattedGraphicalItems:P,legendWidth:E,legendContent:d});if(!D)return null;var B=D.item,z=I3(D,c6e);return y.cloneElement(B,Pe(Pe({},z),{},{chartWidth:S,chartHeight:O,margin:A,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),vt(w,"renderTooltip",function(){var P,k=w.props,_=k.children,S=k.accessibilityLayer,O=as(_,Ds);if(!O)return null;var A=w.state,E=A.isTooltipActive,D=A.activeCoordinate,B=A.activePayload,z=A.activeLabel,K=A.offset,Y=(P=O.props.active)!==null&&P!==void 0?P:E;return y.cloneElement(O,{viewBox:Pe(Pe({},K),{},{x:K.left,y:K.top}),active:Y,label:z,payload:Y?B:[],coordinate:D,accessibilityLayer:S})}),vt(w,"renderBrush",function(P){var k=w.props,_=k.margin,S=k.data,O=w.state,A=O.offset,E=O.dataStartIndex,D=O.dataEndIndex,B=O.updateId;return y.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Wy(w.handleBrushChange,P.props.onChange),data:S,x:Ue(P.props.x)?P.props.x:A.left,y:Ue(P.props.y)?P.props.y:A.top+A.height+A.brushBottom-(_.bottom||0),width:Ue(P.props.width)?P.props.width:A.width,startIndex:E,endIndex:D,updateId:"brush-".concat(B)})}),vt(w,"renderReferenceElement",function(P,k,_){if(!P)return null;var S=w,O=S.clipPathId,A=w.state,E=A.xAxisMap,D=A.yAxisMap,B=A.offset,z=P.type.defaultProps||{},K=P.props,Y=K.xAxisId,M=Y===void 0?z.xAxisId:Y,R=K.yAxisId,J=R===void 0?z.yAxisId:R;return y.cloneElement(P,{key:P.key||"".concat(k,"-").concat(_),xAxis:E[M],yAxis:D[J],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:O})}),vt(w,"renderActivePoints",function(P){var k=P.item,_=P.activePoint,S=P.basePoint,O=P.childIndex,A=P.isRange,E=[],D=k.props.key,B=k.item.type.defaultProps!==void 0?Pe(Pe({},k.item.type.defaultProps),k.item.props):k.item.props,z=B.activeDot,K=B.dataKey,Y=Pe(Pe({index:O,dataKey:K,cx:_.x,cy:_.y,r:4,fill:zT(k.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},gt(z,!1)),Vb(z));return E.push(b.renderActiveDot(z,Y,"".concat(D,"-activePoint-").concat(O))),S?E.push(b.renderActiveDot(z,Pe(Pe({},Y),{},{cx:S.x,cy:S.y}),"".concat(D,"-basePoint-").concat(O))):A&&E.push(null),E}),vt(w,"renderGraphicChild",function(P,k,_){var S=w.filterFormatItem(P,k,_);if(!S)return null;var O=w.getTooltipEventType(),A=w.state,E=A.isTooltipActive,D=A.tooltipAxis,B=A.activeTooltipIndex,z=A.activeLabel,K=w.props.children,Y=as(K,Ds),M=S.props,R=M.points,J=M.isRange,ie=M.baseLine,F=S.item.type.defaultProps!==void 0?Pe(Pe({},S.item.type.defaultProps),S.item.props):S.item.props,le=F.activeDot,q=F.hide,ve=F.activeBar,ye=F.activeShape,H=!!(!q&&E&&Y&&(le||ve||ye)),oe={};O!=="axis"&&Y&&Y.props.trigger==="click"?oe={onClick:Wy(w.handleItemMouseEnter,P.props.onClick)}:O!=="axis"&&(oe={onMouseLeave:Wy(w.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Wy(w.handleItemMouseEnter,P.props.onMouseEnter)});var G=y.cloneElement(P,Pe(Pe({},S.props),oe));function $(ee){return typeof D.dataKey=="function"?D.dataKey(ee.payload):null}if(H)if(B>=0){var Z,U;if(D.dataKey&&!D.allowDuplicatedCategory){var pe=typeof D.dataKey=="function"?$:"payload.".concat(D.dataKey.toString());Z=qb(R,pe,z),U=J&&ie&&qb(ie,pe,z)}else Z=R==null?void 0:R[B],U=J&&ie&&ie[B];if(ye||ve){var ke=P.props.activeIndex!==void 0?P.props.activeIndex:B;return[y.cloneElement(P,Pe(Pe(Pe({},S.props),oe),{},{activeIndex:ke})),null,null]}if(!Ot(Z))return[G].concat(vh(w.renderActivePoints({item:S,activePoint:Z,basePoint:U,childIndex:B,isRange:J})))}else{var se,I=(se=w.getItemByXY(w.state.activeCoordinate))!==null&&se!==void 0?se:{graphicalItem:G},be=I.graphicalItem,_e=be.item,Me=_e===void 0?P:_e,He=be.childIndex,mt=Pe(Pe(Pe({},S.props),oe),{},{activeIndex:He});return[y.cloneElement(Me,mt),null,null]}return J?[G,null,null]:[G,null]}),vt(w,"renderCustomized",function(P,k,_){return y.cloneElement(P,Pe(Pe({key:"recharts-customized-".concat(_)},w.props),w.state))}),vt(w,"renderMap",{CartesianGrid:{handler:Qy,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Qy},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Qy},YAxis:{handler:Qy},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((v=j.id)!==null&&v!==void 0?v:Gh("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=gW(w.triggeredAfterMouseMove,(N=j.throttleDelay)!==null&&N!==void 0?N:1e3/60),w.state={},w}return w6e(b,x),x6e(b,[{key:"componentDidMount",value:function(){var v,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,N=v.children,w=v.data,P=v.height,k=v.layout,_=as(N,Ds);if(_){var S=_.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,A=VS(this.state,w,S,O),E=this.state.tooltipTicks[S].coordinate,D=(this.state.offset.top+P)/2,B=k==="horizontal",z=B?{x:E,y:D}:{y:E,x:D},K=this.state.formattedGraphicalItems.find(function(M){var R=M.item;return R.type.name==="Scatter"});K&&(z=Pe(Pe({},z),K.props.points[S].tooltipPosition),A=K.props.points[S].tooltipPayload);var Y={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:O,activePayload:A,activeCoordinate:z};this.setState(Y),this.renderCursor(_),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var w,P;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(v){x_([as(v.children,Ds)],[as(this.props.children,Ds)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=as(this.props.children,Ds);if(v&&typeof v.props.shared=="boolean"){var N=v.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var N=this.container,w=N.getBoundingClientRect(),P=kTe(w),k={chartX:Math.round(v.pageX-P.left),chartY:Math.round(v.pageY-P.top)},_=w.width/N.offsetWidth||1,S=this.inRange(k.chartX,k.chartY,_);if(!S)return null;var O=this.state,A=O.xAxisMap,E=O.yAxisMap,D=this.getTooltipEventType(),B=$3(this.state,this.props.data,this.props.layout,S);if(D!=="axis"&&A&&E){var z=Al(A).scale,K=Al(E).scale,Y=z&&z.invert?z.invert(k.chartX):null,M=K&&K.invert?K.invert(k.chartY):null;return Pe(Pe({},k),{},{xValue:Y,yValue:M},B)}return B?Pe(Pe({},k),B):null}},{key:"inRange",value:function(v,N){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,k=v/w,_=N/w;if(P==="horizontal"||P==="vertical"){var S=this.state.offset,O=k>=S.left&&k<=S.left+S.width&&_>=S.top&&_<=S.top+S.height;return O?{x:k,y:_}:null}var A=this.state,E=A.angleAxisMap,D=A.radiusAxisMap;if(E&&D){var B=Al(E);return cI({x:k,y:_},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,N=this.getTooltipEventType(),w=as(v,Ds),P={};w&&N==="axis"&&(w.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Vb(this.props,this.handleOuterEvent);return Pe(Pe({},k),P)}},{key:"addListener",value:function(){q1.on(V1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){q1.removeListener(V1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,N,w){for(var P=this.state.formattedGraphicalItems,k=0,_=P.length;k<_;k++){var S=P[k];if(S.item===v||S.props.key===v.key||N===$o(S.item.type)&&w===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,N=this.state.offset,w=N.left,P=N.top,k=N.height,_=N.width;return X.createElement("defs",null,X.createElement("clipPath",{id:v},X.createElement("rect",{x:w,y:P,height:k,width:_})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(N,w){var P=R3(w,2),k=P[0],_=P[1];return Pe(Pe({},N),{},vt({},k,_.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(N,w){var P=R3(w,2),k=P[0],_=P[1];return Pe(Pe({},N),{},vt({},k,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[v])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(v){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[v])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(v){var N=this.state,w=N.formattedGraphicalItems,P=N.activeItem;if(w&&w.length)for(var k=0,_=w.length;k<_;k++){var S=w[k],O=S.props,A=S.item,E=A.type.defaultProps!==void 0?Pe(Pe({},A.type.defaultProps),A.props):A.props,D=$o(A.type);if(D==="Bar"){var B=(O.data||[]).find(function(M){return iIe(v,M)});if(B)return{graphicalItem:S,payload:B}}else if(D==="RadialBar"){var z=(O.data||[]).find(function(M){return cI(v,M)});if(z)return{graphicalItem:S,payload:z}}else if(Dj(S,P)||Mj(S,P)||Vg(S,P)){var K=G3e({graphicalItem:S,activeTooltipItem:P,itemData:E.data}),Y=E.activeIndex===void 0?K:E.activeIndex;return{graphicalItem:Pe(Pe({},S),{},{childIndex:Y}),payload:Vg(S,P)?E.data[K]:S.props.data[K]}}}return null}},{key:"render",value:function(){var v=this;if(!ZR(this))return null;var N=this.props,w=N.children,P=N.className,k=N.width,_=N.height,S=N.style,O=N.compact,A=N.title,E=N.desc,D=I3(N,d6e),B=gt(D,!1);if(O)return X.createElement(x3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(v_,Yu({},B,{width:k,height:_,title:A,desc:E}),this.renderClipPath(),t4(w,this.renderMap)));if(this.props.accessibilityLayer){var z,K;B.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,B.role=(K=this.props.role)!==null&&K!==void 0?K:"application",B.onKeyDown=function(M){v.accessibilityManager.keyboardEvent(M)},B.onFocus=function(){v.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return X.createElement(x3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",Yu({className:Mt("recharts-wrapper",P),style:Pe({position:"relative",cursor:"default",width:k,height:_},S)},Y,{ref:function(R){v.container=R}}),X.createElement(v_,Yu({},B,{width:k,height:_,title:A,desc:E,style:S6e}),this.renderClipPath(),t4(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);vt(g,"displayName",n),vt(g,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),vt(g,"getDerivedStateFromProps",function(x,b){var j=x.dataKey,v=x.data,N=x.children,w=x.width,P=x.height,k=x.layout,_=x.stackOffset,S=x.margin,O=b.dataStartIndex,A=b.dataEndIndex;if(b.updateId===void 0){var E=F3(x);return Pe(Pe(Pe({},E),{},{updateId:0},p(Pe(Pe({props:x},E),{},{updateId:0}),b)),{},{prevDataKey:j,prevData:v,prevWidth:w,prevHeight:P,prevLayout:k,prevStackOffset:_,prevMargin:S,prevChildren:N})}if(j!==b.prevDataKey||v!==b.prevData||w!==b.prevWidth||P!==b.prevHeight||k!==b.prevLayout||_!==b.prevStackOffset||!dm(S,b.prevMargin)){var D=F3(x),B={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},z=Pe(Pe({},$3(b,v,k)),{},{updateId:b.updateId+1}),K=Pe(Pe(Pe({},D),B),z);return Pe(Pe(Pe({},K),p(Pe({props:x},K),b)),{},{prevDataKey:j,prevData:v,prevWidth:w,prevHeight:P,prevLayout:k,prevStackOffset:_,prevMargin:S,prevChildren:N})}if(!x_(N,b.prevChildren)){var Y,M,R,J,ie=as(N,oh),F=ie&&(Y=(M=ie.props)===null||M===void 0?void 0:M.startIndex)!==null&&Y!==void 0?Y:O,le=ie&&(R=(J=ie.props)===null||J===void 0?void 0:J.endIndex)!==null&&R!==void 0?R:A,q=F!==O||le!==A,ve=!Ot(v),ye=ve&&!q?b.updateId:b.updateId+1;return Pe(Pe({updateId:ye},p(Pe(Pe({props:x},b),{},{updateId:ye,dataStartIndex:F,dataEndIndex:le}),b)),{},{prevChildren:N,dataStartIndex:F,dataEndIndex:le})}return null}),vt(g,"renderActiveDot",function(x,b,j){var v;return y.isValidElement(x)?v=y.cloneElement(x,b):St(x)?v=x(b):v=X.createElement(Cj,b),X.createElement(ta,{className:"recharts-active-dot",key:j},v)});var f=y.forwardRef(function(b,j){return X.createElement(g,Yu({},b,{ref:j}))});return f.displayName=g.displayName,f},L6e=aE({chartName:"LineChart",GraphicalChild:Nd,axisComponents:[{axisType:"xAxis",AxisComp:fh},{axisType:"yAxis",AxisComp:xh}],formatAxisMap:iH}),$6e=aE({chartName:"BarChart",GraphicalChild:xc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:fh},{axisType:"yAxis",AxisComp:xh}],formatAxisMap:iH}),F6e=aE({chartName:"PieChart",GraphicalChild:ml,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Oj},{axisType:"radiusAxis",AxisComp:Tj}],formatAxisMap:bRe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Lc=["#8b5cf6","#ec4899","#f59e0b","#10b981","#3b82f6"];function B6e(){const{t:e}=ft(),{toast:t}=Jt(),[n,r]=y.useState("7d"),[s,i]=y.useState("all"),[o,l]=y.useState(!1),c=async()=>{l(!0);try{const{data:v,error:N}=await L.functions.invoke("meta-sync-performance");if(N)throw N;t({title:e("admin.performanceReportsPage.syncSuccess","Performance data synced successfully")})}catch(v){t({title:e("admin.performanceReportsPage.syncError","Sync failed"),description:String(v),variant:"destructive"})}finally{l(!1)}},d=v=>{switch(v){case"7d":return 7;case"30d":return 30;case"90d":return 90}},{data:u=[],isLoading:m}=Ae({queryKey:["admin-performance",n,s],queryFn:async()=>{const v=d(n),N=new Date;N.setDate(N.getDate()-v);const w=N.toISOString().slice(0,10);let P=L.from("marketing_performance").select("*, marketing_campaigns(id, name, platform, status)").gte("date",w).order("date",{ascending:!0});s!=="all"&&(P=P.eq("platform",s));const{data:k,error:_}=await P;return _?(console.error("Error fetching performance data:",_),[]):k||[]}}),h=u.length>0,p={totalSpend:u.reduce((v,N)=>v+(N.spend||0),0),totalImpressions:u.reduce((v,N)=>v+(N.impressions||0),0),totalClicks:u.reduce((v,N)=>v+(N.clicks||0),0),totalConversions:u.reduce((v,N)=>v+(N.conversions||0),0),avgCtr:u.length>0?u.reduce((v,N)=>v+(N.ctr||0),0)/u.length:0,avgRoas:u.length>0?u.reduce((v,N)=>v+(N.roas||0),0)/u.length:0},g=(()=>{const v={};return u.forEach(N=>{const w=N.date.slice(5).replace("-","/");v[w]||(v[w]={date:w,impressions:0,clicks:0,conversions:0}),v[w].impressions+=N.impressions||0,v[w].clicks+=N.clicks||0,v[w].conversions+=N.conversions||0}),Object.values(v)})(),f=(()=>{const v={};return u.forEach(N=>{const w=N.platform||"Unknown";v[w]||(v[w]={platform:w,spend:0,impressions:0,clicks:0}),v[w].spend+=N.spend||0,v[w].impressions+=N.impressions||0,v[w].clicks+=N.clicks||0}),Object.values(v)})(),x=(()=>{const v={};return u.forEach(N=>{const w=N.platform||"Unknown";v[w]=(v[w]||0)+(N.spend||0)}),Object.entries(v).map(([N,w])=>({name:N,value:w}))})(),b=(()=>{const v={};return u.forEach(N=>{var _,S;const w=N.campaign_id,P=((_=N.marketing_campaigns)==null?void 0:_.name)||w,k=((S=N.marketing_campaigns)==null?void 0:S.platform)||N.platform||"Unknown";v[w]||(v[w]={name:P,platform:k,spend:0,impressions:0,clicks:0,conversions:0,roas:0,count:0}),v[w].spend+=N.spend||0,v[w].impressions+=N.impressions||0,v[w].clicks+=N.clicks||0,v[w].conversions+=N.conversions||0,v[w].roas+=N.roas||0,v[w].count+=1}),Object.values(v).map(N=>({...N,roas:N.count>0?N.roas/N.count:0})).sort((N,w)=>w.spend-N.spend).slice(0,10)})(),j=v=>{switch(v.toLowerCase()){case"facebook":return"bg-blue-500/10 text-blue-600";case"instagram":return"bg-pink-500/10 text-pink-600";case"xiaohongshu":return"bg-red-500/10 text-red-600";default:return"bg-muted text-muted-foreground"}};return m?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(yt,{children:a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-performance-title",children:e("admin.performanceReportsPage.title","Ad Performance Reports")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.performanceReportsPage.subtitle","Monitor KPIs across all advertising platforms")})]}),a.jsxs(C,{onClick:c,disabled:o,variant:"outline",className:"gap-2 w-full sm:w-auto",children:[o?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Yo,{className:"w-4 h-4"}),e("admin.performanceReportsPage.syncNow","Sync Now")]})]}),a.jsx(W,{children:a.jsx(ae,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground shrink-0",children:[e("admin.performanceReportsPage.dateRange","Date Range"),":"]}),a.jsx("div",{className:"flex gap-1",children:[{key:"7d",label:e("admin.performanceReportsPage.last7Days","Last 7 Days")},{key:"30d",label:e("admin.performanceReportsPage.last30Days","Last 30 Days")},{key:"90d",label:e("admin.performanceReportsPage.last90Days","Last 90 Days")}].map(v=>a.jsx(C,{variant:n===v.key?"default":"outline",size:"sm",className:"h-8 text-xs sm:text-sm",onClick:()=>r(v.key),"data-testid":`btn-range-${v.key}`,children:v.label},v.key))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground shrink-0",children:[e("admin.performanceReportsPage.platform","Platform"),":"]}),a.jsx("div",{className:"flex gap-1 flex-wrap",children:[{key:"all",label:e("admin.performanceReportsPage.all","All")},{key:"facebook",label:"Facebook"},{key:"instagram",label:"Instagram"},{key:"xiaohongshu",label:"Xiaohongshu"}].map(v=>a.jsx(C,{variant:s===v.key?"default":"outline",size:"sm",className:"h-8 text-xs sm:text-sm",onClick:()=>i(v.key),"data-testid":`btn-platform-${v.key}`,children:v.label},v.key))})]})]})})}),!h&&a.jsxs("div",{className:"text-center py-8 bg-muted/50 border border-dashed rounded-lg",children:[a.jsx(Fi,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e("admin.performanceReportsPage.noDataNotice","No performance data available. Sync your campaign data to see metrics.")}),a.jsxs(C,{onClick:c,disabled:o,className:"gap-2",children:[o?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Yo,{className:"w-4 h-4"}),e("admin.performanceReportsPage.syncNow","Sync Now")]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:a.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-purple-500/10 flex items-center justify-center shrink-0",children:a.jsx(Cr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-500"})})}),a.jsxs("p",{className:"text-lg sm:text-xl font-bold truncate",children:["RM ",p.totalSpend.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})]}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.performanceReportsPage.totalSpend","Total Spend")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:a.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0",children:a.jsx(xa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-500"})})}),a.jsx("p",{className:"text-lg sm:text-xl font-bold truncate",children:p.totalImpressions.toLocaleString()}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.performanceReportsPage.totalImpressions","Total Impressions")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:a.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-pink-500/10 flex items-center justify-center shrink-0",children:a.jsx(Lte,{className:"w-4 h-4 sm:w-5 sm:h-5 text-pink-500"})})}),a.jsx("p",{className:"text-lg sm:text-xl font-bold truncate",children:p.totalClicks.toLocaleString()}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.performanceReportsPage.totalClicks","Total Clicks")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:a.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:a.jsx(Wr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"})})}),a.jsx("p",{className:"text-lg sm:text-xl font-bold truncate",children:p.totalConversions.toLocaleString()}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.performanceReportsPage.totalConversions","Total Conversions")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:a.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-amber-500/10 flex items-center justify-center shrink-0",children:a.jsx(La,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-500"})})}),a.jsxs("p",{className:"text-lg sm:text-xl font-bold truncate",children:[p.avgCtr.toFixed(2),"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.performanceReportsPage.avgCtr","Avg CTR")})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1.5 sm:mb-2",children:a.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-emerald-500/10 flex items-center justify-center shrink-0",children:a.jsx(Fi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-500"})})}),a.jsxs("p",{className:"text-lg sm:text-xl font-bold truncate",children:[p.avgRoas.toFixed(2),"x"]}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.performanceReportsPage.avgRoas","Avg ROAS")})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs(W,{className:"lg:col-span-2",children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(La,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.performanceReportsPage.dailyTrend","Daily Trend")]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:a.jsx(S1,{width:"100%",height:300,children:a.jsxs(L6e,{data:g,children:[a.jsx(OS,{strokeDasharray:"3 3",className:"opacity-30"}),a.jsx(fh,{dataKey:"date",tick:{fontSize:12}}),a.jsx(xh,{tick:{fontSize:12}}),a.jsx(Ds,{}),a.jsx(Fo,{}),a.jsx(Nd,{type:"monotone",dataKey:"impressions",stroke:Lc[0],strokeWidth:2,dot:{r:3},name:e("admin.performanceReportsPage.impressions","Impressions")}),a.jsx(Nd,{type:"monotone",dataKey:"clicks",stroke:Lc[1],strokeWidth:2,dot:{r:3},name:e("admin.performanceReportsPage.clicks","Clicks")}),a.jsx(Nd,{type:"monotone",dataKey:"conversions",stroke:Lc[3],strokeWidth:2,dot:{r:3},name:e("admin.performanceReportsPage.conversions","Conversions")})]})})})]}),a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Fi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.performanceReportsPage.platformComparison","Platform Comparison")]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:a.jsx(S1,{width:"100%",height:300,children:a.jsxs($6e,{data:f,children:[a.jsx(OS,{strokeDasharray:"3 3",className:"opacity-30"}),a.jsx(fh,{dataKey:"platform",tick:{fontSize:12}}),a.jsx(xh,{tick:{fontSize:12}}),a.jsx(Ds,{}),a.jsx(Fo,{}),a.jsx(xc,{dataKey:"spend",fill:Lc[0],name:e("admin.performanceReportsPage.spend","Spend"),radius:[4,4,0,0]}),a.jsx(xc,{dataKey:"clicks",fill:Lc[1],name:e("admin.performanceReportsPage.clicks","Clicks"),radius:[4,4,0,0]})]})})})]}),a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Cr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.performanceReportsPage.budgetAllocation","Budget Allocation")]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:a.jsx(S1,{width:"100%",height:300,children:a.jsxs(F6e,{children:[a.jsx(ml,{data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:4,dataKey:"value",label:({name:v,percent:N})=>`${v} ${(N*100).toFixed(0)}%`,children:x.map((v,N)=>a.jsx(gj,{fill:Lc[N%Lc.length]},`cell-${N}`))}),a.jsx(Ds,{formatter:v=>`RM ${v.toLocaleString()}`}),a.jsx(Fo,{})]})})})]})]}),a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Fi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.performanceReportsPage.topCampaigns","Top Campaigns")]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:b.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Fi,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.performanceReportsPage.noCampaigns","No campaign data available")})]}):a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsxs("div",{className:"hidden sm:grid sm:grid-cols-7 gap-4 px-4 py-2 text-xs text-muted-foreground font-medium border-b",children:[a.jsx("span",{className:"col-span-2",children:e("admin.performanceReportsPage.campaign","Campaign")}),a.jsx("span",{className:"text-right",children:e("admin.performanceReportsPage.spend","Spend")}),a.jsx("span",{className:"text-right",children:e("admin.performanceReportsPage.impressions","Impressions")}),a.jsx("span",{className:"text-right",children:e("admin.performanceReportsPage.clicks","Clicks")}),a.jsx("span",{className:"text-right",children:e("admin.performanceReportsPage.conversions","Conversions")}),a.jsx("span",{className:"text-right",children:e("admin.performanceReportsPage.roas","ROAS")})]}),b.map((v,N)=>a.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-7 gap-2 sm:gap-4 p-3 sm:px-4 sm:py-3 border rounded-lg sm:items-center","data-testid":`campaign-row-${N}`,children:[a.jsxs("div",{className:"sm:col-span-2 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:v.name}),a.jsx(te,{variant:"secondary",className:`text-xs mt-0.5 ${j(v.platform)}`,children:v.platform})]}),a.jsxs("div",{className:"grid grid-cols-4 sm:contents gap-2 text-sm",children:[a.jsxs("div",{className:"sm:text-right",children:[a.jsx("span",{className:"text-xs text-muted-foreground sm:hidden",children:"Spend"}),a.jsxs("p",{className:"font-medium sm:font-normal",children:["RM ",v.spend.toLocaleString()]})]}),a.jsxs("div",{className:"sm:text-right",children:[a.jsx("span",{className:"text-xs text-muted-foreground sm:hidden",children:"Impr."}),a.jsx("p",{children:v.impressions.toLocaleString()})]}),a.jsxs("div",{className:"sm:text-right",children:[a.jsx("span",{className:"text-xs text-muted-foreground sm:hidden",children:"Clicks"}),a.jsx("p",{children:v.clicks.toLocaleString()})]}),a.jsxs("div",{className:"sm:text-right",children:[a.jsx("span",{className:"text-xs text-muted-foreground sm:hidden",children:"Conv."}),a.jsx("p",{children:v.conversions})]}),a.jsx("div",{className:"sm:text-right hidden sm:block",children:a.jsxs(te,{variant:"outline",className:"text-xs font-mono",children:[v.roas.toFixed(1),"x"]})})]}),a.jsx("div",{className:"flex justify-end sm:hidden",children:a.jsxs(te,{variant:"outline",className:"text-xs font-mono",children:["ROAS: ",v.roas.toFixed(1),"x"]})})]},N))]})})]})]})})}const U6e={id:"default",business_phone_id:"",whatsapp_business_account_id:"",access_token:"",webhook_verify_token:"",webhook_url:"",business_name:"",business_description:"",business_address:"",business_email:"",business_website:"",admin_phone_numbers:[],notification_enabled:!1,auto_reply_enabled:!1,auto_reply_message:"",working_hours:{start:"09:00",end:"18:00"}};function q6e(){var ve,ye;const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState("api"),[i,o]=y.useState(U6e),[l,c]=y.useState(!1),[d,u]=y.useState(null),[m,h]=y.useState({name:"",language:"zh_CN",category:"UTILITY",body_text:"",footer_text:"",variables:""}),[p,g]=y.useState("order_notification"),[f,x]=y.useState("all"),[b,j]=y.useState(""),[v,N]=y.useState(!1),{data:w,isLoading:P}=Ae({queryKey:["whatsapp-config"],queryFn:async()=>{const{data:H,error:oe}=await L.from("whatsapp_config").select("*").eq("id","default").single();if(oe&&oe.code!=="PGRST116")return console.error("Error fetching whatsapp config:",oe),null;if(H){const G=H;return o({id:G.id,business_phone_id:G.business_phone_id||"",whatsapp_business_account_id:G.whatsapp_business_account_id||"",access_token:G.access_token||"",webhook_verify_token:G.webhook_verify_token||"",webhook_url:G.webhook_url||"",business_name:G.business_name||"",business_description:G.business_description||"",business_address:G.business_address||"",business_email:G.business_email||"",business_website:G.business_website||"",admin_phone_numbers:G.admin_phone_numbers||[],notification_enabled:G.notification_enabled??!1,auto_reply_enabled:G.auto_reply_enabled??!1,auto_reply_message:G.auto_reply_message||"",working_hours:G.working_hours||{start:"09:00",end:"18:00"}}),G}return null}}),{data:k=[],isLoading:_}=Ae({queryKey:["whatsapp-templates"],queryFn:async()=>{const{data:H,error:oe}=await L.from("whatsapp_templates").select("*").order("created_at",{ascending:!1});return oe?(console.error("Error fetching whatsapp templates:",oe),[]):H||[]}}),{data:S=[],isLoading:O}=Ae({queryKey:["whatsapp-push-history"],queryFn:async()=>{const{data:H,error:oe}=await L.from("whatsapp_messages").select("*").eq("sender_type","admin").order("created_at",{ascending:!1}).limit(50);return oe?(console.error("Error fetching push history:",oe),[]):H||[]}}),A=Ce({mutationFn:async()=>{const H={id:"default",business_phone_id:i.business_phone_id||null,whatsapp_business_account_id:i.whatsapp_business_account_id||null,access_token:i.access_token||null,webhook_verify_token:i.webhook_verify_token||null,webhook_url:i.webhook_url||null,business_name:i.business_name||null,business_description:i.business_description||null,business_address:i.business_address||null,business_email:i.business_email||null,business_website:i.business_website||null,admin_phone_numbers:i.admin_phone_numbers,notification_enabled:i.notification_enabled,auto_reply_enabled:i.auto_reply_enabled,auto_reply_message:i.auto_reply_message||null,working_hours:i.working_hours,updated_at:new Date().toISOString()},{error:oe}=await L.from("whatsapp_config").upsert(H,{onConflict:"id"});if(oe)throw oe},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp-config"]}),t({title:e("admin.whatsappConfigPage.configSaved")})},onError:H=>{t({title:e("admin.whatsappConfigPage.configSaveFailed"),description:String(H),variant:"destructive"})}}),E=Ce({mutationFn:async()=>{const H=m.variables?m.variables.split(",").map(G=>G.trim()).filter(Boolean):null,oe={name:m.name,language:m.language,category:m.category,body_text:m.body_text,footer_text:m.footer_text||null,variables:H,status:"draft"};if(d){const{error:G}=await L.from("whatsapp_templates").update({...oe,updated_at:new Date().toISOString()}).eq("id",d.id);if(G)throw G}else{const{error:G}=await L.from("whatsapp_templates").insert(oe);if(G)throw G}},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp-templates"]}),c(!1),u(null),z(),t({title:e(d?"admin.whatsappConfigPage.templateUpdated":"admin.whatsappConfigPage.templateCreated")})},onError:H=>{t({title:e("admin.whatsappConfigPage.templateSaveFailed"),description:String(H),variant:"destructive"})}}),D=Ce({mutationFn:async H=>{const{error:oe}=await L.from("whatsapp_templates").delete().eq("id",H);if(oe)throw oe},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp-templates"]}),t({title:e("admin.whatsappConfigPage.templateDeleted")})},onError:H=>{t({title:e("admin.whatsappConfigPage.templateDeleteFailed"),description:String(H),variant:"destructive"})}}),B=Ce({mutationFn:async()=>{N(!0);const{error:H}=await L.from("whatsapp_messages").insert({sender_type:"admin",content:b,push_type:p,push_target:f});if(H)throw H},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp-push-history"]}),j(""),t({title:e("admin.whatsappConfigPage.pushSent")}),N(!1)},onError:H=>{t({title:e("admin.whatsappConfigPage.pushFailed"),description:String(H),variant:"destructive"}),N(!1)}}),z=()=>{h({name:"",language:"zh_CN",category:"UTILITY",body_text:"",footer_text:"",variables:""})},K=()=>{u(null),z(),c(!0)},Y=H=>{u(H),h({name:H.name,language:H.language,category:H.category,body_text:H.body_text,footer_text:H.footer_text||"",variables:H.variables?H.variables.join(", "):""}),c(!0)},M=H=>{switch(H){case"MARKETING":return"bg-purple-500/10 text-purple-600";case"UTILITY":return"bg-blue-500/10 text-blue-600";case"AUTHENTICATION":return"bg-orange-500/10 text-orange-600";default:return"bg-muted text-muted-foreground"}},R=H=>{switch(H){case"approved":return"bg-green-500/10 text-green-600";case"pending":return"bg-yellow-500/10 text-yellow-600";case"rejected":return"bg-red-500/10 text-red-600";case"draft":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},J=H=>{switch(H){case"order_notification":return e("admin.whatsappConfigPage.pushTypeOrder");case"customer_message":return e("admin.whatsappConfigPage.pushTypeCustomer");case"system_notification":return e("admin.whatsappConfigPage.pushTypeSystem");case"marketing_push":return e("admin.whatsappConfigPage.pushTypeMarketing");default:return H}},ie=H=>H?new Date(H).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",F=(i.admin_phone_numbers||[]).join(", ");if(P||_||O)return a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})});const q=[{key:"api",label:e("admin.whatsappConfigPage.apiConfig"),icon:Ni},{key:"profile",label:e("admin.whatsappConfigPage.businessProfile"),icon:Ki},{key:"templates",label:e("admin.whatsappConfigPage.messageTemplates"),icon:ur},{key:"push",label:e("admin.whatsappConfigPage.adminPush"),icon:Fr}];return a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.whatsappConfigPage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.whatsappConfigPage.subtitle")})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:q.map(H=>{const oe=H.icon;return a.jsxs(C,{variant:r===H.key?"default":"outline",size:"sm",className:"gap-1.5 text-xs sm:text-sm",onClick:()=>s(H.key),children:[a.jsx(oe,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:H.label}),a.jsxs("span",{className:"sm:hidden",children:[H.key==="api"&&e("admin.whatsappConfigPage.apiConfig"),H.key==="profile"&&e("admin.whatsappConfigPage.businessProfile"),H.key==="templates"&&e("admin.whatsappConfigPage.messageTemplates"),H.key==="push"&&e("admin.whatsappConfigPage.adminPush")]})]},H.key)})}),r==="api"&&a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Ni,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.apiConfig")]})}),a.jsxs(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.businessPhoneId")}),a.jsx(ce,{value:i.business_phone_id||"",onChange:H=>o({...i,business_phone_id:H.target.value}),placeholder:"e.g. 1234567890",className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.whatsappBusinessAccountId")}),a.jsx(ce,{value:i.whatsapp_business_account_id||"",onChange:H=>o({...i,whatsapp_business_account_id:H.target.value}),placeholder:"e.g. 9876543210",className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.accessToken")}),a.jsx(ce,{type:"password",value:i.access_token||"",onChange:H=>o({...i,access_token:H.target.value}),placeholder:"EAAx...",className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.webhookVerifyToken")}),a.jsx(ce,{value:i.webhook_verify_token||"",onChange:H=>o({...i,webhook_verify_token:H.target.value}),placeholder:"your_verify_token",className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.webhookUrl")}),a.jsx(ce,{value:i.webhook_url||"",onChange:H=>o({...i,webhook_url:H.target.value}),placeholder:"https://your-domain.com/api/whatsapp/webhook",className:"h-9 sm:h-10"})]}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsxs(C,{onClick:()=>A.mutate(),disabled:A.isPending,className:"w-full sm:w-auto",children:[A.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.whatsappConfigPage.saveConfig")]})})]})]}),r==="profile"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Ki,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.businessInfo")]})}),a.jsxs(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.businessName")}),a.jsx(ce,{value:i.business_name||"",onChange:H=>o({...i,business_name:H.target.value}),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.businessDescription")}),a.jsx(Pt,{value:i.business_description||"",onChange:H=>o({...i,business_description:H.target.value}),className:"min-h-[80px]"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-xs sm:text-sm font-medium flex items-center gap-1",children:[a.jsx(ec,{className:"w-3.5 h-3.5"}),e("admin.whatsappConfigPage.businessEmail")]}),a.jsx(ce,{type:"email",value:i.business_email||"",onChange:H=>o({...i,business_email:H.target.value}),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-xs sm:text-sm font-medium flex items-center gap-1",children:[a.jsx(Ki,{className:"w-3.5 h-3.5"}),e("admin.whatsappConfigPage.businessWebsite")]}),a.jsx(ce,{value:i.business_website||"",onChange:H=>o({...i,business_website:H.target.value}),className:"h-9 sm:h-10"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.businessAddress")}),a.jsx(ce,{value:i.business_address||"",onChange:H=>o({...i,business_address:H.target.value}),className:"h-9 sm:h-10"})]})]})]}),a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(ds,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.adminPhones")]})}),a.jsxs(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.adminPhoneNumbers")}),a.jsx(ce,{value:F,onChange:H=>o({...i,admin_phone_numbers:H.target.value.split(",").map(oe=>oe.trim()).filter(Boolean)}),placeholder:"e.g. +60123456789, +60198765432",className:"h-9 sm:h-10"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.whatsappConfigPage.adminPhoneHint")})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fr,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium",children:e("admin.whatsappConfigPage.notificationEnabled")})]}),a.jsx(cn,{checked:i.notification_enabled,onCheckedChange:H=>o({...i,notification_enabled:H})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ur,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium",children:e("admin.whatsappConfigPage.autoReplyEnabled")})]}),a.jsx(cn,{checked:i.auto_reply_enabled,onCheckedChange:H=>o({...i,auto_reply_enabled:H})})]}),i.auto_reply_enabled&&a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.autoReplyMessage")}),a.jsx(Pt,{value:i.auto_reply_message||"",onChange:H=>o({...i,auto_reply_message:H.target.value}),placeholder:e("admin.whatsappConfigPage.autoReplyPlaceholder"),className:"min-h-[80px]"})]})]})]}),a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Ht,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.workingHours")]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.workingHoursStart")}),a.jsx(ce,{type:"time",value:((ve=i.working_hours)==null?void 0:ve.start)||"09:00",onChange:H=>{var oe;return o({...i,working_hours:{start:H.target.value,end:((oe=i.working_hours)==null?void 0:oe.end)||"18:00"}})},className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.workingHoursEnd")}),a.jsx(ce,{type:"time",value:((ye=i.working_hours)==null?void 0:ye.end)||"18:00",onChange:H=>{var oe;return o({...i,working_hours:{start:((oe=i.working_hours)==null?void 0:oe.start)||"09:00",end:H.target.value}})},className:"h-9 sm:h-10"})]})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(C,{onClick:()=>A.mutate(),disabled:A.isPending,className:"w-full sm:w-auto",children:[A.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.whatsappConfigPage.saveConfig")]})})]}),r==="templates"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("h2",{className:"text-base sm:text-lg font-medium flex items-center gap-2",children:[a.jsx(ur,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.messageTemplates")," (",k.length,")"]}),a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:K,children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.whatsappConfigPage.newTemplate")]})]}),k.length===0?a.jsx(W,{children:a.jsx(ae,{className:"p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ur,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.whatsappConfigPage.noTemplates")})]})})}):a.jsx("div",{className:"space-y-3",children:k.map(H=>a.jsx(W,{children:a.jsx(ae,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[a.jsxs("div",{className:"min-w-0 flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base",children:H.name}),a.jsx(te,{variant:"outline",className:"text-xs",children:H.language}),a.jsx(te,{className:`text-xs ${M(H.category)}`,children:H.category}),a.jsx(te,{className:`text-xs ${R(H.status)}`,children:H.status})]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2",children:H.body_text}),H.variables&&H.variables.length>0&&a.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e("admin.whatsappConfigPage.variables"),":"]}),H.variables.map((oe,G)=>a.jsx(te,{variant:"outline",className:"text-xs",children:oe},G))]})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"h-8 gap-1",onClick:()=>Y(H),children:[a.jsx(_a,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappConfigPage.edit")})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-8 gap-1 text-destructive hover:text-destructive",onClick:()=>D.mutate(H.id),disabled:D.isPending,children:[a.jsx(Ut,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappConfigPage.delete")})]})]})]})})},H.id))})]}),r==="push"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Ro,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.sendPush")]})}),a.jsxs(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.pushType")}),a.jsxs(tt,{value:p,onValueChange:g,children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"order_notification",children:e("admin.whatsappConfigPage.pushTypeOrder")}),a.jsx(ge,{value:"customer_message",children:e("admin.whatsappConfigPage.pushTypeCustomer")}),a.jsx(ge,{value:"system_notification",children:e("admin.whatsappConfigPage.pushTypeSystem")}),a.jsx(ge,{value:"marketing_push",children:e("admin.whatsappConfigPage.pushTypeMarketing")})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.pushTarget")}),a.jsxs(tt,{value:f,onValueChange:x,children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"all",children:e("admin.whatsappConfigPage.pushTargetAll")}),(i.admin_phone_numbers||[]).map(H=>a.jsx(ge,{value:H,children:H},H))]})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.pushContent")}),a.jsx(Pt,{value:b,onChange:H=>j(H.target.value),placeholder:e("admin.whatsappConfigPage.pushContentPlaceholder"),className:"min-h-[100px]"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(C,{onClick:()=>B.mutate(),disabled:v||!b.trim(),className:"w-full sm:w-auto gap-2",children:[v?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Ro,{className:"w-4 h-4"}),e("admin.whatsappConfigPage.sendButton")]})})]})]}),a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Ht,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappConfigPage.pushHistory")]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:S.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ro,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.whatsappConfigPage.noPushHistory")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:S.map(H=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 border rounded-lg gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[H.push_type&&a.jsx(te,{variant:"outline",className:"text-xs",children:J(H.push_type)}),H.push_target&&a.jsx(te,{variant:"secondary",className:"text-xs",children:H.push_target==="all"?e("admin.whatsappConfigPage.pushTargetAll"):H.push_target})]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2",children:H.content})]}),a.jsx("span",{className:"text-xs text-muted-foreground shrink-0",children:ie(H.created_at)})]},H.id))})})]})]})]}),a.jsx(et,{open:l,onOpenChange:c,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(ur,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e(d?"admin.whatsappConfigPage.editTemplate":"admin.whatsappConfigPage.newTemplate")]}),a.jsx(ht,{className:"text-sm",children:e(d?"admin.whatsappConfigPage.editTemplateDesc":"admin.whatsappConfigPage.newTemplateDesc")})]}),a.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-xs sm:text-sm font-medium",children:[e("admin.whatsappConfigPage.templateName")," *"]}),a.jsx(ce,{value:m.name,onChange:H=>h({...m,name:H.target.value}),placeholder:e("admin.whatsappConfigPage.templateNamePlaceholder"),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.templateLanguage")}),a.jsxs(tt,{value:m.language,onValueChange:H=>h({...m,language:H}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"zh_CN",children:"zh_CN"}),a.jsx(ge,{value:"en",children:"en"}),a.jsx(ge,{value:"ms",children:"ms"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.templateCategory")}),a.jsxs(tt,{value:m.category,onValueChange:H=>h({...m,category:H}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"MARKETING",children:"MARKETING"}),a.jsx(ge,{value:"UTILITY",children:"UTILITY"}),a.jsx(ge,{value:"AUTHENTICATION",children:"AUTHENTICATION"})]})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-xs sm:text-sm font-medium",children:[e("admin.whatsappConfigPage.templateBody")," *"]}),a.jsx(Pt,{value:m.body_text,onChange:H=>h({...m,body_text:H.target.value}),placeholder:e("admin.whatsappConfigPage.templateBodyPlaceholder"),className:"min-h-[120px]"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.templateFooter")}),a.jsx(ce,{value:m.footer_text,onChange:H=>h({...m,footer_text:H.target.value}),placeholder:e("admin.whatsappConfigPage.templateFooterPlaceholder"),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappConfigPage.templateVariables")}),a.jsx(ce,{value:m.variables,onChange:H=>h({...m,variables:H.target.value}),placeholder:"e.g. customer_name, order_id, amount",className:"h-9 sm:h-10"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.whatsappConfigPage.templateVariablesHint")})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>{c(!1),u(null),z()},className:"w-full sm:w-auto",children:e("admin.whatsappConfigPage.cancel")}),a.jsxs(C,{onClick:()=>E.mutate(),disabled:E.isPending||!m.name.trim()||!m.body_text.trim(),className:"w-full sm:w-auto",children:[E.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e(d?"admin.whatsappConfigPage.updateTemplate":"admin.whatsappConfigPage.createTemplate")]})]})]})})]})}function V6e(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState(""),[i,o]=y.useState("all"),[l,c]=y.useState(!1),[d,u]=y.useState(null),[m,h]=y.useState(""),[p,g]=y.useState(""),[f,x]=y.useState(""),[b,j]=y.useState(""),[v,N]=y.useState("pending"),[w,P]=y.useState(""),[k,_]=y.useState(!1),[S,O]=y.useState(null),[A,E]=y.useState(!1),[D,B]=y.useState(null),[z,K]=y.useState(""),{data:Y=[],isLoading:M}=Ae({queryKey:["admin-whatsapp-orders"],queryFn:async()=>{const{data:I,error:be}=await L.from("orders").select("*").eq("source_channel","whatsapp").order("created_at",{ascending:!1});return be?(console.error("Error fetching whatsapp orders:",be),[]):(I||[]).map(_e=>({id:_e.id,order_number:_e.order_number,customer_name:_e.customer_name,customer_phone:_e.customer_phone,customer_email:_e.customer_email,status:_e.status,total_amount:_e.total_amount,items:_e.items,source_channel:_e.source_channel,whatsapp_conversation_id:_e.whatsapp_conversation_id,notes:_e.notes,shipping_address:_e.shipping_address,created_at:_e.created_at,updated_at:_e.updated_at}))}}),R=Ce({mutationFn:async I=>{const be=`WA-${Date.now().toString(36).toUpperCase()}`,{error:_e}=await L.from("orders").insert({order_number:be,customer_phone:I.customer_phone,customer_name:I.customer_name,items:I.items||"[]",total_amount:I.total_amount,status:I.status,notes:I.notes,source_channel:"whatsapp"});if(_e)throw _e},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-orders"]}),c(!1),F(),t({title:e("admin.whatsappOrdersPage.orderCreated")})},onError:I=>{t({title:e("admin.whatsappOrdersPage.createFailed"),description:String(I),variant:"destructive"})}}),J=Ce({mutationFn:async I=>{const{id:be,..._e}=I,{error:Me}=await L.from("orders").update({..._e,updated_at:new Date().toISOString()}).eq("id",be);if(Me)throw Me},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-orders"]}),c(!1),F(),t({title:e("admin.whatsappOrdersPage.orderUpdated")})},onError:I=>{t({title:e("admin.whatsappOrdersPage.updateFailed"),description:String(I),variant:"destructive"})}}),ie=Ce({mutationFn:async I=>{const{error:be}=await L.from("orders").delete().eq("id",I);if(be)throw be},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-orders"]}),t({title:e("admin.whatsappOrdersPage.orderDeleted")})},onError:I=>{t({title:e("admin.whatsappOrdersPage.deleteFailed"),description:String(I),variant:"destructive"})}}),F=()=>{u(null),h(""),g(""),x(""),j(""),N("pending"),P("")},le=()=>{F(),c(!0)},q=I=>{u(I),h(I.customer_phone),g(I.customer_name),x(I.items||""),j((I.total_amount/100).toString()),N(I.status),P(I.notes||""),c(!0)},ve=I=>{O(I),_(!0)},ye=I=>{B(I),K(""),E(!0)},H=()=>{!D||!z.trim()||(t({title:e("admin.whatsappOrdersPage.notificationSent"),description:`${D.customer_name} - ${z}`}),E(!1),K(""))},oe=()=>{const I=Math.round(parseFloat(b||"0")*100);if(!m.trim()||!p.trim()){t({title:e("admin.whatsappOrdersPage.requiredFields"),variant:"destructive"});return}d?J.mutate({id:d.id,customer_phone:m,customer_name:p,items:f||null,total_amount:I,status:v,notes:w||null}):R.mutate({customer_phone:m,customer_name:p,items:f||null,total_amount:I,status:v,notes:w||null})},G=I=>{confirm(e("admin.whatsappOrdersPage.confirmDelete"))&&ie.mutate(I.id)},$=Y.filter(I=>{var Me;const be=r===""||I.customer_phone.toLowerCase().includes(r.toLowerCase())||I.customer_name.toLowerCase().includes(r.toLowerCase())||((Me=I.order_number)==null?void 0:Me.toLowerCase().includes(r.toLowerCase())),_e=i==="all"||I.status===i;return be&&_e}),Z={total:Y.length,pending:Y.filter(I=>I.status==="pending").length,confirmed:Y.filter(I=>I.status==="confirmed"||I.status==="processing"||I.status==="shipped").length,revenue:Y.reduce((I,be)=>I+be.total_amount,0)},U=I=>{switch(I){case"confirmed":return a.jsx(te,{variant:"outline",className:"text-blue-500 border-blue-500/30",children:e("admin.whatsappOrdersPage.statusConfirmed")});case"processing":return a.jsx(te,{variant:"outline",className:"text-yellow-500 border-yellow-500/30",children:e("admin.whatsappOrdersPage.statusProcessing")});case"shipped":return a.jsx(te,{variant:"outline",className:"text-primary border-primary/30",children:e("admin.whatsappOrdersPage.statusShipped")});case"delivered":return a.jsx(te,{variant:"outline",className:"text-green-500 border-green-500/30",children:e("admin.whatsappOrdersPage.statusDelivered")});case"cancelled":return a.jsx(te,{variant:"outline",className:"text-red-500 border-red-500/30",children:e("admin.whatsappOrdersPage.statusCancelled")||"Cancelled"});default:return a.jsx(te,{variant:"outline",className:"text-yellow-500 border-yellow-500/30",children:e("admin.whatsappOrdersPage.statusPending")})}},pe=I=>I?new Date(I).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",ke=I=>I?new Date(I).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",se=I=>{if(!I)return"-";try{const be=JSON.parse(I);return Array.isArray(be)?be.map(_e=>`${_e.name||"Item"} x${_e.quantity||1}`).join(", "):String(I).slice(0,80)}catch{return String(I).slice(0,80)||"-"}};return M?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary","data-testid":"text-whatsapp-orders-title",children:e("admin.whatsappOrdersPage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.subtitle")})]}),a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:le,"data-testid":"button-new-order",children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.whatsappOrdersPage.newOrder")]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(kn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:Z.total}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappOrdersPage.totalOrders")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:a.jsx(ds,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:Z.pending}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappOrdersPage.pendingOrders")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:a.jsx(fi,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:Z.confirmed}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappOrdersPage.activeOrders")||"Active"})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(kn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-primary truncate",children:["RM ",(Z.revenue/100).toLocaleString()]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappOrdersPage.totalRevenue")})]})]})})]}),a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(fi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappOrdersPage.orderList")]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.whatsappOrdersPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:r,onChange:I=>s(I.target.value),"data-testid":"input-search"})]})]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:a.jsxs(ba,{value:i,onValueChange:o,children:[a.jsxs(fa,{className:"grid w-full grid-cols-6 h-auto p-1",children:[a.jsx(Ee,{value:"all",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-all",children:e("admin.whatsappOrdersPage.tabAll")}),a.jsxs(Ee,{value:"pending",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-pending",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.statusPending")}),a.jsx("span",{className:"sm:hidden",children:e("admin.whatsappOrdersPage.tabPendingShort")})]}),a.jsxs(Ee,{value:"confirmed",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-confirmed",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.statusConfirmed")}),a.jsx("span",{className:"sm:hidden",children:e("admin.whatsappOrdersPage.tabConfirmedShort")})]}),a.jsxs(Ee,{value:"processing",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-processing",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.statusProcessing")}),a.jsx("span",{className:"sm:hidden",children:e("admin.whatsappOrdersPage.tabProcessingShort")})]}),a.jsxs(Ee,{value:"shipped",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-shipped",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.statusShipped")}),a.jsx("span",{className:"sm:hidden",children:e("admin.whatsappOrdersPage.tabShippedShort")})]}),a.jsxs(Ee,{value:"delivered",className:"text-xs sm:text-sm py-1.5 sm:py-2","data-testid":"tab-delivered",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.statusDelivered")}),a.jsx("span",{className:"sm:hidden",children:e("admin.whatsappOrdersPage.tabDeliveredShort")})]})]}),a.jsx(At,{value:i,className:"mt-3 sm:mt-4",children:$.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(kn,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.whatsappOrdersPage.noOrders")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:$.map(I=>a.jsxs("div",{className:"flex flex-col p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3","data-testid":`order-${I.id}`,children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:a.jsx(ds,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:I.customer_name}),a.jsx(te,{variant:"secondary",className:"text-xs",children:I.order_number}),U(I.status),I.whatsapp_conversation_id&&a.jsx(te,{className:"bg-green-500/10 text-green-600 text-xs",children:"WhatsApp"})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground flex-wrap",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ds,{className:"w-3 h-3"}),I.customer_phone]}),a.jsx("span",{className:"shrink-0",children:pe(I.created_at)})]})]})]}),a.jsx("div",{className:"flex items-center gap-2 pl-12 sm:pl-0",children:a.jsxs("span",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(I.total_amount/100).toLocaleString()]})})]}),a.jsx("div",{className:"pl-12 sm:pl-14",children:a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:se(I.items)})}),a.jsxs("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 pl-12 sm:pl-14",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>ve(I),"data-testid":`button-view-${I.id}`,children:[a.jsx(xa,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.viewDetails")})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>q(I),"data-testid":`button-edit-${I.id}`,children:[a.jsx(_a,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.edit")})]}),I.whatsapp_conversation_id&&a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>window.location.href="/admin/whatsapp/chat",children:[a.jsx(fi,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.viewConversation")})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>ye(I),"data-testid":`button-notify-${I.id}`,children:[a.jsx(Fr,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappOrdersPage.notifyAdmin")})]}),a.jsx(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs text-destructive hover:text-destructive",onClick:()=>G(I),"data-testid":`button-delete-${I.id}`,children:a.jsx(Ut,{className:"w-3.5 h-3.5"})})]})]},I.id))})})]})})]})]}),a.jsx(et,{open:l,onOpenChange:c,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[d?a.jsx(_a,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}):a.jsx(zt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e(d?"admin.whatsappOrdersPage.editOrder":"admin.whatsappOrdersPage.createOrder")]}),a.jsx(ht,{className:"text-sm",children:e(d?"admin.whatsappOrdersPage.editOrderDesc":"admin.whatsappOrdersPage.createOrderDesc")})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("label",{className:"text-xs sm:text-sm font-medium",children:[e("admin.whatsappOrdersPage.customerPhone")," *"]}),a.jsx(ce,{value:m,onChange:I=>h(I.target.value),placeholder:"+60123456789",className:"h-9 sm:h-10","data-testid":"input-customer-phone"})]}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("label",{className:"text-xs sm:text-sm font-medium",children:[e("admin.whatsappOrdersPage.customerName")," *"]}),a.jsx(ce,{value:p,onChange:I=>g(I.target.value),placeholder:e("admin.whatsappOrdersPage.customerNamePlaceholder"),className:"h-9 sm:h-10","data-testid":"input-customer-name"})]})]}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappOrdersPage.orderData")}),a.jsx(Pt,{value:f,onChange:I=>x(I.target.value),placeholder:e("admin.whatsappOrdersPage.orderDataPlaceholder"),className:"min-h-[100px] font-mono text-xs sm:text-sm","data-testid":"input-order-data"})]}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("label",{className:"text-xs sm:text-sm font-medium",children:[e("admin.whatsappOrdersPage.totalAmount")," (RM)"]}),a.jsx(ce,{type:"number",step:"0.01",value:b,onChange:I=>j(I.target.value),placeholder:"0.00",className:"h-9 sm:h-10","data-testid":"input-total-amount"})]}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappOrdersPage.orderStatus")}),a.jsxs(tt,{value:v,onValueChange:N,children:[a.jsx(Xe,{className:"h-9 sm:h-10","data-testid":"select-status",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"pending",children:e("admin.whatsappOrdersPage.statusPending")}),a.jsx(ge,{value:"confirmed",children:e("admin.whatsappOrdersPage.statusConfirmed")}),a.jsx(ge,{value:"processing",children:e("admin.whatsappOrdersPage.statusProcessing")}),a.jsx(ge,{value:"shipped",children:e("admin.whatsappOrdersPage.statusShipped")}),a.jsx(ge,{value:"delivered",children:e("admin.whatsappOrdersPage.statusDelivered")})]})]})]}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappOrdersPage.notes")}),a.jsx(Pt,{value:w,onChange:I=>P(I.target.value),placeholder:e("admin.whatsappOrdersPage.notesPlaceholder"),className:"min-h-[80px]","data-testid":"input-notes"})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:e("admin.whatsappOrdersPage.cancel")}),a.jsxs(C,{onClick:oe,disabled:R.isPending||J.isPending,className:"w-full sm:w-auto","data-testid":"button-confirm-order",children:[(R.isPending||J.isPending)&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e(d?"admin.whatsappOrdersPage.save":"admin.whatsappOrdersPage.create")]})]})]})}),a.jsx(et,{open:k,onOpenChange:_,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(xa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappOrdersPage.orderDetails")]}),a.jsxs(ht,{className:"text-sm",children:[S==null?void 0:S.customer_name," - ",S==null?void 0:S.customer_phone]})]}),S&&a.jsxs("div",{className:"space-y-4 sm:space-y-6 py-2 sm:py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.customerName")}),a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:S.customer_name})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(ds,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),e("admin.whatsappOrdersPage.customerPhone")]}),a.jsx("p",{className:"font-medium text-sm sm:text-base",children:S.customer_phone})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.orderStatus")}),U(S.status)]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.totalAmount")}),a.jsxs("p",{className:"font-bold text-primary text-sm sm:text-base",children:["RM ",(S.total_amount/100).toLocaleString()]})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Order #"}),a.jsx("p",{className:"font-medium text-sm sm:text-base font-mono",children:S.order_number})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.createdAt")}),a.jsx("p",{className:"font-medium text-sm sm:text-base",children:ke(S.created_at)})]})]}),S.items&&a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Items"}),a.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg",children:se(S.items)})]}),S.notes&&a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.notes")}),a.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg",children:S.notes})]}),S.whatsapp_conversation_id&&a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappOrdersPage.conversationId")}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-8 gap-1",onClick:()=>window.location.href="/admin/whatsapp/chat",children:[a.jsx(fi,{className:"w-4 h-4"}),e("admin.whatsappOrdersPage.viewConversation")]})]})]}),a.jsx(lt,{className:"mt-3 sm:mt-4",children:a.jsx(C,{variant:"outline",onClick:()=>_(!1),className:"w-full sm:w-auto",children:e("admin.whatsappOrdersPage.close")})})]})}),a.jsx(et,{open:A,onOpenChange:E,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Fr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappOrdersPage.notifyAdminTitle")]}),a.jsx(ht,{className:"text-sm",children:D?`${D.customer_name} - ${D.customer_phone}`:""})]}),a.jsx("div",{className:"space-y-3 py-2 sm:py-4",children:a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappOrdersPage.notificationMessage")}),a.jsx(Pt,{value:z,onChange:I=>K(I.target.value),placeholder:e("admin.whatsappOrdersPage.notificationPlaceholder"),className:"min-h-[80px]","data-testid":"input-notify-message"})]})}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>E(!1),className:"w-full sm:w-auto",children:e("admin.whatsappOrdersPage.cancel")}),a.jsxs(C,{onClick:H,disabled:!z.trim(),className:"w-full sm:w-auto gap-2","data-testid":"button-send-notification",children:[a.jsx(Ro,{className:"w-4 h-4"}),e("admin.whatsappOrdersPage.send")]})]})]})})]})}function K6e(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState(""),[i,o]=y.useState("all"),[l,c]=y.useState(!1),[d,u]=y.useState(!1),[m,h]=y.useState(null),[p,g]=y.useState(""),[f,x]=y.useState(""),[b,j]=y.useState(""),{data:v=[],isLoading:N}=Ae({queryKey:["admin-whatsapp-members"],queryFn:async()=>{const{data:q,error:ve}=await L.from("members").select("*").or("registration_source.eq.whatsapp,whatsapp_phone.not.is.null").order("created_at",{ascending:!1});return ve?(console.error("Error fetching whatsapp members:",ve),[]):q||[]}}),{data:w={}}=Ae({queryKey:["admin-whatsapp-members-orders"],queryFn:async()=>{const q=v.map(oe=>oe.phone).filter(Boolean);if(q.length===0)return{};const{data:ve,error:ye}=await L.from("orders").select("customer_phone").in("customer_phone",q);if(ye)return{};const H={};return(ve||[]).forEach(oe=>{H[oe.customer_phone]=(H[oe.customer_phone]||0)+1}),H},enabled:v.length>0}),{data:P={}}=Ae({queryKey:["admin-whatsapp-members-partners"],queryFn:async()=>{const q=v.map(oe=>oe.id);if(q.length===0)return{};const{data:ve,error:ye}=await L.from("partners").select("member_id, status, tier").in("member_id",q);if(ye)return{};const H={};return(ve||[]).forEach(oe=>{H[oe.member_id]={status:oe.status,tier:oe.tier}}),H},enabled:v.length>0}),k=Ce({mutationFn:async q=>{const{error:ve}=await L.from("members").insert({phone:q.phone,name:q.name||q.phone,email:q.email||null,role:"member",registration_source:"whatsapp",whatsapp_phone:q.phone});if(ve)throw ve},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-members"]}),u(!1),S(),t({title:e("admin.whatsappMembersPage.createSuccess")})},onError:q=>{t({title:e("admin.whatsappMembersPage.createError"),description:String(q),variant:"destructive"})}}),_=Ce({mutationFn:async q=>{const{error:ve}=await L.from("members").delete().eq("id",q);if(ve)throw ve},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-members"]}),c(!1),h(null),t({title:e("admin.whatsappMembersPage.deleteSuccess")})},onError:q=>{t({title:e("admin.whatsappMembersPage.deleteError"),description:String(q),variant:"destructive"})}}),S=()=>{g(""),x(""),j("")},O=()=>{S(),u(!0)},A=()=>{if(!p.trim()){t({title:e("admin.whatsappMembersPage.phoneRequired"),variant:"destructive"});return}k.mutate({phone:p.trim(),name:f.trim(),email:b.trim()})},E=q=>{h(q),c(!0)},D=q=>{_.mutate(q)},B=v.filter(q=>{const ve=r===""||q.phone.toLowerCase().includes(r.toLowerCase())||q.name.toLowerCase().includes(r.toLowerCase())||(q.email||"").toLowerCase().includes(r.toLowerCase());return i==="all"?ve:i==="partner"?ve&&!!P[q.id]:i==="with_orders"?ve&&(w[q.phone]||0)>0:i==="new"?ve&&!P[q.id]&&(w[q.phone]||0)===0:ve}),z=v.length,K=v.filter(q=>(w[q.phone]||0)>0).length,Y=v.filter(q=>!!P[q.id]).length,M=z>0?(K/z*100).toFixed(1):"0.0",R=q=>{const ve=P[q.id];return ve?a.jsxs(te,{className:"bg-purple-500/10 text-purple-600 border-purple-500/20",children:["Partner (",ve.tier,")"]}):a.jsx(te,{className:"bg-blue-500/10 text-blue-600 border-blue-500/20",children:e("admin.whatsappMembersPage.statusCompleted")})},J=q=>{switch(q){case"whatsapp":return a.jsx(te,{variant:"secondary",children:"WhatsApp"});case"manual":return a.jsx(te,{variant:"outline",children:e("admin.whatsappMembersPage.sourceManual")});case"referral":return a.jsx(te,{className:"bg-primary/10 text-primary border-primary/20",children:e("admin.whatsappMembersPage.sourceReferral")});default:return a.jsx(te,{variant:"outline",children:q||"WhatsApp"})}},ie=q=>q?new Date(q).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",F=q=>q?new Date(q).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",le=[{value:"all",label:e("admin.whatsappMembersPage.tabAll")},{value:"with_orders",label:e("admin.whatsappMembersPage.withOrders")||"With Orders"},{value:"partner",label:e("admin.whatsappMembersPage.partners")||"Partners"},{value:"new",label:e("admin.whatsappMembersPage.newMembers")||"New"}];return N?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.whatsappMembersPage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.whatsappMembersPage.subtitle")})]}),a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:O,children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.whatsappMembersPage.addRegistration")]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(Tt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:z}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappMembersPage.totalRegistrations")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:a.jsx(Wr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:K}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappMembersPage.withOrders")||"With Orders"})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-purple-500/10 flex items-center justify-center shrink-0",children:a.jsx(Le,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-500",children:Y}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappMembersPage.partners")||"Partners"})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(Br,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("p",{className:"text-lg sm:text-2xl font-bold",children:[M,"%"]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappMembersPage.conversionRate")})]})]})})]}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4 mb-4",children:[a.jsxs("h2",{className:"flex items-center gap-2 text-base sm:text-lg font-semibold",children:[a.jsx(Br,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappMembersPage.registrationList")]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.whatsappMembersPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:r,onChange:q=>s(q.target.value)})]})]}),a.jsx("div",{className:"flex gap-1 p-1 bg-muted rounded-lg mb-4",children:le.map(q=>a.jsx("button",{className:`flex-1 text-xs sm:text-sm py-1.5 sm:py-2 px-2 sm:px-3 rounded-md transition-colors ${i===q.value?"bg-background text-foreground shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,onClick:()=>o(q.value),children:q.label},q.value))}),B.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Br,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.whatsappMembersPage.noRegistrations")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:B.map(q=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3",children:[a.jsxs("div",{className:"flex items-start sm:items-center gap-3 sm:gap-4 min-w-0",children:[a.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(ds,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),a.jsxs("div",{className:"min-w-0 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:q.name}),J(q.registration_source),R(q)]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground flex-wrap",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ds,{className:"w-3 h-3"}),q.phone]}),q.email&&a.jsxs("span",{className:"flex items-center gap-1 truncate",children:[a.jsx(ec,{className:"w-3 h-3"}),q.email]}),(w[q.phone]||0)>0&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Wr,{className:"w-3 h-3"}),w[q.phone]," orders"]}),a.jsx("span",{className:"shrink-0",children:ie(q.created_at)})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-1 pl-12 sm:pl-0",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8",onClick:()=>E(q),children:[a.jsx(xa,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappMembersPage.viewDetail")})]}),a.jsx(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-destructive hover:text-destructive",onClick:()=>D(q.id),children:a.jsx(Ut,{className:"w-4 h-4"})})]})]},q.id))})]})})]}),a.jsx(et,{open:l,onOpenChange:c,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Br,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappMembersPage.registrationDetail")]}),a.jsx(ht,{className:"text-sm",children:e("admin.whatsappMembersPage.registrationDetailDesc")})]}),m&&a.jsxs("div",{className:"space-y-4 sm:space-y-6 py-2 sm:py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(Tt,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),e("admin.whatsappMembersPage.name")]}),a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:m.name})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(ds,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),e("admin.whatsappMembersPage.phone")]}),a.jsx("p",{className:"font-medium text-sm sm:text-base",children:m.phone})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(ec,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),e("admin.whatsappMembersPage.email")]}),a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:m.email||"-"})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappMembersPage.status")}),R(m)]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappMembersPage.source")}),J(m.registration_source)]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappMembersPage.createdAt")}),a.jsx("p",{className:"font-medium text-sm sm:text-base",children:F(m.created_at)})]})]}),(w[m.phone]||0)>0&&a.jsx("div",{className:"p-3 sm:p-4 border rounded-lg bg-blue-500/5 border-blue-500/20",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wr,{className:"w-5 h-5 text-blue-500 shrink-0"}),a.jsx("div",{children:a.jsxs("p",{className:"font-medium text-sm sm:text-base",children:[w[m.phone]," ",e("admin.whatsappMembersPage.totalOrders")||"Total Orders"]})})]})}),P[m.id]&&a.jsx("div",{className:"p-3 sm:p-4 border rounded-lg bg-purple-500/5 border-purple-500/20",children:a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Le,{className:"w-5 h-5 text-purple-500 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm sm:text-base",children:e("admin.whatsappMembersPage.memberLinked")}),a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Tier: ",P[m.id].tier," | Status: ",P[m.id].status]})]})]})})}),m.whatsapp_conversation_id&&a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappMembersPage.conversationId")}),a.jsx("p",{className:"font-mono text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg break-all",children:m.whatsapp_conversation_id})]}),a.jsx(C,{variant:"outline",className:"w-full gap-2",asChild:!0,children:a.jsxs("a",{href:"/admin/members",children:[a.jsx(Zl,{className:"w-4 h-4"}),e("admin.whatsappMembersPage.viewMemberProfile")]})})]}),a.jsx(lt,{className:"mt-3 sm:mt-4",children:a.jsx(C,{variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:e("admin.whatsappMembersPage.close")})})]})}),a.jsx(et,{open:d,onOpenChange:u,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[500px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(zt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappMembersPage.addRegistration")]}),a.jsx(ht,{className:"text-sm",children:e("admin.whatsappMembersPage.addRegistrationDesc")})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[a.jsx(ds,{className:"w-3.5 h-3.5"}),e("admin.whatsappMembersPage.phone")," *"]}),a.jsx(ce,{value:p,onChange:q=>g(q.target.value),placeholder:e("admin.whatsappMembersPage.phonePlaceholder"),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[a.jsx(Tt,{className:"w-3.5 h-3.5"}),e("admin.whatsappMembersPage.name")]}),a.jsx(ce,{value:f,onChange:q=>x(q.target.value),placeholder:e("admin.whatsappMembersPage.namePlaceholder"),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:[a.jsx(ec,{className:"w-3.5 h-3.5"}),e("admin.whatsappMembersPage.email")]}),a.jsx(ce,{type:"email",value:b,onChange:q=>j(q.target.value),placeholder:e("admin.whatsappMembersPage.emailPlaceholder"),className:"h-9 sm:h-10"})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:e("admin.whatsappMembersPage.cancel")}),a.jsxs(C,{onClick:A,disabled:k.isPending,className:"w-full sm:w-auto",children:[k.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.whatsappMembersPage.confirm")]})]})]})})]})}function z6e(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var nE="ScrollArea",[qH,J8e]=pn(nE),[W6e,Gs]=qH(nE),VH=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=y.useState(null),[d,u]=y.useState(null),[m,h]=y.useState(null),[p,g]=y.useState(null),[f,x]=y.useState(null),[b,j]=y.useState(0),[v,N]=y.useState(0),[w,P]=y.useState(!1),[k,_]=y.useState(!1),S=jt(t,A=>c(A)),O=wc(s);return a.jsx(W6e,{scope:n,type:r,dir:O,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:w,onScrollbarXEnabledChange:P,scrollbarY:f,onScrollbarYChange:x,scrollbarYEnabled:k,onScrollbarYEnabledChange:_,onCornerWidthChange:j,onCornerHeightChange:N,children:a.jsx(nt.div,{dir:O,...o,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});VH.displayName=nE;var KH="ScrollAreaViewport",zH=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=Gs(KH,n),l=y.useRef(null),c=jt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(nt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});zH.displayName=KH;var mo="ScrollAreaScrollbar",rE=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Gs(mo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(H6e,{...r,ref:t,forceMount:n}):s.type==="scroll"?a.jsx(G6e,{...r,ref:t,forceMount:n}):s.type==="auto"?a.jsx(WH,{...r,ref:t,forceMount:n}):s.type==="always"?a.jsx(sE,{...r,ref:t}):null});rE.displayName=mo;var H6e=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Gs(mo,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Kn,{present:n||i,children:a.jsx(WH,{"data-state":i?"visible":"hidden",...r,ref:t})})}),G6e=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Gs(mo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=qj(()=>c("SCROLL_END"),100),[l,c]=z6e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),y.useEffect(()=>{const d=s.viewport,u=i?"scrollLeft":"scrollTop";if(d){let m=d[u];const h=()=>{const p=d[u];m!==p&&(c("SCROLL"),o()),m=p};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(Kn,{present:n||l!=="hidden",children:a.jsx(sE,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Te(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Te(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),WH=y.forwardRef((e,t)=>{const n=Gs(mo,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=y.useState(!1),l=e.orientation==="horizontal",c=qj(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return bh(n.viewport,c),bh(n.content,c),a.jsx(Kn,{present:r||i,children:a.jsx(sE,{"data-state":i?"visible":"hidden",...s,ref:t})})}),sE=y.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Gs(mo,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=QH(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function m(h,p){return e8e(h,o.current,l,p)}return n==="horizontal"?a.jsx(Y6e,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,p=U3(h,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=m(h,s.dir))}}):n==="vertical"?a.jsx(J6e,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,p=U3(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=m(h))}}):null}),Y6e=y.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Gs(mo,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),d=jt(t,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(GH,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Uj(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),ZH(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:K0(o.paddingLeft),paddingEnd:K0(o.paddingRight)}})}})}),J6e=y.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Gs(mo,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),d=jt(t,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(GH,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Uj(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),ZH(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:K0(o.paddingTop),paddingEnd:K0(o.paddingBottom)}})}})}),[Q6e,HH]=qH(mo),GH=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...h}=e,p=Gs(mo,n),[g,f]=y.useState(null),x=jt(t,S=>f(S)),b=y.useRef(null),j=y.useRef(""),v=p.viewport,N=r.content-r.viewport,w=Ka(u),P=Ka(c),k=qj(m,10);function _(S){if(b.current){const O=S.clientX-b.current.left,A=S.clientY-b.current.top;d({x:O,y:A})}}return y.useEffect(()=>{const S=O=>{const A=O.target;(g==null?void 0:g.contains(A))&&w(O,N)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[v,g,N,w]),y.useEffect(P,[r,P]),bh(g,k),bh(p.content,k),a.jsx(Q6e,{scope:n,scrollbar:g,hasThumb:s,onThumbChange:Ka(i),onThumbPointerUp:Ka(o),onThumbPositionChange:P,onThumbPointerDown:Ka(l),children:a.jsx(nt.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:Te(e.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),b.current=g.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),_(S))}),onPointerMove:Te(e.onPointerMove,_),onPointerUp:Te(e.onPointerUp,S=>{const O=S.target;O.hasPointerCapture(S.pointerId)&&O.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=j.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),V0="ScrollAreaThumb",YH=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=HH(V0,e.__scopeScrollArea);return a.jsx(Kn,{present:n||s.hasThumb,children:a.jsx(X6e,{ref:t,...r})})}),X6e=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=Gs(V0,n),o=HH(V0,n),{onThumbPositionChange:l}=o,c=jt(t,m=>o.onThumbChange(m)),d=y.useRef(void 0),u=qj(()=>{d.current&&(d.current(),d.current=void 0)},100);return y.useEffect(()=>{const m=i.viewport;if(m){const h=()=>{if(u(),!d.current){const p=t8e(m,l);d.current=p,l()}};return l(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[i.viewport,u,l]),a.jsx(nt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Te(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),g=m.clientX-p.left,f=m.clientY-p.top;o.onThumbPointerDown({x:g,y:f})}),onPointerUp:Te(e.onPointerUp,o.onThumbPointerUp)})});YH.displayName=V0;var iE="ScrollAreaCorner",JH=y.forwardRef((e,t)=>{const n=Gs(iE,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(Z6e,{...e,ref:t}):null});JH.displayName=iE;var Z6e=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Gs(iE,n),[i,o]=y.useState(0),[l,c]=y.useState(0),d=!!(i&&l);return bh(s.scrollbarX,()=>{var m;const u=((m=s.scrollbarX)==null?void 0:m.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),bh(s.scrollbarY,()=>{var m;const u=((m=s.scrollbarY)==null?void 0:m.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),d?a.jsx(nt.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function K0(e){return e?parseInt(e,10):0}function QH(e,t){const n=e/t;return isNaN(n)?0:n}function Uj(e){const t=QH(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function e8e(e,t,n,r="ltr"){const s=Uj(n),i=s/2,o=t||i,l=s-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,m=r==="ltr"?[0,u]:[u*-1,0];return XH([c,d],m)(e)}function U3(e,t,n="ltr"){const r=Uj(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],d=Hf(e,c);return XH([0,o],[0,l])(d)}function XH(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function ZH(e,t){return e>0&&e<t}var t8e=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function qj(e,t){const n=Ka(e),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function bh(e,t){const n=Ka(t);hn(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var eG=VH,a8e=zH,n8e=JH;const _v=y.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(eG,{ref:r,className:Be("relative overflow-hidden",e),...n,children:[a.jsx(a8e,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(tG,{}),a.jsx(n8e,{})]}));_v.displayName=eG.displayName;const tG=y.forwardRef(({className:e,orientation:t="vertical",...n},r)=>a.jsx(rE,{ref:r,orientation:t,className:Be("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(YH,{className:"relative flex-1 rounded-full bg-border"})}));tG.displayName=rE.displayName;function r8e(e){return e.status==="resolved"||e.status==="closed"?"border-l-gray-400":e.assignment_status==="escalated"?"border-l-yellow-500":e.assignment_status==="assigned"?"border-l-blue-500":"border-l-green-500"}function s8e(e){if(!e)return"";const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),s=Math.floor(r/6e4);if(s<1)return"now";if(s<60)return`${s}m`;const i=Math.floor(s/60);if(i<24)return`${i}h`;const o=Math.floor(i/24);return o<7?`${o}d`:n.toLocaleDateString("zh-CN",{month:"2-digit",day:"2-digit"})}function i8e(e){return new Date(e).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})}function o8e(e){return new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})}function l8e(){const{t:e}=ft(),{toast:t}=Jt(),{user:n}=oa(),r=Aa(),[s,i]=y.useState("ai"),[o,l]=y.useState(""),[c,d]=y.useState(null),[u,m]=y.useState(!1),[h,p]=y.useState(""),[g,f]=y.useState(!1),[x,b]=y.useState(""),[j,v]=y.useState(!1),[N,w]=y.useState(null),[P,k]=y.useState(""),[_,S]=y.useState(""),[O,A]=y.useState([]),[E,D]=y.useState(""),[B,z]=y.useState(""),[K,Y]=y.useState(""),[M,R]=y.useState(.7),[J,ie]=y.useState(1024),[F,le]=y.useState("zh"),q=y.useRef(null),ve=y.useRef(null),{data:ye=[],isLoading:H}=Ae({queryKey:["whatsapp-conversations"],queryFn:async()=>{const{data:ue,error:Ve}=await L.from("whatsapp_conversations").select("*").order("updated_at",{ascending:!1});return Ve?(console.error("Error fetching conversations:",Ve),[]):ue||[]}}),{data:oe=[]}=Ae({queryKey:["whatsapp-my-assignments",n==null?void 0:n.id],queryFn:async()=>{if(!(n!=null&&n.id))return[];const{data:ue,error:Ve}=await L.from("whatsapp_assignments").select("conversation_id, status").eq("admin_id",n.id).in("status",["assigned","active"]);return Ve?(console.error("Error fetching assignments:",Ve),[]):ue||[]},enabled:!!(n!=null&&n.id)}),G=ye.find(ue=>ue.id===c)||null,{data:$=[],isLoading:Z}=Ae({queryKey:["whatsapp-messages",c],queryFn:async()=>{if(!c)return[];const{data:ue,error:Ve}=await L.from("whatsapp_messages").select("*").eq("conversation_id",c).order("created_at",{ascending:!0});return Ve?(console.error("Error fetching messages:",Ve),[]):ue||[]},enabled:!!c}),{data:U=[]}=Ae({queryKey:["whatsapp-on-duty-admins"],queryFn:async()=>{const{data:ue,error:Ve}=await L.from("whatsapp_admins").select("*").eq("is_on_duty",!0);return Ve?(console.error("Error fetching admins:",Ve),[]):ue||[]}}),{data:pe=[],isLoading:ke}=Ae({queryKey:["ai-bot-configs"],queryFn:async()=>{const{data:ue,error:Ve}=await L.from("ai_bot_config").select("*").order("created_at",{ascending:!0});return Ve?(console.error("Error fetching bot configs:",Ve),[]):ue||[]}}),{data:se=[]}=Ae({queryKey:["knowledge-base-articles"],queryFn:async()=>{const{data:ue,error:Ve}=await L.from("ai_knowledge_base").select("id, title, category, is_active").eq("is_active",!0).order("category",{ascending:!0});return Ve?(console.error("Error fetching knowledge base:",Ve),[]):ue||[]}});y.useEffect(()=>{const ue=L.channel("conversations-realtime").on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_conversations"},()=>{r.invalidateQueries({queryKey:["whatsapp-conversations"]})}).subscribe();return()=>{L.removeChannel(ue)}},[r]),y.useEffect(()=>{if(!c)return;const ue=L.channel(`messages-realtime-${c}`).on("postgres_changes",{event:"*",schema:"public",table:"whatsapp_messages",filter:`conversation_id=eq.${c}`},()=>{r.invalidateQueries({queryKey:["whatsapp-messages",c]})}).subscribe();return()=>{L.removeChannel(ue)}},[c,r]),y.useEffect(()=>{var ue;(ue=q.current)==null||ue.scrollIntoView({behavior:"smooth"})},[$]);const I=new Set(oe.map(ue=>ue.conversation_id)),be=ye.filter(ue=>{var Ve,Rt;if(o){const ne=o.toLowerCase(),Et=(Ve=ue.customer_name)==null?void 0:Ve.toLowerCase().includes(ne),Wt=(Rt=ue.customer_phone)==null?void 0:Rt.toLowerCase().includes(ne);if(!Et&&!Wt)return!1}switch(s){case"ai":return!ue.assignment_status||ue.assignment_status==="ai_handling";case"mine":return I.has(ue.id);case"unassigned":return ue.assignment_status==="unassigned";case"escalated":return ue.assignment_status==="escalated";case"resolved":return ue.status==="resolved"||ue.status==="closed";default:return!0}}),_e=Ce({mutationFn:async ue=>{if(!c||!(n!=null&&n.id))throw new Error("No conversation or user");const{error:Ve}=await L.from("whatsapp_messages").insert({conversation_id:c,sender_type:"admin",sender_id:n.id,content:ue,message_type:"text",status:"sent"});if(Ve)throw Ve},onSuccess:()=>{p(""),r.invalidateQueries({queryKey:["whatsapp-messages",c]}),r.invalidateQueries({queryKey:["whatsapp-conversations"]})},onError:ue=>{t({title:e("admin.aiCustomerServicePage.sendError"),description:String(ue),variant:"destructive"})}}),Me=Ce({mutationFn:async()=>{if(!c||!(n!=null&&n.id))throw new Error("No conversation or user");const{error:ue}=await L.from("whatsapp_assignments").insert({conversation_id:c,admin_id:n.id,status:"assigned",timeout_seconds:300});if(ue)throw ue;const{error:Ve}=await L.from("whatsapp_conversations").update({assignment_status:"assigned"}).eq("id",c);if(Ve)throw Ve},onSuccess:()=>{r.invalidateQueries({queryKey:["whatsapp-conversations"]}),r.invalidateQueries({queryKey:["whatsapp-my-assignments"]}),t({title:e("admin.aiCustomerServicePage.takeOverSuccess")})},onError:ue=>{t({title:e("admin.aiCustomerServicePage.takeOverError"),description:String(ue),variant:"destructive"})}}),He=Ce({mutationFn:async ue=>{if(!c)throw new Error("No conversation");await L.from("whatsapp_assignments").update({status:"completed"}).eq("conversation_id",c).in("status",["assigned","active"]);const{error:Ve}=await L.from("whatsapp_assignments").insert({conversation_id:c,admin_id:ue,status:"assigned",timeout_seconds:300});if(Ve)throw Ve;const{error:Rt}=await L.from("whatsapp_conversations").update({assignment_status:"assigned"}).eq("id",c);if(Rt)throw Rt},onSuccess:()=>{r.invalidateQueries({queryKey:["whatsapp-conversations"]}),r.invalidateQueries({queryKey:["whatsapp-my-assignments"]}),f(!1),b(""),t({title:e("admin.aiCustomerServicePage.transferSuccess")})},onError:ue=>{t({title:e("admin.aiCustomerServicePage.transferError"),description:String(ue),variant:"destructive"})}}),mt=Ce({mutationFn:async()=>{if(!c)throw new Error("No conversation");const{error:ue}=await L.from("whatsapp_conversations").update({status:"resolved",assignment_status:"resolved"}).eq("id",c);if(ue)throw ue;await L.from("whatsapp_assignments").update({status:"completed"}).eq("conversation_id",c).in("status",["assigned","active"])},onSuccess:()=>{r.invalidateQueries({queryKey:["whatsapp-conversations"]}),r.invalidateQueries({queryKey:["whatsapp-my-assignments"]}),t({title:e("admin.aiCustomerServicePage.resolveSuccess")})},onError:ue=>{t({title:e("admin.aiCustomerServicePage.resolveError"),description:String(ue),variant:"destructive"})}}),ee=Ce({mutationFn:async()=>{if(!c)throw new Error("No conversation");const{error:ue}=await L.from("whatsapp_conversations").update({assignment_status:"ai_handling"}).eq("id",c);if(ue)throw ue;await L.from("whatsapp_assignments").update({status:"completed"}).eq("conversation_id",c).in("status",["assigned","active"])},onSuccess:()=>{r.invalidateQueries({queryKey:["whatsapp-conversations"]}),r.invalidateQueries({queryKey:["whatsapp-my-assignments"]}),t({title:e("admin.aiCustomerServicePage.backToAiSuccess")})},onError:ue=>{t({title:e("admin.aiCustomerServicePage.backToAiError"),description:String(ue),variant:"destructive"})}}),he=Ce({mutationFn:async({id:ue,is_enabled:Ve})=>{const{error:Rt}=await L.from("ai_bot_config").update({is_enabled:Ve,updated_at:new Date().toISOString()}).eq("id",ue);if(Rt)throw Rt},onSuccess:()=>{r.invalidateQueries({queryKey:["ai-bot-configs"]}),t({title:e("admin.aiCustomerServicePage.toggleSuccess")})},onError:ue=>{t({title:e("admin.aiCustomerServicePage.toggleError"),description:String(ue),variant:"destructive"})}}),T=Ce({mutationFn:async ue=>{const{id:Ve,...Rt}=ue,{error:ne}=await L.from("ai_bot_config").update({...Rt,updated_at:new Date().toISOString()}).eq("id",Ve);if(ne)throw ne},onSuccess:()=>{r.invalidateQueries({queryKey:["ai-bot-configs"]}),v(!1),t({title:e("admin.aiCustomerServicePage.updateSuccess")})},onError:ue=>{t({title:e("admin.aiCustomerServicePage.updateError"),description:String(ue),variant:"destructive"})}}),me=y.useCallback(ue=>{d(ue),m(!0),p("")},[]),re=y.useCallback(()=>{const ue=h.trim();ue&&_e.mutate(ue)},[h,_e]),xe=y.useCallback(ue=>{ue.key==="Enter"&&!ue.shiftKey&&(ue.preventDefault(),re())},[re]),Ne=y.useCallback(ue=>{w(ue),k(ue.description||""),S(ue.system_prompt||""),A(ue.knowledge_base_ids||[]),D(ue.greeting_message||""),z(ue.fallback_message||""),Y(ue.model||"gpt-4o-mini"),R(ue.temperature??.7),ie(ue.max_tokens??1024),le(ue.response_language||"zh"),v(!0)},[]),je=y.useCallback(()=>{N&&T.mutate({id:N.id,description:P,system_prompt:_,knowledge_base_ids:O,greeting_message:E,fallback_message:B,model:K,temperature:M,max_tokens:J,response_language:F})},[N,P,_,O,E,B,K,M,J,F,T]),Ge=y.useCallback(ue=>{A(Ve=>Ve.includes(ue)?Ve.filter(Rt=>Rt!==ue):[...Ve,ue])},[]),pt=ue=>{switch(ue){case"active":return a.jsx(te,{className:"bg-green-500/10 text-green-500 border-green-500/20 text-xs",children:e("admin.aiCustomerServicePage.statusActive")});case"resolved":case"closed":return a.jsx(te,{className:"bg-gray-500/10 text-gray-500 border-gray-500/20 text-xs",children:e("admin.aiCustomerServicePage.statusResolved")});case"escalated":return a.jsx(te,{className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20 text-xs",children:e("admin.aiCustomerServicePage.statusEscalated")});default:return a.jsx(te,{variant:"outline",className:"text-xs",children:ue||"open"})}},Wa=ue=>{switch(ue){case"ai_handling":return a.jsxs(te,{className:"bg-green-500/10 text-green-500 border-green-500/20 text-xs",children:[a.jsx($i,{className:"w-3 h-3 mr-1"}),"AI"]});case"assigned":return a.jsxs(te,{className:"bg-blue-500/10 text-blue-500 border-blue-500/20 text-xs",children:[a.jsx(Mn,{className:"w-3 h-3 mr-1"}),e("admin.aiCustomerServicePage.assigned")]});case"escalated":return a.jsx(te,{className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20 text-xs",children:e("admin.aiCustomerServicePage.statusEscalated")});case"unassigned":return a.jsx(te,{className:"bg-orange-500/10 text-orange-500 border-orange-500/20 text-xs",children:e("admin.aiCustomerServicePage.unassigned")});case"resolved":return a.jsx(te,{className:"bg-gray-500/10 text-gray-500 border-gray-500/20 text-xs",children:e("admin.aiCustomerServicePage.statusResolved")});default:return a.jsxs(te,{className:"bg-green-500/10 text-green-500 border-green-500/20 text-xs",children:[a.jsx($i,{className:"w-3 h-3 mr-1"}),"AI"]})}},ga=(G==null?void 0:G.status)==="resolved"||(G==null?void 0:G.status)==="closed",Ta=[];let wa="";for(const ue of $){const Ve=o8e(ue.created_at);Ve!==wa?(wa=Ve,Ta.push({date:Ve,messages:[ue]})):Ta[Ta.length-1].messages.push(ue)}if(H)return a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})});const Ha=[{key:"ai",label:e("admin.aiCustomerServicePage.filterAi")},{key:"mine",label:e("admin.aiCustomerServicePage.filterMine")},{key:"unassigned",label:e("admin.aiCustomerServicePage.filterUnassigned")},{key:"escalated",label:e("admin.aiCustomerServicePage.filterEscalated")},{key:"resolved",label:e("admin.aiCustomerServicePage.filterResolved")}],Fa={ai:ye.filter(ue=>!ue.assignment_status||ue.assignment_status==="ai_handling").length,mine:ye.filter(ue=>I.has(ue.id)).length,unassigned:ye.filter(ue=>ue.assignment_status==="unassigned").length,escalated:ye.filter(ue=>ue.assignment_status==="escalated").length,resolved:ye.filter(ue=>ue.status==="resolved"||ue.status==="closed").length},Ba=()=>a.jsxs("div",{className:"flex flex-col h-full border-r bg-background",children:[a.jsx("div",{className:"p-2 border-b",children:a.jsx(_v,{className:"w-full",children:a.jsx("div",{className:"flex gap-1 pb-1",children:Ha.map(ue=>a.jsxs("button",{className:`flex items-center gap-1 px-2.5 py-1.5 text-xs font-medium rounded-md whitespace-nowrap transition-colors ${s===ue.key?"bg-primary text-primary-foreground":"bg-muted/50 text-muted-foreground hover:bg-muted hover:text-foreground"}`,onClick:()=>i(ue.key),children:[ue.label,Fa[ue.key]>0&&a.jsx("span",{className:`ml-1 px-1.5 py-0.5 text-[10px] rounded-full ${s===ue.key?"bg-primary-foreground/20 text-primary-foreground":"bg-muted-foreground/20 text-muted-foreground"}`,children:Fa[ue.key]})]},ue.key))})})}),a.jsx("div",{className:"p-2 border-b",children:a.jsxs("div",{className:"relative",children:[a.jsx(va,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.aiCustomerServicePage.searchPlaceholder"),className:"pl-8 h-8 text-sm",value:o,onChange:ue=>l(ue.target.value)})]})}),a.jsx(_v,{className:"flex-1",children:a.jsx("div",{className:"p-1",children:be.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[a.jsx(fi,{className:"w-10 h-10 text-muted-foreground/40 mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground text-center",children:e("admin.aiCustomerServicePage.noConversations")})]}):be.map(ue=>{const Ve=ue.id===c;return a.jsx("button",{className:`w-full text-left p-3 rounded-lg mb-0.5 border-l-4 transition-colors ${r8e(ue)} ${Ve?"bg-primary/5 border-r-2 border-r-primary":"hover:bg-muted/50"}`,onClick:()=>me(ue.id),children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"text-sm font-medium truncate",children:ue.customer_name||ue.customer_phone}),ue.unread_count>0&&a.jsx("span",{className:"shrink-0 w-5 h-5 rounded-full bg-primary text-primary-foreground text-[10px] flex items-center justify-center font-bold",children:ue.unread_count>99?"99+":ue.unread_count})]}),ue.customer_name&&a.jsx("p",{className:"text-[11px] text-muted-foreground truncate",children:ue.customer_phone}),ue.last_message&&a.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:ue.last_message})]}),a.jsx("span",{className:"text-[10px] text-muted-foreground shrink-0 mt-0.5",children:s8e(ue.last_message_at||ue.updated_at)})]})},ue.id)})})})]}),fn=()=>G?a.jsxs("div",{className:"flex flex-col h-full bg-background",children:[a.jsxs("div",{className:"shrink-0 border-b px-4 py-3",children:[a.jsx("div",{className:"flex items-center justify-between gap-2",children:a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("button",{className:"lg:hidden shrink-0 p-1 rounded-md hover:bg-muted",onClick:()=>{m(!1),d(null)},children:a.jsx(Zn,{className:"w-5 h-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("h3",{className:"text-sm font-semibold truncate",children:G.customer_name||G.customer_phone}),pt(G.status),Wa(G.assignment_status)]}),G.customer_name&&a.jsx("p",{className:"text-xs text-muted-foreground",children:G.customer_phone})]})]})}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-2 flex-wrap",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 text-xs gap-1",onClick:()=>Me.mutate(),disabled:Me.isPending||ga,children:[Me.isPending?a.jsx(fe,{className:"w-3 h-3 animate-spin"}):a.jsx(Lu,{className:"w-3 h-3"}),e("admin.aiCustomerServicePage.takeOver")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 text-xs gap-1",onClick:()=>f(!0),disabled:ga,children:[a.jsx(gP,{className:"w-3 h-3"}),e("admin.aiCustomerServicePage.transfer")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 text-xs gap-1",onClick:()=>mt.mutate(),disabled:mt.isPending||ga,children:[mt.isPending?a.jsx(fe,{className:"w-3 h-3 animate-spin"}):a.jsx(Le,{className:"w-3 h-3"}),e("admin.aiCustomerServicePage.markResolved")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 text-xs gap-1",onClick:()=>ee.mutate(),disabled:ee.isPending||ga,children:[ee.isPending?a.jsx(fe,{className:"w-3 h-3 animate-spin"}):a.jsx(qB,{className:"w-3 h-3"}),e("admin.aiCustomerServicePage.backToAi")]})]})]}),a.jsx(_v,{className:"flex-1 px-4",children:a.jsxs("div",{className:"py-4 space-y-1",children:[Z?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-6 h-6 animate-spin text-primary"})}):$.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(fi,{className:"w-10 h-10 text-muted-foreground/30 mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.noMessages")})]}):Ta.map(ue=>a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-center my-4",children:a.jsx("span",{className:"px-3 py-1 text-[10px] text-muted-foreground bg-muted rounded-full",children:ue.date})}),ue.messages.map(Ve=>{const Rt=Ve.sender_type==="customer",ne=Ve.sender_type==="bot";return a.jsxs("div",{className:`flex mb-3 ${Rt?"justify-end":"justify-start"}`,children:[!Rt&&a.jsx("div",{className:"shrink-0 mr-2 mt-1",children:a.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center ${ne?"bg-green-500/10":"bg-blue-500/10"}`,children:ne?a.jsx($i,{className:"w-3.5 h-3.5 text-green-600"}):a.jsx(Mn,{className:"w-3.5 h-3.5 text-blue-600"})})}),a.jsxs("div",{className:`max-w-[75%] ${Rt?"items-end":"items-start"}`,children:[!Rt&&a.jsx("div",{className:"flex items-center gap-1.5 mb-0.5",children:a.jsx(te,{variant:"outline",className:`text-[10px] px-1.5 py-0 h-4 ${ne?"text-green-600 border-green-200":"text-blue-600 border-blue-200"}`,children:ne?"Bot":"Admin"})}),a.jsx("div",{className:`rounded-xl px-3 py-2 text-sm leading-relaxed ${Rt?"bg-primary/10 text-foreground rounded-tr-sm":ne?"bg-muted text-foreground rounded-tl-sm":"bg-blue-50 dark:bg-blue-950/30 text-foreground rounded-tl-sm"}`,children:a.jsx("p",{className:"whitespace-pre-wrap break-words",children:Ve.content})}),a.jsxs("div",{className:`flex items-center gap-1.5 mt-0.5 ${Rt?"justify-end":"justify-start"}`,children:[a.jsx("span",{className:"text-[10px] text-muted-foreground/60",children:i8e(Ve.created_at)}),Ve.status&&Ve.status!=="sent"&&a.jsx("span",{className:"text-[10px] text-muted-foreground/40",children:Ve.status})]})]})]},Ve.id)})]},ue.date)),a.jsx("div",{ref:q})]})}),a.jsx("div",{className:"shrink-0 border-t p-3 bg-background",children:ga?a.jsx("div",{className:"text-center py-2",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.conversationResolved")})}):a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx(Pt,{ref:ve,placeholder:e("admin.aiCustomerServicePage.replyPlaceholder"),className:"min-h-[40px] max-h-[120px] resize-none text-sm",value:h,onChange:ue=>p(ue.target.value),onKeyDown:xe,rows:1}),a.jsx(C,{size:"sm",className:"shrink-0 h-10 w-10 p-0",onClick:re,disabled:!h.trim()||_e.isPending,children:_e.isPending?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Ro,{className:"w-4 h-4"})})]})})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-muted/10",children:[a.jsx(fi,{className:"w-16 h-16 text-muted-foreground/30 mb-4"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:e("admin.aiCustomerServicePage.selectConversation")}),a.jsx("p",{className:"text-muted-foreground/60 text-sm mt-1",children:e("admin.aiCustomerServicePage.selectConversationDesc")})]});return a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.aiCustomerServicePage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.subtitle")})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1.5",onClick:()=>{pe.length>0&&Ne(pe[0])},disabled:ke||pe.length===0,children:[a.jsx(Ni,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.aiCustomerServicePage.botConfig")})]})]}),a.jsxs("div",{className:"border rounded-lg overflow-hidden bg-background",style:{height:"calc(100vh - 200px)",minHeight:"500px"},children:[a.jsxs("div",{className:"hidden lg:flex h-full",children:[a.jsx("div",{className:"w-80 shrink-0 h-full",children:Ba()}),a.jsx("div",{className:"flex-1 h-full",children:fn()})]}),a.jsx("div",{className:"lg:hidden h-full",children:u&&G?a.jsx("div",{className:"h-full",children:fn()}):a.jsx("div",{className:"h-full",children:Ba()})})]})]}),a.jsx(et,{open:g,onOpenChange:f,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base",children:[a.jsx(gP,{className:"w-4 h-4 text-primary"}),e("admin.aiCustomerServicePage.transferTitle")]}),a.jsx(ht,{className:"text-sm",children:e("admin.aiCustomerServicePage.transferDesc")})]}),a.jsxs("div",{className:"py-4 space-y-3",children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.selectAdmin")}),a.jsxs(tt,{value:x,onValueChange:b,children:[a.jsx(Xe,{className:"h-9",children:a.jsx(at,{placeholder:e("admin.aiCustomerServicePage.selectAdminPlaceholder")})}),a.jsx(Ze,{children:U.filter(ue=>ue.user_id!==(n==null?void 0:n.id)).map(ue=>a.jsx(ge,{value:ue.user_id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:ue.name}),a.jsx("span",{className:"text-muted-foreground text-xs",children:ue.phone})]})},ue.id))})]}),U.filter(ue=>ue.user_id!==(n==null?void 0:n.id)).length===0&&a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.aiCustomerServicePage.noAdminsOnDuty")})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[a.jsx(C,{variant:"outline",onClick:()=>{f(!1),b("")},className:"w-full sm:w-auto",children:e("admin.aiCustomerServicePage.cancel")}),a.jsxs(C,{onClick:()=>{x&&He.mutate(x)},disabled:!x||He.isPending,className:"w-full sm:w-auto",children:[He.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.aiCustomerServicePage.confirmTransfer")]})]})]})}),a.jsx(et,{open:j,onOpenChange:v,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Ni,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.aiCustomerServicePage.configureBot")]}),a.jsx(ht,{className:"text-sm",children:e("admin.aiCustomerServicePage.configureBotDesc")})]}),pe.length>1&&a.jsx("div",{className:"flex gap-1.5 flex-wrap pt-2",children:pe.map(ue=>a.jsx("button",{className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${(N==null?void 0:N.id)===ue.id?"bg-primary text-primary-foreground":"bg-muted/50 text-muted-foreground hover:bg-muted"}`,onClick:()=>Ne(ue),children:ue.name},ue.id))}),N&&a.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:N.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:N.is_enabled?e("admin.aiCustomerServicePage.botEnabled"):e("admin.aiCustomerServicePage.botDisabled")})]}),a.jsx(cn,{checked:N.is_enabled,onCheckedChange:ue=>{he.mutate({id:N.id,is_enabled:ue}),w({...N,is_enabled:ue})}})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldDescription")}),a.jsx(Pt,{value:P,onChange:ue=>k(ue.target.value),className:"min-h-[60px]"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldSystemPrompt")}),a.jsx(Pt,{value:_,onChange:ue=>S(ue.target.value),className:"min-h-[160px] font-mono text-xs sm:text-sm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-2",children:[a.jsx(Ul,{className:"w-4 h-4"}),e("admin.aiCustomerServicePage.fieldKnowledgeBase"),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",O.length," ",e("admin.aiCustomerServicePage.selected"),")"]})]}),a.jsx("div",{className:"border rounded-lg max-h-[200px] overflow-y-auto",children:se.length===0?a.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.noKnowledgeBase")}):a.jsx("div",{className:"divide-y",children:Object.entries(se.reduce((ue,Ve)=>{const Rt=Ve.category||e("admin.knowledgeBasePage.category_general");return ue[Rt]||(ue[Rt]=[]),ue[Rt].push(Ve),ue},{})).map(([ue,Ve])=>a.jsxs("div",{children:[a.jsx("div",{className:"px-3 py-1.5 bg-muted/50 text-xs font-medium text-muted-foreground",children:ue}),Ve.map(Rt=>a.jsxs("label",{className:"flex items-center gap-3 px-3 py-2 hover:bg-muted/30 cursor-pointer",children:[a.jsx($h,{checked:O.includes(Rt.id),onCheckedChange:()=>Ge(Rt.id)}),a.jsx("span",{className:"text-sm flex-1 truncate",children:Rt.title}),O.includes(Rt.id)&&a.jsx(qn,{className:"w-4 h-4 text-green-500 shrink-0"})]},Rt.id))]},ue))})})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldGreetingMessage")}),a.jsx(Pt,{value:E,onChange:ue=>D(ue.target.value),className:"min-h-[80px]"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldFallbackMessage")}),a.jsx(Pt,{value:B,onChange:ue=>z(ue.target.value),className:"min-h-[80px]"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldModel")}),a.jsxs(tt,{value:K,onValueChange:Y,children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"gpt-4o-mini",children:"gpt-4o-mini"}),a.jsx(ge,{value:"gpt-4o",children:"gpt-4o"}),a.jsx(ge,{value:"claude-3-haiku",children:"claude-3-haiku"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldTemperature")}),a.jsx(ce,{type:"number",min:0,max:1,step:.1,value:M,onChange:ue=>R(parseFloat(ue.target.value)||0),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldMaxTokens")}),a.jsx(ce,{type:"number",min:1,value:J,onChange:ue=>ie(parseInt(ue.target.value)||1024),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.aiCustomerServicePage.fieldResponseLanguage")}),a.jsxs(tt,{value:F,onValueChange:le,children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"zh",children:"zh"}),a.jsx(ge,{value:"en",children:"en"}),a.jsx(ge,{value:"ms",children:"ms"})]})]})]})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>v(!1),className:"w-full sm:w-auto",children:e("admin.aiCustomerServicePage.cancel")}),a.jsxs(C,{onClick:je,disabled:T.isPending,className:"w-full sm:w-auto",children:[T.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.aiCustomerServicePage.save")]})]})]})})]})}const $c={product:{icon:ca,label:"",color:"bg-blue-500"},partner:{icon:Tt,label:"",color:"bg-green-500"},brand:{icon:vte,label:"",color:"bg-purple-500"},order:{icon:Wr,label:"",color:"bg-orange-500"},howto:{icon:cx,label:"",color:"bg-yellow-500"},general:{icon:ur,label:"",color:"bg-gray-500"}};function c8e(){ft();const{data:e,isLoading:t}=Ae({queryKey:["ai-category-summary"],queryFn:async()=>{const{data:l,error:c}=await L.from("ai_question_category_summary").select("*");if(c)throw c;return l}}),{data:n,isLoading:r}=Ae({queryKey:["ai-top-patterns"],queryFn:async()=>{const{data:l,error:c}=await L.from("ai_question_analytics").select("*").order("question_count",{ascending:!1}).limit(20);if(c)throw c;return l}}),{data:s}=Ae({queryKey:["ai-training-stats"],queryFn:async()=>{const{data:l,error:c}=await L.from("ai_training_data").select("category, is_verified");if(c)throw c;const d=l.length,u=l.filter(h=>h.is_verified).length,m=l.reduce((h,p)=>(h[p.category]=(h[p.category]||0)+1,h),{});return{total:d,verified:u,byCategory:m}}}),{data:i}=Ae({queryKey:["ai-unverified-questions"],queryFn:async()=>{const{data:l,error:c}=await L.from("ai_training_data").select("*").eq("is_verified",!1).order("created_at",{ascending:!1}).limit(10);if(c)throw c;return l}}),o=(e==null?void 0:e.reduce((l,c)=>l+(c.total_questions||0),0))||0;return a.jsx(yt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-serif text-primary flex items-center gap-2",children:[a.jsx(Fi,{className:"w-6 h-6"}),"AI "]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"AI"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(W,{children:a.jsx(ae,{className:"pt-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:a.jsx(ur,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:o}),a.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})})}),a.jsx(W,{children:a.jsx(ae,{className:"pt-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-green-100",children:a.jsx(La,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:(s==null?void 0:s.total)||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})})}),a.jsx(W,{children:a.jsx(ae,{className:"pt-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-purple-100",children:a.jsx(Tt,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:(s==null?void 0:s.verified)||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})})}),a.jsx(W,{children:a.jsx(ae,{className:"pt-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-orange-100",children:a.jsx(cx,{className:"w-5 h-5 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.length)||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:""})]})]})})})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsx(Ie,{className:"text-lg",children:""})}),a.jsx(ae,{children:t?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(fe,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:e==null?void 0:e.map(l=>{const c=$c[l.category]||$c.general,d=c.icon,u=o>0?Math.round(l.total_questions/o*100):0;return a.jsxs("div",{className:"p-4 rounded-lg border bg-card hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:`p-1.5 rounded ${c.color}`,children:a.jsx(d,{className:"w-4 h-4 text-white"})}),a.jsx("span",{className:"text-sm font-medium",children:c.label})]}),a.jsx("div",{className:"text-2xl font-bold",children:l.total_questions||0}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[u,"%"]})]},l.category)})})})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[a.jsxs(W,{children:[a.jsx($e,{children:a.jsx(Ie,{className:"text-lg",children:""})}),a.jsx(ae,{children:r?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(fe,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):a.jsx("div",{className:"space-y-3",children:n==null?void 0:n.slice(0,10).map((l,c)=>{var u;const d=$c[l.category]||$c.general;return a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-muted/30",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center text-xs font-bold text-primary",children:c+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:((u=l.sample_questions)==null?void 0:u[0])||l.question_pattern}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(te,{variant:"secondary",className:"text-xs",children:d.label}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.question_count," "]})]})]})]},l.id)})})})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsx(Ie,{className:"text-lg",children:""})}),a.jsx(ae,{children:a.jsx("div",{className:"space-y-3",children:(i==null?void 0:i.length)===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:" "}):i==null?void 0:i.map(l=>{var c;return a.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30 space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("p",{className:"text-sm font-medium",children:["Q: ",l.question]}),a.jsx(te,{variant:"outline",className:"shrink-0",children:((c=$c[l.category])==null?void 0:c.label)||l.category})]}),a.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-2",children:["A: ",l.answer]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-xs text-muted-foreground",children:[": ",Math.round((l.confidence_score||0)*100),"%"]})})]},l.id)})})})]})]}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsx(Ie,{className:"text-lg",children:""})}),a.jsx(ae,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Object.entries((s==null?void 0:s.byCategory)||{}).map(([l,c])=>{const d=$c[l]||$c.general,u=d.icon;return a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[a.jsx(u,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:c}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d.label})]})]},l)})})})]})]})})}const q3=["facebook","instagram","xiaohongshu","tiktok","youtube","website"],d8e=["post","story","reel","video","article"],u8e=["professional","casual","festive","humorous","inspirational"],m8e=["normal","chinese_new_year","hari_raya","christmas","valentines","mothers_day","mid_autumn","product_launch","flash_sale"],Xy={title:"",body:"",content_type:"",platform:[],cover_image:"",tags:"",hashtags:""},V3={product_id:"",topic:"",occasion:"normal",platform:"instagram",tone:"professional",language:"zh"};function h8e(){var pe,ke,se;const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState("all"),[i,o]=y.useState(""),[l,c]=y.useState(!1),[d,u]=y.useState(!1),[m,h]=y.useState(!1),[p,g]=y.useState(!1),[f,x]=y.useState(!1),[b,j]=y.useState(null),[v,N]=y.useState(Xy),[w,P]=y.useState(V3),[k,_]=y.useState(!1),[S,O]=y.useState(!0),[A,E]=y.useState(!1),D=y.useRef(null),B=async I=>{var _e;const be=(_e=I.target.files)==null?void 0:_e[0];if(be){E(!0);try{const Me=be.name.split(".").pop(),He=`uploads/${Date.now()}-${Math.random().toString(36).slice(2)}.${Me}`,{error:mt}=await L.storage.from("marketing-content").upload(He,be,{contentType:be.type,upsert:!1});if(mt)throw mt;const{data:ee}=L.storage.from("marketing-content").getPublicUrl(He);N({...v,cover_image:ee.publicUrl}),t({title:e("admin.contentCreationPage.uploadSuccess")||""})}catch{t({title:e("admin.contentCreationPage.uploadError")||"",variant:"destructive"})}finally{E(!1),D.current&&(D.current.value="")}}},{data:z=[],isLoading:K}=Ae({queryKey:["marketing_content"],queryFn:async()=>{const{data:I,error:be}=await L.from("marketing_content").select("*").order("created_at",{ascending:!1});if(be)throw be;return I}}),{data:Y=[]}=Ae({queryKey:["products_for_content"],queryFn:async()=>{const{data:I,error:be}=await L.from("products").select("id, name").order("name");if(be)throw be;return I}}),M=Ce({mutationFn:async I=>{const{error:be}=await L.from("marketing_content").insert({title:I.title,body:I.body||null,content_type:I.content_type,platform:I.platform,cover_image:I.cover_image||null,tags:I.tags?I.tags.split(",").map(_e=>_e.trim()):[],hashtags:I.hashtags?I.hashtags.split(",").map(_e=>_e.trim()):[],status:"draft"});if(be)throw be},onSuccess:()=>{n.invalidateQueries({queryKey:["marketing_content"]}),t({title:e("admin.contentCreationPage.createSuccess")}),c(!1),N(Xy)},onError:()=>{t({title:e("admin.contentCreationPage.createError"),variant:"destructive"})}}),R=Ce({mutationFn:async({id:I,data:be})=>{const{error:_e}=await L.from("marketing_content").update({title:be.title,body:be.body||null,content_type:be.content_type,platform:be.platform,cover_image:be.cover_image||null,tags:be.tags?be.tags.split(",").map(Me=>Me.trim()):[],hashtags:be.hashtags?be.hashtags.split(",").map(Me=>Me.trim()):[]}).eq("id",I);if(_e)throw _e},onSuccess:()=>{n.invalidateQueries({queryKey:["marketing_content"]}),t({title:e("admin.contentCreationPage.updateSuccess")}),u(!1)},onError:()=>{t({title:e("admin.contentCreationPage.updateError"),variant:"destructive"})}}),J=Ce({mutationFn:async I=>{const{error:be}=await L.from("marketing_content").delete().eq("id",I);if(be)throw be},onSuccess:()=>{n.invalidateQueries({queryKey:["marketing_content"]}),t({title:e("admin.contentCreationPage.deleteSuccess")}),x(!1),j(null)},onError:()=>{t({title:e("admin.contentCreationPage.deleteError"),variant:"destructive"})}}),ie=Ce({mutationFn:async({id:I,status:be})=>{const{error:_e}=await L.from("marketing_content").update({status:be}).eq("id",I);if(_e)throw _e},onSuccess:()=>{n.invalidateQueries({queryKey:["marketing_content"]}),t({title:e("admin.contentCreationPage.updateSuccess")})}}),F=Ce({mutationFn:async I=>{var Me;const be=z.find(He=>He.id===I);if(!be)return;const{error:_e}=await L.from("media_publishing_plan").insert({title:be.title,platform:((Me=be.platform)==null?void 0:Me[0])||"instagram",content_type:be.content_type,status:"planned",content_id:I});if(_e)throw _e},onSuccess:()=>{t({title:e("admin.contentCreationPage.addedToCalendar")})},onError:()=>{t({title:e("admin.contentCreationPage.addToCalendarError"),variant:"destructive"})}}),le=async()=>{_(!0);try{const{data:I,error:be}=await L.functions.invoke("ai-generate-content",{body:{...w,generate_image:S}});if(be)throw be;I&&(N({...Xy,title:I.title||"",body:I.body||"",hashtags:(I.hashtags||[]).join(", "),content_type:(w.platform==="xiaohongshu","post"),platform:[w.platform],cover_image:I.generated_image_url||""}),g(!1),c(!0),t({title:e("admin.contentCreationPage.aiGenerateSuccess")}))}catch{t({title:e("admin.contentCreationPage.aiGenerateError"),variant:"destructive"})}finally{_(!1)}},q=z.filter(I=>{const be=r==="all"||r==="draft"&&I.status==="draft"||r==="ready"&&I.status==="ready"||r==="published"&&I.status==="published"||r==="ai"&&I.ai_generated,_e=!i||I.title.toLowerCase().includes(i.toLowerCase())||(I.body||"").toLowerCase().includes(i.toLowerCase());return be&&_e}),ve=z.length,ye=z.filter(I=>I.status==="draft").length,H=z.filter(I=>I.ai_generated).length,oe=z.filter(I=>I.status==="published").length,G=I=>{const be={draft:"bg-gray-100 text-gray-700",ai_generating:"bg-blue-100 text-blue-700",ready:"bg-green-100 text-green-700",published:"bg-purple-100 text-purple-700",archived:"bg-yellow-100 text-yellow-700"};return a.jsx(te,{className:be[I]||"bg-gray-100 text-gray-700",children:e(`admin.contentCreationPage.status${I.charAt(0).toUpperCase()+I.slice(1)}`)})},$=I=>{j(I),N({title:I.title,body:I.body||"",content_type:I.content_type,platform:I.platform,cover_image:I.cover_image||"",tags:(I.tags||[]).join(", "),hashtags:(I.hashtags||[]).join(", ")}),u(!0)},Z=I=>{N(be=>({...be,platform:be.platform.includes(I)?be.platform.filter(_e=>_e!==I):[...be.platform,I]}))},U=()=>a.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.fieldTitle")}),a.jsx(ce,{value:v.title,onChange:I=>N({...v,title:I.target.value}),placeholder:e("admin.contentCreationPage.fieldTitlePlaceholder")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.fieldBody")}),a.jsx(Pt,{value:v.body,onChange:I=>N({...v,body:I.target.value}),placeholder:e("admin.contentCreationPage.fieldBodyPlaceholder"),rows:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.fieldContentType")}),a.jsxs(tt,{value:v.content_type,onValueChange:I=>N({...v,content_type:I}),children:[a.jsx(Xe,{children:a.jsx(at,{placeholder:e("admin.contentCreationPage.selectContentType")})}),a.jsx(Ze,{children:d8e.map(I=>a.jsx(ge,{value:I,children:I},I))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.fieldPlatform")}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:q3.map(I=>a.jsx(te,{variant:v.platform.includes(I)?"default":"outline",className:"cursor-pointer",onClick:()=>Z(I),children:I},I))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.fieldCoverImage")}),v.cover_image&&a.jsxs("div",{className:"relative mb-2 w-full max-w-[200px]",children:[a.jsx("img",{src:v.cover_image,alt:"",className:"w-full rounded-lg border",onError:I=>{I.target.style.display="none"}}),a.jsx(C,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6",onClick:()=>N({...v,cover_image:""}),children:a.jsx(eo,{className:"w-3 h-3"})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ce,{value:v.cover_image,onChange:I=>N({...v,cover_image:I.target.value}),placeholder:e("admin.contentCreationPage.fieldCoverImagePlaceholder"),className:"flex-1"}),a.jsx("input",{ref:D,type:"file",accept:"image/*",className:"hidden",onChange:B}),a.jsx(C,{type:"button",variant:"outline",size:"icon",onClick:()=>{var I;return(I=D.current)==null?void 0:I.click()},disabled:A,children:A?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(gv,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.fieldTags")}),a.jsx(ce,{value:v.tags,onChange:I=>N({...v,tags:I.target.value}),placeholder:e("admin.contentCreationPage.fieldTagsPlaceholder")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.fieldHashtags")}),a.jsx(ce,{value:v.hashtags,onChange:I=>N({...v,hashtags:I.target.value}),placeholder:e("admin.contentCreationPage.fieldHashtagsPlaceholder")})]})]});return a.jsx(yt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(_a,{className:"w-6 h-6"}),e("admin.contentCreationPage.title")]}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.contentCreationPage.subtitle")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(C,{variant:"outline",onClick:()=>{P(V3),g(!0)},children:[a.jsx(Lr,{className:"w-4 h-4 mr-2"}),e("admin.contentCreationPage.aiGenerate")]}),a.jsxs(C,{onClick:()=>{N(Xy),c(!0)},children:[a.jsx(zt,{className:"w-4 h-4 mr-2"}),e("admin.contentCreationPage.newContent")]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(W,{children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.contentCreationPage.totalContent")}),a.jsx("p",{className:"text-2xl font-bold",children:ve})]}),a.jsx(Mo,{className:"w-8 h-8 text-muted-foreground/50"})]})})}),a.jsx(W,{children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.contentCreationPage.drafts")}),a.jsx("p",{className:"text-2xl font-bold",children:ye})]}),a.jsx(_a,{className:"w-8 h-8 text-muted-foreground/50"})]})})}),a.jsx(W,{children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.contentCreationPage.aiGenerated")}),a.jsx("p",{className:"text-2xl font-bold",children:H})]}),a.jsx(Lr,{className:"w-8 h-8 text-muted-foreground/50"})]})})}),a.jsx(W,{children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.contentCreationPage.published")}),a.jsx("p",{className:"text-2xl font-bold",children:oe})]}),a.jsx(Zl,{className:"w-8 h-8 text-muted-foreground/50"})]})})})]}),a.jsxs(ba,{value:r,onValueChange:s,children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 justify-between",children:[a.jsxs(fa,{children:[a.jsx(Ee,{value:"all",children:e("admin.contentCreationPage.tabAll")}),a.jsx(Ee,{value:"draft",children:e("admin.contentCreationPage.tabDraft")}),a.jsx(Ee,{value:"ready",children:e("admin.contentCreationPage.tabReady")}),a.jsx(Ee,{value:"published",children:e("admin.contentCreationPage.tabPublished")}),a.jsx(Ee,{value:"ai",children:e("admin.contentCreationPage.tabAi")})]}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{value:i,onChange:I=>o(I.target.value),placeholder:e("admin.contentCreationPage.searchPlaceholder"),className:"pl-10"})]})]}),a.jsx(At,{value:r,className:"mt-4",children:K?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):q.length===0?a.jsx(W,{children:a.jsxs(ae,{className:"py-12 text-center text-muted-foreground",children:[a.jsx(_a,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),a.jsx("p",{children:e("admin.contentCreationPage.noContent")})]})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:q.map(I=>{var be,_e;return a.jsxs(W,{className:"overflow-hidden",children:[I.cover_image&&a.jsx("div",{className:"h-40 bg-muted overflow-hidden",children:a.jsx("img",{src:I.cover_image,alt:I.title,className:"w-full h-full object-cover",onError:Me=>{Me.target.style.display="none"}})}),a.jsxs(ae,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsx("h3",{className:"font-medium line-clamp-2",children:I.title}),G(I.status)]}),I.body&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3 mb-3",children:I.body}),a.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[(be=I.platform)==null?void 0:be.map(Me=>a.jsx(te,{variant:"outline",className:"text-xs",children:Me},Me)),I.ai_generated&&a.jsxs(te,{className:"bg-blue-100 text-blue-700 text-xs",children:[a.jsx(Lr,{className:"w-3 h-3 mr-1"})," AI"]})]}),((_e=I.hashtags)==null?void 0:_e.length)>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[I.hashtags.slice(0,3).map(Me=>a.jsxs("span",{className:"text-xs text-primary",children:["#",Me]},Me)),I.hashtags.length>3&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",I.hashtags.length-3]})]}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{j(I),h(!0)},children:a.jsx(xa,{className:"w-4 h-4"})}),a.jsx(C,{size:"sm",variant:"ghost",onClick:()=>$(I),children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{j(I),x(!0)},children:a.jsx(Ut,{className:"w-4 h-4"})}),I.status==="draft"&&a.jsx(C,{size:"sm",variant:"outline",onClick:()=>ie.mutate({id:I.id,status:"ready"}),children:e("admin.contentCreationPage.markReady")}),I.status==="ready"&&a.jsxs(C,{size:"sm",variant:"outline",onClick:()=>F.mutate(I.id),children:[a.jsx(jn,{className:"w-4 h-4 mr-1"}),e("admin.contentCreationPage.addToCalendar")]})]})]})]},I.id)})})})]}),a.jsx(et,{open:l,onOpenChange:c,children:a.jsxs(Ye,{className:"max-w-lg",children:[a.jsxs(Je,{children:[a.jsx(Qe,{children:e("admin.contentCreationPage.newContent")}),a.jsx(ht,{children:e("admin.contentCreationPage.newContentDesc")})]}),a.jsx(U,{}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>c(!1),children:e("admin.contentCreationPage.cancel")}),a.jsxs(C,{onClick:()=>M.mutate(v),disabled:!v.title||!v.content_type||M.isPending,children:[M.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.contentCreationPage.create")]})]})]})}),a.jsx(et,{open:d,onOpenChange:u,children:a.jsxs(Ye,{className:"max-w-lg",children:[a.jsxs(Je,{children:[a.jsx(Qe,{children:e("admin.contentCreationPage.editContent")}),a.jsx(ht,{children:e("admin.contentCreationPage.editContentDesc")})]}),a.jsx(U,{}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>u(!1),children:e("admin.contentCreationPage.cancel")}),a.jsxs(C,{onClick:()=>b&&R.mutate({id:b.id,data:v}),disabled:!v.title||!v.content_type||R.isPending,children:[R.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.contentCreationPage.save")]})]})]})}),a.jsx(et,{open:m,onOpenChange:h,children:a.jsxs(Ye,{className:"max-w-lg",children:[a.jsx(Je,{children:a.jsx(Qe,{children:b==null?void 0:b.title})}),b&&a.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[b.cover_image&&a.jsx("img",{src:b.cover_image,alt:"",className:"w-full rounded-lg"}),a.jsxs("div",{className:"flex gap-2",children:[G(b.status),a.jsx(te,{variant:"outline",children:b.content_type}),b.ai_generated&&a.jsxs(te,{className:"bg-blue-100 text-blue-700",children:[a.jsx(Lr,{className:"w-3 h-3 mr-1"})," AI"]})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:(pe=b.platform)==null?void 0:pe.map(I=>a.jsx(te,{variant:"outline",children:I},I))}),b.body&&a.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:e("admin.contentCreationPage.fieldBody")}),a.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(b.body||""),t({title:e("admin.contentCreationPage.copied")})},children:a.jsx(Oo,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b.body})]}),((ke=b.hashtags)==null?void 0:ke.length)>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:e("admin.contentCreationPage.fieldHashtags")}),a.jsx("div",{className:"flex flex-wrap gap-1",children:b.hashtags.map(I=>a.jsxs("span",{className:"text-sm text-primary",children:["#",I]},I))})]}),((se=b.tags)==null?void 0:se.length)>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:e("admin.contentCreationPage.fieldTags")}),a.jsx("div",{className:"flex flex-wrap gap-1",children:b.tags.map(I=>a.jsx(te,{variant:"secondary",children:I},I))})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(b.created_at).toLocaleString()})]}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>h(!1),children:e("admin.contentCreationPage.close")}),(b==null?void 0:b.status)==="ready"&&a.jsxs(C,{onClick:()=>F.mutate(b.id),children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),e("admin.contentCreationPage.addToCalendar")]})]})]})}),a.jsx(et,{open:p,onOpenChange:g,children:a.jsxs(Ye,{className:"max-w-lg",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2",children:[a.jsx(Lr,{className:"w-5 h-5"}),e("admin.contentCreationPage.aiGenerateTitle")]}),a.jsx(ht,{children:e("admin.contentCreationPage.aiGenerateDesc")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.aiProduct")}),a.jsxs(tt,{value:w.product_id,onValueChange:I=>P({...w,product_id:I}),children:[a.jsx(Xe,{children:a.jsx(at,{placeholder:e("admin.contentCreationPage.aiProductPlaceholder")})}),a.jsx(Ze,{children:Y.map(I=>a.jsx(ge,{value:I.id,children:I.name},I.id))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.aiTopic")}),a.jsx(ce,{value:w.topic,onChange:I=>P({...w,topic:I.target.value}),placeholder:e("admin.contentCreationPage.aiTopicPlaceholder")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.aiOccasion")}),a.jsxs(tt,{value:w.occasion,onValueChange:I=>P({...w,occasion:I}),children:[a.jsx(Xe,{children:a.jsx(at,{})}),a.jsx(Ze,{children:m8e.map(I=>a.jsx(ge,{value:I,children:e(`admin.contentCreationPage.occasion_${I}`)},I))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.aiPlatform")}),a.jsxs(tt,{value:w.platform,onValueChange:I=>P({...w,platform:I}),children:[a.jsx(Xe,{children:a.jsx(at,{})}),a.jsx(Ze,{children:q3.map(I=>a.jsx(ge,{value:I,children:I},I))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.aiTone")}),a.jsxs(tt,{value:w.tone,onValueChange:I=>P({...w,tone:I}),children:[a.jsx(Xe,{children:a.jsx(at,{})}),a.jsx(Ze,{children:u8e.map(I=>a.jsx(ge,{value:I,children:e(`admin.contentCreationPage.tone_${I}`)},I))})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.contentCreationPage.aiLanguage")}),a.jsxs(tt,{value:w.language,onValueChange:I=>P({...w,language:I}),children:[a.jsx(Xe,{children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"zh",children:""}),a.jsx(ge,{value:"en",children:"English"}),a.jsx(ge,{value:"ms",children:"Bahasa Melayu"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50 border",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ate,{className:"w-4 h-4 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:e("admin.contentCreationPage.aiGenerateImageLabel")||"AI"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.contentCreationPage.aiGenerateImageDesc")||"DALL-E 3"})]})]}),a.jsx(cn,{checked:S,onCheckedChange:O})]}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>g(!1),children:e("admin.contentCreationPage.cancel")}),a.jsxs(C,{onClick:le,disabled:k||!w.product_id&&!w.topic,children:[k?a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(Lr,{className:"w-4 h-4 mr-2"}),k&&S?e("admin.contentCreationPage.generatingWithImage")||"()...":e("admin.contentCreationPage.generate")]})]})]})}),a.jsx(et,{open:f,onOpenChange:x,children:a.jsxs(Ye,{children:[a.jsxs(Je,{children:[a.jsx(Qe,{children:e("admin.contentCreationPage.deleteConfirmTitle")}),a.jsx(ht,{children:e("admin.contentCreationPage.deleteConfirmDesc")})]}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>x(!1),children:e("admin.contentCreationPage.cancel")}),a.jsxs(C,{variant:"destructive",onClick:()=>b&&J.mutate(b.id),disabled:J.isPending,children:[J.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.contentCreationPage.delete")]})]})]})})]})})}const z1={user_id:"",name:"",phone:"",duty_start:"09:00",duty_end:"18:00",max_concurrent_chats:5};function p8e(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState("all"),[i,o]=y.useState(""),[l,c]=y.useState(!1),[d,u]=y.useState(!1),[m,h]=y.useState(!1),[p,g]=y.useState(!1),[f,x]=y.useState(null),[b,j]=y.useState(z1),[v,N]=y.useState(""),[w,P]=y.useState(""),{data:k=[]}=Ae({queryKey:["system_admins"],queryFn:async()=>{const{data:H,error:oe}=await L.from("members").select("id, name, email, phone").eq("role","admin").order("name",{ascending:!0});if(oe)throw oe;return H}}),{data:_=[],isLoading:S}=Ae({queryKey:["whatsapp_admins"],queryFn:async()=>{const{data:H,error:oe}=await L.from("whatsapp_admins").select("*").order("created_at",{ascending:!1});if(oe)throw oe;return H}}),{data:O=[]}=Ae({queryKey:["unassigned_conversations"],queryFn:async()=>{const{data:H,error:oe}=await L.from("whatsapp_conversations").select("id, customer_phone, customer_name, created_at, assignment_status").or("assignment_status.eq.unassigned,assignment_status.is.null").order("created_at",{ascending:!1}).limit(20);if(oe)throw oe;return H}});Ae({queryKey:["whatsapp_assignments"],queryFn:async()=>{const{data:H,error:oe}=await L.from("whatsapp_assignments").select("*").order("created_at",{ascending:!1}).limit(20);if(oe)throw oe;return H}});const A=k.filter(H=>!_.some(oe=>oe.user_id===H.id)),E=Ce({mutationFn:async H=>{const{error:oe}=await L.from("whatsapp_admins").insert({user_id:H.user_id,name:H.name,phone:H.phone,duty_start:H.duty_start||null,duty_end:H.duty_end||null,max_concurrent_chats:H.max_concurrent_chats});if(oe)throw oe},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp_admins"]}),t({title:e("admin.whatsappAdminsPage.createSuccess")}),c(!1),j(z1)},onError:()=>{t({title:e("admin.whatsappAdminsPage.createError"),variant:"destructive"})}}),D=Ce({mutationFn:async({id:H,data:oe})=>{const{error:G}=await L.from("whatsapp_admins").update({name:oe.name,phone:oe.phone,duty_start:oe.duty_start||null,duty_end:oe.duty_end||null,max_concurrent_chats:oe.max_concurrent_chats}).eq("id",H);if(G)throw G},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp_admins"]}),t({title:e("admin.whatsappAdminsPage.updateSuccess")}),u(!1)},onError:()=>{t({title:e("admin.whatsappAdminsPage.updateError"),variant:"destructive"})}}),B=Ce({mutationFn:async H=>{const{error:oe}=await L.from("whatsapp_admins").delete().eq("id",H);if(oe)throw oe},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp_admins"]}),t({title:e("admin.whatsappAdminsPage.deleteSuccess")}),h(!1),x(null)},onError:()=>{t({title:e("admin.whatsappAdminsPage.deleteError"),variant:"destructive"})}}),z=Ce({mutationFn:async({id:H,is_on_duty:oe})=>{const{error:G}=await L.from("whatsapp_admins").update({is_on_duty:oe}).eq("id",H);if(G)throw G},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp_admins"]})}}),K=Ce({mutationFn:async({id:H,status:oe})=>{const{error:G}=await L.from("whatsapp_admins").update({status:oe}).eq("id",H);if(G)throw G},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp_admins"]})}}),Y=Ce({mutationFn:async({conversationId:H,adminId:oe})=>{const{error:G}=await L.from("whatsapp_assignments").insert({conversation_id:H,admin_id:oe,timeout_seconds:300,timeout_at:new Date(Date.now()+3e5).toISOString()});if(G)throw G;const{error:$}=await L.from("whatsapp_conversations").update({assigned_admin_id:oe,assignment_status:"assigned"}).eq("id",H);if($)throw $;const Z=_.find(U=>U.id===oe);Z&&await L.from("whatsapp_admins").update({current_chat_count:Z.current_chat_count+1}).eq("id",oe)},onSuccess:()=>{n.invalidateQueries({queryKey:["whatsapp_admins"]}),n.invalidateQueries({queryKey:["unassigned_conversations"]}),n.invalidateQueries({queryKey:["whatsapp_assignments"]}),t({title:e("admin.whatsappAdminsPage.assignSuccess")}),g(!1)},onError:()=>{t({title:e("admin.whatsappAdminsPage.assignError"),variant:"destructive"})}}),M=_.filter(H=>{const oe=r==="all"||r==="online"&&H.status==="online"||r==="offline"&&H.status==="offline"||r==="on_duty"&&H.is_on_duty,G=!i||H.name.toLowerCase().includes(i.toLowerCase())||H.phone.includes(i);return oe&&G}),R=_.length,J=_.filter(H=>H.status==="online").length,ie=_.filter(H=>H.is_on_duty).length,F=_.reduce((H,oe)=>H+oe.current_chat_count,0),le={online:"bg-green-100 text-green-700",offline:"bg-gray-100 text-gray-700",busy:"bg-yellow-100 text-yellow-700"},q=H=>{x(H),j({name:H.name,phone:H.phone,duty_start:H.duty_start||"09:00",duty_end:H.duty_end||"18:00",max_concurrent_chats:H.max_concurrent_chats}),u(!0)},ve=H=>{const oe=k.find(G=>G.id===H);oe&&j({...b,user_id:H,name:oe.name||oe.email,phone:oe.phone||""})},ye=({isEdit:H=!1})=>a.jsxs("div",{className:"space-y-4",children:[!H&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.whatsappAdminsPage.selectSystemAdmin")}),a.jsxs(tt,{value:b.user_id,onValueChange:ve,children:[a.jsx(Xe,{children:a.jsx(at,{placeholder:e("admin.whatsappAdminsPage.selectSystemAdminPlaceholder")})}),a.jsx(Ze,{children:A.length===0?a.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:e("admin.whatsappAdminsPage.noAvailableAdmins")}):A.map(oe=>a.jsxs(ge,{value:oe.id,children:[oe.name||oe.email," ",oe.phone&&`(${oe.phone})`]},oe.id))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.whatsappAdminsPage.fieldName")}),a.jsx(ce,{value:b.name,onChange:oe=>j({...b,name:oe.target.value}),placeholder:e("admin.whatsappAdminsPage.fieldNamePlaceholder")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.whatsappAdminsPage.fieldPhone")}),a.jsx(ce,{value:b.phone,onChange:oe=>j({...b,phone:oe.target.value}),placeholder:e("admin.whatsappAdminsPage.fieldPhonePlaceholder")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.whatsappAdminsPage.dutyStart")}),a.jsx(ce,{type:"time",value:b.duty_start,onChange:oe=>j({...b,duty_start:oe.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.whatsappAdminsPage.dutyEnd")}),a.jsx(ce,{type:"time",value:b.duty_end,onChange:oe=>j({...b,duty_end:oe.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.whatsappAdminsPage.maxChats")}),a.jsx(ce,{type:"number",min:1,max:20,value:b.max_concurrent_chats,onChange:oe=>j({...b,max_concurrent_chats:parseInt(oe.target.value)||5})})]})]});return a.jsx(yt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(Tt,{className:"w-6 h-6"}),e("admin.whatsappAdminsPage.title")]}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.whatsappAdminsPage.subtitle")})]}),a.jsxs(C,{onClick:()=>{j(z1),c(!0)},children:[a.jsx(zt,{className:"w-4 h-4 mr-2"}),e("admin.whatsappAdminsPage.addAdmin")]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(W,{children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.whatsappAdminsPage.totalAdmins")}),a.jsx("p",{className:"text-2xl font-bold",children:R})]}),a.jsx(Tt,{className:"w-8 h-8 text-muted-foreground/50"})]})})}),a.jsx(W,{children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.whatsappAdminsPage.online")}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:J})]}),a.jsx(Lu,{className:"w-8 h-8 text-green-300"})]})})}),a.jsx(W,{children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.whatsappAdminsPage.onDuty")}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ie})]}),a.jsx(Ht,{className:"w-8 h-8 text-blue-300"})]})})}),a.jsx(W,{children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.whatsappAdminsPage.activeChats")}),a.jsx("p",{className:"text-2xl font-bold",children:F})]}),a.jsx(ur,{className:"w-8 h-8 text-muted-foreground/50"})]})})})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(ba,{value:r,onValueChange:s,children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 justify-between mb-4",children:[a.jsxs(fa,{children:[a.jsx(Ee,{value:"all",children:e("admin.whatsappAdminsPage.tabAll")}),a.jsx(Ee,{value:"online",children:e("admin.whatsappAdminsPage.tabOnline")}),a.jsx(Ee,{value:"offline",children:e("admin.whatsappAdminsPage.tabOffline")}),a.jsx(Ee,{value:"on_duty",children:e("admin.whatsappAdminsPage.tabOnDuty")})]}),a.jsxs("div",{className:"relative w-full sm:w-48",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{value:i,onChange:H=>o(H.target.value),placeholder:e("admin.whatsappAdminsPage.searchPlaceholder"),className:"pl-10"})]})]}),a.jsx(At,{value:r,children:S?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):M.length===0?a.jsx(W,{children:a.jsxs(ae,{className:"py-12 text-center text-muted-foreground",children:[a.jsx(Tt,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),a.jsx("p",{children:e("admin.whatsappAdminsPage.noAdmins")})]})}):a.jsx("div",{className:"space-y-3",children:M.map(H=>a.jsx(W,{children:a.jsx(ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(Tt,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium",children:H.name}),a.jsx(te,{className:le[H.status]||"bg-gray-100 text-gray-700",children:e(`admin.whatsappAdminsPage.status_${H.status}`)}),H.is_on_duty&&a.jsx(te,{className:"bg-blue-100 text-blue-700",children:e("admin.whatsappAdminsPage.onDuty")})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ds,{className:"w-3 h-3"})," ",H.phone]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ur,{className:"w-3 h-3"})," ",H.current_chat_count,"/",H.max_concurrent_chats]}),H.duty_start&&H.duty_end&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ht,{className:"w-3 h-3"})," ",H.duty_start,"-",H.duty_end]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mr-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:e("admin.whatsappAdminsPage.onDuty")}),a.jsx(cn,{checked:H.is_on_duty,onCheckedChange:oe=>z.mutate({id:H.id,is_on_duty:oe})})]}),a.jsxs(tt,{value:H.status,onValueChange:oe=>K.mutate({id:H.id,status:oe}),children:[a.jsx(Xe,{className:"w-24 h-8",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"online",children:e("admin.whatsappAdminsPage.status_online")}),a.jsx(ge,{value:"offline",children:e("admin.whatsappAdminsPage.status_offline")}),a.jsx(ge,{value:"busy",children:e("admin.whatsappAdminsPage.status_busy")})]})]}),a.jsx(C,{size:"sm",variant:"ghost",onClick:()=>q(H),children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx(C,{size:"sm",variant:"ghost",onClick:()=>{x(H),h(!0)},children:a.jsx(Ut,{className:"w-4 h-4"})})]})]})})},H.id))})})]})}),a.jsxs("div",{children:[a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Zi,{className:"w-5 h-5"}),e("admin.whatsappAdminsPage.assignmentQueue")]})}),a.jsx(ae,{children:O.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:e("admin.whatsappAdminsPage.noUnassigned")}):a.jsx("div",{className:"space-y-2",children:O.map(H=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-lg",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:H.customer_name||H.customer_phone}),a.jsx("p",{className:"text-xs text-muted-foreground",children:H.customer_phone})]}),a.jsxs(C,{size:"sm",variant:"outline",onClick:()=>{N(H.id),P(""),g(!0)},children:[a.jsx(gP,{className:"w-4 h-4 mr-1"}),e("admin.whatsappAdminsPage.assign")]})]},H.id))})})]}),a.jsxs(W,{className:"mt-4",children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Ni,{className:"w-5 h-5"}),e("admin.whatsappAdminsPage.autoAssignment")]})}),a.jsx(ae,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:e("admin.whatsappAdminsPage.autoAssignEnabled")}),a.jsx(cn,{defaultChecked:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:e("admin.whatsappAdminsPage.timeoutSeconds")}),a.jsx(ce,{type:"number",defaultValue:300,min:60,max:3600,className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:e("admin.whatsappAdminsPage.strategy")}),a.jsxs(tt,{defaultValue:"least_busy",children:[a.jsx(Xe,{className:"mt-1",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"least_busy",children:e("admin.whatsappAdminsPage.strategyLeastBusy")}),a.jsx(ge,{value:"round_robin",children:e("admin.whatsappAdminsPage.strategyRoundRobin")}),a.jsx(ge,{value:"manual",children:e("admin.whatsappAdminsPage.strategyManual")})]})]})]})]})})]})]})]}),a.jsx(et,{open:l,onOpenChange:c,children:a.jsxs(Ye,{children:[a.jsxs(Je,{children:[a.jsx(Qe,{children:e("admin.whatsappAdminsPage.addAdmin")}),a.jsx(ht,{children:e("admin.whatsappAdminsPage.addAdminDesc")})]}),a.jsx(ye,{isEdit:!1}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>c(!1),children:e("admin.whatsappAdminsPage.cancel")}),a.jsxs(C,{onClick:()=>E.mutate(b),disabled:!b.user_id||!b.name||!b.phone||E.isPending,children:[E.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.whatsappAdminsPage.create")]})]})]})}),a.jsx(et,{open:d,onOpenChange:u,children:a.jsxs(Ye,{children:[a.jsxs(Je,{children:[a.jsx(Qe,{children:e("admin.whatsappAdminsPage.editAdmin")}),a.jsx(ht,{children:e("admin.whatsappAdminsPage.editAdminDesc")})]}),a.jsx(ye,{isEdit:!0}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>u(!1),children:e("admin.whatsappAdminsPage.cancel")}),a.jsxs(C,{onClick:()=>f&&D.mutate({id:f.id,data:b}),disabled:!b.name||!b.phone||D.isPending,children:[D.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.whatsappAdminsPage.save")]})]})]})}),a.jsx(et,{open:m,onOpenChange:h,children:a.jsxs(Ye,{children:[a.jsxs(Je,{children:[a.jsx(Qe,{children:e("admin.whatsappAdminsPage.deleteConfirmTitle")}),a.jsx(ht,{children:e("admin.whatsappAdminsPage.deleteConfirmDesc")})]}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>h(!1),children:e("admin.whatsappAdminsPage.cancel")}),a.jsxs(C,{variant:"destructive",onClick:()=>f&&B.mutate(f.id),disabled:B.isPending,children:[B.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.whatsappAdminsPage.delete")]})]})]})}),a.jsx(et,{open:p,onOpenChange:g,children:a.jsxs(Ye,{children:[a.jsxs(Je,{children:[a.jsx(Qe,{children:e("admin.whatsappAdminsPage.assignConversation")}),a.jsx(ht,{children:e("admin.whatsappAdminsPage.assignConversationDesc")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:e("admin.whatsappAdminsPage.selectAdmin")}),a.jsxs(tt,{value:w,onValueChange:P,children:[a.jsx(Xe,{children:a.jsx(at,{placeholder:e("admin.whatsappAdminsPage.selectAdminPlaceholder")})}),a.jsx(Ze,{children:_.filter(H=>H.status==="online"&&H.current_chat_count<H.max_concurrent_chats).map(H=>a.jsxs(ge,{value:H.id,children:[H.name," (",H.current_chat_count,"/",H.max_concurrent_chats,")"]},H.id))})]})]}),a.jsxs(lt,{children:[a.jsx(C,{variant:"outline",onClick:()=>g(!1),children:e("admin.whatsappAdminsPage.cancel")}),a.jsxs(C,{onClick:()=>Y.mutate({conversationId:v,adminId:w}),disabled:!w||Y.isPending,children:[Y.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.whatsappAdminsPage.assign")]})]})]})})]})})}function f8e(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState(""),[i,o]=y.useState("all"),[l,c]=y.useState(!1),[d,u]=y.useState(null),[m,h]=y.useState(""),[p,g]=y.useState(""),[f,x]=y.useState("acquisition"),[b,j]=y.useState("keyword"),[v,N]=y.useState(""),[w,P]=y.useState(""),[k,_]=y.useState(""),[S,O]=y.useState(!1),[A,E]=y.useState(null),[D,B]=y.useState(!1),[z,K]=y.useState(null),{data:Y=[],isLoading:M}=Ae({queryKey:["admin-whatsapp-flows"],queryFn:async()=>{const{data:re,error:xe}=await L.from("whatsapp_flows").select("*").order("created_at",{ascending:!1});return xe?(console.error("Error fetching whatsapp flows:",xe),[]):re||[]}}),{data:R=[],isLoading:J}=Ae({queryKey:["admin-whatsapp-flow-executions"],queryFn:async()=>{const{data:re,error:xe}=await L.from("whatsapp_flow_executions").select("*").order("created_at",{ascending:!1});return xe?(console.error("Error fetching flow executions:",xe),[]):re||[]}}),{data:ie=[]}=Ae({queryKey:["admin-whatsapp-flow-executions",A==null?void 0:A.id],enabled:!!A,queryFn:async()=>{if(!A)return[];const{data:re,error:xe}=await L.from("whatsapp_flow_executions").select("*").eq("flow_id",A.id).order("created_at",{ascending:!1});return xe?(console.error("Error fetching flow executions:",xe),[]):re||[]}}),F=Ce({mutationFn:async re=>{const{error:xe}=await L.from("whatsapp_flows").insert(re);if(xe)throw xe},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-flows"]}),c(!1),ye(),t({title:e("admin.whatsappFlowsPage.flowCreated")})},onError:re=>{t({title:e("admin.whatsappFlowsPage.createFailed"),description:String(re),variant:"destructive"})}}),le=Ce({mutationFn:async re=>{const{id:xe,...Ne}=re,{error:je}=await L.from("whatsapp_flows").update({...Ne,updated_at:new Date().toISOString()}).eq("id",xe);if(je)throw je},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-flows"]}),c(!1),ye(),t({title:e("admin.whatsappFlowsPage.flowUpdated")})},onError:re=>{t({title:e("admin.whatsappFlowsPage.updateFailed"),description:String(re),variant:"destructive"})}}),q=Ce({mutationFn:async re=>{const{error:xe}=await L.from("whatsapp_flows").delete().eq("id",re);if(xe)throw xe},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-flows"]}),n.invalidateQueries({queryKey:["admin-whatsapp-flow-executions"]}),B(!1),K(null),t({title:e("admin.whatsappFlowsPage.flowDeleted")})},onError:re=>{t({title:e("admin.whatsappFlowsPage.deleteFailed"),description:String(re),variant:"destructive"})}}),ve=Ce({mutationFn:async re=>{const xe=re.status==="active"?"paused":"active",{error:Ne}=await L.from("whatsapp_flows").update({status:xe,is_active:xe==="active",updated_at:new Date().toISOString()}).eq("id",re.id);if(Ne)throw Ne},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-whatsapp-flows"]}),t({title:e("admin.whatsappFlowsPage.statusToggled")})},onError:re=>{t({title:e("admin.whatsappFlowsPage.toggleFailed"),description:String(re),variant:"destructive"})}}),ye=()=>{u(null),h(""),g(""),x("acquisition"),j("keyword"),N(""),P(""),_("")},H=()=>{ye(),c(!0)},oe=re=>{u(re),h(re.name),g(re.description||""),x(re.flow_type),j(re.trigger_type),N(re.trigger_value||""),P(re.steps?JSON.stringify(re.steps,null,2):""),_(re.target_audience?JSON.stringify(re.target_audience,null,2):""),c(!0)},G=re=>{E(re),O(!0)},$=re=>{K(re),B(!0)},Z=()=>{z&&q.mutate(z.id)},U=()=>{if(!m.trim()){t({title:e("admin.whatsappFlowsPage.nameRequired"),variant:"destructive"});return}let re=[];if(w.trim())try{re=JSON.parse(w)}catch{t({title:e("admin.whatsappFlowsPage.invalidStepsJson"),variant:"destructive"});return}let xe={};if(k.trim())try{xe=JSON.parse(k)}catch{t({title:e("admin.whatsappFlowsPage.invalidAudienceJson"),variant:"destructive"});return}d?le.mutate({id:d.id,name:m,description:p||null,flow_type:f,trigger_type:b,trigger_value:v||null,steps:re,target_audience:xe}):F.mutate({name:m,description:p||null,flow_type:f,trigger_type:b,trigger_value:v||null,steps:re,target_audience:xe,status:"draft"})},pe=Y.filter(re=>{const xe=r===""||re.name.toLowerCase().includes(r.toLowerCase())||(re.description||"").toLowerCase().includes(r.toLowerCase()),Ne=i==="all"||re.status===i;return xe&&Ne}),ke=Y.length,se=Y.filter(re=>re.status==="active").length,I=R.length,be=R.filter(re=>re.status==="completed"||re.status==="converted").length,_e=I>0?(be/I*100).toFixed(1):"0.0",Me=re=>{const xe={acquisition:"bg-green-500/10 text-green-600 border-green-500/20",onboarding:"bg-blue-500/10 text-blue-600 border-blue-500/20",reengagement:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",support:"bg-purple-500/10 text-purple-600 border-purple-500/20",promotion:"bg-pink-500/10 text-pink-600 border-pink-500/20",survey:"bg-orange-500/10 text-orange-600 border-orange-500/20"};return a.jsx(te,{className:`text-xs ${xe[re]||"bg-muted text-muted-foreground"}`,children:e(`admin.whatsappFlowsPage.flowType_${re}`)||re})},He=re=>a.jsx(te,{variant:"outline",className:"text-xs",children:e(`admin.whatsappFlowsPage.triggerType_${re}`)||re}),mt=re=>{switch(re){case"active":return a.jsxs(te,{className:"bg-green-500/10 text-green-500 border-green-500/20 gap-1",children:[a.jsx(fv,{className:"w-3 h-3"}),e("admin.whatsappFlowsPage.statusActive")]});case"paused":return a.jsxs(te,{className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20 gap-1",children:[a.jsx(nb,{className:"w-3 h-3"}),e("admin.whatsappFlowsPage.statusPaused")]});case"completed":return a.jsxs(te,{className:"bg-blue-500/10 text-blue-500 border-blue-500/20 gap-1",children:[a.jsx(Le,{className:"w-3 h-3"}),e("admin.whatsappFlowsPage.statusCompleted")]});case"archived":return a.jsx(te,{className:"bg-gray-500/10 text-gray-500 border-gray-500/20 gap-1",children:e("admin.whatsappFlowsPage.statusArchived")});default:return a.jsxs(te,{className:"bg-muted text-muted-foreground gap-1",children:[a.jsx(Ht,{className:"w-3 h-3"}),e("admin.whatsappFlowsPage.statusDraft")]})}},ee=re=>re?new Date(re).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",he=re=>re?new Date(re).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",T=b==="keyword"||b==="link"||b==="qr_code";return M||J?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.whatsappFlowsPage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.whatsappFlowsPage.subtitle")})]}),a.jsxs(C,{className:"gap-2 bg-secondary text-secondary-foreground w-full sm:w-auto",onClick:H,children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.whatsappFlowsPage.newFlow")]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(Ip,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:ke}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappFlowsPage.totalFlows")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:a.jsx(fv,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:se}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappFlowsPage.activeFlows")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0",children:a.jsx(zi,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-500",children:I}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappFlowsPage.totalTriggered")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-purple-500/10 flex items-center justify-center shrink-0",children:a.jsx(Tt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-purple-500",children:[_e,"%"]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:e("admin.whatsappFlowsPage.conversionRate")})]})]})})]}),a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Ip,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappFlowsPage.flowList")]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.whatsappFlowsPage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:r,onChange:re=>s(re.target.value)})]})]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:a.jsxs(ba,{value:i,onValueChange:o,children:[a.jsxs(fa,{className:"grid w-full grid-cols-5 h-auto p-1",children:[a.jsx(Ee,{value:"all",className:"text-xs sm:text-sm py-1.5 sm:py-2",children:e("admin.whatsappFlowsPage.tabAll")}),a.jsx(Ee,{value:"active",className:"text-xs sm:text-sm py-1.5 sm:py-2",children:e("admin.whatsappFlowsPage.statusActive")}),a.jsx(Ee,{value:"draft",className:"text-xs sm:text-sm py-1.5 sm:py-2",children:e("admin.whatsappFlowsPage.statusDraft")}),a.jsx(Ee,{value:"paused",className:"text-xs sm:text-sm py-1.5 sm:py-2",children:e("admin.whatsappFlowsPage.statusPaused")}),a.jsxs(Ee,{value:"completed",className:"text-xs sm:text-sm py-1.5 sm:py-2",children:[a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappFlowsPage.statusCompleted")}),a.jsx("span",{className:"sm:hidden",children:e("admin.whatsappFlowsPage.tabCompletedShort")})]})]}),a.jsx(At,{value:i,className:"mt-3 sm:mt-4",children:pe.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ip,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.whatsappFlowsPage.noFlows")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:pe.map(re=>a.jsxs("div",{className:"flex flex-col p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(Ip,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:re.name}),Me(re.flow_type),He(re.trigger_type),mt(re.status)]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground flex-wrap mt-0.5",children:[re.trigger_value&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(zi,{className:"w-3 h-3"}),re.trigger_value]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ht,{className:"w-3 h-3"}),ee(re.created_at)]})]})]})]}),a.jsx("div",{className:"flex items-center gap-2 pl-12 sm:pl-0 text-xs sm:text-sm text-muted-foreground",children:a.jsxs("span",{className:"font-medium",children:[re.total_triggered," ",e("admin.whatsappFlowsPage.triggered")]})})]}),re.description&&a.jsx("div",{className:"pl-12 sm:pl-14",children:a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2",children:re.description})}),a.jsxs("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 pl-12 sm:pl-14",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>G(re),children:[a.jsx(xa,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappFlowsPage.viewDetails")})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>oe(re),children:[a.jsx(_a,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappFlowsPage.edit")})]}),(re.status==="active"||re.status==="paused"||re.status==="draft")&&a.jsx(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>ve.mutate(re),disabled:ve.isPending,children:re.status==="active"?a.jsxs(a.Fragment,{children:[a.jsx(nb,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappFlowsPage.pause")})]}):a.jsxs(a.Fragment,{children:[a.jsx(fv,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappFlowsPage.activate")})]})}),a.jsxs(C,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs text-destructive hover:text-destructive",onClick:()=>$(re),children:[a.jsx(Ut,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.whatsappFlowsPage.delete")})]})]})]},re.id))})})]})})]})]}),a.jsx(et,{open:l,onOpenChange:c,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[d?a.jsx(_a,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}):a.jsx(zt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e(d?"admin.whatsappFlowsPage.editFlow":"admin.whatsappFlowsPage.createFlow")]}),a.jsx(ht,{className:"text-sm",children:e(d?"admin.whatsappFlowsPage.editFlowDesc":"admin.whatsappFlowsPage.createFlowDesc")})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsxs("label",{className:"text-xs sm:text-sm font-medium",children:[e("admin.whatsappFlowsPage.flowName")," *"]}),a.jsx(ce,{value:m,onChange:re=>h(re.target.value),placeholder:e("admin.whatsappFlowsPage.flowNamePlaceholder"),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappFlowsPage.description")}),a.jsx(Pt,{value:p,onChange:re=>g(re.target.value),placeholder:e("admin.whatsappFlowsPage.descriptionPlaceholder"),className:"min-h-[80px]"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappFlowsPage.flowType")}),a.jsxs(tt,{value:f,onValueChange:x,children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"acquisition",children:e("admin.whatsappFlowsPage.flowType_acquisition")}),a.jsx(ge,{value:"onboarding",children:e("admin.whatsappFlowsPage.flowType_onboarding")}),a.jsx(ge,{value:"reengagement",children:e("admin.whatsappFlowsPage.flowType_reengagement")}),a.jsx(ge,{value:"support",children:e("admin.whatsappFlowsPage.flowType_support")}),a.jsx(ge,{value:"promotion",children:e("admin.whatsappFlowsPage.flowType_promotion")}),a.jsx(ge,{value:"survey",children:e("admin.whatsappFlowsPage.flowType_survey")})]})]})]}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappFlowsPage.triggerType")}),a.jsxs(tt,{value:b,onValueChange:j,children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"keyword",children:e("admin.whatsappFlowsPage.triggerType_keyword")}),a.jsx(ge,{value:"qr_code",children:e("admin.whatsappFlowsPage.triggerType_qr_code")}),a.jsx(ge,{value:"link",children:e("admin.whatsappFlowsPage.triggerType_link")}),a.jsx(ge,{value:"ad_click",children:e("admin.whatsappFlowsPage.triggerType_ad_click")}),a.jsx(ge,{value:"manual",children:e("admin.whatsappFlowsPage.triggerType_manual")}),a.jsx(ge,{value:"scheduled",children:e("admin.whatsappFlowsPage.triggerType_scheduled")})]})]})]})]}),T&&a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappFlowsPage.triggerValue")}),a.jsx(ce,{value:v,onChange:re=>N(re.target.value),placeholder:e("admin.whatsappFlowsPage.triggerValuePlaceholder"),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappFlowsPage.steps")}),a.jsx(Pt,{value:w,onChange:re=>P(re.target.value),placeholder:`[
  {
    "step": 1,
    "type": "message",
    "content": "Welcome! How can we help you today?",
    "options": ["Product Info", "Place Order", "Support"]
  },
  {
    "step": 2,
    "type": "action",
    "action": "route_to_agent"
  }
]`,className:"min-h-[120px] font-mono text-xs sm:text-sm"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.whatsappFlowsPage.stepsHint")})]}),a.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium",children:e("admin.whatsappFlowsPage.targetAudience")}),a.jsx(Pt,{value:k,onChange:re=>_(re.target.value),placeholder:`{
  "segments": ["new_customers", "returning"],
  "languages": ["zh", "en", "ms"]
}`,className:"min-h-[80px] font-mono text-xs sm:text-sm"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.whatsappFlowsPage.targetAudienceHint")})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>{c(!1),ye()},className:"w-full sm:w-auto",children:e("admin.whatsappFlowsPage.cancel")}),a.jsxs(C,{onClick:U,disabled:F.isPending||le.isPending||!m.trim(),className:"w-full sm:w-auto",children:[(F.isPending||le.isPending)&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e(d?"admin.whatsappFlowsPage.save":"admin.whatsappFlowsPage.create")]})]})]})}),a.jsx(et,{open:S,onOpenChange:O,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[650px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(xa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.whatsappFlowsPage.flowDetails")]}),a.jsx(ht,{className:"text-sm",children:A==null?void 0:A.name})]}),A&&a.jsxs("div",{className:"space-y-4 sm:space-y-6 py-2 sm:py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappFlowsPage.flowName")}),a.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:A.name})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappFlowsPage.status")}),mt(A.status)]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappFlowsPage.flowType")}),Me(A.flow_type)]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappFlowsPage.triggerType")}),He(A.trigger_type)]}),A.trigger_value&&a.jsxs("div",{className:"space-y-0.5 sm:space-y-1 col-span-2",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappFlowsPage.triggerValue")}),a.jsx("p",{className:"font-medium text-sm sm:text-base",children:A.trigger_value})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappFlowsPage.createdAt")}),a.jsx("p",{className:"text-sm",children:he(A.created_at)})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappFlowsPage.updatedAt")}),a.jsx("p",{className:"text-sm",children:he(A.updated_at)})]})]}),A.description&&a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappFlowsPage.description")}),a.jsx("p",{className:"text-xs sm:text-sm bg-muted p-2.5 sm:p-3 rounded-lg",children:A.description})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappFlowsPage.steps")}),a.jsx("pre",{className:"text-xs bg-muted p-2.5 sm:p-3 rounded-lg overflow-x-auto max-h-48",children:A.steps?JSON.stringify(A.steps,null,2):"[]"})]}),a.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.whatsappFlowsPage.targetAudience")}),a.jsx("pre",{className:"text-xs bg-muted p-2.5 sm:p-3 rounded-lg overflow-x-auto max-h-32",children:A.target_audience?JSON.stringify(A.target_audience,null,2):"{}"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:e("admin.whatsappFlowsPage.executionStats")}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3",children:[a.jsxs("div",{className:"p-2.5 sm:p-3 border rounded-lg text-center",children:[a.jsx("p",{className:"text-lg sm:text-xl font-bold",children:ie.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.whatsappFlowsPage.totalExecutions")})]}),a.jsxs("div",{className:"p-2.5 sm:p-3 border rounded-lg text-center",children:[a.jsx("p",{className:"text-lg sm:text-xl font-bold text-yellow-500",children:ie.filter(re=>re.status==="in_progress").length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.whatsappFlowsPage.inProgress")})]}),a.jsxs("div",{className:"p-2.5 sm:p-3 border rounded-lg text-center",children:[a.jsx("p",{className:"text-lg sm:text-xl font-bold text-green-500",children:ie.filter(re=>re.status==="completed").length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.whatsappFlowsPage.completed")})]}),a.jsxs("div",{className:"p-2.5 sm:p-3 border rounded-lg text-center",children:[a.jsx("p",{className:"text-lg sm:text-xl font-bold text-blue-500",children:ie.filter(re=>re.status==="converted").length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e("admin.whatsappFlowsPage.converted")})]})]})]})]}),a.jsx(lt,{className:"mt-3 sm:mt-4",children:a.jsx(C,{variant:"outline",onClick:()=>O(!1),className:"w-full sm:w-auto",children:e("admin.whatsappFlowsPage.close")})})]})}),a.jsx(et,{open:D,onOpenChange:B,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Ut,{className:"w-4 h-4 sm:w-5 sm:h-5 text-destructive"}),e("admin.whatsappFlowsPage.confirmDeleteTitle")]}),a.jsx(ht,{className:"text-sm",children:e("admin.whatsappFlowsPage.confirmDeleteDesc")})]}),z&&a.jsx("div",{className:"py-2 sm:py-4",children:a.jsxs("div",{className:"p-3 border rounded-lg space-y-1.5",children:[a.jsx("p",{className:"font-medium text-sm",children:z.name}),z.description&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:z.description}),a.jsxs("div",{className:"flex items-center gap-2",children:[Me(z.flow_type),mt(z.status)]})]})}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>{B(!1),K(null)},className:"w-full sm:w-auto",children:e("admin.whatsappFlowsPage.cancel")}),a.jsxs(C,{variant:"destructive",onClick:Z,disabled:q.isPending,className:"w-full sm:w-auto",children:[q.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.whatsappFlowsPage.confirmDelete")]})]})]})})]})}const K3=["features","ingredients","usage","benefits","storage","other"],g8e=["preference","complaint","purchase_history","interaction","feedback","other"],x8e=["ai_detected","manual","chatbot"],z3=["policy","commission","tier","benefit","faq","other"],W3=["zh","en","ms"];function y8e(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState("product"),[i,o]=y.useState(""),[l,c]=y.useState("all"),[d,u]=y.useState(""),[m,h]=y.useState(!1),[p,g]=y.useState(!1),[f,x]=y.useState(!1),[b,j]=y.useState(null),[v,N]=y.useState(null),[w,P]=y.useState(null),[k,_]=y.useState(null),[S,O]=y.useState(""),[A,E]=y.useState("features"),[D,B]=y.useState(""),[z,K]=y.useState(""),[Y,M]=y.useState("zh"),[R,J]=y.useState(3),[ie,F]=y.useState(!0),[le,q]=y.useState(""),[ve,ye]=y.useState(""),[H,oe]=y.useState("preference"),[G,$]=y.useState(3),[Z,U]=y.useState("manual"),{data:pe=[],isLoading:ke}=Ae({queryKey:["product-memory"],queryFn:async()=>{const{data:ne,error:Et}=await L.from("product_memory").select("*").order("priority",{ascending:!1});return Et?(console.error("Error fetching product_memory:",Et),[]):ne||[]}}),{data:se=[],isLoading:I}=Ae({queryKey:["customer-memory"],queryFn:async()=>{const{data:ne,error:Et}=await L.from("customer_memory").select("*").order("importance",{ascending:!1});return Et?(console.error("Error fetching customer_memory:",Et),[]):ne||[]}}),{data:be=[],isLoading:_e}=Ae({queryKey:["partner-memory"],queryFn:async()=>{const{data:ne,error:Et}=await L.from("partner_memory").select("*").order("priority",{ascending:!1});return Et?(console.error("Error fetching partner_memory:",Et),[]):ne||[]}}),Me={total:pe.length+se.length+be.length,product:pe.length,customer:se.length,partner:be.length},He=pe.filter(ne=>{const Et=i===""||ne.title.toLowerCase().includes(i.toLowerCase())||ne.content.toLowerCase().includes(i.toLowerCase()),Wt=l==="all"||ne.category===l;return Et&&Wt}),mt=se.filter(ne=>{const Et=i===""||ne.content.toLowerCase().includes(i.toLowerCase())||(ne.customer_name||"").toLowerCase().includes(i.toLowerCase()),Wt=d===""||ne.customer_phone.includes(d);return Et&&Wt}),ee=be.filter(ne=>{const Et=i===""||ne.title.toLowerCase().includes(i.toLowerCase())||ne.content.toLowerCase().includes(i.toLowerCase()),Wt=l==="all"||ne.category===l;return Et&&Wt}),he=Ce({mutationFn:async ne=>{const Et={product_id:ne.product_id||null,category:ne.category,title:ne.title,content:ne.content,language:ne.language,priority:ne.priority,is_active:ne.is_active,updated_at:new Date().toISOString()};if(ne.id){const{error:Wt}=await L.from("product_memory").update(Et).eq("id",ne.id);if(Wt)throw Wt}else{const{error:Wt}=await L.from("product_memory").insert(Et);if(Wt)throw Wt}},onSuccess:()=>{n.invalidateQueries({queryKey:["product-memory"]}),h(!1),t({title:e("admin.memoryDatabasePage.saveSuccess")})},onError:ne=>{t({title:e("admin.memoryDatabasePage.saveError"),description:String(ne),variant:"destructive"})}}),T=Ce({mutationFn:async ne=>{const Et={customer_phone:ne.customer_phone,customer_name:ne.customer_name||null,memory_type:ne.memory_type,content:ne.content,importance:ne.importance,source:ne.source,updated_at:new Date().toISOString()};if(ne.id){const{error:Wt}=await L.from("customer_memory").update(Et).eq("id",ne.id);if(Wt)throw Wt}else{const{error:Wt}=await L.from("customer_memory").insert(Et);if(Wt)throw Wt}},onSuccess:()=>{n.invalidateQueries({queryKey:["customer-memory"]}),h(!1),t({title:e("admin.memoryDatabasePage.saveSuccess")})},onError:ne=>{t({title:e("admin.memoryDatabasePage.saveError"),description:String(ne),variant:"destructive"})}}),me=Ce({mutationFn:async ne=>{const Et={category:ne.category,title:ne.title,content:ne.content,language:ne.language,priority:ne.priority,is_active:ne.is_active,updated_at:new Date().toISOString()};if(ne.id){const{error:Wt}=await L.from("partner_memory").update(Et).eq("id",ne.id);if(Wt)throw Wt}else{const{error:Wt}=await L.from("partner_memory").insert(Et);if(Wt)throw Wt}},onSuccess:()=>{n.invalidateQueries({queryKey:["partner-memory"]}),h(!1),t({title:e("admin.memoryDatabasePage.saveSuccess")})},onError:ne=>{t({title:e("admin.memoryDatabasePage.saveError"),description:String(ne),variant:"destructive"})}}),re=Ce({mutationFn:async({table:ne,id:Et})=>{const{error:Wt}=await L.from(ne).delete().eq("id",Et);if(Wt)throw Wt},onSuccess:()=>{n.invalidateQueries({queryKey:["product-memory"]}),n.invalidateQueries({queryKey:["customer-memory"]}),n.invalidateQueries({queryKey:["partner-memory"]}),g(!1),_(null),t({title:e("admin.memoryDatabasePage.deleteSuccess")})},onError:ne=>{t({title:e("admin.memoryDatabasePage.deleteError"),description:String(ne),variant:"destructive"})}}),xe=Ce({mutationFn:async({text:ne,table:Et,record_id:Wt})=>{const{error:ho}=await L.functions.invoke("generate-embedding",{body:{text:ne,table:Et,record_id:Wt}});if(ho)throw ho},onSuccess:()=>{t({title:e("admin.memoryDatabasePage.embeddingSuccess")})},onError:ne=>{t({title:e("admin.memoryDatabasePage.embeddingError"),description:String(ne),variant:"destructive"})}}),Ne=Ce({mutationFn:async({title:ne,content:Et,category:Wt})=>{const{error:ho}=await L.from("ai_knowledge_base").insert({title:ne,content:Et,category:Wt,is_active:!0});if(ho)throw ho},onSuccess:()=>{t({title:e("admin.memoryDatabasePage.strengthenSuccess")})},onError:ne=>{t({title:e("admin.memoryDatabasePage.strengthenError"),description:String(ne),variant:"destructive"})}}),je=()=>{O(""),E("features"),B(""),K(""),M("zh"),J(3),F(!0),q(""),ye(""),oe("preference"),$(3),U("manual"),j(null),N(null),P(null)},Ge=()=>{je(),r==="product"?E("features"):r==="customer"?(oe("preference"),U("manual")):E("policy"),h(!0)},pt=ne=>{je(),j(ne),O(ne.product_id||""),E(ne.category),B(ne.title),K(ne.content),M(ne.language),J(ne.priority),F(ne.is_active),h(!0)},Wa=ne=>{je(),N(ne),q(ne.customer_phone),ye(ne.customer_name||""),oe(ne.memory_type),K(ne.content),$(ne.importance),U(ne.source),h(!0)},ga=ne=>{je(),P(ne),E(ne.category),B(ne.title),K(ne.content),M(ne.language),J(ne.priority),F(ne.is_active),h(!0)},Ta=()=>{r==="product"?he.mutate({id:b==null?void 0:b.id,product_id:S||null,category:A,title:D,content:z,language:Y,priority:R,is_active:ie}):r==="customer"?T.mutate({id:v==null?void 0:v.id,customer_phone:le,customer_name:ve||null,memory_type:H,content:z,importance:G,source:Z}):me.mutate({id:w==null?void 0:w.id,category:A,title:D,content:z,language:Y,priority:R,is_active:ie})},wa=(ne,Et,Wt)=>{_({table:ne,id:Et,title:Wt}),g(!0)},Ha=()=>{k&&re.mutate({table:k.table,id:k.id})},Fa=ne=>ne?new Date(ne).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",Ba=ne=>a.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(Et=>a.jsx(pa,{className:`w-3.5 h-3.5 ${Et<=ne?"text-yellow-500 fill-yellow-500":"text-muted-foreground/30"}`},Et))}),fn=ne=>{const Et={features:"bg-blue-500/10 text-blue-600 border-blue-200",ingredients:"bg-green-500/10 text-green-600 border-green-200",usage:"bg-purple-500/10 text-purple-600 border-purple-200",benefits:"bg-amber-500/10 text-amber-600 border-amber-200",storage:"bg-gray-500/10 text-gray-600 border-gray-200",policy:"bg-blue-500/10 text-blue-600 border-blue-200",commission:"bg-green-500/10 text-green-600 border-green-200",tier:"bg-purple-500/10 text-purple-600 border-purple-200",benefit:"bg-amber-500/10 text-amber-600 border-amber-200",faq:"bg-cyan-500/10 text-cyan-600 border-cyan-200",preference:"bg-pink-500/10 text-pink-600 border-pink-200",complaint:"bg-red-500/10 text-red-600 border-red-200",purchase_history:"bg-emerald-500/10 text-emerald-600 border-emerald-200",interaction:"bg-indigo-500/10 text-indigo-600 border-indigo-200",feedback:"bg-orange-500/10 text-orange-600 border-orange-200",other:"bg-gray-500/10 text-gray-600 border-gray-200"};return Et[ne]||Et.other},ue=ne=>{const Et={zh:"ZH",en:"EN",ms:"MS"};return a.jsx(te,{variant:"outline",className:"text-[10px] sm:text-xs px-1.5",children:Et[ne]||ne})},Ve=he.isPending||T.isPending||me.isPending;return ke||I||_e?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.memoryDatabasePage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.subtitle")})]}),a.jsxs(C,{className:"gap-2",onClick:Ge,children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.memoryDatabasePage.addMemory")]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(qf,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:Me.total}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.memoryDatabasePage.statTotal")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0",children:a.jsx(ca,{className:"w-5 h-5 text-blue-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-500",children:Me.product}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.memoryDatabasePage.statProduct")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:a.jsx(Tt,{className:"w-5 h-5 text-green-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:Me.customer}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.memoryDatabasePage.statCustomer")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500/10 flex items-center justify-center shrink-0",children:a.jsx(Lu,{className:"w-5 h-5 text-purple-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-500",children:Me.partner}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.memoryDatabasePage.statPartner")})]})]})})]}),a.jsxs("div",{className:"flex gap-2 border-b",children:[a.jsxs("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${r==="product"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>{s("product"),o(""),c("all"),u("")},children:[a.jsx(ca,{className:"w-4 h-4 inline-block mr-1.5 -mt-0.5"}),e("admin.memoryDatabasePage.tabProduct")]}),a.jsxs("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${r==="customer"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>{s("customer"),o(""),c("all"),u("")},children:[a.jsx(Tt,{className:"w-4 h-4 inline-block mr-1.5 -mt-0.5"}),e("admin.memoryDatabasePage.tabCustomer")]}),a.jsxs("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${r==="partner"?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>{s("partner"),o(""),c("all"),u("")},children:[a.jsx(Lu,{className:"w-4 h-4 inline-block mr-1.5 -mt-0.5"}),e("admin.memoryDatabasePage.tabPartner")]})]}),r==="product"&&a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(ql,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.memoryDatabasePage.productMemoryTitle")," (",He.length,")"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[a.jsxs(tt,{value:l,onValueChange:c,children:[a.jsx(Xe,{className:"h-9 sm:h-10 w-full sm:w-40",children:a.jsx(at,{placeholder:e("admin.memoryDatabasePage.filterCategory")})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"all",children:e("admin.memoryDatabasePage.allCategories")}),K3.map(ne=>a.jsx(ge,{value:ne,children:ne},ne))]})]}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.memoryDatabasePage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:i,onChange:ne=>o(ne.target.value)})]})]})]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:He.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ql,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.memoryDatabasePage.noMemories")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:He.map(ne=>a.jsx("div",{className:`p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors ${ne.is_active?"":"opacity-60"}`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap mb-1",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base",children:ne.title}),a.jsx(te,{className:fn(ne.category),variant:"outline",children:ne.category}),ue(ne.language),!ne.is_active&&a.jsx(te,{variant:"outline",className:"text-[10px] sm:text-xs text-red-500 border-red-200",children:e("admin.memoryDatabasePage.inactive")})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Ba(ne.priority),a.jsx("span",{className:"text-xs text-muted-foreground",children:Fa(ne.created_at)})]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2",children:ne.content})]}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{j(ne),x(!0)},children:a.jsx(xa,{className:"w-4 h-4"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>pt(ne),children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>xe.mutate({text:ne.content,table:"product_memory",record_id:ne.id}),disabled:xe.isPending,children:xe.isPending?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(zi,{className:"w-4 h-4 text-amber-500"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Ne.mutate({title:ne.title,content:ne.content,category:ne.category}),disabled:Ne.isPending,children:Ne.isPending?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Ul,{className:"w-4 h-4 text-blue-500"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>wa("product_memory",ne.id,ne.title),children:a.jsx(Ut,{className:"w-4 h-4"})})]})]})},ne.id))})})]}),r==="customer"&&a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Tt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"}),e("admin.memoryDatabasePage.customerMemoryTitle")," (",mt.length,")"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[a.jsx("div",{className:"relative w-full sm:w-44",children:a.jsx(ce,{placeholder:e("admin.memoryDatabasePage.filterPhone"),className:"h-9 sm:h-10",value:d,onChange:ne=>u(ne.target.value)})}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.memoryDatabasePage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:i,onChange:ne=>o(ne.target.value)})]})]})]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:mt.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Tt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.memoryDatabasePage.noMemories")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:mt.map(ne=>a.jsx("div",{className:"p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap mb-1",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base",children:ne.customer_name||ne.customer_phone}),ne.customer_name&&a.jsx("span",{className:"text-xs text-muted-foreground",children:ne.customer_phone}),a.jsx(te,{className:fn(ne.memory_type),variant:"outline",children:ne.memory_type}),a.jsx(te,{variant:"outline",className:"text-[10px] sm:text-xs",children:ne.source})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Ba(ne.importance),a.jsx("span",{className:"text-xs text-muted-foreground",children:Fa(ne.created_at)})]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2",children:ne.content})]}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{N(ne),x(!0)},children:a.jsx(xa,{className:"w-4 h-4"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Wa(ne),children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>xe.mutate({text:ne.content,table:"customer_memory",record_id:ne.id}),disabled:xe.isPending,children:xe.isPending?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(zi,{className:"w-4 h-4 text-amber-500"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>wa("customer_memory",ne.id,ne.customer_name||ne.customer_phone),children:a.jsx(Ut,{className:"w-4 h-4"})})]})]})},ne.id))})})]}),r==="partner"&&a.jsxs(W,{children:[a.jsx($e,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 sm:gap-4",children:[a.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Lu,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-500"}),e("admin.memoryDatabasePage.partnerMemoryTitle")," (",ee.length,")"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[a.jsxs(tt,{value:l,onValueChange:c,children:[a.jsx(Xe,{className:"h-9 sm:h-10 w-full sm:w-40",children:a.jsx(at,{placeholder:e("admin.memoryDatabasePage.filterCategory")})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"all",children:e("admin.memoryDatabasePage.allCategories")}),z3.map(ne=>a.jsx(ge,{value:ne,children:ne},ne))]})]}),a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.memoryDatabasePage.searchPlaceholder"),className:"pl-9 h-9 sm:h-10",value:i,onChange:ne=>o(ne.target.value)})]})]})]})}),a.jsx(ae,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:ee.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Lu,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.memoryDatabasePage.noMemories")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:ee.map(ne=>a.jsx("div",{className:`p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors ${ne.is_active?"":"opacity-60"}`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap mb-1",children:[a.jsx("span",{className:"font-medium text-sm sm:text-base",children:ne.title}),a.jsx(te,{className:fn(ne.category),variant:"outline",children:ne.category}),ue(ne.language),!ne.is_active&&a.jsx(te,{variant:"outline",className:"text-[10px] sm:text-xs text-red-500 border-red-200",children:e("admin.memoryDatabasePage.inactive")})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Ba(ne.priority),a.jsx("span",{className:"text-xs text-muted-foreground",children:Fa(ne.created_at)})]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2",children:ne.content})]}),a.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{P(ne),x(!0)},children:a.jsx(xa,{className:"w-4 h-4"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>ga(ne),children:a.jsx(_a,{className:"w-4 h-4"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>xe.mutate({text:ne.content,table:"partner_memory",record_id:ne.id}),disabled:xe.isPending,children:xe.isPending?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(zi,{className:"w-4 h-4 text-amber-500"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Ne.mutate({title:ne.title,content:ne.content,category:ne.category}),disabled:Ne.isPending,children:Ne.isPending?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Ul,{className:"w-4 h-4 text-blue-500"})}),a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>wa("partner_memory",ne.id,ne.title),children:a.jsx(Ut,{className:"w-4 h-4"})})]})]})},ne.id))})})]})]}),a.jsx(et,{open:m,onOpenChange:h,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(ql,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e(r==="product"?b?"admin.memoryDatabasePage.editProductMemory":"admin.memoryDatabasePage.addProductMemory":r==="customer"?v?"admin.memoryDatabasePage.editCustomerMemory":"admin.memoryDatabasePage.addCustomerMemory":w?"admin.memoryDatabasePage.editPartnerMemory":"admin.memoryDatabasePage.addPartnerMemory")]}),a.jsx(ht,{className:"text-sm",children:e("admin.memoryDatabasePage.formDescription")})]}),a.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[r==="product"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldProductId")}),a.jsx(ce,{value:S,onChange:ne=>O(ne.target.value),placeholder:e("admin.memoryDatabasePage.fieldProductIdPlaceholder"),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldCategory")}),a.jsxs(tt,{value:A,onValueChange:E,children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsx(Ze,{children:K3.map(ne=>a.jsx(ge,{value:ne,children:ne},ne))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldLanguage")}),a.jsxs(tt,{value:Y,onValueChange:M,children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsx(Ze,{children:W3.map(ne=>a.jsx(ge,{value:ne,children:ne.toUpperCase()},ne))})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldTitle")}),a.jsx(ce,{value:D,onChange:ne=>B(ne.target.value),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldContent")}),a.jsx(Pt,{value:z,onChange:ne=>K(ne.target.value),className:"min-h-[120px]"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-xs sm:text-sm text-muted-foreground",children:[e("admin.memoryDatabasePage.fieldPriority")," (1-5)"]}),a.jsx(ce,{type:"number",min:1,max:5,value:R,onChange:ne=>J(Math.min(5,Math.max(1,parseInt(ne.target.value)||1))),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldIsActive")}),a.jsxs("div",{className:"flex items-center gap-2 h-9 sm:h-10",children:[a.jsx(cn,{checked:ie,onCheckedChange:F}),a.jsx("span",{className:"text-sm",children:e(ie?"admin.memoryDatabasePage.active":"admin.memoryDatabasePage.inactive")})]})]})]})]}),r==="customer"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldCustomerPhone")}),a.jsx(ce,{value:le,onChange:ne=>q(ne.target.value),placeholder:"+60...",className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldCustomerName")}),a.jsx(ce,{value:ve,onChange:ne=>ye(ne.target.value),className:"h-9 sm:h-10"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldMemoryType")}),a.jsxs(tt,{value:H,onValueChange:oe,children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsx(Ze,{children:g8e.map(ne=>a.jsx(ge,{value:ne,children:ne},ne))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldSource")}),a.jsxs(tt,{value:Z,onValueChange:U,children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsx(Ze,{children:x8e.map(ne=>a.jsx(ge,{value:ne,children:ne},ne))})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldContent")}),a.jsx(Pt,{value:z,onChange:ne=>K(ne.target.value),className:"min-h-[120px]"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-xs sm:text-sm text-muted-foreground",children:[e("admin.memoryDatabasePage.fieldImportance")," (1-5)"]}),a.jsx(ce,{type:"number",min:1,max:5,value:G,onChange:ne=>$(Math.min(5,Math.max(1,parseInt(ne.target.value)||1))),className:"h-9 sm:h-10"})]})]}),r==="partner"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldCategory")}),a.jsxs(tt,{value:A,onValueChange:E,children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsx(Ze,{children:z3.map(ne=>a.jsx(ge,{value:ne,children:ne},ne))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldLanguage")}),a.jsxs(tt,{value:Y,onValueChange:M,children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsx(Ze,{children:W3.map(ne=>a.jsx(ge,{value:ne,children:ne.toUpperCase()},ne))})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldTitle")}),a.jsx(ce,{value:D,onChange:ne=>B(ne.target.value),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldContent")}),a.jsx(Pt,{value:z,onChange:ne=>K(ne.target.value),className:"min-h-[120px]"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-xs sm:text-sm text-muted-foreground",children:[e("admin.memoryDatabasePage.fieldPriority")," (1-5)"]}),a.jsx(ce,{type:"number",min:1,max:5,value:R,onChange:ne=>J(Math.min(5,Math.max(1,parseInt(ne.target.value)||1))),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldIsActive")}),a.jsxs("div",{className:"flex items-center gap-2 h-9 sm:h-10",children:[a.jsx(cn,{checked:ie,onCheckedChange:F}),a.jsx("span",{className:"text-sm",children:e(ie?"admin.memoryDatabasePage.active":"admin.memoryDatabasePage.inactive")})]})]})]})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>h(!1),className:"w-full sm:w-auto",children:e("admin.memoryDatabasePage.cancel")}),a.jsxs(C,{onClick:Ta,disabled:Ve,className:"w-full sm:w-auto",children:[Ve&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.memoryDatabasePage.save")]})]})]})}),a.jsx(et,{open:f,onOpenChange:ne=>{x(ne),ne||(j(null),N(null),P(null))},children:a.jsxs(Ye,{className:"w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsx(Je,{children:a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(xa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.memoryDatabasePage.viewDetail")]})}),b&&r==="product"&&a.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldTitle")}),a.jsx("p",{className:"font-medium",children:b.title})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldProductId")}),a.jsx("p",{className:"font-medium",children:b.product_id||"-"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(te,{className:fn(b.category),variant:"outline",children:b.category}),ue(b.language),a.jsx(te,{variant:b.is_active?"default":"destructive",children:b.is_active?e("admin.memoryDatabasePage.active"):e("admin.memoryDatabasePage.inactive")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:e("admin.memoryDatabasePage.fieldPriority")}),Ba(b.priority)]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:e("admin.memoryDatabasePage.fieldContent")}),a.jsx("div",{className:"border rounded-lg p-3 bg-muted/20 max-h-[40vh] overflow-y-auto",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b.content})})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[e("admin.memoryDatabasePage.createdAt"),": ",Fa(b.created_at)]}),a.jsxs("span",{children:[e("admin.memoryDatabasePage.updatedAt"),": ",Fa(b.updated_at)]}),a.jsx("span",{children:b.embedding?e("admin.memoryDatabasePage.hasEmbedding"):e("admin.memoryDatabasePage.noEmbedding")})]})]}),v&&r==="customer"&&a.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldCustomerName")}),a.jsx("p",{className:"font-medium",children:v.customer_name||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldCustomerPhone")}),a.jsx("p",{className:"font-medium",children:v.customer_phone})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(te,{className:fn(v.memory_type),variant:"outline",children:v.memory_type}),a.jsx(te,{variant:"outline",children:v.source})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:e("admin.memoryDatabasePage.fieldImportance")}),Ba(v.importance)]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:e("admin.memoryDatabasePage.fieldContent")}),a.jsx("div",{className:"border rounded-lg p-3 bg-muted/20 max-h-[40vh] overflow-y-auto",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:v.content})})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[e("admin.memoryDatabasePage.createdAt"),": ",Fa(v.created_at)]}),a.jsxs("span",{children:[e("admin.memoryDatabasePage.updatedAt"),": ",Fa(v.updated_at)]}),a.jsx("span",{children:v.embedding?e("admin.memoryDatabasePage.hasEmbedding"):e("admin.memoryDatabasePage.noEmbedding")})]})]}),w&&r==="partner"&&a.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.memoryDatabasePage.fieldTitle")}),a.jsx("p",{className:"font-medium",children:w.title})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(te,{className:fn(w.category),variant:"outline",children:w.category}),ue(w.language),a.jsx(te,{variant:w.is_active?"default":"destructive",children:w.is_active?e("admin.memoryDatabasePage.active"):e("admin.memoryDatabasePage.inactive")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:e("admin.memoryDatabasePage.fieldPriority")}),Ba(w.priority)]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-1",children:e("admin.memoryDatabasePage.fieldContent")}),a.jsx("div",{className:"border rounded-lg p-3 bg-muted/20 max-h-[40vh] overflow-y-auto",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:w.content})})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[e("admin.memoryDatabasePage.createdAt"),": ",Fa(w.created_at)]}),a.jsxs("span",{children:[e("admin.memoryDatabasePage.updatedAt"),": ",Fa(w.updated_at)]}),a.jsx("span",{children:w.embedding?e("admin.memoryDatabasePage.hasEmbedding"):e("admin.memoryDatabasePage.noEmbedding")})]})]}),a.jsx(lt,{className:"mt-3 sm:mt-4",children:a.jsx(C,{variant:"outline",onClick:()=>x(!1),className:"w-full sm:w-auto",children:e("admin.memoryDatabasePage.close")})})]})}),a.jsx(et,{open:p,onOpenChange:g,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[400px] p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-destructive text-base sm:text-lg",children:[a.jsx(Ut,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e("admin.memoryDatabasePage.deleteConfirmTitle")]}),a.jsxs(ht,{className:"text-sm",children:[e("admin.memoryDatabasePage.deleteConfirmDesc"),' "',k==null?void 0:k.title,'"']})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>g(!1),className:"w-full sm:w-auto",children:e("admin.memoryDatabasePage.cancel")}),a.jsxs(C,{variant:"destructive",onClick:Ha,disabled:re.isPending,className:"w-full sm:w-auto",children:[re.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.memoryDatabasePage.confirmDelete")]})]})]})})]})}const W1={title:"",content:"",category:"",tags:"",is_active:"active"},H1={question:"",answer:"",category:"",source:"",confidence_score:.5,is_verified:"false"},H3=["general","product","partner","policy","faq","promotion"],G3=["general","product","order","partner","policy","other"],Y3=["customer_asked","ai_generated","manual"];function v8e(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState("knowledge"),[i,o]=y.useState(""),[l,c]=y.useState("all"),[d,u]=y.useState(!1),[m,h]=y.useState(!1),[p,g]=y.useState(!1),[f,x]=y.useState(!1),[b,j]=y.useState(null),[v,N]=y.useState(W1),[w,P]=y.useState(""),[k,_]=y.useState("all"),[S,O]=y.useState(!1),[A,E]=y.useState(!1),[D,B]=y.useState(!1),[z,K]=y.useState(!1),[Y,M]=y.useState(null),[R,J]=y.useState(H1),[ie,F]=y.useState(!1),{data:le=[],isLoading:q}=Ae({queryKey:["ai-knowledge-base"],queryFn:async()=>{const{data:T,error:me}=await L.from("ai_knowledge_base").select("*").order("created_at",{ascending:!1});return me?(console.error("Error fetching knowledge base:",me),[]):T||[]}}),{data:ve=[],isLoading:ye}=Ae({queryKey:["ai-training-data"],queryFn:async()=>{const{data:T,error:me}=await L.from("ai_training_data").select("*").order("created_at",{ascending:!1});return me?(console.error("Error fetching training data:",me),[]):T||[]}}),H=Ce({mutationFn:async T=>{const{error:me}=await L.from("ai_knowledge_base").insert({title:T.title,content:T.content,category:T.category,tags:T.tags?T.tags.split(",").map(re=>re.trim()).filter(Boolean):[],is_active:T.is_active==="active",source:"manual"});if(me)throw me},onSuccess:()=>{n.invalidateQueries({queryKey:["ai-knowledge-base"]}),t({title:e("admin.knowledgeBasePage.createSuccess")}),u(!1),N(W1)},onError:T=>{t({title:e("admin.knowledgeBasePage.createError"),description:String(T),variant:"destructive"})}}),oe=Ce({mutationFn:async({id:T,formData:me})=>{const{error:re}=await L.from("ai_knowledge_base").update({title:me.title,content:me.content,category:me.category,tags:me.tags?me.tags.split(",").map(xe=>xe.trim()).filter(Boolean):[],is_active:me.is_active==="active",updated_at:new Date().toISOString()}).eq("id",T);if(re)throw re},onSuccess:()=>{n.invalidateQueries({queryKey:["ai-knowledge-base"]}),t({title:e("admin.knowledgeBasePage.updateSuccess")}),h(!1),j(null)},onError:T=>{t({title:e("admin.knowledgeBasePage.updateError"),description:String(T),variant:"destructive"})}}),G=Ce({mutationFn:async T=>{const{error:me}=await L.from("ai_knowledge_base").delete().eq("id",T);if(me)throw me},onSuccess:()=>{n.invalidateQueries({queryKey:["ai-knowledge-base"]}),t({title:e("admin.knowledgeBasePage.deleteSuccess")}),x(!1),j(null)},onError:T=>{t({title:e("admin.knowledgeBasePage.deleteError"),description:String(T),variant:"destructive"})}}),$=Ce({mutationFn:async T=>{const{error:me}=await L.from("ai_training_data").insert({question:T.question,answer:T.answer||null,category:T.category,source:T.source,confidence_score:T.confidence_score,is_verified:T.is_verified==="true"});if(me)throw me},onSuccess:()=>{n.invalidateQueries({queryKey:["ai-training-data"]}),t({title:e("admin.knowledgeBasePage.createQaSuccess")}),O(!1),J(H1)},onError:T=>{t({title:e("admin.knowledgeBasePage.createQaError"),description:String(T),variant:"destructive"})}}),Z=Ce({mutationFn:async({id:T,formData:me})=>{const{error:re}=await L.from("ai_training_data").update({question:me.question,answer:me.answer||null,category:me.category,source:me.source,confidence_score:me.confidence_score,is_verified:me.is_verified==="true",updated_at:new Date().toISOString()}).eq("id",T);if(re)throw re},onSuccess:()=>{n.invalidateQueries({queryKey:["ai-training-data"]}),t({title:e("admin.knowledgeBasePage.updateQaSuccess")}),E(!1),M(null)},onError:T=>{t({title:e("admin.knowledgeBasePage.updateQaError"),description:String(T),variant:"destructive"})}}),U=Ce({mutationFn:async T=>{const{error:me}=await L.from("ai_training_data").delete().eq("id",T);if(me)throw me},onSuccess:()=>{n.invalidateQueries({queryKey:["ai-training-data"]}),t({title:e("admin.knowledgeBasePage.deleteQaSuccess")}),K(!1),M(null)},onError:T=>{t({title:e("admin.knowledgeBasePage.deleteQaError"),description:String(T),variant:"destructive"})}}),pe=async(T,me,re)=>{try{const{error:xe}=await L.functions.invoke("generate-embedding",{body:{text:re,table:T,record_id:me}});if(xe)throw xe;t({title:e("admin.knowledgeBasePage.embeddingSuccess")})}catch(xe){t({title:e("admin.knowledgeBasePage.embeddingError"),description:String(xe),variant:"destructive"})}},ke=async()=>{if(R.question.trim()){F(!0);try{const{data:T,error:me}=await L.functions.invoke("ai-suggest-answer",{body:{question:R.question}});if(me)throw me;T!=null&&T.answer&&(J({...R,answer:T.answer}),t({title:e("admin.knowledgeBasePage.aiSuggestSuccess")}))}catch(T){t({title:e("admin.knowledgeBasePage.aiSuggestError"),description:String(T),variant:"destructive"})}finally{F(!1)}}},se=T=>T?new Date(T).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",I=T=>{j(T),N({title:T.title,content:T.content,category:T.category,tags:(T.tags||[]).join(", "),is_active:T.is_active?"active":"inactive"}),h(!0)},be=T=>{M(T),J({question:T.question,answer:T.answer||"",category:T.category,source:T.source,confidence_score:T.confidence_score,is_verified:T.is_verified?"true":"false"}),E(!0)},_e=T=>{const me={general:"bg-gray-500/10 text-gray-500 border-gray-500/20",product:"bg-blue-500/10 text-blue-500 border-blue-500/20",partner:"bg-purple-500/10 text-purple-500 border-purple-500/20",policy:"bg-orange-500/10 text-orange-500 border-orange-500/20",faq:"bg-cyan-500/10 text-cyan-500 border-cyan-500/20",promotion:"bg-pink-500/10 text-pink-500 border-pink-500/20",order:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",other:"bg-gray-500/10 text-gray-500 border-gray-500/20"};return a.jsx(te,{className:me[T]||me.general,children:e(`admin.knowledgeBasePage.category_${T}`)||T})},Me=T=>{const me={manual:"bg-blue-500/10 text-blue-500 border-blue-500/20",customer_asked:"bg-green-500/10 text-green-500 border-green-500/20",ai_generated:"bg-purple-500/10 text-purple-500 border-purple-500/20",import:"bg-orange-500/10 text-orange-500 border-orange-500/20"};return a.jsx(te,{className:me[T]||"bg-gray-500/10 text-gray-500 border-gray-500/20",children:e(`admin.knowledgeBasePage.source_${T}`)||T})},He={totalArticles:le.length,activeArticles:le.filter(T=>T.is_active).length,totalQa:ve.length,verifiedQa:ve.filter(T=>T.is_verified).length},mt=le.filter(T=>{const me=i===""||T.title.toLowerCase().includes(i.toLowerCase())||T.content.toLowerCase().includes(i.toLowerCase())||T.category.toLowerCase().includes(i.toLowerCase()),re=l==="all"||l==="active"&&T.is_active||l==="inactive"&&!T.is_active;return me&&re}),ee=ve.filter(T=>{const me=w===""||T.question.toLowerCase().includes(w.toLowerCase())||(T.answer||"").toLowerCase().includes(w.toLowerCase())||T.category.toLowerCase().includes(w.toLowerCase()),re=k==="all"||k==="verified"&&T.is_verified||k==="unverified"&&!T.is_verified||k==="ai_generated"&&T.source==="ai_generated";return me&&re});return q||ye?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsxs(yt,{children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.knowledgeBasePage.title")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.subtitle")})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(Ul,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:He.totalArticles}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.knowledgeBasePage.statTotalArticles")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center shrink-0",children:a.jsx(Le,{className:"w-5 h-5 text-green-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:He.activeArticles}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.knowledgeBasePage.statActiveArticles")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center shrink-0",children:a.jsx(cx,{className:"w-5 h-5 text-blue-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-500",children:He.totalQa}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.knowledgeBasePage.statTotalQa")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-500/10 flex items-center justify-center shrink-0",children:a.jsx(ql,{className:"w-5 h-5 text-yellow-500"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-500",children:He.verifiedQa}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e("admin.knowledgeBasePage.statVerifiedQa")})]})]})})]}),a.jsx(W,{children:a.jsx(ae,{className:"p-4 sm:p-6",children:a.jsxs(ba,{value:r,onValueChange:s,children:[a.jsxs(fa,{className:"mb-4",children:[a.jsxs(Ee,{value:"knowledge",className:"gap-1.5",children:[a.jsx(Ul,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.knowledgeBasePage.tabKnowledge")})]}),a.jsxs(Ee,{value:"qa",className:"gap-1.5",children:[a.jsx(ur,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:e("admin.knowledgeBasePage.tabQa")})]})]}),a.jsxs(At,{value:"knowledge",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.knowledgeBasePage.searchArticles"),className:"pl-9 h-9 sm:h-10",value:i,onChange:T=>o(T.target.value)})]}),a.jsxs(C,{size:"sm",className:"gap-2",onClick:()=>{N(W1),u(!0)},children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.knowledgeBasePage.addArticle")]})]}),a.jsx("div",{className:"flex gap-2 border-b",children:["all","active","inactive"].map(T=>a.jsx("button",{className:`px-3 py-1.5 text-xs sm:text-sm font-medium border-b-2 transition-colors ${l===T?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>c(T),children:e(`admin.knowledgeBasePage.filter_${T}`)},T))}),mt.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ul,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.knowledgeBasePage.noArticles")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:mt.map(T=>a.jsxs("div",{className:"flex flex-col p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3",children:[a.jsx("div",{className:"flex items-start justify-between gap-3",children:a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${T.is_active?"bg-green-500":"bg-gray-400"}`}),a.jsx("h3",{className:"text-sm sm:text-base font-medium truncate",children:T.title})]}),a.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap mb-2",children:[_e(T.category),Me(T.source),(T.tags||[]).map((me,re)=>a.jsx(te,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:me},re))]}),a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2",children:[T.content.slice(0,100),T.content.length>100?"...":""]}),a.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground/60 mt-1",children:se(T.created_at)})]})}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 text-xs gap-1",onClick:()=>{j(T),g(!0)},children:[a.jsx(xa,{className:"w-3.5 h-3.5"}),e("admin.knowledgeBasePage.view")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 text-xs gap-1",onClick:()=>I(T),children:[a.jsx(_a,{className:"w-3.5 h-3.5"}),e("admin.knowledgeBasePage.edit")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 text-xs gap-1 text-purple-600 border-purple-200 hover:bg-purple-50",onClick:()=>pe("ai_knowledge_base",T.id,T.content),children:[a.jsx(zi,{className:"w-3.5 h-3.5"}),e("admin.knowledgeBasePage.generateEmbedding")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 text-xs gap-1 text-red-600 border-red-200 hover:bg-red-50",onClick:()=>{j(T),x(!0)},children:[a.jsx(Ut,{className:"w-3.5 h-3.5"}),e("admin.knowledgeBasePage.delete")]})]})]},T.id))})]}),a.jsxs(At,{value:"qa",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(va,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(ce,{placeholder:e("admin.knowledgeBasePage.searchQa"),className:"pl-9 h-9 sm:h-10",value:w,onChange:T=>P(T.target.value)})]}),a.jsxs(C,{size:"sm",className:"gap-2",onClick:()=>{J(H1),O(!0)},children:[a.jsx(zt,{className:"w-4 h-4"}),e("admin.knowledgeBasePage.addQa")]})]}),a.jsx("div",{className:"flex gap-2 border-b",children:["all","verified","unverified","ai_generated"].map(T=>a.jsx("button",{className:`px-3 py-1.5 text-xs sm:text-sm font-medium border-b-2 transition-colors ${k===T?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>_(T),children:e(`admin.knowledgeBasePage.qaFilter_${T}`)},T))}),ee.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ur,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.knowledgeBasePage.noQa")})]}):a.jsx("div",{className:"space-y-2 sm:space-y-3",children:ee.map(T=>a.jsxs("div",{className:"flex flex-col p-3 sm:p-4 border rounded-lg hover:bg-muted/50 transition-colors gap-3",children:[a.jsx("div",{className:"flex items-start justify-between gap-3",children:a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[T.is_verified?a.jsx(Le,{className:"w-4 h-4 text-green-500 shrink-0"}):a.jsx(ms,{className:"w-4 h-4 text-gray-400 shrink-0"}),a.jsx("h3",{className:"text-sm sm:text-base font-medium line-clamp-2",children:T.question})]}),T.answer&&a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground line-clamp-2 mb-2 ml-6",children:[T.answer.slice(0,120),T.answer.length>120?"...":""]}),a.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap mb-1",children:[_e(T.category),Me(T.source)]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[a.jsxs("span",{className:"text-[10px] sm:text-xs text-muted-foreground shrink-0",children:[e("admin.knowledgeBasePage.confidence"),":"]}),a.jsx("div",{className:"flex-1 max-w-[120px] h-1.5 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${T.confidence_score>=.8?"bg-green-500":T.confidence_score>=.5?"bg-yellow-500":"bg-red-500"}`,style:{width:`${T.confidence_score*100}%`}})}),a.jsxs("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[(T.confidence_score*100).toFixed(0),"%"]})]}),a.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground/60 mt-1",children:se(T.created_at)})]})}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 text-xs gap-1",onClick:()=>{M(T),B(!0)},children:[a.jsx(xa,{className:"w-3.5 h-3.5"}),e("admin.knowledgeBasePage.view")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 text-xs gap-1",onClick:()=>be(T),children:[a.jsx(_a,{className:"w-3.5 h-3.5"}),e("admin.knowledgeBasePage.edit")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 text-xs gap-1 text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>{J({question:T.question,answer:T.answer||"",category:T.category,source:T.source,confidence_score:T.confidence_score,is_verified:T.is_verified?"true":"false"}),M(T),E(!0),setTimeout(()=>ke(),100)},children:[a.jsx(ql,{className:"w-3.5 h-3.5"}),e("admin.knowledgeBasePage.aiSuggestAnswer")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 text-xs gap-1 text-purple-600 border-purple-200 hover:bg-purple-50",onClick:()=>pe("ai_training_data",T.id,T.question+" "+(T.answer||"")),children:[a.jsx(zi,{className:"w-3.5 h-3.5"}),e("admin.knowledgeBasePage.generateEmbedding")]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 text-xs gap-1 text-red-600 border-red-200 hover:bg-red-50",onClick:()=>{M(T),K(!0)},children:[a.jsx(Ut,{className:"w-3.5 h-3.5"}),e("admin.knowledgeBasePage.delete")]})]})]},T.id))})]})]})})})]}),a.jsx(et,{open:d,onOpenChange:u,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(zt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.knowledgeBasePage.createArticleTitle")]}),a.jsx(ht,{className:"text-sm",children:e("admin.knowledgeBasePage.createArticleDesc")})]}),a.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldTitle")}),a.jsx(ce,{value:v.title,onChange:T=>N({...v,title:T.target.value}),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldContent")}),a.jsx(Pt,{value:v.content,onChange:T=>N({...v,content:T.target.value}),className:"min-h-[160px]"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldCategory")}),a.jsxs(tt,{value:v.category,onValueChange:T=>N({...v,category:T}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{placeholder:e("admin.knowledgeBasePage.selectCategory")})}),a.jsx(Ze,{children:H3.map(T=>a.jsx(ge,{value:T,children:e(`admin.knowledgeBasePage.category_${T}`)||T},T))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldStatus")}),a.jsxs(tt,{value:v.is_active,onValueChange:T=>N({...v,is_active:T}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"active",children:e("admin.knowledgeBasePage.statusActive")}),a.jsx(ge,{value:"inactive",children:e("admin.knowledgeBasePage.statusInactive")})]})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldTags")}),a.jsx(ce,{value:v.tags,onChange:T=>N({...v,tags:T.target.value}),placeholder:e("admin.knowledgeBasePage.tagsPlaceholder"),className:"h-9 sm:h-10"})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:e("admin.knowledgeBasePage.cancel")}),a.jsxs(C,{onClick:()=>H.mutate(v),disabled:H.isPending||!v.title||!v.content||!v.category,className:"w-full sm:w-auto",children:[H.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.knowledgeBasePage.create")]})]})]})}),a.jsx(et,{open:m,onOpenChange:h,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(_a,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.knowledgeBasePage.editArticleTitle")]}),a.jsx(ht,{className:"text-sm",children:e("admin.knowledgeBasePage.editArticleDesc")})]}),a.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldTitle")}),a.jsx(ce,{value:v.title,onChange:T=>N({...v,title:T.target.value}),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldContent")}),a.jsx(Pt,{value:v.content,onChange:T=>N({...v,content:T.target.value}),className:"min-h-[160px]"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldCategory")}),a.jsxs(tt,{value:v.category,onValueChange:T=>N({...v,category:T}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{placeholder:e("admin.knowledgeBasePage.selectCategory")})}),a.jsx(Ze,{children:H3.map(T=>a.jsx(ge,{value:T,children:e(`admin.knowledgeBasePage.category_${T}`)||T},T))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldStatus")}),a.jsxs(tt,{value:v.is_active,onValueChange:T=>N({...v,is_active:T}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"active",children:e("admin.knowledgeBasePage.statusActive")}),a.jsx(ge,{value:"inactive",children:e("admin.knowledgeBasePage.statusInactive")})]})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldTags")}),a.jsx(ce,{value:v.tags,onChange:T=>N({...v,tags:T.target.value}),placeholder:e("admin.knowledgeBasePage.tagsPlaceholder"),className:"h-9 sm:h-10"})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>h(!1),className:"w-full sm:w-auto",children:e("admin.knowledgeBasePage.cancel")}),a.jsxs(C,{onClick:()=>{b&&oe.mutate({id:b.id,formData:v})},disabled:oe.isPending||!v.title||!v.content||!v.category,className:"w-full sm:w-auto",children:[oe.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.knowledgeBasePage.save")]})]})]})}),a.jsx(et,{open:f,onOpenChange:x,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[450px] p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Ut,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"}),e("admin.knowledgeBasePage.deleteArticleTitle")]}),a.jsx(ht,{className:"text-sm",children:e("admin.knowledgeBasePage.deleteArticleDesc")})]}),b&&a.jsxs("div",{className:"py-2 sm:py-4",children:[a.jsx("p",{className:"text-sm font-medium",children:b.title}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[b.content.slice(0,80),b.content.length>80?"...":""]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>x(!1),className:"w-full sm:w-auto",children:e("admin.knowledgeBasePage.cancel")}),a.jsxs(C,{variant:"destructive",onClick:()=>{b&&G.mutate(b.id)},disabled:G.isPending,className:"w-full sm:w-auto",children:[G.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.knowledgeBasePage.confirmDelete")]})]})]})}),a.jsx(et,{open:p,onOpenChange:g,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Ul,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.knowledgeBasePage.articleDetail")]}),a.jsx(ht,{className:"text-sm",children:b==null?void 0:b.title})]}),b&&a.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${b.is_active?"bg-green-500":"bg-gray-400"}`}),a.jsx("span",{className:"text-xs sm:text-sm font-medium",children:b.is_active?e("admin.knowledgeBasePage.statusActive"):e("admin.knowledgeBasePage.statusInactive")}),_e(b.category),Me(b.source)]}),(b.tags||[]).length>0&&a.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.tags.map((T,me)=>a.jsx(te,{variant:"secondary",className:"text-xs",children:T},me))}),a.jsx("div",{className:"border rounded-lg p-3 sm:p-4 bg-muted/20",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:b.content})}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[e("admin.knowledgeBasePage.createdAt"),": ",se(b.created_at)]}),a.jsxs("span",{children:[e("admin.knowledgeBasePage.updatedAt"),": ",se(b.updated_at)]})]}),b.source_memory_id&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("admin.knowledgeBasePage.sourceMemoryId"),": ",b.source_memory_id]})]}),a.jsx(lt,{className:"pt-2",children:a.jsx(C,{variant:"outline",onClick:()=>g(!1),className:"w-full sm:w-auto",children:e("admin.knowledgeBasePage.close")})})]})}),a.jsx(et,{open:S,onOpenChange:O,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(zt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.knowledgeBasePage.createQaTitle")]}),a.jsx(ht,{className:"text-sm",children:e("admin.knowledgeBasePage.createQaDesc")})]}),a.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldQuestion")}),a.jsx(ce,{value:R.question,onChange:T=>J({...R,question:T.target.value}),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldAnswer")}),a.jsxs(C,{type:"button",variant:"outline",size:"sm",className:"h-7 text-xs gap-1 text-blue-600 border-blue-200 hover:bg-blue-50",onClick:ke,disabled:ie||!R.question.trim(),children:[ie?a.jsx(fe,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx(ql,{className:"w-3.5 h-3.5"}),e("admin.knowledgeBasePage.aiSuggestAnswer")]})]}),a.jsx(Pt,{value:R.answer,onChange:T=>J({...R,answer:T.target.value}),className:"min-h-[120px]"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldCategory")}),a.jsxs(tt,{value:R.category,onValueChange:T=>J({...R,category:T}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{placeholder:e("admin.knowledgeBasePage.selectCategory")})}),a.jsx(Ze,{children:G3.map(T=>a.jsx(ge,{value:T,children:e(`admin.knowledgeBasePage.category_${T}`)||T},T))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldSource")}),a.jsxs(tt,{value:R.source,onValueChange:T=>J({...R,source:T}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{placeholder:e("admin.knowledgeBasePage.selectSource")})}),a.jsx(Ze,{children:Y3.map(T=>a.jsx(ge,{value:T,children:e(`admin.knowledgeBasePage.source_${T}`)||T},T))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldConfidence")}),a.jsx(ce,{type:"number",min:0,max:1,step:.01,value:R.confidence_score,onChange:T=>J({...R,confidence_score:parseFloat(T.target.value)||0}),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldVerified")}),a.jsxs(tt,{value:R.is_verified,onValueChange:T=>J({...R,is_verified:T}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"true",children:e("admin.knowledgeBasePage.verified")}),a.jsx(ge,{value:"false",children:e("admin.knowledgeBasePage.unverified")})]})]})]})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>O(!1),className:"w-full sm:w-auto",children:e("admin.knowledgeBasePage.cancel")}),a.jsxs(C,{onClick:()=>$.mutate(R),disabled:$.isPending||!R.question||!R.category||!R.source,className:"w-full sm:w-auto",children:[$.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.knowledgeBasePage.create")]})]})]})}),a.jsx(et,{open:A,onOpenChange:E,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(_a,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.knowledgeBasePage.editQaTitle")]}),a.jsx(ht,{className:"text-sm",children:e("admin.knowledgeBasePage.editQaDesc")})]}),a.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldQuestion")}),a.jsx(ce,{value:R.question,onChange:T=>J({...R,question:T.target.value}),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldAnswer")}),a.jsxs(C,{type:"button",variant:"outline",size:"sm",className:"h-7 text-xs gap-1 text-blue-600 border-blue-200 hover:bg-blue-50",onClick:ke,disabled:ie||!R.question.trim(),children:[ie?a.jsx(fe,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx(ql,{className:"w-3.5 h-3.5"}),e("admin.knowledgeBasePage.aiSuggestAnswer")]})]}),a.jsx(Pt,{value:R.answer,onChange:T=>J({...R,answer:T.target.value}),className:"min-h-[120px]"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldCategory")}),a.jsxs(tt,{value:R.category,onValueChange:T=>J({...R,category:T}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{placeholder:e("admin.knowledgeBasePage.selectCategory")})}),a.jsx(Ze,{children:G3.map(T=>a.jsx(ge,{value:T,children:e(`admin.knowledgeBasePage.category_${T}`)||T},T))})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldSource")}),a.jsxs(tt,{value:R.source,onValueChange:T=>J({...R,source:T}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{placeholder:e("admin.knowledgeBasePage.selectSource")})}),a.jsx(Ze,{children:Y3.map(T=>a.jsx(ge,{value:T,children:e(`admin.knowledgeBasePage.source_${T}`)||T},T))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldConfidence")}),a.jsx(ce,{type:"number",min:0,max:1,step:.01,value:R.confidence_score,onChange:T=>J({...R,confidence_score:parseFloat(T.target.value)||0}),className:"h-9 sm:h-10"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.knowledgeBasePage.fieldVerified")}),a.jsxs(tt,{value:R.is_verified,onValueChange:T=>J({...R,is_verified:T}),children:[a.jsx(Xe,{className:"h-9 sm:h-10",children:a.jsx(at,{})}),a.jsxs(Ze,{children:[a.jsx(ge,{value:"true",children:e("admin.knowledgeBasePage.verified")}),a.jsx(ge,{value:"false",children:e("admin.knowledgeBasePage.unverified")})]})]})]})]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>E(!1),className:"w-full sm:w-auto",children:e("admin.knowledgeBasePage.cancel")}),a.jsxs(C,{onClick:()=>{Y&&Z.mutate({id:Y.id,formData:R})},disabled:Z.isPending||!R.question||!R.category||!R.source,className:"w-full sm:w-auto",children:[Z.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.knowledgeBasePage.save")]})]})]})}),a.jsx(et,{open:z,onOpenChange:K,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[450px] p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(Ut,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"}),e("admin.knowledgeBasePage.deleteQaTitle")]}),a.jsx(ht,{className:"text-sm",children:e("admin.knowledgeBasePage.deleteQaDesc")})]}),Y&&a.jsxs("div",{className:"py-2 sm:py-4",children:[a.jsx("p",{className:"text-sm font-medium",children:Y.question}),Y.answer&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Y.answer.slice(0,80),Y.answer.length>80?"...":""]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2 sm:gap-0 pt-2",children:[a.jsx(C,{type:"button",variant:"outline",onClick:()=>K(!1),className:"w-full sm:w-auto",children:e("admin.knowledgeBasePage.cancel")}),a.jsxs(C,{variant:"destructive",onClick:()=>{Y&&U.mutate(Y.id)},disabled:U.isPending,className:"w-full sm:w-auto",children:[U.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),e("admin.knowledgeBasePage.confirmDelete")]})]})]})}),a.jsx(et,{open:D,onOpenChange:B,children:a.jsxs(Ye,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[a.jsxs(Je,{children:[a.jsxs(Qe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a.jsx(ur,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),e("admin.knowledgeBasePage.qaDetail")]}),a.jsx(ht,{className:"text-sm",children:e("admin.knowledgeBasePage.qaDetailDesc")})]}),Y&&a.jsxs("div",{className:"space-y-4 py-2 sm:py-4",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[Y.is_verified?a.jsxs(te,{className:"bg-green-500/10 text-green-500 border-green-500/20 gap-1",children:[a.jsx(Le,{className:"w-3 h-3"}),e("admin.knowledgeBasePage.verified")]}):a.jsxs(te,{className:"bg-gray-500/10 text-gray-500 border-gray-500/20 gap-1",children:[a.jsx(ms,{className:"w-3 h-3"}),e("admin.knowledgeBasePage.unverified")]}),_e(Y.category),Me(Y.source)]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:e("admin.knowledgeBasePage.fieldQuestion")}),a.jsx("div",{className:"border rounded-lg p-3 sm:p-4 bg-muted/20",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:Y.question})})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:e("admin.knowledgeBasePage.fieldAnswer")}),a.jsx("div",{className:"border rounded-lg p-3 sm:p-4 bg-muted/20",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:Y.answer||e("admin.knowledgeBasePage.noAnswer")})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[e("admin.knowledgeBasePage.confidence"),":"]}),a.jsx("div",{className:"flex-1 max-w-[200px] h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${Y.confidence_score>=.8?"bg-green-500":Y.confidence_score>=.5?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Y.confidence_score*100}%`}})}),a.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:[(Y.confidence_score*100).toFixed(0),"%"]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{children:[e("admin.knowledgeBasePage.createdAt"),": ",se(Y.created_at)]}),a.jsxs("span",{children:[e("admin.knowledgeBasePage.updatedAt"),": ",se(Y.updated_at)]})]}),Y.metadata!=null?a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs text-muted-foreground",children:e("admin.knowledgeBasePage.metadata")}),a.jsx("pre",{className:"text-xs bg-muted/30 border rounded-lg p-2 overflow-x-auto",children:String(JSON.stringify(Y.metadata,null,2))})]}):null]}),a.jsx(lt,{className:"pt-2",children:a.jsx(C,{variant:"outline",onClick:()=>B(!1),className:"w-full sm:w-auto",children:e("admin.knowledgeBasePage.close")})})]})})]})}const b8e={openai:$i,whatsapp:ur,meta_ads:ei,general:Ni,payment:vP,email:vP,storage:qf},w8e={openai:"OpenAI API",whatsapp:"WhatsApp Cloud API",meta_ads:"Meta Marketing API",general:"General",payment:"Payment",email:"Email",storage:"Storage"};function j8e(){const{t:e}=ft(),{toast:t}=Jt(),n=Aa(),[r,s]=y.useState(!1),[i,o]=y.useState(null),[l,c]=y.useState(""),[d,u]=y.useState({}),[m,h]=y.useState(null),{data:p=[],isLoading:g}=Ae({queryKey:["admin-system-config"],queryFn:async()=>{const{data:w,error:P}=await L.from("system_config").select("*").order("category",{ascending:!0});if(P)throw P;return w}}),f=Ce({mutationFn:async({id:w,value:P})=>{const{error:k}=await L.from("system_config").update({config_value:P,updated_at:new Date().toISOString()}).eq("id",w);if(k)throw k},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-system-config"]}),t({title:e("admin.saveSuccess")}),s(!1)},onError:w=>t({title:e("admin.operationFailed"),description:w.message,variant:"destructive"})}),x=Ce({mutationFn:async w=>{h(w);const P=p.find(S=>S.id===w);if(!P)throw new Error("Config not found");let k;if(!P.config_value)k={status:"failed",message:"No value configured"};else switch(P.category){case"openai":k=P.config_key==="api_key"&&P.config_value.startsWith("sk-")?{status:"success",message:"API key format valid. Deploy edge function for full test."}:P.config_key==="api_key"?{status:"failed",message:"Invalid API key format. Should start with 'sk-'"}:{status:"success",message:"Configuration saved"};break;case"whatsapp":k=P.config_value.length>10?{status:"success",message:"Value configured. Deploy edge function for live test."}:{status:"failed",message:"Value too short"};break;case"meta_ads":k=P.config_value.length>5?{status:"success",message:"Value configured. Deploy edge function for live test."}:{status:"failed",message:"Value appears invalid"};break;default:k={status:"success",message:"Configuration saved"}}const{error:_}=await L.from("system_config").update({test_status:k.status,test_message:k.message,last_tested_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",w);if(_)throw _;return k},onSuccess:w=>{n.invalidateQueries({queryKey:["admin-system-config"]}),h(null),w.status==="success"?t({title:"Connection test passed"}):t({title:"Connection test failed",description:w.message,variant:"destructive"})},onError:w=>{h(null),t({title:e("admin.operationFailed"),description:w.message,variant:"destructive"})}}),b=Ce({mutationFn:async()=>{for(const w of p)await x.mutateAsync(w.id)}}),j=p.reduce((w,P)=>(w[P.category]||(w[P.category]=[]),w[P.category].push(P),w),{}),v={total:p.length,success:p.filter(w=>w.test_status==="success").length,failed:p.filter(w=>w.test_status==="failed").length,untested:p.filter(w=>w.test_status==="untested"||!w.test_status).length,configured:p.filter(w=>w.config_value).length},N=w=>{u(P=>({...P,[w]:!P[w]}))};return g?a.jsx(yt,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})})}):a.jsx(yt,{children:a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-serif text-primary",children:e("admin.systemHealthPage.title")}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("admin.systemHealthPage.subtitle")})]}),a.jsxs(C,{className:"gap-2 w-full sm:w-auto",onClick:()=>b.mutate(),disabled:b.isPending,children:[b.isPending?a.jsx(fe,{className:"w-4 h-4 animate-spin"}):a.jsx(Yo,{className:"w-4 h-4"}),e("admin.systemHealthPage.testAll")]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(qf,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("admin.systemHealthPage.totalConfigs")})]}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:v.total})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Le,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("admin.systemHealthPage.connected")})]}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-500",children:v.success})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(ms,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("admin.systemHealthPage.failed")})]}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-500",children:v.failed})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(ic,{className:"w-4 h-4 text-amber-500"}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("admin.systemHealthPage.untested")})]}),a.jsx("p",{className:"text-lg sm:text-2xl font-bold text-amber-500",children:v.untested})]})})]}),Object.entries(j).map(([w,P])=>{const k=b8e[w]||Ni;return a.jsxs(W,{children:[a.jsx($e,{className:"p-3 sm:p-4 pb-2",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-sm sm:text-base",children:[a.jsx(k,{className:"w-4 h-4 text-primary"}),w8e[w]||w,a.jsxs(te,{variant:"outline",className:"ml-auto text-[10px]",children:[P.filter(_=>_.config_value).length,"/",P.length," configured"]})]})}),a.jsx(ae,{className:"p-3 sm:p-4 pt-0 space-y-2",children:P.map(_=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 p-2.5 sm:p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium",children:_.description||_.config_key}),_.test_status==="success"&&a.jsx(Le,{className:"w-3.5 h-3.5 text-green-500 shrink-0"}),_.test_status==="failed"&&a.jsx(ms,{className:"w-3.5 h-3.5 text-red-500 shrink-0"}),(!_.test_status||_.test_status==="untested")&&a.jsx(ic,{className:"w-3.5 h-3.5 text-amber-400 shrink-0"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[_.config_value?a.jsx("span",{className:"text-[10px] sm:text-xs font-mono text-muted-foreground truncate max-w-[200px] sm:max-w-[300px]",children:_.is_secret&&!d[_.id]?"":_.config_value}):a.jsx("span",{className:"text-[10px] sm:text-xs text-amber-500 italic",children:"Not configured"}),_.is_secret&&_.config_value&&a.jsx(C,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>N(_.id),children:d[_.id]?a.jsx(Pte,{className:"w-3 h-3"}):a.jsx(xa,{className:"w-3 h-3"})})]}),_.test_message&&a.jsx("p",{className:`text-[9px] sm:text-[10px] mt-0.5 ${_.test_status==="failed"?"text-red-500":"text-green-600"}`,children:_.test_message}),_.last_tested_at&&a.jsxs("p",{className:"text-[9px] sm:text-[10px] text-muted-foreground",children:["Last tested: ",new Date(_.last_tested_at).toLocaleString()]})]}),a.jsxs("div",{className:"flex gap-1.5 shrink-0",children:[a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 px-2 text-xs gap-1",onClick:()=>{o(_),c(_.config_value||""),s(!0)},children:[a.jsx(vP,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:e("common.edit")})]}),a.jsxs(C,{variant:"outline",size:"sm",className:"h-7 sm:h-8 px-2 text-xs gap-1",onClick:()=>x.mutate(_.id),disabled:m===_.id,children:[m===_.id?a.jsx(fe,{className:"w-3 h-3 animate-spin"}):a.jsx(qte,{className:"w-3 h-3"}),a.jsx("span",{className:"hidden sm:inline",children:"Test"})]})]})]},_.id))})]},w)}),a.jsxs(W,{children:[a.jsx($e,{className:"p-3 sm:p-4 pb-2",children:a.jsxs(Ie,{className:"flex items-center gap-2 text-sm sm:text-base",children:[a.jsx(qf,{className:"w-4 h-4 text-primary"}),"Supabase Database",a.jsxs(te,{className:"ml-auto bg-green-100 text-green-700 text-[10px]",children:[a.jsx(Le,{className:"w-3 h-3 mr-1"}),"Connected"]})]})}),a.jsx(ae,{className:"p-3 sm:p-4 pt-0",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[a.jsx(Le,{className:"w-3.5 h-3.5 text-green-500"}),a.jsx("span",{children:"Database connection"})]}),a.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[a.jsx(Le,{className:"w-3.5 h-3.5 text-green-500"}),a.jsx("span",{children:"Auth service"})]}),a.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[a.jsx(Le,{className:"w-3.5 h-3.5 text-green-500"}),a.jsx("span",{children:"RLS policies active"})]}),a.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[a.jsx(MB,{className:"w-3.5 h-3.5 text-primary"}),a.jsx("span",{children:"Real-time subscriptions"})]})]})})]}),a.jsx(et,{open:r,onOpenChange:s,children:a.jsxs(Ye,{className:"max-w-md",children:[a.jsxs(Je,{children:[a.jsx(Qe,{className:"text-sm sm:text-base",children:(i==null?void 0:i.description)||(i==null?void 0:i.config_key)}),a.jsx(ht,{className:"text-xs",children:i==null?void 0:i.id})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ce,{type:i!=null&&i.is_secret?"password":"text",value:l,onChange:w=>c(w.target.value),placeholder:"Enter value..."}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Category: ",i==null?void 0:i.category," | Key: ",i==null?void 0:i.config_key,(i==null?void 0:i.is_secret)&&" | This value is stored securely"]})]}),a.jsxs(lt,{className:"flex-col sm:flex-row gap-2",children:[a.jsx(C,{variant:"outline",size:"sm",onClick:()=>s(!1),children:e("common.cancel")}),a.jsxs(C,{size:"sm",className:"gap-1",onClick:()=>i&&f.mutate({id:i.id,value:l}),disabled:f.isPending,children:[f.isPending?a.jsx(fe,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx(VB,{className:"w-3.5 h-3.5"}),e("common.save")]})]})]})})]})})}const N8e={withdrawal_request:bs,new_order:Wr,order_status:Wr,shipping_update:hs,new_partner:Tt,escalation:ic,system:Ni},k8e={withdrawal_request:"text-orange-500 bg-orange-500/10",new_order:"text-blue-500 bg-blue-500/10",order_status:"text-blue-500 bg-blue-500/10",shipping_update:"text-green-500 bg-green-500/10",new_partner:"text-purple-500 bg-purple-500/10",escalation:"text-red-500 bg-red-500/10",system:"text-gray-500 bg-gray-500/10"};function P8e(){var f;const{t:e}=ft(),{toast:t}=Jt(),[n,r]=y.useState("all"),{data:s=[],isLoading:i}=Ae({queryKey:["admin-notifications",n],queryFn:async()=>{let x=L.from("admin_notifications").select("*").order("created_at",{ascending:!1}).limit(100);n==="withdrawal"?x=x.eq("type","withdrawal_request"):n==="order"?x=x.in("type",["new_order","order_status"]):n==="shipping"?x=x.eq("type","shipping_update"):n==="partner"&&(x=x.eq("type","new_partner"));const{data:b,error:j}=await x;return j?(console.error("Error fetching notifications:",j),[]):b||[]}}),o=s.filter(x=>!x.is_read).length,l=s.filter(x=>{const b=new Date(x.created_at),j=new Date;return b.toDateString()===j.toDateString()}).length,c=s.filter(x=>{const b=new Date(x.created_at),j=new Date;return j.setDate(j.getDate()-7),b>=j}).length,d=Ce({mutationFn:async x=>{const{error:b}=await L.from("admin_notifications").update({is_read:!0}).eq("id",x);if(b)throw b},onSuccess:()=>on.invalidateQueries({queryKey:["admin-notifications"]})}),u=Ce({mutationFn:async()=>{const{error:x}=await L.from("admin_notifications").update({is_read:!0}).eq("is_read",!1);if(x)throw x},onSuccess:()=>{on.invalidateQueries({queryKey:["admin-notifications"]}),on.invalidateQueries({queryKey:["admin-notifications-count"]})}}),m=Ce({mutationFn:async x=>{const{error:b}=await L.functions.invoke("admin-notify-whatsapp",{body:{notification_id:x}});if(b)throw b},onSuccess:()=>{on.invalidateQueries({queryKey:["admin-notifications"]}),t({title:e("admin.notificationsPage.pushSuccess")})},onError:x=>{t({title:e("admin.notificationsPage.pushFailed"),description:x.message,variant:"destructive"})}}),h=x=>({withdrawal_request:e("admin.notificationsPage.typeWithdrawal"),new_order:e("admin.notificationsPage.typeNewOrder"),order_status:e("admin.notificationsPage.typeOrderStatus"),shipping_update:e("admin.notificationsPage.typeShipping"),new_partner:e("admin.notificationsPage.typeNewPartner"),escalation:e("admin.notificationsPage.typeEscalation"),system:e("admin.notificationsPage.typeSystem")})[x]||x,p=x=>{if(!x)return"-";const b=new Date(x),v=new Date().getTime()-b.getTime(),N=Math.floor(v/6e4);if(N<1)return"";if(N<60)return`${N}`;const w=Math.floor(N/60);return w<24?`${w}`:b.toLocaleDateString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},g=[{key:"all",label:e("admin.notificationsPage.all")},{key:"withdrawal",label:e("admin.notificationsPage.withdrawal")},{key:"order",label:e("admin.notificationsPage.order")},{key:"shipping",label:e("admin.notificationsPage.shipping")},{key:"partner",label:e("admin.notificationsPage.partner")}];return a.jsx(yt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-serif text-primary",children:e("admin.notificationsPage.title")}),a.jsx("p",{className:"text-muted-foreground",children:e("admin.notificationsPage.subtitle")})]}),a.jsxs(C,{variant:"outline",onClick:()=>u.mutate(),disabled:u.isPending||o===0,children:[u.isPending&&a.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}),a.jsx(Le,{className:"w-4 h-4 mr-2"}),e("admin.notificationsPage.markAllRead")]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500/10 flex items-center justify-center",children:a.jsx(Fr,{className:"w-5 h-5 text-red-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:o}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.notificationsPage.unread")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center",children:a.jsx(Fr,{className:"w-5 h-5 text-blue-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:l}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.notificationsPage.today")})]})]})}),a.jsx(W,{children:a.jsxs(ae,{className:"p-4 flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center",children:a.jsx(Fr,{className:"w-5 h-5 text-green-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:c}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.notificationsPage.thisWeek")})]})]})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(x=>a.jsx(C,{variant:n===x.key?"default":"outline",size:"sm",onClick:()=>r(x.key),children:x.label},x.key))}),a.jsxs(W,{children:[a.jsx($e,{children:a.jsxs(Ie,{className:"flex items-center gap-2",children:[a.jsx(QC,{className:"w-5 h-5 text-primary"}),((f=g.find(x=>x.key===n))==null?void 0:f.label)||e("admin.notificationsPage.all")]})}),a.jsx(ae,{children:i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):s.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(yte,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:e("admin.notificationsPage.noNotifications")})]}):a.jsx("div",{className:"divide-y",children:s.map(x=>{const b=N8e[x.type]||Fr,j=k8e[x.type]||"text-gray-500 bg-gray-500/10";return a.jsxs("div",{className:`flex items-start gap-4 py-4 ${x.is_read?"":"bg-primary/5 -mx-4 px-4 rounded-lg"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${j}`,children:a.jsx(b,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`font-medium ${x.is_read?"text-muted-foreground":"text-foreground"}`,children:x.title}),a.jsx(te,{variant:"outline",className:"text-xs",children:h(x.type)}),!x.is_read&&a.jsx(te,{className:"bg-red-500 text-white text-xs",children:"NEW"}),x.sent_to_whatsapp&&a.jsxs(te,{variant:"outline",className:"text-xs text-green-500 border-green-500/30",children:[a.jsx(Ro,{className:"w-3 h-3 mr-1"}),e("admin.notificationsPage.sent")]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 truncate",children:x.content}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p(x.created_at)})]}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!x.is_read&&a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d.mutate(x.id),disabled:d.isPending,title:e("admin.notificationsPage.markRead"),children:a.jsx(xa,{className:"w-4 h-4"})}),!x.sent_to_whatsapp&&a.jsx(C,{variant:"ghost",size:"icon",className:"h-8 w-8 text-green-500",onClick:()=>m.mutate(x.id),disabled:m.isPending,title:e("admin.notificationsPage.pushWhatsapp"),children:a.jsx(Ro,{className:"w-4 h-4"})})]})]},x.id)})})})]})]})})}function _8e(){const[e]=Or();return y.useEffect(()=>{window.scrollTo(0,0)},[e]),null}function S8e(){return a.jsxs(a.Fragment,{children:[a.jsx(_8e,{}),a.jsxs(lQ,{children:[a.jsx(dt,{path:"/",component:Cpe}),a.jsx(dt,{path:"/brand",component:Tpe}),a.jsx(dt,{path:"/products",component:Rpe}),a.jsx(dt,{path:"/order-tracking",component:Ipe}),a.jsx(dt,{path:"/christmas",component:Bpe}),a.jsx(dt,{path:"/partner/join",component:Tfe}),a.jsx(dt,{path:"/partner",component:Pfe}),a.jsx(dt,{path:"/checkout/success",component:Efe}),a.jsx(dt,{path:"/auth/login",component:ale}),a.jsx(dt,{path:"/auth/callback",component:nle}),a.jsx(dt,{path:"/member",children:a.jsx(Js,{children:a.jsx($fe,{})})}),a.jsx(dt,{path:"/member/settings",children:a.jsx(Js,{children:a.jsx(Kfe,{})})}),a.jsx(dt,{path:"/member/notifications",children:a.jsx(Js,{children:a.jsx(Gfe,{})})}),a.jsx(dt,{path:"/member/help",children:a.jsx(Js,{children:a.jsx(Jfe,{})})}),a.jsx(dt,{path:"/member/orders",children:a.jsx(Js,{children:a.jsx(Zfe,{})})}),a.jsx(dt,{path:"/member/addresses",children:a.jsx(Js,{children:a.jsx(ege,{})})}),a.jsx(dt,{path:"/member/points",children:a.jsx(Js,{children:a.jsx(lge,{})})}),a.jsx(dt,{path:"/member/payment",children:a.jsx(Js,{children:a.jsx(vge,{})})}),a.jsx(dt,{path:"/member/referrals",children:a.jsx(Js,{children:a.jsx(Nge,{})})}),a.jsx(dt,{path:"/member/materials",children:a.jsx(Js,{children:a.jsx(Cge,{})})}),a.jsx(dt,{path:"/member/partner-join",children:a.jsx(Js,{children:a.jsx(Pge,{})})}),a.jsx(dt,{path:"/member/partner",children:a.jsx(uu,{children:a.jsx(kR,{})})}),a.jsx(dt,{path:"/member/partner/ly-points",children:a.jsx(uu,{children:a.jsx(Age,{})})}),a.jsx(dt,{path:"/member/partner/wallet",children:a.jsx(uu,{children:a.jsx(Tge,{})})}),a.jsx(dt,{path:"/member/partner/rwa",children:a.jsx(uu,{children:a.jsx(Ege,{})})}),a.jsx(dt,{path:"/member/partner/earnings",children:a.jsx(uu,{children:a.jsx(Oge,{})})}),a.jsx(dt,{path:"/partner/dashboard",children:a.jsx(uu,{children:a.jsx(kR,{})})}),a.jsx(dt,{path:"/admin",children:a.jsx(na,{children:a.jsx($ge,{})})}),a.jsx(dt,{path:"/admin/partners",children:a.jsx(na,{children:a.jsx(Fge,{})})}),a.jsx(dt,{path:"/admin/orders",children:a.jsx(na,{children:a.jsx(axe,{})})}),a.jsx(dt,{path:"/admin/order-supplement",children:a.jsx(na,{children:a.jsx(nxe,{})})}),a.jsx(dt,{path:"/admin/products",children:a.jsx(na,{children:a.jsx(Bye,{})})}),a.jsx(dt,{path:"/admin/members",children:a.jsx(na,{children:a.jsx(Uye,{})})}),a.jsx(dt,{path:"/admin/bonus-pool",children:a.jsx(na,{children:a.jsx(qye,{})})}),a.jsx(dt,{path:"/admin/inventory",children:a.jsx(na,{children:a.jsx(Kye,{})})}),a.jsx(dt,{path:"/admin/production",children:a.jsx(na,{children:a.jsx(Zye,{})})}),a.jsx(dt,{path:"/admin/purchase",children:a.jsx(na,{children:a.jsx(Hye,{})})}),a.jsx(dt,{path:"/admin/logistics",children:a.jsx(na,{children:a.jsx(Gye,{})})}),a.jsx(dt,{path:"/admin/bills",children:a.jsx(na,{children:a.jsx(Jye,{})})}),a.jsx(dt,{path:"/admin/finance",children:a.jsx(na,{children:a.jsx(Qye,{})})}),a.jsx(dt,{path:"/admin/withdrawals",children:a.jsx(na,{children:a.jsx(eve,{})})}),a.jsx(dt,{path:"/admin/site-settings",children:a.jsx(na,{children:a.jsx(tve,{})})}),a.jsx(dt,{path:"/admin/marketing/content",children:a.jsx(na,{children:a.jsx(h8e,{})})}),a.jsx(dt,{path:"/admin/marketing/ads",children:a.jsx(na,{children:a.jsx(ave,{})})}),a.jsx(dt,{path:"/admin/marketing/xiaohongshu",children:a.jsx(na,{children:a.jsx(nve,{})})}),a.jsx(dt,{path:"/admin/marketing/media-plan",children:a.jsx(na,{children:a.jsx(ive,{})})}),a.jsx(dt,{path:"/admin/marketing/reports",children:a.jsx(na,{children:a.jsx(B6e,{})})}),a.jsx(dt,{path:"/admin/whatsapp/config",children:a.jsx(na,{children:a.jsx(q6e,{})})}),a.jsx(dt,{path:"/admin/whatsapp/orders",children:a.jsx(na,{children:a.jsx(V6e,{})})}),a.jsx(dt,{path:"/admin/whatsapp/members",children:a.jsx(na,{children:a.jsx(K6e,{})})}),a.jsx(dt,{path:"/admin/whatsapp/chat",children:a.jsx(na,{children:a.jsx(l8e,{})})}),a.jsx(dt,{path:"/admin/ai-analytics",children:a.jsx(na,{children:a.jsx(c8e,{})})}),a.jsx(dt,{path:"/admin/whatsapp/admins",children:a.jsx(na,{children:a.jsx(p8e,{})})}),a.jsx(dt,{path:"/admin/whatsapp/flows",children:a.jsx(na,{children:a.jsx(f8e,{})})}),a.jsx(dt,{path:"/admin/ai/memory",children:a.jsx(na,{children:a.jsx(y8e,{})})}),a.jsx(dt,{path:"/admin/ai/knowledge",children:a.jsx(na,{children:a.jsx(v8e,{})})}),a.jsx(dt,{path:"/admin/system-health",children:a.jsx(na,{children:a.jsx(j8e,{})})}),a.jsx(dt,{path:"/admin/notifications",children:a.jsx(na,{children:a.jsx(P8e,{})})}),a.jsx(dt,{component:Zoe})]})]})}function C8e({children:e}){const t=la(r=>r.loading),n=la(r=>r.user);return y.useEffect(()=>{Cse()},[]),t&&!n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsx(fe,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsx(a.Fragment,{children:e})}function A8e(){return a.jsx(Tse,{children:a.jsx(CQ,{client:on,children:a.jsx(vse,{children:a.jsxs(Yne,{children:[a.jsx(kae,{}),a.jsxs(C8e,{children:[a.jsx(S8e,{}),a.jsx(Xoe,{})]})]})})})})}vF(document.getElementById("root")).render(a.jsx(A8e,{}));
